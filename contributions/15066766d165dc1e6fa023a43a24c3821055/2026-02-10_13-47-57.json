{
  "id": 1506,
  "activeVersion": 15,
  "score": 46,
  "votableId": 8579979,
  "codingamerId": 218189,
  "views": 1103,
  "commentableId": 8515834,
  "title": "11-puzzle",
  "status": "ACCEPTED",
  "type": "PUZZLE_SOLO",
  "nickname": "[CG]Maxime",
  "publicHandle": "15066766d165dc1e6fa023a43a24c3821055",
  "codingamerHandle": "a858cb9483b31957524b33a65ae29846981812",
  "lastVersion": {
    "version": 15,
    "autocloseTime": 1556100219775,
    "data": {
      "title": "11-puzzle",
      "topics": [
        {
          "id": 68,
          "handle": "pathfinding",
          "labelMap": {
            "1": "Recherche de chemins",
            "2": "Pathfinding"
          },
          "pageTitle": "Pathfinding: exercises and theory",
          "puzzleCount": 17,
          "parentTopicId": 41,
          "contentDetailsId": 69
        },
        {
          "labelMap": {
            "2": "A*"
          }
        }
      ],
      "difficulty": "hard",
      "refereeMd5": "218189/cea9f66f9d082fb3bb77e831744a0606",
      "testHandle": "659109f6c6030c48410c7a658f205ad69f9f1b",
      "viewerCode": "var Drawer=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";n.r(t);var r={baseUrl:\"https://cdn-games.codingame.com/community/218189-1533899548280/\",images:{\"Codebusters.jpg\":\"a3cb4277957eb580b228d8e3ff420c6d00fb5ab6660ce115f35842e203147264.jpg\",\"Background.jpg\":\"c54eabf9d0b0999f1d8c7b5f79a505fb5a7a7b8010a080bdcb6952de14570712.jpg\",\"CSB.jpg\":\"25680a02b11880405cf2afe910d1f52ca5ad54cc20c3b4a3b861271d76f19a0f.jpg\",\"TGE.jpg\":\"184586a07367001de538315a3ce35c76283448a159d9dc7089a6fe9b20a1f83b.jpg\",\"mask.png\":\"fda4e8310a35148dd94c0d86d5b03eb32642ff83efead347f9e3f149a3ad32ed.png\"},sprites:[],fonts:[]};function i(e,t,n){return e<=t?e+(t-e)*n:t+(e-t)*(1-n)}function o(e,t,n){return(n-e)/(t-e)}function a(e,t,n){return Math.min(1,Math.max(0,o(e,t,n)))}function u(e,t,n,r,i){return i=i||0,Math.min(n/(e+i),r/(t+i))}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e,t,n){return n<1?e:t},f={type:Number,lerpMethod:function(e,t,n){if(null===t)return null;var r={r:(16711680&e)>>16,g:(65280&e)>>8,b:255&e},o={r:(16711680&t)>>16,g:(65280&t)>>8,b:255&t};return i(r.r,o.r,n)<<16|i(r.g,o.g,n)<<8|i(r.b,o.b,n)},convert:function(e,t){return e<0?t.players[-(e+1)].color:e}},h={type:String,lerpMethod:c,convert:function(e){return g(e)}},p={type:Number,lerpMethod:function(e,t,n,r){for(;t>e+Math.PI;)t-=2*Math.PI;for(;t<e-Math.PI;)t+=2*Math.PI;return(void 0!==r&&Math.abs(t-e)>r?t:e+(t-e)*n)%(2*Math.PI)},convert:function(e){return e*Math.PI/180}},y={type:Number,lerpMethod:c},d={type:function(e){return\"1\"===e},lerpMethod:c},b={type:Number,lerpMethod:function(e,t,n){return t<e?t:i(e,t,n)}},m={default:{type:Number,lerpMethod:i},visible:d,rotation:p,fillColor:f,lineColor:f,strokeColor:f,tint:f,animationProgressTime:b,mask:y,baseWidth:y,baseHeight:y,image:h,images:h,restarted:{type:String,convert:function(e,t,n,r){return e?{date:n.date+r*n.frameDuration}:null},lerpMethod:c},playing:d,duration:y,blendMode:y,loop:d,text:l({},h,{convert:function(e,t){e=g(e);for(var n=/\\$(\\d)/g,r=n.exec(e),i=\"\",o=0;r;)i+=e.substring(o,r.index),i+=t.players[+r[1]].name,o=r.index+r[0].length,r=n.exec(e);return i+e.substring(o)}}),fontFamily:h,fontWeight:h,children:l({},h,{convert:function(e){return e?e.split(\",\").map(function(e){return+e}):[]}}),points:l({},h,{convert:function(e){return e?e.split(\",\").map(function(e){return parseInt(e)}):[]},lerpMethod:function(e,t,n){return e.length===t.length?e.map(function(e,r){return i(e,t[r],n)}):c(e,t,n)}})};function g(e){var t=e.split(\"\\\\'\").join(\"'\");return t.includes(\" \")?t.slice(1,t.length-1):t}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=[],O=[],S=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}return function(e,t,n){n&&v(e,n)}(e,0,[{key:\"listen\",value:function(e){if(\"function\"!=typeof e)throw new TypeError(e+\" is not a function\");O.push(e)}},{key:\"push\",value:function(e){w.push(e),O.forEach(function(t){return t(e)})}}]),e}();function P(e){return(P=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var j=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this),this.defaultState={x:0,y:0,scaleX:1,scaleY:1,zIndex:0,alpha:1,visible:!1,rotation:0,mask:-1},this.states={}}return t=e,n=[{key:\"init\",value:function(){this.properties=Object.keys(this.defaultState),this.initDisplay(),this.currentState=Object.assign({},this.defaultState),\"object\"===P(this.graphics)&&this.container.addChild(this.graphics)}},{key:\"setHidden\",value:function(e){this.hide=e,this.container.visible=this.currentState.visible&&!this.hide}},{key:\"addState\",value:function(t,n,r){this.states[r]||(this.states[r]=[]);var i=e.createState(t,n.values,n.curve),o=this.states[r].find(function(e){return e.t===t});o&&0===Object.keys(i.curve).length&&(i.curve=o.curve),o?(E(i)||E(o)||S.push(new Error(\"Different updates for same t \"+t)),Object.assign(o,i)):this.states[r].push(i)}},{key:\"set\",value:function(e,t,n){this.addState(e,t,n)}},{key:\"render\",value:function(e,t,n){var r=this.states[t.number];if(this.container.visible=!1,r&&r.length){for(var i=0;i<r.length-1&&r[i].t<e;)i++;var o,u=r[i-1],l=r[i];if(u)o=a(u.t,l.t,e);else{var s=this.states[t.previous.number]||[];o=!(u=s[s.length-1])&&e>=l.t?(u=l,1):a(0,l.t,e)}if(u){var c={},f=Object.assign({},this.currentState),h=!0,p=!1,y=void 0;try{for(var d,b=this.properties[Symbol.iterator]();!(h=(d=b.next()).done);h=!0){var g=d.value,v=(m[g]||m.default).lerpMethod,w=l.curve[g]||function(e){return e},O=v(u[g],l[g],w(o));O!==this.currentState[g]&&(c[g]=!0,f[g]=O)}}catch(e){p=!0,y=e}finally{try{h||null==b.return||b.return()}finally{if(p)throw y}}this.updateDisplay(f,c,n,t,e),Object.assign(this.currentState,f),this.container.visible=this.container._visible,c.children&&(n.mustResetTree=!0,\"function\"==typeof this.postUpdate&&n.updatedBuffers.push(this)),c.zIndex&&(n.mustResort=!0),c.mask&&(n.maskUpdates[this.id]=f.mask),0!==Object.keys(c).length&&this.parent&&this.parent.notifyChange()}}else Object.assign(this.currentState,this.defaultState)}},{key:\"notifyChange\",value:function(){this.parent&&this.parent.notifyChange()}},{key:\"initDisplay\",value:function(){this.container=new PIXI.Container,this.container.zIndex=this.defaultState.zIndex,this.container.id=this.id,this.container._visible=this.defaultState.visible}},{key:\"updateDisplay\",value:function(e,t,n){this.container.zIndex=e.zIndex,this.container.alpha=e.alpha,this.container.position.set(e.x*n.toWorldUnits,e.y*n.toWorldUnits),this.container.scale.set(e.scaleX||1e-8,e.scaleY||1e-8),this.container.rotation=e.rotation,this.container._visible=e.visible&&!this.hide}}],r=[{key:\"createState\",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r,i,o;r=e,o=n[i=t],i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})}return e}({t:0<arguments.length&&void 0!==arguments[0]?arguments[0]:1},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{curve:2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}})}}],n&&k(t.prototype,n),r&&k(t,r),e;var t,n,r}();function E(e){return Object.keys(e).length===Object.keys(j.createState()).length}function _(e){return(_=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function x(e,t,n){return(x=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),e}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),e=function(e,t){return!t||\"object\"!==_(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,R(t).call(this)),Object.assign(e.defaultState,{fillColor:t.defaultFillColor(),lineWidth:t.defaultLineWidth(),lineColor:t.defaultLineColor(),fillAlpha:t.defaultFillAlpha(),lineAlpha:t.defaultLineAlpha(),blendMode:PIXI.BLEND_MODES.NORMAL}),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,j),I(t,null,[{key:\"defaultLineWidth\",value:function(){return 0}},{key:\"defaultFillColor\",value:function(){return 16777215}},{key:\"defaultLineColor\",value:function(){return 0}},{key:\"defaultLineAlpha\",value:function(){return 1}},{key:\"defaultFillAlpha\",value:function(){return 1}}]),I(t,[{key:\"initDisplay\",value:function(){x(R(t.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Graphics,this.graphics.lineStyle(this.defaultState.lineWidth,this.defaultState.lineColor,this.defaultState.lineAlpha),null!==this.defaultState.fillColor&&this.graphics.beginFill(this.defaultState.fillColor,this.defaultState.fillAlpha)}},{key:\"updateDisplay\",value:function(e,n,r){x(R(t.prototype),\"updateDisplay\",this).call(this,e,n,r),this.graphics.blendMode=e.blendMode}}]),t}();function C(e){return(C=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function M(e,t,n){return(M=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=W(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),e}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Y=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),(e=function(e,t){return!t||\"object\"!==C(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,W(t).call(this))).defaultState.radius=t.defaultRadius(),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,F),U(t,null,[{key:\"defaultRadius\",value:function(){return 100}}]),U(t,[{key:\"initDisplay\",value:function(){M(W(t.prototype),\"initDisplay\",this).call(this),this.graphics.drawCircle(0,0,this.defaultState.radius),null!==this.defaultState.fillColor&&this.graphics.endFill()}},{key:\"updateDisplay\",value:function(e,n,r){M(W(t.prototype),\"updateDisplay\",this).call(this,e,n,r),(n.radius||n.lineColor||n.lineWidth||n.fillColor||n.fillAlpha||n.lineAlpha)&&(this.graphics.clear(),null!==e.fillColor&&this.graphics.beginFill(e.fillColor,e.fillAlpha),this.graphics.lineStyle(r.atLeastOnePixel(e.lineWidth),e.lineColor),this.graphics.drawCircle(0,0,e.radius*r.toWorldUnits),null!==e.fillColor&&this.graphics.endFill())}}]),t}();function L(e){return(L=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function K(e,t,n){return(K=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=H(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){return t&&G(e.prototype,t),n&&G(e,n),e}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),(e=function(e,t){return!t||\"object\"!==L(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,H(t).call(this))).defaultState.x2=t.defaultPosition(),e.defaultState.y2=t.defaultPosition(),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,F),B(t,null,[{key:\"defaultPosition\",value:function(){return 100}}]),B(t,[{key:\"initDisplay\",value:function(){K(H(t.prototype),\"initDisplay\",this).call(this)}},{key:\"updateDisplay\",value:function(e,n,r){K(H(t.prototype),\"updateDisplay\",this).call(this,e,n,r),(n.lineWidth||n.lineColor||n.lineAlpha||n.x2||n.y2)&&(this.graphics.clear(),this.graphics.lineStyle(r.atLeastOnePixel(e.lineWidth),e.lineColor,e.lineAlpha),this.graphics.moveTo(0,0),this.graphics.lineTo(-this.container.x+e.x2*r.toWorldUnits,-this.container.y+e.y2*r.toWorldUnits))}}]),t}();function q(e){return(q=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function V(e,t,n){return(V=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=J(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t,n){return t&&Q(e.prototype,t),n&&Q(e,n),e}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var te=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),e=function(e,t){return!t||\"object\"!==q(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,J(t).call(this)),Object.assign(e.defaultState,{width:t.defaultSideLength(),height:t.defaultSideLength()}),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(t,F),Z(t,null,[{key:\"defaultSideLength\",value:function(){return 100}}]),Z(t,[{key:\"initDisplay\",value:function(){V(J(t.prototype),\"initDisplay\",this).call(this),this.graphics.drawRect(0,0,this.defaultState.width,this.defaultState.height),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(e,n,r){V(J(t.prototype),\"updateDisplay\",this).call(this,e,n,r),(n.lineWidth||n.lineColor||n.width||n.height||n.lineAlpha||n.fillColor)&&(this.graphics.clear(),null!==e.fillColor&&this.graphics.beginFill(e.fillColor,e.fillAlpha),this.graphics.lineStyle(r.atLeastOnePixel(e.lineWidth),e.lineColor,e.lineAlpha),this.graphics.drawRect(0,0,e.width*r.toWorldUnits,e.height*r.toWorldUnits),null!==e.fillColor&&this.graphics.endFill())}}]),t}();function ne(e){return(ne=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function re(e,t,n){return(re=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ie(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t,n){return t&&oe(e.prototype,t),n&&oe(e,n),e}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var le=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),e=function(e,t){return!t||\"object\"!==ne(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,ie(t).call(this)),Object.assign(e.defaultState,{anchorX:t.defaultAnchor(),anchorY:t.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215}),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,j),ae(t,null,[{key:\"defaultAnchor\",value:function(){return 0}}]),ae(t,[{key:\"initDisplay\",value:function(){re(ie(t.prototype),\"initDisplay\",this).call(this)}},{key:\"updateDisplay\",value:function(e,n,r){re(ie(t.prototype),\"updateDisplay\",this).call(this,e,n,r),this.graphics.anchor.set(e.anchorX,e.anchorY),this.graphics.blendMode=e.blendMode,this.graphics.tint=e.tint}}]),t}();function se(e){return(se=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function ce(e){var t=\"function\"==typeof Map?new Map:void 0;return(ce=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf(\"[native code]\")}(e))return e;if(\"function\"!=typeof e)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){return(function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&fe(i,n.prototype),i}).apply(null,arguments)}(e,arguments,he(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),fe(n,e)})(e)}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pe=function(e){function t(e,n){var r;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),(r=function(e,t){return!t||\"object\"!==se(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,he(t).call(this,'Could not find image: \"'+e+'\". Make sure it is in your assets folder and is spelled correctly.'))).image=e,r.cause=n,r.name=\"MissingImageError\",r}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(t,ce(Error)),t}();function ye(e){return(ye=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t,n){return(be=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=me(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ve=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),e=function(e,t){return!t||\"object\"!==ye(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,me(t).call(this)),Object.assign(e.defaultState,{image:null,baseWidth:null,baseHeight:null}),e.missingTextures={},e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(t,le),function(e,t,n){t&&de(e.prototype,t)}(t,[{key:\"initDisplay\",value:function(){be(me(t.prototype),\"initDisplay\",this).call(this),null===this.defaultState.image?this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY):this.graphics=PIXI.Sprite.fromFrame(this.defaultState.image)}},{key:\"updateDisplay\",value:function(e,n,r){if(be(me(t.prototype),\"updateDisplay\",this).call(this,e,n,r),n.image)try{null!==e.image?this.graphics.texture=PIXI.Texture.fromFrame(e.image):this.graphics.texture=PIXI.Texture.EMPTY}catch(n){this.missingTextures[e.image]||(this.missingTextures[e.image]=!0,S.push(new pe(e.image,n)))}n.baseWidth&&(this.graphics.width=e.baseWidth),n.baseHeight&&(this.graphics.height=e.baseHeight)}}]),t}();function we(e){return(we=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t,n){return(Se=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Pe(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var je=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),e=function(e,t){return!t||\"object\"!==we(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,Pe(t).call(this)),Object.assign(e.defaultState,{text:\"\",strokeColor:0,strokeThickness:0,fillColor:0,fontSize:26,fontFamily:\"Lato\",fontWeight:\"normal\"}),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(t,le),function(e,t,n){t&&Oe(e.prototype,t)}(t,[{key:\"initDisplay\",value:function(){Se(Pe(t.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Text(this.defaultState.text,{fontSize:this.defaultState.fontSize+\"px\",fontFamily:this.defaultState.fontFamily,fill:this.defaultState.fillColor})}},{key:\"updateDisplay\",value:function(e,n,r){Se(Pe(t.prototype),\"updateDisplay\",this).call(this,e,n,r),this.graphics.text=e.text,this.graphics.style.stroke=e.strokeColor,this.graphics.style.strokeThickness=r.atLeastOnePixel(e.strokeThickness),this.graphics.style.fill=e.fillColor,this.graphics.style.fontSize=e.fontSize||1,this.graphics.style.fontFamily=e.fontFamily,this.graphics.style.fontWeight=e.fontWeight}}]),t}();function Ee(e){return(Ee=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function _e(e){var t=\"function\"==typeof Map?new Map:void 0;return(_e=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf(\"[native code]\")}(e))return e;if(\"function\"!=typeof e)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){return(function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&xe(i,n.prototype),i}).apply(null,arguments)}(e,arguments,Re(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),xe(n,e)})(e)}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Te=function(e){function t(e,n){var r;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),(r=function(e,t){return!t||\"object\"!==Ee(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,Re(t).call(this,'Could not find font: \"'+e+'\". Make sure it is in your assets folder and is spelled correctly.'))).font=e,r.cause=n,r.name=\"MissingBitmapFontError\",r}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(t,_e(Error)),t}();function Ie(e){return(Ie=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t,n){return(Fe=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ce(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var We=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),e=function(e,t){return!t||\"object\"!==Ie(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,Ce(t).call(this)),Object.assign(e.defaultState,{text:\"\",fontSize:26,fontFamily:null,anchorX:le.defaultAnchor(),anchorY:le.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215}),e.missingFonts={},e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(t,j),function(e,t,n){t&&De(e.prototype,t)}(t,[{key:\"initDisplay\",value:function(){Fe(Ce(t.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(e,n,r){Fe(Ce(t.prototype),\"updateDisplay\",this).call(this,e,n,r),null!==e.fontFamily?PIXI.extras.BitmapText.fonts[e.fontFamily]?(0===this.graphics.children.length?(this.displayed=new PIXI.BitmapText(e.text,{font:{size:e.fontSize||1,name:e.fontFamily}}),this.graphics.addChild(this.displayed)):(this.displayed.text=e.text,this.displayed.font={size:e.fontSize||1,name:e.fontFamily}),this.displayed.anchor.set(e.anchorX,e.anchorY),this.displayed.blendMode=e.blendMode,this.displayed.tint=e.tint):(this.missingFonts[e.fontFamily]||(this.missingFonts[e.fontFamily]=!0,S.push(new Te(e.fontFamily))),this.graphics.removeChildren()):this.graphics.removeChildren()}}]),t}();function Ae(e){return(Ae=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t,n){return(Xe=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ye(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ke=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),e=function(e,t){return!t||\"object\"!==Ae(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,Ye(t).call(this)),Object.assign(e.defaultState,{children:[]}),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(t,j),function(e,t,n){t&&Ue(e.prototype,t)}(t,[{key:\"initDisplay\",value:function(){Xe(Ye(t.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(e,n,r){Xe(Ye(t.prototype),\"updateDisplay\",this).call(this,e,n,r)}},{key:\"childrenContainer\",get:function(){return this.graphics}}]),t}();function $e(e){return($e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Be=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){return!t||\"object\"!==$e(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,He(t).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(t,Ke),t}(),ze=null,Ne=[];function qe(e){Ne.push(e)}function Ve(e){return(Ve=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t,n){return(Qe=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ze(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){return!t||\"object\"!==Ve(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,Ze(t).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(t,Ke),function(e,t,n){t&&Je(e.prototype,t)}(t,[{key:\"initDisplay\",value:function(){Qe(Ze(t.prototype),\"initDisplay\",this).call(this),this.gameTexture=PIXI.RenderTexture.create(1920,1080),qe(this.gameTexture),this.graphics=new PIXI.Sprite(this.gameTexture),this.buffer=new PIXI.Container,this.needsRender=!0}},{key:\"postUpdate\",value:function(){this.needsRender&&(ze.render(this.buffer,this.gameTexture),this.needsRender=!1)}},{key:\"notifyChange\",value:function(){this.needsRender=!0,this.parent&&this.parent.notifyChange()}},{key:\"childrenContainer\",get:function(){return this.buffer}}]),t}();function nt(e){return(nt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t,n){return(it=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ot(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ut=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),e=function(e,t){return!t||\"object\"!==nt(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,ot(t).call(this)),Object.assign(e.defaultState,{images:\"\",loop:!1,duration:1e3,playing:!0,restarted:null,animationProgressTime:0,date:0}),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}(t,le),function(e,t,n){t&&rt(e.prototype,t)}(t,[{key:\"initDisplay\",value:function(){it(ot(t.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY)}},{key:\"addState\",value:function(e,n,r,i){it(ot(t.prototype),\"addState\",this).call(this,e,n,r);var o=this.states[r].find(function(t){return t.t===e}),a=i.date+i.frameDuration*e;o.date=a}},{key:\"updateDisplay\",value:function(e,n,r,i,u){if(it(ot(t.prototype),\"updateDisplay\",this).call(this,e,n,r),e.images){var l=e.duration,s=e.images.split(\",\"),c=(e.loop?o:a)(0,l,e.animationProgressTime);if(0<=c){var f=Math.floor(s.length*c),h=e.loop?s[f%s.length]:s[f]||s[s.length-1];try{this.graphics.texture=PIXI.Texture.fromFrame(h)}catch(e){S.push(new pe(h,e))}}}else this.graphics.texture=PIXI.Texture.EMPTY}},{key:\"computeAnimationProgressTime\",value:function(e,t){t.restarted&&t.restarted.date===t.date?t.animationProgressTime=0:(t.animationProgressTime=e.animationProgressTime,e.playing&&(t.animationProgressTime+=t.date-e.date))}}]),t}();function lt(e){return(lt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function st(e,t,n){return(st=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ct(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t,n){return t&&ft(e.prototype,t),n&&ft(e,n),e}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yt=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),e=function(e,t){return!t||\"object\"!==lt(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,ct(t).call(this)),Object.assign(e.defaultState,{width:t.defaultSideLength(),height:t.defaultSideLength(),radius:t.defaultRadius()}),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(t,F),ht(t,null,[{key:\"defaultSideLength\",value:function(){return 100}},{key:\"defaultRadius\",value:function(){return 20}}]),ht(t,[{key:\"initDisplay\",value:function(){st(ct(t.prototype),\"initDisplay\",this).call(this),this.graphics.drawRoundedRect(0,0,this.defaultState.width,this.defaultState.height,this.defaultState.radius),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(e,n,r){st(ct(t.prototype),\"updateDisplay\",this).call(this,e,n,r),(n.lineWidth||n.lineColor||n.lineAlpha||n.fillColor||n.radius||n.height||n.width)&&(this.graphics.clear(),null!==e.fillColor&&this.graphics.beginFill(e.fillColor,e.fillAlpha),this.graphics.lineStyle(r.atLeastOnePixel(e.lineWidth),e.lineColor,e.lineAlpha),this.graphics.drawRoundedRect(0,0,e.width*r.toWorldUnits,e.height*r.toWorldUnits,e.radius*r.toWorldUnits),null!==e.fillColor&&this.graphics.endFill())}}]),t}();function dt(e){return(dt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mt(e,t,n){return(mt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gt(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wt=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),e=function(e,t){return!t||\"object\"!==dt(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,gt(t).call(this)),Object.assign(e.defaultState,{points:[]}),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vt(e,t)}(t,F),function(e,t,n){t&&bt(e.prototype,t)}(t,[{key:\"initDisplay\",value:function(){mt(gt(t.prototype),\"initDisplay\",this).call(this),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(e,n,r){mt(gt(t.prototype),\"updateDisplay\",this).call(this,e,n,r),(n.lineWidth||n.lineColor||n.lineAlpha||n.fillColor||n.points)&&(this.graphics.clear(),null!==e.fillColor&&this.graphics.beginFill(e.fillColor,e.fillAlpha),this.graphics.lineStyle(r.atLeastOnePixel(e.lineWidth),e.lineColor,e.lineAlpha),this.graphics.drawPolygon(e.points.map(function(e){return e*r.toWorldUnits})),null!==e.fillColor&&this.graphics.endFill())}}]),t}();function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var St=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}return function(e,t,n){n&&Ot(e,n)}(e,0,[{key:\"create\",value:function(e){var t={C:Y,R:te,L:N,S:ve,T:je,X:We,G:Be,B:tt,A:ut,K:yt,P:wt}[e];if(!t)throw new Error(\"Exception: entity type not found: \"+e);return new t}}]),e}();function Pt(e){var t=1.70158,n=0,r=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),t=r<Math.abs(1)?(r=1,n/4):n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*e)*Math.sin((1*e-t)*(2*Math.PI)/n)+1+0)}function kt(e){return e<.5?2*e*e:(4-2*e)*e-1}function jt(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t,n){return t&&Et(e.prototype,t),n&&Et(e,n),e}var xt={r:\"rotation\",R:\"radius\",X:\"x2\",Y:\"y2\",w:\"width\",h:\"height\",t:\"tint\",f:\"fillColor\",F:\"fillAlpha\",c:\"lineColor\",W:\"lineWidth\",A:\"lineAlpha\",a:\"alpha\",i:\"image\",S:\"strokeThickness\",sc:\"strokeColor\",ff:\"fontFamily\",s:\"fontSize\",fw:\"fontWeight\",T:\"text\",ch:\"children\",sx:\"scaleX\",sy:\"scaleY\",ax:\"anchorX\",ay:\"anchorY\",v:\"visible\",z:\"zIndex\",b:\"blendMode\",I:\"images\",rs:\"restarted\",p:\"playing\",l:\"loop\",d:\"duration\",bw:\"baseWidth\",bh:\"baseHeight\",ps:\"points\"},Rt=function(){function e(t,n){jt(this,e),this.id=++n.instanceCount,this.type=t[0]}return _t(e,[{key:\"apply\",value:function(e){var t=St.create(this.type);t.id=this.id,e.set(this.id,t)}}]),e}(),Tt=function(){function e(t,n){var i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}(t,8),o=i[0],a=i[1],u=i[2],l=i[3],s=i[4],c=i[5],f=i[6],h=i[7];jt(this,e),this.loader=new PIXI.loaders.Loader;for(var p=0<h?h:f,y={frames:{},meta:{image:(r.baseUrl?r.baseUrl:\"\")+r.images[a]}},d=0;d<f;d++){var b=1<f?o+d:o;y.frames[b]={frame:{x:u*c+d%p*u,y:l*s+Math.floor(d/p)*l,w:u,h:l},sourceSize:{w:u,h:l},rotated:!1,trimmed:!1}}var m=\"data:text/json;charset=UTF-8,\"+JSON.stringify(y);PIXI.utils.TextureCache[m+\"_image\"]||this.loader.add(m,{crossOrigin:!0})}return _t(e,[{key:\"apply\",value:function(){var e=this;if(0<Object.keys(this.loader.resources).length)return new Promise(function(t){e.loader.load(),e.loader.on(\"complete\",t)})}}]),e}();function It(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ft={C:Rt,U:function(){function e(t,n,r){jt(this,e);var i=0;for(this.id=+t[i++],this.t=+t[i++],this.params={},this.curve={};i<t.length;){var o=xt[t[i]]||t[i],a=m[o]||m.default,u=a.type(t[i+1]);\"function\"==typeof a.convert&&(u=a.convert(u,n,r,this.t));var l=e.curves[t[i+2]];this.params[o]=u,i+=2,l&&(this.curve[o]=l,i+=1)}}return _t(e,null,[{key:\"curves\",get:function(){return{_:function(e){return e<1?0:1},\"∫\":kt,\"~\":Pt,\"Γ\":function(e){return 1}}}}]),_t(e,[{key:\"apply\",value:function(e,t){e.get(this.id).addState(this.t,{values:this.params,curve:this.curve},t.number,t)}}]),e}(),L:Tt,W:function(){function e(t,n){jt(this,e),this.times=t.map(function(e){return+e})}return _t(e,[{key:\"apply\",value:function(e,t){var n=this;e.forEach(function(e){n.times.forEach(function(n){e.addState(n,{values:{},curve:{}},t.number,t)})})}}]),e}()};function Ct(e,t){for(var n=[],r=\"\",i=0,o=\"\",a=!1;i<e.length;){var u=e[i++];u===t?a?r+=u:(n.push(r),r=\"\"):\"'\"===u&&\"\\\\\"!==o?(a=!a,r+=u):\"\\\\\"===o?r+=\"'\"===u?\"\\\\'\":\"\\\\\"+u:\"\\\\\"!==u&&(r+=u),o=u}return n.push(r),n}function Mt(e,t,n,r){var i=Ct(t,\";\"),o=[];return i.forEach(function(t){return o.push(new e(Ct(t,\" \"),n,r))}),o}var Wt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}return function(e,t,n){n&&Dt(e,n)}(e,0,[{key:\"parse\",value:function(e,t,n){var r=[],i=Ct(e,\"\\n\");for(var o in i){var a=Ft[i[o][0]];if(!a)throw new Error(\"Unrecognised command : \"+i[o][0]);r=[].concat(It(r),It(Mt(a,i[o].slice(1),t,n)))}return r}}]),e}();function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ut(e,t,n[t])})}return e}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Yt={},Lt=[\"#f2b213\",\"#22a1e4\"],Kt=[function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.entities=new Map,this.frames=[],this.loadingAssets=0,this.extrapolationMap={},this.globalData={toWorldUnits:1,mustResetTree:!0,mustResort:!0,maskUpdates:{},updatedBuffers:[],players:[],instanceCount:0,atLeastOnePixel:function(e){return 0<e&&e<this.toPixel?this.toPixel:e}},Yt.entities=this.entities}return function(e,t,n){t&&Xt(e.prototype,t),n&&Xt(e,n)}(e,[{key:\"handleFrameData\",value:function(e,t){var n=this;if(t){var r=Wt.parse(t,this.globalData,e);r&&r.forEach(function(t){var r=t.apply(n.entities,e);r&&(n.loadingAssets++,r.then(function(){n.loadingAssets--}))})}var i=At({},e);return i.previous=this.frames[this.frames.length-1]||i,this.extrapolate(i),i!==i.previous&&(i.previous.next=i),this.frames.push(i),i}},{key:\"lastElementOf\",value:function(e){return e[e.length-1]}},{key:\"extrapolate\",value:function(e){var t=this,n=e.number,r=e.previous.number;this.entities.forEach(function(i){i.states[n]||(i.states[n]=[]),t.extrapolationMap[i.id]||(t.extrapolationMap[i.id]=At({},i.defaultState));var o=t.extrapolationMap[i.id],a=i.states[n];a.sort(function(e,t){return e.t-t.t}),a.length&&1===t.lastElementOf(a).t||i.addState(1,{},n,e);var u=o;i.states[r]&&r!==n&&(u=i.states[r][i.states[r].length-1]);var l=!0,s=!1,c=void 0;try{for(var f,h=a[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var p=f.value;Object.assign(o,p),Object.assign(p,o),\"function\"==typeof i.computeAnimationProgressTime&&i.computeAnimationProgressTime(u,p),u=p}}catch(i){s=!0,c=i}finally{try{l||null==h.return||h.return()}finally{if(s)throw c}}})}},{key:\"reinitScene\",value:function(e,t){this.globalData.toPixel=1920/t.width*t.oversampling,this.globalData.mustResetTree=!0,Yt.container=this.container=e,this.entities.forEach(function(e){e.init()})}},{key:\"sortChildren\",value:function(e){e.children.sort(function(e,t){return e.zIndex===t.zIndex?e.id-t.id:e.zIndex-t.zIndex})}},{key:\"stillLoading\",value:function(){return 0<this.loadingAssets}},{key:\"updateScene\",value:function(e,t,n){var r=this;if(!this.stillLoading()){for(var i in this.entities.forEach(function(e){return e.render(n,t,r.globalData)}),this.globalData.mustResetTree&&(this.reconstructTree(),this.globalData.mustResetTree=!1,this.globalData.mustResort=!0),this.globalData.mustResort&&(this.resortTree(),this.globalData.mustResort=!1),this.globalData.maskUpdates){var o=this.entities.get(+i),a=this.globalData.maskUpdates[i];o.container.mask=-1===a?null:this.entities.get(a).graphics}var u=!0,l=!1,s=void 0;try{for(var c,f=this.globalData.updatedBuffers[Symbol.iterator]();!(u=(c=f.next()).done);u=!0)c.value.postUpdate()}catch(e){l=!0,s=e}finally{try{u||null==f.return||f.return()}finally{if(l)throw s}}this.globalData.maskUpdates={}}}},{key:\"resortTree\",value:function(){var e=this;this.entities.forEach(function(t){t instanceof Ke&&e.sortChildren(t.childrenContainer)}),this.sortChildren(this.container)}},{key:\"reconstructTree\",value:function(){var e=this;this.container.removeChildren(),this.entities.forEach(function(t){t instanceof Ke&&(t.childrenContainer.removeChildren(),t.currentState.children.forEach(function(n){var r=e.entities.get(n);t.childrenContainer.addChild(r.container),r.parent=t}))}),this.entities.forEach(function(t){t.container.parent||e.container.addChild(t.container)})}},{key:\"handleGlobalData\",value:function(e,t){this.globalData.players=e;var n=t.width,r=t.height;this.globalData.toWorldUnits=u(n,r,1920,1080),Yt.toWorldUnits=this.globalData.toWorldUnits,Yt.hasOwnProperty(\"coeff\")||Object.defineProperty(Yt,\"coeff\",{get:function(){var e='The \"coeff\" property of GraphicEntityModule\\'s API is deprecated, please use \"toWorldUnits\" instead',t=(new Error).stack;return console.groupCollapsed?(console.groupCollapsed(\"%cDeprecation Warning: %c%s\",\"color:#614108;background:#fffbe6\",\"font-weight:normal;color:#614108;background:#fffbe6\",e),console.warn(t),console.groupEnd()):console.warn(\"Deprecation Warning: \",e),Yt.toWorldUnits}})}}],[{key:\"name\",get:function(){return\"entitymodule\"}}]),e}()],$t={errors:{0:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],referee:[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"]},outputs:{0:[null,\"0 3\\n\",\"0 2\\n\",\"0 1\\n\",\"1 1\\n\",\"1 2\\n\",\"0 2\\n\",\"0 1\\n\",\"1 1\\n\",\"2 1\\n\",\"2 2\\n\",\"2 3\\n\",\"1 3\\n\",\"0 3\\n\",\"0 2\\n\",\"1 2\\n\",\"2 2\\n\",\"2 3\\n\",\"1 3\\n\",\"0 3\\n\",\"0 2\\n\",\"1 2\\n\",\"1 1\\n\",\"1 0\\n\",\"2 0\\n\",\"2 1\\n\",\"2 2\\n\",\"1 2\\n\",\"1 1\\n\",\"1 0\\n\",\"2 0\\n\",\"2 1\\n\",\"2 2\\n\",\"2 3\\n\",\"1 3\\n\",\"1 2\\n\",\"1 1\\n\",\"0 1\\n\",\"0 0\\n\",\"\"],referee:[\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\",\"\"]},summaries:[\"\",\"Player $0 played (0 3)\\n\",\"Player $0 played (0 2)\\n\",\"Player $0 played (0 1)\\n\",\"Player $0 played (1 1)\\n\",\"Player $0 played (1 2)\\n\",\"Player $0 played (0 2)\\n\",\"Player $0 played (0 1)\\n\",\"Player $0 played (1 1)\\n\",\"Player $0 played (2 1)\\n\",\"Player $0 played (2 2)\\n\",\"Player $0 played (2 3)\\n\",\"Player $0 played (1 3)\\n\",\"Player $0 played (0 3)\\n\",\"Player $0 played (0 2)\\n\",\"Player $0 played (1 2)\\n\",\"Player $0 played (2 2)\\n\",\"Player $0 played (2 3)\\n\",\"Player $0 played (1 3)\\n\",\"Player $0 played (0 3)\\n\",\"Player $0 played (0 2)\\n\",\"Player $0 played (1 2)\\n\",\"Player $0 played (1 1)\\n\",\"Player $0 played (1 0)\\n\",\"Player $0 played (2 0)\\n\",\"Player $0 played (2 1)\\n\",\"Player $0 played (2 2)\\n\",\"Player $0 played (1 2)\\n\",\"Player $0 played (1 1)\\n\",\"Player $0 played (1 0)\\n\",\"Player $0 played (2 0)\\n\",\"Player $0 played (2 1)\\n\",\"Player $0 played (2 2)\\n\",\"Player $0 played (2 3)\\n\",\"Player $0 played (1 3)\\n\",\"Player $0 played (1 2)\\n\",\"Player $0 played (1 1)\\n\",\"Player $0 played (0 1)\\n\",\"Player $0 played (0 0)\\n\",\"\"],views:['KEY_FRAME 0\\n{\"global\":{\"entitymodule\":{\"width\":1920,\"height\":1080}},\"frame\":{\"duration\":500,\"entitymodule\":\"Limage CSB.jpg 480 360 0 0 12 4\\\\nCS;S;S;S;G;S;S;S;G;S;S;S;G;S;S;S;G;S;S;S;G;S;S;S;G;S;S;S;G;S;S;S;G;S;S;S;G;S;S;S;G;S;S;S;G;S;S;S;G;G\\\\nU50 1 x 192 y 108 v 1 ch 5,29,17,21,9,37,13,45,49,25,33,41;37 1 x 1152 ∫ y 0 ∫ v 1 ch 34,36,35;19 1 bw 384 i image4 v 1 bh 288 mask 18;30 1 bw 384 i mask.png v 1 bh 288;18 1 bw 384 i mask.png v 1 bh 288;11 1 bw 384 i image2 v 1 bh 288 mask 10;44 1 bw 384 i image10 v 1 bh 288 a 0;25 1 x 768 ∫ y 288 ∫ v 1 ch 23,22,24;24 1 bw 384 i image5 v 1 bh 288 a 0;31 1 bw 384 i image7 v 1 bh 288 mask 30;47 1 bw 384 i image11 v 1 bh 288 mask 46;38 1 bw 384 i mask.png v 1 bh 288;13 1 x 1152 ∫ y 576 ∫ v 1 ch 10,11,12;15 1 bw 384 i image3 v 1 bh 288 mask 14;20 1 bw 384 i image4 v 1 bh 288 a 0;33 1 x 0 ∫ y 288 ∫ v 1 ch 30,32,31;5 1 v 1 ch 2,3,4 a 0;21 1 x 768 ∫ y 576 ∫ v 1 ch 19,18,20;22 1 bw 384 i mask.png v 1 bh 288;43 1 bw 384 i image10 v 1 bh 288 mask 42;45 1 x 768 ∫ y 0 ∫ v 1 ch 43,42,44;26 1 bw 384 i mask.png v 1 bh 288;12 1 bw 384 i image2 v 1 bh 288 a 0;46 1 bw 384 i mask.png v 1 bh 288;34 1 bw 384 i mask.png v 1 bh 288;4 1 bw 384 i image0 v 1 bh 288 a 0;3 1 bw 384 i image0 v 1 bh 288 mask 2;39 1 bw 384 i image9 v 1 bh 288 mask 38;35 1 bw 384 i image8 v 1 bh 288 mask 34;17 1 x 384 ∫ y 0 ∫ v 1 ch 15,16,14;36 1 bw 384 i image8 v 1 bh 288 a 0;32 1 bw 384 i image7 v 1 bh 288 a 0;42 1 bw 384 i mask.png v 1 bh 288;29 1 x 0 ∫ y 576 ∫ v 1 ch 28,27,26;10 1 bw 384 i mask.png v 1 bh 288;8 1 bw 384 i image1 v 1 bh 288 a 0;9 1 x 0 ∫ y 0 ∫ v 1 ch 7,8,6;6 1 bw 384 i mask.png v 1 bh 288;1 1 i Background.jpg ay 0 v 1 ax 0;49 1 x 384 ∫ y 288 ∫ v 1 ch 46,47,48;16 1 bw 384 i image3 v 1 bh 288 a 0;40 1 bw 384 i image9 v 1 bh 288 a 0;48 1 bw 384 i image11 v 1 bh 288 a 0;2 1 bw 384 i mask.png v 1 bh 288;7 1 bw 384 i image1 v 1 bh 288 mask 6;23 1 bw 384 i image5 v 1 bh 288 mask 22;28 1 bw 384 i image6 v 1 bh 288 a 0;27 1 bw 384 i image6 v 1 bh 288 mask 26;14 1 bw 384 i mask.png v 1 bh 288;41 1 x 384 ∫ y 576 ∫ v 1 ch 38,39,40\\\\nW1\"}}\\n','KEY_FRAME 1\\n{\"entitymodule\":\"U37 1 y 288 ∫\\\\nW1\"}\\n','KEY_FRAME 2\\n{\"entitymodule\":\"U45 1 x 1152 ∫\\\\nW1\"}\\n','KEY_FRAME 3\\n{\"entitymodule\":\"U17 1 x 768 ∫\\\\nW1\"}\\n','KEY_FRAME 4\\n{\"entitymodule\":\"U49 1 y 0 ∫\\\\nW1\"}\\n','KEY_FRAME 5\\n{\"entitymodule\":\"U25 1 x 384 ∫\\\\nW1\"}\\n','KEY_FRAME 6\\n{\"entitymodule\":\"U17 1 y 288 ∫\\\\nW1\"}\\n','KEY_FRAME 7\\n{\"entitymodule\":\"U49 1 x 768 ∫\\\\nW1\"}\\n','KEY_FRAME 8\\n{\"entitymodule\":\"U25 1 y 0 ∫\\\\nW1\"}\\n','KEY_FRAME 9\\n{\"entitymodule\":\"U41 1 y 288 ∫\\\\nW1\"}\\n','KEY_FRAME 10\\n{\"entitymodule\":\"U21 1 x 384 ∫\\\\nW1\"}\\n','KEY_FRAME 11\\n{\"entitymodule\":\"U13 1 x 768 ∫\\\\nW1\"}\\n','KEY_FRAME 12\\n{\"entitymodule\":\"U37 1 y 576 ∫\\\\nW1\"}\\n','KEY_FRAME 13\\n{\"entitymodule\":\"U45 1 y 288 ∫\\\\nW1\"}\\n','KEY_FRAME 14\\n{\"entitymodule\":\"U49 1 x 1152 ∫\\\\nW1\"}\\n','KEY_FRAME 15\\n{\"entitymodule\":\"U17 1 y 0 ∫\\\\nW1\"}\\n','KEY_FRAME 16\\n{\"entitymodule\":\"U13 1 y 288 ∫\\\\nW1\"}\\n','KEY_FRAME 17\\n{\"entitymodule\":\"U37 1 x 768 ∫\\\\nW1\"}\\n','KEY_FRAME 18\\n{\"entitymodule\":\"U45 1 y 576 ∫\\\\nW1\"}\\n','KEY_FRAME 19\\n{\"entitymodule\":\"U49 1 y 288 ∫\\\\nW1\"}\\n','KEY_FRAME 20\\n{\"entitymodule\":\"U17 1 x 1152 ∫\\\\nW1\"}\\n','KEY_FRAME 21\\n{\"entitymodule\":\"U13 1 y 0 ∫\\\\nW1\"}\\n','KEY_FRAME 22\\n{\"entitymodule\":\"U41 1 x 768 ∫\\\\nW1\"}\\n','KEY_FRAME 23\\n{\"entitymodule\":\"U33 1 x 384 ∫\\\\nW1\"}\\n','KEY_FRAME 24\\n{\"entitymodule\":\"U29 1 y 288 ∫\\\\nW1\"}\\n','KEY_FRAME 25\\n{\"entitymodule\":\"U21 1 x 0 ∫\\\\nW1\"}\\n','KEY_FRAME 26\\n{\"entitymodule\":\"U37 1 x 384 ∫\\\\nW1\"}\\n','KEY_FRAME 27\\n{\"entitymodule\":\"U41 1 y 576 ∫\\\\nW1\"}\\n','KEY_FRAME 28\\n{\"entitymodule\":\"U33 1 x 768 ∫\\\\nW1\"}\\n','KEY_FRAME 29\\n{\"entitymodule\":\"U29 1 x 384 ∫\\\\nW1\"}\\n','KEY_FRAME 30\\n{\"entitymodule\":\"U21 1 y 288 ∫\\\\nW1\"}\\n','KEY_FRAME 31\\n{\"entitymodule\":\"U37 1 x 0 ∫\\\\nW1\"}\\n','KEY_FRAME 32\\n{\"entitymodule\":\"U41 1 x 384 ∫\\\\nW1\"}\\n','KEY_FRAME 33\\n{\"entitymodule\":\"U45 1 x 768 ∫\\\\nW1\"}\\n','KEY_FRAME 34\\n{\"entitymodule\":\"U49 1 y 576 ∫\\\\nW1\"}\\n','KEY_FRAME 35\\n{\"entitymodule\":\"U33 1 x 1152 ∫\\\\nW1\"}\\n','KEY_FRAME 36\\n{\"entitymodule\":\"U29 1 x 768 ∫\\\\nW1\"}\\n','KEY_FRAME 37\\n{\"entitymodule\":\"U25 1 y 288 ∫\\\\nW1\"}\\n','KEY_FRAME 38\\n{\"entitymodule\":\"U9 1 x 384 ∫\\\\nW1\"}\\n','KEY_FRAME 39\\n{\"duration\":1000,\"entitymodule\":\"U5 1 a 1;8 1 a 1;44 1 a 1;16 1 a 1;40 1 a 1;24 1 a 1;12 1 a 1;48 1 a 1;28 1 a 1;36 1 a 1;4 1 a 1;32 1 a 1;20 1 a 1\\\\nW1\"}\\n'],scores:{0:1},uinput:[],metadata:\"{}\\n\",tooltips:[],ids:{0:0},agents:[{index:0,name:\"Player 0\",avatar:\"https://static.codingame.com/servlet/fileservlet?id=16085713250612&format=viewer_avatar\",agentId:0}]};function Ht(e){return(Ht=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Gt(e){var t=\"function\"==typeof Map?new Map:void 0;return(Gt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf(\"[native code]\")}(e))return e;if(\"function\"!=typeof e)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){return(function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Bt(i,n.prototype),i}).apply(null,arguments)}(e,arguments,zt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Bt(n,e)})(e)}function Bt(e,t){return(Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Nt=function(e){function t(e,n){var r;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),(r=function(e,t){return!t||\"object\"!==Ht(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,zt(t).call(this,'<Error in module \"'+e+'\">'))).cause=n,r.name=\"ModuleError\",r}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bt(e,t)}(t,Gt(Error)),t}();function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Vt(e,t,n[t])})}return e}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,\"Drawer\",function(){return Qt});var Qt=function(){function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this),this.toDestroy=[];var n=t||$t;if(n){var r=n.views,i=n.agents;this.demo={playerCount:i.length,logo:\"logo.png\",overlayAlpha:.2,agents:i,frames:r},this.demo.agents.forEach(function(t){t.color=e.playerColors[t.index]})}else this.demo=void 0}return t=e,n=[{key:\"getDefaultOverSampling\",value:function(){return 2}},{key:\"handleModuleError\",value:function(e,t){S.push(new Nt(e,t)),console.error(t),S.push({message:'<Module \"'.concat(e,'\" disabled>\\n')}),delete this.modules[e]}},{key:\"instantiateModules\",value:function(){var e=!0,t=!(this.modules={}),n=void 0;try{for(var i,o=Kt[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;try{this.modules[a.name]=new a(r)}catch(e){this.handleModuleError(a.name,e)}}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},{key:\"destroy\",value:function(){this.alreadyLoaded&&(this.renderer.destroy(),this.endCallback=null),this.destroyed=!0}},{key:\"destroyScene\",value:function(e){!function(){for(var e=0,t=Ne.length;e<t;++e)Ne[e].destroy(!0);Ne=[]}()}},{key:\"getGameName\",value:function(){}},{key:\"canSwapPlayers\",value:function(){return!1}},{key:\"getResources\",value:function(){return Object.assign({baseUrl:\"\",images:{},spines:{},sprites:[],fonts:[],others:[]},r)}},{key:\"getOptions\",value:function(){return[]}},{key:\"setDebug\",value:function(t){this.asyncRenderingTime=e.RenderTimeout}},{key:\"initPreload\",value:function(e,t,n,r,i){e.canvasWidth=r,e.canvasHeight=i,e.loaderProgress=new PIXI.Text(\"100\",{fontSize:.117*i||30,fontFamily:\"Lato\",fontWeight:\"900\",fill:\"white\",align:\"center\"}),e.loaderProgress.anchor.y=1,e.loaderProgress.anchor.x=1.3,e.progress=e.realProgress=n,e.loaderProgress.position.y=i,e.progressBar=new PIXI.Graphics,t.addChild(e.progressBar),t.addChild(e.loaderProgress)}},{key:\"preload\",value:function(e,t,n,r,i,o){e.progress=n}},{key:\"renderPreloadScene\",value:function(e,t){var n=Math.pow(.998,t);return e.realProgress=n*e.realProgress+(1-n)*e.progress,e.loaderProgress.text=(100*e.realProgress).toFixed(0),e.loaderProgress.position.x=e.realProgress*e.canvasWidth,e.progressBar.clear(),e.progressBar.beginFill(0,1),e.progressBar.drawRect(0,0,e.canvasWidth*e.realProgress+1,e.canvasHeight),e.progressBar.endFill(),e.progressBar.beginFill(4146246,1),e.progressBar.drawRect(e.canvasWidth*e.realProgress,0,e.canvasWidth,e.canvasHeight),e.progressBar.endFill(),!0}},{key:\"initDefaultScene\",value:function(t,n,r,i){var o=new PIXI.Container;if(t.drawer=this,t.renderables=[],t.time=0,this.demo){if(this.demo.logo)try{var a=PIXI.Sprite.fromFrame(this.demo.logo);a.position.set(e.WIDTH/2,e.HEIGHT/2),a.anchor.set(.5),a.baseScale=u(a.texture.width,a.texture.height,2*e.WIDTH/3,e.HEIGHT/2,0),o.addChild(a),t.logo=a}catch(n){S.push({cause:n,message:'Missing \"logo.png\" to complete replay.'}),t.logo=new PIXI.Container,t.logo.baseScale=1,o.addChild(t.logo),t.missingLogo=!0}var l=new PIXI.Graphics;t.missingLogo||(l.beginFill(0,this.demo.overlayAlpha||0),l.drawRect(0,0,e.WIDTH+20,e.HEIGHT+20),l.endFill(),l.x-=10,l.y-=10);var s=new PIXI.Container;try{this.initDefaultFrames(this.demo.playerCount,this.demo.frames,this.demo.agents),this.preconstructScene(this.scope,n,this.initWidth,this.initHeight),this.initScene(this.scope,s,this.frames,!0),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)}catch(n){S.push({cause:n,message:\"Cannot load demo, you might want to reset the demo\"})}t.demo=s,t.demotime=0,this.currentFrame=-1,n.addChild(s),n.addChild(l),n.addChild(o)}t.updateTime=0,t.frameTime=0}},{key:\"initDefaultFrames\",value:function(t,n,r){var i=this;this.instantiateModules(),this.playerInfo=r.map(function(e,t){return{name:e.name||\"Anonymous\",color:e.color?i.parseColor(e.color):\"#ffffff\",number:t,index:e.index,type:e.type,isMe:\"CODINGAMER\"===e.type&&e.typeData.me,avatar:e.avatarTexture}}),this.instantiateModules(),this._frames=n.map(function(e){var t,n=e.split(\"\\n\"),r=n[0].split(\" \");try{t=JSON.parse(n.slice(1).join(\"\\n\"))}catch(e){t={}}return qt({},t,{key:\"KEY_FRAME\"===r[0]})}).filter(function(e){return e.key}),this.parseGlobalData(this._frames[0].global),this.playerCount=t,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1;var o=this._frames[0].frame;o.key=this._frames[0].key,this.frames.push(this.parseFrame(o,this.frames));for(var a=1;a<this._frames.length;++a)this.frames.push(this.parseFrame(this._frames[a],this.frames));this.asyncRenderingTime=e.RenderTimeout}},{key:\"renderDefaultScene\",value:function(e,t){if(t=Math.min(80,t),void 0===this.demo)return!1;this.currentFrame=this.currentFrameTemp||0,e.frameTime+=t,e.updateTime+=t,e.demotime+=t/1e3;var n=Math.max(0,Math.min(1,(e.demotime-1)/.5));if(e.logo&&(e.logo.alpha=n,e.logo.scale.x=e.logo.scale.y=(3-2*n)*e.logo.baseScale),!e.missingLogo&&1.5<e.demotime&&e.demotime<=2.2){var r=15*Math.max(0,1-(e.demotime-1.5)/.7);e.demo.x=(2*Math.random()-1)*r,e.demo.y=(2*Math.random()-1)*r}else e.demo.x=e.demo.y=0;var i=this.getFrameDuration(this.currentFrame);return 30<=e.updateTime&&(e.updateTime-=30,0===this.currentFrame?this.progress=1:this.progress=a(0,i,e.frameTime),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)),e.frameTime>=i&&(e.frameTime-=i,this.currentFrame=(this.currentFrame+1)%this.frames.length),this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],t,!0),this.currentFrameTemp=this.currentFrame,this.currentFrame=-1,!0}},{key:\"endDefaultScene\",value:function(e,t){return!0}},{key:\"parseGlobalData\",value:function(e){for(var t in this.modules){var n=this.modules[t];\"function\"==typeof n.handleGlobalData&&n.handleGlobalData(this.playerInfo,e[t])}}},{key:\"parseFrame\",value:function(e,t){var n={data:{},frameInfo:{number:t.length}};if(n.previous=t[t.length-1]||n,n!==n.previous&&(n.previous.next=n),!e.key)return n.previous;for(var r in e.duration&&(this.currentFrameDuration=e.duration),n.frameInfo.frameDuration=this.currentFrameDuration,n===n.previous?(n.frameInfo.date=0,n.frameInfo.frameDuration=0):n.frameInfo.date=n.previous.frameInfo.date+n.previous.frameInfo.frameDuration,this.modules){var i=this.modules[r];\"function\"==typeof i.handleFrameData&&(n.data[r]=i.handleFrameData(n.frameInfo,e[r]))}return n}},{key:\"preconstructScene\",value:function(t,n,r,i){t.canvasHeight=i,t.canvasWidth=r,t.renderables=[],t.updatables=[],t.time=0,t.endTime=0,t.playerInfo=this.playerInfo,n.scale.x=r/e.WIDTH,n.scale.y=i/e.HEIGHT}},{key:\"initScene\",value:function(e,t,n){for(var r in this.modules){var i=this.modules[r],o=new PIXI.Container;try{i.reinitScene(o,{width:e.canvasWidth,height:e.canvasHeight,oversampling:this.oversampling})}catch(e){this.handleModuleError(r,e)}t.addChild(o)}}},{key:\"updateScene\",value:function(e,t,n,r,i,o,a){var u=n[r];e.currentFrame=u,e.currentProgress=i,e.reason=a;for(var l=0;l<e.updatables.length;++l)e.updatables[l].update(r,i,u,e);for(var s in this.modules){var c=this.modules[s];if(u.data.hasOwnProperty(s))try{c.updateScene(u.previous.data[s],u.data[s],i,o)}catch(e){this.handleModuleError(s,e)}}}},{key:\"initEndScene\",value:function(e,t){e.endSceneViewed=!1}},{key:\"destroyEndScene\",value:function(e){}},{key:\"renderEndScene\",value:function(e,t,n){0===e.endTime&&this.initEndScene(e,n),e.endTime+=t,void 0<=e.endTime&&!e.endSceneViewed&&(this.endCallback&&this.endCallback(),e.endSceneViewed=!0)}},{key:\"renderRenderables\",value:function(e,t){for(var n=[],r=0;r<t.renderables.length;++r){var i=t.renderables[r];i.render(e,t)||n.push(i)}t.renderables=n}},{key:\"renderScene\",value:function(e,t,n,r,i,o,a,u){u=Math.min(80,u);var l=!this.debugMode&&r===n.length-1&&1===i;for(var s in l?this.renderEndScene(e,u,\"Win\"!==a):(0<e.endTime&&this.destroyEndScene(e),e.endTime=0),this.renderRenderables(u,e),this.modules){var c=this.modules[s];if(\"function\"==typeof c.animateScene)try{c.animateScene(u)}catch(e){this.handleModuleError(s,e)}}return!0}},{key:\"getFrameSpeed\",value:function(e){return 500/this.getFrameDuration(e)}},{key:\"getFrameDuration\",value:function(e){return this.frames&&this.frames[e]&&this.frames[e].frameInfo.frameDuration||1e3}},{key:\"enableAsyncRendering\",value:function(t){this.asyncRendering=t,this.asyncRenderingTime=e.RenderTimeout}},{key:\"purge\",value:function(){this.scope={},this.changed=!0,this.container.interactiveChildren=!1,this.container.destroy({texture:!1,children:!0}),delete this.container,this.container=new PIXI.Container}},{key:\"reinitScene\",value:function(){1<=this.loaded&&(this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=e.RenderTimeout,this.preconstructScene(this.scope,this.container,this.initWidth,this.initHeight),this.initScene(this.scope,this.container,this.frames),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame]),this.changed=!0)}},{key:\"reinitDefaultScene\",value:function(){1<=this.loaded&&(this.intro=!0,this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=e.RenderTimeout,this.initDefaultScene(this.scope,this.container,this.initWidth,this.initHeight),this.changed=!0)}},{key:\"reinitLoadingScene\",value:function(){this.loaded<1&&(this.purge(),this.asyncRenderingTime=e.RenderTimeout,this.initPreload(this.scope,this.container,this.loaded,this.initWidth,this.initHeight))}},{key:\"reinit\",value:function(e){1<=this.loaded?0<=this.currentFrame&&!this.intro?this.reinitScene():this.intro&&!e||this.reinitDefaultScene():this.reinitLoadingScene()}},{key:\"animate\",value:function(e){if(!this.destroyed){this.lastRenderTime||(this.lastRenderTime=e);var t=e-this.lastRenderTime;this.asynchronousStep&&(t=this.asynchronousStep),this.onBeforeRender&&this.onBeforeRender(),this.loading||(this.loaded<1?this.changed|=this.renderPreloadScene(this.scope,t):(this.changed||this.asyncRendering&&0<this.asyncRenderingTime)&&(this.currentFrame<0?this.changed|=this.renderDefaultScene(this.scope,t):this.intro?(this.changed=!0,this.endDefaultScene(this.scope,t)&&(this.intro=!1,this.reinit(!0))):this.changed|=this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame],t)),this.changed&&(this.renderer.render(this.container),this.changed=!1)),this.onAfterRender&&this.onAfterRender(),this.lastRenderTime=e,this.destroyed||requestAnimationFrame(this.animate.bind(this)),this.asyncRenderingTime-=t}}},{key:\"_initFrames\",value:function(e,t){this.instantiateModules(),this._frames=t.map(function(e){var t,n=e[0].split(\" \");try{t=JSON.parse(e.slice(1).join(\"\\n\"))}catch(e){t={}}return qt({},t,{key:\"KEY_FRAME\"===n[0]})}),this.parseGlobalData(this._frames[0].global),this.playerCount=e,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1;var n=this._frames[0].frame;n.key=this._frames[0].key,this.frames.push(this.parseFrame(n,this.frames));for(var r=1;r<this._frames.length;++r)this.frames.push(this.parseFrame(this._frames[r],this.frames))}},{key:\"isTurnBasedGame\",value:function(){return!1}},{key:\"initFrames\",value:function(e,t){this.playerInfo&&this.playerInfo.forEach(function(e){e.avatar&&e.avatar.destroy(!0)});var n=this,r=new PIXI.loaders.Loader(window.location.origin);this.playerInfo=t.map(function(e,t){var i={name:e.name||\"Anonymous\",color:e.color?n.parseColor(e.color):\"#ffffff\",number:t,index:e.index,type:e.type,isMe:\"CODINGAMER\"===e.type&&e.typeData.me,avatar:null};return r.add(\"avatar\"+t,e.avatar,{loadType:2,crossOrigin:!0},function(e){i.avatar=e.texture,PIXI.Texture.addToCache(e.texture,\"$\"+i.index)}),i});var i=!(this.loading=!0),o=function(){n._initFrames(t.length,e),n.loading=!1,n.reinit(!1),i=!0};r.on(\"complete\",o),r.on(\"error\",function(e){console.warn(e),i||o()}),r.load()}},{key:\"update\",value:function(t,n,r){0<=this.currentFrame&&(this.asyncRenderingTime=e.RenderTimeout,this.changed=!0,this.speed=r,this.currentFrame=t,this.progress=n,1<=this.loaded&&!this.intro&&this.updateScene(this.scope,this.question,this.frames,t,n,this.speed,this.reasons[this.currentFrame]))}},{key:\"parseColor\",value:function(e){if(Array.isArray(e)){var t,n=[];for(t=0;t<e.length;++t)n.push(this.parseColor(e[t]));return n}return parseInt(e.substring(1),16)}},{key:\"init\",value:function(t,n,r,i,o,a,u){var l,s=this;window.PIXI=e.PIXI||window.PIXI,this.oversampling=o||1,this.canvas=$(t),this.canvas.off(\"mousemove\"),this.canvas.mousemove(function(){0<=s.currentFrame&&(s.changed=!0)}),i&&(this.colors=this.parseColor(i)),\"ide\"===u&&(this.debugModeSetByUser||(this.debugMode=!0),S.listen(function(e){return console.error(e.cause?e.cause:e)})),this.asyncRendering=!0,this.asyncRenderingTime=0,this.destroyed=!1,this.asynchronousStep=null;var c=this;if(this.initWidth=0|n,this.initHeight=0|r,this.endCallback=a||this.endCallback,this.alreadyLoaded)this.changed=!0,this.renderer.resize(this.initWidth,this.initHeight),this.reinit(!0);else{this.alreadyLoaded=!0,this.question=null,this.scope=null,this.currentFrame=-1,this.loaded=0,this.container=new PIXI.Container;var f=this.getResources();this.renderer=this.createRenderer(this.initWidth,this.initHeight,t),function(e){ze=e}(this.renderer);var h,p=new PIXI.loaders.Loader(f.baseUrl);for(l in f.images)p.add(l,f.images[l],{crossOrigin:!0});for(h=0;h<f.sprites.length;++h)p.add(f.sprites[h],{crossOrigin:!0});for(h=0;h<f.fonts.length;++h)p.add(f.fonts[h],{crossOrigin:!0});for(l in f.spines)p.add(l,f.spines[l],{crossOrigin:!0});for(h=0;h<f.others.length;++h)p.add(f.others[h],{crossOrigin:!0});this.demo&&this.demo.agents.forEach(function(e){p.add(\"avatar\"+e.index,e.avatar,{loadType:2,crossOrigin:!0},function(t){e.avatarTexture=t.texture,PIXI.Texture.addToCache(t.texture,\"$\"+e.index)})}),c.scope={};var y=function(e,t){requestAnimationFrame(c.animate.bind(c)),c.initPreload(c.scope,c.container,c.loaded=0,c.initWidth,c.initHeight)};p.on(\"start\",y),p.on(\"progress\",function(e,t){e.progress<100&&c.preload(c.scope,c.container,c.loaded=e.progress/100,c.initWidth,c.initHeight,t)});var d=function(){var e;for(e in f.images)f.images.hasOwnProperty(e)&&p.resources[e].texture&&PIXI.Texture.addToCache(p.resources[e].texture,e);for(e in f.spines)f.spines.hasOwnProperty(e)&&(PIXI.AnimCache[e]=PIXI.AnimCache[f.baseUrl+f.spines[e]]);c.loaded=1,c.reinit(!0),c.changed=!0};p.on(\"complete\",d),p.on(\"error\",function(e){console.warn(e)}),Object.keys(p.resources).length?p.load():(y(),d())}}},{key:\"createRenderer\",value:function(e,t,n){return PIXI.autoDetectRenderer(e,t,{view:n,clearBeforeRender:!0,preserveDrawingBuffer:!1})}},{key:\"generateTexture\",value:function(e){var t=e.generateTexture();return qe(t),t}},{key:\"generateText\",value:function(e,t,n,r){var i;return 28800<=t*this.scope.canvasWidth/this.oversampling?(i=new PIXI.extras.BitmapText(e,{font:t+\"px agency_80\",tint:n})).lineHeight=t:(i=new PIXI.Text(e,{fontSize:Math.round(t/1.2)+\"px\",fontFamily:\"Lato\",fontWeight:\"bold\",fill:n})).lineHeight=Math.round(t/1.2),\"right\"===r?i.anchor.x=1:\"center\"===r&&(i.anchor.x=.5),qe(i),i}},{key:\"isReady\",value:function(){return 1<=this.loaded}}],i=[{key:\"getGameRatio\",value:function(){return e.WIDTH/e.HEIGHT}},{key:\"requirements\",get:function(){return{PIXI:\"PIXI4\"}}},{key:\"VERSION\",get:function(){return 2}},{key:\"WIDTH\",get:function(){return 1920}},{key:\"HEIGHT\",get:function(){return 1080}},{key:\"playerColors\",get:function(){return Lt}},{key:\"RenderTimeout\",get:function(){return\"localhost\"===window.location.hostname?1/0:2e4}}],n&&Jt(t.prototype,n),i&&Jt(t,i),e;var t,n,i}()}]).Drawer;",
      "levelParams": {
        "0": {
          "testCases": [
            {
              "title": {
                "1": "5",
                "2": "5"
              },
              "isTest": true,
              "testIn": "CSB\n1 5 2 3 4 6 10 7 8 0 9 11",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "10",
                "2": "10"
              },
              "isTest": true,
              "testIn": "TGE\n4 3 0 7 5 2 1 6 8 9 10 11",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "10",
                "2": "10"
              },
              "isTest": false,
              "testIn": "TGE\n4 1 2 3 8 0 5 11 9 10 7 6",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "15",
                "2": "15"
              },
              "isTest": true,
              "testIn": "CSB\n4 3 1 7 0 9 2 6 5 8 10 11",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "15",
                "2": "15"
              },
              "isTest": false,
              "testIn": "CSB\n4 1 2 3 8 10 11 6 9 7 5 0",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "20",
                "2": "20"
              },
              "isTest": true,
              "testIn": "CSB\n9 4 1 7 3 0 2 6 5 8 10 11",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "20",
                "2": "20"
              },
              "isTest": false,
              "testIn": "CSB\n4 1 2 3 10 0 11 6 8 9 7 5",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "25",
                "2": "25"
              },
              "isTest": true,
              "testIn": "CSB\n9 4 1 7 3 10 8 6 5 0 2 11",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "25",
                "2": "25"
              },
              "isTest": false,
              "testIn": "CSB\n10 4 2 3 8 1 11 6 9 0 7 5",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "30",
                "2": "30"
              },
              "isTest": true,
              "testIn": "CSB\n4 9 0 5 10 7 1 2 11 8 3 6",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "30",
                "2": "30"
              },
              "isTest": false,
              "testIn": "CSB\n4 2 3 6 10 9 11 8 1 7 0 5",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "35",
                "2": "35"
              },
              "isTest": true,
              "testIn": "CSB\n11 10 2 0 4 6 7 1 8 3 5 9",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "35",
                "2": "35"
              },
              "isTest": false,
              "testIn": "CSB\n11 10 6 0 4 8 1 9 5 7 2 3",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "38",
                "2": "38"
              },
              "isTest": true,
              "testIn": "CSB\n1 3 10 8 7 11 5 0 6 9 4 2",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            }
          ],
          "maxPlayers": 1,
          "minPlayers": 1,
          "statements": {
            "1": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>  <div class=\"statement-body\">\n    <!-- GOAL -->\n    <div class=\"statement-section statement-goal\">\n      <h2>\n        <span class=\"icon icon-goal\">&nbsp;</span>\n        <span>The Goal</span>\n      </h2>\n      <div class=\"statement-goal-content\">\n        This is a 3 by 4 sliding puzzle with one tile missing. The objective is to place the tiles in order by making sliding moves that use the empty space.\n      </div>\n    </div>\n    <!-- RULES -->\n    <div class=\"statement-section statement-rules\">\n      <h2>\n        <span class=\"icon icon-rules\">&nbsp;</span>\n        <span>Rules</span>\n      </h2>\n      <div><div class=\"statement-rules-content\"><p>You are given the initial state of the board and you must output a list of moves to rearrange the tiles.</p>\n\n<div>\n<p>Each tile is numbered from 1 to 11 (0 is the empty space). The final state is the following:</p>\n\n<pre>\n0  1  2  3\n4  5  6  7\n8  9 10 11\n</pre>\n\n<p>In order to make a move, you need to print the coordinate of the tile you wish to move and it will take the place of the empty space. The coordinate of a tile is the couple (row, column), with (0, 0) the top-left element.</p>\n</div></div>\n        <!-- Victory conditions -->\n        <div class=\"statement-victory-conditions\">\n          <div class=\"icon victory\"></div>\n          <div class=\"blk\">\n            <div class=\"title\">Victory Conditions</div>\n            <div class=\"text\">The puzzle is rearranged.</div>\n          </div>\n        </div>\n        <!-- Lose conditions -->\n        <div class=\"statement-lose-conditions\">\n          <div class=\"icon lose\"></div>\n          <div class=\"blk\">\n            <div class=\"title\">Lose Conditions</div>\n            <div class=\"text\">Invalid move or the solution exceeds 50 moves.</div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- PROTOCOL -->\n    <div class=\"statement-section statement-protocol\">\n      <h2>\n        <span class=\"icon icon-protocol\">&nbsp;</span>\n        <span>Game Input</span>\n      </h2>\n      <!-- Protocol block -->\n      <div class=\"blk\">  <div class=\"title\">Input</div>          <div class=\"text\"><span class=\"statement-lineno\"><const>3</const> lines:</span> <const>4</const> space separated integers that represent the initial state of the puzzle.</div>\n      </div>\n      <!-- Protocol block -->\n      <div class=\"blk\">  <div class=\"title\">Output</div>          <div class=\"text\"><span class=\"statement-lineno\">For each move: </span> two space separated integers that are the ROW and the COLUMN of the tile to move.</div>\n      </div>\n      <div class=\"blk\">\n        <div class=\"title\">\n         Constraints\n        </div>\n        <div class=\"text\">        \n            Response time first turn ≤ 1000ms\n        </div>\n       </div>\n    </div>\n</div>",
            "2": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>  <div class=\"statement-body\">\n    <!-- GOAL -->\n    <div class=\"statement-section statement-goal\">\n      <h2>\n        <span class=\"icon icon-goal\">&nbsp;</span>\n        <span>The Goal</span>\n      </h2>\n      <div class=\"statement-goal-content\">\n        This is a 3 by 4 sliding puzzle with one tile missing. The objective is to place the tiles in order by making sliding moves that use the empty space.\n      </div>\n    </div>\n    <!-- RULES -->\n    <div class=\"statement-section statement-rules\">\n      <h2>\n        <span class=\"icon icon-rules\">&nbsp;</span>\n        <span>Rules</span>\n      </h2>\n      <div><div class=\"statement-rules-content\"><p>You are given the initial state of the board and you must output a list of moves to rearrange the tiles.</p>\n\n<div>\n<p>Each tile is numbered from 1 to 11 (0 is the empty space). The final state is the following:</p>\n\n<pre>\n0  1  2  3\n4  5  6  7\n8  9 10 11\n</pre>\n\n<p>In order to make a move, you need to print the coordinate of the tile you wish to move and it will take the place of the empty space. The coordinate of a tile is the couple (row, column), with (0, 0) the top-left element.</p>\n</div></div>\n        <!-- Victory conditions -->\n        <div class=\"statement-victory-conditions\">\n          <div class=\"icon victory\"></div>\n          <div class=\"blk\">\n            <div class=\"title\">Victory Conditions</div>\n            <div class=\"text\">The puzzle is rearranged.</div>\n          </div>\n        </div>\n        <!-- Lose conditions -->\n        <div class=\"statement-lose-conditions\">\n          <div class=\"icon lose\"></div>\n          <div class=\"blk\">\n            <div class=\"title\">Lose Conditions</div>\n            <div class=\"text\">Invalid move or the solution exceeds 50 moves.</div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- PROTOCOL -->\n    <div class=\"statement-section statement-protocol\">\n      <h2>\n        <span class=\"icon icon-protocol\">&nbsp;</span>\n        <span>Game Input</span>\n      </h2>\n      <!-- Protocol block -->\n      <div class=\"blk\">  <div class=\"title\">Input</div>          <div class=\"text\"><span class=\"statement-lineno\"><const>3</const> lines:</span> <const>4</const> space separated integers that represent the initial state of the puzzle.</div>\n      </div>\n      <!-- Protocol block -->\n      <div class=\"blk\">  <div class=\"title\">Output</div>          <div class=\"text\"><span class=\"statement-lineno\">For each move: </span> two space separated integers that are the ROW and the COLUMN of the tile to move.</div>\n      </div>\n      <div class=\"blk\">\n        <div class=\"title\">\n         Constraints\n        </div>\n        <div class=\"text\">        \n            Response time first turn ≤ 1000ms\n        </div>\n       </div>\n    </div>\n</div>"
          },
          "questionType": "solo",
          "stubGenerator": "loop 3 loopline 4 x:int\nwrite 0 0\n0 0\n0 0\n...",
          "welcomePopups": {},
          "criteriaLanguageMap": {}
        }
      },
      "directoryPrefix": "community/218189-1533899548280",
      "allowSourceDownload": true,
      "originalArchiveBinaryId": 26320854326754
    },
    "draft": false,
    "readyForModeration": true
  },
  "validatedFor": 216870972244,
  "avatar": 2925297592678,
  "commentCount": 40,
  "upVotes": 46,
  "downVotes": 0,
  "validateAction": {
    "actionId": 319340,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}