{
  "id": 6320,
  "activeVersion": 11,
  "score": 47,
  "votableId": 17159057,
  "codingamerId": 3533314,
  "views": 1031,
  "commentableId": 17067594,
  "title": "Volcanoes",
  "status": "ACCEPTED",
  "type": "PUZZLE_MULTI",
  "nickname": "skotz",
  "publicHandle": "632083262eceb06228a52291af71e1c267b8",
  "codingamerHandle": "e23f3f156553f12127e1db98ce4fb5764133353",
  "lastVersion": {
    "version": 11,
    "autocloseTime": 1622381455686,
    "data": {
      "title": "Volcanoes",
      "topics": [
        {
          "id": 86,
          "handle": "simulation",
          "labelMap": {
            "1": "Simulation",
            "2": "Simulation"
          },
          "pageTitle": "Simulation: exercises and theory",
          "puzzleCount": 24,
          "parentTopicId": 42,
          "contentDetailsId": 72
        },
        {
          "id": 68,
          "handle": "pathfinding",
          "labelMap": {
            "1": "Recherche de chemins",
            "2": "Pathfinding"
          },
          "pageTitle": "Pathfinding: exercises and theory",
          "puzzleCount": 32,
          "parentTopicId": 41,
          "contentDetailsId": 69
        }
      ],
      "refereeMd5": "3533314/2233b187f88e459edbc7822cc06adf69",
      "testHandle": "8735769451b63cd762db780daae7c2d9753b78",
      "viewerCode": "var Drawer=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";n.r(e),n.d(e,\"Drawer\",(function(){return gn}));var r={baseUrl:\"https://cdn-games.codingame.com/community/3533314-1614039421417/\",images:{},sprites:[],fonts:[]};function o(t,e,n){return t<=e?t+(e-t)*n:e+(t-e)*(1-n)}function i(t,e,n){return Math.min(1,Math.max(0,(n-t)/(e-t)))}function a(t,e,n,r,o){return o=o||0,Math.min(n/(t+o),r/(e+o))}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=[],s=[],c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"listen\",value:function(t){if(\"function\"!=typeof t)throw new TypeError(t+\" is not a function\");s.push(t)}},{key:\"push\",value:function(t){u.push(t),s.forEach((function(e){return e(t)}))}}],null&&f(e.prototype,null),n&&f(e,n),t}();function l(t){return(l=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function y(t){var e=\"function\"==typeof Map?new Map:void 0;return function(t){if(null===t||-1===Function.toString.call(t).indexOf(\"[native code]\"))return t;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return p(t,arguments,v(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,t)}(t)}function p(t,e,n){return(p=h()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&d(r,n.prototype),r}).apply(null,arguments)}function h(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,y(Error));var t=function(t){var e=h();return function(){var n,r=v(t);return function(t,e){if(e&&(\"object\"===l(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=v(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,\"Invalid color token: there is no player at index \".concat(n,\". Make sure to use getColorToken() if you want the color of a specific player.\"))).playerIdx=n,o.cause=r,o.name=\"InvalidPlayerColorTokenError\",o}return e}();function m(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e,n){return n<1?t:e}var x={type:Number,lerpMethod:function(t,e,n){return null===e?null:o((t={r:(16711680&t)>>16,g:(65280&t)>>8,b:255&t}).r,(e={r:(16711680&e)>>16,g:(65280&e)>>8,b:255&e}).r,n)<<16|o(t.g,e.g,n)<<8|o(t.b,e.b,n)},convert:function(t,e){var n=-(t+1);try{return t<0?e.players[n].color:t}catch(t){return c.push(new b(n)),16777215}}},w={type:String,lerpMethod:g,convert:A},O={type:Number,lerpMethod:function(t,e,n,r){for(;e>t+Math.PI;)e-=2*Math.PI;for(;e<t-Math.PI;)e+=2*Math.PI;return(n=void 0!==r&&Math.abs(e-t)>r?e:t+(e-t)*n)%(2*Math.PI)},convert:function(t){return t*Math.PI/180}},P={type:Number,lerpMethod:g},S=(n={type:function(t){return\"1\"===t},lerpMethod:g},e={type:Number,lerpMethod:function(t,e,n){return e<t?e:o(t,e,n)}},{default:{type:Number,lerpMethod:o},visible:n,rotation:O,skewX:O,skewY:O,fillColor:x,lineColor:x,strokeColor:x,tint:x,animationProgressTime:e,maxWidth:P,mask:P,baseWidth:P,baseHeight:P,image:w,images:w,scaleMode:w,restarted:{type:String,convert:function(t,e,n,r){return t?{date:n.date+r*n.frameDuration}:null},lerpMethod:g},playing:n,duration:P,blendMode:P,loop:n,text:T(T({},w),{},{convert:function(t,e){t=A(t);for(var n=/\\$(\\d)/g,r=n.exec(t),o=\"\",i=0;r;)r[1]<e.players.length&&(o+=t.substring(i,r.index),o+=e.players[+r[1]].name),i=r.index+r[0].length,r=n.exec(t);return o+t.substring(i)}}),textAlign:T(T({},w),{},{convert:function(t){return{0:\"left\",1:\"center\",2:\"right\"}[t]}}),fontFamily:w,fontWeight:w,children:T(T({},w),{},{convert:function(t){return t?t.split(\",\").map((function(t){return+t})):[]}}),points:T(T({},w),{},{convert:function(t){return t?t.split(\",\").map((function(t){return parseInt(t)})):[]},lerpMethod:function(t,e,n){return t.length===e.length?t.map((function(t,r){return o(t,e[r],n)})):g(t,e,n)}})});function A(t){return(t=t.split(\"\\\\'\").join(\"'\")).includes(\" \")||t.includes(\";\")||t.includes(\"\\n\")?t.slice(1,t.length-1):t}function j(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E(t){return(E=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var k=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.defaultState={x:0,y:0,scaleX:1,scaleY:1,skewX:0,skewY:0,zIndex:0,alpha:1,visible:!1,rotation:0,mask:-1},this.states={}}var e,n,r;return e=t,r=[{key:\"createState\",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return R(R({t:t},e),{},{curve:n})}}],(n=[{key:\"init\",value:function(){this.properties=Object.keys(this.defaultState),this.initDisplay(),this.currentState=Object.assign({},this.defaultState),\"object\"===E(this.graphics)&&this.container.addChild(this.graphics)}},{key:\"setHidden\",value:function(t){this.hide=t,this.container.visible=this.currentState.visible&&!this.hide}},{key:\"addState\",value:function(e,n,r){this.states[r]||(this.states[r]=[]);var o=t.createState(e,n.values,n.curve);(n=this.states[r].find((function(t){return t.t===e})))&&0===Object.keys(o.curve).length&&(o.curve=n.curve),n?(D(o)||D(n)||c.push(new Error(\"Different updates for same t \"+e)),Object.assign(n,o)):this.states[r].push(o)}},{key:\"set\",value:function(t,e,n){this.addState(t,e,n)}},{key:\"render\",value:function(t,e,n){var r=this.states[e.number];this.container.visible=!1;var o,a=null,f=1;if(r&&r.length){for(var u=0;u<r.length-1&&r[u].t<t;)u++;if(a=r[u-1],o=r[u],a)f=i(a.t,o.t,t);else{var s=Object.keys(this.states),c=s.indexOf(e.number.toString())-1;for(-1===c&&(c=s.length-1);0<=c&&s[c]>=e.number;)c--;var l=this.states[s[c]]||[];f=!(a=l[l.length-1])&&t>=o.t?(a=o,1):i(0,o.t,t)}}else{for(var y=Object.keys(this.states),p=y.length-1;0<=p&&y[p]>e.number;)p--;null!=(l=this.states[y[p]])?o=a=l[l.length-1]:Object.assign(this.currentState,this.defaultState)}if(a){var h,d={},v=Object.assign({},this.currentState),b=function(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(this.properties);try{for(b.s();!(h=b.n()).done;){var m=h.value,T=(S[m]||S.default).lerpMethod,g=o.curve[m]||function(t){return t},x=T(a[m],o[m],g(f));x!==this.currentState[m]&&(d[m]=!0,v[m]=x)}}catch(t){b.e(t)}finally{b.f()}this.updateDisplay(v,d,n,e,t),Object.assign(this.currentState,v),this.container.visible=this.container._visible,d.children&&(n.mustResetTree=!0,\"function\"==typeof this.postUpdate&&n.updatedBuffers.push(this)),d.zIndex&&(n.mustResort=!0),d.mask&&(n.maskUpdates[this.id]=v.mask),0!==Object.keys(d).length&&this.parent&&this.parent.notifyChange()}}},{key:\"notifyChange\",value:function(){this.parent&&this.parent.notifyChange()}},{key:\"initDisplay\",value:function(){this.container=new PIXI.Container,this.container.zIndex=this.defaultState.zIndex,this.container.id=this.id,this.container._visible=this.defaultState.visible}},{key:\"updateDisplay\",value:function(t,e,n){this.container.zIndex=t.zIndex,this.container.alpha=t.alpha,(e.x||e.y)&&this.container.position.set(t.x*n.toWorldUnits,t.y*n.toWorldUnits),(e.scaleX||e.scaleY)&&this.container.scale.set(t.scaleX||1e-8,t.scaleY||1e-8),this.container.rotation=t.rotation,this.container._visible=t.visible&&!this.hide,this.container.skew.set(t.skewX,t.skewY)}}])&&_(e.prototype,n),r&&_(e,r),t}();function D(t){return Object.keys(t).length===Object.keys(k.createState()).length}function I(t){return(I=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,e,n){return(C=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=W(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var U=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(o,k);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=W(t);return function(t,e){if(e&&(\"object\"===I(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=W(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),t=r.call(this),Object.assign(t.defaultState,{fillColor:o.defaultFillColor(),lineWidth:o.defaultLineWidth(),lineColor:o.defaultLineColor(),fillAlpha:o.defaultFillAlpha(),lineAlpha:o.defaultLineAlpha(),blendMode:PIXI.BLEND_MODES.NORMAL}),t}return t=o,n=[{key:\"defaultLineWidth\",value:function(){return 0}},{key:\"defaultFillColor\",value:function(){return 16777215}},{key:\"defaultLineColor\",value:function(){return 0}},{key:\"defaultLineAlpha\",value:function(){return 1}},{key:\"defaultFillAlpha\",value:function(){return 1}}],(e=[{key:\"initDisplay\",value:function(){C(W(o.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Graphics,this.graphics.lineStyle(this.defaultState.lineWidth,this.defaultState.lineColor,this.defaultState.lineAlpha),null!==this.defaultState.fillColor&&this.graphics.beginFill(this.defaultState.fillColor,this.defaultState.fillAlpha)}},{key:\"updateDisplay\",value:function(t,e,n){C(W(o.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.blendMode=t.blendMode}}])&&F(t.prototype,e),n&&F(t,n),o}();function X(t){return(X=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Y(t,e,n){return(Y=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=K(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function N(t,e){return(N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var H=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N(t,e)}(o,U);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=K(t);return function(t,e){if(e&&(\"object\"===X(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=K(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),(t=r.call(this)).defaultState.radius=o.defaultRadius(),t}return t=o,n=[{key:\"defaultRadius\",value:function(){return 100}}],(e=[{key:\"initDisplay\",value:function(){Y(K(o.prototype),\"initDisplay\",this).call(this),this.graphics.drawCircle(0,0,this.defaultState.radius),null!==this.defaultState.fillColor&&this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,e,n){Y(K(o.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.radius||e.lineColor||e.lineWidth||e.fillColor||e.fillAlpha||e.lineAlpha)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor),this.graphics.drawCircle(0,0,t.radius*n.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}])&&B(t.prototype,e),n&&B(t,n),o}();function L(t){return(L=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q(t,e,n){return(q=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=J(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function V(t,e){return(V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function J(t){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Q=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&V(t,e)}(o,U);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=J(t);return function(t,e){if(e&&(\"object\"===L(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=J(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),(t=r.call(this)).defaultState.x2=o.defaultPosition(),t.defaultState.y2=o.defaultPosition(),t}return t=o,n=[{key:\"defaultPosition\",value:function(){return 100}}],(e=[{key:\"initDisplay\",value:function(){q(J(o.prototype),\"initDisplay\",this).call(this)}},{key:\"updateDisplay\",value:function(t,e,n){q(J(o.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.lineWidth||e.lineColor||e.lineAlpha||e.x2||e.y2)&&(this.graphics.clear(),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.moveTo(0,0),this.graphics.lineTo(-this.container.x+t.x2*n.toWorldUnits,-this.container.y+t.y2*n.toWorldUnits))}}])&&G(t.prototype,e),n&&G(t,n),o}();function Z(t){return(Z=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function et(t,e,n){return(et=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ot=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(o,U);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rt(t);return function(t,e){if(e&&(\"object\"===Z(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=rt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),t=r.call(this),Object.assign(t.defaultState,{width:o.defaultSideLength(),height:o.defaultSideLength()}),t}return t=o,n=[{key:\"defaultSideLength\",value:function(){return 100}}],(e=[{key:\"initDisplay\",value:function(){et(rt(o.prototype),\"initDisplay\",this).call(this),this.graphics.drawRect(0,0,this.defaultState.width,this.defaultState.height),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,e,n){et(rt(o.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.lineWidth||e.lineColor||e.width||e.height||e.lineAlpha||e.fillColor)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawRect(0,0,t.width*n.toWorldUnits,t.height*n.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}])&&tt(t.prototype,e),n&&tt(t,n),o}();function it(t){return(it=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ft(t,e,n){return(ft=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=st(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ct=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}(o,k);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=st(t);return function(t,e){if(e&&(\"object\"===it(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=st(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),t=r.call(this),Object.assign(t.defaultState,{anchorX:o.defaultAnchor(),anchorY:o.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215}),t}return t=o,n=[{key:\"defaultAnchor\",value:function(){return 0}}],(e=[{key:\"initDisplay\",value:function(){ft(st(o.prototype),\"initDisplay\",this).call(this)}},{key:\"updateDisplay\",value:function(t,e,n){ft(st(o.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.anchor.set(t.anchorX,t.anchorY),this.graphics.blendMode=t.blendMode,this.graphics.tint=t.tint}}])&&at(t.prototype,e),n&&at(t,n),o}();function lt(t){return(lt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function yt(t,e,n){return(yt=pt()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&ht(r,n.prototype),r}).apply(null,arguments)}function pt(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ht(t,e){return(ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dt(t){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ht(t,e)}(e,function(t){var e=\"function\"==typeof Map?new Map:void 0;return function(t){if(null===t||-1===Function.toString.call(t).indexOf(\"[native code]\"))return t;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return yt(t,arguments,dt(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ht(n,t)}(t)}(Error));var t=function(t){var e=pt();return function(){var n,r=dt(t);return function(t,e){if(e&&(\"object\"===lt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=dt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,'Could not find image: \"'+n+'\". Make sure it is in your assets folder and is spelled correctly.')).image=n,o.cause=r,o.name=\"MissingImageError\",o}return e}();function bt(t){return(bt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tt(t,e,n){return(Tt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function gt(t,e){return(gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xt(t){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gt(t,e)}(r,ct);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xt(t);return function(t,e){if(e&&(\"object\"===bt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=xt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{image:null,baseWidth:null,baseHeight:null,scaleMode:\"LINEAR\"}),t.missingTextures={},t}return t=r,(e=[{key:\"updateDisplay\",value:function(t,e,n){if(Tt(xt(r.prototype),\"updateDisplay\",this).call(this,t,e,n),e.image)try{null!==t.image?this.graphics.texture=PIXI.Texture.fromFrame(t.image):this.graphics.texture=PIXI.Texture.EMPTY,this.graphics.texture.baseTexture.scaleMode=PIXI.SCALE_MODES[t.scaleMode]}catch(e){this.missingTextures[t.image]||(this.missingTextures[t.image]=!0,c.push(new vt(t.image,e)))}e.baseWidth&&(this.graphics.width=t.baseWidth),e.baseHeight&&(this.graphics.height=t.baseHeight)}}])&&mt(t.prototype,e),r}();function Ot(t){return(Ot=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function St(t,e,n){return(St=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function At(t,e){return(At=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jt(t){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&At(t,e)}(r,wt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jt(t);return function(t,e){if(e&&(\"object\"===Ot(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=jt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),n.apply(this,arguments)}return t=r,(e=[{key:\"initDisplay\",value:function(){St(jt(r.prototype),\"initDisplay\",this).call(this),null===this.defaultState.image?this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY):this.graphics=PIXI.Sprite.fromFrame(this.defaultState.image)}}])&&Pt(t.prototype,e),r}();function zt(t,e){if(t.width>e)for(;3<t.text.length&&t.width>e;)t.text=t.text.slice(0,-4)+\"...\"}function Et(t){return(Et=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kt(t,e,n){return(kt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=It(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Dt(t,e){return(Dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function It(t){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ft=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dt(t,e)}(r,ct);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=It(t);return function(t,e){if(e&&(\"object\"===Et(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=It(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{text:\"\",textAlign:\"left\",strokeColor:0,strokeThickness:0,fillColor:0,fontSize:26,fontFamily:\"Lato\",fontWeight:\"normal\",maxWidth:0}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){kt(It(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Text(this.defaultState.text,{align:this.defaultState.textAlign,fontSize:this.defaultState.fontSize+\"px\",fontFamily:this.defaultState.fontFamily,fill:this.defaultState.fillColor})}},{key:\"updateDisplay\",value:function(t,e,n){kt(It(r.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.style.align=t.textAlign,this.graphics.style.stroke=t.strokeColor,this.graphics.style.strokeThickness=t.strokeThickness,this.graphics.style.fill=t.fillColor,this.graphics.style.fontSize=t.fontSize||1,this.graphics.style.fontFamily=t.fontFamily,this.graphics.style.fontWeight=t.fontWeight,(e.text||e.strokeThickness||e.fontSize||e.fontFamily||e.fontWeight||e.maxWidth||e.maxWidth)&&(this.graphics.text=t.text,t.maxWidth&&zt(this.graphics,t.maxWidth))}}])&&_t(t.prototype,e),r}();function Ct(t){return(Ct=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Mt(t,e,n){return(Mt=Wt()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&Ut(r,n.prototype),r}).apply(null,arguments)}function Wt(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Ut(t,e){return(Ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xt(t){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ut(t,e)}(e,function(t){var e=\"function\"==typeof Map?new Map:void 0;return function(t){if(null===t||-1===Function.toString.call(t).indexOf(\"[native code]\"))return t;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Mt(t,arguments,Xt(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ut(n,t)}(t)}(Error));var t=function(t){var e=Wt();return function(){var n,r=Xt(t);return function(t,e){if(e&&(\"object\"===Ct(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=Xt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,'Could not find font: \"'+n+'\". Make sure it is in your assets folder and is spelled correctly.')).font=n,o.cause=r,o.name=\"MissingBitmapFontError\",o}return e}();function Yt(t){return(Yt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kt(t,e,n){return(Kt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Lt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Ht(t,e){return(Ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lt(t){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ht(t,e)}(r,k);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lt(t);return function(t,e){if(e&&(\"object\"===Yt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=Lt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{text:\"\",textAlign:\"left\",fontSize:26,fontFamily:null,anchorX:ct.defaultAnchor(),anchorY:ct.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215,maxWidth:0}),t.missingFonts={},t}return t=r,(e=[{key:\"initDisplay\",value:function(){Kt(Lt(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(t,e,n){Kt(Lt(r.prototype),\"updateDisplay\",this).call(this,t,e,n),null!==t.fontFamily?PIXI.extras.BitmapText.fonts[t.fontFamily]?(0===this.graphics.children.length?(this.displayed=new PIXI.extras.BitmapText(\"\",{font:{size:t.fontSize||1,name:t.fontFamily}}),this.graphics.addChild(this.displayed)):this.displayed.font={size:t.fontSize||1,name:t.fontFamily},this.displayed.anchor.set(t.anchorX,t.anchorY),this.displayed.blendMode=t.blendMode,this.displayed.tint=t.tint,this.displayed.align=t.textAlign,(e.text||e.maxWidth||e.fontSize||e.fontFamily)&&(this.displayed.text=t.text,t.maxWidth&&zt(this.displayed,t.maxWidth))):(this.missingFonts[t.fontFamily]||(this.missingFonts[t.fontFamily]=!0,c.push(new Bt(t.fontFamily))),this.graphics.removeChildren()):this.graphics.removeChildren()}}])&&Nt(t.prototype,e),r}();function $t(t){return($t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vt(t,e,n){return(Vt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Jt(t,e){return(Jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qt(t){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Zt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jt(t,e)}(r,k);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qt(t);return function(t,e){if(e&&(\"object\"===$t(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=Qt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{children:[]}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){Vt(Qt(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(t,e,n){Vt(Qt(r.prototype),\"updateDisplay\",this).call(this,t,e,n)}},{key:\"childrenContainer\",get:function(){return this.graphics}}])&&qt(t.prototype,e),r}();function te(t){return(te=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function ee(t,e){return(ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ne(t){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var re=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ee(t,e)}(e,Zt);var t=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ne(t);return function(t,e){if(e&&(\"object\"===te(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=ne(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(e);function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),t.apply(this,arguments)}return e}(),oe=null,ie=[];function ae(t){return(ae=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ue(t,e,n){return(ue=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ce(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function se(t,e){return(se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ce(t){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var le=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&se(t,e)}(r,Zt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ce(t);return function(t,e){if(e&&(\"object\"===ae(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=ce(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),n.apply(this,arguments)}return t=r,(e=[{key:\"initDisplay\",value:function(){var t;ue(ce(r.prototype),\"initDisplay\",this).call(this),this.gameTexture=PIXI.RenderTexture.create(1920,1080),t=this.gameTexture,ie.push(t),this.graphics=new PIXI.Sprite(this.gameTexture),this.buffer=new PIXI.Container,this.needsRender=!0}},{key:\"postUpdate\",value:function(){this.needsRender&&(oe.render(this.buffer,this.gameTexture),this.needsRender=!1)}},{key:\"childrenContainer\",get:function(){return this.buffer}},{key:\"notifyChange\",value:function(){this.needsRender=!0,this.parent&&this.parent.notifyChange()}}])&&fe(t.prototype,e),r}();function ye(t){return(ye=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function pe(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function he(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pe(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function de(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ve(t,e,n){return(ve=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=me(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function be(t,e){return(be=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function me(t){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Te=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&be(t,e)}(r,ct);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=me(t);return function(t,e){if(e&&(\"object\"===ye(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=me(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{images:\"\",loop:!1,duration:1e3,playing:!0,restarted:null,animationProgress:0,date:0}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){ve(me(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY)}},{key:\"addState\",value:function(t,e,n,o){ve(me(r.prototype),\"addState\",this).call(this,t,e,n),n=this.states[n].find((function(e){return e.t===t})),o=o.date+o.frameDuration*t,n.date=o}},{key:\"updateDisplay\",value:function(t,e,n,o,i){if(ve(me(r.prototype),\"updateDisplay\",this).call(this,t,e,n),t.images){if(n=t.images.split(\",\"),0<=t.animationProgress){i=o.date+o.frameDuration*i,i=he(he({},t),{},{date:i}),this.computeAnimationProgressTime(t,i),i=Math.floor(n.length*i.animationProgress),n=t.loop?n[i%n.length]:n[i]||n[n.length-1];try{this.graphics.texture=PIXI.Texture.fromFrame(n)}catch(t){c.push(new vt(n,t))}}}else this.graphics.texture=PIXI.Texture.EMPTY}},{key:\"computeAnimationProgressTime\",value:function(t,e){e.restarted&&e.restarted.date===e.date?e.animationProgress=0:(e.animationProgress=t.animationProgress,t.playing&&(e.animationProgress+=(e.date-t.date)/t.duration))}}])&&de(t.prototype,e),r}();function ge(t){return(ge=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function we(t,e,n){return(we=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pe(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Oe(t,e){return(Oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pe(t){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Se=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oe(t,e)}(o,U);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Pe(t);return function(t,e){if(e&&(\"object\"===ge(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=Pe(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),t=r.call(this),Object.assign(t.defaultState,{width:o.defaultSideLength(),height:o.defaultSideLength(),radius:o.defaultRadius()}),t}return t=o,n=[{key:\"defaultSideLength\",value:function(){return 100}},{key:\"defaultRadius\",value:function(){return 20}}],(e=[{key:\"initDisplay\",value:function(){we(Pe(o.prototype),\"initDisplay\",this).call(this),this.graphics.drawRoundedRect(0,0,this.defaultState.width,this.defaultState.height,this.defaultState.radius),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,e,n){we(Pe(o.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.lineWidth||e.lineColor||e.lineAlpha||e.fillColor||e.radius||e.height||e.width)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawRoundedRect(0,0,t.width*n.toWorldUnits,t.height*n.toWorldUnits,t.radius*n.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}])&&xe(t.prototype,e),n&&xe(t,n),o}();function Ae(t){return(Ae=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Re(t,e,n){return(Re=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ee(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function ze(t,e){return(ze=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ee(t){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _e=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ze(t,e)}(r,U);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ee(t);return function(t,e){if(e&&(\"object\"===Ae(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=Ee(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{points:[]}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){Re(Ee(r.prototype),\"initDisplay\",this).call(this),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,e,n){Re(Ee(r.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.lineWidth||e.lineColor||e.lineAlpha||e.fillColor||e.points)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawPolygon(t.points.map((function(t){return t*n.toWorldUnits}))),null!==t.fillColor&&this.graphics.endFill())}}])&&je(t.prototype,e),r}();function ke(t){return(ke=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function De(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ie(t,e,n){return(Ie=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ce(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Fe(t,e){return(Fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ce(t){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Me=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fe(t,e)}(r,wt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ce(t);return function(t,e){if(e&&(\"object\"===ke(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=Ce(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{tileX:0,tileY:0,tileScaleX:1,tileScaleY:1}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){Ie(Ce(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.extras.TilingSprite(PIXI.Texture.EMPTY)}},{key:\"updateDisplay\",value:function(t,e,n){Ie(Ce(r.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.tilePosition.x=t.tileX,this.graphics.tilePosition.y=t.tileY,this.graphics.tileScale.x=t.tileScaleX,this.graphics.tileScale.y=t.tileScaleY}}])&&De(t.prototype,e),r}();function We(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ue=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"create\",value:function(t){var e={C:H,R:ot,L:Q,S:Rt,T:Ft,X:Gt,G:re,B:le,A:Te,K:Se,P:_e,D:Me}[t];if(!e)throw new Error(\"Exception: entity type not found: \"+t);return new e}}],null&&We(e.prototype,null),n&&We(e,n),t}();function Xe(t){var e=1.70158,n=0,r=1;return 0===t?0:1==(t/=1)?1:(n=n||.3,e=r<Math.abs(1)?(r=1,n/4):n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*t)*Math.sin((+t-e)*(2*Math.PI)/n)+1)}function Be(t){return t<.5?2*t*t:(4-2*t)*t-1}function Ye(t){return Math.pow(t,3)}function Ne(t){return 1+Math.pow(t-1,3)}function Ke(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function He(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function Le(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ge(t,e,n){return e&&Le(t.prototype,e),n&&Le(t,n),t}var $e={r:\"rotation\",R:\"radius\",X:\"x2\",Y:\"y2\",w:\"width\",h:\"height\",t:\"tint\",f:\"fillColor\",F:\"fillAlpha\",c:\"lineColor\",W:\"lineWidth\",A:\"lineAlpha\",a:\"alpha\",i:\"image\",S:\"strokeThickness\",sc:\"strokeColor\",ff:\"fontFamily\",s:\"fontSize\",fw:\"fontWeight\",T:\"text\",ta:\"textAlign\",ch:\"children\",sx:\"scaleX\",sy:\"scaleY\",ax:\"anchorX\",ay:\"anchorY\",kx:\"skewX\",ky:\"skewY\",v:\"visible\",z:\"zIndex\",b:\"blendMode\",I:\"images\",rs:\"restarted\",p:\"playing\",l:\"loop\",d:\"duration\",bw:\"baseWidth\",bh:\"baseHeight\",ps:\"points\",tx:\"tileX\",ty:\"tileY\",tsx:\"tileScaleX\",tsy:\"tileScaleY\",sm:\"scaleMode\"};n=function(){function t(e,n){He(this,t),this.id=++n.instanceCount,this.type=e[0]}return Ge(t,[{key:\"apply\",value:function(t){var e=Ue.create(this.type);e.id=this.id,t.set(this.id,e)}}]),t}(),w=function(){function t(e,n){var o=(c=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i=[],a=!0,f=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){f=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(f)throw o}}return i}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return Ke(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}(e,8))[0],i=(e=c[1],c[2]),a=c[3],f=c[4],u=c[5],s=c[6],c=c[7];He(this,t),this.loader=new PIXI.loaders.Loader,\"0\"===i&&(i=PIXI.utils.TextureCache[e].width),\"0\"===a&&(a=PIXI.utils.TextureCache[e].height);for(var l=0<c?c:s,y={frames:{},meta:{image:(r.baseUrl||\"\")+r.images[e]}},p=0;p<s;p++)y.frames[1<s?o+p:o]={frame:{x:i*u+p%l*i,y:a*f+Math.floor(p/l)*a,w:i,h:a},sourceSize:{w:i,h:a},rotated:!1,trimmed:!1};e=\"data:text/json;charset=UTF-8,\"+JSON.stringify(y),PIXI.utils.TextureCache[e+\"_image\"]||this.loader.add(e,{crossOrigin:!0})}return Ge(t,[{key:\"apply\",value:function(){var t=this;if(0<Object.keys(this.loader.resources).length)return new Promise((function(e){t.loader.load(),t.loader.on(\"complete\",e)}))}}]),t}();function qe(t){return function(t){if(Array.isArray(t))return Ve(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return Ve(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Ve(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Qe={C:n,U:function(){function t(e,n,r){He(this,t),this.id=+e[0],this.t=+e[1],this.params={},this.curve={};for(var o=2;o<e.length;){var i=$e[e[o]]||e[o],a=S[i]||S.default,f=a.type(e[o+1]);\"function\"==typeof a.convert&&(f=a.convert(f,n,r,this.t)),a=t.curves[e[o+2]],this.params[i]=f,o+=2,a&&(this.curve[i]=a,o+=1)}}return Ge(t,[{key:\"apply\",value:function(t,e){(t=t.get(this.id)).addState(this.t,{values:this.params,curve:this.curve},e.number,e),t.stateAdded=!0}}],[{key:\"curves\",get:function(){return{_:function(t){return t<1?0:1},\"\":Be,\"\":Ye,\"\":Ne,\"~\":Xe,\"\":function(t){return 1}}}}]),t}(),L:w};function Ze(t,e){for(var n=[],r=\"\",o=0,i=\"\",a=!1;o<t.length;){var f=t[o++];f===e?a?r+=f:(n.push(r),r=\"\"):\"'\"===f&&\"\\\\\"!==i?(a=!a,r+=f):\"\\\\\"===i?r+=\"'\"===f?\"\\\\'\":\"\\\\\"+f:\"\\\\\"!==f&&(r+=f),i=f}return n.push(r),n}var tn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"parse\",value:function(t,e,n){var r,o=[],i=Ze(t,\"\\n\");for(r in i){var a=Qe[i[r][0]];if(!a)throw new Error(\"Unrecognised command : \"+i[r][0]);o=[].concat(qe(o),qe(function(t,e,n,r){e=Ze(e,\";\");var o=[];return e.forEach((function(e){return o.push(new t(Ze(e,\" \"),n,r))})),o}(a,i[r].slice(1),e,n)))}return o}}],null&&Je(e.prototype,null),n&&Je(e,n),t}();function en(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function rn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nn(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function on(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var an={},fn=[function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.entities=new Map,this.frames=[],this.loadingAssets=0,this.extrapolationMap={},this.globalData={toWorldUnits:1,mustResetTree:!0,mustResort:!0,maskUpdates:{},updatedBuffers:[],players:[],instanceCount:0},an.entities=this.entities}var e,n,r;return e=t,r=[{key:\"name\",get:function(){return\"entitymodule\"}}],(n=[{key:\"handleFrameData\",value:function(t,e){var n=this;!e||(r=tn.parse(e,this.globalData,t))&&r.forEach((function(e){(e=e.apply(n.entities,t))&&(n.loadingAssets++,e.then((function(){n.loadingAssets--})))}));var r=rn({},t);return r.previous=this.frames[this.frames.length-1]||r,this.extrapolate(r),r!==r.previous&&(r.previous.next=r),this.frames.push(r),r}},{key:\"lastElementOf\",value:function(t){return t[t.length-1]}},{key:\"extrapolate\",value:function(t){var e=this,n=t.number,r=t.previous.number;this.entities.forEach((function(o){var i,a;o.stateAdded&&(o.stateAdded=!1,o.states[n]||(o.states[n]=[]),e.extrapolationMap[o.id]||(e.extrapolationMap[o.id]=rn({},o.defaultState)),(i=o.states[n]).sort((function(t,e){return t.t-e.t})),i.length&&1===e.lastElementOf(i).t||o.addState(1,{},n,t),a=e.extrapolationMap[o.id],o.states[r]&&r!==n&&(a=o.states[r][o.states[r].length-1]),o.states[n]=i.map((function(t){return t=e.extrapolationMap[o.id]=rn(rn({},e.extrapolationMap[o.id]),t),\"function\"==typeof o.computeAnimationProgressTime&&o.computeAnimationProgressTime(a,t),a=t})))}))}},{key:\"reinitScene\",value:function(t,e){this.globalData.toPixel=1920/e.width*e.oversampling,this.globalData.mustResetTree=!0,an.container=this.container=t,this.entities.forEach((function(t){t.init()}))}},{key:\"sortChildren\",value:function(t){t.children.sort((function(t,e){return t.zIndex===e.zIndex?t.id-e.id:t.zIndex-e.zIndex}))}},{key:\"stillLoading\",value:function(){return 0<this.loadingAssets}},{key:\"updateScene\",value:function(t,e,n){var r=this;if(!this.stillLoading()){for(var o in this.entities.forEach((function(t){return t.render(n,e,r.globalData)})),this.globalData.mustResetTree&&(this.reconstructTree(),this.globalData.mustResetTree=!1,this.globalData.mustResort=!0),this.globalData.mustResort&&(this.resortTree(),this.globalData.mustResort=!1),this.globalData.maskUpdates){var i=this.entities.get(+o);o=this.globalData.maskUpdates[o];i.container.mask=-1===o?null:this.entities.get(o).graphics}var a,f=function(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return en(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(this.globalData.updatedBuffers);try{for(f.s();!(a=f.n()).done;)a.value.postUpdate()}catch(t){f.e(t)}finally{f.f()}this.globalData.maskUpdates={}}}},{key:\"resortTree\",value:function(){var t=this;this.entities.forEach((function(e){e instanceof Zt&&t.sortChildren(e.childrenContainer)})),this.sortChildren(this.container)}},{key:\"reconstructTree\",value:function(){var t=this;this.container.removeChildren(),this.entities.forEach((function(e){e instanceof Zt&&(e.childrenContainer.removeChildren(),e.currentState.children.forEach((function(n){n=t.entities.get(n),e.childrenContainer.addChild(n.container),n.parent=e})))})),this.entities.forEach((function(e){e.container.parent||t.container.addChild(e.container)}))}},{key:\"handleGlobalData\",value:function(t,e){this.globalData.players=t,t=e.width,e=e.height,this.globalData.toWorldUnits=a(t,e,1920,1080),an.toWorldUnits=this.globalData.toWorldUnits,an.hasOwnProperty(\"coeff\")||Object.defineProperty(an,\"coeff\",{get:function(){var t='The \"coeff\" property of GraphicEntityModule\\'s API is deprecated, please use \"toWorldUnits\" instead',e=(new Error).stack;return console.groupCollapsed?(console.groupCollapsed(\"%cDeprecation Warning: %c%s\",\"color:#614108;background:#fffbe6\",\"font-weight:normal;color:#614108;background:#fffbe6\",t),console.warn(e),console.groupEnd()):console.warn(\"Deprecation Warning: \",t),an.toWorldUnits}})}}])&&on(e.prototype,n),r&&on(e,r),t}()],un=[\"#22A0E4\",\"#FF961A\"],sn={views:[\"KEY_FRAME 0\\n{\\\"global\\\":{\\\"entitymodule\\\":{\\\"width\\\":1920,\\\"height\\\":1080}},\\\"frame\\\":{\\\"entitymodule\\\":\\\"CP;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;P;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;K;K;K;K;K;K;R;R;S;T;R;S;T\\\\nU184 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 958 y 684 s 50 T ' ' z 200;226 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1382 y 831 s 50 T ' ' z 200;156 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1552 y 680 s 50 T ' ' z 200;204 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 363 y 974 s 50 T ' ' z 200;214 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 618 y 827 s 50 T ' ' z 200;152 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1297 y 533 s 50 T ' ' z 200;88 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 109 y 390 s 50 T ' ' z 200;208 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 448 y 827 s 50 T ' ' z 200;104 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 788 y 390 s 50 T ' ' z 200;138 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 873 y 537 s 50 T ' ' z 200;158 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1467 y 533 s 50 T ' ' z 200;188 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1382 y 537 s 50 T ' ' z 200;154 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1552 y 537 s 50 T ' ' z 200;178 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1043 y 680 s 50 T ' ' z 200;194 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1722 y 680 s 50 T ' ' z 200;236 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1722 y 974 s 50 T ' ' z 200;84 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 193 y 243 s 50 T ' ' z 200;108 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1213 y 243 s 50 T ' ' z 200;174 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 788 y 684 s 50 T ' ' z 200;232 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1467 y 827 s 50 T ' ' z 200;160 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1637 y 533 s 50 T ' ' z 200;112 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1128 y 390 s 50 T ' ' z 200;142 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 788 y 533 s 50 T ' ' z 200;140 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 873 y 680 s 50 T ' ' z 200;118 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1637 y 390 s 50 T ' ' z 200;130 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 533 y 537 s 50 T ' ' z 200;240 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1807 y 827 s 50 T ' ' z 200;122 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 193 y 537 s 50 T ' ' z 200;126 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 109 y 533 s 50 T ' ' z 200;196 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1722 y 537 s 50 T ' ' z 200;146 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1213 y 537 s 50 T ' ' z 200;224 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1128 y 827 s 50 T ' ' z 200;162 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 363 y 680 s 50 T ' ' z 200;222 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 958 y 827 s 50 T ' ' z 200;192 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1297 y 684 s 50 T ' ' z 200;216 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 788 y 827 s 50 T ' ' z 200;200 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1637 y 684 s 50 T ' ' z 200;206 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 278 y 827 s 50 T ' ' z 200;210 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 703 y 831 s 50 T ' ' z 200;186 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1382 y 680 s 50 T ' ' z 200;168 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 278 y 684 s 50 T ' ' z 200;238 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1637 y 827 s 50 T ' ' z 200;102 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 958 y 390 s 50 T ' ' z 200;180 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1043 y 537 s 50 T ' ' z 200;92 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 533 y 243 s 50 T ' ' z 200;176 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 618 y 684 s 50 T ' ' z 200;120 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1467 y 390 s 50 T ' ' z 200;90 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 533 y 386 s 50 T ' ' z 200;106 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1213 y 386 s 50 T ' ' z 200;136 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 618 y 533 s 50 T ' ' z 200;98 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 873 y 386 s 50 T ' ' z 200;128 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 278 y 533 s 50 T ' ' z 200;234 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1722 y 831 s 50 T ' ' z 200;144 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 958 y 533 s 50 T ' ' z 200;164 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 363 y 537 s 50 T ' ' z 200;116 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1552 y 243 s 50 T ' ' z 200;132 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 533 y 680 s 50 T ' ' z 200;150 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1128 y 533 s 50 T ' ' z 200;110 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1297 y 390 s 50 T ' ' z 200;96 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 448 y 390 s 50 T ' ' z 200;170 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 703 y 680 s 50 T ' ' z 200;182 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1128 y 684 s 50 T ' ' z 200;114 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1552 y 386 s 50 T ' ' z 200;148 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1213 y 680 s 50 T ' ' z 200;172 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 703 y 537 s 50 T ' ' z 200;124 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 193 y 680 s 50 T ' ' z 200;86 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 278 y 390 s 50 T ' ' z 200;94 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 618 y 390 s 50 T ' ' z 200;166 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 448 y 684 s 50 T ' ' z 200;220 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1043 y 974 s 50 T ' ' z 200;202 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 363 y 831 s 50 T ' ' z 200;212 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 703 y 974 s 50 T ' ' z 200;218 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1043 y 831 s 50 T ' ' z 200;100 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 873 y 243 s 50 T ' ' z 200;82 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 193 y 386 s 50 T ' ' z 200;198 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1807 y 684 s 50 T ' ' z 200;230 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1297 y 827 s 50 T ' ' z 200;190 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1467 y 684 s 50 T ' ' z 200;134 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 448 y 533 s 50 T ' ' z 200;228 0 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0 x 1382 y 974 s 50 T ' ' z 200;97 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 873 y 341 s 32 T N13 z 200;18 1 f 8421504 v 1 x 0 y 0 z 100 ps 1552,176,1474,311,1630,311;68 1 f 8421504 v 1 x 0 y 0 z 100 ps 788,895,710,760,866,760;72 1 f 8421504 v 1 x 0 y 0 z 100 ps 1128,895,1050,760,1206,760;119 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1467 y 435 s 32 T N18 z 200;121 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 193 y 582 s 32 T N22 z 200;133 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 448 y 488 s 32 T N25 z 200;141 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 788 y 488 s 32 T N29 z 200;171 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 703 y 582 s 32 T N28 z 200;187 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1382 y 582 s 32 T N36 z 200;153 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1552 y 582 s 32 T N38 z 200;47 1 f 8421504 v 1 x 0 y 0 z 100 ps 788,617,710,752,866,752;161 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 363 y 635 s 32 T S34 z 200;89 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 533 y 341 s 32 T N10 z 200;213 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 618 y 782 s 32 T S18 z 200;111 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1128 y 435 s 32 T N15 z 200;189 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1467 y 729 s 32 T S27 z 200;42 1 f 8421504 v 1 x 0 y 0 z 100 ps 363,470,285,605,441,605;91 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 533 y 288 s 32 T N02 z 200;115 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1552 y 288 s 32 T N05 z 200;207 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 448 y 782 s 32 T S17 z 200;203 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 363 y 929 s 32 T S04 z 200;46 1 f 8421504 v 1 x 0 y 0 z 100 ps 703,470,625,605,781,605;209 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 703 y 876 s 32 T S19 z 200;34 1 f 8421504 v 1 x 0 y 0 z 100 ps 1213,748,1135,613,1291,613;237 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1637 y 782 s 32 T S12 z 200;27 1 f 8421504 v 1 x 0 y 0 z 100 ps 448,601,370,466,526,466;195 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1722 y 582 s 32 T N40 z 200;191 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1297 y 729 s 32 T S25 z 200;143 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 958 y 488 s 32 T N31 z 200;199 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1637 y 729 s 32 T S29 z 200;242 1 f 12612096 v 1 a 0.5 x 853 w 50 y -150 h 200 z 5;24 1 f 8421504 v 1 x 0 y 0 z 100 ps 278,601,200,466,356,466;85 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 278 y 435 s 32 T N08 z 200;62 1 f 8421504 v 1 x 0 y 0 z 100 ps 363,1042,285,907,441,907;53 1 f 8421504 v 1 x 0 y 0 z 100 ps 1382,748,1304,613,1460,613;70 1 f 8421504 v 1 x 0 y 0 z 100 ps 1043,1042,965,907,1121,907;95 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 448 y 435 s 32 T N09 z 200;61 1 f 8421504 v 1 x 0 y 0 z 100 ps 363,764,285,899,441,899;219 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1043 y 929 s 32 T S01 z 200;6 1 f 8421504 v 1 x 0 y 0 z 100 ps 533,176,455,311,611,311;167 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 278 y 729 s 32 T S33 z 200;105 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1213 y 341 s 32 T N16 z 200;117 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1637 y 435 s 32 T N20 z 200;37 1 f 8421504 v 1 x 0 y 0 z 100 ps 1552,470,1474,605,1630,605;39 1 f 8421504 v 1 x 0 y 0 z 100 ps 1467,601,1389,466,1545,466;32 1 f 8421504 v 1 x 0 y 0 z 100 ps 958,601,880,466,1036,466;11 1 f 8421504 v 1 x 0 y 0 z 100 ps 958,323,880,458,1036,458;41 1 f 8421504 v 1 x 0 y 0 z 100 ps 363,748,285,613,441,613;17 1 f 8421504 v 1 x 0 y 0 z 100 ps 1552,454,1474,319,1630,319;16 1 f 8421504 v 1 x 0 y 0 z 100 ps 1128,323,1050,458,1206,458;58 1 f 8421504 v 1 x 0 y 0 z 100 ps 1722,470,1644,605,1800,605;223 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1128 y 782 s 32 T S08 z 200;55 1 f 8421504 v 1 x 0 y 0 z 100 ps 1467,617,1389,752,1545,752;56 1 f 8421504 v 1 x 0 y 0 z 100 ps 1297,617,1219,752,1375,752;249 1 bw 100 i $0 v 1 x 20 y 20 bh 100;151 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1297 y 488 s 32 T N35 z 200;159 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1637 y 488 s 32 T N39 z 200;80 1 f 8421504 v 1 x 0 y 0 z 100 ps 1807,895,1729,760,1885,760;225 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1382 y 876 s 32 T S10 z 200;147 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1213 y 635 s 32 T S24 z 200;20 1 f 8421504 v 1 x 0 y 0 z 100 ps 1467,323,1389,458,1545,458;127 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 278 y 488 s 32 T N23 z 200;5 1 f 8421504 v 1 x 0 y 0 z 100 ps 533,454,455,319,611,319;48 1 f 8421504 v 1 x 0 y 0 z 100 ps 618,617,540,752,696,752;244 1 f 12612096 v 1 a 0.5 x 963 w 50 y -150 h 200 z 5;248 1 f 1182598 v 1 x 10 w 120 y 10 h 120;57 1 f 8421504 v 1 x 0 y 0 z 100 ps 1722,748,1644,613,1800,613;231 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1467 y 782 s 32 T S11 z 200;87 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 109 y 435 s 32 T N06 z 200;1 1 f 8421504 v 1 x 0 y 0 z 100 ps 193,454,115,319,271,319;64 1 f 8421504 v 1 x 0 y 0 z 100 ps 448,895,370,760,526,760;252 1 bw 100 i $1 v 1 x 1800 y 20 bh 100;201 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 363 y 876 s 32 T S16 z 200;247 1 f 15790320 v 1 w 1920 x 0 y 0 h 1080;10 1 f 8421504 v 1 x 0 y 0 z 100 ps 873,176,795,311,951,311;221 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 958 y 782 s 32 T S06 z 200;81 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 193 y 341 s 32 T N07 z 200;245 1 f 1182598 v 1 a 0.5 x 1018 w 50 y -150 h 200 z 5;179 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1043 y 582 s 32 T N32 z 200;52 1 f 8421504 v 1 x 0 y 0 z 100 ps 958,617,880,752,1036,752;54 1 f 8421504 v 1 x 0 y 0 z 100 ps 1382,470,1304,605,1460,605;93 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 618 y 435 s 32 T N11 z 200;31 1 f 8421504 v 1 x 0 y 0 z 100 ps 788,601,710,466,866,466;215 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 788 y 782 s 32 T S20 z 200;123 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 193 y 635 s 32 T S32 z 200;149 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1128 y 488 s 32 T N33 z 200;205 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 278 y 782 s 32 T S15 z 200;77 1 f 8421504 v 1 x 0 y 0 z 100 ps 1722,764,1644,899,1800,899;63 1 f 8421504 v 1 x 0 y 0 z 100 ps 278,895,200,760,356,760;23 1 f 8421504 v 1 x 0 y 0 z 100 ps 109,601,31,466,187,466;59 1 f 8421504 v 1 x 0 y 0 z 100 ps 1807,617,1729,752,1885,752;14 1 f 8421504 v 1 x 0 y 0 z 100 ps 1213,176,1135,311,1291,311;109 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1297 y 435 s 32 T N17 z 200;177 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1043 y 635 s 32 T S22 z 200;173 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 788 y 729 s 32 T S39 z 200;3 1 f 8421504 v 1 x 0 y 0 z 100 ps 278,323,200,458,356,458;137 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 873 y 582 s 32 T N30 z 200;165 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 448 y 729 s 32 T S35 z 200;7 1 f 8421504 v 1 x 0 y 0 z 100 ps 618,323,540,458,696,458;129 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 533 y 582 s 32 T N26 z 200;51 1 f 8421504 v 1 x 0 y 0 z 100 ps 1128,617,1050,752,1206,752;35 1 f 8421504 v 1 x 0 y 0 z 100 ps 1128,601,1050,466,1206,466;28 1 f 8421504 v 1 x 0 y 0 z 100 ps 618,601,540,466,696,466;40 1 f 8421504 v 1 x 0 y 0 z 100 ps 1637,601,1559,466,1715,466;44 1 f 8421504 v 1 x 0 y 0 z 100 ps 278,617,200,752,356,752;74 1 f 8421504 v 1 x 0 y 0 z 100 ps 1382,1042,1304,907,1460,907;2 1 f 8421504 v 1 x 0 y 0 z 100 ps 193,176,115,311,271,311;175 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 618 y 729 s 32 T S37 z 200;183 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 958 y 729 s 32 T S21 z 200;76 1 f 8421504 v 1 x 0 y 0 z 100 ps 1467,895,1389,760,1545,760;45 1 f 8421504 v 1 x 0 y 0 z 100 ps 703,748,625,613,781,613;78 1 f 8421504 v 1 x 0 y 0 z 100 ps 1722,1042,1644,907,1800,907;9 1 f 8421504 v 1 x 0 y 0 z 100 ps 873,454,795,319,951,319;246 1 f 8421504 v 1 a 0.5 x 1073 w 50 y -150 h 200 z 5;43 1 f 8421504 v 1 x 0 y 0 z 100 ps 448,617,370,752,526,752;157 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1467 y 488 s 32 T N37 z 200;229 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1297 y 782 s 32 T S09 z 200;253 1 f 7488512 ay 0.5 v 1 ff Arial ax 1 x 1780 y 70 s 80 T $1;107 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1213 y 288 s 32 T N04 z 200;113 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1552 y 341 s 32 T N19 z 200;36 1 f 8421504 v 1 x 0 y 0 z 100 ps 1297,601,1219,466,1375,466;155 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1552 y 635 s 32 T S28 z 200;235 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1722 y 929 s 32 T S03 z 200;73 1 f 8421504 v 1 x 0 y 0 z 100 ps 1382,764,1304,899,1460,899;193 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1722 y 635 s 32 T S30 z 200;19 1 f 8421504 v 1 x 0 y 0 z 100 ps 1637,323,1559,458,1715,458;26 1 f 8421504 v 1 x 0 y 0 z 100 ps 533,748,455,613,611,613;75 1 f 8421504 v 1 x 0 y 0 z 100 ps 1297,895,1219,760,1375,760;125 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 109 y 488 s 32 T N21 z 200;8 1 f 8421504 v 1 x 0 y 0 z 100 ps 448,323,370,458,526,458;71 1 f 8421504 v 1 x 0 y 0 z 100 ps 958,895,880,760,1036,760;4 1 f 8421504 v 1 x 0 y 0 z 100 ps 109,323,31,458,187,458;83 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 193 y 288 s 32 T N01 z 200;251 1 f 12612096 v 1 x 1790 w 120 y 10 h 120;239 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1807 y 782 s 32 T S14 z 200;211 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 703 y 929 s 32 T S05 z 200;50 1 f 8421504 v 1 x 0 y 0 z 100 ps 1043,470,965,605,1121,605;60 1 f 8421504 v 1 x 0 y 0 z 100 ps 1637,617,1559,752,1715,752;233 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1722 y 876 s 32 T S13 z 200;250 1 f 459596 ay 0.5 v 1 ff Arial ax 0 x 140 y 70 s 80 T $0;21 1 f 8421504 v 1 x 0 y 0 z 100 ps 193,470,115,605,271,605;67 1 f 8421504 v 1 x 0 y 0 z 100 ps 618,895,540,760,696,760;30 1 f 8421504 v 1 x 0 y 0 z 100 ps 873,748,795,613,951,613;99 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 873 y 288 s 32 T N03 z 200;33 1 f 8421504 v 1 x 0 y 0 z 100 ps 1213,470,1135,605,1291,605;241 1 f 1182598 v 1 a 1 x 798 w 50 y -100 h 200 z 5;197 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1807 y 729 s 32 T S31 z 200;25 1 f 8421504 v 1 x 0 y 0 z 100 ps 533,470,455,605,611,605;38 1 f 8421504 v 1 x 0 y 0 z 100 ps 1552,748,1474,613,1630,613;69 1 f 8421504 v 1 x 0 y 0 z 100 ps 1043,764,965,899,1121,899;101 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 958 y 435 s 32 T N14 z 200;79 1 f 8421504 v 1 x 0 y 0 z 100 ps 1637,895,1559,760,1715,760;227 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1382 y 929 s 32 T S02 z 200;243 1 f 8421504 v 1 a 0.5 x 908 w 50 y -150 h 200 z 5;145 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1213 y 582 s 32 T N34 z 200;163 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 363 y 582 s 32 T N24 z 200;13 1 f 8421504 v 1 x 0 y 0 z 100 ps 1213,454,1135,319,1291,319;185 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1382 y 635 s 32 T S26 z 200;12 1 f 8421504 v 1 x 0 y 0 z 100 ps 788,323,710,458,866,458;181 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1128 y 729 s 32 T S23 z 200;131 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 533 y 635 s 32 T S36 z 200;65 1 f 8421504 v 1 x 0 y 0 z 100 ps 703,764,625,899,781,899;217 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 1043 y 876 s 32 T S07 z 200;139 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 873 y 635 s 32 T S40 z 200;169 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 703 y 635 s 32 T S38 z 200;103 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 788 y 435 s 32 T N12 z 200;29 1 f 8421504 v 1 x 0 y 0 z 100 ps 873,470,795,605,951,605;135 1 f 16777215 ay 0.5 v 1 ff Arial ax 0.5 a 0.5 x 618 y 488 s 32 T N27 z 200;49 1 f 8421504 v 1 x 0 y 0 z 100 ps 1043,748,965,613,1121,613;66 1 f 8421504 v 1 x 0 y 0 z 100 ps 703,1042,625,907,781,907;22 1 f 8421504 v 1 x 0 y 0 z 100 ps 193,748,115,613,271,613;15 1 f 8421504 v 1 x 0 y 0 z 100 ps 1297,323,1219,458,1375,458\\\"}}\\n\",'KEY_FRAME 1\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0 a 1 T 1;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;53 1 f 1182598;241 1 a 0.5 y -150;242 1 a 1 y -100\"}\\n','KEY_FRAME 2\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0 a 1 T 1;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;243 1 a 1 y -100;44 1 f 12612096;242 1 a 0.5 y -150\"}\\n','KEY_FRAME 3\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0 T 2;168 0 T 2;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;243 1 a 0.5 y -150;244 1 a 1 y -100\"}\\n','KEY_FRAME 4\\n{\"entitymodule\":\"U184 0 a 1 T 1;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;52 1 f 12612096;244 1 a 0.5 y -150;245 1 a 1 y -100\"}\\n','KEY_FRAME 5\\n{\"entitymodule\":\"U184 0;226 0 a 1 T 1;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;73 1 f 1182598;246 1 a 1 y -100;245 1 a 0.5 y -150\"}\\n','KEY_FRAME 6\\n{\"entitymodule\":\"U184 0 T 2;226 0 T 2;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0 T 3;168 0 T 3;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;246 1 a 0.5 y -150;241 1 a 1 y -100\"}\\n','KEY_FRAME 7\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0 a 1 T 1;100 0;82 0;198 0;230 0;190 0;134 0;228 0;241 1 a 0.5 y -150;69 1 f 1182598;242 1 a 1 y -100\"}\\n','KEY_FRAME 8\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0 a 1 T 1;94 0;166 0;220 0;202 0;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;3 1 f 12612096;243 1 a 1 y -100;242 1 a 0.5 y -150\"}\\n','KEY_FRAME 9\\n{\"entitymodule\":\"U184 0 T 3;226 0 T 3;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0 a 1 T 1;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0 a 1 T 1;222 0;192 0 a 1 T 1;216 0;200 0;206 0 a 1 T 1;210 0;186 0 T 4;168 0 T 4;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0 a 1 T 1;86 0 T 2;94 0;166 0;220 0;202 0;212 0;218 0 T 2;100 0;82 0;198 0;230 0;190 0 a 1 T 1;134 0;228 0;54 1 f 1182598;243 1 a 0.5 y -150;63 1 f 12612096;53 1 f 459596;41 1 f 12612096;44 1 f 7488512;22 1 f 12612096;244 1 a 1 y -100;55 1 f 1182598;56 1 f 1182598\"}\\n','KEY_FRAME 10\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0 a 1 T 1;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;20 1 f 12612096;244 1 a 0.5 y -150;245 1 a 1 y -100\"}\\n','KEY_FRAME 11\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0 a 1 T 1;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;246 1 a 1 y -100;61 1 f 1182598;245 1 a 0.5 y -150\"}\\n','KEY_FRAME 12\\n{\"entitymodule\":\"U184 0 T 4;226 0 T 4;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0 T 2;154 0;178 0 a 1 T 1;194 0;236 0;84 0;108 0;174 0;232 0 a 1 T 1;160 0;112 0;142 0;140 0 a 1 T 1;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0 T 2;222 0 a 1 T 1;192 0 T 2;216 0;200 0;206 0 T 2;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0 T 2;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0 T 2;86 0 T 3;94 0;166 0;220 0;202 0 T 2;212 0;218 0 T 3;100 0;82 0;198 0;230 0 a 1 T 1;190 0 T 2;134 0;228 0 a 1 T 1;76 1 f 1182598;52 1 f 7488512;73 1 f 459596;49 1 f 12612096;246 1 a 0.5 y -150;30 1 f 12612096;75 1 f 1182598;241 1 a 1 y -100;71 1 f 12612096;74 1 f 1182598\"}\\n','KEY_FRAME 13\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0 a 1 T 1;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;241 1 a 0.5 y -150;16 1 f 1182598;242 1 a 1 y -100\"}\\n','KEY_FRAME 14\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0 T 2;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;243 1 a 1 y -100;242 1 a 0.5 y -150\"}\\n','KEY_FRAME 15\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0 T 3;154 0;178 0 T 3;194 0;236 0;84 0;108 0;174 0;232 0 T 2;160 0;112 0 T 2;142 0;140 0 T 2;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0 a 1 T 1;162 0 T 3;222 0 a 0 T \\' \\';192 0 T 3;216 0;200 0;206 0 T 3;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0 T 3;90 0;106 0;136 0;98 0;128 0 a 1 T 1;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0 a 1 T 1;170 0;182 0;114 0;148 0;172 0;124 0 T 3;86 0 T 4;94 0;166 0;220 0 a 1 T 1;202 0 T 3;212 0;218 0 T 4;100 0;82 0 a 1 T 1;198 0;230 0 T 2;190 0 T 3;134 0;228 0 T 2;24 1 f 12612096;3 1 f 7488512;243 1 a 0.5 y -150;70 1 f 1182598;1 1 f 12612096;72 1 f 1182598;8 1 f 12612096;71 1 f 8421504;244 1 a 1 y -100;69 1 f 459596\"}\\n','KEY_FRAME 16\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0 a 1 T 1;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;18 1 f 12612096;244 1 a 0.5 y -150;245 1 a 1 y -100\"}\\n','KEY_FRAME 17\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0;100 0;82 0;198 0;230 0 T 3;190 0;134 0;228 0;246 1 a 1 y -100;245 1 a 0.5 y -150\"}\\n',\"KEY_FRAME 18\\n{\\\"entitymodule\\\":\\\"U184 0;226 0;156 0 a 1 T 1;204 0 a 1 T 1;214 0;152 0 a 1 T 1;88 0;208 0 a 1 T 1;104 0;138 0;158 0;188 0 T 4;154 0;178 0 T 4;194 0;236 0;84 0;108 0;174 0;232 0 T 4;160 0;112 0 T 3;142 0;140 0 T 3;118 0;130 0;240 0 a 1 T 1;122 0 a 1 T 1;126 0;196 0;146 0;224 0 T 4;162 0 T 4;222 0;192 0 T 4;216 0;200 0;206 0 a 0 T ' ';210 0;186 0;168 0;238 0 a 1 T 1;102 0;180 0 a 1 T 1;92 0;176 0;120 0 T 4;90 0;106 0;136 0;98 0;128 0 T 2;234 0;144 0;164 0 a 1 T 1;116 0 T 2;132 0;150 0;110 0 a 1 T 1;96 0 T 2;170 0;182 0;114 0 a 1 T 1;148 0 a 1 T 1;172 0;124 0 T 4;86 0;94 0;166 0 a 1 T 1;220 0 T 2;202 0 a 0 T ' ';212 0;218 0;100 0;82 0 T 2;198 0 a 1 T 1;230 0 T 4;190 0 T 4;134 0;228 0 T 3;63 1 f 8421504;50 1 f 12612096;21 1 f 12612096;59 1 f 12612096;241 1 a 1 y -100;41 1 f 7488512;72 1 f 459596;17 1 f 12612096;38 1 f 1182598;55 1 f 459596;56 1 f 459596;79 1 f 1182598;80 1 f 12612096;20 1 f 7488512;42 1 f 12612096;76 1 f 459596;34 1 f 1182598;246 1 a 0.5 y -150;43 1 f 12612096;64 1 f 1182598;36 1 f 1182598;54 1 f 459596;62 1 f 1182598;49 1 f 7488512;61 1 f 8421504;75 1 f 459596;22 1 f 7488512;15 1 f 12612096\\\"}\\n\",'KEY_FRAME 19\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0 a 1 T 1;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;67 1 f 1182598;241 1 a 0.5 y -150;242 1 a 1 y -100\"}\\n','KEY_FRAME 20\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0 a 1 T 1;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;243 1 a 1 y -100;61 1 f 12612096;242 1 a 0.5 y -150\"}\\n','KEY_FRAME 21\\n{\"entitymodule\":\"U184 0;226 0;156 0 T 2;204 0 T 2;214 0 T 2;152 0 T 2;88 0;208 0 T 2;104 0;138 0 a 1 T 1;158 0;188 0;154 0;178 0;194 0;236 0 a 1 T 1;84 0;108 0;174 0 a 1 T 1;232 0;160 0;112 0 T 4;142 0;140 0 T 4;118 0;130 0;240 0 T 2;122 0 T 2;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0 T 2;102 0 a 1 T 1;180 0 T 2;92 0;176 0;120 0;90 0;106 0 a 1 T 1;136 0;98 0;128 0 T 3;234 0;144 0;164 0 T 2;116 0 T 3;132 0;150 0 a 1 T 1;110 0 T 2;96 0 T 3;170 0;182 0;114 0 T 2;148 0 T 2;172 0;124 0;86 0;94 0;166 0 T 2;220 0 T 4;202 0 T 2;212 0 a 1 T 1;218 0;100 0;82 0 T 3;198 0 T 2;230 0;190 0;134 0;228 0 T 4;78 1 f 1182598;30 1 f 7488512;11 1 f 1182598;29 1 f 12612096;16 1 f 459596;243 1 a 0.5 y -150;70 1 f 459596;66 1 f 1182598;35 1 f 1182598;13 1 f 1182598;47 1 f 12612096;244 1 a 1 y -100;74 1 f 459596\"}\\n','KEY_FRAME 22\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0 a 1 T 1;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;51 1 f 12612096;244 1 a 0.5 y -150;245 1 a 1 y -100\"}\\n','KEY_FRAME 23\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0 T 2;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;246 1 a 1 y -100;245 1 a 0.5 y -150\"}\\n','KEY_FRAME 24\\n{\"entitymodule\":\"U184 0;226 0;156 0 T 3;204 0 T 3;214 0 T 3;152 0 T 3;88 0 a 1 T 1;208 0 T 3;104 0;138 0 T 2;158 0;188 0;154 0;178 0;194 0;236 0 T 3;84 0 a 1 T 2;108 0 a 1 T 1;174 0 T 2;232 0;160 0;112 0;142 0;140 0;118 0 a 1 T 1;130 0;240 0 T 3;122 0 T 4;126 0 a 1 T 1;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0 T 3;102 0 T 2;180 0 T 3;92 0;176 0;120 0;90 0 a 1 T 1;106 0 T 2;136 0;98 0;128 0 T 4;234 0;144 0;164 0 T 4;116 0 T 4;132 0;150 0 T 2;110 0 T 3;96 0 T 4;170 0;182 0 T 2;114 0 T 4;148 0 T 3;172 0;124 0;86 0;94 0;166 0 T 3;220 0;202 0 T 3;212 0 T 2;218 0;100 0;82 0 T 4;198 0 T 3;230 0;190 0;134 0 a 1 T 2;228 0;18 1 f 7488512;27 1 f 12612096;246 1 a 0.5 y -150;21 1 f 7488512;23 1 f 12612096;1 1 f 7488512;14 1 f 12612096;241 1 a 1 y -100;17 1 f 7488512;24 1 f 7488512;19 1 f 12612096;5 1 f 12612096;8 1 f 7488512;4 1 f 12612096;42 1 f 7488512;2 1 f 12612096\"}\\n','KEY_FRAME 25\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0 T 4;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0 T 4;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0 a 1 T 1;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0 a 0 T \\' \\';212 0 T 3;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;62 1 f 459596;78 1 f 459596;61 1 f 8421504;241 1 a 0.5 y -150;77 1 f 1182598;242 1 a 1 y -100\"}\\n','KEY_FRAME 26\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0 a 1 T 1;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;243 1 a 1 y -100;68 1 f 12612096;242 1 a 0.5 y -150\"}\\n',\"KEY_FRAME 27\\n{\\\"entitymodule\\\":\\\"U184 0;226 0;156 0 T 4;204 0;214 0 T 4;152 0 a 0 T ' ';88 0 T 2;208 0 T 1;104 0;138 0 T 3;158 0;188 0;154 0 a 1 T 1;178 0;194 0 a 1 T 1;236 0;84 0 T 3;108 0 T 2;174 0 T 3;232 0;160 0;112 0;142 0;140 0;118 0 T 2;130 0;240 0 T 4;122 0;126 0 T 2;196 0;146 0 a 1 T 2;224 0;162 0;222 0;192 0;216 0 T 2;200 0 a 1 T 2;206 0 a 1 T 2;210 0 a 1 T 3;186 0;168 0;238 0 T 4;102 0 T 3;180 0 T 4;92 0;176 0 a 1 T 2;120 0;90 0 T 2;106 0 a 0 T ' ';136 0;98 0;128 0;234 0;144 0 a 1 T 1;164 0;116 0;132 0 a 1 T 1;150 0 a 0 T ' ';110 0 a 0 T ' ';96 0;170 0;182 0 a 0 T ' ';114 0;148 0 T 4;172 0;124 0;86 0;94 0;166 0 a 0 T ' ';220 0;202 0 a 1 T 1;212 0 T 4;218 0;100 0;82 0;198 0 T 4;230 0;190 0;134 0 T 3;228 0;63 1 f 12612096;37 1 f 1182598;50 1 f 7488512;60 1 f 1182598;67 1 f 459596;32 1 f 12612096;59 1 f 7488512;33 1 f 1182598;38 1 f 459596;79 1 f 459596;243 1 a 0.5 y -150;80 1 f 7488512;51 1 f 8421504;35 1 f 8421504;13 1 f 8421504;48 1 f 1182598;244 1 a 1 y -100;57 1 f 12612096;65 1 f 1182598;34 1 f 459596;43 1 f 8421504;36 1 f 8421504;61 1 f 1182598;66 1 f 459596;26 1 f 12612096;15 1 f 8421504;77 1 f 12612096\\\"}\\n\",'KEY_FRAME 28\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0 T 2;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;244 1 a 0.5 y -150;245 1 a 1 y -100\"}\\n','KEY_FRAME 29\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0 a 1 T 1;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;246 1 a 1 y -100;51 1 f 1182598;245 1 a 0.5 y -150\"}\\n',\"KEY_FRAME 30\\n{\\\"entitymodule\\\":\\\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0 T 3;208 0 T 2;104 0;138 0 T 4;158 0;188 0;154 0 T 2;178 0;194 0 T 2;236 0;84 0 T 4;108 0 T 3;174 0 T 4;232 0;160 0;112 0;142 0 a 1 T 1;140 0;118 0 T 3;130 0 a 1 T 1;240 0;122 0;126 0 T 3;196 0;146 0 T 3;224 0;162 0;222 0;192 0;216 0 a 0 T ' ';200 0 T 3;206 0 T 3;210 0 T 4;186 0;168 0;238 0;102 0 T 4;180 0;92 0 a 1 T 1;176 0 T 3;120 0;90 0 T 3;106 0;136 0;98 0 a 1 T 1;128 0;234 0 T 2;144 0 a 0 T ' ';164 0;116 0;132 0 T 2;150 0;110 0;96 0;170 0 a 1 T 1;182 0 T 2;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0 T 2;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0 T 4;228 0;45 1 f 12612096;65 1 f 459596;27 1 f 7488512;9 1 f 1182598;246 1 a 0.5 y -150;32 1 f 8421504;68 1 f 8421504;241 1 a 1 y -100;11 1 f 459596;25 1 f 12612096;29 1 f 7488512;31 1 f 12612096;47 1 f 7488512;6 1 f 12612096;2 1 f 7488512\\\"}\\n\",'KEY_FRAME 31\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0;100 0 a 1 T 1;82 0;198 0;230 0;190 0;134 0;228 0;241 1 a 0.5 y -150;10 1 f 1182598;242 1 a 1 y -100\"}\\n','KEY_FRAME 32\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0 T 4;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0 a 1 T 1;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0;100 0 a 0 T \\' \\';82 0;198 0;230 0;190 0;134 0;228 0;243 1 a 1 y -100;14 1 f 7488512;13 1 f 12612096;10 1 f 8421504;242 1 a 0.5 y -150\"}\\n',\"KEY_FRAME 33\\n{\\\"entitymodule\\\":\\\"U184 0;226 0;156 0;204 0;214 0;152 0 a 1 T 1;88 0 T 4;208 0 T 3;104 0;138 0;158 0;188 0;154 0 T 3;178 0;194 0 a 0 T ' ';236 0;84 0;108 0;174 0;232 0;160 0 a 1 T 2;112 0;142 0 T 2;140 0;118 0 T 4;130 0 T 2;240 0;122 0;126 0 T 4;196 0 a 1 T 2;146 0 T 4;224 0;162 0;222 0;192 0;216 0;200 0 T 4;206 0 T 4;210 0;186 0;168 0;238 0;102 0;180 0;92 0 T 3;176 0 T 4;120 0;90 0 T 4;106 0 T 2;136 0;98 0 T 2;128 0;234 0 T 3;144 0;164 0;116 0;132 0 a 0 T ' ';150 0 a 1 T 1;110 0;96 0;170 0 a 0 T ' ';182 0 T 3;114 0;148 0;172 0;124 0;86 0;94 0 a 1 T 1;166 0;220 0;202 0 a 0 T ' ';212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;57 1 f 8421504;45 1 f 8421504;63 1 f 7488512;60 1 f 459596;23 1 f 7488512;33 1 f 459596;58 1 f 12612096;36 1 f 1182598;243 1 a 0.5 y -150;7 1 f 12612096;61 1 f 8421504;19 1 f 7488512;26 1 f 8421504;35 1 f 1182598;40 1 f 12612096;5 1 f 7488512;48 1 f 459596;4 1 f 7488512;244 1 a 1 y -100\\\"}\\n\",'KEY_FRAME 34\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0 T 3;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;244 1 a 0.5 y -150;245 1 a 1 y -100\"}\\n','KEY_FRAME 35\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0 a 1 T 1;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0;46 1 f 1182598;246 1 a 1 y -100;245 1 a 0.5 y -150\"}\\n',\"KEY_FRAME 36\\n{\\\"entitymodule\\\":\\\"U184 0;226 0;156 0;204 0;214 0;152 0 T 2;88 0;208 0 T 4;104 0;138 0;158 0 a 1 T 1;188 0;154 0 T 4;178 0 a 0 T ' ';194 0;236 0 a 0 T ' ';84 0;108 0;174 0;232 0;160 0 a 0 T ' ';112 0 a 0 T ' ';142 0 T 3;140 0;118 0;130 0 T 3;240 0;122 0;126 0;196 0 T 3;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0 a 0 T ' ';102 0;180 0;92 0 T 4;176 0;120 0;90 0;106 0 T 4;136 0;98 0 T 3;128 0;234 0 T 4;144 0;164 0;116 0;132 0;150 0 T 2;110 0 a 1 T 1;96 0;170 0;182 0 T 4;114 0;148 0;172 0 T 2;124 0;86 0;94 0 T 2;166 0 a 1 T 1;220 0;202 0 a 1 T 1;212 0;218 0;100 0 a 1 T 1;82 0;198 0;230 0;190 0;134 0;228 0;18 1 a 0.15;63 1 a 0.15;23 1 a 0.15;59 1 a 0.15;68 1 a 0.15;14 1 a 0.15;3 1 a 0.15;7 1 a 0.15;51 1 f 459596;35 1 a 0.15;47 1 a 0.15;28 1 a 0.15;40 1 f 8421504 a 0.15;44 1 a 0.15;42 1 a 0.15;74 1 a 0.15;2 1 a 0.15;76 1 a 0.15;46 1 a 0.15;45 1 a 0.15;27 1 a 0.15;78 1 f 8421504 a 0.15;9 1 a 0.15;43 1 f 1182598;24 1 a 0.15;62 1 a 0.15;73 1 a 0.15;53 1 a 0.15;61 1 f 1182598 a 0.15;19 1 a 0.15;26 1 a 0.15;75 1 a 0.15;6 1 f 7488512 a 0.15;8 1 a 0.15;71 1 a 0.15;4 1 a 0.15;37 1 f 459596 a 0.15;50 1 a 0.15;60 1 a 0.15;21 1 a 0.15;30 1 a 0.15;39 1 f 1182598 a 0.15;32 1 a 0.15;11 1 a 0.15;41 1 a 0.15;17 1 a 0.15;25 1 a 0.15;38 1 a 0.15;16 1 f 8421504 a 0.15;58 1 a 0.15;55 1 a 0.15;56 1 a 0.15;79 1 f 8421504 a 0.15;80 1 a 0.15;20 1 a 0.15;13 1 f 7488512 a 0.15;5 1 a 0.15;12 1 a 0.15;48 1 a 0.15;57 1 a 0.15;1 1 a 0.15;64 1 f 459596;29 1 a 0.15;10 1 f 12612096 a 0.15;52 1 a 0.15;54 1 a 0.15;49 1 f 8421504 a 0.15;31 1 a 0.15;22 1 a 0.15;15 1 f 12612096 a 0.15;77 1 f 7488512 a 0.15\\\"}\\n\",'KEY_FRAME 37\\n{\"entitymodule\":\"U184 0;226 0;156 0;204 0;214 0;152 0;88 0;208 0;104 0;138 0;158 0;188 0;154 0;178 0;194 0;236 0;84 0;108 0;174 0;232 0;160 0;112 0;142 0;140 0;118 0;130 0;240 0;122 0;126 0;196 0;146 0;224 0;162 0;222 0;192 0;216 0;200 0;206 0;210 0;186 0;168 0;238 0;102 0;180 0;92 0;176 0;120 0;90 0;106 0;136 0;98 0;128 0;234 0;144 0;164 0;116 0;132 0;150 0;110 0;96 0;170 0;182 0;114 0;148 0;172 0;124 0;86 0;94 0;166 0;220 0;202 0;212 0;218 0;100 0;82 0;198 0;230 0;190 0;134 0;228 0\"}\\n'],agents:[{index:0,name:\"Player 0\",avatar:\"https://static.codingame.com/servlet/fileservlet?id=16085734516701&format=viewer_avatar\",agentId:0},{index:1,name:\"Player 1\",avatar:\"https://static.codingame.com/servlet/fileservlet?id=16085846089817&format=viewer_avatar\",agentId:1}]};function cn(t){return(cn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function ln(t,e,n){return(ln=yn()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&pn(r,n.prototype),r}).apply(null,arguments)}function yn(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function pn(t,e){return(pn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hn(t){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dn=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pn(t,e)}(e,function(t){var e=\"function\"==typeof Map?new Map:void 0;return function(t){if(null===t||-1===Function.toString.call(t).indexOf(\"[native code]\"))return t;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return ln(t,arguments,hn(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),pn(n,t)}(t)}(Error));var t=function(t){var e=yn();return function(){var n,r=hn(t);return function(t,e){if(e&&(\"object\"===cn(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=hn(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(e);function e(n,r){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(n=t.call(this,'<Error in module \"'+n+'\">')).cause=r,n.name=\"ModuleError\",n}return e}();function vn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function bn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vn(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var gn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.toDestroy=[],this.stepByStepAnimateSpeed=null;var n=e||sn;n?(e=n.views,n=n.agents,this.demo={playerCount:n.length,logo:\"logo.png\",overlayAlpha:.2,agents:n,frames:e},this.demo.agents.forEach((function(e){e.color=t.playerColors[e.index]}))):this.demo=void 0}var e,n,o;return e=t,o=[{key:\"requirements\",get:function(){return{PIXI:\"PIXI4\"}}},{key:\"VERSION\",get:function(){return 2}},{key:\"WIDTH\",get:function(){return 1920}},{key:\"HEIGHT\",get:function(){return 1080}},{key:\"getGameRatio\",value:function(){return t.WIDTH/t.HEIGHT}},{key:\"playerColors\",get:function(){return un}},{key:\"SDK_GAME\",get:function(){return!0}},{key:\"RenderTimeout\",get:function(){return\"localhost\"===window.location.hostname?1/0:2e4}}],(n=[{key:\"getDefaultOverSampling\",value:function(){return 2}},{key:\"handleModuleError\",value:function(t,e){c.push(new dn(t,e)),console.error(e),c.push({message:'<Module \"'.concat(t,'\" disabled>\\n')}),delete this.modules[t]}},{key:\"instantiateModules\",value:function(){this.modules={};var t,e=function(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return mn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mn(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(fn);try{for(e.s();!(t=e.n()).done;){var n=t.value;try{this.modules[n.name]=new n(r)}catch(t){this.handleModuleError(n.name,t)}}}catch(t){e.e(t)}finally{e.f()}}},{key:\"destroy\",value:function(){this.alreadyLoaded&&(this.renderer.destroy(),this.endCallback=null),this.destroyed=!0}},{key:\"destroyScene\",value:function(t){!function(){for(var t=0,e=ie.length;t<e;++t)ie[t].destroy(!0);ie=[]}()}},{key:\"getGameName\",value:function(){return\"Volcanoes\"}},{key:\"canSwapPlayers\",value:function(){return!1}},{key:\"addErrorListener\",value:function(t){c.listen(t)}},{key:\"getResources\",value:function(){return Object.assign({baseUrl:\"\",images:{},spines:{},sprites:[],fonts:[],others:[]},r)}},{key:\"getOptions\",value:function(){return[]}},{key:\"setDebug\",value:function(e){this.asyncRenderingTime=t.RenderTimeout}},{key:\"initPreload\",value:function(t,e,n,r,o){t.canvasWidth=r,t.canvasHeight=o,t.loaderProgress=new PIXI.Text(\"100\",{fontSize:.117*o||30,fontFamily:\"Lato\",fontWeight:\"900\",fill:\"white\",align:\"center\"}),t.loaderProgress.anchor.y=1,t.loaderProgress.anchor.x=1.3,t.progress=t.realProgress=n,t.loaderProgress.position.y=o,t.progressBar=new PIXI.Graphics,e.addChild(t.progressBar),e.addChild(t.loaderProgress)}},{key:\"preload\",value:function(t,e,n,r,o,i){t.progress=n}},{key:\"renderPreloadScene\",value:function(t,e){return e=Math.pow(.998,e),t.realProgress=e*t.realProgress+(1-e)*t.progress,t.loaderProgress.text=(100*t.realProgress).toFixed(0),t.loaderProgress.position.x=t.realProgress*t.canvasWidth,t.progressBar.clear(),t.progressBar.beginFill(0,1),t.progressBar.drawRect(0,0,t.canvasWidth*t.realProgress+1,t.canvasHeight),t.progressBar.endFill(),t.progressBar.beginFill(4146246,1),t.progressBar.drawRect(t.canvasWidth*t.realProgress,0,t.canvasWidth,t.canvasHeight),t.progressBar.endFill(),!0}},{key:\"initDefaultScene\",value:function(e,n,r,o){var i=new PIXI.Container;if(e.drawer=this,e.time=0,this.demo){if(this.demo.logo)try{var f=PIXI.Sprite.fromFrame(this.demo.logo);f.position.set(t.WIDTH/2,t.HEIGHT/2),f.anchor.set(.5),f.baseScale=a(f.texture.width,f.texture.height,2*t.WIDTH/3,t.HEIGHT/2,0),i.addChild(f),e.logo=f}catch(n){c.push({cause:n,message:'Missing \"logo.png\" to complete replay.'}),e.logo=new PIXI.Container,e.logo.baseScale=1,i.addChild(e.logo),e.missingLogo=!0}var u=new PIXI.Graphics;e.missingLogo||(u.beginFill(0,this.demo.overlayAlpha||0),u.drawRect(0,0,t.WIDTH+20,t.HEIGHT+20),u.endFill(),u.x-=10,u.y-=10),f=new PIXI.Container;try{this.initDefaultFrames(this.demo.playerCount,this.demo.frames,this.demo.agents),this.preconstructScene(this.scope,n,this.initWidth,this.initHeight),this.initScene(this.scope,f,this.frames,!0),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)}catch(n){c.push({cause:n,message:\"Cannot load demo, you might want to reset the demo\"})}e.demo=f,e.demotime=0,this.currentFrame=-1,n.addChild(f),n.addChild(u),n.addChild(i)}e.updateTime=0,e.frameTime=0}},{key:\"initDefaultFrames\",value:function(e,n,r){var o=this;this.instantiateModules(),this.playerInfo=r.map((function(t,e){return{name:t.name||\"Anonymous\",color:t.color?o.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:t.avatarTexture}})),this.instantiateModules(),this._frames=n.map((function(t){var e,n=t.split(\"\\n\");t=n[0].split(\" \");try{e=JSON.parse(n.slice(1).join(\"\\n\"))}catch(t){e={}}return bn(bn({},e),{},{key:\"KEY_FRAME\"===t[0]})})).filter((function(t){return t.key})),this.parseGlobalData(this._frames[0].global),this.playerCount=e,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1,(e=this._frames[0].frame).key=this._frames[0].key,this.frames.push(this.parseFrame(e,this.frames));for(var i=1;i<this._frames.length;++i)this.frames.push(this.parseFrame(this._frames[i],this.frames));this.asyncRenderingTime=t.RenderTimeout}},{key:\"renderDefaultScene\",value:function(t,e){if(e=Math.min(80,e),void 0===this.demo)return!1;this.currentFrame=this.currentFrameTemp||0,t.frameTime+=e,t.updateTime+=e,t.demotime+=e/1e3;var n=Math.max(0,Math.min(1,(t.demotime-1)/.5));t.logo&&(t.logo.alpha=n,t.logo.scale.x=t.logo.scale.y=(3-2*n)*t.logo.baseScale),!t.missingLogo&&1.5<t.demotime&&t.demotime<=2.2?(r=15*Math.max(0,1-(t.demotime-1.5)/.7),t.demo.x=(2*Math.random()-1)*r,t.demo.y=(2*Math.random()-1)*r):t.demo.x=t.demo.y=0;var r=this.getFrameDuration(this.currentFrame);return 30<=t.updateTime&&(t.updateTime-=30,0===this.currentFrame?this.progress=1:this.progress=i(0,r,t.frameTime),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)),t.frameTime>=r&&(t.frameTime-=r,this.currentFrame=(this.currentFrame+1)%this.frames.length),this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],e,!0),this.currentFrameTemp=this.currentFrame,this.currentFrame=-1,!0}},{key:\"endDefaultScene\",value:function(t,e){return!0}},{key:\"parseGlobalData\",value:function(t){for(var e in this.modules){var n=this.modules[e];\"function\"==typeof n.handleGlobalData&&n.handleGlobalData(this.playerInfo,t[e])}}},{key:\"parseFrame\",value:function(t,e){var n,r={data:{},frameInfo:{number:e.length}};if(r.previous=e[e.length-1]||r,r!==r.previous&&(r.previous.next=r),!t.key)return r.previous;for(n in t.duration&&(this.currentFrameDuration=t.duration),r.frameInfo.frameDuration=this.currentFrameDuration,r===r.previous?(r.frameInfo.date=0,r.frameInfo.frameDuration=0):r.frameInfo.date=r.previous.frameInfo.date+r.previous.frameInfo.frameDuration,this.modules){var o=this.modules[n];\"function\"==typeof o.handleFrameData&&(r.data[n]=o.handleFrameData(r.frameInfo,t[n]))}return r}},{key:\"preconstructScene\",value:function(e,n,r,o){e.canvasHeight=o,e.canvasWidth=r,e.time=0,e.endTime=0,e.playerInfo=this.playerInfo,n.scale.x=r/t.WIDTH,n.scale.y=o/t.HEIGHT}},{key:\"initScene\",value:function(t,e,n){for(var r in this.modules){var o=this.modules[r],i=new PIXI.Container;try{o.reinitScene(i,{width:t.canvasWidth,height:t.canvasHeight,oversampling:this.oversampling})}catch(t){this.handleModuleError(r,t)}e.addChild(i)}}},{key:\"updateScene\",value:function(t,e,n,r,o,i,a,f,u){var s,c=n[r];if(!u&&this.stepByStepAnimateSpeed){if(this.checkSteppedToNextFrame(t,c,o))return void this.startAsynchronousAnimation(t,c);if(this.checkSteppedToPreviousFrame(t,c,o))return void this.startAsynchronousAnimation(t,t.currentFrame,!0);t.targetProgress=null}for(s in t.currentFrame=c,t.currentProgress=o,t.reason=a,this.modules){var l=this.modules[s];if(c.data.hasOwnProperty(s))try{l.updateScene(c.previous.data[s],c.data[s],o,i)}catch(t){this.handleModuleError(s,t)}}}},{key:\"startAsynchronousAnimation\",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];t.targetProgress=n?0:1,n||1!==t.currentProgress||(t.currentProgress=0),t.currentFrame=e,t.reverseAsynchronousAnimation=n}},{key:\"checkStepped\",value:function(t,e,n){return t.currentFrame&&0===this.speed&&1===n}},{key:\"checkSteppedToNextFrame\",value:function(t,e,n){return this.checkStepped(t,e,n)&&(t.currentFrame===e.previous&&t.currentFrame!==e||t.currentFrame===e&&t.currentProgress!==n)}},{key:\"checkSteppedToPreviousFrame\",value:function(t,e,n){return this.checkStepped(t,e,n)&&t.currentFrame.previous===e&&t.currentFrame!==e}},{key:\"initEndScene\",value:function(t,e){t.endSceneViewed=!1}},{key:\"destroyEndScene\",value:function(t){}},{key:\"renderEndScene\",value:function(t,e,n){0===t.endTime&&this.initEndScene(t,n),t.endTime+=e,void 0<=t.endTime&&!t.endSceneViewed&&(this.endCallback&&this.endCallback(),t.endSceneViewed=!0)}},{key:\"renderScene\",value:function(t,e,n,r,o,i,a,f){var u,s;for(s in f=Math.min(80,f),this.debugMode||r!==n.length-1||1!==o?(0<t.endTime&&this.destroyEndScene(t),t.endTime=0):this.renderEndScene(t,f,\"Win\"!==a),this.stepByStepAnimateSpeed&&this.isAsynchronousAnimationOngoing(t)&&(o=this.currentFrame,t.reverseAsynchronousAnimation&&o++,a=f/200*this.getFrameSpeed(o)*this.stepByStepAnimateSpeed,t.reverseAsynchronousAnimation?(u=t.currentProgress-a)<=0&&(o=this.currentFrame,t.targetProgress=u=1):(u=t.currentProgress+a,u=Math.min(t.targetProgress,u)),this.updateScene(this.scope,this.question,this.frames,o,u,this.speed,this.reasons[o],!1,!0)),this.modules){var c=this.modules[s];if(\"function\"==typeof c.animateScene)try{c.animateScene(f)}catch(t){this.handleModuleError(s,t)}}return!0}},{key:\"isAsynchronousAnimationOngoing\",value:function(t){return null!=t.targetProgress&&t.currentProgress!==t.targetProgress}},{key:\"getFrameSpeed\",value:function(t){return 500/this.getFrameDuration(t)}},{key:\"getFrameDuration\",value:function(t){return this.frames&&this.frames[t]&&this.frames[t].frameInfo.frameDuration||1e3}},{key:\"enableAsyncRendering\",value:function(e){this.asyncRendering=e,this.asyncRenderingTime=t.RenderTimeout}},{key:\"purge\",value:function(){this.scope={},this.changed=!0,this.container.interactiveChildren=!1,this.container.destroy({texture:!1,children:!0}),delete this.container,this.container=new PIXI.Container}},{key:\"reinitScene\",value:function(){1<=this.loaded&&(this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.preconstructScene(this.scope,this.container,this.initWidth,this.initHeight),this.initScene(this.scope,this.container,this.frames),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame]),this.changed=!0)}},{key:\"reinitDefaultScene\",value:function(){1<=this.loaded&&(this.intro=!0,this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initDefaultScene(this.scope,this.container,this.initWidth,this.initHeight),this.changed=!0)}},{key:\"reinitLoadingScene\",value:function(){this.loaded<1&&(this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initPreload(this.scope,this.container,this.loaded,this.initWidth,this.initHeight))}},{key:\"reinit\",value:function(t){1<=this.loaded?0<=this.currentFrame&&!this.intro?this.reinitScene():this.intro&&!t||this.reinitDefaultScene():this.reinitLoadingScene()}},{key:\"animate\",value:function(t){var e;this.destroyed||(this.lastRenderTime||(this.lastRenderTime=t),e=t-this.lastRenderTime,this.asynchronousStep&&(e=this.asynchronousStep),this.onBeforeRender&&this.onBeforeRender(),this.loading||(this.loaded<1?this.changed|=this.renderPreloadScene(this.scope,e):(this.changed||this.asyncRendering&&0<this.asyncRenderingTime||this.isAsynchronousAnimationOngoing(this.scope))&&(this.currentFrame<0?this.changed|=this.renderDefaultScene(this.scope,e):this.intro?(this.changed=!0,this.endDefaultScene(this.scope,e)&&(this.intro=!1,this.reinit(!0))):this.changed|=this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame],e)),this.changed&&(this.renderer.render(this.container),this.changed=!1)),this.onAfterRender&&this.onAfterRender(),this.lastRenderTime=t,this.destroyed||requestAnimationFrame(this.animate.bind(this)),this.asyncRenderingTime-=e)}},{key:\"_initFrames\",value:function(t,e){this.instantiateModules(),this._frames=e.map((function(t){var e,n=t[0].split(\" \");try{e=JSON.parse(t.slice(1).join(\"\\n\"))}catch(t){e={}}return bn(bn({},e),{},{key:\"KEY_FRAME\"===n[0]})})),this.parseGlobalData(this._frames[0].global),this.playerCount=t,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1,(t=this._frames[0].frame).key=this._frames[0].key,this.frames.push(this.parseFrame(t,this.frames));for(var n=1;n<this._frames.length;++n)this.frames.push(this.parseFrame(this._frames[n],this.frames))}},{key:\"isTurnBasedGame\",value:function(){return!1}},{key:\"initFrames\",value:function(t,e){this.playerInfo&&this.playerInfo.forEach((function(t){t.avatar&&t.avatar.destroy(!0)}));var n=this,r=new PIXI.loaders.Loader(window.location.origin);function o(){n._initFrames(e.length,t),n.loading=!1,n.reinit(!1),i=!0}this.playerInfo=e.map((function(t,e){var o={name:t.name||\"Anonymous\",color:t.color?n.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:null};return null!=t.avatar&&r.add(\"avatar\"+e,t.avatar,{loadType:2,crossOrigin:!0},(function(t){o.avatar=t.texture,PIXI.Texture.addToCache(t.texture,\"$\"+o.index)})),o}));var i=!(this.loading=!0);r.on(\"complete\",o),r.on(\"error\",(function(t){console.warn(t),i||o()})),r.load()}},{key:\"update\",value:function(e,n,r){0<=this.currentFrame&&(this.asyncRenderingTime=t.RenderTimeout,this.changed=!0,this.speed=r,this.currentFrame=e,this.progress=n,1<=this.loaded&&!this.intro&&this.updateScene(this.scope,this.question,this.frames,e,n,this.speed,this.reasons[this.currentFrame]))}},{key:\"parseColor\",value:function(t){if(Array.isArray(t)){for(var e=[],n=0;n<t.length;++n)e.push(this.parseColor(t[n]));return e}return parseInt(t.substring(1),16)}},{key:\"init\",value:function(e,n,r,o,i,a,f){var u,s=this;window.PIXI=t.PIXI||window.PIXI,this.oversampling=i||1,i=function(){0<=s.currentFrame&&(s.changed=!0)},this.canvas=$(e),this.canvas.off(\"mousemove\"),this.canvas.off(\"wheel\"),this.canvas.bind(\"wheel\",i),this.canvas.mousemove(i),o&&(this.colors=this.parseColor(o)),\"ide\"===f&&(this.debugModeSetByUser||(this.debugMode=!0),c.listen((function(t){return console.error(t.cause||t)}))),this.asyncRendering=!0,this.asyncRenderingTime=0,this.destroyed=!1,this.asynchronousStep=null;var l=this;if(this.initWidth=0|n,this.initHeight=0|r,this.endCallback=a||this.endCallback,this.alreadyLoaded)this.changed=!0,this.renderer.resize(this.initWidth,this.initHeight),this.reinit(!0);else{this.alreadyLoaded=!0,this.question=null,this.scope=null,this.currentFrame=-1,this.loaded=0,this.container=new PIXI.Container;var y=this.getResources();this.renderer=this.createRenderer(this.initWidth,this.initHeight,e),a=this.renderer,oe=a;var p,h=new PIXI.loaders.Loader(y.baseUrl);for(u in y.images)h.add(u,y.images[u],{crossOrigin:!0});for(p=0;p<y.sprites.length;++p)h.add(y.sprites[p],{crossOrigin:!0});for(p=0;p<y.fonts.length;++p)h.add(y.fonts[p],{crossOrigin:!0});for(u in y.spines)h.add(u,y.spines[u],{crossOrigin:!0});for(p=0;p<y.others.length;++p)h.add(y.others[p],{crossOrigin:!0});this.demo&&this.demo.agents.forEach((function(t){h.add(\"avatar\"+t.index,t.avatar,{loadType:2,crossOrigin:!0},(function(e){t.avatarTexture=e.texture,PIXI.Texture.addToCache(e.texture,\"$\"+t.index)}))})),l.scope={},e=function(t,e){requestAnimationFrame(l.animate.bind(l)),l.initPreload(l.scope,l.container,l.loaded=0,l.initWidth,l.initHeight)},h.on(\"start\",e),h.on(\"progress\",(function(t,e){t.progress<100&&l.preload(l.scope,l.container,l.loaded=t.progress/100,l.initWidth,l.initHeight,e)})),a=function(){for(var t in y.images)y.images.hasOwnProperty(t)&&h.resources[t].texture&&PIXI.Texture.addToCache(h.resources[t].texture,t);for(t in y.spines)y.spines.hasOwnProperty(t)&&(PIXI.AnimCache[t]=PIXI.AnimCache[y.baseUrl+y.spines[t]]);l.loaded=1,l.reinit(!0),l.changed=!0},h.on(\"complete\",a),h.on(\"error\",(function(t){console.warn(t)})),Object.keys(h.resources).length?h.load():(e(),a())}}},{key:\"createRenderer\",value:function(t,e,n){return PIXI.autoDetectRenderer(t,e,{view:n,clearBeforeRender:!0,preserveDrawingBuffer:!1})}},{key:\"isReady\",value:function(){return 1<=this.loaded}}])&&Tn(e.prototype,n),o&&Tn(e,o),t}()}]).Drawer;",
      "levelParams": {
        "0": {
          "aiCode": "using System;\r\nusing System.Collections.Generic;\r\nusing System.Linq;\r\nusing System.Text.RegularExpressions;\r\n\r\n/**\r\n * Win by building an unbroken chain of volcanoes from one side of the board to the other.\r\n **/\r\n\r\ninternal class Player\r\n{\r\n    private static void Main(string[] args)\r\n    {\r\n        List<string> allTiles = new List<string>();\r\n\r\n        int numberOfTiles = int.Parse(Console.ReadLine()); // Number of tiles on the board\r\n        for (int i = 0; i < numberOfTiles; i++)\r\n        {\r\n            string[] inputs = Console.ReadLine().Split(' ');\r\n            string tileName = inputs[0]; // Name of the tile at this index (e.g., N01 or S25)\r\n            int neighbor1 = int.Parse(inputs[1]); // Index of a neighboring tile\r\n            int neighbor2 = int.Parse(inputs[2]); // Index of a neighboring tile\r\n            int neighbor3 = int.Parse(inputs[3]); // Index of a neighboring tile\r\n\r\n            allTiles.Add(tileName);\r\n        }\r\n\r\n        // game loop\r\n        while (true)\r\n        {\r\n            string position = Console.ReadLine(); // Space-separated list of the volcano levels for every tile on the board (in index order); value will be positive for your volcanoes, negative for your opponent's volcanoes, or 0 if empty\r\n            string moves = Console.ReadLine(); // Space-separate list of all valid moves in this position\r\n\r\n            var allMoves = moves.Split(' ').ToList();\r\n            var tiles = position.Split(' ').Select(x => int.Parse(x)).ToList();\r\n\r\n            try\r\n            {\r\n                // Pick moves closest to the equator first on empty tiles\r\n                var bestMoves = new List<string>();\r\n                for (int i = 22; i <= 40; i += 2)\r\n                {\r\n                    var move = \"N\" + i.ToString().PadLeft(2, '0');\r\n                    if (allMoves.Contains(move))\r\n                    {\r\n                        var index = allTiles.IndexOf(move);\r\n                        if (tiles[index] == 0)\r\n                        {\r\n                            bestMoves.Add(move);\r\n                        }\r\n                    }\r\n                }\r\n                for (int i = 22; i <= 40; i += 2)\r\n                {\r\n                    var move = \"S\" + i.ToString().PadLeft(2, '0');\r\n                    if (allMoves.Contains(move))\r\n                    {\r\n                        var index = allTiles.IndexOf(move);\r\n                        if (tiles[index] == 0)\r\n                        {\r\n                            bestMoves.Add(move);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // Otherwise pick moves away from the edges\r\n                allMoves = allMoves.OrderByDescending(x => int.Parse(Regex.Replace(x, \"[^0-9]\", \"\"))).Where(x => tiles[allTiles.IndexOf(x)] == 0).ToList();\r\n\r\n                if (bestMoves.Count > 0)\r\n                {\r\n                    var rand = new Random();\r\n                    Console.WriteLine(bestMoves[rand.Next(bestMoves.Count)]);\r\n                }\r\n                else if (allMoves.Count > 0)\r\n                {\r\n                    Console.WriteLine(allMoves.FirstOrDefault());\r\n                }\r\n                else\r\n                {\r\n                    Console.WriteLine(\"RANDOM\");\r\n                }\r\n            }\r\n            catch (Exception ex)\r\n            {\r\n                Console.Error.WriteLine(ex.ToString());\r\n                Console.WriteLine(\"RANDOM\");\r\n            }\r\n        }\r\n    }\r\n}",
          "testCases": [],
          "maxPlayers": 2,
          "minPlayers": 2,
          "statements": {
            "1": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      <p>The goal of the game is to create a chain of volcanoes that connects a tile in the northern hemisphere to it's corresponding tile in the southern hemisphere.</p>\n        <p>Opposing tiles are conveniently numbered so that <const>N16</const> (north 16) is opposite <const>S16</const> (south 16).</p>\n            <p>Since the board is a 2D representation of a <a href=\"https://en.wikipedia.org/wiki/Pentakis_icosidodecahedron\" target=\"_blank\">Pentakis Icosidodecahedron</a> (an 80-faced sphere-ish shape), tiles connect around the edges of the board (e.g., <const>N40</const> connects to <const>N21</const> and <const>S17</const> connects to <const>S18</const>).</p>\n      <!-- <img src=\"pentakisicosidodecahedron.png\" style=\"max-width: 200px; margin: 15px 0;\" />\n      <p>(Image: <a href=\"https://commons.wikimedia.org/wiki/File:Pentakis_icosidodecahedron.png\" target=\"_blank\">Tom Ruen</a>, Public domain, via Wikimedia Commons)</p> -->\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        <p>On your turn you may perform one of the following actions.</p>\n        <ol>\n          <li>Place a new level 1 volcano of your color on any empty tile.</li>\n          <li>Increase the level of one of your existing volcanoes by one (up to a maximum level of 4).</li>\n        </ol>\n        <p>Play progresses as follows.</p>\n        <ol>\n          <li>Blue's turn</li>\n          <li>Orange's turn</li>\n          <li>Growth (every volcano on the board gains one level)</li>\n          <li>Orange's turn</li>\n          <li>Blue's turn</li>\n          <li>Growth</li>\n        </ol>\n        <p>This cycle repeats until a player wins by successfully creating an unbroken chain of volcanoes from one side of the board to the other.</p>\n        <p>When a volcano advances to level 4 (during a player's turn or a growth turn), it erupts with the following effects.</p>\n        <ul>\n          <li>The level 4 volcano becomes dormant (it stops growing)</li>\n          <li>Adjacent empty tiles become level 1 volcanoes for the team who owns the erupting volcano.</li>\n          <li>Adjacent volcanoes on the same team as the erupting volcano are increased by one level.</li>\n          <li>Adjacent volcanoes on the opposite team as the erupting volcano are destroyed and leave behind empty tiles.</li>\n        </ul>\n      </div>\n      <div class=\"statement-victory-conditions\"> \n            <div class=\"icon victory\"></div> \n            <div class=\"blk\"> \n              <div class=\"title\">Victory Conditions</div> \n              <div class=\"text\">Win by connecting any northern tile to its corresponding southern tile with an unbroken chain of volcanoes.</div>\n              <!-- <div class=\"text\">For example, connecting <const>N08</const> to <const>S08</const> would be a winning path.</div> -->\n            </div> \n          </div>\n    </div>\n  </div>\n  <!-- EXPERT RULES -->\n  <div class=\"statement-section statement-expertrules\">\n    <h1>\n      <span class=\"icon icon-expertrules\">&nbsp;</span>\n      <span>Expert Rules</span>\n    </h1>\n    <div class=\"statement-expert-rules-content\">\n      <p>Since the connections between tiles are tedious to set up, they are provided to you in the initialization inputs.</p>\n      <p>\n        Eruptions can trigger further eruptions. If an infinite chain of eruptions is detected then the game is considered a draw.\n      </p>\n      <p>It is possible for both players to complete a path at the same time during the growth phase. If this happens then the game is declared a draw.</p>\n      <p>Game concept by <a href=\"https://simondorfman.com/volcanoes1\">Simon Dorfman</a>.</p>\n      <p>Code is available on <a href=\"https://github.com/skotz/codingame-volcanoes\">GitHub</a>.</p>\n    </div>\n  </div>\n  <!-- EXAMPLES\n  <div class=\"statement-section statement-examples\">\n    <h1>\n      <span class=\"icon icon-example\">&nbsp;</span>\n      <span>Example</span>\n    </h1>\n\n    <div class=\"statement-examples-text\">\n      <p>Here's an example of a volcano erupting.</p>\n      <img src=\"example-erupt-1.png\" style=\"max-width: 200px; margin: 15px 0;\" />\n      <p>When the blue player levels up their volcano on S40 (or a growth move happens) the volcano on S40 will increase to a level 4 volcano, become dormant, and then spill over into its three adjacent tiles: S39, N30, and S21.</p>\n      <img src=\"example-erupt-2.png\" style=\"max-width: 200px; margin: 15px 0;\" />\n      <p>Victory is obtained when two tiles on opposite sides of the board (in this case N19 and S19) are connected.</p>\n      <img src=\"example-victory.png\" style=\"max-width: 400px; margin: 15px 0 0 0;\" />\n    </div>\n  </div> -->\n  <!-- WARNING\n  <div class=\"statement-section statement-warning\">\n    <h1>\n      <span class=\"icon icon-warning\">&nbsp;</span>\n      <span>Note</span>\n    </h1>\n    <div class=\"statement-warning-content\">\n      <b>Dont forget to run the tests by launching them from the Test cases window</b>. You can submit at any time\n      to recieve a score against the training validators. <b>You can submit as many times as you like</b>. Your most\n      recent submission will be used for the final ranking.<br>\n      <br>\n      <strong>Warning:</strong> the validation tests used to compute the final score are not the same as the ones used\n      during the event.\n      Harcoded solutions will not score highly.<br>\n      <br>\n      Don't hesitate to change the viewer's options to help debug your code (<img style=\"opacity:.8;background:#20252a;\"\n        height=\"18\" src=\"https://www.codingame.com/servlet/fileservlet?id=3463235186409\" width=\"18\">).\n    </div>\n  </div> -->\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n    </h1>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input (first move only)</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span> <var>numberOfTiles</var>, the total number of tiles on the board</p>\n        <p><span class=\"statement-lineno\">Next <var>numberOfTiles</var> lines: </span> <const>4</const> space-separated values:\n        <ul>\n          <li><var>tileName</var>, the name of the tile at the given index</li>\n          <li><var>neighbor1</var>, the index of a neighboring tile</li>\n          <li><var>neighbor2</var>, the index of a neighboring tile</li>\n          <li><var>neighbor3</var>, the index of a neighboring tile</li>\n        </ul>\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input (each turn)</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span> <var>currentPosition</var>, a space-separated list of the volcano levels of all <var>numberOfTiles</var> tiles on the board, with positive values for your volcanoes and negative values for your opponent's volcanoes</p>\n        <p><span class=\"statement-lineno\">Line 2: </span> <var>validMoves</var>, a space-separated list of valid moves in the current position</p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span> <var>move</var>, the name of the tile to play on or <action>RANDOM</action> to play a random move</p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\"><var>numberOfTiles</var> = <const>80</const><br>\n        <br>Bots must respond within <const>100</const> milliseconds.</div>\n    </div>\n  </div>\n  <!-- STORY\n  <div class=\"statement-story-background\">\n    <div class=\"statement-story-cover\">\n      <div class=\"statement-story\">\n        <h1>Title</h1>\n        <div class=\"story-text\">Story\n          <br>\n          Totally optional</div>\n      </div>\n    </div>\n  </div> -->\n</div>",
            "2": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      <p>The goal of the game is to create a chain of volcanoes that connects a tile in the northern hemisphere to it's corresponding tile in the southern hemisphere.</p>\n        <p>Opposing tiles are conveniently numbered so that <const>N16</const> (north 16) is opposite <const>S16</const> (south 16).</p>\n            <p>Since the board is a 2D representation of a <a href=\"https://en.wikipedia.org/wiki/Pentakis_icosidodecahedron\" target=\"_blank\">Pentakis Icosidodecahedron</a> (an 80-faced sphere-ish shape), tiles connect around the edges of the board (e.g., <const>N40</const> connects to <const>N21</const> and <const>S17</const> connects to <const>S18</const>).</p>\n      <!-- <img src=\"pentakisicosidodecahedron.png\" style=\"max-width: 200px; margin: 15px 0;\" />\n      <p>(Image: <a href=\"https://commons.wikimedia.org/wiki/File:Pentakis_icosidodecahedron.png\" target=\"_blank\">Tom Ruen</a>, Public domain, via Wikimedia Commons)</p> -->\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        <p>On your turn you may perform one of the following actions.</p>\n        <ol>\n          <li>Place a new level 1 volcano of your color on any empty tile.</li>\n          <li>Increase the level of one of your existing volcanoes by one (up to a maximum level of 4).</li>\n        </ol>\n        <p>Play progresses as follows.</p>\n        <ol>\n          <li>Blue's turn</li>\n          <li>Orange's turn</li>\n          <li>Growth (every volcano on the board gains one level)</li>\n          <li>Orange's turn</li>\n          <li>Blue's turn</li>\n          <li>Growth</li>\n        </ol>\n        <p>This cycle repeats until a player wins by successfully creating an unbroken chain of volcanoes from one side of the board to the other.</p>\n        <p>When a volcano advances to level 4 (during a player's turn or a growth turn), it erupts with the following effects.</p>\n        <ul>\n          <li>The level 4 volcano becomes dormant (it stops growing)</li>\n          <li>Adjacent empty tiles become level 1 volcanoes for the team who owns the erupting volcano.</li>\n          <li>Adjacent volcanoes on the same team as the erupting volcano are increased by one level.</li>\n          <li>Adjacent volcanoes on the opposite team as the erupting volcano are destroyed and leave behind empty tiles.</li>\n        </ul>\n      </div>\n      <div class=\"statement-victory-conditions\"> \n            <div class=\"icon victory\"></div> \n            <div class=\"blk\"> \n              <div class=\"title\">Victory Conditions</div> \n              <div class=\"text\">Win by connecting any northern tile to its corresponding southern tile with an unbroken chain of volcanoes.</div>\n              <!-- <div class=\"text\">For example, connecting <const>N08</const> to <const>S08</const> would be a winning path.</div> -->\n            </div> \n          </div>\n    </div>\n  </div>\n  <!-- EXPERT RULES -->\n  <div class=\"statement-section statement-expertrules\">\n    <h1>\n      <span class=\"icon icon-expertrules\">&nbsp;</span>\n      <span>Expert Rules</span>\n    </h1>\n    <div class=\"statement-expert-rules-content\">\n      <p>Since the connections between tiles are tedious to set up, they are provided to you in the initialization inputs.</p>\n      <p>\n        Eruptions can trigger further eruptions. If an infinite chain of eruptions is detected then the game is considered a draw.\n      </p>\n      <p>It is possible for both players to complete a path at the same time during the growth phase. If this happens then the game is declared a draw.</p>\n      <p>Game concept by <a href=\"https://simondorfman.com/volcanoes1\">Simon Dorfman</a>.</p>\n      <p>Code is available on <a href=\"https://github.com/skotz/codingame-volcanoes\">GitHub</a>.</p>\n    </div>\n  </div>\n  <!-- EXAMPLES\n  <div class=\"statement-section statement-examples\">\n    <h1>\n      <span class=\"icon icon-example\">&nbsp;</span>\n      <span>Example</span>\n    </h1>\n\n    <div class=\"statement-examples-text\">\n      <p>Here's an example of a volcano erupting.</p>\n      <img src=\"example-erupt-1.png\" style=\"max-width: 200px; margin: 15px 0;\" />\n      <p>When the blue player levels up their volcano on S40 (or a growth move happens) the volcano on S40 will increase to a level 4 volcano, become dormant, and then spill over into its three adjacent tiles: S39, N30, and S21.</p>\n      <img src=\"example-erupt-2.png\" style=\"max-width: 200px; margin: 15px 0;\" />\n      <p>Victory is obtained when two tiles on opposite sides of the board (in this case N19 and S19) are connected.</p>\n      <img src=\"example-victory.png\" style=\"max-width: 400px; margin: 15px 0 0 0;\" />\n    </div>\n  </div> -->\n  <!-- WARNING\n  <div class=\"statement-section statement-warning\">\n    <h1>\n      <span class=\"icon icon-warning\">&nbsp;</span>\n      <span>Note</span>\n    </h1>\n    <div class=\"statement-warning-content\">\n      <b>Dont forget to run the tests by launching them from the Test cases window</b>. You can submit at any time\n      to recieve a score against the training validators. <b>You can submit as many times as you like</b>. Your most\n      recent submission will be used for the final ranking.<br>\n      <br>\n      <strong>Warning:</strong> the validation tests used to compute the final score are not the same as the ones used\n      during the event.\n      Harcoded solutions will not score highly.<br>\n      <br>\n      Don't hesitate to change the viewer's options to help debug your code (<img style=\"opacity:.8;background:#20252a;\"\n        height=\"18\" src=\"https://www.codingame.com/servlet/fileservlet?id=3463235186409\" width=\"18\">).\n    </div>\n  </div> -->\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n    </h1>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input (first move only)</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span> <var>numberOfTiles</var>, the total number of tiles on the board</p>\n        <p><span class=\"statement-lineno\">Next <var>numberOfTiles</var> lines: </span> <const>4</const> space-separated values:\n        <ul>\n          <li><var>tileName</var>, the name of the tile at the given index</li>\n          <li><var>neighbor1</var>, the index of a neighboring tile</li>\n          <li><var>neighbor2</var>, the index of a neighboring tile</li>\n          <li><var>neighbor3</var>, the index of a neighboring tile</li>\n        </ul>\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input (each turn)</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span> <var>currentPosition</var>, a space-separated list of the volcano levels of all <var>numberOfTiles</var> tiles on the board, with positive values for your volcanoes and negative values for your opponent's volcanoes</p>\n        <p><span class=\"statement-lineno\">Line 2: </span> <var>validMoves</var>, a space-separated list of valid moves in the current position</p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span> <var>move</var>, the name of the tile to play on or <action>RANDOM</action> to play a random move</p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\"><var>numberOfTiles</var> = <const>80</const><br>\n        <br>Bots must respond within <const>100</const> milliseconds.</div>\n    </div>\n  </div>\n  <!-- STORY\n  <div class=\"statement-story-background\">\n    <div class=\"statement-story-cover\">\n      <div class=\"statement-story\">\n        <h1>Title</h1>\n        <div class=\"story-text\">Story\n          <br>\n          Totally optional</div>\n      </div>\n    </div>\n  </div> -->\n</div>"
          },
          "questionType": "multi",
          "stubGenerator": "read numberOfTiles:int\nloop numberOfTiles read tileName:word(3) neighbor1:int neighbor2:int neighbor3:int\ngameloop\nread position:string(1000)\nread moves:string(1000)\nwrite random\n\nSTATEMENT\nWin by building an unbroken chain of volcanoes from one side of the board to the other.\n\nINPUT\nnumberOfTiles : Number of tiles on the board\ntileName: Name of the tile at this index (e.g., N01 or S25)\nneighbor1: Index of a neighboring tile\nneighbor2: Index of a neighboring tile\nneighbor3: Index of a neighboring tile\nposition: Space-separated list of the volcano levels for every tile on the board (in index order); value will be positive for your volcanoes, negative for your opponent's volcanoes, or 0 if empty\nmoves: Space-separate list of all valid moves in this position\n\nOUTPUT\nEither RANDOM or a tile name (e.g., N12 or S34)",
          "welcomePopups": {},
          "aiCodeExtension": "cs",
          "criteriaLanguageMap": {}
        },
        "1": {
          "aiCode": "using System;\r\nusing System.Collections.Concurrent;\r\nusing System.Collections.Generic;\r\nusing System.Diagnostics;\r\nusing System.Linq;\r\n\r\ninternal class SkotzPlayer\r\n{\r\n    private class XConsole\r\n    {\r\n        List<string> debug = new List<string>()\r\n        {\r\n            \"80\",\r\n\"N01 6 1 4\",\r\n\"N02 9 2 0\",\r\n\"N03 12 3 1\",\r\n\"N04 15 4 2\",\r\n\"N05 18 0 3\",\r\n\"N06 6 20 19\",\r\n\"N07 0 7 5\",\r\n\"N08 6 22 8\",\r\n\"N09 9 24 7\",\r\n\"N10 1 10 8\",\r\n\"N11 9 26 11\",\r\n\"N12 12 28 10\",\r\n\"N13 2 13 11\",\r\n\"N14 12 30 14\",\r\n\"N15 15 32 13\",\r\n\"N16 3 16 14\",\r\n\"N17 15 34 17\",\r\n\"N18 18 36 16\",\r\n\"N19 4 19 17\",\r\n\"N20 18 38 5\",\r\n\"N21 21 5 39\",\r\n\"N22 71 20 22\",\r\n\"N23 21 23 7\",\r\n\"N24 73 22 24\",\r\n\"N25 25 8 23\",\r\n\"N26 75 24 26\",\r\n\"N27 25 27 10\",\r\n\"N28 77 26 28\",\r\n\"N29 29 11 27\",\r\n\"N30 79 28 30\",\r\n\"N31 29 31 13\",\r\n\"N32 61 30 32\",\r\n\"N33 33 14 31\",\r\n\"N34 63 32 34\",\r\n\"N35 33 35 16\",\r\n\"N36 65 34 36\",\r\n\"N37 37 17 35\",\r\n\"N38 67 36 38\",\r\n\"N39 37 39 19\",\r\n\"N40 69 38 20\",\r\n\"S01 46 41 44\",\r\n\"S02 49 42 40\",\r\n\"S03 52 43 41\",\r\n\"S04 55 44 42\",\r\n\"S05 58 40 43\",\r\n\"S06 46 60 59\",\r\n\"S07 40 45 47\",\r\n\"S08 46 48 62\",\r\n\"S09 49 64 47\",\r\n\"S10 41 48 50\",\r\n\"S11 49 51 66\",\r\n\"S12 52 68 50\",\r\n\"S13 42 51 53\",\r\n\"S14 52 54 70\",\r\n\"S15 55 72 53\",\r\n\"S16 43 54 56\",\r\n\"S17 55 57 74\",\r\n\"S18 58 76 56\",\r\n\"S19 44 57 59\",\r\n\"S20 58 45 78\",\r\n\"S21 61 45 79\",\r\n\"S22 31 62 60\",\r\n\"S23 61 63 47\",\r\n\"S24 33 64 62\",\r\n\"S25 65 48 63\",\r\n\"S26 35 66 64\",\r\n\"S27 65 67 50\",\r\n\"S28 37 68 66\",\r\n\"S29 69 51 67\",\r\n\"S30 39 70 68\",\r\n\"S31 69 71 53\",\r\n\"S32 21 72 70\",\r\n\"S33 73 54 71\",\r\n\"S34 23 74 72\",\r\n\"S35 73 75 56\",\r\n\"S36 25 76 74\",\r\n\"S37 77 57 75\",\r\n\"S38 27 78 76\",\r\n\"S39 77 79 59\",\r\n\"S40 29 60 78\",\r\n            \"0 2 0 0 0 -3 2 4 4 4 0 -2 0 2 4 2 0 0 0 -3 -4 -3 2 -2 4 0 -4 -4 -4 -4 -3 -4 0 0 -1 -4 -1 -3 -4 -4 2 1 4 4 4 0 1 0 1 0 0 3 1 0 2 4 4 4 4 4 0 -3 0 1 4 0 0 -3 -3 -4 -3 2 -3 -4 0 3 4 0 3 -4\",\r\n            \"\"\r\n        };\r\n\r\n        public string ReadLine()\r\n        {\r\n#if LOCAL\r\n            var next = debug[0];\r\n            debug.RemoveAt(0);\r\n            return next;\r\n#else\r\n            return Console.ReadLine();\r\n#endif\r\n        }\r\n\r\n        public void WriteLine(string x)\r\n        {\r\n            Console.WriteLine(x);\r\n        }\r\n\r\n        public Err Error = new Err();\r\n    }\r\n\r\n    private class Err\r\n    {\r\n        public void WriteLine(string x)\r\n        {\r\n            Console.Error.WriteLine(x);\r\n        }\r\n    }\r\n\r\n    private static void Main(string[] args)\r\n    {\r\n        var Console = new XConsole();\r\n        var newTileNames = new List<string>();\r\n        int numberOfTiles = int.Parse(Console.ReadLine()); // Number of tiles on the board\r\n        for (int i = 0; i < numberOfTiles; i++)\r\n        {\r\n            string[] inputs = Console.ReadLine().Split(' ');\r\n            string tileName = inputs[0]; // Name of the tile at this index (e.g., N01 or S25)\r\n            int neighbor1 = int.Parse(inputs[1]); // Index of a neighboring tile\r\n            int neighbor2 = int.Parse(inputs[2]); // Index of a neighboring tile\r\n            int neighbor3 = int.Parse(inputs[3]); // Index of a neighboring tile\r\n            newTileNames.Add(tileName);\r\n        }\r\n\r\n        var actualTurn = 0;\r\n        var turn = 0;\r\n\r\n        // game loop\r\n        while (true)\r\n        {\r\n            actualTurn++;\r\n            turn = turn == 4 ? 0 : 4;\r\n\r\n            var pos = Console.ReadLine();\r\n\r\n            Console.Error.WriteLine(pos);\r\n\r\n            var position = pos.Split(' ').Select(x => int.Parse(x)).ToList();\r\n\r\n            if (actualTurn == 1)\r\n            {\r\n                if (position.All(x => x == 0))\r\n                {\r\n                    // very first turn we're actually starting on our second move as blue\r\n                    turn = 0;\r\n                    Console.Error.WriteLine(\"Flip\");\r\n                }\r\n            }\r\n\r\n            Console.Error.WriteLine(turn == 0 ? \"2nd\" : \"1st\");\r\n            var moves = Console.ReadLine().Split(' ').ToList();\r\n\r\n            var game = new VolcanoGame();\r\n            game.CurrentState.Turn = turn + 1;\r\n\r\n            for (int i = 0; i < 80; i++)\r\n            {\r\n                var index = newTileNames.IndexOf(Constants.TileNames[i]);\r\n                game.CurrentState.Tiles[i] = position[index];\r\n            }\r\n\r\n            var engine = new MonteCarloTreeSearchEngine();\r\n\r\n            var best = engine.GetBestMove(game.CurrentState, 70, new EngineCancellationToken(() => false));\r\n\r\n            Console.Error.WriteLine($\"BestMove = \" + best.BestMove);\r\n            //Console.Error.WriteLine($\"Score = \" + best.Score);\r\n            Console.Error.WriteLine($\"Milliseconds = \" + best.Milliseconds);\r\n            Console.Error.WriteLine($\"Simulations = \" + best.Simulations);\r\n            Console.Error.WriteLine($\"Evaluations = \" + best.Evaluations);\r\n\r\n            Console.WriteLine(Constants.TileNames[best.BestMove]);\r\n        }\r\n    }\r\n}\r\n\r\ninternal class Board\r\n{\r\n    public int[] Tiles;\r\n    public bool[] Dormant;\r\n    public Player Player;\r\n    public int Turn;\r\n\r\n    public Player Winner;\r\n    public List<int> WinningPathPlayerOne;\r\n    public List<int> WinningPathPlayerTwo;\r\n\r\n    public bool LastMoveIncreasedTile;\r\n\r\n    public string Transcript;\r\n\r\n    private static PathFinder pathFinder = new PathFinder();\r\n\r\n    public bool allowHash;\r\n    public bool fastWinSearch;\r\n\r\n    public ConcurrentDictionary<long, Player> winHashes;\r\n\r\n    public GameState State\r\n    {\r\n        get\r\n        {\r\n            return Winner == Player.Empty ? GameState.InProgress : GameState.GameOver;\r\n        }\r\n    }\r\n\r\n    public Board()\r\n    {\r\n        Turn = 1;\r\n        Player = Player.One;\r\n        Tiles = new int[80];\r\n        Dormant = new bool[80];\r\n        Winner = Player.Empty;\r\n        WinningPathPlayerOne = new List<int>();\r\n        WinningPathPlayerTwo = new List<int>();\r\n    }\r\n\r\n    public Board(Board copy)\r\n    {\r\n        Tiles = new int[80];\r\n        Array.Copy(copy.Tiles, Tiles, 80);\r\n        Dormant = new bool[80];\r\n        Array.Copy(copy.Dormant, Dormant, 80);\r\n        Player = copy.Player;\r\n        Turn = copy.Turn;\r\n        Winner = copy.Winner;\r\n        WinningPathPlayerOne = copy.WinningPathPlayerOne;\r\n        WinningPathPlayerTwo = copy.WinningPathPlayerTwo;\r\n    }\r\n\r\n    /// <summary>\r\n    /// Make a given move on the board.\r\n    /// </summary>\r\n    /// <param name=\"move\"></param>\r\n    public bool MakeMove(int move)\r\n    {\r\n        return MakeMove(move, true, true);\r\n    }\r\n\r\n    /// <summary>\r\n    /// Make a given move on the board.\r\n    /// </summary>\r\n    /// <param name=\"move\"></param>\r\n    public bool MakeMove(int move, bool checkForWin, bool autoGrow)\r\n    {\r\n        Queue<int> eruptions = new Queue<int>();\r\n\r\n        if (move == Constants.AllGrowMove)\r\n        {\r\n            LastMoveIncreasedTile = false;\r\n\r\n            for (int i = 0; i < 80; i++)\r\n            {\r\n                if (Tiles[i] != 0)\r\n                {\r\n                    if (!VolcanoGame.Settings.AllowDormantVolcanoes || !Dormant[i])\r\n                    {\r\n                        Tiles[i] = Tiles[i] > 0 ? Tiles[i] + 1 : Tiles[i] - 1;\r\n                        if (Math.Abs(Tiles[i]) >= VolcanoGame.Settings.MaxVolcanoLevel)\r\n                        {\r\n                            eruptions.Enqueue(i);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            LastMoveIncreasedTile = Tiles[move] != 0;\r\n\r\n            Tiles[move] = Player == Player.One ? Tiles[move] + 1 : Tiles[move] - 1;\r\n            if (Math.Abs(Tiles[move]) >= VolcanoGame.Settings.MaxVolcanoLevel)\r\n            {\r\n                eruptions.Enqueue(move);\r\n            }\r\n        }\r\n\r\n        if (eruptions.Count > 0)\r\n        {\r\n            ProcessEruptions(eruptions);\r\n        }\r\n\r\n        if (Winner == Player.Empty && checkForWin)\r\n        {\r\n            SearchForWin();\r\n        }\r\n\r\n        if (Winner == Player.Empty)\r\n        {\r\n            Turn++;\r\n            Player = GetPlayerForTurn(Turn);\r\n\r\n            if (autoGrow && GetMoveTypeForTurn(Turn) == MoveType.AllGrow)\r\n            {\r\n                MakeMove(Constants.AllGrowMove);\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    private void ProcessEruptions(Queue<int> eruptions)\r\n    {\r\n        int phases = 5;\r\n        Queue<int> deltaIndexes = new Queue<int>();\r\n        while (eruptions.Count > 0 && phases-- > 0)\r\n        {\r\n            // Phase one: get a list of deltas from eruptions\r\n            int[] deltas = new int[80];\r\n            while (eruptions.Count > 0)\r\n            {\r\n                int i = eruptions.Dequeue();\r\n\r\n                if (VolcanoGame.Settings.AllowDormantVolcanoes)\r\n                {\r\n                    // Make the volcano dormant\r\n                    Tiles[i] = Tiles[i] > 0 ? VolcanoGame.Settings.MaxVolcanoLevel : -VolcanoGame.Settings.MaxVolcanoLevel;\r\n                    Dormant[i] = true;\r\n                }\r\n                else\r\n                {\r\n                    // Downgrade to a level one volcano\r\n                    Tiles[i] = Tiles[i] > 0 ? VolcanoGame.Settings.MaxMagmaChamberLevel + 1 : -(VolcanoGame.Settings.MaxMagmaChamberLevel + 1);\r\n                }\r\n\r\n                foreach (int adjacent in Constants.AdjacentIndexes[i])\r\n                {\r\n                    deltaIndexes.Enqueue(adjacent);\r\n\r\n                    // Blank tile\r\n                    if (Tiles[adjacent] == 0)\r\n                    {\r\n                        if (Tiles[i] > 0)\r\n                        {\r\n                            deltas[adjacent] += VolcanoGame.Settings.EruptOverflowEmptyTileAmount;\r\n                        }\r\n                        else\r\n                        {\r\n                            deltas[adjacent] -= VolcanoGame.Settings.EruptOverflowEmptyTileAmount;\r\n                        }\r\n                    }\r\n\r\n                    // Same owner\r\n                    else if ((Tiles[adjacent] > 0 && Tiles[i] > 0) || (Tiles[adjacent] < 0 && Tiles[i] < 0))\r\n                    {\r\n                        if (!VolcanoGame.Settings.AllowDormantVolcanoes || !Dormant[adjacent])\r\n                        {\r\n                            if (Tiles[i] > 0)\r\n                            {\r\n                                deltas[adjacent] += VolcanoGame.Settings.EruptOverflowFriendlyTileAmount;\r\n                            }\r\n                            else\r\n                            {\r\n                                deltas[adjacent] -= VolcanoGame.Settings.EruptOverflowFriendlyTileAmount;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // Enemy owner\r\n                    else if ((Tiles[adjacent] > 0 && Tiles[i] < 0) || (Tiles[adjacent] < 0 && Tiles[i] > 0))\r\n                    {\r\n                        if (Tiles[i] > 0)\r\n                        {\r\n                            deltas[adjacent] -= VolcanoGame.Settings.EruptOverflowEnemyTileAmount;\r\n                        }\r\n                        else\r\n                        {\r\n                            deltas[adjacent] += VolcanoGame.Settings.EruptOverflowEnemyTileAmount;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Phase two: process deltas\r\n            while (deltaIndexes.Count > 0)\r\n            {\r\n                int i = deltaIndexes.Dequeue();\r\n                if (deltas[i] != 0)\r\n                {\r\n                    bool playerOne = Tiles[i] > 0;\r\n                    bool playerTwo = Tiles[i] < 0;\r\n\r\n                    // Someone already owns this tile, so the deltas can be taken as-is\r\n                    Tiles[i] += deltas[i];\r\n\r\n                    // If we changed the value so much that it switched sides\r\n                    if (((Tiles[i] < 0 && playerOne) || (Tiles[i] > 0 && playerTwo)) && !VolcanoGame.Settings.EruptOverflowAllowCapture)\r\n                    {\r\n                        // Clear the tile\r\n                        Tiles[i] = 0;\r\n                        Dormant[i] = false;\r\n                    }\r\n\r\n                    // Did this change trigger a chain reaction?\r\n                    if (Math.Abs(Tiles[i]) >= VolcanoGame.Settings.MaxVolcanoLevel)\r\n                    {\r\n                        eruptions.Enqueue(i);\r\n                    }\r\n\r\n                    // So we don't process it a second time\r\n                    deltas[i] = 0;\r\n                }\r\n\r\n                if (VolcanoGame.Settings.AllowDormantVolcanoes)\r\n                {\r\n                    Dormant[i] = Math.Abs(Tiles[i]) == VolcanoGame.Settings.MaxVolcanoLevel;\r\n                }\r\n            }\r\n        }\r\n\r\n        // If we're caught in an infinite loop of volcano eruptions, call the game a draw\r\n        if (phases <= 0)\r\n        {\r\n            Winner = Player.Draw;\r\n            WinningPathPlayerOne = new List<int>();\r\n            WinningPathPlayerTwo = new List<int>();\r\n        }\r\n    }\r\n\r\n    private void SearchForWin()\r\n    {\r\n        Winner = Player.Empty;\r\n\r\n        var hash = 0L;\r\n        if (allowHash)\r\n        {\r\n            hash = GetHash();\r\n            if (winHashes.ContainsKey(hash))\r\n            {\r\n                Winner = winHashes[hash];\r\n                return;\r\n            }\r\n        }\r\n\r\n        // We only need to cover the first 40 tiles since their antipodes cover the last 40\r\n        for (int i = 0; i < 40; i++)\r\n        {\r\n            if (Tiles[i] != 0 &&\r\n                ((Tiles[Constants.Antipodes[i]] > 0 && Tiles[i] > 0) || (Tiles[Constants.Antipodes[i]] < 0 && Tiles[i] < 0)) &&\r\n                Math.Abs(Tiles[i]) > VolcanoGame.Settings.MaxMagmaChamberLevel &&\r\n                Math.Abs(Tiles[Constants.Antipodes[i]]) > VolcanoGame.Settings.MaxMagmaChamberLevel)\r\n            {\r\n                // Only search until we find a winner or detect a draw\r\n                if (Winner == Player.Empty || (Winner == Player.One && Tiles[i] < 0) || (Winner == Player.Two && Tiles[i] > 0))\r\n                {\r\n                    if (fastWinSearch)\r\n                    {\r\n                        var winner = FastWinSearch(i, Constants.Antipodes[i]);\r\n                        if (winner != Player.Empty)\r\n                        {\r\n                            if (Tiles[i] > 0)\r\n                            {\r\n                                Winner = Winner != Player.Empty ? Player.Draw : Player.One;\r\n                            }\r\n                            else\r\n                            {\r\n                                Winner = Winner != Player.Empty ? Player.Draw : Player.Two;\r\n                            }\r\n\r\n                            if (Winner == Player.Draw)\r\n                            {\r\n                                return;\r\n                            }\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        var path = pathFinder.FindPath(this, i, Constants.Antipodes[i]).Path;\r\n                        if (path.Count > 0)\r\n                        {\r\n                            if (Tiles[i] > 0)\r\n                            {\r\n                                Winner = Winner != Player.Empty ? Player.Draw : Player.One;\r\n                                WinningPathPlayerOne = path;\r\n                            }\r\n                            else\r\n                            {\r\n                                Winner = Winner != Player.Empty ? Player.Draw : Player.Two;\r\n                                WinningPathPlayerTwo = path;\r\n                            }\r\n\r\n                            if (Winner == Player.Draw)\r\n                            {\r\n                                return;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (allowHash)\r\n        {\r\n            winHashes[hash] = Winner;\r\n        }\r\n    }\r\n\r\n    private Player FastWinSearch(int start, int end)\r\n    {\r\n        var visited = new bool[80];\r\n        var queue = new Queue<int>();\r\n\r\n        queue.Enqueue(start);\r\n\r\n        while (queue.Count > 0)\r\n        {\r\n            var next = queue.Dequeue();\r\n\r\n            if (!visited[next])\r\n            {\r\n                visited[next] = true;\r\n\r\n                if ((Tiles[next] > 0 && Tiles[start] > 0) || (Tiles[next] < 0 && Tiles[start] < 0))\r\n                {\r\n                    if (next == end)\r\n                    {\r\n                        return Tiles[next] > 0 ? Player.One : Player.Two;\r\n                    }\r\n\r\n                    for (int i = 0; i < Constants.AdjacentIndexes[next].Length; i++)\r\n                    {\r\n                        queue.Enqueue(Constants.AdjacentIndexes[next][i]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return Player.Empty;\r\n    }\r\n\r\n    /// <summary>\r\n    /// Get a list of all valid moves for the current player on the current board state.\r\n    /// </summary>\r\n    /// <returns></returns>\r\n    public List<int> GetMoves()\r\n    {\r\n        return GetMoves(true, true, true, VolcanoGame.Settings.MaxVolcanoLevel);\r\n    }\r\n\r\n    public List<int> GetRandomMoves()\r\n    {\r\n        var moves = GetMoves(false, true, false, VolcanoGame.Settings.MaxVolcanoLevel);\r\n        if (moves.Count > 0)\r\n        {\r\n            return moves;\r\n        }\r\n        return GetMoves();\r\n    }\r\n\r\n    /// <summary>\r\n    /// Get a list of all valid moves for the current player on the current board state.\r\n    /// </summary>\r\n    /// <returns></returns>\r\n    public List<int> GetMoves(bool growthMoves, bool expandMoves, bool captureMoves, int maxGrowthValue)\r\n    {\r\n        List<int> moves = new List<int>();\r\n\r\n        if (Winner != Player.Empty)\r\n        {\r\n            return moves;\r\n        }\r\n        else if (GetMoveTypeForTurn(Turn) == MoveType.AllGrow)\r\n        {\r\n            moves.Add(Constants.AllGrowMove);\r\n        }\r\n        else\r\n        {\r\n            for (int i = 0; i < 80; i++)\r\n            {\r\n                // Grow existing tiles\r\n                if (growthMoves && ((Tiles[i] > 0 && Player == Player.One) || (Tiles[i] < 0 && Player == Player.Two)) && Math.Abs(Tiles[i]) < maxGrowthValue)\r\n                {\r\n                    if (!VolcanoGame.Settings.AllowDormantVolcanoes || !Dormant[i])\r\n                    {\r\n                        moves.Add(i);\r\n                    }\r\n                }\r\n\r\n                // Claim new tiles\r\n                if (expandMoves && Tiles[i] == 0)\r\n                {\r\n                    moves.Add(i);\r\n                }\r\n\r\n                // Capture enemy tiles\r\n                if (captureMoves)\r\n                {\r\n                    Player opponent = Player == Player.One ? Player.Two : Player.One;\r\n                    if (VolcanoGame.Settings.AllowMagmaChamberCaptures &&\r\n                        ((Tiles[i] > 0 && opponent == Player.One) || (Tiles[i] < 0 && opponent == Player.Two)) &&\r\n                        Math.Abs(Tiles[i]) <= VolcanoGame.Settings.MaxMagmaChamberLevel)\r\n                    {\r\n                        moves.Add(i);\r\n                    }\r\n                    if (VolcanoGame.Settings.AllowVolcanoCaptures &&\r\n                        ((Tiles[i] > 0 && opponent == Player.One) || (Tiles[i] < 0 && opponent == Player.Two)) &&\r\n                        Math.Abs(Tiles[i]) > VolcanoGame.Settings.MaxMagmaChamberLevel)\r\n                    {\r\n                        moves.Add(i);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (moves.Count == 0)\r\n        {\r\n            if (growthMoves && expandMoves & captureMoves && maxGrowthValue >= VolcanoGame.Settings.MaxVolcanoLevel)\r\n            {\r\n                // There are no moves in this position\r\n                return moves;\r\n            }\r\n            else\r\n            {\r\n                return GetMoves(true, true, true, VolcanoGame.Settings.MaxVolcanoLevel);\r\n            }\r\n        }\r\n\r\n        return moves;\r\n    }\r\n\r\n    public bool IsValidMove(int move)\r\n    {\r\n        return GetMoves().Any(x => x == move);\r\n    }\r\n\r\n    /// <summary>\r\n    /// Get the opponent for a given player.\r\n    /// </summary>\r\n    /// <param name=\"current\"></param>\r\n    /// <returns></returns>\r\n    private Player GetOpponent(Player current)\r\n    {\r\n        return current == Player.One ? Player.Two : Player.One;\r\n    }\r\n\r\n    /// <summary>\r\n    /// Which player should move on a given turn number.\r\n    /// </summary>\r\n    /// <param name=\"turn\"></param>\r\n    /// <returns></returns>\r\n    private Player GetPlayerForTurn(int turn)\r\n    {\r\n        switch ((turn - 1) % 6)\r\n        {\r\n            case 0:\r\n            case 4:\r\n            case 5:\r\n                return Player.One;\r\n\r\n            case 1:\r\n            case 2:\r\n            case 3:\r\n                return Player.Two;\r\n\r\n            default:\r\n                return Player.Empty;\r\n        }\r\n    }\r\n\r\n    public Player GetPlayerForPreviousTurn()\r\n    {\r\n        return GetPlayerForTurn(Turn - 1);\r\n    }\r\n\r\n    /// <summary>\r\n    /// Get the type of move a specific turn requires.\r\n    /// </summary>\r\n    /// <param name=\"turn\"></param>\r\n    /// <returns></returns>\r\n    private MoveType GetMoveTypeForTurn(int turn)\r\n    {\r\n        switch ((turn - 1) % 6)\r\n        {\r\n            case 2:\r\n            case 5:\r\n                return MoveType.AllGrow;\r\n\r\n            case 0:\r\n            case 1:\r\n            case 3:\r\n            case 4:\r\n            default:\r\n                return MoveType.SingleGrow;\r\n        }\r\n    }\r\n\r\n    public long GetHash()\r\n    {\r\n        long hash = 0;\r\n\r\n        for (int i = 0; i < 80; i++)\r\n        {\r\n            hash ^= Constants.ZobristKeys[i, Tiles[i] == 0 ? 0 : (Tiles[i] > 0 ? 1 : 2)];\r\n        }\r\n\r\n        return hash;\r\n    }\r\n}\r\n\r\ninternal enum Player\r\n{\r\n    One,\r\n    Two,\r\n    Empty,\r\n    Draw\r\n}\r\n\r\ninternal enum GameState\r\n{\r\n    InProgress,\r\n    GameOver\r\n}\r\n\r\ninternal class Constants\r\n{\r\n    public const int AllGrowMove = 80;\r\n\r\n    /// <summary>\r\n    /// An array mapping a source tile index to it's three connecting triangle indexes.\r\n    /// E.G., ConnectingTiles[55] = { 33, 52, 74 } since tile 55 connects to tiles 33, 51, and 74.\r\n    /// </summary>\r\n    public static int[][] AdjacentIndexes = GetConnectingTiles();\r\n\r\n    /// <summary>\r\n    /// An array mapping a source tile index to it's tile name.\r\n    /// E.G., TileNames[5] = \"N02\"\r\n    /// </summary>\r\n    public static string[] TileNames = GetTileNames();\r\n\r\n    /// <summary>\r\n    /// FOR BACKWARDS COMPATIBILITY\r\n    /// An array mapping a source tile index to it's tile name.\r\n    /// E.G., TileNames[5] = \"2A\"\r\n    /// </summary>\r\n    public static string[] OldTileNames = GetOldTileNames();\r\n\r\n    /// <summary>\r\n    /// An array mapping a source tile to its antipodes (tile directly opposite on the 3D board shape).\r\n    /// </summary>\r\n    public static int[] Antipodes = GetAntipodes();\r\n\r\n    /// <summary>\r\n    /// An array mapping a source tile index to it's three or four kitty corner tile indexes.\r\n    /// NOTE: Currently there are only mappings for \"A\" tiles (not B, C, or D)\r\n    /// </summary>\r\n    public static int[][] KittyCornerTiles = GetKittyCornerTiles();\r\n\r\n    /// <summary>\r\n    /// An array mapping a source tile index to a path to it's antipode.\r\n    /// </summary>\r\n    public static int[][] FastestPaths = GetFastestPaths();\r\n\r\n    /// <summary>\r\n    /// An dictionary mapping a tile name back to it's index.\r\n    /// Supports both old and new tile names!\r\n    /// </summary>\r\n    public static ConcurrentDictionary<string, int> TileIndexes = GetTileIndexes();\r\n\r\n    /// <summary>\r\n    /// An array mapping each tile to a list of tiles 3 moves away\r\n    /// </summary>\r\n    public static int[][] ThreeAway = GetThreeAway();\r\n\r\n    /// <summary>\r\n    /// Random numbers to use for zobrist style hashes\r\n    /// </summary>\r\n    public static long[,] ZobristKeys = GetZobristKeys();\r\n\r\n    private static int[][] GetConnectingTiles()\r\n    {\r\n        int[][] connections = new int[80][];\r\n\r\n        // First row\r\n        //    .\r\n        //   /B\\\r\n        //  / A \\   x5\r\n        // /D   C\\\r\n        // -------\r\n        for (int outer = 0; outer < 5; outer++)\r\n        {\r\n            // A\r\n            int i = outer * 4;\r\n            connections[i] = new int[3] { i + 1, i + 2, i + 3 };\r\n\r\n            // B\r\n            i++;\r\n            connections[i] = new int[3] { (i - 1 + 20) % 20, (i + 4) % 20, (i - 4 + 20) % 20 };\r\n\r\n            // C\r\n            i++;\r\n            connections[i] = new int[3] { (i - 2 + 20) % 20, i + 21, (i + 5) % 20 };\r\n\r\n            // D\r\n            i++;\r\n            connections[i] = new int[3] { (i - 3 + 20) % 20, i + 19, (i - 5 + 20) % 20 };\r\n        }\r\n\r\n        // Second row\r\n        // -------\r\n        // \\C   D/\r\n        //  \\ A /   x5\r\n        //   \\B/\r\n        //    .\r\n        for (int outer = 5; outer < 10; outer++)\r\n        {\r\n            // A\r\n            int i = outer * 4;\r\n            connections[i] = new int[3] { i + 1, i + 2, i + 3 };\r\n\r\n            // B\r\n            i++;\r\n            connections[i] = new int[3] { i - 1, i + 22, i + 17 };\r\n            connections[i][2] = i == 21 ? 58 : connections[i][2];\r\n\r\n            // C\r\n            i++;\r\n            connections[i] = new int[3] { i - 2, i - 19, i + 15 };\r\n            connections[i][2] = i == 22 ? 57 : connections[i][2];\r\n\r\n            // D\r\n            i++;\r\n            connections[i] = new int[3] { i - 3, i + 18, i - 21 };\r\n        }\r\n\r\n        // Third row\r\n        //    .\r\n        //   /B\\\r\n        //  / A \\   x5\r\n        // /D   C\\\r\n        // -------\r\n        for (int outer = 10; outer < 15; outer++)\r\n        {\r\n            // A\r\n            int i = outer * 4;\r\n            connections[i] = new int[3] { i + 1, i + 2, i + 3 };\r\n\r\n            // B\r\n            i++;\r\n            connections[i] = new int[3] { i - 1, i - 18, i - 15 };\r\n            connections[i][2] = i == 57 ? 22 : connections[i][2];\r\n\r\n            // C\r\n            i++;\r\n            connections[i] = new int[3] { i - 2, i - 17, i + 21 };\r\n            connections[i][1] = i == 58 ? 21 : connections[i][1];\r\n\r\n            // D\r\n            i++;\r\n            connections[i] = new int[3] { i - 3, i + 19, i - 22 };\r\n        }\r\n\r\n        // Fourth row\r\n        // -------\r\n        // \\C   D/\r\n        //  \\ A /   x5\r\n        //   \\B/\r\n        //    .\r\n        for (int outer = 15; outer < 20; outer++)\r\n        {\r\n            // A\r\n            int i = outer * 4;\r\n            connections[i] = new int[3] { i + 1, i + 2, i + 3 };\r\n\r\n            // B\r\n            i++;\r\n            connections[i] = new int[3] { i - 1, i + 4, i - 4 };\r\n            connections[i][2] = i == 61 ? 77 : connections[i][2];\r\n            connections[i][1] = i == 77 ? 61 : connections[i][1];\r\n\r\n            // C\r\n            i++;\r\n            connections[i] = new int[3] { i - 2, i - 19, i - 3 };\r\n            connections[i][2] = i == 62 ? 79 : connections[i][2];\r\n\r\n            // D\r\n            i++;\r\n            connections[i] = new int[3] { i - 3, i + 3, i - 21 };\r\n            connections[i][1] = i == 79 ? 62 : connections[i][1];\r\n        }\r\n\r\n        return connections;\r\n    }\r\n\r\n    private static string[] GetTileNames()\r\n    {\r\n        return new string[] {\r\n                \"N07\", \"N01\", \"N08\", \"N06\", \"N10\", \"N02\", \"N11\", \"N09\", \"N13\", \"N03\", \"N14\", \"N12\", \"N16\", \"N04\", \"N17\", \"N15\", \"N19\", \"N05\", \"N20\", \"N18\", \"N22\", \"S32\", \"N21\", \"N23\", \"N26\", \"S36\", \"N25\", \"N27\", \"N30\", \"S40\", \"N29\", \"N31\", \"N34\", \"S24\", \"N33\", \"N35\", \"N38\", \"S28\", \"N37\", \"N39\",\r\n                \"S34\", \"N24\", \"S35\", \"S33\", \"S38\", \"N28\", \"S39\", \"S37\", \"S22\", \"N32\", \"S23\", \"S21\", \"S26\", \"N36\", \"S27\", \"S25\", \"S30\", \"N40\", \"S31\", \"S29\", \"S16\", \"S04\", \"S15\", \"S17\", \"S19\", \"S05\", \"S18\", \"S20\", \"S07\", \"S01\", \"S06\", \"S08\", \"S10\", \"S02\", \"S09\", \"S11\", \"S13\", \"S03\", \"S12\", \"S14\",\r\n                \"G\",\r\n            };\r\n    }\r\n\r\n    private static string[] GetOldTileNames()\r\n    {\r\n        string[] names = new string[81];\r\n\r\n        for (int outer = 0; outer < 20; outer++)\r\n        {\r\n            for (int inner = 0; inner < 4; inner++)\r\n            {\r\n                int index = outer * 4 + inner;\r\n                names[index] = (outer + 1).ToString();\r\n\r\n                switch (inner)\r\n                {\r\n                    case 0:\r\n                        names[index] += \"A\";\r\n                        break;\r\n\r\n                    case 1:\r\n                        names[index] += \"B\";\r\n                        break;\r\n\r\n                    case 2:\r\n                        names[index] += \"C\";\r\n                        break;\r\n\r\n                    case 3:\r\n                        names[index] += \"D\";\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n\r\n        // For growth\r\n        names[80] = \"G\";\r\n\r\n        return names;\r\n    }\r\n\r\n    private static int[] GetAntipodes()\r\n    {\r\n        int[] antipodes = new int[80];\r\n\r\n        for (int i = 0; i < 12; i++)\r\n        {\r\n            int a = 68;\r\n            a = i % 4 == 2 ? 69 : a;\r\n            a = i % 4 == 3 ? 67 : a;\r\n\r\n            antipodes[i] = i + a;\r\n            antipodes[i + a] = i;\r\n        }\r\n\r\n        for (int i = 12; i < 20; i++)\r\n        {\r\n            int a = 48;\r\n            a = i % 4 == 2 ? 49 : a;\r\n            a = i % 4 == 3 ? 47 : a;\r\n\r\n            antipodes[i] = i + a;\r\n            antipodes[i + a] = i;\r\n        }\r\n\r\n        for (int i = 20; i < 32; i++)\r\n        {\r\n            int a = 28;\r\n            a = i % 4 == 2 ? 29 : a;\r\n            a = i % 4 == 3 ? 27 : a;\r\n\r\n            antipodes[i] = i + a;\r\n            antipodes[i + a] = i;\r\n        }\r\n\r\n        for (int i = 32; i < 40; i++)\r\n        {\r\n            int a = 8;\r\n            a = i % 4 == 2 ? 9 : a;\r\n            a = i % 4 == 3 ? 7 : a;\r\n\r\n            antipodes[i] = i + a;\r\n            antipodes[i + a] = i;\r\n        }\r\n\r\n        return antipodes;\r\n    }\r\n\r\n    private static int[][] GetKittyCornerTiles()\r\n    {\r\n        int[][] corners = new int[80][];\r\n\r\n        for (int outer = 0; outer < 5; outer++)\r\n        {\r\n            // A\r\n            int i = outer * 4;\r\n            corners[i] = new int[3] { (i + 4) % 20, i + 20, (i - 4 + 20) % 20 };\r\n\r\n            // TODO: B, C, D\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n        }\r\n\r\n        for (int outer = 5; outer < 10; outer++)\r\n        {\r\n            // A\r\n            int i = outer * 4;\r\n            corners[i] = new int[3] { i - 20, i + 20, i + 16 };\r\n            corners[i][2] = i == 20 ? 56 : corners[i][2];\r\n\r\n            // TODO: B, C, D\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n        }\r\n\r\n        for (int outer = 10; outer < 15; outer++)\r\n        {\r\n            // A\r\n            int i = outer * 4;\r\n            corners[i] = new int[3] { i - 20, i - 16, i + 20 };\r\n            corners[i][1] = i == 56 ? 20 : corners[i][1];\r\n\r\n            // TODO: B, C, D\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n        }\r\n\r\n        for (int outer = 15; outer < 20; outer++)\r\n        {\r\n            // A\r\n            int i = outer * 4;\r\n            corners[i] = new int[3] { i - 20, i + 4, i - 4 };\r\n            corners[i][1] = i == 76 ? 60 : corners[i][1];\r\n            corners[i][2] = i == 60 ? 76 : corners[i][2];\r\n\r\n            // TODO: B, C, D\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n        }\r\n\r\n        return corners;\r\n    }\r\n\r\n    private static int[][] GetFastestPaths()\r\n    {\r\n        PathFinder pathFinder = new UnrestrictedPathFinder();\r\n        int[][] paths = new int[80][];\r\n        Board board = new Board();\r\n\r\n        for (int i = 0; i < 80; i++)\r\n        {\r\n            paths[i] = pathFinder.FindPath(board, i, Antipodes[i]).Path.ToArray();\r\n        }\r\n\r\n        if (paths.Any(x => x.Length != 12))\r\n        {\r\n            // To prevent me from messing up the path finding algorithm...\r\n            throw new Exception(\"Path finder distances are incorrect!\");\r\n        }\r\n\r\n        return paths;\r\n    }\r\n\r\n    private static ConcurrentDictionary<string, int> GetTileIndexes()\r\n    {\r\n        var indexes = new ConcurrentDictionary<string, int>();\r\n\r\n        // The 80th index is a pseudo tile for the growth phase\r\n        for (int i = 0; i < 81; i++)\r\n        {\r\n            indexes[TileNames[i]] = i;\r\n        }\r\n\r\n        // Support legacy tile names\r\n        for (int i = 0; i < 81; i++)\r\n        {\r\n            if (indexes.ContainsKey(OldTileNames[i]))\r\n            {\r\n                if (indexes[OldTileNames[i]] != i)\r\n                {\r\n                    throw new Exception(\"Tile mapping duplicate!\");\r\n                }\r\n            }\r\n            else\r\n            {\r\n                indexes[OldTileNames[i]] = i;\r\n            }\r\n        }\r\n\r\n        return indexes;\r\n    }\r\n\r\n    private static int[][] GetThreeAway()\r\n    {\r\n        var tiles = new int[80][];\r\n        var connections = GetConnectingTiles();\r\n\r\n        for (int i = 0; i < 80; i++)\r\n        {\r\n            var done = new List<int>();\r\n            var queue = new List<int>();\r\n            queue.Add(i);\r\n\r\n            for (int d = 0; d < 3; d++)\r\n            {\r\n                for (int x = queue.Count - 1; x >= 0; x--)\r\n                {\r\n                    foreach (var con in connections[queue[x]])\r\n                    {\r\n                        if (!done.Contains(con))\r\n                        {\r\n                            queue.Add(con);\r\n                        }\r\n                    }\r\n\r\n                    done.Add(queue[x]);\r\n                    queue.RemoveAt(x);\r\n                }\r\n            }\r\n\r\n            tiles[i] = queue.Distinct().ToArray();\r\n        }\r\n\r\n        return tiles;\r\n    }\r\n\r\n    private static long[,] GetZobristKeys()\r\n    {\r\n        var rand = new Random();\r\n        var tiles = new long[80, 100];\r\n\r\n        for (int i = 0; i < 80; i++)\r\n        {\r\n            for (int x = 0; x < 100; x++)\r\n            {\r\n                var buffer = new byte[sizeof(long)];\r\n                rand.NextBytes(buffer);\r\n                tiles[i, x] = BitConverter.ToInt64(buffer, 0);\r\n            }\r\n        }\r\n\r\n        return tiles;\r\n    }\r\n}\r\n\r\ninternal class PathFinder\r\n{\r\n    public PathFinder()\r\n    {\r\n    }\r\n\r\n    protected virtual int[] GetNeighborTiles(Board state, int tileIndex)\r\n    {\r\n        return Constants.AdjacentIndexes[tileIndex];\r\n    }\r\n\r\n    protected virtual bool IsTraversableTile(Board state, Player player, int tileIndex)\r\n    {\r\n        // Ignore tiles that aren't the player's\r\n        if ((state.Tiles[tileIndex] > 0 && player != Player.One) || (state.Tiles[tileIndex] < 0 && player != Player.Two))\r\n        {\r\n            return false;\r\n        }\r\n\r\n        // Ignore magma chambers\r\n        if (Math.Abs(state.Tiles[tileIndex]) <= VolcanoGame.Settings.MaxMagmaChamberLevel)\r\n        {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    protected virtual int GetDistance(Board state, int first, int second)\r\n    {\r\n        return 1;\r\n    }\r\n\r\n    public bool HasPath(Board state, int startingIndex, int endingIndex)\r\n    {\r\n        return FindPath(state, startingIndex, endingIndex, false).Found;\r\n    }\r\n\r\n    public PathResult FindPath(Board state, int startingIndex, int endingIndex)\r\n    {\r\n        return FindPath(state, startingIndex, endingIndex, true);\r\n    }\r\n\r\n    private PathResult FindPath(Board state, int startingIndex, int endingIndex, bool returnPath)\r\n    {\r\n        // The set of nodes already evaluated\r\n        bool[] closedSet = new bool[80];\r\n\r\n        Player player = state.Tiles[startingIndex] == 0 ? Player.Empty : (state.Tiles[startingIndex] > 0 ? Player.One : Player.Two);\r\n\r\n        // The set of currently discovered nodes that are not evaluated yet.\r\n        // Initially, only the start node is known.\r\n        Queue<int> openSet = new Queue<int>();\r\n        openSet.Enqueue(startingIndex);\r\n\r\n        // For each node, which node it can most efficiently be reached from.\r\n        // If a node can be reached from many nodes, cameFrom will eventually contain the\r\n        // most efficient previous step.\r\n        int[] cameFrom = new int[80];\r\n\r\n        // For each node, the cost of getting from the start node to that node.\r\n        int[] gScore = new int[80];\r\n\r\n        for (int i = 0; i < 80; i++)\r\n        {\r\n            cameFrom[i] = -1;\r\n            gScore[i] = int.MaxValue;\r\n        }\r\n\r\n        // The cost of going from start to start is zero.\r\n        gScore[startingIndex] = 0;\r\n\r\n        //// For each node, the total cost of getting from the start node to the goal\r\n        //// by passing by that node. That value is partly known, partly heuristic.\r\n        //int[] fScore = new int[80];\r\n        //for (int i = 0; i < 80; i++)\r\n        //{\r\n        //    fScore[i] = int.MaxValue;\r\n        //}\r\n\r\n        //// For the first node, that value is completely heuristic. (All antipode paths are known to be 12 tiles long.)\r\n        //fScore[startingIndex] = 12;\r\n\r\n        while (openSet.Count > 0)\r\n        {\r\n            // Get the next item in the open set with the lowest fScore\r\n            int current = openSet.Dequeue();\r\n            //int best = fScore[current];\r\n            //foreach (int i in openSet)\r\n            //{\r\n            //    if (fScore[i] < best)\r\n            //    {\r\n            //        current = i;\r\n            //        best = fScore[i];\r\n            //    }\r\n            //}\r\n\r\n            // If we found a path from the start to the end, reconstruct the path and return it\r\n            if (current == endingIndex)\r\n            {\r\n                if (returnPath)\r\n                {\r\n                    List<int> path = new List<int>();\r\n                    path.Add(current);\r\n\r\n                    while (cameFrom[current] != -1)\r\n                    {\r\n                        current = cameFrom[current];\r\n                        path.Add(current);\r\n                    }\r\n\r\n                    path.Reverse();\r\n\r\n                    return new PathResult(path, gScore[endingIndex]);\r\n                }\r\n                else\r\n                {\r\n                    // Just return that we found a path, don't bother piecing it together\r\n                    return new PathResult(true);\r\n                }\r\n            }\r\n\r\n            //openSet.Remove(current);\r\n            closedSet[current] = true;\r\n\r\n            foreach (int neighbor in GetNeighborTiles(state, current))\r\n            {\r\n                // Ignore the neighbor which is already evaluated.\r\n                if (closedSet[neighbor])\r\n                {\r\n                    continue;\r\n                }\r\n\r\n                if (!IsTraversableTile(state, player, neighbor))\r\n                {\r\n                    continue;\r\n                }\r\n\r\n                // The distance from start to a neighbor\r\n                int tentative_gScore = gScore[current] + GetDistance(state, current, neighbor);\r\n\r\n                // Discover a new node\r\n                if (!openSet.Contains(neighbor))\r\n                {\r\n                    openSet.Enqueue(neighbor);\r\n                }\r\n                else if (tentative_gScore >= gScore[neighbor])\r\n                {\r\n                    continue;\r\n                }\r\n\r\n                // This path is the best until now. Record it!\r\n                cameFrom[neighbor] = current;\r\n                gScore[neighbor] = tentative_gScore;\r\n                //fScore[neighbor] = gScore[neighbor] /* + Math.Abs(neighbor - startingIndex) */;\r\n            }\r\n        }\r\n\r\n        return new PathResult();\r\n    }\r\n}\r\n\r\ninternal class PathResult\r\n{\r\n    public List<int> Path { get; set; }\r\n    public int Distance { get; set; }\r\n    public bool Found { get; private set; }\r\n\r\n    public PathResult()\r\n        : this(new List<int>())\r\n    {\r\n    }\r\n\r\n    public PathResult(List<int> path)\r\n        : this(path, path.Count)\r\n    {\r\n    }\r\n\r\n    public PathResult(List<int> path, int distance)\r\n    {\r\n        Path = path;\r\n        Distance = distance;\r\n        Found = (Path?.Count ?? 0) > 0;\r\n    }\r\n\r\n    public PathResult(bool found)\r\n    {\r\n        Found = found;\r\n    }\r\n}\r\n\r\ninternal class UnrestrictedPathFinder : PathFinder\r\n{\r\n    protected override bool IsTraversableTile(Board state, Player player, int tileIndex)\r\n    {\r\n        return true;\r\n    }\r\n}\r\n\r\ninternal class GameSettings\r\n{\r\n    public int MaxMagmaChamberLevel = 0;\r\n    public int MaxVolcanoLevel = 4;\r\n\r\n    public int EruptOverflowEmptyTileAmount = 1;\r\n    public int EruptOverflowFriendlyTileAmount = 1;\r\n    public int EruptOverflowEnemyTileAmount = -4;\r\n    public bool EruptOverflowAllowCapture = false;\r\n\r\n    public bool AllowMagmaChamberCaptures = false;\r\n    public bool AllowVolcanoCaptures = false;\r\n    public bool AllowDormantVolcanoes = true;\r\n\r\n    public int TournamentAdjudicateMaxTurns = 500;\r\n    public int TournamentAdjudicateMaxSeconds = 60 * 30;\r\n\r\n    public bool IndicateTranscriptMoveType = true;\r\n\r\n    public GameSettings Clone()\r\n    {\r\n        return (GameSettings)MemberwiseClone();\r\n    }\r\n}\r\n\r\ninternal enum MoveType\r\n{\r\n    AllGrow,\r\n    SingleGrow\r\n}\r\n\r\ninternal class OpeningBook\r\n{\r\n    private string _file;\r\n\r\n    private ConcurrentDictionary<string, int> _book;\r\n\r\n    private Random _rand;\r\n\r\n    public bool Loaded { get; private set; }\r\n\r\n    public int Depth { get; private set; }\r\n\r\n    public int Seconds { get; private set; }\r\n\r\n    public event BookGenerationHandler OnStatusUpdate;\r\n\r\n    public delegate void BookGenerationHandler(int completed, int total);\r\n\r\n    public OpeningBook(string file)\r\n    {\r\n        _file = file;\r\n        _book = new ConcurrentDictionary<string, int>();\r\n        _rand = new Random();\r\n\r\n        //if (File.Exists(_file))\r\n        //{\r\n        //    using (var r = new StreamReader(_file))\r\n        //    {\r\n        //        Depth = int.Parse(r.ReadLine());\r\n\r\n        //        var count = int.Parse(r.ReadLine());\r\n\r\n        //        Seconds = int.Parse(r.ReadLine());\r\n\r\n        //        for (int i = 0; i < count; i++)\r\n        //        {\r\n        //            var transcript = r.ReadLine();\r\n        //            var move = Constants.TileIndexes[r.ReadLine()];\r\n\r\n        //            _book[transcript] = move;\r\n        //        }\r\n        //    }\r\n\r\n        //    Loaded = true;\r\n        //}\r\n    }\r\n\r\n    public int GetMove(string transcript)\r\n    {\r\n        if (_book.ContainsKey(transcript))\r\n        {\r\n            return _book[transcript];\r\n        }\r\n        else\r\n        {\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    private class BookNode\r\n    {\r\n        public BookNode Parent { get; set; }\r\n\r\n        public List<BookNode> Children { get; set; }\r\n\r\n        public int Move { get; set; }\r\n\r\n        public VolcanoGame State { get; set; }\r\n\r\n        public int PlayerOneWins { get; set; }\r\n\r\n        public int PlayerTwoWins { get; set; }\r\n\r\n        public int Simulations { get; set; }\r\n\r\n        public double PlayerOneScore\r\n        {\r\n            get\r\n            {\r\n                if (Simulations <= 0)\r\n                {\r\n                    return 0;\r\n                }\r\n\r\n                return (double)PlayerOneWins / Simulations;\r\n            }\r\n        }\r\n\r\n        public double PlayerTwoScore\r\n        {\r\n            get\r\n            {\r\n                if (Simulations <= 0)\r\n                {\r\n                    return 0;\r\n                }\r\n\r\n                return (double)PlayerTwoWins / Simulations;\r\n            }\r\n        }\r\n\r\n        public BookNode()\r\n        {\r\n            Children = new List<BookNode>();\r\n        }\r\n    }\r\n}\r\n\r\ninternal interface IStatus\r\n{\r\n    event EventHandler<EngineStatus> OnStatus;\r\n}\r\n\r\ninternal class MonteCarloTreeSearchEngine : IEngine, IStatus\r\n{\r\n    private Random random;\r\n    private int simulationCount;\r\n    private int visitedNodes;\r\n    private bool _allowForcedWins;\r\n    private bool _allowHash;\r\n    private bool _allowFastWinSearch;\r\n\r\n    private bool _useOpeningBook;\r\n    private OpeningBook _book;\r\n\r\n    private int bufferMilliseconds = 0;\r\n    private EngineCancellationToken cancel;\r\n\r\n    private Stopwatch timer;\r\n\r\n    private Stopwatch statusUpdate;\r\n    private int millisecondsBetweenUpdates = 500;\r\n\r\n    public event EventHandler<EngineStatus> OnStatus;\r\n\r\n    public ConcurrentDictionary<long, Player> winHashes = new ConcurrentDictionary<long, Player>();\r\n\r\n    private double _ucbFactor = 2.0;\r\n\r\n    public MonteCarloTreeSearchEngine(double ucbFactor)\r\n    {\r\n        random = new Random();\r\n        _ucbFactor = ucbFactor;\r\n    }\r\n\r\n    public MonteCarloTreeSearchEngine(bool allowForcedWins)\r\n    {\r\n        random = new Random();\r\n        _allowForcedWins = allowForcedWins;\r\n    }\r\n\r\n    public MonteCarloTreeSearchEngine(bool allowForcedWins, bool allowHash, bool allowFastWinSearch, string openingBook)\r\n    {\r\n        random = new Random();\r\n        _allowForcedWins = allowForcedWins;\r\n        _allowHash = allowHash;\r\n        _allowFastWinSearch = allowFastWinSearch;\r\n        _useOpeningBook = !string.IsNullOrEmpty(openingBook);\r\n\r\n        if (_useOpeningBook)\r\n        {\r\n            _book = new OpeningBook(openingBook);\r\n            _useOpeningBook = _book.Loaded;\r\n        }\r\n    }\r\n\r\n    public MonteCarloTreeSearchEngine()\r\n    {\r\n        random = new Random();\r\n        _allowForcedWins = true;\r\n    }\r\n\r\n    public SearchResult GetBestMove(Board state, int maxMs, EngineCancellationToken token)\r\n    {\r\n        //if (_useOpeningBook)\r\n        //{\r\n        //    if (maxMs <= _book.Seconds)\r\n        //    {\r\n        //        var bookMove = _book.GetMove(state.Transcript);\r\n\r\n        //        if (bookMove >= 0)\r\n        //        {\r\n        //            return new SearchResult\r\n        //            {\r\n        //                BestMove = bookMove\r\n        //            };\r\n        //        }\r\n        //    }\r\n        //}\r\n\r\n        timer = Stopwatch.StartNew();\r\n        statusUpdate = Stopwatch.StartNew();\r\n        visitedNodes = 0;\r\n        simulationCount = 0;\r\n\r\n        cancel = new EngineCancellationToken(() => token.Cancelled || timer.ElapsedMilliseconds >= maxMs - bufferMilliseconds);\r\n\r\n        int best = MonteCarloTreeSearch(state);\r\n\r\n        return new SearchResult\r\n        {\r\n            BestMove = best,\r\n            Evaluations = visitedNodes,\r\n            Simulations = simulationCount,\r\n            Milliseconds = timer.ElapsedMilliseconds\r\n        };\r\n    }\r\n\r\n    protected virtual List<int> GetMoves(Board state)\r\n    {\r\n        return state.GetMoves();\r\n    }\r\n\r\n    private int MonteCarloTreeSearch(Board rootState)\r\n    {\r\n        var rootNode = new MonteCarloTreeSearchNode(rootState, GetMoves);\r\n        var forceWin = false;\r\n\r\n        while (!cancel.Cancelled && !forceWin)\r\n        {\r\n            var node = rootNode;\r\n            var state = new Board(rootState);\r\n\r\n            state.allowHash = _allowHash;\r\n            state.fastWinSearch = _allowFastWinSearch;\r\n\r\n            if (_allowHash)\r\n            {\r\n                state.winHashes = winHashes;\r\n            }\r\n\r\n            simulationCount++;\r\n\r\n            // Select\r\n            while (node.Untried.Count == 0 && node.Children.Count > 0)\r\n            {\r\n                node = node.SelectChild(_ucbFactor);\r\n                state.MakeMove(node.Move);\r\n                visitedNodes++;\r\n            }\r\n\r\n            // Expand\r\n            if (node.Untried.Count > 0)\r\n            {\r\n                var move = node.Untried[random.Next(node.Untried.Count)];\r\n                state.MakeMove(move);\r\n                node = node.AddChild(state, move);\r\n                visitedNodes++;\r\n            }\r\n\r\n            // Simulate\r\n            while (state.Winner == Player.Empty && state.Turn < 50)\r\n            {\r\n                var moves = state.GetMoves(false, true, false, VolcanoGame.Settings.MaxVolcanoLevel);\r\n                if (moves.Count == 0)\r\n                {\r\n                    break;\r\n                }\r\n                state.MakeMove(moves[random.Next(moves.Count)]);\r\n                visitedNodes++;\r\n            }\r\n\r\n            // Backpropagate\r\n            while (node != null)\r\n            {\r\n                //if (state.Winner != Player.Draw)\r\n                //{\r\n                //    Console.Error.WriteLine($\"{state.Winner} == {node.LastToMove}\");\r\n                //    throw new Exception();\r\n                //}\r\n                node.Update(state.Winner == Player.One ? 1.0 : 0.0);\r\n                node = node.Parent;\r\n                visitedNodes++;\r\n            }\r\n\r\n            // Cut Short\r\n            if (_allowForcedWins)\r\n            {\r\n                foreach (var child in rootNode.Children)\r\n                {\r\n                    // If we have a potential move that has a 100% win rate and it's been visited a lot of times, stop searching\r\n                    if (child.Visits > 500 && child.Wins == child.Visits)\r\n                    {\r\n                        forceWin = true;\r\n                    }\r\n                }\r\n            }\r\n\r\n            //// Update Status\r\n            //if (statusUpdate.ElapsedMilliseconds > 60)\r\n            //{\r\n            //    EngineStatus status = new EngineStatus();\r\n            //    foreach (var child in rootNode.Children)\r\n            //    {\r\n            //        double eval = Math.Round((child.Visits > 0 ? 200.0 * child.Wins / child.Visits : 0) - 100.0, 2);\r\n            //        string pv = \"\";\r\n            //        var c = child;\r\n            //        while (c != null && c.Move >= 0 && c.Move <= 80)\r\n            //        {\r\n            //            pv += Constants.TileNames[c.Move] + \" (\" + c.Wins + \"/\" + c.Visits + \")   \";\r\n            //            c = c.Children?.OrderBy(x => x.Visits)?.ThenBy(x => x.Wins)?.LastOrDefault();\r\n            //        }\r\n            //        Console.Error.WriteLine($\"{child?.Move} {eval} {pv}\");\r\n            //        //status.Add(child?.Move ?? 80, eval, pv);\r\n            //    }\r\n            //    //status.Sort();\r\n            //    //Console.Error.WriteLine();\r\n            //    statusUpdate = Stopwatch.StartNew();\r\n            //}\r\n        }\r\n\r\n#if LOCAL\r\n        var debug = rootNode.Children.OrderBy(x => x.Visits).Select(x => new { move = Constants.TileNames[x.Move], visits = x.Visits, wins = x.Wins }).ToList();\r\n#endif\r\n\r\n        return rootNode.Children.OrderBy(x => x.Visits).LastOrDefault().Move;\r\n    }\r\n\r\n    private class MonteCarloTreeSearchNode\r\n    {\r\n        private Func<Board, List<int>> _getMoves;\r\n\r\n        public double Wins;\r\n        public double Visits;\r\n        public MonteCarloTreeSearchNode Parent;\r\n        public Player LastToMove;\r\n        public int Move;\r\n        public List<MonteCarloTreeSearchNode> Children;\r\n        public List<int> Untried;\r\n\r\n        public MonteCarloTreeSearchNode(Board state, Func<Board, List<int>> getMoves)\r\n            : this(state, -2, null, getMoves)\r\n        {\r\n        }\r\n\r\n        public MonteCarloTreeSearchNode(Board state, int move, MonteCarloTreeSearchNode parent, Func<Board, List<int>> getMoves)\r\n        {\r\n            _getMoves = getMoves;\r\n\r\n            Move = move;\r\n            Parent = parent;\r\n\r\n            Children = new List<MonteCarloTreeSearchNode>();\r\n            Wins = 0.0;\r\n            Visits = 0.0;\r\n\r\n            if (state != null)\r\n            {\r\n                Untried = _getMoves(state);\r\n                LastToMove = state.GetPlayerForPreviousTurn();\r\n            }\r\n            else\r\n            {\r\n                Untried = new List<int>();\r\n            }\r\n        }\r\n\r\n        public MonteCarloTreeSearchNode SelectChild(double ucbFactor)\r\n        {\r\n            return Children.OrderBy(x => UpperConfidenceBound(ucbFactor, x)).LastOrDefault();\r\n        }\r\n\r\n        public MonteCarloTreeSearchNode AddChild(Board state, int move)\r\n        {\r\n            var newNode = new MonteCarloTreeSearchNode(state, move, this, _getMoves);\r\n            Untried.Remove(move);\r\n            Children.Add(newNode);\r\n            return newNode;\r\n        }\r\n\r\n        public void Update(double result)\r\n        {\r\n            Visits++;\r\n            Wins += result;\r\n        }\r\n\r\n        private double UpperConfidenceBound(double ucbFactor, MonteCarloTreeSearchNode node)\r\n        {\r\n            return node.Wins / node.Visits + Math.Sqrt(ucbFactor * Math.Log(Visits) / node.Visits);\r\n        }\r\n    }\r\n}\r\n\r\ninternal class SearchResult\r\n{\r\n    public int Score { get; set; }\r\n\r\n    public long Evaluations { get; set; }\r\n\r\n    public long Simulations { get; set; }\r\n\r\n    public long Milliseconds { get; set; }\r\n\r\n    public decimal HashPercentage { get; set; }\r\n\r\n    public int BestMove { get; set; }\r\n\r\n    public bool Timeout { get; set; }\r\n\r\n    public int NodesPerSecond\r\n    {\r\n        get\r\n        {\r\n            if (Milliseconds > 0)\r\n            {\r\n                return (int)(Evaluations / (Milliseconds / 1000.0));\r\n            }\r\n\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    public SearchResult()\r\n    {\r\n        BestMove = -3;\r\n    }\r\n\r\n    public SearchResult(int bestMove)\r\n    {\r\n        BestMove = bestMove;\r\n    }\r\n}\r\n\r\ninternal interface IEngine\r\n{\r\n    SearchResult GetBestMove(Board state, int maxSeconds, EngineCancellationToken token);\r\n}\r\n\r\ninternal class EngineStatus\r\n{\r\n    public List<EngineStatusLine> Details { get; private set; }\r\n\r\n    public EngineStatus()\r\n    {\r\n        Details = new List<EngineStatusLine>();\r\n    }\r\n\r\n    public void Add(int moveIndex, double evaluation, string extraInfo)\r\n    {\r\n        Details.Add(new EngineStatusLine\r\n        {\r\n            MoveIndex = moveIndex,\r\n            Evaluation = evaluation,\r\n            ExtraInformation = extraInfo\r\n        });\r\n    }\r\n\r\n    public void Sort()\r\n    {\r\n        Details.Sort((c, n) => n.Evaluation.CompareTo(c.Evaluation));\r\n    }\r\n}\r\n\r\ninternal class EngineStatusLine\r\n{\r\n    public int MoveIndex { get; set; }\r\n\r\n    public double Evaluation { get; set; }\r\n\r\n    public string ExtraInformation { get; set; }\r\n}\r\n\r\ninternal class EngineCancellationToken\r\n{\r\n    public bool Cancelled { get { return _isCancelled(); } }\r\n\r\n    private Func<bool> _isCancelled;\r\n\r\n    public EngineCancellationToken(Func<bool> isCancelled)\r\n    {\r\n        _isCancelled = isCancelled;\r\n    }\r\n}\r\n\r\ninternal class VolcanoGame\r\n{\r\n    public Board CurrentState { get; set; }\r\n\r\n    private IEngine _playerOneEngine;\r\n    private IEngine _playerTwoEngine;\r\n\r\n    private SearchResult _lastSearch;\r\n\r\n    public event GameOverHandler OnGameOver;\r\n\r\n    public delegate void GameOverHandler(Player winner, VictoryType type);\r\n\r\n    public event MoveMadeHandler OnMoveMade;\r\n\r\n    public delegate void MoveMadeHandler(bool growthHappened);\r\n\r\n    public event EngineStatusHandler OnEngineStatus;\r\n\r\n    public delegate void EngineStatusHandler(Player player, EngineStatus status);\r\n\r\n    public List<int> MoveHistory { get; private set; }\r\n\r\n    //public bool Thinking { get { return _worker.IsBusy; } }\r\n\r\n    public Exception BackgroundError { get; private set; }\r\n\r\n    public int NodesPerSecond { get { return _lastSearch?.NodesPerSecond ?? 0; } }\r\n\r\n    public int SecondsPerEngineMove { get; set; } = 10;\r\n\r\n    public static GameSettings Settings = new GameSettings();\r\n\r\n    private int _graceTimeout = 250;\r\n\r\n    public VolcanoGame()\r\n    {\r\n        CurrentState = new Board();\r\n        MoveHistory = new List<int>();\r\n    }\r\n\r\n    public void StartNewGame()\r\n    {\r\n        CurrentState = new Board();\r\n        MoveHistory = new List<int>();\r\n    }\r\n\r\n    public bool LoadTranscript(string transcript)\r\n    {\r\n        CurrentState = new Board();\r\n        MoveHistory = new List<int>();\r\n\r\n        if (!string.IsNullOrEmpty(transcript))\r\n        {\r\n            string[] lines = transcript.Split(new string[] { \"\\n\", \"\\r\" }, StringSplitOptions.RemoveEmptyEntries);\r\n            foreach (string line in lines)\r\n            {\r\n                string[] moves = line.Split(new string[] { \" \", \"+\" }, StringSplitOptions.RemoveEmptyEntries);\r\n                if (moves.Length > 0 && Constants.TileIndexes.ContainsKey(moves[0]))\r\n                {\r\n                    foreach (string move in moves)\r\n                    {\r\n                        if (Constants.TileIndexes.ContainsKey(move))\r\n                        {\r\n                            int index = Constants.TileIndexes[move];\r\n                            if (index != Constants.AllGrowMove)\r\n                            {\r\n                                MakeMove(index);\r\n                            }\r\n                        }\r\n                        else\r\n                        {\r\n                            return false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return MoveHistory.Count > 0;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public Board GetPreviousState(int turn)\r\n    {\r\n        Board board = new Board();\r\n        for (int i = 0; i < Math.Min(turn, MoveHistory.Count); i++)\r\n        {\r\n            board.MakeMove(MoveHistory[i], true, false);\r\n        }\r\n        return board;\r\n    }\r\n\r\n    public void RegisterEngine(Player player, IEngine engine, bool silent = false)\r\n    {\r\n        if (player == Player.One)\r\n        {\r\n            _playerOneEngine = engine;\r\n        }\r\n        if (player == Player.Two)\r\n        {\r\n            _playerTwoEngine = engine;\r\n        }\r\n    }\r\n\r\n    public void MakeMove(int move)\r\n    {\r\n        if (CurrentState.IsValidMove(move))\r\n        {\r\n            bool growthHappened = CurrentState.MakeMove(move);\r\n\r\n            MoveHistory.Add(move);\r\n            if (growthHappened)\r\n            {\r\n                MoveHistory.Add(Constants.AllGrowMove);\r\n            }\r\n            OnMoveMade?.Invoke(growthHappened);\r\n\r\n            if (CurrentState.State == GameState.GameOver)\r\n            {\r\n                OnGameOver?.Invoke(CurrentState.Winner, CurrentState.Winner == Player.Draw ? VictoryType.InfiniteEruption : VictoryType.AntipodePathCreation);\r\n            }\r\n            //else\r\n            //{\r\n            //    ComputerPlay();\r\n            //}\r\n        }\r\n    }\r\n\r\n    //public void ComputerPlay()\r\n    //{\r\n    //    if (!_worker.IsBusy && CurrentState.State == GameState.InProgress)\r\n    //    {\r\n    //        if (CurrentState.Player == Player.One && _playerOneEngine != null || CurrentState.Player == Player.Two && _playerTwoEngine != null)\r\n    //        {\r\n    //            _worker.RunWorkerAsync();\r\n    //        }\r\n    //    }\r\n    //}\r\n\r\n    public List<Move> GetDetailedMoveList()\r\n    {\r\n        var moves = new List<Move>();\r\n        var board = new Board();\r\n\r\n        for (int i = 0; i < MoveHistory.Count; i++)\r\n        {\r\n            board.MakeMove(MoveHistory[i], true, false);\r\n            moves.Add(new Move(MoveHistory[i], board.LastMoveIncreasedTile));\r\n        }\r\n\r\n        return moves;\r\n    }\r\n\r\n    public string GetTranscriptLine()\r\n    {\r\n        if (MoveHistory.Count > 0)\r\n        {\r\n            if (Settings.IndicateTranscriptMoveType)\r\n            {\r\n                var moves = GetDetailedMoveList();\r\n                return moves.Select(x => x.Tile + (x.Addition ? \"+\" : \"\")).Aggregate((c, n) => c + \" \" + n);\r\n            }\r\n            else\r\n            {\r\n                return MoveHistory.Select(x => Constants.TileNames[x]).Aggregate((c, n) => c + \" \" + n);\r\n            }\r\n        }\r\n\r\n        return \"\";\r\n    }\r\n\r\n    //public string GetTranscript(bool includeHeader)\r\n    //{\r\n    //    if (MoveHistory.Count > 0)\r\n    //    {\r\n    //        StringBuilder sb = new StringBuilder();\r\n\r\n    //        if (includeHeader)\r\n    //        {\r\n    //            sb.AppendLine(\"[Volcanoes Saved Game Transcript v1]\");\r\n    //            sb.AppendLine(\"[Date \" + DateTime.Now.ToString(\"yyyy.MM.dd\") + \"]\");\r\n    //            sb.AppendLine(\"\");\r\n    //        }\r\n\r\n    //        sb.AppendLine(GetTranscriptLine());\r\n\r\n    //        return sb.ToString();\r\n    //    }\r\n\r\n    //    return \"\";\r\n    //}\r\n\r\n    //private void BackgroundWork(object sender, DoWorkEventArgs e)\r\n    //{\r\n    //    EngineCancellationToken token = new EngineCancellationToken(_worker);\r\n\r\n    //    try\r\n    //    {\r\n    //        BackgroundError = null;\r\n\r\n    //        CurrentState.Transcript = GetTranscriptLine();\r\n\r\n    //        var timer = Stopwatch.StartNew();\r\n\r\n    //        if (CurrentState.Player == Player.One)\r\n    //        {\r\n    //            e.Result = _playerOneEngine.GetBestMove(CurrentState, SecondsPerEngineMove, token);\r\n    //        }\r\n    //        else if (CurrentState.Player == Player.Two)\r\n    //        {\r\n    //            e.Result = _playerTwoEngine.GetBestMove(CurrentState, SecondsPerEngineMove, token);\r\n    //        }\r\n\r\n    //        if (timer.ElapsedMilliseconds > SecondsPerEngineMove * 1000 + _graceTimeout)\r\n    //        {\r\n    //            e.Result = new SearchResult { Timeout = true };\r\n    //        }\r\n    //    }\r\n    //    catch (Exception ex)\r\n    //    {\r\n    //        BackgroundError = ex;\r\n\r\n    //        try\r\n    //        {\r\n    //            using (StreamWriter w = new StreamWriter(\"errors.txt\", true))\r\n    //            {\r\n    //                w.WriteLine(DateTime.Now.ToString() + \"\\r\\nFailed to get a move from an engine!\\r\\n\" + ex.ToString() + \"\\r\\n\\r\\n\");\r\n    //            }\r\n    //        }\r\n    //        catch { /* TODO */ }\r\n\r\n    //        e.Result = new SearchResult();\r\n    //    }\r\n\r\n    //    if (token.Cancelled)\r\n    //    {\r\n    //        e.Cancel = true;\r\n    //    }\r\n    //}\r\n\r\n    //private void BackgroundWorkCompleted(object sender, RunWorkerCompletedEventArgs e)\r\n    //{\r\n    //    if (!e.Cancelled)\r\n    //    {\r\n    //        _lastSearch = (SearchResult)e.Result;\r\n\r\n    //        if (_lastSearch.BestMove >= 0 && CurrentState.IsValidMove(_lastSearch.BestMove))\r\n    //        {\r\n    //            bool growthHappened = CurrentState.MakeMove(_lastSearch.BestMove);\r\n\r\n    //            MoveHistory.Add(_lastSearch.BestMove);\r\n    //            if (growthHappened)\r\n    //            {\r\n    //                MoveHistory.Add(Constants.AllGrowMove);\r\n    //            }\r\n    //            OnMoveMade?.Invoke(growthHappened);\r\n\r\n    //            if (CurrentState.State == GameState.GameOver)\r\n    //            {\r\n    //                OnGameOver?.Invoke(CurrentState.Winner, CurrentState.Winner == Player.Draw ? VictoryType.InfiniteEruption : VictoryType.AntipodePathCreation);\r\n    //            }\r\n    //            else\r\n    //            {\r\n    //                ComputerPlay();\r\n    //            }\r\n    //        }\r\n    //        else\r\n    //        {\r\n    //            // If an engine doesn't find a move, then he adjourns the game\r\n    //            CurrentState.Winner = CurrentState.Player == Player.One ? Player.Two : Player.One;\r\n    //            OnGameOver?.Invoke(CurrentState.Winner, _lastSearch.Timeout ? VictoryType.OpponentTimeout : VictoryType.ArenaAdjudication);\r\n    //        }\r\n    //    }\r\n    //}\r\n}\r\n\r\ninternal enum VictoryType\r\n{\r\n    None,\r\n    AntipodePathCreation,\r\n    OpponentResignation,\r\n    ArenaAdjudication,\r\n    InfiniteEruption,\r\n    OpponentTimeout\r\n}\r\n\r\ninternal class Move\r\n{\r\n    public int Location { get; set; }\r\n    public bool Addition { get; set; }\r\n    public string Tile { get; set; }\r\n\r\n    public Move(int location, bool addition)\r\n    {\r\n        Location = location;\r\n        Addition = addition;\r\n        Tile = location >= 0 && location < Constants.TileNames.Length ? Constants.TileNames[location] : \"\";\r\n    }\r\n}",
          "testCases": [],
          "maxPlayers": 2,
          "minPlayers": 2,
          "statements": {
            "1": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      <p>The goal of the game is to create a chain of volcanoes that connects a tile in the northern hemisphere to it's corresponding tile in the southern hemisphere.</p>\n        <p>Opposing tiles are conveniently numbered so that <const>N16</const> (north 16) is opposite <const>S16</const> (south 16).</p>\n            <p>Since the board is a 2D representation of a <a href=\"https://en.wikipedia.org/wiki/Pentakis_icosidodecahedron\" target=\"_blank\">Pentakis Icosidodecahedron</a> (an 80-faced sphere-ish shape), tiles connect around the edges of the board (e.g., <const>N40</const> connects to <const>N21</const> and <const>S17</const> connects to <const>S18</const>).</p>\n      <!-- <img src=\"pentakisicosidodecahedron.png\" style=\"max-width: 200px; margin: 15px 0;\" />\n      <p>(Image: <a href=\"https://commons.wikimedia.org/wiki/File:Pentakis_icosidodecahedron.png\" target=\"_blank\">Tom Ruen</a>, Public domain, via Wikimedia Commons)</p> -->\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        <p>On your turn you may perform one of the following actions.</p>\n        <ol>\n          <li>Place a new level 1 volcano of your color on any empty tile.</li>\n          <li>Increase the level of one of your existing volcanoes by one (up to a maximum level of 4).</li>\n        </ol>\n        <p>Play progresses as follows.</p>\n        <ol>\n          <li>Blue's turn</li>\n          <li>Orange's turn</li>\n          <li>Growth (every volcano on the board gains one level)</li>\n          <li>Orange's turn</li>\n          <li>Blue's turn</li>\n          <li>Growth</li>\n        </ol>\n        <p>This cycle repeats until a player wins by successfully creating an unbroken chain of volcanoes from one side of the board to the other.</p>\n        <p>When a volcano advances to level 4 (during a player's turn or a growth turn), it erupts with the following effects.</p>\n        <ul>\n          <li>The level 4 volcano becomes dormant (it stops growing)</li>\n          <li>Adjacent empty tiles become level 1 volcanoes for the team who owns the erupting volcano.</li>\n          <li>Adjacent volcanoes on the same team as the erupting volcano are increased by one level.</li>\n          <li>Adjacent volcanoes on the opposite team as the erupting volcano are destroyed and leave behind empty tiles.</li>\n        </ul>\n      </div>\n      <div class=\"statement-victory-conditions\"> \n            <div class=\"icon victory\"></div> \n            <div class=\"blk\"> \n              <div class=\"title\">Victory Conditions</div> \n              <div class=\"text\">Win by connecting any northern tile to its corresponding southern tile with an unbroken chain of volcanoes.</div>\n              <!-- <div class=\"text\">For example, connecting <const>N08</const> to <const>S08</const> would be a winning path.</div> -->\n            </div> \n          </div>\n    </div>\n  </div>\n  <!-- EXPERT RULES -->\n  <div class=\"statement-section statement-expertrules\">\n    <h1>\n      <span class=\"icon icon-expertrules\">&nbsp;</span>\n      <span>Expert Rules</span>\n    </h1>\n    <div class=\"statement-expert-rules-content\">\n      <p>Since the connections between tiles are tedious to set up, they are provided to you in the initialization inputs.</p>\n      <p>\n        Eruptions can trigger further eruptions. If an infinite chain of eruptions is detected then the game is considered a draw.\n      </p>\n      <p>It is possible for both players to complete a path at the same time during the growth phase. If this happens then the game is declared a draw.</p>\n      <p>Game concept by <a href=\"https://simondorfman.com/volcanoes1\">Simon Dorfman</a>.</p>\n      <p>Code is available on <a href=\"https://github.com/skotz/codingame-volcanoes\">GitHub</a>.</p>\n    </div>\n  </div>\n  <!-- EXAMPLES\n  <div class=\"statement-section statement-examples\">\n    <h1>\n      <span class=\"icon icon-example\">&nbsp;</span>\n      <span>Example</span>\n    </h1>\n\n    <div class=\"statement-examples-text\">\n      <p>Here's an example of a volcano erupting.</p>\n      <img src=\"example-erupt-1.png\" style=\"max-width: 200px; margin: 15px 0;\" />\n      <p>When the blue player levels up their volcano on S40 (or a growth move happens) the volcano on S40 will increase to a level 4 volcano, become dormant, and then spill over into its three adjacent tiles: S39, N30, and S21.</p>\n      <img src=\"example-erupt-2.png\" style=\"max-width: 200px; margin: 15px 0;\" />\n      <p>Victory is obtained when two tiles on opposite sides of the board (in this case N19 and S19) are connected.</p>\n      <img src=\"example-victory.png\" style=\"max-width: 400px; margin: 15px 0 0 0;\" />\n    </div>\n  </div> -->\n  <!-- WARNING\n  <div class=\"statement-section statement-warning\">\n    <h1>\n      <span class=\"icon icon-warning\">&nbsp;</span>\n      <span>Note</span>\n    </h1>\n    <div class=\"statement-warning-content\">\n      <b>Dont forget to run the tests by launching them from the Test cases window</b>. You can submit at any time\n      to recieve a score against the training validators. <b>You can submit as many times as you like</b>. Your most\n      recent submission will be used for the final ranking.<br>\n      <br>\n      <strong>Warning:</strong> the validation tests used to compute the final score are not the same as the ones used\n      during the event.\n      Harcoded solutions will not score highly.<br>\n      <br>\n      Don't hesitate to change the viewer's options to help debug your code (<img style=\"opacity:.8;background:#20252a;\"\n        height=\"18\" src=\"https://www.codingame.com/servlet/fileservlet?id=3463235186409\" width=\"18\">).\n    </div>\n  </div> -->\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n    </h1>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input (first move only)</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span> <var>numberOfTiles</var>, the total number of tiles on the board</p>\n        <p><span class=\"statement-lineno\">Next <var>numberOfTiles</var> lines: </span> <const>4</const> space-separated values:\n        <ul>\n          <li><var>tileName</var>, the name of the tile at the given index</li>\n          <li><var>neighbor1</var>, the index of a neighboring tile</li>\n          <li><var>neighbor2</var>, the index of a neighboring tile</li>\n          <li><var>neighbor3</var>, the index of a neighboring tile</li>\n        </ul>\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input (each turn)</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span> <var>currentPosition</var>, a space-separated list of the volcano levels of all <var>numberOfTiles</var> tiles on the board, with positive values for your volcanoes and negative values for your opponent's volcanoes</p>\n        <p><span class=\"statement-lineno\">Line 2: </span> <var>validMoves</var>, a space-separated list of valid moves in the current position</p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span> <var>move</var>, the name of the tile to play on or <action>RANDOM</action> to play a random move</p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\"><var>numberOfTiles</var> = <const>80</const><br>\n        <br>Bots must respond within <const>100</const> milliseconds.</div>\n    </div>\n  </div>\n  <!-- STORY\n  <div class=\"statement-story-background\">\n    <div class=\"statement-story-cover\">\n      <div class=\"statement-story\">\n        <h1>Title</h1>\n        <div class=\"story-text\">Story\n          <br>\n          Totally optional</div>\n      </div>\n    </div>\n  </div> -->\n</div>",
            "2": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      <p>The goal of the game is to create a chain of volcanoes that connects a tile in the northern hemisphere to it's corresponding tile in the southern hemisphere.</p>\n        <p>Opposing tiles are conveniently numbered so that <const>N16</const> (north 16) is opposite <const>S16</const> (south 16).</p>\n            <p>Since the board is a 2D representation of a <a href=\"https://en.wikipedia.org/wiki/Pentakis_icosidodecahedron\" target=\"_blank\">Pentakis Icosidodecahedron</a> (an 80-faced sphere-ish shape), tiles connect around the edges of the board (e.g., <const>N40</const> connects to <const>N21</const> and <const>S17</const> connects to <const>S18</const>).</p>\n      <!-- <img src=\"pentakisicosidodecahedron.png\" style=\"max-width: 200px; margin: 15px 0;\" />\n      <p>(Image: <a href=\"https://commons.wikimedia.org/wiki/File:Pentakis_icosidodecahedron.png\" target=\"_blank\">Tom Ruen</a>, Public domain, via Wikimedia Commons)</p> -->\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        <p>On your turn you may perform one of the following actions.</p>\n        <ol>\n          <li>Place a new level 1 volcano of your color on any empty tile.</li>\n          <li>Increase the level of one of your existing volcanoes by one (up to a maximum level of 4).</li>\n        </ol>\n        <p>Play progresses as follows.</p>\n        <ol>\n          <li>Blue's turn</li>\n          <li>Orange's turn</li>\n          <li>Growth (every volcano on the board gains one level)</li>\n          <li>Orange's turn</li>\n          <li>Blue's turn</li>\n          <li>Growth</li>\n        </ol>\n        <p>This cycle repeats until a player wins by successfully creating an unbroken chain of volcanoes from one side of the board to the other.</p>\n        <p>When a volcano advances to level 4 (during a player's turn or a growth turn), it erupts with the following effects.</p>\n        <ul>\n          <li>The level 4 volcano becomes dormant (it stops growing)</li>\n          <li>Adjacent empty tiles become level 1 volcanoes for the team who owns the erupting volcano.</li>\n          <li>Adjacent volcanoes on the same team as the erupting volcano are increased by one level.</li>\n          <li>Adjacent volcanoes on the opposite team as the erupting volcano are destroyed and leave behind empty tiles.</li>\n        </ul>\n      </div>\n      <div class=\"statement-victory-conditions\"> \n            <div class=\"icon victory\"></div> \n            <div class=\"blk\"> \n              <div class=\"title\">Victory Conditions</div> \n              <div class=\"text\">Win by connecting any northern tile to its corresponding southern tile with an unbroken chain of volcanoes.</div>\n              <!-- <div class=\"text\">For example, connecting <const>N08</const> to <const>S08</const> would be a winning path.</div> -->\n            </div> \n          </div>\n    </div>\n  </div>\n  <!-- EXPERT RULES -->\n  <div class=\"statement-section statement-expertrules\">\n    <h1>\n      <span class=\"icon icon-expertrules\">&nbsp;</span>\n      <span>Expert Rules</span>\n    </h1>\n    <div class=\"statement-expert-rules-content\">\n      <p>Since the connections between tiles are tedious to set up, they are provided to you in the initialization inputs.</p>\n      <p>\n        Eruptions can trigger further eruptions. If an infinite chain of eruptions is detected then the game is considered a draw.\n      </p>\n      <p>It is possible for both players to complete a path at the same time during the growth phase. If this happens then the game is declared a draw.</p>\n      <p>Game concept by <a href=\"https://simondorfman.com/volcanoes1\">Simon Dorfman</a>.</p>\n      <p>Code is available on <a href=\"https://github.com/skotz/codingame-volcanoes\">GitHub</a>.</p>\n    </div>\n  </div>\n  <!-- EXAMPLES\n  <div class=\"statement-section statement-examples\">\n    <h1>\n      <span class=\"icon icon-example\">&nbsp;</span>\n      <span>Example</span>\n    </h1>\n\n    <div class=\"statement-examples-text\">\n      <p>Here's an example of a volcano erupting.</p>\n      <img src=\"example-erupt-1.png\" style=\"max-width: 200px; margin: 15px 0;\" />\n      <p>When the blue player levels up their volcano on S40 (or a growth move happens) the volcano on S40 will increase to a level 4 volcano, become dormant, and then spill over into its three adjacent tiles: S39, N30, and S21.</p>\n      <img src=\"example-erupt-2.png\" style=\"max-width: 200px; margin: 15px 0;\" />\n      <p>Victory is obtained when two tiles on opposite sides of the board (in this case N19 and S19) are connected.</p>\n      <img src=\"example-victory.png\" style=\"max-width: 400px; margin: 15px 0 0 0;\" />\n    </div>\n  </div> -->\n  <!-- WARNING\n  <div class=\"statement-section statement-warning\">\n    <h1>\n      <span class=\"icon icon-warning\">&nbsp;</span>\n      <span>Note</span>\n    </h1>\n    <div class=\"statement-warning-content\">\n      <b>Dont forget to run the tests by launching them from the Test cases window</b>. You can submit at any time\n      to recieve a score against the training validators. <b>You can submit as many times as you like</b>. Your most\n      recent submission will be used for the final ranking.<br>\n      <br>\n      <strong>Warning:</strong> the validation tests used to compute the final score are not the same as the ones used\n      during the event.\n      Harcoded solutions will not score highly.<br>\n      <br>\n      Don't hesitate to change the viewer's options to help debug your code (<img style=\"opacity:.8;background:#20252a;\"\n        height=\"18\" src=\"https://www.codingame.com/servlet/fileservlet?id=3463235186409\" width=\"18\">).\n    </div>\n  </div> -->\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n    </h1>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input (first move only)</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span> <var>numberOfTiles</var>, the total number of tiles on the board</p>\n        <p><span class=\"statement-lineno\">Next <var>numberOfTiles</var> lines: </span> <const>4</const> space-separated values:\n        <ul>\n          <li><var>tileName</var>, the name of the tile at the given index</li>\n          <li><var>neighbor1</var>, the index of a neighboring tile</li>\n          <li><var>neighbor2</var>, the index of a neighboring tile</li>\n          <li><var>neighbor3</var>, the index of a neighboring tile</li>\n        </ul>\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input (each turn)</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span> <var>currentPosition</var>, a space-separated list of the volcano levels of all <var>numberOfTiles</var> tiles on the board, with positive values for your volcanoes and negative values for your opponent's volcanoes</p>\n        <p><span class=\"statement-lineno\">Line 2: </span> <var>validMoves</var>, a space-separated list of valid moves in the current position</p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span> <var>move</var>, the name of the tile to play on or <action>RANDOM</action> to play a random move</p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\"><var>numberOfTiles</var> = <const>80</const><br>\n        <br>Bots must respond within <const>100</const> milliseconds.</div>\n    </div>\n  </div>\n  <!-- STORY\n  <div class=\"statement-story-background\">\n    <div class=\"statement-story-cover\">\n      <div class=\"statement-story\">\n        <h1>Title</h1>\n        <div class=\"story-text\">Story\n          <br>\n          Totally optional</div>\n      </div>\n    </div>\n  </div> -->\n</div>"
          },
          "questionType": "multi",
          "stubGenerator": "read numberOfTiles:int\nloop numberOfTiles read tileName:word(3) neighbor1:int neighbor2:int neighbor3:int\ngameloop\nread position:string(1000)\nread moves:string(1000)\nwrite random\n\nSTATEMENT\nWin by building an unbroken chain of volcanoes from one side of the board to the other.\n\nINPUT\nnumberOfTiles : Number of tiles on the board\ntileName: Name of the tile at this index (e.g., N01 or S25)\nneighbor1: Index of a neighboring tile\nneighbor2: Index of a neighboring tile\nneighbor3: Index of a neighboring tile\nposition: Space-separated list of the volcano levels for every tile on the board (in index order); value will be positive for your volcanoes, negative for your opponent's volcanoes, or 0 if empty\nmoves: Space-separate list of all valid moves in this position\n\nOUTPUT\nEither RANDOM or a tile name (e.g., N12 or S34)",
          "welcomePopups": {
            "1": "<div style=\"text-align:center\">\n  <h2>Congratulations!</h2>\n  <p>The rules for this league are the same as the previous one.</p>\n</div>",
            "2": "<div style=\"text-align:center\">\n  <h2>Congratulations!</h2>\n  <p>The rules for this league are the same as the previous one.</p>\n</div>"
          },
          "aiCodeExtension": "cs",
          "criteriaLanguageMap": {}
        },
        "2": {
          "aiCode": "using System;\r\nusing System.Collections.Concurrent;\r\nusing System.Collections.Generic;\r\nusing System.Diagnostics;\r\nusing System.Linq;\r\n\r\ninternal class SkotzPlayer\r\n{\r\n    private class XConsole\r\n    {\r\n        List<string> debug = new List<string>()\r\n        {\r\n            \"80\",\r\n\"N01 6 1 4\",\r\n\"N02 9 2 0\",\r\n\"N03 12 3 1\",\r\n\"N04 15 4 2\",\r\n\"N05 18 0 3\",\r\n\"N06 6 20 19\",\r\n\"N07 0 7 5\",\r\n\"N08 6 22 8\",\r\n\"N09 9 24 7\",\r\n\"N10 1 10 8\",\r\n\"N11 9 26 11\",\r\n\"N12 12 28 10\",\r\n\"N13 2 13 11\",\r\n\"N14 12 30 14\",\r\n\"N15 15 32 13\",\r\n\"N16 3 16 14\",\r\n\"N17 15 34 17\",\r\n\"N18 18 36 16\",\r\n\"N19 4 19 17\",\r\n\"N20 18 38 5\",\r\n\"N21 21 5 39\",\r\n\"N22 71 20 22\",\r\n\"N23 21 23 7\",\r\n\"N24 73 22 24\",\r\n\"N25 25 8 23\",\r\n\"N26 75 24 26\",\r\n\"N27 25 27 10\",\r\n\"N28 77 26 28\",\r\n\"N29 29 11 27\",\r\n\"N30 79 28 30\",\r\n\"N31 29 31 13\",\r\n\"N32 61 30 32\",\r\n\"N33 33 14 31\",\r\n\"N34 63 32 34\",\r\n\"N35 33 35 16\",\r\n\"N36 65 34 36\",\r\n\"N37 37 17 35\",\r\n\"N38 67 36 38\",\r\n\"N39 37 39 19\",\r\n\"N40 69 38 20\",\r\n\"S01 46 41 44\",\r\n\"S02 49 42 40\",\r\n\"S03 52 43 41\",\r\n\"S04 55 44 42\",\r\n\"S05 58 40 43\",\r\n\"S06 46 60 59\",\r\n\"S07 40 45 47\",\r\n\"S08 46 48 62\",\r\n\"S09 49 64 47\",\r\n\"S10 41 48 50\",\r\n\"S11 49 51 66\",\r\n\"S12 52 68 50\",\r\n\"S13 42 51 53\",\r\n\"S14 52 54 70\",\r\n\"S15 55 72 53\",\r\n\"S16 43 54 56\",\r\n\"S17 55 57 74\",\r\n\"S18 58 76 56\",\r\n\"S19 44 57 59\",\r\n\"S20 58 45 78\",\r\n\"S21 61 45 79\",\r\n\"S22 31 62 60\",\r\n\"S23 61 63 47\",\r\n\"S24 33 64 62\",\r\n\"S25 65 48 63\",\r\n\"S26 35 66 64\",\r\n\"S27 65 67 50\",\r\n\"S28 37 68 66\",\r\n\"S29 69 51 67\",\r\n\"S30 39 70 68\",\r\n\"S31 69 71 53\",\r\n\"S32 21 72 70\",\r\n\"S33 73 54 71\",\r\n\"S34 23 74 72\",\r\n\"S35 73 75 56\",\r\n\"S36 25 76 74\",\r\n\"S37 77 57 75\",\r\n\"S38 27 78 76\",\r\n\"S39 77 79 59\",\r\n\"S40 29 60 78\",\r\n            \"0 2 0 0 0 -3 2 4 4 4 0 -2 0 2 4 2 0 0 0 -3 -4 -3 2 -2 4 0 -4 -4 -4 -4 -3 -4 0 0 -1 -4 -1 -3 -4 -4 2 1 4 4 4 0 1 0 1 0 0 3 1 0 2 4 4 4 4 4 0 -3 0 1 4 0 0 -3 -3 -4 -3 2 -3 -4 0 3 4 0 3 -4\",\r\n            \"\"\r\n        };\r\n\r\n        public string ReadLine()\r\n        {\r\n#if LOCAL\r\n            var next = debug[0];\r\n            debug.RemoveAt(0);\r\n            return next;\r\n#else\r\n            return Console.ReadLine();\r\n#endif\r\n        }\r\n\r\n        public void WriteLine(string x)\r\n        {\r\n            Console.WriteLine(x);\r\n        }\r\n\r\n        public Err Error = new Err();\r\n    }\r\n\r\n    private class Err\r\n    {\r\n        public void WriteLine(string x)\r\n        {\r\n            Console.Error.WriteLine(x);\r\n        }\r\n    }\r\n\r\n    private static void Main(string[] args)\r\n    {\r\n        var Console = new XConsole();\r\n        var newTileNames = new List<string>();\r\n        int numberOfTiles = int.Parse(Console.ReadLine()); // Number of tiles on the board\r\n        for (int i = 0; i < numberOfTiles; i++)\r\n        {\r\n            string[] inputs = Console.ReadLine().Split(' ');\r\n            string tileName = inputs[0]; // Name of the tile at this index (e.g., N01 or S25)\r\n            int neighbor1 = int.Parse(inputs[1]); // Index of a neighboring tile\r\n            int neighbor2 = int.Parse(inputs[2]); // Index of a neighboring tile\r\n            int neighbor3 = int.Parse(inputs[3]); // Index of a neighboring tile\r\n            newTileNames.Add(tileName);\r\n        }\r\n\r\n        var actualTurn = 0;\r\n        var turn = 0;\r\n\r\n        // game loop\r\n        while (true)\r\n        {\r\n            actualTurn++;\r\n            turn = turn == 4 ? 0 : 4;\r\n\r\n            var pos = Console.ReadLine();\r\n\r\n            Console.Error.WriteLine(pos);\r\n\r\n            var position = pos.Split(' ').Select(x => int.Parse(x)).ToList();\r\n\r\n            if (actualTurn == 1)\r\n            {\r\n                if (position.All(x => x == 0))\r\n                {\r\n                    // very first turn we're actually starting on our second move as blue\r\n                    turn = 0;\r\n                    Console.Error.WriteLine(\"Flip\");\r\n                }\r\n            }\r\n\r\n            Console.Error.WriteLine(turn == 0 ? \"2nd\" : \"1st\");\r\n            var moves = Console.ReadLine().Split(' ').ToList();\r\n\r\n            var game = new VolcanoGame();\r\n            game.CurrentState.Turn = turn + 1;\r\n\r\n            for (int i = 0; i < 80; i++)\r\n            {\r\n                var index = newTileNames.IndexOf(Constants.TileNames[i]);\r\n                game.CurrentState.Tiles[i] = position[index];\r\n            }\r\n\r\n            var engine = new MonteCarloTreeSearchEngine();\r\n\r\n            var best = engine.GetBestMove(game.CurrentState, 70, new EngineCancellationToken(() => false));\r\n\r\n            Console.Error.WriteLine($\"BestMove = \" + best.BestMove);\r\n            //Console.Error.WriteLine($\"Score = \" + best.Score);\r\n            Console.Error.WriteLine($\"Milliseconds = \" + best.Milliseconds);\r\n            Console.Error.WriteLine($\"Simulations = \" + best.Simulations);\r\n            Console.Error.WriteLine($\"Evaluations = \" + best.Evaluations);\r\n\r\n            Console.WriteLine(Constants.TileNames[best.BestMove]);\r\n        }\r\n    }\r\n}\r\n\r\ninternal class Board\r\n{\r\n    public int[] Tiles;\r\n    public bool[] Dormant;\r\n    public Player Player;\r\n    public int Turn;\r\n\r\n    public Player Winner;\r\n    public List<int> WinningPathPlayerOne;\r\n    public List<int> WinningPathPlayerTwo;\r\n\r\n    public bool LastMoveIncreasedTile;\r\n\r\n    public string Transcript;\r\n\r\n    private static PathFinder pathFinder = new PathFinder();\r\n\r\n    public bool allowHash;\r\n    public bool fastWinSearch;\r\n\r\n    public ConcurrentDictionary<long, Player> winHashes;\r\n\r\n    public GameState State\r\n    {\r\n        get\r\n        {\r\n            return Winner == Player.Empty ? GameState.InProgress : GameState.GameOver;\r\n        }\r\n    }\r\n\r\n    public Board()\r\n    {\r\n        Turn = 1;\r\n        Player = Player.One;\r\n        Tiles = new int[80];\r\n        Dormant = new bool[80];\r\n        Winner = Player.Empty;\r\n        WinningPathPlayerOne = new List<int>();\r\n        WinningPathPlayerTwo = new List<int>();\r\n    }\r\n\r\n    public Board(Board copy)\r\n    {\r\n        Tiles = new int[80];\r\n        Array.Copy(copy.Tiles, Tiles, 80);\r\n        Dormant = new bool[80];\r\n        Array.Copy(copy.Dormant, Dormant, 80);\r\n        Player = copy.Player;\r\n        Turn = copy.Turn;\r\n        Winner = copy.Winner;\r\n        WinningPathPlayerOne = copy.WinningPathPlayerOne;\r\n        WinningPathPlayerTwo = copy.WinningPathPlayerTwo;\r\n    }\r\n\r\n    /// <summary>\r\n    /// Make a given move on the board.\r\n    /// </summary>\r\n    /// <param name=\"move\"></param>\r\n    public bool MakeMove(int move)\r\n    {\r\n        return MakeMove(move, true, true);\r\n    }\r\n\r\n    /// <summary>\r\n    /// Make a given move on the board.\r\n    /// </summary>\r\n    /// <param name=\"move\"></param>\r\n    public bool MakeMove(int move, bool checkForWin, bool autoGrow)\r\n    {\r\n        Queue<int> eruptions = new Queue<int>();\r\n\r\n        if (move == Constants.AllGrowMove)\r\n        {\r\n            LastMoveIncreasedTile = false;\r\n\r\n            for (int i = 0; i < 80; i++)\r\n            {\r\n                if (Tiles[i] != 0)\r\n                {\r\n                    if (!VolcanoGame.Settings.AllowDormantVolcanoes || !Dormant[i])\r\n                    {\r\n                        Tiles[i] = Tiles[i] > 0 ? Tiles[i] + 1 : Tiles[i] - 1;\r\n                        if (Math.Abs(Tiles[i]) >= VolcanoGame.Settings.MaxVolcanoLevel)\r\n                        {\r\n                            eruptions.Enqueue(i);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            LastMoveIncreasedTile = Tiles[move] != 0;\r\n\r\n            Tiles[move] = Player == Player.One ? Tiles[move] + 1 : Tiles[move] - 1;\r\n            if (Math.Abs(Tiles[move]) >= VolcanoGame.Settings.MaxVolcanoLevel)\r\n            {\r\n                eruptions.Enqueue(move);\r\n            }\r\n        }\r\n\r\n        if (eruptions.Count > 0)\r\n        {\r\n            ProcessEruptions(eruptions);\r\n        }\r\n\r\n        if (Winner == Player.Empty && checkForWin)\r\n        {\r\n            SearchForWin();\r\n        }\r\n\r\n        if (Winner == Player.Empty)\r\n        {\r\n            Turn++;\r\n            Player = GetPlayerForTurn(Turn);\r\n\r\n            if (autoGrow && GetMoveTypeForTurn(Turn) == MoveType.AllGrow)\r\n            {\r\n                MakeMove(Constants.AllGrowMove);\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    private void ProcessEruptions(Queue<int> eruptions)\r\n    {\r\n        int phases = 5;\r\n        Queue<int> deltaIndexes = new Queue<int>();\r\n        while (eruptions.Count > 0 && phases-- > 0)\r\n        {\r\n            // Phase one: get a list of deltas from eruptions\r\n            int[] deltas = new int[80];\r\n            while (eruptions.Count > 0)\r\n            {\r\n                int i = eruptions.Dequeue();\r\n\r\n                if (VolcanoGame.Settings.AllowDormantVolcanoes)\r\n                {\r\n                    // Make the volcano dormant\r\n                    Tiles[i] = Tiles[i] > 0 ? VolcanoGame.Settings.MaxVolcanoLevel : -VolcanoGame.Settings.MaxVolcanoLevel;\r\n                    Dormant[i] = true;\r\n                }\r\n                else\r\n                {\r\n                    // Downgrade to a level one volcano\r\n                    Tiles[i] = Tiles[i] > 0 ? VolcanoGame.Settings.MaxMagmaChamberLevel + 1 : -(VolcanoGame.Settings.MaxMagmaChamberLevel + 1);\r\n                }\r\n\r\n                foreach (int adjacent in Constants.AdjacentIndexes[i])\r\n                {\r\n                    deltaIndexes.Enqueue(adjacent);\r\n\r\n                    // Blank tile\r\n                    if (Tiles[adjacent] == 0)\r\n                    {\r\n                        if (Tiles[i] > 0)\r\n                        {\r\n                            deltas[adjacent] += VolcanoGame.Settings.EruptOverflowEmptyTileAmount;\r\n                        }\r\n                        else\r\n                        {\r\n                            deltas[adjacent] -= VolcanoGame.Settings.EruptOverflowEmptyTileAmount;\r\n                        }\r\n                    }\r\n\r\n                    // Same owner\r\n                    else if ((Tiles[adjacent] > 0 && Tiles[i] > 0) || (Tiles[adjacent] < 0 && Tiles[i] < 0))\r\n                    {\r\n                        if (!VolcanoGame.Settings.AllowDormantVolcanoes || !Dormant[adjacent])\r\n                        {\r\n                            if (Tiles[i] > 0)\r\n                            {\r\n                                deltas[adjacent] += VolcanoGame.Settings.EruptOverflowFriendlyTileAmount;\r\n                            }\r\n                            else\r\n                            {\r\n                                deltas[adjacent] -= VolcanoGame.Settings.EruptOverflowFriendlyTileAmount;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // Enemy owner\r\n                    else if ((Tiles[adjacent] > 0 && Tiles[i] < 0) || (Tiles[adjacent] < 0 && Tiles[i] > 0))\r\n                    {\r\n                        if (Tiles[i] > 0)\r\n                        {\r\n                            deltas[adjacent] -= VolcanoGame.Settings.EruptOverflowEnemyTileAmount;\r\n                        }\r\n                        else\r\n                        {\r\n                            deltas[adjacent] += VolcanoGame.Settings.EruptOverflowEnemyTileAmount;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Phase two: process deltas\r\n            while (deltaIndexes.Count > 0)\r\n            {\r\n                int i = deltaIndexes.Dequeue();\r\n                if (deltas[i] != 0)\r\n                {\r\n                    bool playerOne = Tiles[i] > 0;\r\n                    bool playerTwo = Tiles[i] < 0;\r\n\r\n                    // Someone already owns this tile, so the deltas can be taken as-is\r\n                    Tiles[i] += deltas[i];\r\n\r\n                    // If we changed the value so much that it switched sides\r\n                    if (((Tiles[i] < 0 && playerOne) || (Tiles[i] > 0 && playerTwo)) && !VolcanoGame.Settings.EruptOverflowAllowCapture)\r\n                    {\r\n                        // Clear the tile\r\n                        Tiles[i] = 0;\r\n                        Dormant[i] = false;\r\n                    }\r\n\r\n                    // Did this change trigger a chain reaction?\r\n                    if (Math.Abs(Tiles[i]) >= VolcanoGame.Settings.MaxVolcanoLevel)\r\n                    {\r\n                        eruptions.Enqueue(i);\r\n                    }\r\n\r\n                    // So we don't process it a second time\r\n                    deltas[i] = 0;\r\n                }\r\n\r\n                if (VolcanoGame.Settings.AllowDormantVolcanoes)\r\n                {\r\n                    Dormant[i] = Math.Abs(Tiles[i]) == VolcanoGame.Settings.MaxVolcanoLevel;\r\n                }\r\n            }\r\n        }\r\n\r\n        // If we're caught in an infinite loop of volcano eruptions, call the game a draw\r\n        if (phases <= 0)\r\n        {\r\n            Winner = Player.Draw;\r\n            WinningPathPlayerOne = new List<int>();\r\n            WinningPathPlayerTwo = new List<int>();\r\n        }\r\n    }\r\n\r\n    private void SearchForWin()\r\n    {\r\n        Winner = Player.Empty;\r\n\r\n        var hash = 0L;\r\n        if (allowHash)\r\n        {\r\n            hash = GetHash();\r\n            if (winHashes.ContainsKey(hash))\r\n            {\r\n                Winner = winHashes[hash];\r\n                return;\r\n            }\r\n        }\r\n\r\n        // We only need to cover the first 40 tiles since their antipodes cover the last 40\r\n        for (int i = 0; i < 40; i++)\r\n        {\r\n            if (Tiles[i] != 0 &&\r\n                ((Tiles[Constants.Antipodes[i]] > 0 && Tiles[i] > 0) || (Tiles[Constants.Antipodes[i]] < 0 && Tiles[i] < 0)) &&\r\n                Math.Abs(Tiles[i]) > VolcanoGame.Settings.MaxMagmaChamberLevel &&\r\n                Math.Abs(Tiles[Constants.Antipodes[i]]) > VolcanoGame.Settings.MaxMagmaChamberLevel)\r\n            {\r\n                // Only search until we find a winner or detect a draw\r\n                if (Winner == Player.Empty || (Winner == Player.One && Tiles[i] < 0) || (Winner == Player.Two && Tiles[i] > 0))\r\n                {\r\n                    if (fastWinSearch)\r\n                    {\r\n                        var winner = FastWinSearch(i, Constants.Antipodes[i]);\r\n                        if (winner != Player.Empty)\r\n                        {\r\n                            if (Tiles[i] > 0)\r\n                            {\r\n                                Winner = Winner != Player.Empty ? Player.Draw : Player.One;\r\n                            }\r\n                            else\r\n                            {\r\n                                Winner = Winner != Player.Empty ? Player.Draw : Player.Two;\r\n                            }\r\n\r\n                            if (Winner == Player.Draw)\r\n                            {\r\n                                return;\r\n                            }\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        var path = pathFinder.FindPath(this, i, Constants.Antipodes[i]).Path;\r\n                        if (path.Count > 0)\r\n                        {\r\n                            if (Tiles[i] > 0)\r\n                            {\r\n                                Winner = Winner != Player.Empty ? Player.Draw : Player.One;\r\n                                WinningPathPlayerOne = path;\r\n                            }\r\n                            else\r\n                            {\r\n                                Winner = Winner != Player.Empty ? Player.Draw : Player.Two;\r\n                                WinningPathPlayerTwo = path;\r\n                            }\r\n\r\n                            if (Winner == Player.Draw)\r\n                            {\r\n                                return;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (allowHash)\r\n        {\r\n            winHashes[hash] = Winner;\r\n        }\r\n    }\r\n\r\n    private Player FastWinSearch(int start, int end)\r\n    {\r\n        var visited = new bool[80];\r\n        var queue = new Queue<int>();\r\n\r\n        queue.Enqueue(start);\r\n\r\n        while (queue.Count > 0)\r\n        {\r\n            var next = queue.Dequeue();\r\n\r\n            if (!visited[next])\r\n            {\r\n                visited[next] = true;\r\n\r\n                if ((Tiles[next] > 0 && Tiles[start] > 0) || (Tiles[next] < 0 && Tiles[start] < 0))\r\n                {\r\n                    if (next == end)\r\n                    {\r\n                        return Tiles[next] > 0 ? Player.One : Player.Two;\r\n                    }\r\n\r\n                    for (int i = 0; i < Constants.AdjacentIndexes[next].Length; i++)\r\n                    {\r\n                        queue.Enqueue(Constants.AdjacentIndexes[next][i]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return Player.Empty;\r\n    }\r\n\r\n    /// <summary>\r\n    /// Get a list of all valid moves for the current player on the current board state.\r\n    /// </summary>\r\n    /// <returns></returns>\r\n    public List<int> GetMoves()\r\n    {\r\n        return GetMoves(true, true, true, VolcanoGame.Settings.MaxVolcanoLevel);\r\n    }\r\n\r\n    public List<int> GetRandomMoves()\r\n    {\r\n        var moves = GetMoves(false, true, false, VolcanoGame.Settings.MaxVolcanoLevel);\r\n        if (moves.Count > 0)\r\n        {\r\n            return moves;\r\n        }\r\n        return GetMoves();\r\n    }\r\n\r\n    /// <summary>\r\n    /// Get a list of all valid moves for the current player on the current board state.\r\n    /// </summary>\r\n    /// <returns></returns>\r\n    public List<int> GetMoves(bool growthMoves, bool expandMoves, bool captureMoves, int maxGrowthValue)\r\n    {\r\n        List<int> moves = new List<int>();\r\n\r\n        if (Winner != Player.Empty)\r\n        {\r\n            return moves;\r\n        }\r\n        else if (GetMoveTypeForTurn(Turn) == MoveType.AllGrow)\r\n        {\r\n            moves.Add(Constants.AllGrowMove);\r\n        }\r\n        else\r\n        {\r\n            for (int i = 0; i < 80; i++)\r\n            {\r\n                // Grow existing tiles\r\n                if (growthMoves && ((Tiles[i] > 0 && Player == Player.One) || (Tiles[i] < 0 && Player == Player.Two)) && Math.Abs(Tiles[i]) < maxGrowthValue)\r\n                {\r\n                    if (!VolcanoGame.Settings.AllowDormantVolcanoes || !Dormant[i])\r\n                    {\r\n                        moves.Add(i);\r\n                    }\r\n                }\r\n\r\n                // Claim new tiles\r\n                if (expandMoves && Tiles[i] == 0)\r\n                {\r\n                    moves.Add(i);\r\n                }\r\n\r\n                // Capture enemy tiles\r\n                if (captureMoves)\r\n                {\r\n                    Player opponent = Player == Player.One ? Player.Two : Player.One;\r\n                    if (VolcanoGame.Settings.AllowMagmaChamberCaptures &&\r\n                        ((Tiles[i] > 0 && opponent == Player.One) || (Tiles[i] < 0 && opponent == Player.Two)) &&\r\n                        Math.Abs(Tiles[i]) <= VolcanoGame.Settings.MaxMagmaChamberLevel)\r\n                    {\r\n                        moves.Add(i);\r\n                    }\r\n                    if (VolcanoGame.Settings.AllowVolcanoCaptures &&\r\n                        ((Tiles[i] > 0 && opponent == Player.One) || (Tiles[i] < 0 && opponent == Player.Two)) &&\r\n                        Math.Abs(Tiles[i]) > VolcanoGame.Settings.MaxMagmaChamberLevel)\r\n                    {\r\n                        moves.Add(i);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (moves.Count == 0)\r\n        {\r\n            if (growthMoves && expandMoves & captureMoves && maxGrowthValue >= VolcanoGame.Settings.MaxVolcanoLevel)\r\n            {\r\n                // There are no moves in this position\r\n                return moves;\r\n            }\r\n            else\r\n            {\r\n                return GetMoves(true, true, true, VolcanoGame.Settings.MaxVolcanoLevel);\r\n            }\r\n        }\r\n\r\n        return moves;\r\n    }\r\n\r\n    public bool IsValidMove(int move)\r\n    {\r\n        return GetMoves().Any(x => x == move);\r\n    }\r\n\r\n    /// <summary>\r\n    /// Get the opponent for a given player.\r\n    /// </summary>\r\n    /// <param name=\"current\"></param>\r\n    /// <returns></returns>\r\n    private Player GetOpponent(Player current)\r\n    {\r\n        return current == Player.One ? Player.Two : Player.One;\r\n    }\r\n\r\n    /// <summary>\r\n    /// Which player should move on a given turn number.\r\n    /// </summary>\r\n    /// <param name=\"turn\"></param>\r\n    /// <returns></returns>\r\n    private Player GetPlayerForTurn(int turn)\r\n    {\r\n        switch ((turn - 1) % 6)\r\n        {\r\n            case 0:\r\n            case 4:\r\n            case 5:\r\n                return Player.One;\r\n\r\n            case 1:\r\n            case 2:\r\n            case 3:\r\n                return Player.Two;\r\n\r\n            default:\r\n                return Player.Empty;\r\n        }\r\n    }\r\n\r\n    public Player GetPlayerForPreviousTurn()\r\n    {\r\n        return GetPlayerForTurn(Turn - 1);\r\n    }\r\n\r\n    /// <summary>\r\n    /// Get the type of move a specific turn requires.\r\n    /// </summary>\r\n    /// <param name=\"turn\"></param>\r\n    /// <returns></returns>\r\n    private MoveType GetMoveTypeForTurn(int turn)\r\n    {\r\n        switch ((turn - 1) % 6)\r\n        {\r\n            case 2:\r\n            case 5:\r\n                return MoveType.AllGrow;\r\n\r\n            case 0:\r\n            case 1:\r\n            case 3:\r\n            case 4:\r\n            default:\r\n                return MoveType.SingleGrow;\r\n        }\r\n    }\r\n\r\n    public long GetHash()\r\n    {\r\n        long hash = 0;\r\n\r\n        for (int i = 0; i < 80; i++)\r\n        {\r\n            hash ^= Constants.ZobristKeys[i, Tiles[i] == 0 ? 0 : (Tiles[i] > 0 ? 1 : 2)];\r\n        }\r\n\r\n        return hash;\r\n    }\r\n}\r\n\r\ninternal enum Player\r\n{\r\n    One,\r\n    Two,\r\n    Empty,\r\n    Draw\r\n}\r\n\r\ninternal enum GameState\r\n{\r\n    InProgress,\r\n    GameOver\r\n}\r\n\r\ninternal class Constants\r\n{\r\n    public const int AllGrowMove = 80;\r\n\r\n    /// <summary>\r\n    /// An array mapping a source tile index to it's three connecting triangle indexes.\r\n    /// E.G., ConnectingTiles[55] = { 33, 52, 74 } since tile 55 connects to tiles 33, 51, and 74.\r\n    /// </summary>\r\n    public static int[][] AdjacentIndexes = GetConnectingTiles();\r\n\r\n    /// <summary>\r\n    /// An array mapping a source tile index to it's tile name.\r\n    /// E.G., TileNames[5] = \"N02\"\r\n    /// </summary>\r\n    public static string[] TileNames = GetTileNames();\r\n\r\n    /// <summary>\r\n    /// FOR BACKWARDS COMPATIBILITY\r\n    /// An array mapping a source tile index to it's tile name.\r\n    /// E.G., TileNames[5] = \"2A\"\r\n    /// </summary>\r\n    public static string[] OldTileNames = GetOldTileNames();\r\n\r\n    /// <summary>\r\n    /// An array mapping a source tile to its antipodes (tile directly opposite on the 3D board shape).\r\n    /// </summary>\r\n    public static int[] Antipodes = GetAntipodes();\r\n\r\n    /// <summary>\r\n    /// An array mapping a source tile index to it's three or four kitty corner tile indexes.\r\n    /// NOTE: Currently there are only mappings for \"A\" tiles (not B, C, or D)\r\n    /// </summary>\r\n    public static int[][] KittyCornerTiles = GetKittyCornerTiles();\r\n\r\n    /// <summary>\r\n    /// An array mapping a source tile index to a path to it's antipode.\r\n    /// </summary>\r\n    public static int[][] FastestPaths = GetFastestPaths();\r\n\r\n    /// <summary>\r\n    /// An dictionary mapping a tile name back to it's index.\r\n    /// Supports both old and new tile names!\r\n    /// </summary>\r\n    public static ConcurrentDictionary<string, int> TileIndexes = GetTileIndexes();\r\n\r\n    /// <summary>\r\n    /// An array mapping each tile to a list of tiles 3 moves away\r\n    /// </summary>\r\n    public static int[][] ThreeAway = GetThreeAway();\r\n\r\n    /// <summary>\r\n    /// Random numbers to use for zobrist style hashes\r\n    /// </summary>\r\n    public static long[,] ZobristKeys = GetZobristKeys();\r\n\r\n    private static int[][] GetConnectingTiles()\r\n    {\r\n        int[][] connections = new int[80][];\r\n\r\n        // First row\r\n        //    .\r\n        //   /B\\\r\n        //  / A \\   x5\r\n        // /D   C\\\r\n        // -------\r\n        for (int outer = 0; outer < 5; outer++)\r\n        {\r\n            // A\r\n            int i = outer * 4;\r\n            connections[i] = new int[3] { i + 1, i + 2, i + 3 };\r\n\r\n            // B\r\n            i++;\r\n            connections[i] = new int[3] { (i - 1 + 20) % 20, (i + 4) % 20, (i - 4 + 20) % 20 };\r\n\r\n            // C\r\n            i++;\r\n            connections[i] = new int[3] { (i - 2 + 20) % 20, i + 21, (i + 5) % 20 };\r\n\r\n            // D\r\n            i++;\r\n            connections[i] = new int[3] { (i - 3 + 20) % 20, i + 19, (i - 5 + 20) % 20 };\r\n        }\r\n\r\n        // Second row\r\n        // -------\r\n        // \\C   D/\r\n        //  \\ A /   x5\r\n        //   \\B/\r\n        //    .\r\n        for (int outer = 5; outer < 10; outer++)\r\n        {\r\n            // A\r\n            int i = outer * 4;\r\n            connections[i] = new int[3] { i + 1, i + 2, i + 3 };\r\n\r\n            // B\r\n            i++;\r\n            connections[i] = new int[3] { i - 1, i + 22, i + 17 };\r\n            connections[i][2] = i == 21 ? 58 : connections[i][2];\r\n\r\n            // C\r\n            i++;\r\n            connections[i] = new int[3] { i - 2, i - 19, i + 15 };\r\n            connections[i][2] = i == 22 ? 57 : connections[i][2];\r\n\r\n            // D\r\n            i++;\r\n            connections[i] = new int[3] { i - 3, i + 18, i - 21 };\r\n        }\r\n\r\n        // Third row\r\n        //    .\r\n        //   /B\\\r\n        //  / A \\   x5\r\n        // /D   C\\\r\n        // -------\r\n        for (int outer = 10; outer < 15; outer++)\r\n        {\r\n            // A\r\n            int i = outer * 4;\r\n            connections[i] = new int[3] { i + 1, i + 2, i + 3 };\r\n\r\n            // B\r\n            i++;\r\n            connections[i] = new int[3] { i - 1, i - 18, i - 15 };\r\n            connections[i][2] = i == 57 ? 22 : connections[i][2];\r\n\r\n            // C\r\n            i++;\r\n            connections[i] = new int[3] { i - 2, i - 17, i + 21 };\r\n            connections[i][1] = i == 58 ? 21 : connections[i][1];\r\n\r\n            // D\r\n            i++;\r\n            connections[i] = new int[3] { i - 3, i + 19, i - 22 };\r\n        }\r\n\r\n        // Fourth row\r\n        // -------\r\n        // \\C   D/\r\n        //  \\ A /   x5\r\n        //   \\B/\r\n        //    .\r\n        for (int outer = 15; outer < 20; outer++)\r\n        {\r\n            // A\r\n            int i = outer * 4;\r\n            connections[i] = new int[3] { i + 1, i + 2, i + 3 };\r\n\r\n            // B\r\n            i++;\r\n            connections[i] = new int[3] { i - 1, i + 4, i - 4 };\r\n            connections[i][2] = i == 61 ? 77 : connections[i][2];\r\n            connections[i][1] = i == 77 ? 61 : connections[i][1];\r\n\r\n            // C\r\n            i++;\r\n            connections[i] = new int[3] { i - 2, i - 19, i - 3 };\r\n            connections[i][2] = i == 62 ? 79 : connections[i][2];\r\n\r\n            // D\r\n            i++;\r\n            connections[i] = new int[3] { i - 3, i + 3, i - 21 };\r\n            connections[i][1] = i == 79 ? 62 : connections[i][1];\r\n        }\r\n\r\n        return connections;\r\n    }\r\n\r\n    private static string[] GetTileNames()\r\n    {\r\n        return new string[] {\r\n                \"N07\", \"N01\", \"N08\", \"N06\", \"N10\", \"N02\", \"N11\", \"N09\", \"N13\", \"N03\", \"N14\", \"N12\", \"N16\", \"N04\", \"N17\", \"N15\", \"N19\", \"N05\", \"N20\", \"N18\", \"N22\", \"S32\", \"N21\", \"N23\", \"N26\", \"S36\", \"N25\", \"N27\", \"N30\", \"S40\", \"N29\", \"N31\", \"N34\", \"S24\", \"N33\", \"N35\", \"N38\", \"S28\", \"N37\", \"N39\",\r\n                \"S34\", \"N24\", \"S35\", \"S33\", \"S38\", \"N28\", \"S39\", \"S37\", \"S22\", \"N32\", \"S23\", \"S21\", \"S26\", \"N36\", \"S27\", \"S25\", \"S30\", \"N40\", \"S31\", \"S29\", \"S16\", \"S04\", \"S15\", \"S17\", \"S19\", \"S05\", \"S18\", \"S20\", \"S07\", \"S01\", \"S06\", \"S08\", \"S10\", \"S02\", \"S09\", \"S11\", \"S13\", \"S03\", \"S12\", \"S14\",\r\n                \"G\",\r\n            };\r\n    }\r\n\r\n    private static string[] GetOldTileNames()\r\n    {\r\n        string[] names = new string[81];\r\n\r\n        for (int outer = 0; outer < 20; outer++)\r\n        {\r\n            for (int inner = 0; inner < 4; inner++)\r\n            {\r\n                int index = outer * 4 + inner;\r\n                names[index] = (outer + 1).ToString();\r\n\r\n                switch (inner)\r\n                {\r\n                    case 0:\r\n                        names[index] += \"A\";\r\n                        break;\r\n\r\n                    case 1:\r\n                        names[index] += \"B\";\r\n                        break;\r\n\r\n                    case 2:\r\n                        names[index] += \"C\";\r\n                        break;\r\n\r\n                    case 3:\r\n                        names[index] += \"D\";\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n\r\n        // For growth\r\n        names[80] = \"G\";\r\n\r\n        return names;\r\n    }\r\n\r\n    private static int[] GetAntipodes()\r\n    {\r\n        int[] antipodes = new int[80];\r\n\r\n        for (int i = 0; i < 12; i++)\r\n        {\r\n            int a = 68;\r\n            a = i % 4 == 2 ? 69 : a;\r\n            a = i % 4 == 3 ? 67 : a;\r\n\r\n            antipodes[i] = i + a;\r\n            antipodes[i + a] = i;\r\n        }\r\n\r\n        for (int i = 12; i < 20; i++)\r\n        {\r\n            int a = 48;\r\n            a = i % 4 == 2 ? 49 : a;\r\n            a = i % 4 == 3 ? 47 : a;\r\n\r\n            antipodes[i] = i + a;\r\n            antipodes[i + a] = i;\r\n        }\r\n\r\n        for (int i = 20; i < 32; i++)\r\n        {\r\n            int a = 28;\r\n            a = i % 4 == 2 ? 29 : a;\r\n            a = i % 4 == 3 ? 27 : a;\r\n\r\n            antipodes[i] = i + a;\r\n            antipodes[i + a] = i;\r\n        }\r\n\r\n        for (int i = 32; i < 40; i++)\r\n        {\r\n            int a = 8;\r\n            a = i % 4 == 2 ? 9 : a;\r\n            a = i % 4 == 3 ? 7 : a;\r\n\r\n            antipodes[i] = i + a;\r\n            antipodes[i + a] = i;\r\n        }\r\n\r\n        return antipodes;\r\n    }\r\n\r\n    private static int[][] GetKittyCornerTiles()\r\n    {\r\n        int[][] corners = new int[80][];\r\n\r\n        for (int outer = 0; outer < 5; outer++)\r\n        {\r\n            // A\r\n            int i = outer * 4;\r\n            corners[i] = new int[3] { (i + 4) % 20, i + 20, (i - 4 + 20) % 20 };\r\n\r\n            // TODO: B, C, D\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n        }\r\n\r\n        for (int outer = 5; outer < 10; outer++)\r\n        {\r\n            // A\r\n            int i = outer * 4;\r\n            corners[i] = new int[3] { i - 20, i + 20, i + 16 };\r\n            corners[i][2] = i == 20 ? 56 : corners[i][2];\r\n\r\n            // TODO: B, C, D\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n        }\r\n\r\n        for (int outer = 10; outer < 15; outer++)\r\n        {\r\n            // A\r\n            int i = outer * 4;\r\n            corners[i] = new int[3] { i - 20, i - 16, i + 20 };\r\n            corners[i][1] = i == 56 ? 20 : corners[i][1];\r\n\r\n            // TODO: B, C, D\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n        }\r\n\r\n        for (int outer = 15; outer < 20; outer++)\r\n        {\r\n            // A\r\n            int i = outer * 4;\r\n            corners[i] = new int[3] { i - 20, i + 4, i - 4 };\r\n            corners[i][1] = i == 76 ? 60 : corners[i][1];\r\n            corners[i][2] = i == 60 ? 76 : corners[i][2];\r\n\r\n            // TODO: B, C, D\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n            i++;\r\n            corners[i] = new int[3] { i, i, i };\r\n        }\r\n\r\n        return corners;\r\n    }\r\n\r\n    private static int[][] GetFastestPaths()\r\n    {\r\n        PathFinder pathFinder = new UnrestrictedPathFinder();\r\n        int[][] paths = new int[80][];\r\n        Board board = new Board();\r\n\r\n        for (int i = 0; i < 80; i++)\r\n        {\r\n            paths[i] = pathFinder.FindPath(board, i, Antipodes[i]).Path.ToArray();\r\n        }\r\n\r\n        if (paths.Any(x => x.Length != 12))\r\n        {\r\n            // To prevent me from messing up the path finding algorithm...\r\n            throw new Exception(\"Path finder distances are incorrect!\");\r\n        }\r\n\r\n        return paths;\r\n    }\r\n\r\n    private static ConcurrentDictionary<string, int> GetTileIndexes()\r\n    {\r\n        var indexes = new ConcurrentDictionary<string, int>();\r\n\r\n        // The 80th index is a pseudo tile for the growth phase\r\n        for (int i = 0; i < 81; i++)\r\n        {\r\n            indexes[TileNames[i]] = i;\r\n        }\r\n\r\n        // Support legacy tile names\r\n        for (int i = 0; i < 81; i++)\r\n        {\r\n            if (indexes.ContainsKey(OldTileNames[i]))\r\n            {\r\n                if (indexes[OldTileNames[i]] != i)\r\n                {\r\n                    throw new Exception(\"Tile mapping duplicate!\");\r\n                }\r\n            }\r\n            else\r\n            {\r\n                indexes[OldTileNames[i]] = i;\r\n            }\r\n        }\r\n\r\n        return indexes;\r\n    }\r\n\r\n    private static int[][] GetThreeAway()\r\n    {\r\n        var tiles = new int[80][];\r\n        var connections = GetConnectingTiles();\r\n\r\n        for (int i = 0; i < 80; i++)\r\n        {\r\n            var done = new List<int>();\r\n            var queue = new List<int>();\r\n            queue.Add(i);\r\n\r\n            for (int d = 0; d < 3; d++)\r\n            {\r\n                for (int x = queue.Count - 1; x >= 0; x--)\r\n                {\r\n                    foreach (var con in connections[queue[x]])\r\n                    {\r\n                        if (!done.Contains(con))\r\n                        {\r\n                            queue.Add(con);\r\n                        }\r\n                    }\r\n\r\n                    done.Add(queue[x]);\r\n                    queue.RemoveAt(x);\r\n                }\r\n            }\r\n\r\n            tiles[i] = queue.Distinct().ToArray();\r\n        }\r\n\r\n        return tiles;\r\n    }\r\n\r\n    private static long[,] GetZobristKeys()\r\n    {\r\n        var rand = new Random();\r\n        var tiles = new long[80, 100];\r\n\r\n        for (int i = 0; i < 80; i++)\r\n        {\r\n            for (int x = 0; x < 100; x++)\r\n            {\r\n                var buffer = new byte[sizeof(long)];\r\n                rand.NextBytes(buffer);\r\n                tiles[i, x] = BitConverter.ToInt64(buffer, 0);\r\n            }\r\n        }\r\n\r\n        return tiles;\r\n    }\r\n}\r\n\r\ninternal class PathFinder\r\n{\r\n    public PathFinder()\r\n    {\r\n    }\r\n\r\n    protected virtual int[] GetNeighborTiles(Board state, int tileIndex)\r\n    {\r\n        return Constants.AdjacentIndexes[tileIndex];\r\n    }\r\n\r\n    protected virtual bool IsTraversableTile(Board state, Player player, int tileIndex)\r\n    {\r\n        // Ignore tiles that aren't the player's\r\n        if ((state.Tiles[tileIndex] > 0 && player != Player.One) || (state.Tiles[tileIndex] < 0 && player != Player.Two))\r\n        {\r\n            return false;\r\n        }\r\n\r\n        // Ignore magma chambers\r\n        if (Math.Abs(state.Tiles[tileIndex]) <= VolcanoGame.Settings.MaxMagmaChamberLevel)\r\n        {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    protected virtual int GetDistance(Board state, int first, int second)\r\n    {\r\n        return 1;\r\n    }\r\n\r\n    public bool HasPath(Board state, int startingIndex, int endingIndex)\r\n    {\r\n        return FindPath(state, startingIndex, endingIndex, false).Found;\r\n    }\r\n\r\n    public PathResult FindPath(Board state, int startingIndex, int endingIndex)\r\n    {\r\n        return FindPath(state, startingIndex, endingIndex, true);\r\n    }\r\n\r\n    private PathResult FindPath(Board state, int startingIndex, int endingIndex, bool returnPath)\r\n    {\r\n        // The set of nodes already evaluated\r\n        bool[] closedSet = new bool[80];\r\n\r\n        Player player = state.Tiles[startingIndex] == 0 ? Player.Empty : (state.Tiles[startingIndex] > 0 ? Player.One : Player.Two);\r\n\r\n        // The set of currently discovered nodes that are not evaluated yet.\r\n        // Initially, only the start node is known.\r\n        Queue<int> openSet = new Queue<int>();\r\n        openSet.Enqueue(startingIndex);\r\n\r\n        // For each node, which node it can most efficiently be reached from.\r\n        // If a node can be reached from many nodes, cameFrom will eventually contain the\r\n        // most efficient previous step.\r\n        int[] cameFrom = new int[80];\r\n\r\n        // For each node, the cost of getting from the start node to that node.\r\n        int[] gScore = new int[80];\r\n\r\n        for (int i = 0; i < 80; i++)\r\n        {\r\n            cameFrom[i] = -1;\r\n            gScore[i] = int.MaxValue;\r\n        }\r\n\r\n        // The cost of going from start to start is zero.\r\n        gScore[startingIndex] = 0;\r\n\r\n        //// For each node, the total cost of getting from the start node to the goal\r\n        //// by passing by that node. That value is partly known, partly heuristic.\r\n        //int[] fScore = new int[80];\r\n        //for (int i = 0; i < 80; i++)\r\n        //{\r\n        //    fScore[i] = int.MaxValue;\r\n        //}\r\n\r\n        //// For the first node, that value is completely heuristic. (All antipode paths are known to be 12 tiles long.)\r\n        //fScore[startingIndex] = 12;\r\n\r\n        while (openSet.Count > 0)\r\n        {\r\n            // Get the next item in the open set with the lowest fScore\r\n            int current = openSet.Dequeue();\r\n            //int best = fScore[current];\r\n            //foreach (int i in openSet)\r\n            //{\r\n            //    if (fScore[i] < best)\r\n            //    {\r\n            //        current = i;\r\n            //        best = fScore[i];\r\n            //    }\r\n            //}\r\n\r\n            // If we found a path from the start to the end, reconstruct the path and return it\r\n            if (current == endingIndex)\r\n            {\r\n                if (returnPath)\r\n                {\r\n                    List<int> path = new List<int>();\r\n                    path.Add(current);\r\n\r\n                    while (cameFrom[current] != -1)\r\n                    {\r\n                        current = cameFrom[current];\r\n                        path.Add(current);\r\n                    }\r\n\r\n                    path.Reverse();\r\n\r\n                    return new PathResult(path, gScore[endingIndex]);\r\n                }\r\n                else\r\n                {\r\n                    // Just return that we found a path, don't bother piecing it together\r\n                    return new PathResult(true);\r\n                }\r\n            }\r\n\r\n            //openSet.Remove(current);\r\n            closedSet[current] = true;\r\n\r\n            foreach (int neighbor in GetNeighborTiles(state, current))\r\n            {\r\n                // Ignore the neighbor which is already evaluated.\r\n                if (closedSet[neighbor])\r\n                {\r\n                    continue;\r\n                }\r\n\r\n                if (!IsTraversableTile(state, player, neighbor))\r\n                {\r\n                    continue;\r\n                }\r\n\r\n                // The distance from start to a neighbor\r\n                int tentative_gScore = gScore[current] + GetDistance(state, current, neighbor);\r\n\r\n                // Discover a new node\r\n                if (!openSet.Contains(neighbor))\r\n                {\r\n                    openSet.Enqueue(neighbor);\r\n                }\r\n                else if (tentative_gScore >= gScore[neighbor])\r\n                {\r\n                    continue;\r\n                }\r\n\r\n                // This path is the best until now. Record it!\r\n                cameFrom[neighbor] = current;\r\n                gScore[neighbor] = tentative_gScore;\r\n                //fScore[neighbor] = gScore[neighbor] /* + Math.Abs(neighbor - startingIndex) */;\r\n            }\r\n        }\r\n\r\n        return new PathResult();\r\n    }\r\n}\r\n\r\ninternal class PathResult\r\n{\r\n    public List<int> Path { get; set; }\r\n    public int Distance { get; set; }\r\n    public bool Found { get; private set; }\r\n\r\n    public PathResult()\r\n        : this(new List<int>())\r\n    {\r\n    }\r\n\r\n    public PathResult(List<int> path)\r\n        : this(path, path.Count)\r\n    {\r\n    }\r\n\r\n    public PathResult(List<int> path, int distance)\r\n    {\r\n        Path = path;\r\n        Distance = distance;\r\n        Found = (Path?.Count ?? 0) > 0;\r\n    }\r\n\r\n    public PathResult(bool found)\r\n    {\r\n        Found = found;\r\n    }\r\n}\r\n\r\ninternal class UnrestrictedPathFinder : PathFinder\r\n{\r\n    protected override bool IsTraversableTile(Board state, Player player, int tileIndex)\r\n    {\r\n        return true;\r\n    }\r\n}\r\n\r\ninternal class GameSettings\r\n{\r\n    public int MaxMagmaChamberLevel = 0;\r\n    public int MaxVolcanoLevel = 4;\r\n\r\n    public int EruptOverflowEmptyTileAmount = 1;\r\n    public int EruptOverflowFriendlyTileAmount = 1;\r\n    public int EruptOverflowEnemyTileAmount = -4;\r\n    public bool EruptOverflowAllowCapture = false;\r\n\r\n    public bool AllowMagmaChamberCaptures = false;\r\n    public bool AllowVolcanoCaptures = false;\r\n    public bool AllowDormantVolcanoes = true;\r\n\r\n    public int TournamentAdjudicateMaxTurns = 500;\r\n    public int TournamentAdjudicateMaxSeconds = 60 * 30;\r\n\r\n    public bool IndicateTranscriptMoveType = true;\r\n\r\n    public GameSettings Clone()\r\n    {\r\n        return (GameSettings)MemberwiseClone();\r\n    }\r\n}\r\n\r\ninternal enum MoveType\r\n{\r\n    AllGrow,\r\n    SingleGrow\r\n}\r\n\r\ninternal class OpeningBook\r\n{\r\n    private string _file;\r\n\r\n    private ConcurrentDictionary<string, int> _book;\r\n\r\n    private Random _rand;\r\n\r\n    public bool Loaded { get; private set; }\r\n\r\n    public int Depth { get; private set; }\r\n\r\n    public int Seconds { get; private set; }\r\n\r\n    public event BookGenerationHandler OnStatusUpdate;\r\n\r\n    public delegate void BookGenerationHandler(int completed, int total);\r\n\r\n    public OpeningBook(string file)\r\n    {\r\n        _file = file;\r\n        _book = new ConcurrentDictionary<string, int>();\r\n        _rand = new Random();\r\n\r\n        //if (File.Exists(_file))\r\n        //{\r\n        //    using (var r = new StreamReader(_file))\r\n        //    {\r\n        //        Depth = int.Parse(r.ReadLine());\r\n\r\n        //        var count = int.Parse(r.ReadLine());\r\n\r\n        //        Seconds = int.Parse(r.ReadLine());\r\n\r\n        //        for (int i = 0; i < count; i++)\r\n        //        {\r\n        //            var transcript = r.ReadLine();\r\n        //            var move = Constants.TileIndexes[r.ReadLine()];\r\n\r\n        //            _book[transcript] = move;\r\n        //        }\r\n        //    }\r\n\r\n        //    Loaded = true;\r\n        //}\r\n    }\r\n\r\n    public int GetMove(string transcript)\r\n    {\r\n        if (_book.ContainsKey(transcript))\r\n        {\r\n            return _book[transcript];\r\n        }\r\n        else\r\n        {\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    private class BookNode\r\n    {\r\n        public BookNode Parent { get; set; }\r\n\r\n        public List<BookNode> Children { get; set; }\r\n\r\n        public int Move { get; set; }\r\n\r\n        public VolcanoGame State { get; set; }\r\n\r\n        public int PlayerOneWins { get; set; }\r\n\r\n        public int PlayerTwoWins { get; set; }\r\n\r\n        public int Simulations { get; set; }\r\n\r\n        public double PlayerOneScore\r\n        {\r\n            get\r\n            {\r\n                if (Simulations <= 0)\r\n                {\r\n                    return 0;\r\n                }\r\n\r\n                return (double)PlayerOneWins / Simulations;\r\n            }\r\n        }\r\n\r\n        public double PlayerTwoScore\r\n        {\r\n            get\r\n            {\r\n                if (Simulations <= 0)\r\n                {\r\n                    return 0;\r\n                }\r\n\r\n                return (double)PlayerTwoWins / Simulations;\r\n            }\r\n        }\r\n\r\n        public BookNode()\r\n        {\r\n            Children = new List<BookNode>();\r\n        }\r\n    }\r\n}\r\n\r\ninternal interface IStatus\r\n{\r\n    event EventHandler<EngineStatus> OnStatus;\r\n}\r\n\r\ninternal class MonteCarloTreeSearchEngine : IEngine, IStatus\r\n{\r\n    private Random random;\r\n    private int simulationCount;\r\n    private int visitedNodes;\r\n    private bool _allowForcedWins;\r\n    private bool _allowHash;\r\n    private bool _allowFastWinSearch;\r\n\r\n    private bool _useOpeningBook;\r\n    private OpeningBook _book;\r\n\r\n    private int bufferMilliseconds = 0;\r\n    private EngineCancellationToken cancel;\r\n\r\n    private Stopwatch timer;\r\n\r\n    private Stopwatch statusUpdate;\r\n    private int millisecondsBetweenUpdates = 500;\r\n\r\n    public event EventHandler<EngineStatus> OnStatus;\r\n\r\n    public ConcurrentDictionary<long, Player> winHashes = new ConcurrentDictionary<long, Player>();\r\n\r\n    private double _ucbFactor = 2.0;\r\n\r\n    public MonteCarloTreeSearchEngine(double ucbFactor)\r\n    {\r\n        random = new Random();\r\n        _ucbFactor = ucbFactor;\r\n    }\r\n\r\n    public MonteCarloTreeSearchEngine(bool allowForcedWins)\r\n    {\r\n        random = new Random();\r\n        _allowForcedWins = allowForcedWins;\r\n    }\r\n\r\n    public MonteCarloTreeSearchEngine(bool allowForcedWins, bool allowHash, bool allowFastWinSearch, string openingBook)\r\n    {\r\n        random = new Random();\r\n        _allowForcedWins = allowForcedWins;\r\n        _allowHash = allowHash;\r\n        _allowFastWinSearch = allowFastWinSearch;\r\n        _useOpeningBook = !string.IsNullOrEmpty(openingBook);\r\n\r\n        if (_useOpeningBook)\r\n        {\r\n            _book = new OpeningBook(openingBook);\r\n            _useOpeningBook = _book.Loaded;\r\n        }\r\n    }\r\n\r\n    public MonteCarloTreeSearchEngine()\r\n    {\r\n        random = new Random();\r\n        _allowForcedWins = true;\r\n    }\r\n\r\n    public SearchResult GetBestMove(Board state, int maxMs, EngineCancellationToken token)\r\n    {\r\n        //if (_useOpeningBook)\r\n        //{\r\n        //    if (maxMs <= _book.Seconds)\r\n        //    {\r\n        //        var bookMove = _book.GetMove(state.Transcript);\r\n\r\n        //        if (bookMove >= 0)\r\n        //        {\r\n        //            return new SearchResult\r\n        //            {\r\n        //                BestMove = bookMove\r\n        //            };\r\n        //        }\r\n        //    }\r\n        //}\r\n\r\n        timer = Stopwatch.StartNew();\r\n        statusUpdate = Stopwatch.StartNew();\r\n        visitedNodes = 0;\r\n        simulationCount = 0;\r\n\r\n        cancel = new EngineCancellationToken(() => token.Cancelled || timer.ElapsedMilliseconds >= maxMs - bufferMilliseconds);\r\n\r\n        int best = MonteCarloTreeSearch(state);\r\n\r\n        return new SearchResult\r\n        {\r\n            BestMove = best,\r\n            Evaluations = visitedNodes,\r\n            Simulations = simulationCount,\r\n            Milliseconds = timer.ElapsedMilliseconds\r\n        };\r\n    }\r\n\r\n    protected virtual List<int> GetMoves(Board state)\r\n    {\r\n        return state.GetMoves();\r\n    }\r\n\r\n    private int MonteCarloTreeSearch(Board rootState)\r\n    {\r\n        var rootNode = new MonteCarloTreeSearchNode(rootState, GetMoves);\r\n        var forceWin = false;\r\n\r\n        while (!cancel.Cancelled && !forceWin)\r\n        {\r\n            var node = rootNode;\r\n            var state = new Board(rootState);\r\n\r\n            state.allowHash = _allowHash;\r\n            state.fastWinSearch = _allowFastWinSearch;\r\n\r\n            if (_allowHash)\r\n            {\r\n                state.winHashes = winHashes;\r\n            }\r\n\r\n            simulationCount++;\r\n\r\n            // Select\r\n            while (node.Untried.Count == 0 && node.Children.Count > 0)\r\n            {\r\n                node = node.SelectChild(_ucbFactor);\r\n                state.MakeMove(node.Move);\r\n                visitedNodes++;\r\n            }\r\n\r\n            // Expand\r\n            if (node.Untried.Count > 0)\r\n            {\r\n                var move = node.Untried[random.Next(node.Untried.Count)];\r\n                state.MakeMove(move);\r\n                node = node.AddChild(state, move);\r\n                visitedNodes++;\r\n            }\r\n\r\n            // Simulate\r\n            while (state.Winner == Player.Empty && state.Turn < 50)\r\n            {\r\n                var moves = state.GetMoves(false, true, false, VolcanoGame.Settings.MaxVolcanoLevel);\r\n                if (moves.Count == 0)\r\n                {\r\n                    break;\r\n                }\r\n                state.MakeMove(moves[random.Next(moves.Count)]);\r\n                visitedNodes++;\r\n            }\r\n\r\n            // Backpropagate\r\n            while (node != null)\r\n            {\r\n                //if (state.Winner != Player.Draw)\r\n                //{\r\n                //    Console.Error.WriteLine($\"{state.Winner} == {node.LastToMove}\");\r\n                //    throw new Exception();\r\n                //}\r\n                node.Update(state.Winner == Player.One ? 1.0 : 0.0);\r\n                node = node.Parent;\r\n                visitedNodes++;\r\n            }\r\n\r\n            // Cut Short\r\n            if (_allowForcedWins)\r\n            {\r\n                foreach (var child in rootNode.Children)\r\n                {\r\n                    // If we have a potential move that has a 100% win rate and it's been visited a lot of times, stop searching\r\n                    if (child.Visits > 500 && child.Wins == child.Visits)\r\n                    {\r\n                        forceWin = true;\r\n                    }\r\n                }\r\n            }\r\n\r\n            //// Update Status\r\n            //if (statusUpdate.ElapsedMilliseconds > 60)\r\n            //{\r\n            //    EngineStatus status = new EngineStatus();\r\n            //    foreach (var child in rootNode.Children)\r\n            //    {\r\n            //        double eval = Math.Round((child.Visits > 0 ? 200.0 * child.Wins / child.Visits : 0) - 100.0, 2);\r\n            //        string pv = \"\";\r\n            //        var c = child;\r\n            //        while (c != null && c.Move >= 0 && c.Move <= 80)\r\n            //        {\r\n            //            pv += Constants.TileNames[c.Move] + \" (\" + c.Wins + \"/\" + c.Visits + \")   \";\r\n            //            c = c.Children?.OrderBy(x => x.Visits)?.ThenBy(x => x.Wins)?.LastOrDefault();\r\n            //        }\r\n            //        Console.Error.WriteLine($\"{child?.Move} {eval} {pv}\");\r\n            //        //status.Add(child?.Move ?? 80, eval, pv);\r\n            //    }\r\n            //    //status.Sort();\r\n            //    //Console.Error.WriteLine();\r\n            //    statusUpdate = Stopwatch.StartNew();\r\n            //}\r\n        }\r\n\r\n#if LOCAL\r\n        var debug = rootNode.Children.OrderBy(x => x.Visits).Select(x => new { move = Constants.TileNames[x.Move], visits = x.Visits, wins = x.Wins }).ToList();\r\n#endif\r\n\r\n        return rootNode.Children.OrderBy(x => x.Visits).LastOrDefault().Move;\r\n    }\r\n\r\n    private class MonteCarloTreeSearchNode\r\n    {\r\n        private Func<Board, List<int>> _getMoves;\r\n\r\n        public double Wins;\r\n        public double Visits;\r\n        public MonteCarloTreeSearchNode Parent;\r\n        public Player LastToMove;\r\n        public int Move;\r\n        public List<MonteCarloTreeSearchNode> Children;\r\n        public List<int> Untried;\r\n\r\n        public MonteCarloTreeSearchNode(Board state, Func<Board, List<int>> getMoves)\r\n            : this(state, -2, null, getMoves)\r\n        {\r\n        }\r\n\r\n        public MonteCarloTreeSearchNode(Board state, int move, MonteCarloTreeSearchNode parent, Func<Board, List<int>> getMoves)\r\n        {\r\n            _getMoves = getMoves;\r\n\r\n            Move = move;\r\n            Parent = parent;\r\n\r\n            Children = new List<MonteCarloTreeSearchNode>();\r\n            Wins = 0.0;\r\n            Visits = 0.0;\r\n\r\n            if (state != null)\r\n            {\r\n                Untried = _getMoves(state);\r\n                LastToMove = state.GetPlayerForPreviousTurn();\r\n            }\r\n            else\r\n            {\r\n                Untried = new List<int>();\r\n            }\r\n        }\r\n\r\n        public MonteCarloTreeSearchNode SelectChild(double ucbFactor)\r\n        {\r\n            return Children.OrderBy(x => UpperConfidenceBound(ucbFactor, x)).LastOrDefault();\r\n        }\r\n\r\n        public MonteCarloTreeSearchNode AddChild(Board state, int move)\r\n        {\r\n            var newNode = new MonteCarloTreeSearchNode(state, move, this, _getMoves);\r\n            Untried.Remove(move);\r\n            Children.Add(newNode);\r\n            return newNode;\r\n        }\r\n\r\n        public void Update(double result)\r\n        {\r\n            Visits++;\r\n            Wins += result;\r\n        }\r\n\r\n        private double UpperConfidenceBound(double ucbFactor, MonteCarloTreeSearchNode node)\r\n        {\r\n            return node.Wins / node.Visits + Math.Sqrt(ucbFactor * Math.Log(Visits) / node.Visits);\r\n        }\r\n    }\r\n}\r\n\r\ninternal class SearchResult\r\n{\r\n    public int Score { get; set; }\r\n\r\n    public long Evaluations { get; set; }\r\n\r\n    public long Simulations { get; set; }\r\n\r\n    public long Milliseconds { get; set; }\r\n\r\n    public decimal HashPercentage { get; set; }\r\n\r\n    public int BestMove { get; set; }\r\n\r\n    public bool Timeout { get; set; }\r\n\r\n    public int NodesPerSecond\r\n    {\r\n        get\r\n        {\r\n            if (Milliseconds > 0)\r\n            {\r\n                return (int)(Evaluations / (Milliseconds / 1000.0));\r\n            }\r\n\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    public SearchResult()\r\n    {\r\n        BestMove = -3;\r\n    }\r\n\r\n    public SearchResult(int bestMove)\r\n    {\r\n        BestMove = bestMove;\r\n    }\r\n}\r\n\r\ninternal interface IEngine\r\n{\r\n    SearchResult GetBestMove(Board state, int maxSeconds, EngineCancellationToken token);\r\n}\r\n\r\ninternal class EngineStatus\r\n{\r\n    public List<EngineStatusLine> Details { get; private set; }\r\n\r\n    public EngineStatus()\r\n    {\r\n        Details = new List<EngineStatusLine>();\r\n    }\r\n\r\n    public void Add(int moveIndex, double evaluation, string extraInfo)\r\n    {\r\n        Details.Add(new EngineStatusLine\r\n        {\r\n            MoveIndex = moveIndex,\r\n            Evaluation = evaluation,\r\n            ExtraInformation = extraInfo\r\n        });\r\n    }\r\n\r\n    public void Sort()\r\n    {\r\n        Details.Sort((c, n) => n.Evaluation.CompareTo(c.Evaluation));\r\n    }\r\n}\r\n\r\ninternal class EngineStatusLine\r\n{\r\n    public int MoveIndex { get; set; }\r\n\r\n    public double Evaluation { get; set; }\r\n\r\n    public string ExtraInformation { get; set; }\r\n}\r\n\r\ninternal class EngineCancellationToken\r\n{\r\n    public bool Cancelled { get { return _isCancelled(); } }\r\n\r\n    private Func<bool> _isCancelled;\r\n\r\n    public EngineCancellationToken(Func<bool> isCancelled)\r\n    {\r\n        _isCancelled = isCancelled;\r\n    }\r\n}\r\n\r\ninternal class VolcanoGame\r\n{\r\n    public Board CurrentState { get; set; }\r\n\r\n    private IEngine _playerOneEngine;\r\n    private IEngine _playerTwoEngine;\r\n\r\n    private SearchResult _lastSearch;\r\n\r\n    public event GameOverHandler OnGameOver;\r\n\r\n    public delegate void GameOverHandler(Player winner, VictoryType type);\r\n\r\n    public event MoveMadeHandler OnMoveMade;\r\n\r\n    public delegate void MoveMadeHandler(bool growthHappened);\r\n\r\n    public event EngineStatusHandler OnEngineStatus;\r\n\r\n    public delegate void EngineStatusHandler(Player player, EngineStatus status);\r\n\r\n    public List<int> MoveHistory { get; private set; }\r\n\r\n    //public bool Thinking { get { return _worker.IsBusy; } }\r\n\r\n    public Exception BackgroundError { get; private set; }\r\n\r\n    public int NodesPerSecond { get { return _lastSearch?.NodesPerSecond ?? 0; } }\r\n\r\n    public int SecondsPerEngineMove { get; set; } = 10;\r\n\r\n    public static GameSettings Settings = new GameSettings();\r\n\r\n    private int _graceTimeout = 250;\r\n\r\n    public VolcanoGame()\r\n    {\r\n        CurrentState = new Board();\r\n        MoveHistory = new List<int>();\r\n    }\r\n\r\n    public void StartNewGame()\r\n    {\r\n        CurrentState = new Board();\r\n        MoveHistory = new List<int>();\r\n    }\r\n\r\n    public bool LoadTranscript(string transcript)\r\n    {\r\n        CurrentState = new Board();\r\n        MoveHistory = new List<int>();\r\n\r\n        if (!string.IsNullOrEmpty(transcript))\r\n        {\r\n            string[] lines = transcript.Split(new string[] { \"\\n\", \"\\r\" }, StringSplitOptions.RemoveEmptyEntries);\r\n            foreach (string line in lines)\r\n            {\r\n                string[] moves = line.Split(new string[] { \" \", \"+\" }, StringSplitOptions.RemoveEmptyEntries);\r\n                if (moves.Length > 0 && Constants.TileIndexes.ContainsKey(moves[0]))\r\n                {\r\n                    foreach (string move in moves)\r\n                    {\r\n                        if (Constants.TileIndexes.ContainsKey(move))\r\n                        {\r\n                            int index = Constants.TileIndexes[move];\r\n                            if (index != Constants.AllGrowMove)\r\n                            {\r\n                                MakeMove(index);\r\n                            }\r\n                        }\r\n                        else\r\n                        {\r\n                            return false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return MoveHistory.Count > 0;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public Board GetPreviousState(int turn)\r\n    {\r\n        Board board = new Board();\r\n        for (int i = 0; i < Math.Min(turn, MoveHistory.Count); i++)\r\n        {\r\n            board.MakeMove(MoveHistory[i], true, false);\r\n        }\r\n        return board;\r\n    }\r\n\r\n    public void RegisterEngine(Player player, IEngine engine, bool silent = false)\r\n    {\r\n        if (player == Player.One)\r\n        {\r\n            _playerOneEngine = engine;\r\n        }\r\n        if (player == Player.Two)\r\n        {\r\n            _playerTwoEngine = engine;\r\n        }\r\n    }\r\n\r\n    public void MakeMove(int move)\r\n    {\r\n        if (CurrentState.IsValidMove(move))\r\n        {\r\n            bool growthHappened = CurrentState.MakeMove(move);\r\n\r\n            MoveHistory.Add(move);\r\n            if (growthHappened)\r\n            {\r\n                MoveHistory.Add(Constants.AllGrowMove);\r\n            }\r\n            OnMoveMade?.Invoke(growthHappened);\r\n\r\n            if (CurrentState.State == GameState.GameOver)\r\n            {\r\n                OnGameOver?.Invoke(CurrentState.Winner, CurrentState.Winner == Player.Draw ? VictoryType.InfiniteEruption : VictoryType.AntipodePathCreation);\r\n            }\r\n            //else\r\n            //{\r\n            //    ComputerPlay();\r\n            //}\r\n        }\r\n    }\r\n\r\n    //public void ComputerPlay()\r\n    //{\r\n    //    if (!_worker.IsBusy && CurrentState.State == GameState.InProgress)\r\n    //    {\r\n    //        if (CurrentState.Player == Player.One && _playerOneEngine != null || CurrentState.Player == Player.Two && _playerTwoEngine != null)\r\n    //        {\r\n    //            _worker.RunWorkerAsync();\r\n    //        }\r\n    //    }\r\n    //}\r\n\r\n    public List<Move> GetDetailedMoveList()\r\n    {\r\n        var moves = new List<Move>();\r\n        var board = new Board();\r\n\r\n        for (int i = 0; i < MoveHistory.Count; i++)\r\n        {\r\n            board.MakeMove(MoveHistory[i], true, false);\r\n            moves.Add(new Move(MoveHistory[i], board.LastMoveIncreasedTile));\r\n        }\r\n\r\n        return moves;\r\n    }\r\n\r\n    public string GetTranscriptLine()\r\n    {\r\n        if (MoveHistory.Count > 0)\r\n        {\r\n            if (Settings.IndicateTranscriptMoveType)\r\n            {\r\n                var moves = GetDetailedMoveList();\r\n                return moves.Select(x => x.Tile + (x.Addition ? \"+\" : \"\")).Aggregate((c, n) => c + \" \" + n);\r\n            }\r\n            else\r\n            {\r\n                return MoveHistory.Select(x => Constants.TileNames[x]).Aggregate((c, n) => c + \" \" + n);\r\n            }\r\n        }\r\n\r\n        return \"\";\r\n    }\r\n\r\n    //public string GetTranscript(bool includeHeader)\r\n    //{\r\n    //    if (MoveHistory.Count > 0)\r\n    //    {\r\n    //        StringBuilder sb = new StringBuilder();\r\n\r\n    //        if (includeHeader)\r\n    //        {\r\n    //            sb.AppendLine(\"[Volcanoes Saved Game Transcript v1]\");\r\n    //            sb.AppendLine(\"[Date \" + DateTime.Now.ToString(\"yyyy.MM.dd\") + \"]\");\r\n    //            sb.AppendLine(\"\");\r\n    //        }\r\n\r\n    //        sb.AppendLine(GetTranscriptLine());\r\n\r\n    //        return sb.ToString();\r\n    //    }\r\n\r\n    //    return \"\";\r\n    //}\r\n\r\n    //private void BackgroundWork(object sender, DoWorkEventArgs e)\r\n    //{\r\n    //    EngineCancellationToken token = new EngineCancellationToken(_worker);\r\n\r\n    //    try\r\n    //    {\r\n    //        BackgroundError = null;\r\n\r\n    //        CurrentState.Transcript = GetTranscriptLine();\r\n\r\n    //        var timer = Stopwatch.StartNew();\r\n\r\n    //        if (CurrentState.Player == Player.One)\r\n    //        {\r\n    //            e.Result = _playerOneEngine.GetBestMove(CurrentState, SecondsPerEngineMove, token);\r\n    //        }\r\n    //        else if (CurrentState.Player == Player.Two)\r\n    //        {\r\n    //            e.Result = _playerTwoEngine.GetBestMove(CurrentState, SecondsPerEngineMove, token);\r\n    //        }\r\n\r\n    //        if (timer.ElapsedMilliseconds > SecondsPerEngineMove * 1000 + _graceTimeout)\r\n    //        {\r\n    //            e.Result = new SearchResult { Timeout = true };\r\n    //        }\r\n    //    }\r\n    //    catch (Exception ex)\r\n    //    {\r\n    //        BackgroundError = ex;\r\n\r\n    //        try\r\n    //        {\r\n    //            using (StreamWriter w = new StreamWriter(\"errors.txt\", true))\r\n    //            {\r\n    //                w.WriteLine(DateTime.Now.ToString() + \"\\r\\nFailed to get a move from an engine!\\r\\n\" + ex.ToString() + \"\\r\\n\\r\\n\");\r\n    //            }\r\n    //        }\r\n    //        catch { /* TODO */ }\r\n\r\n    //        e.Result = new SearchResult();\r\n    //    }\r\n\r\n    //    if (token.Cancelled)\r\n    //    {\r\n    //        e.Cancel = true;\r\n    //    }\r\n    //}\r\n\r\n    //private void BackgroundWorkCompleted(object sender, RunWorkerCompletedEventArgs e)\r\n    //{\r\n    //    if (!e.Cancelled)\r\n    //    {\r\n    //        _lastSearch = (SearchResult)e.Result;\r\n\r\n    //        if (_lastSearch.BestMove >= 0 && CurrentState.IsValidMove(_lastSearch.BestMove))\r\n    //        {\r\n    //            bool growthHappened = CurrentState.MakeMove(_lastSearch.BestMove);\r\n\r\n    //            MoveHistory.Add(_lastSearch.BestMove);\r\n    //            if (growthHappened)\r\n    //            {\r\n    //                MoveHistory.Add(Constants.AllGrowMove);\r\n    //            }\r\n    //            OnMoveMade?.Invoke(growthHappened);\r\n\r\n    //            if (CurrentState.State == GameState.GameOver)\r\n    //            {\r\n    //                OnGameOver?.Invoke(CurrentState.Winner, CurrentState.Winner == Player.Draw ? VictoryType.InfiniteEruption : VictoryType.AntipodePathCreation);\r\n    //            }\r\n    //            else\r\n    //            {\r\n    //                ComputerPlay();\r\n    //            }\r\n    //        }\r\n    //        else\r\n    //        {\r\n    //            // If an engine doesn't find a move, then he adjourns the game\r\n    //            CurrentState.Winner = CurrentState.Player == Player.One ? Player.Two : Player.One;\r\n    //            OnGameOver?.Invoke(CurrentState.Winner, _lastSearch.Timeout ? VictoryType.OpponentTimeout : VictoryType.ArenaAdjudication);\r\n    //        }\r\n    //    }\r\n    //}\r\n}\r\n\r\ninternal enum VictoryType\r\n{\r\n    None,\r\n    AntipodePathCreation,\r\n    OpponentResignation,\r\n    ArenaAdjudication,\r\n    InfiniteEruption,\r\n    OpponentTimeout\r\n}\r\n\r\ninternal class Move\r\n{\r\n    public int Location { get; set; }\r\n    public bool Addition { get; set; }\r\n    public string Tile { get; set; }\r\n\r\n    public Move(int location, bool addition)\r\n    {\r\n        Location = location;\r\n        Addition = addition;\r\n        Tile = location >= 0 && location < Constants.TileNames.Length ? Constants.TileNames[location] : \"\";\r\n    }\r\n}",
          "testCases": [],
          "maxPlayers": 2,
          "minPlayers": 2,
          "statements": {
            "1": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      <p>The goal of the game is to create a chain of volcanoes that connects a tile in the northern hemisphere to it's corresponding tile in the southern hemisphere.</p>\n        <p>Opposing tiles are conveniently numbered so that <const>N16</const> (north 16) is opposite <const>S16</const> (south 16).</p>\n            <p>Since the board is a 2D representation of a <a href=\"https://en.wikipedia.org/wiki/Pentakis_icosidodecahedron\" target=\"_blank\">Pentakis Icosidodecahedron</a> (an 80-faced sphere-ish shape), tiles connect around the edges of the board (e.g., <const>N40</const> connects to <const>N21</const> and <const>S17</const> connects to <const>S18</const>).</p>\n      <!-- <img src=\"pentakisicosidodecahedron.png\" style=\"max-width: 200px; margin: 15px 0;\" />\n      <p>(Image: <a href=\"https://commons.wikimedia.org/wiki/File:Pentakis_icosidodecahedron.png\" target=\"_blank\">Tom Ruen</a>, Public domain, via Wikimedia Commons)</p> -->\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        <p>On your turn you may perform one of the following actions.</p>\n        <ol>\n          <li>Place a new level 1 volcano of your color on any empty tile.</li>\n          <li>Increase the level of one of your existing volcanoes by one (up to a maximum level of 4).</li>\n        </ol>\n        <p>Play progresses as follows.</p>\n        <ol>\n          <li>Blue's turn</li>\n          <li>Orange's turn</li>\n          <li>Growth (every volcano on the board gains one level)</li>\n          <li>Orange's turn</li>\n          <li>Blue's turn</li>\n          <li>Growth</li>\n        </ol>\n        <p>This cycle repeats until a player wins by successfully creating an unbroken chain of volcanoes from one side of the board to the other.</p>\n        <p>When a volcano advances to level 4 (during a player's turn or a growth turn), it erupts with the following effects.</p>\n        <ul>\n          <li>The level 4 volcano becomes dormant (it stops growing)</li>\n          <li>Adjacent empty tiles become level 1 volcanoes for the team who owns the erupting volcano.</li>\n          <li>Adjacent volcanoes on the same team as the erupting volcano are increased by one level.</li>\n          <li>Adjacent volcanoes on the opposite team as the erupting volcano are destroyed and leave behind empty tiles.</li>\n        </ul>\n      </div>\n      <div class=\"statement-victory-conditions\"> \n            <div class=\"icon victory\"></div> \n            <div class=\"blk\"> \n              <div class=\"title\">Victory Conditions</div> \n              <div class=\"text\">Win by connecting any northern tile to its corresponding southern tile with an unbroken chain of volcanoes.</div>\n              <!-- <div class=\"text\">For example, connecting <const>N08</const> to <const>S08</const> would be a winning path.</div> -->\n            </div> \n          </div>\n    </div>\n  </div>\n  <!-- EXPERT RULES -->\n  <div class=\"statement-section statement-expertrules\">\n    <h1>\n      <span class=\"icon icon-expertrules\">&nbsp;</span>\n      <span>Expert Rules</span>\n    </h1>\n    <div class=\"statement-expert-rules-content\">\n      <p>Since the connections between tiles are tedious to set up, they are provided to you in the initialization inputs.</p>\n      <p>\n        Eruptions can trigger further eruptions. If an infinite chain of eruptions is detected then the game is considered a draw.\n      </p>\n      <p>It is possible for both players to complete a path at the same time during the growth phase. If this happens then the game is declared a draw.</p>\n      <p>Game concept by <a href=\"https://simondorfman.com/volcanoes1\">Simon Dorfman</a>.</p>\n      <p>Code is available on <a href=\"https://github.com/skotz/codingame-volcanoes\">GitHub</a>.</p>\n    </div>\n  </div>\n  <!-- EXAMPLES\n  <div class=\"statement-section statement-examples\">\n    <h1>\n      <span class=\"icon icon-example\">&nbsp;</span>\n      <span>Example</span>\n    </h1>\n\n    <div class=\"statement-examples-text\">\n      <p>Here's an example of a volcano erupting.</p>\n      <img src=\"example-erupt-1.png\" style=\"max-width: 200px; margin: 15px 0;\" />\n      <p>When the blue player levels up their volcano on S40 (or a growth move happens) the volcano on S40 will increase to a level 4 volcano, become dormant, and then spill over into its three adjacent tiles: S39, N30, and S21.</p>\n      <img src=\"example-erupt-2.png\" style=\"max-width: 200px; margin: 15px 0;\" />\n      <p>Victory is obtained when two tiles on opposite sides of the board (in this case N19 and S19) are connected.</p>\n      <img src=\"example-victory.png\" style=\"max-width: 400px; margin: 15px 0 0 0;\" />\n    </div>\n  </div> -->\n  <!-- WARNING\n  <div class=\"statement-section statement-warning\">\n    <h1>\n      <span class=\"icon icon-warning\">&nbsp;</span>\n      <span>Note</span>\n    </h1>\n    <div class=\"statement-warning-content\">\n      <b>Dont forget to run the tests by launching them from the Test cases window</b>. You can submit at any time\n      to recieve a score against the training validators. <b>You can submit as many times as you like</b>. Your most\n      recent submission will be used for the final ranking.<br>\n      <br>\n      <strong>Warning:</strong> the validation tests used to compute the final score are not the same as the ones used\n      during the event.\n      Harcoded solutions will not score highly.<br>\n      <br>\n      Don't hesitate to change the viewer's options to help debug your code (<img style=\"opacity:.8;background:#20252a;\"\n        height=\"18\" src=\"https://www.codingame.com/servlet/fileservlet?id=3463235186409\" width=\"18\">).\n    </div>\n  </div> -->\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n    </h1>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input (first move only)</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span> <var>numberOfTiles</var>, the total number of tiles on the board</p>\n        <p><span class=\"statement-lineno\">Next <var>numberOfTiles</var> lines: </span> <const>4</const> space-separated values:\n        <ul>\n          <li><var>tileName</var>, the name of the tile at the given index</li>\n          <li><var>neighbor1</var>, the index of a neighboring tile</li>\n          <li><var>neighbor2</var>, the index of a neighboring tile</li>\n          <li><var>neighbor3</var>, the index of a neighboring tile</li>\n        </ul>\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input (each turn)</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span> <var>currentPosition</var>, a space-separated list of the volcano levels of all <var>numberOfTiles</var> tiles on the board, with positive values for your volcanoes and negative values for your opponent's volcanoes</p>\n        <p><span class=\"statement-lineno\">Line 2: </span> <var>validMoves</var>, a space-separated list of valid moves in the current position</p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span> <var>move</var>, the name of the tile to play on or <action>RANDOM</action> to play a random move</p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\"><var>numberOfTiles</var> = <const>80</const><br>\n        <br>Bots must respond within <const>100</const> milliseconds.</div>\n    </div>\n  </div>\n  <!-- STORY\n  <div class=\"statement-story-background\">\n    <div class=\"statement-story-cover\">\n      <div class=\"statement-story\">\n        <h1>Title</h1>\n        <div class=\"story-text\">Story\n          <br>\n          Totally optional</div>\n      </div>\n    </div>\n  </div> -->\n</div>",
            "2": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      <p>The goal of the game is to create a chain of volcanoes that connects a tile in the northern hemisphere to it's corresponding tile in the southern hemisphere.</p>\n        <p>Opposing tiles are conveniently numbered so that <const>N16</const> (north 16) is opposite <const>S16</const> (south 16).</p>\n            <p>Since the board is a 2D representation of a <a href=\"https://en.wikipedia.org/wiki/Pentakis_icosidodecahedron\" target=\"_blank\">Pentakis Icosidodecahedron</a> (an 80-faced sphere-ish shape), tiles connect around the edges of the board (e.g., <const>N40</const> connects to <const>N21</const> and <const>S17</const> connects to <const>S18</const>).</p>\n      <!-- <img src=\"pentakisicosidodecahedron.png\" style=\"max-width: 200px; margin: 15px 0;\" />\n      <p>(Image: <a href=\"https://commons.wikimedia.org/wiki/File:Pentakis_icosidodecahedron.png\" target=\"_blank\">Tom Ruen</a>, Public domain, via Wikimedia Commons)</p> -->\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        <p>On your turn you may perform one of the following actions.</p>\n        <ol>\n          <li>Place a new level 1 volcano of your color on any empty tile.</li>\n          <li>Increase the level of one of your existing volcanoes by one (up to a maximum level of 4).</li>\n        </ol>\n        <p>Play progresses as follows.</p>\n        <ol>\n          <li>Blue's turn</li>\n          <li>Orange's turn</li>\n          <li>Growth (every volcano on the board gains one level)</li>\n          <li>Orange's turn</li>\n          <li>Blue's turn</li>\n          <li>Growth</li>\n        </ol>\n        <p>This cycle repeats until a player wins by successfully creating an unbroken chain of volcanoes from one side of the board to the other.</p>\n        <p>When a volcano advances to level 4 (during a player's turn or a growth turn), it erupts with the following effects.</p>\n        <ul>\n          <li>The level 4 volcano becomes dormant (it stops growing)</li>\n          <li>Adjacent empty tiles become level 1 volcanoes for the team who owns the erupting volcano.</li>\n          <li>Adjacent volcanoes on the same team as the erupting volcano are increased by one level.</li>\n          <li>Adjacent volcanoes on the opposite team as the erupting volcano are destroyed and leave behind empty tiles.</li>\n        </ul>\n      </div>\n      <div class=\"statement-victory-conditions\"> \n            <div class=\"icon victory\"></div> \n            <div class=\"blk\"> \n              <div class=\"title\">Victory Conditions</div> \n              <div class=\"text\">Win by connecting any northern tile to its corresponding southern tile with an unbroken chain of volcanoes.</div>\n              <!-- <div class=\"text\">For example, connecting <const>N08</const> to <const>S08</const> would be a winning path.</div> -->\n            </div> \n          </div>\n    </div>\n  </div>\n  <!-- EXPERT RULES -->\n  <div class=\"statement-section statement-expertrules\">\n    <h1>\n      <span class=\"icon icon-expertrules\">&nbsp;</span>\n      <span>Expert Rules</span>\n    </h1>\n    <div class=\"statement-expert-rules-content\">\n      <p>Since the connections between tiles are tedious to set up, they are provided to you in the initialization inputs.</p>\n      <p>\n        Eruptions can trigger further eruptions. If an infinite chain of eruptions is detected then the game is considered a draw.\n      </p>\n      <p>It is possible for both players to complete a path at the same time during the growth phase. If this happens then the game is declared a draw.</p>\n      <p>Game concept by <a href=\"https://simondorfman.com/volcanoes1\">Simon Dorfman</a>.</p>\n      <p>Code is available on <a href=\"https://github.com/skotz/codingame-volcanoes\">GitHub</a>.</p>\n    </div>\n  </div>\n  <!-- EXAMPLES\n  <div class=\"statement-section statement-examples\">\n    <h1>\n      <span class=\"icon icon-example\">&nbsp;</span>\n      <span>Example</span>\n    </h1>\n\n    <div class=\"statement-examples-text\">\n      <p>Here's an example of a volcano erupting.</p>\n      <img src=\"example-erupt-1.png\" style=\"max-width: 200px; margin: 15px 0;\" />\n      <p>When the blue player levels up their volcano on S40 (or a growth move happens) the volcano on S40 will increase to a level 4 volcano, become dormant, and then spill over into its three adjacent tiles: S39, N30, and S21.</p>\n      <img src=\"example-erupt-2.png\" style=\"max-width: 200px; margin: 15px 0;\" />\n      <p>Victory is obtained when two tiles on opposite sides of the board (in this case N19 and S19) are connected.</p>\n      <img src=\"example-victory.png\" style=\"max-width: 400px; margin: 15px 0 0 0;\" />\n    </div>\n  </div> -->\n  <!-- WARNING\n  <div class=\"statement-section statement-warning\">\n    <h1>\n      <span class=\"icon icon-warning\">&nbsp;</span>\n      <span>Note</span>\n    </h1>\n    <div class=\"statement-warning-content\">\n      <b>Dont forget to run the tests by launching them from the Test cases window</b>. You can submit at any time\n      to recieve a score against the training validators. <b>You can submit as many times as you like</b>. Your most\n      recent submission will be used for the final ranking.<br>\n      <br>\n      <strong>Warning:</strong> the validation tests used to compute the final score are not the same as the ones used\n      during the event.\n      Harcoded solutions will not score highly.<br>\n      <br>\n      Don't hesitate to change the viewer's options to help debug your code (<img style=\"opacity:.8;background:#20252a;\"\n        height=\"18\" src=\"https://www.codingame.com/servlet/fileservlet?id=3463235186409\" width=\"18\">).\n    </div>\n  </div> -->\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n    </h1>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input (first move only)</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span> <var>numberOfTiles</var>, the total number of tiles on the board</p>\n        <p><span class=\"statement-lineno\">Next <var>numberOfTiles</var> lines: </span> <const>4</const> space-separated values:\n        <ul>\n          <li><var>tileName</var>, the name of the tile at the given index</li>\n          <li><var>neighbor1</var>, the index of a neighboring tile</li>\n          <li><var>neighbor2</var>, the index of a neighboring tile</li>\n          <li><var>neighbor3</var>, the index of a neighboring tile</li>\n        </ul>\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input (each turn)</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span> <var>currentPosition</var>, a space-separated list of the volcano levels of all <var>numberOfTiles</var> tiles on the board, with positive values for your volcanoes and negative values for your opponent's volcanoes</p>\n        <p><span class=\"statement-lineno\">Line 2: </span> <var>validMoves</var>, a space-separated list of valid moves in the current position</p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span> <var>move</var>, the name of the tile to play on or <action>RANDOM</action> to play a random move</p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\"><var>numberOfTiles</var> = <const>80</const><br>\n        <br>Bots must respond within <const>100</const> milliseconds.</div>\n    </div>\n  </div>\n  <!-- STORY\n  <div class=\"statement-story-background\">\n    <div class=\"statement-story-cover\">\n      <div class=\"statement-story\">\n        <h1>Title</h1>\n        <div class=\"story-text\">Story\n          <br>\n          Totally optional</div>\n      </div>\n    </div>\n  </div> -->\n</div>"
          },
          "questionType": "multi",
          "stubGenerator": "read numberOfTiles:int\nloop numberOfTiles read tileName:word(3) neighbor1:int neighbor2:int neighbor3:int\ngameloop\nread position:string(1000)\nread moves:string(1000)\nwrite random\n\nSTATEMENT\nWin by building an unbroken chain of volcanoes from one side of the board to the other.\n\nINPUT\nnumberOfTiles : Number of tiles on the board\ntileName: Name of the tile at this index (e.g., N01 or S25)\nneighbor1: Index of a neighboring tile\nneighbor2: Index of a neighboring tile\nneighbor3: Index of a neighboring tile\nposition: Space-separated list of the volcano levels for every tile on the board (in index order); value will be positive for your volcanoes, negative for your opponent's volcanoes, or 0 if empty\nmoves: Space-separate list of all valid moves in this position\n\nOUTPUT\nEither RANDOM or a tile name (e.g., N12 or S34)",
          "welcomePopups": {
            "1": "<div style=\"text-align:center\">\n  <h2>Congratulations!</h2>\n  <p>The rules for this league are the same as the previous one.</p>\n</div>",
            "2": "<div style=\"text-align:center\">\n  <h2>Congratulations!</h2>\n  <p>The rules for this league are the same as the previous one.</p>\n</div>"
          },
          "aiCodeExtension": "cs",
          "criteriaLanguageMap": {}
        }
      },
      "coverBinaryId": 59557404267401,
      "directoryPrefix": "community/3533314-1614039421417",
      "allowSourceDownload": false
    },
    "draft": false,
    "readyForModeration": true
  },
  "validatedFor": 148597700300,
  "avatar": 97334021748803,
  "commentCount": 23,
  "upVotes": 49,
  "downVotes": 2,
  "validateAction": {
    "actionId": 563613,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "REFUSED",
      "date": 1616817936999,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1616887986653,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "REFUSED",
      "date": 1619481937000,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1619789455685,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "ACCEPTED",
      "date": 1622132794937,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}