{
  "id": 4471,
  "activeVersion": 32,
  "score": 5,
  "votableId": 11153730,
  "codingamerId": 2064637,
  "views": 185,
  "commentableId": 11081832,
  "title": "Happy Numbers",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "java_coffee_cup",
  "publicHandle": "4471f4af6b57257b17058fc0d08f25d54b02",
  "codingamerHandle": "f4c116cad137a7eee91b727ff6fe53597364602",
  "lastVersion": {
    "version": 32,
    "autocloseTime": 1567185238481,
    "data": {
      "title": "Happy Numbers",
      "topics": [
        {
          "labelMap": {
            "2": "Data Types"
          }
        },
        {
          "id": 46,
          "handle": "loops",
          "labelMap": {
            "1": "Boucles",
            "2": "Loops"
          },
          "pageTitle": "Loops: exercises and theory",
          "puzzleCount": 23,
          "parentTopicId": 39,
          "contentDetailsId": 71
        }
      ],
      "solution": "import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Solution {\n\tstatic boolean isDebug = false;\n\n\tpublic static void main(String[] args) {\n\t\tScanner in = new Scanner(System.in);\n\t\tint N = in.nextInt();\n\t\tString[] ss = { \":)\", \":(\" };\n\n\t\tif (in.hasNextLine()) {\n\t\t\tin.nextLine();\n\t\t}\n\t\tfor (int i = 1; i <= N; i++) {\n\t\t\tString s = in.nextLine();\n\t\t\tboolean result = isHappy(s);\n\t\t\tint ind = result ? 0 : 1;\n\t\t\tSystem.out.printf(\"%s %s\\n\", s, ss[ind]);\n\t\t}\n\n\t}\n\n\tprivate static boolean isHappy(String s) {\n\t\tList<Integer> list = toCombin(s);\n\t\tList<String> outList = new ArrayList<String>();\n\t\toutList.add(s);\n\t\trecursiveHappy(list, outList);\n\n\t\tif (isDebug) {\n\t\t\tSystem.err.println(outList);\n\t\t}\n\n\t\tif (outList.get(outList.size() - 1).equals(\"1\")) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tprivate static void recursiveHappy(List<Integer> inList, List<String> outList) {\n\n\t\tint sum = 0;\n\t\tfor (int a : inList) {\n\t\t\tsum += a * a;\n\t\t}\n\n\t\tif (outList.size() > 17) {\n\t\t\toutList.add(String.valueOf(sum));\n\t\t\treturn;\n\t\t}\n\n\t\tif (sum == 1) {\n\t\t\toutList.add(String.valueOf(sum));\n\t\t\treturn;\n\t\t}\n\n\t\telse if (outList.contains(sum)) {\n\t\t\toutList.add(String.valueOf(sum));\n\t\t\treturn;\n\t\t}\n\n\t\telse {\n\t\t\toutList.add(String.valueOf(sum));\n\t\t\trecursiveHappy(toCombin(sum), outList);\n\t\t}\n\n\t}\n\n\tprivate static List<Integer> toCombin(int x) {\n\t\treturn toCombin(String.valueOf(x));\n\t}\n\n\tprivate static List<Integer> toCombin(String s) {\n\t\tList<Integer> list = new ArrayList<>();\n\t\tfor (int i = 0; i < s.length(); i++) {\n\t\t\tint a = s.charAt(i) - '0';\n\t\t\tif (a > 0) {\n\t\t\t\tlist.add(a);\n\t\t\t}\n\t\t}\n\t\treturn list;\n\t}\n}\n\n",
      "statement": "A <<happy number>> is defined by the following process: \nStarting with any positive integer, replace the number by the sum of the squares of its digits in base-ten, and repeat the process until the number either equals 1 (where it will stay), or it loops endlessly in a cycle that does not include 1. Those numbers for which this process ends in 1 are <<happy>> numbers, while those that do not end in 1 are <<unhappy>> numbers.\n\nGiven a list of numbers, classify each of them as happy or unhappy.",
      "testCases": [
        {
          "title": "Simple",
          "isTest": true,
          "testIn": "2\n23\n24",
          "testOut": "23 :)\n24 :(",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "2\n193\n923",
          "testOut": "193 :)\n923 :)",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Moderate",
          "isTest": true,
          "testIn": "10\n707\n761\n6673\n1121\n2136\n8430\n8517\n17990\n44116\n29378",
          "testOut": "707 :(\n761 :)\n6673 :)\n1121 :)\n2136 :(\n8430 :(\n8517 :)\n17990 :(\n44116 :)\n29378 :(",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "10\n249\n993\n420\n5725\n5715\n2111\n22559\n20735\n18693\n94188",
          "testOut": "249 :(\n993 :(\n420 :(\n5725 :)\n5715 :)\n2111 :)\n22559 :)\n20735 :(\n18693 :(\n94188 :)",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Serious",
          "isTest": true,
          "testIn": "50\n28884069\n15255918\n793890065\n792142779\n261459860\n102194468\n689404468\n424636898\n3473612215\n8508737225\n9624733145\n5408096980\n9374416212\n7110522176\n16709665649\n89916858321\n85386779618\n61194262999\n30570163977\n328117912160\n476021531779\n522129642021\n555715256074\n376076639847\n424232326704\n3680723624740\n4829572012207\n7912847312948\n1958247411739\n4468024943629\n1896681012468\n8449858244539\n7453509141438\n726599288606651\n403059553008706\n963464505020791\n689157844164490\n741388486974838\n640939128580935\n922646128289853\n249308690059039\n681461258122668\n3620954018480818\n4911635098482485\n4082128031442855\n27710236654501553\n56367211052451312\n27692580770914876\n16525534153749833\n697719833245520439",
          "testOut": "28884069 :)\n15255918 :)\n793890065 :(\n792142779 :(\n261459860 :)\n102194468 :)\n689404468 :)\n424636898 :)\n3473612215 :(\n8508737225 :)\n9624733145 :(\n5408096980 :)\n9374416212 :(\n7110522176 :(\n16709665649 :)\n89916858321 :(\n85386779618 :)\n61194262999 :(\n30570163977 :(\n328117912160 :(\n476021531779 :)\n522129642021 :(\n555715256074 :)\n376076639847 :(\n424232326704 :)\n3680723624740 :(\n4829572012207 :)\n7912847312948 :(\n1958247411739 :)\n4468024943629 :)\n1896681012468 :)\n8449858244539 :(\n7453509141438 :(\n726599288606651 :(\n403059553008706 :(\n963464505020791 :)\n689157844164490 :(\n741388486974838 :(\n640939128580935 :)\n922646128289853 :(\n249308690059039 :)\n681461258122668 :)\n3620954018480818 :(\n4911635098482485 :(\n4082128031442855 :)\n27710236654501553 :(\n56367211052451312 :(\n27692580770914876 :)\n16525534153749833 :)\n697719833245520439 :(",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "50\n25787695\n46303196\n41363033\n93203105\n75126921\n89203954\n36582892\n405777235\n621691144\n839797919\n720765466\n742664821\n409763188\n205163169\n7437310634\n5883481273\n8118452155\n4519539993\n2593914415\n6453526280\n3137124521\n60442700109\n28346351405\n82071298005\n898520939570\n802469429963\n294121231472\n180067333892\n3772457949439\n7074344335290\n73767123351561\n466430434687099\n667809180552887\n453172325521085\n872852168490605\n665115366302772\n502720119390917\n629829015128402\n700799641595896\n868019687161328\n719478114755637\n950970958962475\n3315984050635368\n2649497874471667\n3111340942057962\n8585180303549900\n7264733613125712\n44698475465771113\n637967979015036915\n675181538740145238",
          "testOut": "25787695 :(\n46303196 :)\n41363033 :(\n93203105 :)\n75126921 :(\n89203954 :)\n36582892 :(\n405777235 :)\n621691144 :)\n839797919 :)\n720765466 :(\n742664821 :)\n409763188 :)\n205163169 :)\n7437310634 :(\n5883481273 :(\n8118452155 :)\n4519539993 :)\n2593914415 :(\n6453526280 :)\n3137124521 :(\n60442700109 :)\n28346351405 :(\n82071298005 :(\n898520939570 :(\n802469429963 :(\n294121231472 :)\n180067333892 :)\n3772457949439 :(\n7074344335290 :(\n73767123351561 :(\n466430434687099 :(\n667809180552887 :(\n453172325521085 :(\n872852168490605 :)\n665115366302772 :)\n502720119390917 :)\n629829015128402 :(\n700799641595896 :(\n868019687161328 :(\n719478114755637 :(\n950970958962475 :)\n3315984050635368 :)\n2649497874471667 :(\n3111340942057962 :(\n8585180303549900 :)\n7264733613125712 :)\n44698475465771113 :)\n637967979015036915 :)\n675181538740145238 :(",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Watch out the limit",
          "isTest": true,
          "testIn": "30\n2712939616709395196\n8773540098233661513\n2404277834568699974\n8590412756910685593\n2701881001870295366\n7507778876190050823\n82754144591389495778\n56062096111521716941\n23309561455834016944\n73841907787177547505\n412089832041649792031\n573794892563725215304\n738562319252459387961\n929488123610466618818\n5192096589413817601914\n6540732750664388235819\n1673294713959721837544\n8996034026865469420948\n9613726251606272557499\n1814749635202801516423\n43920529769043088306276\n57689917213067644516676\n32661878984662075102682\n95945151456802793475006\n432579896155690172763949\n588057966438396711424634\n8094037048931853415852396\n7258445777006001314818367\n4282163185033880782108704\n7668897902037856608492414",
          "testOut": "2712939616709395196 :)\n8773540098233661513 :)\n2404277834568699974 :(\n8590412756910685593 :)\n2701881001870295366 :(\n7507778876190050823 :(\n82754144591389495778 :)\n56062096111521716941 :(\n23309561455834016944 :(\n73841907787177547505 :(\n412089832041649792031 :(\n573794892563725215304 :(\n738562319252459387961 :)\n929488123610466618818 :(\n5192096589413817601914 :)\n6540732750664388235819 :)\n1673294713959721837544 :(\n8996034026865469420948 :(\n9613726251606272557499 :(\n1814749635202801516423 :(\n43920529769043088306276 :)\n57689917213067644516676 :)\n32661878984662075102682 :)\n95945151456802793475006 :)\n432579896155690172763949 :(\n588057966438396711424634 :(\n8094037048931853415852396 :(\n7258445777006001314818367 :)\n4282163185033880782108704 :)\n7668897902037856608492414 :)",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "30\n7380849730833068590\n7863414585841086107\n5848098699972394045\n8735964289529084333\n9650315609047017698\n5365182979348956640\n31087126591066891200\n60179168850415948684\n66846453364485982018\n55036710402259265025\n498230529736860468726\n408797095797052218250\n809884427365885689821\n576295204438964304688\n273053255141635679074\n610994423696238755046\n1271367986072324870780\n5909452660632187767066\n3404977539681770929872\n86898136928943271422412\n34578093081647500941090\n77338792926335936491776\n26047932721539555892135\n26794199267607606193783\n795072491100126129649671\n617100972104839914527828\n974708805600693697995645\n7943708526756902083561651\n2815178250802895012406305\n3868185935681529822119330",
          "testOut": "7380849730833068590 :(\n7863414585841086107 :)\n5848098699972394045 :)\n8735964289529084333 :(\n9650315609047017698 :(\n5365182979348956640 :(\n31087126591066891200 :(\n60179168850415948684 :(\n66846453364485982018 :(\n55036710402259265025 :(\n498230529736860468726 :)\n408797095797052218250 :)\n809884427365885689821 :(\n576295204438964304688 :(\n273053255141635679074 :)\n610994423696238755046 :(\n1271367986072324870780 :)\n5909452660632187767066 :)\n3404977539681770929872 :(\n86898136928943271422412 :)\n34578093081647500941090 :)\n77338792926335936491776 :)\n26047932721539555892135 :(\n26794199267607606193783 :(\n795072491100126129649671 :)\n617100972104839914527828 :)\n974708805600693697995645 :)\n7943708526756902083561651 :(\n2815178250802895012406305 :)\n3868185935681529822119330 :(",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Cocktail",
          "isTest": true,
          "testIn": "56\n1\n6\n8\n13\n60\n913\n489\n9768\n3456\n9287\n45989\n496788\n29840025\n36563801\n685085588\n486573009\n288146548\n832141076\n6655289706\n9292642007\n3164543188\n7075686538\n41016860297\n31880667802\n207830543655\n317953679941\n595732132210\n3006022391976\n63971626265480\n62716820370707\n96942799282405\n28937757750062\n663584110970655\n102333477995527\n6431283691796496\n8124956605750856\n7967549675787318\n9244681613480703\n30264592938637733\n50581183697787625\n413400408055457847\n2243749826573112126\n5465065846022765077\n24941709773598622563\n46210575821034680320\n73492006573113257836\n679927533571841532898\n767927314181270261102\n618090695302486224418\n9212317667882582203478\n1488465104453261835504\n2135952998394028928579\n56619771113193694039313\n598694184459454744118777\n699532697493580193107478\n1646476620141690717724578",
          "testOut": "1 :)\n6 :(\n8 :(\n13 :)\n60 :(\n913 :)\n489 :(\n9768 :)\n3456 :)\n9287 :(\n45989 :(\n496788 :)\n29840025 :(\n36563801 :(\n685085588 :)\n486573009 :)\n288146548 :(\n832141076 :(\n6655289706 :)\n9292642007 :(\n3164543188 :(\n7075686538 :(\n41016860297 :(\n31880667802 :(\n207830543655 :)\n317953679941 :(\n595732132210 :(\n3006022391976 :)\n63971626265480 :)\n62716820370707 :(\n96942799282405 :(\n28937757750062 :(\n663584110970655 :)\n102333477995527 :(\n6431283691796496 :)\n8124956605750856 :)\n7967549675787318 :)\n9244681613480703 :(\n30264592938637733 :)\n50581183697787625 :(\n413400408055457847 :)\n2243749826573112126 :(\n5465065846022765077 :(\n24941709773598622563 :(\n46210575821034680320 :(\n73492006573113257836 :(\n679927533571841532898 :(\n767927314181270261102 :(\n618090695302486224418 :(\n9212317667882582203478 :)\n1488465104453261835504 :)\n2135952998394028928579 :(\n56619771113193694039313 :)\n598694184459454744118777 :(\n699532697493580193107478 :(\n1646476620141690717724578 :)",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "50\n7\n8\n86\n10\n32\n10\n310\n913\n108\n3925\n57714\n204650\n3935999\n8869716\n5310265\n1305462\n81915006\n62187788\n37434030\n82893156\n357558526\n389679728\n429968695\n4614121900\n3273949923\n3402040497\n8390063700\n75860300187\n3830929637583\n7456574720517\n76083067902031\n43231406433477\n84658586744469\n566855069295730\n293024126836742\n6987862321189978\n2481331054005573\n8550506486727537\n52611351637349120\n633736527285728075\n4280271021537705216\n7923785328480252021\n74692295997080392994\n342639328902349085500\n3635171293808307965209\n4610726264688936129498\n2411843019493615815308\n89073551194714198974652\n3547617484839572359410360\n7547346898512036957709921",
          "testOut": "7 :)\n8 :(\n86 :)\n10 :)\n32 :)\n10 :)\n310 :)\n913 :)\n108 :(\n3925 :(\n57714 :(\n204650 :(\n3935999 :)\n8869716 :)\n5310265 :)\n1305462 :)\n81915006 :)\n62187788 :)\n37434030 :(\n82893156 :(\n357558526 :)\n389679728 :(\n429968695 :(\n4614121900 :(\n3273949923 :(\n3402040497 :(\n8390063700 :(\n75860300187 :(\n3830929637583 :)\n7456574720517 :(\n76083067902031 :)\n43231406433477 :)\n84658586744469 :(\n566855069295730 :)\n293024126836742 :(\n6987862321189978 :(\n2481331054005573 :(\n8550506486727537 :(\n52611351637349120 :(\n633736527285728075 :(\n4280271021537705216 :(\n7923785328480252021 :(\n74692295997080392994 :(\n342639328902349085500 :(\n3635171293808307965209 :)\n4610726264688936129498 :(\n2411843019493615815308 :(\n89073551194714198974652 :(\n3547617484839572359410360 :(\n7547346898512036957709921 :(",
          "isValidator": true,
          "needValidation": false
        }
      ],
      "difficulty": "easy",
      "constraints": "1 ≤ [[N]] ≤ 100\n0 < each number ≤ 10^26",
      "coverBinaryId": 32107189653971,
      "stubGenerator": "read N:int\nloop N read x:string(128)\nwrite 23 :)",
      "inputDescription": "<<Line 1:>> An integer [[N]] for the number of numbers to test.\n<<Following [[N]] Lines>>: Each line has a non-zero positive integer you should test whether it is happy or not.\n\nBe aware that some input numbers are really BIG, much bigger than your Integer types can handle. Find a way to overcome it.",
      "solutionLanguage": "Java",
      "outputDescription": "Output [[N]] lines.\nFollowing the same order as inputs, each line starts with a given number from the list, a space, and then an ascii art {{<<:)>>}} or {{<<:(>>}} to indicate this number is happy or unhappy."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">A <strong>happy number</strong> is defined by the following process: <br>Starting with any positive integer, replace the number by the sum of the squares of its digits in base-ten, and repeat the process until the number either equals 1 (where it will stay), or it loops endlessly in a cycle that does not include 1. Those numbers for which this process ends in 1 are <strong>happy</strong> numbers, while those that do not end in 1 are <strong>unhappy</strong> numbers.<br><br>Given a list of numbers, classify each of them as happy or unhappy.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> An integer <var>N</var> for the number of numbers to test.<br><strong>Following <var>N</var> Lines</strong>: Each line has a non-zero positive integer you should test whether it is happy or not.<br><br>Be aware that some input numbers are really BIG, much bigger than your Integer types can handle. Find a way to overcome it.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">Output <var>N</var> lines.<br>Following the same order as inputs, each line starts with a given number from the list, a space, and then an ascii art <const><strong>:)</strong></const> or <const><strong>:(</strong></const> to indicate this number is happy or unhappy.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">1 &le; <var>N</var> &le; 100<br>0 &lt; each number &le; 10^26</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">2\n23\n24</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">23 :)\n24 :(</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 206097842968,
  "avatar": 13281799951852,
  "commentCount": 3,
  "upVotes": 5,
  "downVotes": 0,
  "validateAction": {
    "actionId": 369076,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}