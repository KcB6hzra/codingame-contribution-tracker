{
  "id": 5503,
  "activeVersion": 6,
  "score": 17,
  "votableId": 15189262,
  "codingamerId": 1500515,
  "views": 646,
  "commentableId": 15105941,
  "title": "Sokoban",
  "status": "ACCEPTED",
  "type": "PUZZLE_SOLO",
  "nickname": "eulerscheZahl",
  "publicHandle": "5503f84edfcd721cec6c3352404e89bb9022",
  "codingamerHandle": "8374201b6f1d19eb99d61c80351465b65150051",
  "lastVersion": {
    "version": 6,
    "autocloseTime": 1603993362972,
    "data": {
      "title": "Sokoban",
      "topics": [
        {
          "id": 186,
          "handle": "maze",
          "labelMap": {
            "1": "maze",
            "2": "maze"
          },
          "puzzleCount": 5,
          "parentTopicId": 93
        },
        {
          "id": 68,
          "handle": "pathfinding",
          "labelMap": {
            "1": "Recherche de chemins",
            "2": "Pathfinding"
          },
          "pageTitle": "Pathfinding: exercises and theory",
          "puzzleCount": 26,
          "parentTopicId": 41,
          "contentDetailsId": 69
        },
        {
          "id": 54,
          "handle": "BFS",
          "labelMap": {
            "1": "Parcours en largeur",
            "2": "BFS"
          },
          "pageTitle": "BFS: exercises and theory",
          "puzzleCount": 9,
          "parentTopicId": 41,
          "contentDetailsId": 84
        }
      ],
      "difficulty": "hard",
      "refereeMd5": "1500515/fb1ca040d6bf913b46a31734ac5344d5",
      "testHandle": "8555566a6bfee149733c36f8d98b4749f0d30b",
      "viewerCode": "var Drawer=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";n.r(e),n.d(e,\"Drawer\",(function(){return Mn}));var r={baseUrl:\"https://cdn-games.codingame.com/community/1500515-1601400741134/\",images:{\"crateUnsolved.png\":\"9d456cd1f4a841882fd430fd3cd81af79fbb12cdea8cbafa6e1acab43e84526a.png\",\"R2.png\":\"750be0548d871573edab7f9b6cf01909baf14dde42024e1041b9a4426b1d360c.png\",\"R1.png\":\"a250f1c451ef32fe76f185d73df13b2e8d0acc35f1afd24081d4f491831b27e6.png\",\"crateSolved.png\":\"b22d1135d5fe33fe882996ff1d7b208fb87bc1ca285a33d73a045a55ef84389d.png\",\"wall.png\":\"c1e8f6a61a3ffd45fad83c7ca7cde65e4627194534673aba4ade9e013facb2db.png\",\"R3.png\":\"b0272e948dae739e7a839dd65e051b6354b029d866d265244c634118510ed4ae.png\",\"L1.png\":\"5ef631edcdd10c5b18e4affaffffe0554e4b7752d6b0c75f73be5a14b95b7524.png\",\"D3.png\":\"130089942f6d0e851da603545836943f9209286bb5390f007867624f6bab9a81.png\",\"D2.png\":\"40f65e4a7c8a046430a7074dd05e3ce515b6cf011415ec3fa7d5695f10f4b3c5.png\",\"target.png\":\"c531d5ca0a2e1bb310a8f140e549cdbc828147cbea0ef3095aeb70fe40eab395.png\",\"outside.png\":\"894c4d436d7f3ad3fabb793ad5557698a527ab242fedaaadb0223024f48d0494.png\",\"D1.png\":\"20fb2d37320ee71bf47baf8b7bc69735b1d5677e1397283d53de9b794b8effac.png\",\"L3.png\":\"24188af1e5c04b6e1841630e3c8318402e6da8ee8b1fb78e804fc3c8d1f26007.png\",\"U1.png\":\"63e807da5979d24707f97966d41914c6d55001a8ebc983e6a191c7ad2edf3965.png\",\"ground.png\":\"45f9b39346272542d73656d490fa276e57dd34117d889baacab6a59082e4ba40.png\",\"U2.png\":\"e25b60f6bd32e23db880f04b3468e1a7fb50a202b66774d700afd32f9855c058.png\",\"L2.png\":\"c62605066228adce31483b8660e4c522253315adb1fe293c95a3e2e001381c05.png\",\"U3.png\":\"52d416925d24b874e40c23ad20c983e49ef8bea0686576ba5ac942cc1ff29105.png\"},sprites:[],fonts:[]};function o(t,e,n){return t<=e?t+(e-t)*n:e+(t-e)*(1-n)}function i(t,e,n){return Math.min(1,Math.max(0,(n-(t=t))/(e-t)))}function a(t,e,n,r,o){return o=o||0,Math.min(n/(t+o),r/(e+o))}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=[],c=[],l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"listen\",value:function(t){if(\"function\"!=typeof t)throw new TypeError(t+\" is not a function\");c.push(t)}},{key:\"push\",value:function(t){s.push(t),c.forEach((function(e){return e(t)}))}}],null&&u(e.prototype,null),n&&u(e,n),t}();function f(t){return(f=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function p(t){var e=\"function\"==typeof Map?new Map:void 0;return(p=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return y(t,arguments,g(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,t)})(t)}function y(t,e,n){return(y=h()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&d(r,n.prototype),r}).apply(null,arguments)}function h(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,p(Error));var t=function(t){var e=h();return function(){var n,r=g(t);return n=e?(n=g(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==f(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,\"Invalid color token: there is no player at index \".concat(n,\". Make sure to use getColorToken() if you want the color of a specific player.\"))).playerIdx=n,o.cause=r,o.name=\"InvalidPlayerColorTokenError\",o}return e}();function v(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function S(t,e,n){return n<1?t:e}var x={type:Number,lerpMethod:function(t,e,n){return null===e?null:o((t={r:(16711680&t)>>16,g:(65280&t)>>8,b:255&t}).r,(e={r:(16711680&e)>>16,g:(65280&e)>>8,b:255&e}).r,n)<<16|o(t.g,e.g,n)<<8|o(t.b,e.b,n)},convert:function(t,e){var n=-(t+1);try{return t<0?e.players[n].color:t}catch(t){return l.push(new b(n)),16777215}}},O={type:String,lerpMethod:S,convert:j},w={type:Number,lerpMethod:function(t,e,n,r){for(;e>t+Math.PI;)e-=2*Math.PI;for(;e<t-Math.PI;)e+=2*Math.PI;return(n=void 0!==r&&Math.abs(e-t)>r?e:t+(e-t)*n)%(2*Math.PI)},convert:function(t){return t*Math.PI/180}},P={type:Number,lerpMethod:S},R=(n={type:function(t){return\"1\"===t},lerpMethod:S},e={type:Number,lerpMethod:function(t,e,n){return e<t?e:o(t,e,n)}},{default:{type:Number,lerpMethod:o},visible:n,rotation:w,skewX:w,skewY:w,fillColor:x,lineColor:x,strokeColor:x,tint:x,animationProgressTime:e,maxWidth:P,mask:P,baseWidth:P,baseHeight:P,image:O,images:O,scaleMode:O,restarted:{type:String,convert:function(t,e,n,r){return t?{date:n.date+r*n.frameDuration}:null},lerpMethod:S},playing:n,duration:P,blendMode:P,loop:n,text:m(m({},O),{},{convert:function(t,e){t=j(t);for(var n=/\\$(\\d)/g,r=n.exec(t),o=\"\",i=0;r;)r[1]<e.players.length&&(o+=t.substring(i,r.index),o+=e.players[+r[1]].name),i=r.index+r[0].length,r=n.exec(t);return o+t.substring(i)}}),textAlign:m(m({},O),{},{convert:function(t){return{0:\"left\",1:\"center\",2:\"right\"}[t]}}),fontFamily:O,fontWeight:O,children:m(m({},O),{},{convert:function(t){return t?t.split(\",\").map((function(t){return+t})):[]}}),points:m(m({},O),{},{convert:function(t){return t?t.split(\",\").map((function(t){return parseInt(t)})):[]},lerpMethod:function(t,e,n){return t.length===e.length?t.map((function(t,r){return o(t,e[r],n)})):S(t,e,n)}})});function j(t){return(t=t.split(\"\\\\'\").join(\"'\")).includes(\" \")||t.includes(\";\")||t.includes(\"\\n\")?t.slice(1,t.length-1):t}function E(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _(t){return(_=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var T=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.defaultState={x:0,y:0,scaleX:1,scaleY:1,skewX:0,skewY:0,zIndex:0,alpha:1,visible:!1,rotation:0,mask:-1},this.states={}}var e,n,r;return e=t,r=[{key:\"createState\",value:function(t,e,n){return n=2<arguments.length&&void 0!==n?n:{},D(D({t:0<arguments.length&&void 0!==t?t:1},1<arguments.length&&void 0!==e?e:{}),{},{curve:n})}}],(n=[{key:\"init\",value:function(){this.properties=Object.keys(this.defaultState),this.initDisplay(),this.currentState=Object.assign({},this.defaultState),\"object\"===_(this.graphics)&&this.container.addChild(this.graphics)}},{key:\"setHidden\",value:function(t){this.hide=t,this.container.visible=this.currentState.visible&&!this.hide}},{key:\"addState\",value:function(e,n,r){this.states[r]||(this.states[r]=[]);var o=t.createState(e,n.values,n.curve);(n=this.states[r].find((function(t){return t.t===e})))&&0===Object.keys(o.curve).length&&(o.curve=n.curve),n?(F(o)||F(n)||l.push(new Error(\"Different updates for same t \"+e)),Object.assign(n,o)):this.states[r].push(o)}},{key:\"set\",value:function(t,e,n){this.addState(t,e,n)}},{key:\"render\",value:function(t,e,n){var r=this.states[e.number];this.container.visible=!1;var o,a=null,u=1;if(r&&r.length){for(var s=0;s<r.length-1&&r[s].t<t;)s++;if(a=r[s-1],o=r[s],a)u=i(a.t,o.t,t);else{var c=Object.keys(this.states),l=c.indexOf(e.number.toString())-1;for(-1===l&&(l=c.length-1);0<=l&&c[l]>=e.number;)l--;var f=this.states[c[l]]||[];u=!(a=f[f.length-1])&&t>=o.t?(a=o,1):i(0,o.t,t)}}else{for(var p=Object.keys(this.states),y=p.length-1;0<=y&&p[y]>e.number;)y--;null!=(f=this.states[p[y]])?o=a=f[f.length-1]:Object.assign(this.currentState,this.defaultState)}if(a){var h={},d=Object.assign({},this.currentState),g=function(t,e){var n;if(\"undefined\"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(this.properties);try{for(g.s();!(m=g.n()).done;){var b=m.value,v=(R[b]||R.default).lerpMethod,m=o.curve[b]||function(t){return t};(m=v(a[b],o[b],m(u)))!==this.currentState[b]&&(h[b]=!0,d[b]=m)}}catch(t){g.e(t)}finally{g.f()}this.updateDisplay(d,h,n,e,t),Object.assign(this.currentState,d),this.container.visible=this.container._visible,h.children&&(n.mustResetTree=!0,\"function\"==typeof this.postUpdate&&n.updatedBuffers.push(this)),h.zIndex&&(n.mustResort=!0),h.mask&&(n.maskUpdates[this.id]=d.mask),0!==Object.keys(h).length&&this.parent&&this.parent.notifyChange()}}},{key:\"notifyChange\",value:function(){this.parent&&this.parent.notifyChange()}},{key:\"initDisplay\",value:function(){this.container=new PIXI.Container,this.container.zIndex=this.defaultState.zIndex,this.container.id=this.id,this.container._visible=this.defaultState.visible}},{key:\"updateDisplay\",value:function(t,e,n){this.container.zIndex=t.zIndex,this.container.alpha=t.alpha,(e.x||e.y)&&this.container.position.set(t.x*n.toWorldUnits,t.y*n.toWorldUnits),(e.scaleX||e.scaleY)&&this.container.scale.set(t.scaleX||1e-8,t.scaleY||1e-8),this.container.rotation=t.rotation,this.container._visible=t.visible&&!this.hide,this.container.skew.set(t.skewX,t.skewY)}}])&&I(e.prototype,n),r&&I(e,r),t}();function F(t){return Object.keys(t).length===Object.keys(T.createState()).length}function A(t){return(A=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function C(t,e,n){return(C=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=W(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U(t,e,n){return e&&M(t.prototype,e),n&&M(t,n),t}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var H=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X(t,e)}(e,T);var t=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=W(t);return n=e?(n=W(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==A(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(){var n;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),n=t.call(this),Object.assign(n.defaultState,{fillColor:e.defaultFillColor(),lineWidth:e.defaultLineWidth(),lineColor:e.defaultLineColor(),fillAlpha:e.defaultFillAlpha(),lineAlpha:e.defaultLineAlpha(),blendMode:PIXI.BLEND_MODES.NORMAL}),n}return U(e,null,[{key:\"defaultLineWidth\",value:function(){return 0}},{key:\"defaultFillColor\",value:function(){return 16777215}},{key:\"defaultLineColor\",value:function(){return 0}},{key:\"defaultLineAlpha\",value:function(){return 1}},{key:\"defaultFillAlpha\",value:function(){return 1}}]),U(e,[{key:\"initDisplay\",value:function(){C(W(e.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Graphics,this.graphics.lineStyle(this.defaultState.lineWidth,this.defaultState.lineColor,this.defaultState.lineAlpha),null!==this.defaultState.fillColor&&this.graphics.beginFill(this.defaultState.fillColor,this.defaultState.fillAlpha)}},{key:\"updateDisplay\",value:function(t,n,r){C(W(e.prototype),\"updateDisplay\",this).call(this,t,n,r),this.graphics.blendMode=t.blendMode}}]),e}();function Y(t){return(Y=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function L(t,e,n){return(L=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=z(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function K(t,e,n){return e&&B(t.prototype,e),n&&B(t,n),t}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function z(t){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var N=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(e,H);var t=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=z(t);return n=e?(n=z(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Y(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(){var n;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(n=t.call(this)).defaultState.radius=e.defaultRadius(),n}return K(e,null,[{key:\"defaultRadius\",value:function(){return 100}}]),K(e,[{key:\"initDisplay\",value:function(){L(z(e.prototype),\"initDisplay\",this).call(this),this.graphics.drawCircle(0,0,this.defaultState.radius),null!==this.defaultState.fillColor&&this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,n,r){L(z(e.prototype),\"updateDisplay\",this).call(this,t,n,r),(n.radius||n.lineColor||n.lineWidth||n.fillColor||n.fillAlpha||n.lineAlpha)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor),this.graphics.drawCircle(0,0,t.radius*r.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}]),e}();function q(t){return(q=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function V(t,e,n){return(V=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=tt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q(t,e,n){return e&&J(t.prototype,e),n&&J(t,n),t}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tt(t){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var et=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(e,H);var t=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=tt(t);return n=e?(n=tt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==q(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(){var n;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(n=t.call(this)).defaultState.x2=e.defaultPosition(),n.defaultState.y2=e.defaultPosition(),n}return Q(e,null,[{key:\"defaultPosition\",value:function(){return 100}}]),Q(e,[{key:\"initDisplay\",value:function(){V(tt(e.prototype),\"initDisplay\",this).call(this)}},{key:\"updateDisplay\",value:function(t,n,r){V(tt(e.prototype),\"updateDisplay\",this).call(this,t,n,r),(n.lineWidth||n.lineColor||n.lineAlpha||n.x2||n.y2||n.x||n.y)&&(this.graphics.clear(),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.moveTo(0,0),this.graphics.lineTo(-this.container.x+t.x2*r.toWorldUnits,-this.container.y+t.y2*r.toWorldUnits))}}]),e}();function nt(t){return(nt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function rt(t,e,n){return(rt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ut(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function it(t,e,n){return e&&ot(t.prototype,e),n&&ot(t,n),t}function at(t,e){return(at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ut(t){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var st=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&at(t,e)}(e,H);var t=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ut(t);return n=e?(n=ut(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==nt(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(){var n;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),n=t.call(this),Object.assign(n.defaultState,{width:e.defaultSideLength(),height:e.defaultSideLength()}),n}return it(e,null,[{key:\"defaultSideLength\",value:function(){return 100}}]),it(e,[{key:\"initDisplay\",value:function(){rt(ut(e.prototype),\"initDisplay\",this).call(this),this.graphics.drawRect(0,0,this.defaultState.width,this.defaultState.height),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,n,r){rt(ut(e.prototype),\"updateDisplay\",this).call(this,t,n,r),(n.lineWidth||n.lineColor||n.width||n.height||n.lineAlpha||n.fillColor)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawRect(0,0,t.width*r.toWorldUnits,t.height*r.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}]),e}();function ct(t){return(ct=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function lt(t,e,n){return(lt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ht(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pt(t,e,n){return e&&ft(t.prototype,e),n&&ft(t,n),t}function yt(t,e){return(yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ht(t){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}(e,T);var t=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ht(t);return n=e?(n=ht(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==ct(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(){var n;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),n=t.call(this),Object.assign(n.defaultState,{anchorX:e.defaultAnchor(),anchorY:e.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215}),n}return pt(e,null,[{key:\"defaultAnchor\",value:function(){return 0}}]),pt(e,[{key:\"initDisplay\",value:function(){lt(ht(e.prototype),\"initDisplay\",this).call(this)}},{key:\"updateDisplay\",value:function(t,n,r){lt(ht(e.prototype),\"updateDisplay\",this).call(this,t,n,r),this.graphics.anchor.set(t.anchorX,t.anchorY),this.graphics.blendMode=t.blendMode,this.graphics.tint=t.tint}}]),e}();function gt(t){return(gt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function bt(t){var e=\"function\"==typeof Map?new Map:void 0;return(bt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return vt(t,arguments,xt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),St(r,t)})(t)}function vt(t,e,n){return(vt=mt()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&St(r,n.prototype),r}).apply(null,arguments)}function mt(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function St(t,e){return(St=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xt(t){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ot=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&St(t,e)}(e,bt(Error));var t=function(t){var e=mt();return function(){var n,r=xt(t);return n=e?(n=xt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==gt(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,'Could not find image: \"'+n+'\". Make sure it is in your assets folder and is spelled correctly.')).image=n,o.cause=r,o.name=\"MissingImageError\",o}return e}();function wt(t){return(wt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rt(t,e,n){return(Rt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Et(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function jt(t,e){return(jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Et(t){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jt(t,e)}(r,dt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Et(t);return n=e?(n=Et(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==wt(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{image:null,baseWidth:null,baseHeight:null,scaleMode:\"LINEAR\"}),t.missingTextures={},t}return t=r,(e=[{key:\"updateDisplay\",value:function(t,e,n){if(Rt(Et(r.prototype),\"updateDisplay\",this).call(this,t,e,n),e.image)try{null!==t.image?this.graphics.texture=PIXI.Texture.fromFrame(t.image):this.graphics.texture=PIXI.Texture.EMPTY,this.graphics.texture.baseTexture.scaleMode=PIXI.SCALE_MODES[t.scaleMode]}catch(e){this.missingTextures[t.image]||(this.missingTextures[t.image]=!0,l.push(new Ot(t.image,e)))}e.baseWidth&&(this.graphics.width=t.baseWidth),e.baseHeight&&(this.graphics.height=t.baseHeight)}}])&&Pt(t.prototype,e),r}();function kt(t){return(kt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function It(t,e,n){return(It=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ft(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Tt(t,e){return(Tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ft(t){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var At=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tt(t,e)}(r,Dt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ft(t);return n=e?(n=Ft(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==kt(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),n.apply(this,arguments)}return t=r,(e=[{key:\"initDisplay\",value:function(){It(Ft(r.prototype),\"initDisplay\",this).call(this),null===this.defaultState.image?this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY):this.graphics=PIXI.Sprite.fromFrame(this.defaultState.image)}}])&&_t(t.prototype,e),r}();function Ct(t,e){if(t.width>e)for(;3<t.text.length&&t.width>e;)t.text=t.text.slice(0,-4)+\"...\"}function Mt(t){return(Mt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xt(t,e,n){return(Xt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ht(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Wt(t,e){return(Wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ht(t){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Yt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wt(t,e)}(r,dt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ht(t);return n=e?(n=Ht(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Mt(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{text:\"\",textAlign:\"left\",strokeColor:0,strokeThickness:0,fillColor:0,fontSize:26,fontFamily:\"Lato\",fontWeight:\"normal\",maxWidth:0}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){Xt(Ht(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Text(this.defaultState.text,{align:this.defaultState.textAlign,fontSize:this.defaultState.fontSize+\"px\",fontFamily:this.defaultState.fontFamily,fill:this.defaultState.fillColor})}},{key:\"updateDisplay\",value:function(t,e,n){Xt(Ht(r.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.style.align=t.textAlign,this.graphics.style.stroke=t.strokeColor,this.graphics.style.strokeThickness=t.strokeThickness,this.graphics.style.fill=t.fillColor,this.graphics.style.fontSize=t.fontSize||1,this.graphics.style.fontFamily=t.fontFamily,this.graphics.style.fontWeight=t.fontWeight,(e.text||e.strokeThickness||e.fontSize||e.fontFamily||e.fontWeight||e.maxWidth||e.maxWidth)&&(this.graphics.text=t.text,t.maxWidth&&Ct(this.graphics,t.maxWidth))}}])&&Ut(t.prototype,e),r}();function Lt(t){return(Lt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Bt(t){var e=\"function\"==typeof Map?new Map:void 0;return(Bt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Kt(t,arguments,Nt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),zt(r,t)})(t)}function Kt(t,e,n){return(Kt=Gt()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&zt(r,n.prototype),r}).apply(null,arguments)}function Gt(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function zt(t,e){return(zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nt(t){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zt(t,e)}(e,Bt(Error));var t=function(t){var e=Gt();return function(){var n,r=Nt(t);return n=e?(n=Nt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Lt(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,'Could not find font: \"'+n+'\". Make sure it is in your assets folder and is spelled correctly.')).font=n,o.cause=r,o.name=\"MissingBitmapFontError\",o}return e}();function $t(t){return($t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jt(t,e,n){return(Jt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Qt(t,e){return(Qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zt(t){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var te=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qt(t,e)}(r,T);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Zt(t);return n=e?(n=Zt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==$t(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{text:\"\",textAlign:\"left\",fontSize:26,fontFamily:null,anchorX:dt.defaultAnchor(),anchorY:dt.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215,maxWidth:0}),t.missingFonts={},t}return t=r,(e=[{key:\"initDisplay\",value:function(){Jt(Zt(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(t,e,n){Jt(Zt(r.prototype),\"updateDisplay\",this).call(this,t,e,n),null!==t.fontFamily?PIXI.extras.BitmapText.fonts[t.fontFamily]?(0===this.graphics.children.length?(this.displayed=new PIXI.extras.BitmapText(\"\",{font:{size:t.fontSize||1,name:t.fontFamily}}),this.graphics.addChild(this.displayed)):this.displayed.font={size:t.fontSize||1,name:t.fontFamily},this.displayed.anchor.set(t.anchorX,t.anchorY),this.displayed.blendMode=t.blendMode,this.displayed.tint=t.tint,this.displayed.align=t.textAlign,(e.text||e.maxWidth||e.fontSize||e.fontFamily)&&(this.displayed.text=t.text,t.maxWidth&&Ct(this.displayed,t.maxWidth))):(this.missingFonts[t.fontFamily]||(this.missingFonts[t.fontFamily]=!0,l.push(new qt(t.fontFamily))),this.graphics.removeChildren()):this.graphics.removeChildren()}}])&&Vt(t.prototype,e),r}();function ee(t){return(ee=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function re(t,e,n){return(re=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ie(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function oe(t,e){return(oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ie(t){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ae=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oe(t,e)}(r,T);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ie(t);return n=e?(n=ie(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==ee(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{children:[]}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){re(ie(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(t,e,n){re(ie(r.prototype),\"updateDisplay\",this).call(this,t,e,n)}},{key:\"childrenContainer\",get:function(){return this.graphics}}])&&ne(t.prototype,e),r}();function ue(t){return(ue=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function se(t,e){return(se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ce(t){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var le=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&se(t,e)}(e,ae);var t=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ce(t);return n=e?(n=ce(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==ue(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),t.apply(this,arguments)}return e}(),fe=null,pe=[],ye=1920,he=1080;function de(t){return(de=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function ge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function be(t,e,n){return(be=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=me(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function ve(t,e){return(ve=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function me(t){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Se=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ve(t,e)}(r,ae);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=me(t);return n=e?(n=me(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==de(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),n.apply(this,arguments)}return t=r,(e=[{key:\"initDisplay\",value:function(){var t;be(me(r.prototype),\"initDisplay\",this).call(this),this.gameTexture=PIXI.RenderTexture.create(ye,he),t=this.gameTexture,pe.push(t),this.graphics=new PIXI.Sprite(this.gameTexture),this.buffer=new PIXI.Container,this.needsRender=!0}},{key:\"postUpdate\",value:function(){this.needsRender&&(fe.render(this.buffer,this.gameTexture),this.needsRender=!1)}},{key:\"notifyChange\",value:function(){this.needsRender=!0,this.parent&&this.parent.notifyChange()}},{key:\"childrenContainer\",get:function(){return this.buffer}}])&&ge(t.prototype,e),r}();function xe(t){return(xe=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Oe(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function we(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oe(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Re(t,e,n){return(Re=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ee(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function je(t,e){return(je=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ee(t){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var De=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&je(t,e)}(r,dt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ee(t);return n=e?(n=Ee(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==xe(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{images:\"\",loop:!1,duration:1e3,playing:!0,restarted:null,animationProgress:0,date:0}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){Re(Ee(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY)}},{key:\"addState\",value:function(t,e,n,o){Re(Ee(r.prototype),\"addState\",this).call(this,t,e,n),n=this.states[n].find((function(e){return e.t===t})),o=o.date+o.frameDuration*t,n.date=o}},{key:\"updateDisplay\",value:function(t,e,n,o,i){if(Re(Ee(r.prototype),\"updateDisplay\",this).call(this,t,e,n),t.images){if(n=t.images.split(\",\"),0<=t.animationProgress){i=o.date+o.frameDuration*i,i=we(we({},t),{},{date:i}),this.computeAnimationProgressTime(t,i);i=Math.floor(n.length*i.animationProgress);var a=t.loop?n[i%n.length]:n[i]||n[n.length-1];try{this.graphics.texture=PIXI.Texture.fromFrame(a)}catch(t){l.push(new Ot(a,t))}}}else this.graphics.texture=PIXI.Texture.EMPTY}},{key:\"computeAnimationProgressTime\",value:function(t,e){e.restarted&&e.restarted.date===e.date?e.animationProgress=0:(e.animationProgress=t.animationProgress,t.playing&&(e.animationProgress+=(e.date-t.date)/t.duration))}}])&&Pe(t.prototype,e),r}();function ke(t){return(ke=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function _e(t,e,n){return(_e=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ae(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Te(t,e,n){return e&&Ie(t.prototype,e),n&&Ie(t,n),t}function Fe(t,e){return(Fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ae(t){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ce=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fe(t,e)}(e,H);var t=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ae(t);return n=e?(n=Ae(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==ke(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(){var n;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),n=t.call(this),Object.assign(n.defaultState,{width:e.defaultSideLength(),height:e.defaultSideLength(),radius:e.defaultRadius()}),n}return Te(e,null,[{key:\"defaultSideLength\",value:function(){return 100}},{key:\"defaultRadius\",value:function(){return 20}}]),Te(e,[{key:\"initDisplay\",value:function(){_e(Ae(e.prototype),\"initDisplay\",this).call(this),this.graphics.drawRoundedRect(0,0,this.defaultState.width,this.defaultState.height,this.defaultState.radius),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,n,r){_e(Ae(e.prototype),\"updateDisplay\",this).call(this,t,n,r),(n.lineWidth||n.lineColor||n.lineAlpha||n.fillColor||n.radius||n.height||n.width)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawRoundedRect(0,0,t.width*r.toWorldUnits,t.height*r.toWorldUnits,t.radius*r.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}]),e}();function Me(t){return(Me=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xe(t,e,n){return(Xe=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=He(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function We(t,e){return(We=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function He(t){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ye=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&We(t,e)}(r,H);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=He(t);return n=e?(n=He(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Me(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{points:[]}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){Xe(He(r.prototype),\"initDisplay\",this).call(this),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,e,n){Xe(He(r.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.lineWidth||e.lineColor||e.lineAlpha||e.fillColor||e.points)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawPolygon(t.points.map((function(t){return t*n.toWorldUnits}))),null!==t.fillColor&&this.graphics.endFill())}}])&&Ue(t.prototype,e),r}();function Le(t){return(Le=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ke(t,e,n){return(Ke=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ze(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Ge(t,e){return(Ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ze(t){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ne=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ge(t,e)}(r,Dt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ze(t);return n=e?(n=ze(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Le(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{tileX:0,tileY:0,tileScaleX:1,tileScaleY:1}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){Ke(ze(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.extras.TilingSprite(PIXI.Texture.EMPTY)}},{key:\"updateDisplay\",value:function(t,e,n){Ke(ze(r.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.tilePosition.x=t.tileX,this.graphics.tilePosition.y=t.tileY,this.graphics.tileScale.x=t.tileScaleX,this.graphics.tileScale.y=t.tileScaleY}}])&&Be(t.prototype,e),r}();function qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var $e=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"create\",value:function(t){var e={C:N,R:st,L:et,S:At,T:Yt,X:te,G:le,B:Se,A:De,K:Ce,P:Ye,D:Ne}[t];if(!e)throw new Error(\"Exception: entity type not found: \"+t);return new e}}],null&&qe(e.prototype,null),n&&qe(e,n),t}();function Ve(t){var e=1.70158,n=0,r=1;return 0===t?0:1==(t/=1)?1:(n=n||.3,e=r<Math.abs(1)?(r=1,n/4):n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*t)*Math.sin((+t-e)*(2*Math.PI)/n)+1)}function Je(t){return t<.5?2*t*t:(4-2*t)*t-1}function Qe(t){return Math.pow(t,3)}function Ze(t){return 1+Math.pow(t-1,3)}function tn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function en(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function nn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rn(t,e,n){return e&&nn(t.prototype,e),n&&nn(t,n),t}var on={r:\"rotation\",R:\"radius\",X:\"x2\",Y:\"y2\",w:\"width\",h:\"height\",t:\"tint\",f:\"fillColor\",F:\"fillAlpha\",c:\"lineColor\",W:\"lineWidth\",A:\"lineAlpha\",a:\"alpha\",i:\"image\",S:\"strokeThickness\",sc:\"strokeColor\",ff:\"fontFamily\",s:\"fontSize\",fw:\"fontWeight\",T:\"text\",ta:\"textAlign\",ch:\"children\",sx:\"scaleX\",sy:\"scaleY\",ax:\"anchorX\",ay:\"anchorY\",kx:\"skewX\",ky:\"skewY\",v:\"visible\",z:\"zIndex\",b:\"blendMode\",I:\"images\",rs:\"restarted\",p:\"playing\",l:\"loop\",d:\"duration\",bw:\"baseWidth\",bh:\"baseHeight\",ps:\"points\",tx:\"tileX\",ty:\"tileY\",tsx:\"tileScaleX\",tsy:\"tileScaleY\",sm:\"scaleMode\"};n=function(){function t(e,n){en(this,t),this.id=++n.instanceCount,this.type=e[0]}return rn(t,[{key:\"apply\",value:function(t){var e=$e.create(this.type);e.id=this.id,t.set(this.id,e)}}]),t}(),O=function(){function t(e,n){var o=(l=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return tn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tn(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}(e,8))[0],i=(e=l[1],l[2]),a=l[3],u=l[4],s=l[5],c=l[6],l=l[7];en(this,t),this.loader=new PIXI.loaders.Loader,\"0\"===i&&(i=PIXI.utils.TextureCache[e].width),\"0\"===a&&(a=PIXI.utils.TextureCache[e].height);for(var f=0<l?l:c,p={frames:{},meta:{image:(r.baseUrl||\"\")+r.images[e]}},y=0;y<c;y++){var h=1<c?o+y:o;p.frames[h]={frame:{x:i*s+y%f*i,y:a*u+Math.floor(y/f)*a,w:i,h:a},sourceSize:{w:i,h:a},rotated:!1,trimmed:!1}}e=\"data:text/json;charset=UTF-8,\"+JSON.stringify(p),PIXI.utils.TextureCache[e+\"_image\"]||this.loader.add(e,{crossOrigin:!0})}return rn(t,[{key:\"apply\",value:function(){var t=this;if(0<Object.keys(this.loader.resources).length)return new Promise((function(e){t.loader.load(),t.loader.on(\"complete\",e)}))}}]),t}();function an(t){return function(t){if(Array.isArray(t))return un(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return un(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?un(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function un(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var cn={C:n,U:function(){function t(e,n,r){en(this,t),this.id=+e[0],this.t=+e[1],this.params={},this.curve={};for(var o=2;o<e.length;){var i=on[e[o]]||e[o],a=R[i]||R.default,u=a.type(e[o+1]);\"function\"==typeof a.convert&&(u=a.convert(u,n,r,this.t)),a=t.curves[e[o+2]],this.params[i]=u,o+=2,a&&(this.curve[i]=a,o+=1)}}return rn(t,null,[{key:\"curves\",get:function(){return{_:function(t){return t<1?0:1},\"\":Je,\"\":Qe,\"\":Ze,\"~\":Ve,\"\":function(){return 1}}}}]),rn(t,[{key:\"apply\",value:function(t,e){(t=t.get(this.id)).addState(this.t,{values:this.params,curve:this.curve},e.number,e),t.stateAdded=!0}}]),t}(),L:O};function ln(t,e){for(var n=[],r=\"\",o=0,i=\"\",a=!1;o<t.length;){var u=t[o++];u===e?a?r+=u:(n.push(r),r=\"\"):\"'\"===u&&\"\\\\\"!==i?(a=!a,r+=u):\"\\\\\"===i?r+=\"'\"===u?\"\\\\'\":\"\\\\\"+u:\"\\\\\"!==u&&(r+=u),i=u}return n.push(r),n}var fn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"parse\",value:function(t,e,n){var r,o=[],i=ln(t,\"\\n\");for(r in i){var a=cn[i[r][0]];if(!a)throw new Error(\"Unrecognised command : \"+i[r][0]);o=[].concat(an(o),an(function(t,e,n,r){e=ln(e,\";\");var o=[];return e.forEach((function(e){return o.push(new t(ln(e,\" \"),n,r))})),o}(a,i[r].slice(1),e,n)))}return o}}],null&&sn(e.prototype,null),n&&sn(e,n),t}();function pn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function hn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yn(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var gn={};function bn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function vn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bn(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sn(t,e){var n;if(\"undefined\"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return xn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xn(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function xn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function On(t,e){return(e=function(t,e){if(t.states[e])return t.states[e];for(var n=Object.keys(t.states),r=n.length-1;0<=r&&n[r]>e;)r--;return t.states[n[r]]||[]}(t,e))&&e.length?e[e.length-1]:null}var wn=[function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.entities=new Map,this.frames=[],this.loadingAssets=0,this.extrapolationMap={},this.globalData={toWorldUnits:1,mustResetTree:!0,mustResort:!0,maskUpdates:{},updatedBuffers:[],players:[],instanceCount:0},gn.entities=this.entities}var e,n,r;return e=t,r=[{key:\"name\",get:function(){return\"entitymodule\"}}],(n=[{key:\"handleFrameData\",value:function(t,e){var n=this;!e||(r=fn.parse(e,this.globalData,t))&&r.forEach((function(e){(e=e.apply(n.entities,t))&&(n.loadingAssets++,e.then((function(){n.loadingAssets--})))}));var r=hn({},t);return r.previous=this.frames[this.frames.length-1]||r,this.extrapolate(r),r!==r.previous&&(r.previous.next=r),this.frames.push(r),r}},{key:\"lastElementOf\",value:function(t){return t[t.length-1]}},{key:\"extrapolate\",value:function(t){var e=this,n=t.number,r=t.previous.number;this.entities.forEach((function(o){var i,a;o.stateAdded&&(o.stateAdded=!1,o.states[n]||(o.states[n]=[]),e.extrapolationMap[o.id]||(e.extrapolationMap[o.id]=hn({},o.defaultState)),(i=o.states[n]).sort((function(t,e){return t.t-e.t})),i.length&&1===e.lastElementOf(i).t||o.addState(1,{},n,t),a=e.extrapolationMap[o.id],o.states[r]&&r!==n&&(a=o.states[r][o.states[r].length-1]),o.states[n]=i.map((function(t){return t=e.extrapolationMap[o.id]=hn(hn({},e.extrapolationMap[o.id]),t),\"function\"==typeof o.computeAnimationProgressTime&&o.computeAnimationProgressTime(a,t),a=t})))}))}},{key:\"reinitScene\",value:function(t,e){this.globalData.toPixel=ye/e.width*e.oversampling,this.globalData.mustResetTree=!0,gn.container=this.container=t,this.entities.forEach((function(t){t.init()}))}},{key:\"sortChildren\",value:function(t){t.children.sort((function(t,e){return t.zIndex===e.zIndex?t.id-e.id:t.zIndex-e.zIndex}))}},{key:\"stillLoading\",value:function(){return 0<this.loadingAssets}},{key:\"updateScene\",value:function(t,e,n){var r=this;if(!this.stillLoading()){for(var o in this.entities.forEach((function(t){return t.render(n,e,r.globalData)})),this.globalData.mustResetTree&&(this.reconstructTree(),this.globalData.mustResetTree=!1,this.globalData.mustResort=!0),this.globalData.mustResort&&(this.resortTree(),this.globalData.mustResort=!1),this.globalData.maskUpdates){var i=this.entities.get(+o),a=this.globalData.maskUpdates[o];i.container.mask=-1===a?null:this.entities.get(a).graphics}var u,s=function(t,e){var n;if(\"undefined\"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return pn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pn(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(this.globalData.updatedBuffers);try{for(s.s();!(u=s.n()).done;)u.value.postUpdate()}catch(t){s.e(t)}finally{s.f()}this.globalData.maskUpdates={}}}},{key:\"resortTree\",value:function(){var t=this;this.entities.forEach((function(e){e instanceof ae&&t.sortChildren(e.childrenContainer)})),this.sortChildren(this.container)}},{key:\"reconstructTree\",value:function(){var t=this;this.container.removeChildren(),this.entities.forEach((function(e){e instanceof ae&&(e.childrenContainer.removeChildren(),e.currentState.children.forEach((function(n){n=t.entities.get(n),e.childrenContainer.addChild(n.container),n.parent=e})))})),this.entities.forEach((function(e){e.container.parent||t.container.addChild(e.container)}))}},{key:\"handleGlobalData\",value:function(t,e){this.globalData.players=t,t=e.width,e=e.height,this.globalData.toWorldUnits=a(t,e,ye,he),gn.toWorldUnits=this.globalData.toWorldUnits,gn.hasOwnProperty(\"coeff\")||Object.defineProperty(gn,\"coeff\",{get:function(){var t='The \"coeff\" property of GraphicEntityModule\\'s API is deprecated, please use \"toWorldUnits\" instead',e=(new Error).stack;return console.groupCollapsed?(console.groupCollapsed(\"%cDeprecation Warning: %c%s\",\"color:#614108;background:#fffbe6\",\"font-weight:normal;color:#614108;background:#fffbe6\",t),console.warn(e),console.groupEnd()):console.warn(\"Deprecation Warning: \",t),gn.toWorldUnits}})}}])&&dn(e.prototype,n),r&&dn(e,r),t}(),function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.interactive={},this.previousFrame={registered:{}},this.lastProgress=1,this.lastFrame=0}var e,n,r;return e=t,r=[{key:\"name\",get:function(){return\"tooltips\"}}],(n=[{key:\"updateScene\",value:function(t,e,n){this.currentFrame=e,this.currentProgress=n}},{key:\"handleFrameData\",value:function(t,e){var n=this,r=(1<arguments.length&&void 0!==e?e:[])[0]||[];e=vn(vn({},this.previousFrame.registered),r);return Object.keys(r).forEach((function(t){n.interactive[t]=!0})),t={registered:e,number:t.number},this.previousFrame=t}},{key:\"reinitScene\",value:function(t){var e,n,r,o=this;this.tooltip=this.initTooltip(),gn.entities.forEach((function(t){var e,n,r,i,a,u;o.interactive[t.id]&&(t.container.interactive=!0,\"function\"==typeof(t.graphics&&t.graphics.containsPoint)?t.container.mousemove=(a=t,u=o.tooltip,function(t){a.graphics.containsPoint(t.data.global)?u.inside[a.id]=!0:delete u.inside[a.id]}):(t.container.mouseover=(r=t.id,i=o.tooltip,function(){i.inside[r]=!0}),t.container.mouseout=(e=t.id,n=o.tooltip,function(){delete n.inside[e]})))})),(this.container=t).interactive=!0,t.mousemove=(e=this.tooltip,n=t,r=this,function(t){if(e){t=t.data.getLocalPosition(n),e.x=t.x,e.y=t.y;var o=[],i=Sn(Object.keys(e.inside).map((function(t){return+t})));try{for(i.s();!(a=i.n()).done;){var a,u=a.value;e.inside[u]&&((a=gn.entities.get(u))&&On(a,r.currentFrame.number)?o.push(u):delete e.inside[u])}}catch(t){i.e(t)}finally{i.f()}if(o.length){var s=[],c=Sn(o);try{for(c.s();!(l=c.n()).done;){var l=l.value;null===On(gn.entities.get(l),r.currentFrame.number)||(l=r.currentFrame.registered[l])&&l.length&&\"0\"!==String(l).valueOf()&&(e.visible=!0,s.push(l))}}catch(t){c.e(t)}finally{c.f()}e.label.text=s.join(\"\\n\\n\")}else e.visible=!1;e.background.width=e.label.width+20,e.background.height=e.label.height+20,e.pivot.x=-30,e.pivot.y=-50,e.y-e.pivot.y+e.height>he&&(e.pivot.y=10+e.height,e.y-=e.y-e.pivot.y+e.height-he),e.x-e.pivot.x+e.width>ye&&(e.pivot.x=e.width)}}),t.addChild(this.tooltip)}},{key:\"generateText\",value:function(t,e,n,r){return(n=new PIXI.Text(t,{fontSize:Math.round(e/1.2)+\"px\",fontFamily:\"Lato\",fontWeight:\"bold\",fill:n})).lineHeight=Math.round(e/1.2),\"right\"===r?n.anchor.x=1:\"center\"===r&&(n.anchor.x=.5),n}},{key:\"initTooltip\",value:function(){var t=new PIXI.Container,e=t.background=new PIXI.Graphics,n=t.label=this.generateText(\"\",36,16777215,\"left\");return e.beginFill(0,.7),e.drawRect(0,0,200,185),e.endFill(),e.x=-10,e.y=-10,t.visible=!1,t.inside={},t.addChild(e),t.addChild(n),t.interactiveChildren=!1,t}}])&&mn(e.prototype,n),r&&mn(e,r),t}()],Pn={views:['KEY_FRAME 0\\n{\"global\":{\"entitymodule\":{\"width\":1920,\"height\":1080}},\"frame\":{\"duration\":300,\"entitymodule\":\"CG;A;S;S;S;S;S;S;S;G;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S\\\\nU2 0 d 300 I D1.png,D2.png,D3.png,D1.png p 1 v 1 l 1;66 1 x 0 i outside.png y -128 v 1;161 1 x 1024 i outside.png y 768 v 1;73 1 x 0 i wall.png y 768 v 1;191 1 x 1408 i outside.png y 384 v 1;105 1 x 384 i ground.png y 640 v 1;7 1 x 384 i crateSolved.png y 768 v 1;114 1 x 512 i ground.png y 384 v 1;33 1 x -384 i outside.png y -128 v 1;194 1 x 1408 i outside.png y 768 v 1;83 1 x 128 i ground.png y 640 v 1;170 1 x 1152 i outside.png y 512 v 1;79 1 x 128 i wall.png y 128 v 1;129 1 x 640 i ground.png y 896 v 1;128 1 x 640 i ground.png y 768 v 1;203 1 x 1536 i outside.png y 512 v 1;136 1 x 768 i wall.png y 384 v 1;120 1 x 512 i outside.png y 1152 v 1;29 1 x -512 i outside.png y 768 v 1;169 1 x 1152 i outside.png y 384 v 1;199 1 x 1536 i outside.png y 0 v 1;71 1 x 0 i wall.png y 512 v 1;72 1 x 0 i wall.png y 640 v 1;9 1 x 640 i crateUnsolved.png y 768 v 1;155 1 x 1024 i outside.png y 0 v 1;91 1 x 256 i ground.png y 256 v 1;38 1 x -384 i outside.png y 512 v 1;82 1 x 128 i target.png y 512 v 1;146 1 x 896 i outside.png y 256 v 1;107 1 x 384 i ground.png y 896 v 1;187 1 x 1408 i outside.png y -128 v 1;205 1 x 1536 i outside.png y 768 v 1;147 1 x 896 i outside.png y 384 v 1;173 1 x 1152 i outside.png y 896 v 1;75 1 x 0 i wall.png y 1024 v 1;188 1 x 1408 i outside.png y 0 v 1;158 1 x 1024 i outside.png y 384 v 1;26 1 x -512 i outside.png y 384 v 1;185 1 x 1280 i outside.png y 1024 v 1;176 1 x 1280 i outside.png y -128 v 1;134 1 x 768 i wall.png y 128 v 1;163 1 x 1024 i outside.png y 1024 v 1;13 1 x -640 i outside.png y 128 v 1;171 1 x 1152 i outside.png y 640 v 1;102 1 x 384 i ground.png y 256 v 1;45 1 x -256 i outside.png y 0 v 1;157 1 x 1024 i outside.png y 256 v 1;190 1 x 1408 i outside.png y 256 v 1;200 1 x 1536 i outside.png y 128 v 1;55 1 x -128 i outside.png y -128 v 1;117 1 x 512 i ground.png y 768 v 1;64 1 x -128 i outside.png y 1024 v 1;100 1 x 384 i wall.png y 0 v 1;14 1 x -640 i outside.png y 256 v 1;24 1 x -512 i outside.png y 128 v 1;77 1 x 128 i outside.png y -128 v 1;81 1 x 128 i wall.png y 384 v 1;76 1 x 0 i outside.png y 1152 v 1;197 1 x 1408 i outside.png y 1152 v 1;99 1 x 384 i outside.png y -128 v 1;111 1 x 512 i wall.png y 0 v 1;162 1 x 1024 i outside.png y 896 v 1;124 1 x 640 i ground.png y 256 v 1;123 1 x 640 i ground.png y 128 v 1;202 1 x 1536 i outside.png y 384 v 1;121 1 x 640 i outside.png y -128 v 1;182 1 x 1280 i outside.png y 640 v 1;174 1 x 1152 i outside.png y 1024 v 1;150 1 x 896 i wall.png y 768 v 1;183 1 x 1280 i outside.png y 768 v 1;23 1 x -512 i outside.png y 0 v 1;118 1 x 512 i target.png y 896 v 1;40 1 x -384 i outside.png y 768 v 1;86 1 x 128 i wall.png y 1024 v 1;32 1 x -512 i outside.png y 1152 v 1;50 1 x -256 i outside.png y 640 v 1;59 1 x -128 i outside.png y 384 v 1;8 1 x 512 i crateUnsolved.png y 768 v 1;160 1 x 1024 i outside.png y 640 v 1;137 1 x 768 i wall.png y 512 v 1;10 1 v 1 ch 66,161,73,191,105,114,33,194,83,170,79,129,128,203,136,120,29,169,199,71,72,155,91,38,82,146,107,187,205,147,173,75,188,158,26,185,176,134,163,13,171,102,45,157,190,200,55,117,64,100,14,24,77,81,76,197,99,111,162,124,123,202,121,182,174,150,183,23,118,40,86,32,50,59,160,137,54,196,133,22,94,47,201,87,198,119,177,151,37,126,181,80,21,34,46,16,193,27,101,60,192,168,31,62,115,109,154,149,122,145,44,20,39,69,113,35,90,132,144,131,42,58,189,98,139,19,95,93,88,51,130,175,12,164,138,125,178,36,74,110,195,92,141,165,67,56,43,153,70,89,166,84,179,106,148,152,49,68,15,207,208,57,127,116,143,28,52,112,186,61,30,156,63,104,48,142,65,206,41,180,78,96,135,11,204,159,167,103,17,53,184,140,172,85,97,108,18,25 z -1;54 1 x -256 i outside.png y 1152 v 1;196 1 x 1408 i outside.png y 1024 v 1;133 1 x 768 i wall.png y 0 v 1;22 1 x -512 i outside.png y -128 v 1;94 1 x 256 i wall.png y 640 v 1;47 1 x -256 i outside.png y 256 v 1;201 1 x 1536 i outside.png y 256 v 1;87 1 x 128 i outside.png y 1152 v 1;4 1 x 512 i crateUnsolved.png y 384 v 1;1 1 sx 0.902778 sy 0.902778 v 1 ch 3,4,7,8,2,6,10,9,5 x 497 y 20;198 1 x 1536 i outside.png y -128 v 1;119 1 x 512 i wall.png y 1024 v 1;177 1 x 1280 i outside.png y 0 v 1;151 1 x 896 i wall.png y 896 v 1;37 1 x -384 i outside.png y 384 v 1;126 1 x 640 i ground.png y 512 v 1;181 1 x 1280 i outside.png y 512 v 1;80 1 x 128 i target.png y 256 v 1;21 1 x -640 i outside.png y 1152 v 1;34 1 x -384 i outside.png y 0 v 1;46 1 x -256 i outside.png y 128 v 1;16 1 x -640 i outside.png y 512 v 1;193 1 x 1408 i outside.png y 640 v 1;27 1 x -512 i outside.png y 512 v 1;101 1 x 384 i ground.png y 128 v 1;60 1 x -128 i outside.png y 512 v 1;192 1 x 1408 i outside.png y 512 v 1;168 1 x 1152 i outside.png y 256 v 1;2 1 x 256 y 256;31 1 x -512 i outside.png y 1024 v 1;62 1 x -128 i outside.png y 768 v 1;115 1 x 512 i ground.png y 512 v 1;109 1 x 384 i outside.png y 1152 v 1;154 1 x 1024 i outside.png y -128 v 1;149 1 x 896 i wall.png y 640 v 1;122 1 x 640 i wall.png y 0 v 1;145 1 x 896 i outside.png y 128 v 1;44 1 x -256 i outside.png y -128 v 1;20 1 x -640 i outside.png y 1024 v 1;39 1 x -384 i outside.png y 640 v 1;69 1 x 0 i wall.png y 256 v 1;113 1 x 512 i ground.png y 256 v 1;35 1 x -384 i outside.png y 128 v 1;90 1 x 256 i wall.png y 128 v 1;132 1 x 768 i outside.png y -128 v 1;144 1 x 896 i outside.png y 0 v 1;131 1 x 640 i outside.png y 1152 v 1;42 1 x -384 i outside.png y 1024 v 1;58 1 x -128 i outside.png y 256 v 1;189 1 x 1408 i outside.png y 128 v 1;98 1 x 256 i outside.png y 1152 v 1;139 1 x 768 i target.png y 768 v 1;19 1 x -640 i outside.png y 896 v 1;95 1 x 256 i ground.png y 768 v 1;93 1 x 256 i wall.png y 512 v 1;88 1 x 256 i outside.png y -128 v 1;51 1 x -256 i outside.png y 768 v 1;130 1 x 640 i wall.png y 1024 v 1;175 1 x 1152 i outside.png y 1152 v 1;12 1 x -640 i outside.png y 0 v 1;164 1 x 1024 i outside.png y 1152 v 1;138 1 x 768 i wall.png y 640 v 1;125 1 x 640 i target.png y 384 v 1;178 1 x 1280 i outside.png y 128 v 1;36 1 x -384 i outside.png y 256 v 1;74 1 x 0 i wall.png y 896 v 1;6 1 x 128 i crateUnsolved.png y 768 v 1;110 1 x 512 i outside.png y -128 v 1;195 1 x 1408 i outside.png y 896 v 1;92 1 x 256 i wall.png y 384 v 1;141 1 x 768 i wall.png y 1024 v 1;165 1 x 1152 i outside.png y -128 v 1;67 1 x 0 i outside.png y 0 v 1;56 1 x -128 i outside.png y 0 v 1;43 1 x -384 i outside.png y 1152 v 1;153 1 x 896 i outside.png y 1152 v 1;70 1 x 0 i wall.png y 384 v 1;89 1 x 256 i wall.png y 0 v 1;166 1 x 1152 i outside.png y 0 v 1;84 1 x 128 i ground.png y 768 v 1;179 1 x 1280 i outside.png y 256 v 1;106 1 x 384 i target.png y 768 v 1;5 1 x 512 i crateUnsolved.png y 512 v 1;148 1 x 896 i outside.png y 512 v 1;152 1 x 896 i wall.png y 1024 v 1;49 1 x -256 i outside.png y 512 v 1;68 1 x 0 i wall.png y 128 v 1;15 1 x -640 i outside.png y 384 v 1;207 1 x 1536 i outside.png y 1024 v 1;208 1 x 1536 i outside.png y 1152 v 1;57 1 x -128 i outside.png y 128 v 1;127 1 x 640 i ground.png y 640 v 1;116 1 x 512 i target.png y 640 v 1;143 1 x 896 i outside.png y -128 v 1;28 1 x -512 i outside.png y 640 v 1;52 1 x -256 i outside.png y 896 v 1;112 1 x 512 i ground.png y 128 v 1;186 1 x 1280 i outside.png y 1152 v 1;61 1 x -128 i outside.png y 640 v 1;30 1 x -512 i outside.png y 896 v 1;156 1 x 1024 i outside.png y 128 v 1;63 1 x -128 i outside.png y 896 v 1;104 1 x 384 i wall.png y 512 v 1;48 1 x -256 i outside.png y 384 v 1;142 1 x 768 i outside.png y 1152 v 1;65 1 x -128 i outside.png y 1152 v 1;206 1 x 1536 i outside.png y 896 v 1;41 1 x -384 i outside.png y 896 v 1;180 1 x 1280 i outside.png y 384 v 1;78 1 x 128 i outside.png y 0 v 1;96 1 x 256 i ground.png y 896 v 1;135 1 x 768 i wall.png y 256 v 1;11 1 x -640 i outside.png y -128 v 1;204 1 x 1536 i outside.png y 640 v 1;159 1 x 1024 i outside.png y 512 v 1;3 1 x 384 i crateUnsolved.png y 256 v 1;167 1 x 1152 i outside.png y 128 v 1;103 1 x 384 i ground.png y 384 v 1;17 1 x -640 i outside.png y 640 v 1;53 1 x -256 i outside.png y 1024 v 1;184 1 x 1280 i outside.png y 896 v 1;140 1 x 768 i ground.png y 896 v 1;172 1 x 1152 i outside.png y 768 v 1;85 1 x 128 i ground.png y 896 v 1;97 1 x 256 i wall.png y 1024 v 1;108 1 x 384 i wall.png y 1024 v 1;18 1 x -640 i outside.png y 768 v 1;25 1 x -512 i outside.png y 256 v 1\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 2\\\\ny: 2\",\"3\":\"BOX\\\\nx: 3\\\\ny: 2\",\"4\":\"BOX\\\\nx: 4\\\\ny: 3\",\"5\":\"BOX\\\\nx: 4\\\\ny: 4\",\"6\":\"BOX\\\\nx: 1\\\\ny: 6\",\"7\":\"BOX\\\\nx: 3\\\\ny: 6\",\"8\":\"BOX\\\\nx: 4\\\\ny: 6\",\"9\":\"BOX\\\\nx: 5\\\\ny: 6\",\"106\":\"TARGET\\\\nx: 3\\\\ny: 6\",\"139\":\"TARGET\\\\nx: 6\\\\ny: 6\",\"80\":\"TARGET\\\\nx: 1\\\\ny: 2\",\"82\":\"TARGET\\\\nx: 1\\\\ny: 4\",\"116\":\"TARGET\\\\nx: 4\\\\ny: 5\",\"118\":\"TARGET\\\\nx: 4\\\\ny: 7\",\"125\":\"TARGET\\\\nx: 5\\\\ny: 3\"}]}}\\n','KEY_FRAME 1\\n{\"entitymodule\":\"U2 0 I R1.png,R2.png,R3.png,R1.png;3 1 x 512;2 1 x 384\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 3\\\\ny: 2\",\"3\":\"BOX\\\\nx: 4\\\\ny: 2\"}]}\\n','KEY_FRAME 2\\n{\"entitymodule\":\"U2 0 I U1.png,U2.png,U3.png,U1.png;2 1 y 128\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 3\\\\ny: 1\"}]}\\n','KEY_FRAME 3\\n{\"entitymodule\":\"U2 0 I R1.png,R2.png,R3.png,R1.png;2 1 x 512\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 4\\\\ny: 1\"}]}\\n','KEY_FRAME 4\\n{\"entitymodule\":\"U2 0;2 1 x 640\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 5\\\\ny: 1\"}]}\\n','KEY_FRAME 5\\n{\"entitymodule\":\"U2 0 I D1.png,D2.png,D3.png,D1.png;2 1 y 256\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 5\\\\ny: 2\"}]}\\n','KEY_FRAME 6\\n{\"entitymodule\":\"U2 0;2 1 y 384\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 5\\\\ny: 3\"}]}\\n','KEY_FRAME 7\\n{\"entitymodule\":\"U2 0;2 1 y 512\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 5\\\\ny: 4\"}]}\\n','KEY_FRAME 8\\n{\"entitymodule\":\"U2 0;2 1 y 640\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 5\\\\ny: 5\"}]}\\n','KEY_FRAME 9\\n{\"entitymodule\":\"U2 0 I L1.png,L2.png,L3.png,L1.png;2 1 x 512\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 4\\\\ny: 5\"}]}\\n','KEY_FRAME 10\\n{\"entitymodule\":\"U2 0 I D1.png,D2.png,D3.png,D1.png;8 1 i crateSolved.png y 896;2 1 y 768\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 4\\\\ny: 6\",\"8\":\"BOX\\\\nx: 4\\\\ny: 7\"}]}\\n','KEY_FRAME 11\\n{\"entitymodule\":\"U2 0 I R1.png,R2.png,R3.png,R1.png;2 1 x 640;9 1 i crateSolved.png x 768\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 5\\\\ny: 6\",\"9\":\"BOX\\\\nx: 6\\\\ny: 6\"}]}\\n','KEY_FRAME 12\\n{\"entitymodule\":\"U2 0 I U1.png,U2.png,U3.png,U1.png;2 1 y 640\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 5\\\\ny: 5\"}]}\\n','KEY_FRAME 13\\n{\"entitymodule\":\"U2 0;2 1 y 512\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 5\\\\ny: 4\"}]}\\n','KEY_FRAME 14\\n{\"entitymodule\":\"U2 0;2 1 y 384\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 5\\\\ny: 3\"}]}\\n','KEY_FRAME 15\\n{\"entitymodule\":\"U2 0;2 1 y 256\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 5\\\\ny: 2\"}]}\\n','KEY_FRAME 16\\n{\"entitymodule\":\"U2 0 I L1.png,L2.png,L3.png,L1.png;3 1 x 384;2 1 x 512\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 4\\\\ny: 2\",\"3\":\"BOX\\\\nx: 3\\\\ny: 2\"}]}\\n','KEY_FRAME 17\\n{\"entitymodule\":\"U2 0;3 1 x 256;2 1 x 384\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 3\\\\ny: 2\",\"3\":\"BOX\\\\nx: 2\\\\ny: 2\"}]}\\n','KEY_FRAME 18\\n{\"entitymodule\":\"U2 0;3 1 i crateSolved.png x 128;2 1 x 256\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 2\\\\ny: 2\",\"3\":\"BOX\\\\nx: 1\\\\ny: 2\"}]}\\n','KEY_FRAME 19\\n{\"entitymodule\":\"U2 0 I R1.png,R2.png,R3.png,R1.png;2 1 x 384\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 3\\\\ny: 2\"}]}\\n','KEY_FRAME 20\\n{\"entitymodule\":\"U2 0 I D1.png,D2.png,D3.png,D1.png;2 1 y 384\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 3\\\\ny: 3\"}]}\\n','KEY_FRAME 21\\n{\"entitymodule\":\"U2 0 I R1.png,R2.png,R3.png,R1.png;4 1 i crateSolved.png x 640;2 1 x 512\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 4\\\\ny: 3\",\"4\":\"BOX\\\\nx: 5\\\\ny: 3\"}]}\\n','KEY_FRAME 22\\n{\"entitymodule\":\"U2 0 I D1.png,D2.png,D3.png,D1.png;2 1 y 512;5 1 i crateSolved.png y 640\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 4\\\\ny: 4\",\"5\":\"BOX\\\\nx: 4\\\\ny: 5\"}]}\\n','KEY_FRAME 23\\n{\"entitymodule\":\"U2 0 I R1.png,R2.png,R3.png,R1.png;2 1 x 640\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 5\\\\ny: 4\"}]}\\n','KEY_FRAME 24\\n{\"entitymodule\":\"U2 0 I D1.png,D2.png,D3.png,D1.png;2 1 y 640\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 5\\\\ny: 5\"}]}\\n','KEY_FRAME 25\\n{\"entitymodule\":\"U2 0;2 1 y 768\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 5\\\\ny: 6\"}]}\\n','KEY_FRAME 26\\n{\"entitymodule\":\"U2 0 I L1.png,L2.png,L3.png,L1.png;2 1 x 512\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 4\\\\ny: 6\"}]}\\n','KEY_FRAME 27\\n{\"entitymodule\":\"U2 0;7 1 i crateUnsolved.png x 256;2 1 x 384\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 3\\\\ny: 6\",\"7\":\"BOX\\\\nx: 2\\\\ny: 6\"}]}\\n','KEY_FRAME 28\\n{\"entitymodule\":\"U2 0 I D1.png,D2.png,D3.png,D1.png;2 1 y 896\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 3\\\\ny: 7\"}]}\\n','KEY_FRAME 29\\n{\"entitymodule\":\"U2 0 I L1.png,L2.png,L3.png,L1.png;2 1 x 256\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 2\\\\ny: 7\"}]}\\n','KEY_FRAME 30\\n{\"entitymodule\":\"U2 0;2 1 x 128\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 1\\\\ny: 7\"}]}\\n','KEY_FRAME 31\\n{\"entitymodule\":\"U2 0 I U1.png,U2.png,U3.png,U1.png;2 1 y 768;6 1 y 640\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 1\\\\ny: 6\",\"6\":\"BOX\\\\nx: 1\\\\ny: 5\"}]}\\n','KEY_FRAME 32\\n{\"entitymodule\":\"U2 0;2 1 y 640;6 1 i crateSolved.png y 512\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 1\\\\ny: 5\",\"6\":\"BOX\\\\nx: 1\\\\ny: 4\"}]}\\n','KEY_FRAME 33\\n{\"entitymodule\":\"U2 0 I D1.png,D2.png,D3.png,D1.png;2 1 y 768\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 1\\\\ny: 6\"}]}\\n','KEY_FRAME 34\\n{\"entitymodule\":\"U2 0 I R1.png,R2.png,R3.png,R1.png;7 1 i crateSolved.png x 384;2 1 x 256\",\"tooltips\":[{\"2\":\"PUSHER\\\\nx: 2\\\\ny: 6\",\"7\":\"BOX\\\\nx: 3\\\\ny: 6\"}]}\\n'],agents:[{index:0,name:\"Player 0\",avatar:\"https://static.codingame.com/servlet/fileservlet?id=16085734516701&format=viewer_avatar\",agentId:0}]};function Rn(t){return(Rn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function jn(t){var e=\"function\"==typeof Map?new Map:void 0;return(jn=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return En(t,arguments,_n(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),kn(r,t)})(t)}function En(t,e,n){return(En=Dn()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&kn(r,n.prototype),r}).apply(null,arguments)}function Dn(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function kn(t,e){return(kn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _n(t){return(_n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var In=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kn(t,e)}(e,jn(Error));var t=function(t){var e=Dn();return function(){var n,r=_n(t);return n=e?(n=_n(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Rn(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(n,r){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(n=t.call(this,'<Error in module \"'+n+'\">')).cause=r,n.name=\"ModuleError\",n}return e}();function Tn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Fn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tn(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function An(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Mn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.toDestroy=[],this.stepByStepAnimateSpeed=null;var n=e||Pn;n?(e=n.views,n=n.agents,this.demo={playerCount:n.length,logo:\"logo.png\",overlayAlpha:.2,agents:n,frames:e},this.demo.agents.forEach((function(e){e.color=t.playerColors[e.index]}))):this.demo=void 0}var e,n,o;return e=t,o=[{key:\"getGameRatio\",value:function(){return t.WIDTH/t.HEIGHT}},{key:\"requirements\",get:function(){return{PIXI:\"PIXI4\"}}},{key:\"VERSION\",get:function(){return 2}},{key:\"WIDTH\",get:function(){return ye}},{key:\"HEIGHT\",get:function(){return he}},{key:\"playerColors\",get:function(){return[\"#ff1d5c\",\"#22a1e4\",\"#ff8f16\",\"#6ac371\",\"#9975e2\",\"#3ac5ca\",\"#de6ddf\",\"#ff0000\"]}},{key:\"SDK_GAME\",get:function(){return!0}},{key:\"RenderTimeout\",get:function(){return\"localhost\"===window.location.hostname?1/0:2e4}}],(n=[{key:\"getDefaultOverSampling\",value:function(){return 2}},{key:\"handleModuleError\",value:function(t,e){l.push(new In(t,e)),console.error(e),l.push({message:'<Module \"'.concat(t,'\" disabled>\\n')}),delete this.modules[t]}},{key:\"instantiateModules\",value:function(){this.modules={};var t,e=function(t,e){var n;if(\"undefined\"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return An(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?An(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(wn);try{for(e.s();!(t=e.n()).done;){var n=t.value;try{this.modules[n.name]=new n(r)}catch(t){this.handleModuleError(n.name,t)}}}catch(t){e.e(t)}finally{e.f()}}},{key:\"destroy\",value:function(){this.alreadyLoaded&&(this.renderer.destroy(),this.endCallback=null),this.destroyed=!0}},{key:\"destroyScene\",value:function(){!function(){for(var t=0,e=pe.length;t<e;++t)pe[t].destroy(!0);pe=[]}()}},{key:\"getGameName\",value:function(){}},{key:\"canSwapPlayers\",value:function(){return!1}},{key:\"addErrorListener\",value:function(t){l.listen(t)}},{key:\"getResources\",value:function(){return Object.assign({baseUrl:\"\",images:{},spines:{},sprites:[],fonts:[],others:[]},r)}},{key:\"getOptions\",value:function(){return[]}},{key:\"setDebug\",value:function(){this.asyncRenderingTime=t.RenderTimeout}},{key:\"initPreload\",value:function(t,e,n,r,o){t.canvasWidth=r,t.canvasHeight=o,t.loaderProgress=new PIXI.Text(\"100\",{fontSize:.117*o||30,fontFamily:\"Lato\",fontWeight:\"900\",fill:\"white\",align:\"center\"}),t.loaderProgress.anchor.y=1,t.loaderProgress.anchor.x=1.3,t.progress=t.realProgress=n,t.loaderProgress.position.y=o,t.progressBar=new PIXI.Graphics,e.addChild(t.progressBar),e.addChild(t.loaderProgress)}},{key:\"preload\",value:function(t,e,n){t.progress=n}},{key:\"renderPreloadScene\",value:function(t,e){return e=Math.pow(.998,e),t.realProgress=e*t.realProgress+(1-e)*t.progress,t.loaderProgress.text=(100*t.realProgress).toFixed(0),t.loaderProgress.position.x=t.realProgress*t.canvasWidth,t.progressBar.clear(),t.progressBar.beginFill(0,1),t.progressBar.drawRect(0,0,t.canvasWidth*t.realProgress+1,t.canvasHeight),t.progressBar.endFill(),t.progressBar.beginFill(4146246,1),t.progressBar.drawRect(t.canvasWidth*t.realProgress,0,t.canvasWidth,t.canvasHeight),t.progressBar.endFill(),!0}},{key:\"initDefaultScene\",value:function(e,n){var r=new PIXI.Container;if(e.drawer=this,e.time=0,this.demo){if(this.demo.logo)try{var o=PIXI.Sprite.fromFrame(this.demo.logo);o.position.set(t.WIDTH/2,t.HEIGHT/2),o.anchor.set(.5),o.baseScale=a(o.texture.width,o.texture.height,2*t.WIDTH/3,t.HEIGHT/2,0),r.addChild(o),e.logo=o}catch(n){l.push({cause:n,message:'Missing \"logo.png\" to complete replay.'}),e.logo=new PIXI.Container,e.logo.baseScale=1,r.addChild(e.logo),e.missingLogo=!0}var i=new PIXI.Graphics;e.missingLogo||(i.beginFill(0,this.demo.overlayAlpha||0),i.drawRect(0,0,t.WIDTH+20,t.HEIGHT+20),i.endFill(),i.x-=10,i.y-=10);var u=new PIXI.Container;try{this.initDefaultFrames(this.demo.playerCount,this.demo.frames,this.demo.agents),this.preconstructScene(this.scope,n,this.initWidth,this.initHeight),this.initScene(this.scope,u,this.frames,!0),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)}catch(n){l.push({cause:n,message:\"Cannot load demo, you might want to reset the demo\"})}e.demo=u,e.demotime=0,this.currentFrame=-1,n.addChild(u),n.addChild(i),n.addChild(r)}e.updateTime=0,e.frameTime=0}},{key:\"initDefaultFrames\",value:function(e,n,r){var o=this;this.instantiateModules(),this.playerInfo=r.map((function(t,e){return{name:t.name||\"Anonymous\",color:t.color?o.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:t.avatarTexture}})),this.instantiateModules(),this._frames=n.map((function(t){var e,n=t.split(\"\\n\");t=n[0].split(\" \");try{e=JSON.parse(n.slice(1).join(\"\\n\"))}catch(t){e={}}return Fn(Fn({},e),{},{key:\"KEY_FRAME\"===t[0]})})).filter((function(t){return t.key})),this.parseGlobalData(this._frames[0].global),this.playerCount=e,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1,(e=this._frames[0].frame).key=this._frames[0].key,this.frames.push(this.parseFrame(e,this.frames));for(var i=1;i<this._frames.length;++i)this.frames.push(this.parseFrame(this._frames[i],this.frames));this.asyncRenderingTime=t.RenderTimeout}},{key:\"renderDefaultScene\",value:function(t,e){if(e=Math.min(80,e),void 0===this.demo)return!1;this.currentFrame=this.currentFrameTemp||0,t.frameTime+=e,t.updateTime+=e,t.demotime+=e/1e3;var n=Math.max(0,Math.min(1,(t.demotime-1)/.5));t.logo&&(t.logo.alpha=n,t.logo.scale.x=t.logo.scale.y=(3-2*n)*t.logo.baseScale),!t.missingLogo&&1.5<t.demotime&&t.demotime<=2.2?(r=15*Math.max(0,1-(t.demotime-1.5)/.7),t.demo.x=(2*Math.random()-1)*r,t.demo.y=(2*Math.random()-1)*r):t.demo.x=t.demo.y=0;var r=this.getFrameDuration(this.currentFrame);return 30<=t.updateTime&&(t.updateTime-=30,0===this.currentFrame?this.progress=1:this.progress=i(0,r,t.frameTime),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)),t.frameTime>=r&&(t.frameTime-=r,this.currentFrame=(this.currentFrame+1)%this.frames.length),this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],e,!0),this.currentFrameTemp=this.currentFrame,this.currentFrame=-1,!0}},{key:\"endDefaultScene\",value:function(){return!0}},{key:\"parseGlobalData\",value:function(t){for(var e in this.modules){var n=this.modules[e];\"function\"==typeof n.handleGlobalData&&n.handleGlobalData(this.playerInfo,t[e])}}},{key:\"parseFrame\",value:function(t,e){var n,r={data:{},frameInfo:{number:e.length}};if(r.previous=e[e.length-1]||r,r!==r.previous&&(r.previous.next=r),!t.key)return r.previous;for(n in t.duration&&(this.currentFrameDuration=t.duration),r.frameInfo.frameDuration=this.currentFrameDuration,r===r.previous?(r.frameInfo.date=0,r.frameInfo.frameDuration=0):r.frameInfo.date=r.previous.frameInfo.date+r.previous.frameInfo.frameDuration,this.modules){var o=this.modules[n];\"function\"==typeof o.handleFrameData&&(r.data[n]=o.handleFrameData(r.frameInfo,t[n]))}return r}},{key:\"preconstructScene\",value:function(e,n,r,o){e.canvasHeight=o,e.canvasWidth=r,e.time=0,e.endTime=0,e.playerInfo=this.playerInfo,n.scale.x=r/t.WIDTH,n.scale.y=o/t.HEIGHT}},{key:\"initScene\",value:function(t,e){for(var n in this.modules){var r=this.modules[n],o=new PIXI.Container;try{r.reinitScene(o,{width:t.canvasWidth,height:t.canvasHeight,oversampling:this.oversampling})}catch(t){this.handleModuleError(n,t)}e.addChild(o)}}},{key:\"updateScene\",value:function(t,e,n,r,o,i,a,u,s){var c,l=n[r];if(!s&&this.stepByStepAnimateSpeed){if(this.checkSteppedToNextFrame(t,l,o))return void this.startAsynchronousAnimation(t,l);if(this.checkSteppedToPreviousFrame(t,l,o))return void this.startAsynchronousAnimation(t,t.currentFrame,!0);t.targetProgress=null}for(c in t.currentFrame=l,t.currentProgress=o,t.reason=a,this.modules){var f=this.modules[c];if(l.data.hasOwnProperty(c))try{f.updateScene(l.previous.data[c],l.data[c],o,i)}catch(t){this.handleModuleError(c,t)}}}},{key:\"startAsynchronousAnimation\",value:function(t,e,n){n=2<arguments.length&&void 0!==n&&n,t.targetProgress=n?0:1,n||1!==t.currentProgress||(t.currentProgress=0),t.currentFrame=e,t.reverseAsynchronousAnimation=n}},{key:\"checkStepped\",value:function(t,e,n){return t.currentFrame&&0===this.speed&&1===n}},{key:\"checkSteppedToNextFrame\",value:function(t,e,n){return this.checkStepped(t,e,n)&&(t.currentFrame===e.previous&&t.currentFrame!==e||t.currentFrame===e&&t.currentProgress!==n)}},{key:\"checkSteppedToPreviousFrame\",value:function(t,e,n){return this.checkStepped(t,e,n)&&t.currentFrame.previous===e&&t.currentFrame!==e}},{key:\"initEndScene\",value:function(t){t.endSceneViewed=!1}},{key:\"destroyEndScene\",value:function(){}},{key:\"renderEndScene\",value:function(t,e,n){0===t.endTime&&this.initEndScene(t,n),t.endTime+=e,void 0<=t.endTime&&!t.endSceneViewed&&(this.endCallback&&this.endCallback(),t.endSceneViewed=!0)}},{key:\"renderScene\",value:function(t,e,n,r,o,i,a,u){var s,c;for(c in u=Math.min(80,u),this.debugMode||r!==n.length-1||1!==o?(0<t.endTime&&this.destroyEndScene(t),t.endTime=0):this.renderEndScene(t,u,\"Win\"!==a),this.stepByStepAnimateSpeed&&this.isAsynchronousAnimationOngoing(t)&&(o=this.currentFrame,t.reverseAsynchronousAnimation&&o++,a=u/200*this.getFrameSpeed(o)*this.stepByStepAnimateSpeed,t.reverseAsynchronousAnimation?(s=t.currentProgress-a)<=0&&(o=this.currentFrame,s=1,t.targetProgress=1):(s=t.currentProgress+a,s=Math.min(t.targetProgress,s)),this.updateScene(this.scope,this.question,this.frames,o,s,this.speed,this.reasons[o],!1,!0)),this.modules){var l=this.modules[c];if(\"function\"==typeof l.animateScene)try{l.animateScene(u)}catch(t){this.handleModuleError(c,t)}}return!0}},{key:\"isAsynchronousAnimationOngoing\",value:function(t){return null!=t.targetProgress&&t.currentProgress!==t.targetProgress}},{key:\"getFrameSpeed\",value:function(t){return 500/this.getFrameDuration(t)}},{key:\"getFrameDuration\",value:function(t){return this.frames&&this.frames[t]&&this.frames[t].frameInfo.frameDuration||1e3}},{key:\"enableAsyncRendering\",value:function(e){this.asyncRendering=e,this.asyncRenderingTime=t.RenderTimeout}},{key:\"purge\",value:function(){this.scope={},this.changed=!0,this.container.interactiveChildren=!1,this.container.destroy({texture:!1,children:!0}),delete this.container,this.container=new PIXI.Container}},{key:\"reinitScene\",value:function(){1<=this.loaded&&(this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.preconstructScene(this.scope,this.container,this.initWidth,this.initHeight),this.initScene(this.scope,this.container,this.frames),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame]),this.changed=!0)}},{key:\"reinitDefaultScene\",value:function(){1<=this.loaded&&(this.intro=!0,this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initDefaultScene(this.scope,this.container,this.initWidth,this.initHeight),this.changed=!0)}},{key:\"reinitLoadingScene\",value:function(){this.loaded<1&&(this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initPreload(this.scope,this.container,this.loaded,this.initWidth,this.initHeight))}},{key:\"reinit\",value:function(t){1<=this.loaded?0<=this.currentFrame&&!this.intro?this.reinitScene():this.intro&&!t||this.reinitDefaultScene():this.reinitLoadingScene()}},{key:\"animate\",value:function(t){var e;this.destroyed||(this.lastRenderTime||(this.lastRenderTime=t),e=t-this.lastRenderTime,this.asynchronousStep&&(e=this.asynchronousStep),this.onBeforeRender&&this.onBeforeRender(),this.loading||(this.loaded<1?this.changed|=this.renderPreloadScene(this.scope,e):(this.changed||this.asyncRendering&&0<this.asyncRenderingTime||this.isAsynchronousAnimationOngoing(this.scope))&&(this.currentFrame<0?this.changed|=this.renderDefaultScene(this.scope,e):this.intro?(this.changed=!0,this.endDefaultScene(this.scope,e)&&(this.intro=!1,this.reinit(!0))):this.changed|=this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame],e)),this.changed&&(this.renderer.render(this.container),this.changed=!1)),this.onAfterRender&&this.onAfterRender(),this.lastRenderTime=t,this.destroyed||requestAnimationFrame(this.animate.bind(this)),this.asyncRenderingTime-=e)}},{key:\"_initFrames\",value:function(t,e){this.instantiateModules(),this._frames=e.map((function(t){var e,n=t[0].split(\" \");try{e=JSON.parse(t.slice(1).join(\"\\n\"))}catch(t){e={}}return Fn(Fn({},e),{},{key:\"KEY_FRAME\"===n[0]})})),this.parseGlobalData(this._frames[0].global),this.playerCount=t,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1,(t=this._frames[0].frame).key=this._frames[0].key,this.frames.push(this.parseFrame(t,this.frames));for(var n=1;n<this._frames.length;++n)this.frames.push(this.parseFrame(this._frames[n],this.frames))}},{key:\"isTurnBasedGame\",value:function(){return!1}},{key:\"initFrames\",value:function(t,e){this.playerInfo&&this.playerInfo.forEach((function(t){t.avatar&&t.avatar.destroy(!0)}));var n=this,r=new PIXI.loaders.Loader(window.location.origin);function o(){n._initFrames(e.length,t),n.loading=!1,n.reinit(!1),i=!0}this.playerInfo=e.map((function(t,e){var o={name:t.name||\"Anonymous\",color:t.color?n.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:null};return null!=t.avatar&&r.add(\"avatar\"+e,t.avatar,{loadType:2,crossOrigin:!0},(function(t){o.avatar=t.texture,PIXI.Texture.addToCache(t.texture,\"$\"+o.index)})),o}));var i=!(this.loading=!0);r.on(\"complete\",o),r.on(\"error\",(function(t){console.warn(t),i||o()})),r.load()}},{key:\"update\",value:function(e,n,r){0<=this.currentFrame&&(this.asyncRenderingTime=t.RenderTimeout,this.changed=!0,this.speed=r,this.currentFrame=e,this.progress=n,1<=this.loaded&&!this.intro&&this.updateScene(this.scope,this.question,this.frames,e,n,this.speed,this.reasons[this.currentFrame]))}},{key:\"parseColor\",value:function(t){if(Array.isArray(t)){for(var e=[],n=0;n<t.length;++n)e.push(this.parseColor(t[n]));return e}return parseInt(t.substring(1),16)}},{key:\"init\",value:function(e,n,r,o,i,a,u){var s,c=this;window.PIXI=t.PIXI||window.PIXI,this.oversampling=i||1,i=function(){0<=c.currentFrame&&(c.changed=!0)},this.canvas=$(e),this.canvas.off(\"mousemove\"),this.canvas.off(\"wheel\"),this.canvas.bind(\"wheel\",i),this.canvas.mousemove(i),o&&(this.colors=this.parseColor(o)),\"ide\"===u&&(this.debugModeSetByUser||(this.debugMode=!0),l.listen((function(t){return console.error(t.cause||t)}))),this.asyncRendering=!0,this.asyncRenderingTime=0,this.destroyed=!1,this.asynchronousStep=null;var f=this;if(this.initWidth=0|n,this.initHeight=0|r,this.endCallback=a||this.endCallback,this.alreadyLoaded)this.changed=!0,this.renderer.resize(this.initWidth,this.initHeight),this.reinit(!0);else{this.alreadyLoaded=!0,this.question=null,this.scope=null,this.currentFrame=-1,this.loaded=0,this.container=new PIXI.Container;var p=this.getResources();this.renderer=this.createRenderer(this.initWidth,this.initHeight,e),a=this.renderer,fe=a;var y,h=new PIXI.loaders.Loader(p.baseUrl);for(s in p.images)h.add(s,p.images[s],{crossOrigin:!0});for(y=0;y<p.sprites.length;++y)h.add(p.sprites[y],{crossOrigin:!0});for(y=0;y<p.fonts.length;++y)h.add(p.fonts[y],{crossOrigin:!0});for(s in p.spines)h.add(s,p.spines[s],{crossOrigin:!0});for(y=0;y<p.others.length;++y)h.add(p.others[y],{crossOrigin:!0});this.demo&&this.demo.agents.forEach((function(t){h.add(\"avatar\"+t.index,t.avatar,{loadType:2,crossOrigin:!0},(function(e){t.avatarTexture=e.texture,PIXI.Texture.addToCache(e.texture,\"$\"+t.index)}))})),f.scope={},e=function(){requestAnimationFrame(f.animate.bind(f)),f.initPreload(f.scope,f.container,f.loaded=0,f.initWidth,f.initHeight)},h.on(\"start\",e),h.on(\"progress\",(function(t,e){t.progress<100&&f.preload(f.scope,f.container,f.loaded=t.progress/100,f.initWidth,f.initHeight,e)})),a=function(){for(var t in p.images)p.images.hasOwnProperty(t)&&h.resources[t].texture&&PIXI.Texture.addToCache(h.resources[t].texture,t);for(t in p.spines)p.spines.hasOwnProperty(t)&&(PIXI.AnimCache[t]=PIXI.AnimCache[p.baseUrl+p.spines[t]]);f.loaded=1,f.reinit(!0),f.changed=!0},h.on(\"complete\",a),h.on(\"error\",(function(t){console.warn(t)})),Object.keys(h.resources).length?h.load():(e(),a())}}},{key:\"createRenderer\",value:function(t,e,n){return PIXI.autoDetectRenderer(t,e,{view:n,clearBeforeRender:!0,preserveDrawingBuffer:!1})}},{key:\"isReady\",value:function(){return 1<=this.loaded}}])&&Cn(e.prototype,n),o&&Cn(e,o),t}()}]).Drawer;",
      "levelParams": {
        "0": {
          "testCases": [
            {
              "title": {
                "1": "Scoria - Level 1",
                "2": "Scoria - Level 1"
              },
              "isTest": true,
              "testIn": "  ####\n  #  #\n### .#\n#  * #\n# #@ #\n# $* #\n##   #\n #####",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria - Level 2",
                "2": "Scoria - Level 2"
              },
              "isTest": true,
              "testIn": "######\n#    #\n# #. ##\n#  $$ #\n###*+ #\n  #   #\n  #####",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria - Level 3",
                "2": "Scoria - Level 3"
              },
              "isTest": true,
              "testIn": " ####\n # @#\n##$*###\n#  .  #\n# #.  #\n# $  ##\n###  #\n  ####",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria - Level 4",
                "2": "Scoria - Level 4"
              },
              "isTest": true,
              "testIn": " #####\n #   #\n##..$##\n#  .  #\n#  $$ #\n####@ #\n   ####",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria - Level 5",
                "2": "Scoria - Level 5"
              },
              "isTest": true,
              "testIn": "#######\n# .   #\n# #$  #\n# $.# #\n##.$@ #\n #  ###\n #  #\n ####",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria - Level 6",
                "2": "Scoria - Level 6"
              },
              "isTest": true,
              "testIn": " #####\n #   ###\n## #   #\n#@$. . #\n# $*# ##\n##    #\n ######",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria - Level 7",
                "2": "Scoria - Level 7"
              },
              "isTest": true,
              "testIn": " #####\n #   ##\n # # .##\n##$ .  #\n#@$.$  #\n#   ####\n#####",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria - Level 8",
                "2": "Scoria - Level 8"
              },
              "isTest": true,
              "testIn": " ####\n##  ###\n#  $  #\n# +$  #\n## $###\n #. . #\n #    #\n ######",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria - Level 9",
                "2": "Scoria - Level 9"
              },
              "isTest": true,
              "testIn": "  ####\n ##  #\n## . ##\n# $*$ #\n# #.  #\n#  @  #\n#######",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria - Level 10",
                "2": "Scoria - Level 10"
              },
              "isTest": true,
              "testIn": "#####\n#   ###\n# $@  #\n##* . #\n# * # #\n#     #\n#######",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria 2 - Level 1",
                "2": "Scoria 2 - Level 1"
              },
              "isTest": true,
              "testIn": "  ####\n  #  #\n ##  #\n## . ###\n# $.$. #\n#  * $ #\n## #@###\n #   #\n #####",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria 2 - Level 2",
                "2": "Scoria 2 - Level 2"
              },
              "isTest": true,
              "testIn": "####\n#  #\n#  #####\n#  $   #\n##$* * #\n#  .# ##\n#.  @ #\n#######",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria 2 - Level 3",
                "2": "Scoria 2 - Level 3"
              },
              "isTest": true,
              "testIn": " #####\n##   ###\n#  ..  #\n# #.$# #\n#   *  #\n###$$###\n  #@ #\n  ####",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria 2 - Level 4",
                "2": "Scoria 2 - Level 4"
              },
              "isTest": true,
              "testIn": " ####\n #  #\n #  #####\n##  #@  #\n# $ $*  #\n# #$. ###\n#  .. #\n####  #\n   ####",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria 2 - Level 5",
                "2": "Scoria 2 - Level 5"
              },
              "isTest": true,
              "testIn": " ####\n##  #\n#   #####\n# ....  #\n# $$$$  #\n###  ####\n  # @#\n  ####",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria 2 - Level 6",
                "2": "Scoria 2 - Level 6"
              },
              "isTest": true,
              "testIn": "  ####\n  #  #\n### @#\n# .*$###\n#  $.. #\n##     #\n ## $###\n  #  #\n  ####",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria 2 - Level 7",
                "2": "Scoria 2 - Level 7"
              },
              "isTest": true,
              "testIn": "  #####\n ##   #\n##  # #\n# .$* ###\n# #     #\n#  **   #\n## @#####\n ####",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria 2 - Level 8",
                "2": "Scoria 2 - Level 8"
              },
              "isTest": true,
              "testIn": "#######\n#  #  #\n#  *  ##\n#.+#$$ ##\n#  *    #\n#  ##   #\n#########",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria 2 - Level 9",
                "2": "Scoria 2 - Level 9"
              },
              "isTest": true,
              "testIn": "##########\n#    #   #\n# # .*   #\n#  $.*@  #\n###$ #####\n  #  #\n  ####",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria 2 - Level 10",
                "2": "Scoria 2 - Level 10"
              },
              "isTest": true,
              "testIn": "  ####\n  #  ###\n  # .  #\n###$.  #\n#  $. ##\n#  $.##\n###@$#\n  #  #\n  ####",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria 3 - Level 1",
                "2": "Scoria 3 - Level 1"
              },
              "isTest": true,
              "testIn": "  ####\n  #  #\n ##  #\n##  .#\n# * *##\n#@#$* ###\n# *     #\n####    #\n   ######",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria 3 - Level 2",
                "2": "Scoria 3 - Level 2"
              },
              "isTest": true,
              "testIn": "  ####\n###  #\n#  . ##\n# #  @##\n# $.#$ #\n##.**  #\n # $   #\n #  ####\n ####",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria 3 - Level 3",
                "2": "Scoria 3 - Level 3"
              },
              "isTest": true,
              "testIn": " #######\n #   @ ##\n #  #$  #\n## $. # #\n# $#  . #\n#  ..#$##\n###$.  #\n  #  ###\n  ####",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria 3 - Level 4",
                "2": "Scoria 3 - Level 4"
              },
              "isTest": true,
              "testIn": "  #######\n  #     #\n ## ### #\n##    # #\n# $****+#\n#     # #\n#  ##   #\n#  ######\n####",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria 3 - Level 5",
                "2": "Scoria 3 - Level 5"
              },
              "isTest": true,
              "testIn": "#########\n#       #\n# ##### #\n# #   # ##\n# # # #  #\n# #. *.  #\n# *  $   #\n####$* ###\n   #@ ##\n   ####",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria 3 - Level 6",
                "2": "Scoria 3 - Level 6"
              },
              "isTest": true,
              "testIn": "  ####\n  #  ###\n### *. ####\n#  . # $  #\n#  *  $   #\n###* ######\n  # @#\n  #  #\n  ####",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria 3 - Level 7",
                "2": "Scoria 3 - Level 7"
              },
              "isTest": true,
              "testIn": "  ####\n  #@ #\n  #$.######\n  #.$##   #\n  # $   $ #\n###.  .# ##\n#  .#$## #\n# #   #  #\n# ##### ##\n#       #\n#########",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria 3 - Level 8",
                "2": "Scoria 3 - Level 8"
              },
              "isTest": true,
              "testIn": "####\n#  # ####\n#  ###  #\n#  #    #\n##  .** #\n# $ $$@##\n#  #..##\n#  #  #\n#######",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria 3 - Level 9",
                "2": "Scoria 3 - Level 9"
              },
              "isTest": true,
              "testIn": "  #####\n ##   #\n##    #\n# . *####\n#  *$@$ #\n###  .. #\n  ##$ ###\n   #  #\n   ####",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Scoria 3 - Level 10",
                "2": "Scoria 3 - Level 10"
              },
              "isTest": true,
              "testIn": " #####\n##   ##\n#   $ ##\n# #$#  ##\n#  $@#. #\n##.*.$  #\n #  ##. #\n #   # ##\n ###   #\n   #####",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            }
          ],
          "maxPlayers": 1,
          "minPlayers": 1,
          "statements": {
            "1": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      Place all boxes on their target cells.\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">You have one unit which you can move around on the map. You can push boxes by walking into them. This will push the box in the same direction as you are moving in. The field where you push the box to must be free, it is not possible to move two or more boxes at once. <br>\n      You are given target cells where you have to place the boxes.\n      </div>\n    </div>\n  </div>\n  <!-- EXPERT RULES -->\n  <div class=\"statement-section statement-expertrules\">\n    <h1>\n      <span class=\"icon icon-expertrules\">&nbsp;</span>\n      <span>Expert Rules</span>\n    </h1>\n    <div class=\"statement-expert-rules-content\">\n      The source code can be found here: <a href=\"https://github.com/eulerscheZahl/Sokoban\">https://github.com/eulerscheZahl/Sokoban</a>\n    </div>\n  </div>\n\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n    </h1>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Initial input</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span><var>width</var> <var>height</var> <var>boxCount</var>, the width and height of the map and the number of boxes</p>\n        <p><span class=\"statement-lineno\">next <var>height</var> lines: </span>a string of <var>width</var> characters, that can be:\n        <ul>\n          <li><const>.</const> for an empty cell</li>\n          <li><const>#</const> for a wall</li>\n          <li><const>*</const> for a target cell</li>\n        </ul>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input per turn</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span><var>pusherX</var> <var>pusherY</var>, the position of your unit</p>\n        <p><span class=\"statement-lineno\">next <var>boxCount</var> lines: </span><var>boxX</var> <var>boxY</var>, the position of each box</p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">A single character indicating your movement direction: </span> <action>U</action> to move up, <action>D</action> to move down, <action>R</action> to move right, <action>L</action> to move left.\n        <br>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\"><const>7</const> &le; <var>width</var> &le; <const>11</const><br></div>\n      <div class=\"text\"><const>7</const> &le; <var>height</var> &le; <const>11</const><br></div>\n      <div class=\"text\"><const>3</const> &le; <var>boxCount</var> &le; <const>5</const><br></div>\n      <br>Allotted response time to output\n        is &le; <const>10</const> seconds for the first turn, <const>50</const> ms for later turns.</div>\n    </div>\n\n  Sprites:<br>\n  <a href=\"https://opengameart.org/content/sokoban-100-tiles\">https://opengameart.org/content/sokoban-100-tiles</a>\n  <br> <br>\n  Levels: <br>\n  <a href=\"https://www.sourcecode.se/sokoban/levels\">https://www.sourcecode.se/sokoban/levels</a>\n</div>",
            "2": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      Place all boxes on their target cells.\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">You have one unit which you can move around on the map. You can push boxes by walking into them. This will push the box in the same direction as you are moving in. The field where you push the box to must be free, it is not possible to move two or more boxes at once. <br>\n      You are given target cells where you have to place the boxes.\n      </div>\n    </div>\n  </div>\n  <!-- EXPERT RULES -->\n  <div class=\"statement-section statement-expertrules\">\n    <h1>\n      <span class=\"icon icon-expertrules\">&nbsp;</span>\n      <span>Expert Rules</span>\n    </h1>\n    <div class=\"statement-expert-rules-content\">\n      The source code can be found here: <a href=\"https://github.com/eulerscheZahl/Sokoban\">https://github.com/eulerscheZahl/Sokoban</a>\n    </div>\n  </div>\n\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n    </h1>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Initial input</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span><var>width</var> <var>height</var> <var>boxCount</var>, the width and height of the map and the number of boxes</p>\n        <p><span class=\"statement-lineno\">next <var>height</var> lines: </span>a string of <var>width</var> characters, that can be:\n        <ul>\n          <li><const>.</const> for an empty cell</li>\n          <li><const>#</const> for a wall</li>\n          <li><const>*</const> for a target cell</li>\n        </ul>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input per turn</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span><var>pusherX</var> <var>pusherY</var>, the position of your unit</p>\n        <p><span class=\"statement-lineno\">next <var>boxCount</var> lines: </span><var>boxX</var> <var>boxY</var>, the position of each box</p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">A single character indicating your movement direction: </span> <action>U</action> to move up, <action>D</action> to move down, <action>R</action> to move right, <action>L</action> to move left.\n        <br>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\"><const>7</const> &le; <var>width</var> &le; <const>11</const><br></div>\n      <div class=\"text\"><const>7</const> &le; <var>height</var> &le; <const>11</const><br></div>\n      <div class=\"text\"><const>3</const> &le; <var>boxCount</var> &le; <const>5</const><br></div>\n      <br>Allotted response time to output\n        is &le; <const>10</const> seconds for the first turn, <const>50</const> ms for later turns.</div>\n    </div>\n\n  Sprites:<br>\n  <a href=\"https://opengameart.org/content/sokoban-100-tiles\">https://opengameart.org/content/sokoban-100-tiles</a>\n  <br> <br>\n  Levels: <br>\n  <a href=\"https://www.sourcecode.se/sokoban/levels\">https://www.sourcecode.se/sokoban/levels</a>\n</div>"
          },
          "questionType": "solo",
          "stubGenerator": "read width:int height:int boxCount:int\nloop height read line:string(30)\n\ngameloop\nread pusherX:int pusherY:int\nloop boxCount read boxX:int boxY:int\nwrite U",
          "welcomePopups": {},
          "criteriaLanguageMap": {}
        }
      },
      "coverBinaryId": 50977081249426,
      "directoryPrefix": "community/1500515-1601400741134",
      "allowSourceDownload": true,
      "originalArchiveBinaryId": 51969567519159
    },
    "draft": false,
    "readyForModeration": true
  },
  "validatedFor": 169060463746,
  "avatar": 43135502422075,
  "commentCount": 5,
  "upVotes": 17,
  "downVotes": 0,
  "validateAction": {
    "actionId": 495155,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1601670442393,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}