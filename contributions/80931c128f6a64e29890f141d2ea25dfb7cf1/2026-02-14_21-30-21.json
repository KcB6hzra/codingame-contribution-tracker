{
  "id": 80931,
  "activeVersion": 11,
  "score": 16,
  "votableId": 32210061,
  "codingamerId": 5429773,
  "views": 320,
  "commentableId": 32067464,
  "title": "Trigonometry Simplification",
  "status": "PENDING",
  "type": "PUZZLE_INOUT",
  "nickname": "Diabetos",
  "publicHandle": "80931c128f6a64e29890f141d2ea25dfb7cf1",
  "codingamerHandle": "7e0979ae4d46f3e7bab2eb2ec52f6b0b3779245",
  "lastVersion": {
    "version": 11,
    "autocloseTime": 1773673563057,
    "data": {
      "title": "Trigonometry Simplification",
      "topics": [
        {
          "id": 81,
          "handle": "trigonometry",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Trigonométrie",
            "2": "Trigonometry"
          },
          "pageTitle": "Trigonometry: exercises and theory",
          "puzzleCount": 15,
          "parentTopicId": 43,
          "contentDetailsId": 74
        },
        {
          "id": 94,
          "handle": "mathematics",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Mathematics",
            "2": "Mathematics"
          },
          "puzzleCount": 61,
          "parentTopicId": 93
        }
      ],
      "solution": "from math import factorial as f\nfrom math import gcd\ndef C(n, k):\n    return f(n)//(f(k)*f(n-k))\n\nB = input().split(\" \")\nF = int(B[2])\nc = [int(B[0]), int(B[1])]\nco = 1-c[0]%2\nS = sum(c) + 1\nd = [0]*S\nD = [0]*S\nh = [0]*S\nH = [0]*S\nr = c[0]\nR = c[1]\nfor i in range(r+1):\n    e = r-2*i\n    a = (-1)**(((r-e)//2)%2)*C(r,i)\n    if e < 0:\n        D[-e] = a\n    else:\n        d[e] = a\nfor i in range(R+1):\n    e = R-2*i\n    if e < 0:\n        H[-e] = C(R, i)\n    else:\n        h[e] = C(R, i)\ny = [0]*2*S\nY = [0]*2*S\nif r == 0:\n    Y = h\n    y = H\nelif R == 0:\n    Y = d\n    y = D\nelse:\n    for i in range(-S+1, S):\n        for j in range(-S+1, S):\n            n = i+j\n            vi = D[-i] if i < 0 else d[i]\n            vj = H[-j] if j < 0 else h[j]\n            if n < 0:\n                y[-n] += vi*vj\n            else:\n                Y[n] += vi*vj\nw = 2**(S-2)*(-1)**(r//2)\nx = [0]*2*S\nX = [0]*2*S\nfor i in range(S):\n    if y[i] == Y[i] and y != 0:\n        x[i] = y[i]/w\n    if -y[i] == Y[i] and y != 0:\n        X[i] = Y[i]/w\nr = \"\"\nfor i in range(S):\n    a = x[i] + X[i]\n    if i:\n        if a:\n            r += (\"{}{}({}x)\".format((\"+\" if a > 0 else \"-\") + (str(int(abs(a*F))) if abs(int(a*F)) != 1 else \"\"), [\"sin\", \"cos\"][co], i if i > 1 else \"\"))\n    else:\n        r = str((F*(Y[0] - y[0]))//(2*w))\n        if r == \"0\": r = \"\"\nif r[0] == '+':\n    r = r[1:]\nprint(r)",
      "statement": "Products of several cosine and sine are hard to study, therefore, we go through a process of simplification. We simply replace every {{cos(x)}} with {{(e^(ix)+e^(-ix))/2}} and every {{sin(x)}} with {{(e^(ix)-e^(-ix))/2i}}, with {{i² = -1}}; then we get rid of every cos/sin power by including them on the exponentials and we make the process the other way.\nE.g. {{cos²(x)}} = {{((e^(ix)+e^(-ix))/2)²}} = {{(e^(2ix) + 2 + e^(-2ix))/4}}, here we use once again the identity given above, => {{(cos(2x) + 1)/2}}\n\nThe goal here is to simplify an expression such as {{sin(x)^[[S]] * cos(x)^[[C]] * [[F]]}}, where [[F]] is a factor given such that the coefficients of the final sum are always integers.",
      "testCases": [
        {
          "title": "Test 1",
          "isTest": true,
          "testIn": "1 0 1",
          "testOut": "sin(x)",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "1 0 2",
          "testOut": "2sin(x)",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 2",
          "isTest": true,
          "testIn": "0 1 1",
          "testOut": "cos(x)",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "0 1 2",
          "testOut": "2cos(x)",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 3",
          "isTest": true,
          "testIn": "1 1 4",
          "testOut": "2sin(2x)",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "1 1 2",
          "testOut": "sin(2x)",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 4",
          "isTest": true,
          "testIn": "2 1 4",
          "testOut": "cos(x)-cos(3x)",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "1 2 4",
          "testOut": "sin(x)+sin(3x)",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 5",
          "isTest": true,
          "testIn": "4 3 64",
          "testOut": "3cos(x)-3cos(3x)-cos(5x)+cos(7x)",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "3 3 32",
          "testOut": "3sin(2x)-sin(6x)",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 6",
          "isTest": true,
          "testIn": "4 4 128",
          "testOut": "3-4cos(4x)+cos(8x)",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 6",
          "isTest": false,
          "testIn": "3 4 64",
          "testOut": "3sin(x)+3sin(3x)-sin(5x)-sin(7x)",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 7",
          "isTest": true,
          "testIn": "8 0 128",
          "testOut": "35-56cos(2x)+28cos(4x)-8cos(6x)+cos(8x)",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 7",
          "isTest": false,
          "testIn": "7 0 64",
          "testOut": "35sin(x)-21sin(3x)+7sin(5x)-sin(7x)",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 8",
          "isTest": true,
          "testIn": "10 10 524288",
          "testOut": "126-210cos(4x)+120cos(8x)-45cos(12x)+10cos(16x)-cos(20x)",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 8",
          "isTest": false,
          "testIn": "9 1 512",
          "testOut": "42sin(2x)-48sin(4x)+27sin(6x)-8sin(8x)+sin(10x)",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "0 ≤ [[S]] ≤ 10\n0 ≤ [[C]] ≤ 10\n1 ≤ [[F]] ≤ 750,000\n[[S]] and [[C]] can't be 0 at the same time\nThe output of such an expression will only contain sine or cosine, never both at the same time.",
      "coverBinaryId": 118582468984001,
      "stubGenerator": "read S:int C:int F:int\n\n\nwrite 2cos²(x)=1+cos(2x)",
      "inputDescription": "Three space separated integers [[S]], [[C]] and [[F]].",
      "solutionLanguage": "Python3",
      "outputDescription": "A line with the answer formatted as {{[[k_0]]±[[k_1]]sin/cos(x)±[[k_2]]sin/cos(2x)±...}}.\nFirst the constant term then every term in ascending order of the coefficient in x within each sin/cos term.\nIf [[k]] = 0, the cos/sin associated need not be displayed."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Products of several cosine and sine are hard to study, therefore, we go through a process of simplification. We simply replace every <const>cos(x)</const> with <const>(e^(ix)+e^(-ix))/2</const> and every <const>sin(x)</const> with <const>(e^(ix)-e^(-ix))/2i</const>, with <const>i&sup2; = -1</const>; then we get rid of every cos/sin power by including them on the exponentials and we make the process the other way.<br>E.g. <const>cos&sup2;(x)</const> = <const>((e^(ix)+e^(-ix))/2)&sup2;</const> = <const>(e^(2ix) + 2 + e^(-2ix))/4</const>, here we use once again the identity given above, =&gt; <const>(cos(2x) + 1)/2</const><br><br>The goal here is to simplify an expression such as <const>sin(x)^<var>S</var> * cos(x)^<var>C</var> * <var>F</var></const>, where <var>F</var> is a factor given such that the coefficients of the final sum are always integers.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\">Three space separated integers <var>S</var>, <var>C</var> and <var>F</var>.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">A line with the answer formatted as <const><var>k_0</var>&plusmn;<var>k_1</var>sin/cos(x)&plusmn;<var>k_2</var>sin/cos(2x)&plusmn;...</const>.<br>First the constant term then every term in ascending order of the coefficient in x within each sin/cos term.<br>If <var>k</var> = 0, the cos/sin associated need not be displayed.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">0 &le; <var>S</var> &le; 10<br>0 &le; <var>C</var> &le; 10<br>1 &le; <var>F</var> &le; 750,000<br><var>S</var> and <var>C</var> can't be 0 at the same time<br>The output of such an expression will only contain sine or cosine, never both at the same time.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">1 0 1</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">sin(x)</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "avatar": 102118582822399,
  "commentCount": 22,
  "upVotes": 18,
  "downVotes": 2,
  "statusHistory": [
    {
      "status": "REFUSED",
      "date": 1707041137000,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1707150225917,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "REFUSED",
      "date": 1709744737001,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1711870337586,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "REFUSED",
      "date": 1714464337001,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1771081563057,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}