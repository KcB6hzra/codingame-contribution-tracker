{
  "id": 72054,
  "activeVersion": 29,
  "score": 3,
  "votableId": 30994550,
  "codingamerId": 3479792,
  "views": 140,
  "commentableId": 30855709,
  "title": "Topologically sort the directed graph",
  "status": "ACCEPTED",
  "type": "CLASHOFCODE",
  "nickname": "StepBack13",
  "publicHandle": "720548d00ceebe670f6590ddaf158576b335f",
  "codingamerHandle": "da2fe4fbf3c0ab008c6dcf304920ec602979743",
  "lastVersion": {
    "version": 29,
    "autocloseTime": 1697841702887,
    "data": {
      "title": "Topologically sort the directed graph",
      "topics": [],
      "fastest": true,
      "reverse": true,
      "shortest": true,
      "solution": "n = gets.to_i\nlist = []\nn.times do\n  parent, child = gets.split\n  list << [parent, child]\nend\nparents, children = list.transpose\nseniors = parents.reject{|k| children.include?(k) }\nordered_list = [] \nwhile seniors.size > 0\n  ordered_list += seniors\n  seniors = list.select{|parent, child| seniors.include?(parent) }\n    .map{|parent, child| child } \nend\nputs ordered_list",
      "statement": "Topologically sorting a directed acyclic graph (DAG) is about finding an ordering of nodes such that every node is listed before its 'children' (the nodes it can reach directly). It sounds complex but can be thought of as just listing the nodes in an order such that a child never appears before its parent.\n\nHere we look at an even simpler case, when all the nodes are in one 'branch', i.e. there is one single solution to the problem. Find the path through the directed* graph that leads from a node that only appears as a 'parent' (the root node - the first parent) to a final node that only appears as a 'child' (the last child).\n* <<'Directed' means a link \"{{A B}}\" implies {{A goes to B}} but not {{B goes to A}}. {{A}} is the [[parent]], {{B}} is the [[child]].>>\n\n<<e.g.>>\n4\nAnimals Bugs\nCorydalidae Dobsonflies\nBugs Corydalidae\nDobsonflies Hellgrammites\n<<Answer:>>\nAnimals \nBugs \nCorydalidae\nDobsonflies \nHellgrammites\n\n(Note we start at \"Animals\" and end at \"Hellgrammites\" = go from 'parentless parent' to 'childless child')\nYou can think of it as folders+subfolders, or as literal (grand-)parents and (grand-)children, or as a composition of a sentence from jumbled word-pairs:\n\nNow get solving!",
      "testCases": [
        {
          "title": "1: Categories/Folders",
          "isTest": true,
          "testIn": "4\nAnimals Bugs\nDobsonflies Hellgrammites\nCorydalidae Dobsonflies\nBugs Corydalidae",
          "testOut": "Animals\nBugs\nCorydalidae\nDobsonflies\nHellgrammites",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "6\nDallas Portland\nParis London\nTokyo Dallas\nDubai Tokyo\nLondon Barcelona\nBarcelona Dubai",
          "testOut": "Paris\nLondon\nBarcelona\nDubai\nTokyo\nDallas\nPortland",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "2. Genealogy/Family Trees",
          "isTest": true,
          "testIn": "5\nJacob Judah\nPerez Hezron\nJudah Perez\nAbraham Isaac\nIsaac Jacob",
          "testOut": "Abraham\nIsaac\nJacob\nJudah\nPerez\nHezron",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "7\nto do\nI have\nlots of\ndo today.\nthings to\nof things\nhave lots",
          "testOut": "I\nhave\nlots\nof\nthings\nto\ndo\ntoday.",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "3. Abstract Nodes in Graph/Path",
          "isTest": true,
          "testIn": "12\nI C\nL D\nG J\nK B\nH F\nB L\nJ M\nC E\nD H\nA I\nF A\nM K",
          "testOut": "G\nJ\nM\nK\nB\nL\nD\nH\nF\nA\nI\nC\nE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "11\nQ Y\nO S\nS R\nT O\nW Z\nR X\nY P\nU W\nX U\nP T\nZ V",
          "testOut": "Q\nY\nP\nT\nO\nS\nR\nX\nU\nW\nZ\nV",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "4. Physical Path Coordinates",
          "isTest": true,
          "testIn": "24\n8.05N97.18E 31.92N124.05E\n31.23S52.75E 31.23S56.02E\n31.92N42.15E 10.51N42.15E\n31.23S56.02E 31.23S68.40E\n30.58N137.57E 17.32N137.57E\n31.92N22.77E 10.51N22.77E\n32.03S100.51E 30.58N137.57E\n31.92N124.05E 19.20N118.71E\n31.25S137.96E 31.84S137.11E\n31.23S42.15E 31.23S48.71E\n31.23S68.40E 31.92N85.71E\n10.22S22.77E 31.23S22.77E\n10.51N42.15E 10.22S42.15E\n31.23S22.77E 31.92N42.15E\n2.24N137.57E 12.94S137.57E\n12.94S137.57E 31.25S137.96E\n17.32N137.57E 2.24N137.57E\n19.02S106.61E 32.03S100.51E\n10.51N22.77E 10.22S22.77E\n31.23S48.71E 31.23S52.75E\n10.22S42.15E 31.23S42.15E\n31.92N85.71E 8.05N97.18E\n19.20N118.71E 0.12N112.80E\n0.12N112.80E 19.02S106.61E",
          "testOut": "31.92N22.77E\n10.51N22.77E\n10.22S22.77E\n31.23S22.77E\n31.92N42.15E\n10.51N42.15E\n10.22S42.15E\n31.23S42.15E\n31.23S48.71E\n31.23S52.75E\n31.23S56.02E\n31.23S68.40E\n31.92N85.71E\n8.05N97.18E\n31.92N124.05E\n19.20N118.71E\n0.12N112.80E\n19.02S106.61E\n32.03S100.51E\n30.58N137.57E\n17.32N137.57E\n2.24N137.57E\n12.94S137.57E\n31.25S137.96E\n31.84S137.11E",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "25\n1.0700N97.3530W 33.7900S112.9410E\n9.7901S16.6589W 8.6298N85.0233E\n16.9900S31.7790W 12.9700S39.6630E\n8.6298N85.0233E 11.1106S120.0700E\n34.0700N39.4470E 9.7901S16.6589W\n31.6700N55.5930W 16.9900S31.7790W\n31.3900S62.0190W 18.8300N51.0570W\n12.9700S39.6630E 0.9100S16.0110W\n19.4300N27.2970W 21.2900N53.1090E\n27.4100N106.4610E 29.7700S85.6170W\n0.9100S16.0110W 35.2700N86.9670E\n18.8300N51.0570W 19.4900N18.1710W\n6.1900S125.9010E 19.4300N27.2970W\n19.4900N18.1710W 21.4700N80.4870E\n23.6900N121.8510W 34.0700N39.4470E\n33.7900S112.9410E 11.6300N66.1770W\n21.2900N53.1090E 26.8700N24.3270E\n26.8700N24.3270E 31.3900S62.0190W\n35.2700N86.9670E 6.1900S125.9010E\n2.1100S63.5310W 31.6700N55.5930W\n33.2300N49.1830E 12.3100S12.5490E\n12.3100S12.5490E 1.0700N97.3530W\n11.6300N66.1770W 2.1100S63.5310W\n29.7700S85.6170W 23.6900N121.8510W\n21.4700N80.4870E 27.4100N106.4610E",
          "testOut": "33.2300N49.1830E\n12.3100S12.5490E\n1.0700N97.3530W\n33.7900S112.9410E\n11.6300N66.1770W\n2.1100S63.5310W\n31.6700N55.5930W\n16.9900S31.7790W\n12.9700S39.6630E\n0.9100S16.0110W\n35.2700N86.9670E\n6.1900S125.9010E\n19.4300N27.2970W\n21.2900N53.1090E\n26.8700N24.3270E\n31.3900S62.0190W\n18.8300N51.0570W\n19.4900N18.1710W\n21.4700N80.4870E\n27.4100N106.4610E\n29.7700S85.6170W\n23.6900N121.8510W\n34.0700N39.4470E\n9.7901S16.6589W\n8.6298N85.0233E\n11.1106S120.0700E",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "5. Unjumbled poetry",
          "isTest": true,
          "testIn": "75\nways although\nmomentary choices,\nin separate\nyet apart\nthe internet;\non the\nweeks, days\nuntil seasons\ntime -\ndo so,\nend to\nbirth running\nbreathe delight\nchill- prompted\ndown) until\nour lives've\nwho breathe\nupwards, soil\nstranger on\n- as\nto starting,\nshare years,\nall who\nmonths, weeks,\nseasons dictate\nyears, months,\nsprouting upwards,\nprompted change.\nlives've grown\nso, together\ndeath constrained\nrunning into\nby momentary\ntogether yet\nchariot of\nand I\nthis fine\nkind stranger\nI have\ndictate ubiquitous\nfrom end\nfine earth\nalthough we\ndelight upon\nlightly verdant\nsoil washing\nchoices, confined\nmet, kind\ninternet; our\nspinning stone\napart from\ndays passing\nglazed lightly\nubiquitous chill-\nupon this\nconstrained by\nverdant (trees\npassing time\nwe share\nearth do\nwithin a\nnever met,\nof spinning\nstarting, birth\nYou and\ngrown in\nstone glazed\nconfined within\ninto death\nhave never\nas all\n(trees sprouting\nwashing down)\na chariot\nseparate ways",
          "testOut": "You\nand\nI\nhave\nnever\nmet,\nkind\nstranger\non\nthe\ninternet;\nour\nlives've\ngrown\nin\nseparate\nways\nalthough\nwe\nshare\nyears,\nmonths,\nweeks,\ndays\npassing\ntime\n-\nas\nall\nwho\nbreathe\ndelight\nupon\nthis\nfine\nearth\ndo\nso,\ntogether\nyet\napart\nfrom\nend\nto\nstarting,\nbirth\nrunning\ninto\ndeath\nconstrained\nby\nmomentary\nchoices,\nconfined\nwithin\na\nchariot\nof\nspinning\nstone\nglazed\nlightly\nverdant\n(trees\nsprouting\nupwards,\nsoil\nwashing\ndown)\nuntil\nseasons\ndictate\nubiquitous\nchill-\nprompted\nchange.",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "149\neventually paid\naway determined.\nWill couldn't\ndefeating inevitable\nDetermination drove\ngrew old\nsouls, travelling\ntheir relative\nwouldn't death\nlay one\nsoul headed\nWhy wouldn't\ninevitable events.\nsaid blade\nwould come.\nwon't steal\ncould continue\nold searching\npassing was\nall around\nvital organs,\nAhead lay\nWill's side\nthrough vital\nside forever.\nFinally, answers\nwill rescue\nmiles, never\nyour spirit.\"\nhis wife\nfeet. But\nfor methods\nstop? Thousands\nmind while\ncouldn't believe\nInferis now,\nknowing who\nThey could\none solution.\nreturning dead\nbelow everyone's\njust stop?\ngrave. Tears\nclenched. \"I\nrelative walk\nwatched their\nto a\nwalk away\ndoubt entered\nconcerning returning\nentered William's\naround as\nwhile grasping\nmy love.\nFamily watched\nnever forgetting.\nBut this\nwith Clara.\ndifferent. The\npattered all\nhands clenched.\nlowered his\nhe'd soon\nShoving said\nanswers would\nlove. Dying\noff. Ahead\nbeing dragged\ngrasping an\nClara's soul\nher grave.\nworld right\nman turned,\ndragged to\nheaded towards\nagain. Shoving\nforgetting. Determination\nobtain abilities\nsword. Finally,\nleaving Will's\nTears blended\neach being\nsmiling knowing\ntogether again.\nClara. Clara's\nancient sword.\neveryone's feet.\ndead souls,\ntowards Inferis\nsearching for\nspirit.\" Family\ncapable of\nWilliam's mind\nhim, which\nbelieve it\nblended amongst\nlife smiling\nrescue you\neveryday, each\nHumans cannot\nsolemn man\ndeath just\nthis passing\nof defeating\na world\nRain pattered\nwas different.\nThousands died\ncontinue together\ncome. They\npaid off.\ntravelling miles,\nDying won't\nforever. Why\ndetermined. William\nwife into\nfrom life\nturned, hands\nraindrops. Will\nsoon see.\ninto her\nas he\nright below\nyou my\nNo doubt\nsteal your\nblade through\nmethods concerning\ncannot obtain\nhe lowered\norgans, Bill\nhappened with\nabilities capable\ndied everyday,\nwho he'd\nwhich eventually\nWilliam grew\nan ancient\nhad happened\nfaded from\nsee. Humans\ndrove him,\namongst raindrops.\n\"I will\nnow, leaving\nit had\nsolution. No\nThe solemn\nBill faded",
          "testOut": "Rain\npattered\nall\naround\nas\nhe\nlowered\nhis\nwife\ninto\nher\ngrave.\nTears\nblended\namongst\nraindrops.\nWill\ncouldn't\nbelieve\nit\nhad\nhappened\nwith\nClara.\nClara's\nsoul\nheaded\ntowards\nInferis\nnow,\nleaving\nWill's\nside\nforever.\nWhy\nwouldn't\ndeath\njust\nstop?\nThousands\ndied\neveryday,\neach\nbeing\ndragged\nto\na\nworld\nright\nbelow\neveryone's\nfeet.\nBut\nthis\npassing\nwas\ndifferent.\nThe\nsolemn\nman\nturned,\nhands\nclenched.\n\"I\nwill\nrescue\nyou\nmy\nlove.\nDying\nwon't\nsteal\nyour\nspirit.\"\nFamily\nwatched\ntheir\nrelative\nwalk\naway\ndetermined.\nWilliam\ngrew\nold\nsearching\nfor\nmethods\nconcerning\nreturning\ndead\nsouls,\ntravelling\nmiles,\nnever\nforgetting.\nDetermination\ndrove\nhim,\nwhich\neventually\npaid\noff.\nAhead\nlay\none\nsolution.\nNo\ndoubt\nentered\nWilliam's\nmind\nwhile\ngrasping\nan\nancient\nsword.\nFinally,\nanswers\nwould\ncome.\nThey\ncould\ncontinue\ntogether\nagain.\nShoving\nsaid\nblade\nthrough\nvital\norgans,\nBill\nfaded\nfrom\nlife\nsmiling\nknowing\nwho\nhe'd\nsoon\nsee.\nHumans\ncannot\nobtain\nabilities\ncapable\nof\ndefeating\ninevitable\nevents.",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "constraints": "3 < [[n]] < 150\nThere will always be a single solution. For [[n]] folder-subfolder pairs, there will be [[n]]+1 nodes each with 1 or 2 connections forming a path from first parent to last child.\nNeither [[parent]] nor [[child]] will contain spaces, but can contain other ASCII characters.",
      "stubGenerator": "read n:int\nloop n read parent:word(20) child:word(20)\nwrite orderedNodes\n\nSTATEMENT\nSort it out!",
      "inputDescription": "<<Line 1 :>> An integer [[n]] representing the number of parent-child pairs in the graph\n<<Next [[n]] lines :>> A pair of space-separated strings [[parent]] [[child]] representing one directed link in the graph",
      "solutionLanguage": "Ruby",
      "outputDescription": "<<[[n]] + 1 lines :>> The nodes of the graph ordered topologically (from 'parentless parent' to 'childless child' in an order that you can traverse through the provided links)"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Topologically sorting a directed acyclic graph (DAG) is about finding an ordering of nodes such that every node is listed before its 'children' (the nodes it can reach directly). It sounds complex but can be thought of as just listing the nodes in an order such that a child never appears before its parent.<br><br>Here we look at an even simpler case, when all the nodes are in one 'branch', i.e. there is one single solution to the problem. Find the path through the directed* graph that leads from a node that only appears as a 'parent' (the root node - the first parent) to a final node that only appears as a 'child' (the last child).<br>* <strong>'Directed' means a link &quot;<const>A B</const>&quot; implies <const>A goes to B</const> but not <const>B goes to A</const>. <const>A</const> is the <var>parent</var>, <const>B</const> is the <var>child</var>.</strong><br><br><strong>e.g.</strong><br>4<br>Animals Bugs<br>Corydalidae Dobsonflies<br>Bugs Corydalidae<br>Dobsonflies Hellgrammites<br><strong>Answer:</strong><br>Animals <br>Bugs <br>Corydalidae<br>Dobsonflies <br>Hellgrammites<br><br>(Note we start at &quot;Animals&quot; and end at &quot;Hellgrammites&quot; = go from 'parentless parent' to 'childless child')<br>You can think of it as folders+subfolders, or as literal (grand-)parents and (grand-)children, or as a composition of a sentence from jumbled word-pairs:<br><br>Now get solving!</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1 :</strong> An integer <var>n</var> representing the number of parent-child pairs in the graph<br><strong>Next <var>n</var> lines :</strong> A pair of space-separated strings <var>parent</var> <var>child</var> representing one directed link in the graph</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong><var>n</var> + 1 lines :</strong> The nodes of the graph ordered topologically (from 'parentless parent' to 'childless child' in an order that you can traverse through the provided links)</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">3 &lt; <var>n</var> &lt; 150<br>There will always be a single solution. For <var>n</var> folder-subfolder pairs, there will be <var>n</var>+1 nodes each with 1 or 2 connections forming a path from first parent to last child.<br>Neither <var>parent</var> nor <var>child</var> will contain spaces, but can contain other ASCII characters.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">4\nAnimals Bugs\nDobsonflies Hellgrammites\nCorydalidae Dobsonflies\nBugs Corydalidae</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">Animals\nBugs\nCorydalidae\nDobsonflies\nHellgrammites</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 72985508998,
  "avatar": 33990586394707,
  "commentCount": 18,
  "upVotes": 5,
  "downVotes": 2,
  "validateAction": {
    "actionId": 871374,
    "progress": 1,
    "alreadyDone": false
  },
  "denyAction": {
    "actionId": 871557,
    "progress": 0.3333333333333333,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1697743596407,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}