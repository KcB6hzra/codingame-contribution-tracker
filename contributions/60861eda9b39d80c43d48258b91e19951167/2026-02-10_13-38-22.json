{
  "id": 6086,
  "activeVersion": 10,
  "score": 3,
  "votableId": 16669935,
  "codingamerId": 3338191,
  "views": 594,
  "commentableId": 16580654,
  "title": "Safe cracker",
  "status": "ACCEPTED",
  "type": "CLASHOFCODE",
  "nickname": "C_breeze",
  "publicHandle": "60861eda9b39d80c43d48258b91e19951167",
  "codingamerHandle": "6c5a569518b7f3a9a401b013e39efa5a1918333",
  "lastVersion": {
    "version": 10,
    "autocloseTime": 1613081111735,
    "data": {
      "title": "Safe cracker",
      "topics": [],
      "fastest": true,
      "reverse": false,
      "shortest": false,
      "solution": "#include <stdlib.h>\n#include <stdio.h>\n#include <string.h>\n#include <stdbool.h>\n/* solution to Safe Cracker abusing atoi() */\nint main()\n{\n    int KEY;\n    scanf(\"%d\", &KEY); fgetc(stdin);\n    char COMBINATION[250];\n    scanf(\"%[^\\n]\", COMBINATION);\n\n    char *p = COMBINATION;\n    int r = atoi(p);\n    while (*p)\n    {\n        if (*p == '>') \n        {\n            p++;\n            r = r + atoi(p);\n        }\n        else if (*p == '<') \n        {\n            p++;\n            r = r - atoi(p);\n        }\n        p++;\n    }\n    while (r < 90)\n    {\n        r += 90;\n    }\n    while (r >= 90) \n    {\n        r -= 90;\n    }\n    if (KEY >= 87) \n    {\n        if (r >= 87 || KEY - r >= 87)\n        {\n            printf(\"OPEN\\n%d\", r);\n        }\n        else \n        {\n            printf(\"LOCKED\\n%d\", r); \n        }\n    }\n    else if (KEY <= 3) \n    {\n        if (r <= 3 || 90 - r - KEY <= 3) \n        {\n            printf(\"OPEN\\n%d\", r);\n        }\n        else \n        {\n            printf(\"LOCKED\\n%d\", r);\n        }\n    }\n    else if (KEY > 3 && KEY < 87) \n    {\n        if (abs(r - KEY) <= 3) \n        {\n            printf(\"OPEN\\n%d\", r);\n        }\n        else \n        {\n            printf(\"LOCKED\\n%d\", r);\n        }\n    }\n\n    return 0;\n}",
      "statement": "An old safe has a dial lock with numbers 0 to 89. The dial may turn round and round in either direction. Being an old safe it will open within 3 numbers or closer in either direction to the [[KEY]].\n\nYour task is to determine if the safe opens or remains shut and output the opening number.\n\nExample:\n[[KEY]]  30\n[[COMBINATION]]  0>80<50>100<5>14<20\n\n`start: \n         0, move clockwise by 80\n        80, move counter clockwise by 50\n        30, move clockwise by 100\n        40, move counter clockwise by 5\n        35, move clockwise by 14\n        49, move counter clockwise by 20\n        29 \n`\n|30 - 29| <= 3  so the safe will OPEN\n\nOutput:\n\n`OPEN\n29`\n\nNote: during the combination the safe stopped on the opening number but will not open as it is a safe and needs the full [[COMBINATION]] to open. Only the final result may open the safe.",
      "testCases": [
        {
          "title": "",
          "isTest": true,
          "testIn": "30\n0>80<50>100<5>14<20",
          "testOut": "OPEN\n29",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "20\n0>50<10>135<80>13",
          "testOut": "OPEN\n18",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Zero start",
          "isTest": true,
          "testIn": "0\n0>91<89",
          "testOut": "OPEN\n2",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "0\n0<89>90",
          "testOut": "OPEN\n1",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 3",
          "isTest": true,
          "testIn": "89\n20>31<30>80<15>18",
          "testOut": "LOCKED\n14",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "88\n31>40<32>45<80",
          "testOut": "LOCKED\n4",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 4",
          "isTest": true,
          "testIn": "24\n89>2<100>88<2>30",
          "testOut": "LOCKED\n17",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "33\n0>2<20>40<20>40<2>16",
          "testOut": "LOCKED\n56",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Limit",
          "isTest": true,
          "testIn": "10\n89>39<29>1000<30",
          "testOut": "LOCKED\n79",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "10\n10>1000<9>1<100>8",
          "testOut": "OPEN\n10",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "One turn",
          "isTest": true,
          "testIn": "15\n2<118",
          "testOut": "LOCKED\n64",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 6",
          "isTest": false,
          "testIn": "7\n0>98",
          "testOut": "OPEN\n8",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Uncrackable",
          "isTest": true,
          "testIn": "40\n1>2>3<2<1>4>6>8>100<12<1>3<1000>99<1>999<1>1000>3<22>22",
          "testOut": "OPEN\n40",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 7",
          "isTest": false,
          "testIn": "70\n1>2>3<2<1>4>6>8>100<12<1>3<1000>99<1>999<1>1000>3<22",
          "testOut": "LOCKED\n18",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Around zero",
          "isTest": true,
          "testIn": "0\n0<5>8<3>9<12",
          "testOut": "OPEN\n87",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 8",
          "isTest": false,
          "testIn": "0\n0<3>5<1",
          "testOut": "OPEN\n1",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "High KEY",
          "isTest": true,
          "testIn": "88\n3<20>40<22",
          "testOut": "OPEN\n1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 9",
          "isTest": false,
          "testIn": "87\n3<20>40<23",
          "testOut": "OPEN\n0",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "constraints": "0<=[[KEY]]<=89\n1<=[[COMBINATION]] length<=250\nrotations will be either > or <\n0<=rotation number<=1000",
      "stubGenerator": "read KEY:int\nread COMBINATION:string(249)\nwrite answer",
      "inputDescription": "<<Line 1:>> [[KEY]] the number that will open the safe.\n<<Line 2:>> [[COMBINATION]] A start number followed by a sequence of rotations either {{>}} clockwise by a number and/or {{<}} counter-clockwise by a number.",
      "solutionLanguage": "C",
      "outputDescription": "<<Line 1:>> OPEN or LOCKED\n<<Line 2:>> The opening or locked number"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">An old safe has a dial lock with numbers 0 to 89. The dial may turn round and round in either direction. Being an old safe it will open within 3 numbers or closer in either direction to the <var>KEY</var>.<br><br>Your task is to determine if the safe opens or remains shut and output the opening number.<br><br>Example:<br><var>KEY</var>  30<br><var>COMBINATION</var>  0&gt;80&lt;50&gt;100&lt;5&gt;14&lt;20<br><br><pre style=\"font-family: monospace\">start: <br>         0, move clockwise by 80<br>        80, move counter clockwise by 50<br>        30, move clockwise by 100<br>        40, move counter clockwise by 5<br>        35, move clockwise by 14<br>        49, move counter clockwise by 20<br>        29 <br></pre><br>|30 - 29| &lt;= 3  so the safe will OPEN<br><br>Output:<br><br><pre style=\"font-family: monospace\">OPEN<br>29</pre><br><br>Note: during the combination the safe stopped on the opening number but will not open as it is a safe and needs the full <var>COMBINATION</var> to open. Only the final result may open the safe.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> <var>KEY</var> the number that will open the safe.<br><strong>Line 2:</strong> <var>COMBINATION</var> A start number followed by a sequence of rotations either <const>&gt;</const> clockwise by a number and/or <const>&lt;</const> counter-clockwise by a number.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>Line 1:</strong> OPEN or LOCKED<br><strong>Line 2:</strong> The opening or locked number</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">0&lt;=<var>KEY</var>&lt;=89<br>1&lt;=<var>COMBINATION</var> length&lt;=250<br>rotations will be either &gt; or &lt;<br>0&lt;=rotation number&lt;=1000</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">30\n0&gt;80&lt;50&gt;100&lt;5&gt;14&lt;20</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">OPEN\n29</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 157745926544,
  "avatar": 61183647505459,
  "commentCount": 13,
  "upVotes": 8,
  "downVotes": 5,
  "validateAction": {
    "actionId": 530187,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1612984774810,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}