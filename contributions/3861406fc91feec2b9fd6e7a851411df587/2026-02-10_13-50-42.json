{
  "id": 386,
  "activeVersion": 8,
  "score": 6,
  "votableId": 3016857,
  "codingamerId": 1473017,
  "views": 530,
  "commentableId": 2963997,
  "title": "The Optimal Urinal Problem",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "justhalf",
  "publicHandle": "3861406fc91feec2b9fd6e7a851411df587",
  "codingamerHandle": "5c8ed54d11878ff11f2236a591446b5c7103741",
  "lastVersion": {
    "version": 8,
    "autocloseTime": 1532016703560,
    "data": {
      "title": "The Optimal Urinal Problem",
      "topics": [],
      "solution": "mem_f = [0,1,1,2,2] # Memoization array\nmem_f.extend([-1]*(1500001))\n\ndef f(n):\n    '''\n    Calculate the number of people that can use the toilet\n    if the first and the last urinals are occupied\n    '''\n    global mem_f\n    if mem_f[n]>-1:\n        return mem_f[n]\n    if n%2==1:\n        mem_f[n] = 2*f((n+1)//2)-1\n        return mem_f[n]\n    else:\n        half = n//2\n        mem_f[n] = f(half)+f(half+1)-1\n        return mem_f[n]\n\ndef g(n):\n    '''\n    Calculate the maximum number of people that can use the toilet\n    and also the starting index\n    '''\n    max_gn = 0\n    max_i = -1\n    for i in range(1,(n+1)//2 + 1): # Since the problem is symmetric, just try the first half\n        gn = f(i)+f(n+1-i)-1 # The core idea for this problem =)\n        if gn > max_gn:\n            max_gn = gn\n            max_i = i\n    return (max_gn, max_i)\n\nn = int(input())\nprint('{} {}'.format(*g(n)))",
      "statement": "You and your schoolmates from an all-boys school are going for a very exciting trip by bus. After some time, your bus stops so that the students can relieve themselves in a nearby public toilet.\n\nIt happens that there are [[n]] urinals in a row in the public toilet.\n\nEvery guy knows that feeling: you enter the toilet, then you find the free urinal furthest away from all other occupied urinals.\n\nYour schoolmates take it even further: they do not want to use a urinal if any of the urinals next to it is occupied.\n\nYou are the first guy among your schoolmates to enter the public toilet, initially all empty. Being the first, you have the privilege of choosing any urinal you want. You know that everyone is very excited and wants to continue the trip as soon as possible, and so you want to accommodate as many guys as possible at one time in the toilet.\n\nNow, the question is: <<which urinal should you choose to maximize the number of guys that will use the toilet at one time>>, assuming all your schoolmates line up behind you and they will enter the toilet one by one, following these rules?\n\n<<Rules>>\n1. Other than you, each guy will pick the free urinal <<furthest away from any occupied urinals>>. If there are multiple such urinals, he will just pick any.\n2. <<No>> guy will use a urinal if <<any of the urinals next to it is occupied>>.\n\nNote that the urinals are <<1-indexed>>, so the first urinal has index 1, the second one has index 2, and so on.\n\nIf there are multiple urinal indices that you can choose to achieve the objective, output the <<smallest>> one.\n\n<<Example>>\nIf there are {{7}} urinals and you choose urinal with index 1, you can fit 3 guys, as they enter in the following manner:\n\nTime 1: `1000000`\nTime 2: `1000001`\nTime 3: `1001001`\nNote that no more guys will use the urinals at this point, since it will violate rule 2.\n\nHowever, if you choose urinal with index 3, you can fit 4 guys:\n\nTime 1: `0010000`\nTime 2: `0010001`\nTime 3: `1010001`\nTime 4: `1010101`\n\nThis is the maximum, so you should output {{4 3}}.",
      "testCases": [
        {
          "title": "Tiny Toilet",
          "isTest": true,
          "testIn": "3",
          "testOut": "2 1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Tiny Toilet",
          "isTest": false,
          "testIn": "2",
          "testOut": "1 1",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Small Toilet",
          "isTest": true,
          "testIn": "5",
          "testOut": "3 1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Small Toilet",
          "isTest": false,
          "testIn": "6",
          "testOut": "3 1",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Medium-sized Toilet",
          "isTest": true,
          "testIn": "15",
          "testOut": "7 1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Medium-sized Toilet",
          "isTest": false,
          "testIn": "31",
          "testOut": "15 1",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "It's not always the first",
          "isTest": true,
          "testIn": "7",
          "testOut": "4 3",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "It's not always the first",
          "isTest": false,
          "testIn": "11",
          "testOut": "6 3",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Huge Toilet",
          "isTest": true,
          "testIn": "1032",
          "testOut": "516 8",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Huge Toilet",
          "isTest": false,
          "testIn": "1034",
          "testOut": "517 9",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Toilet Island",
          "isTest": true,
          "testIn": "22450",
          "testOut": "10241 4097",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Toilet Island",
          "isTest": false,
          "testIn": "25840",
          "testOut": "12289 8193",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Toilet World",
          "isTest": true,
          "testIn": "130247",
          "testOut": "64711 1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Toilet World",
          "isTest": false,
          "testIn": "130248",
          "testOut": "64712 1",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Toilet Universe",
          "isTest": true,
          "testIn": "1400000",
          "testOut": "655361 262145",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Toilet Universe",
          "isTest": false,
          "testIn": "1475123",
          "testOut": "688691 426547",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "2 <= [[n]] <= 1500000",
      "coverBinaryId": 134860222442045,
      "stubGenerator": "read n:int\nwrite 1 1",
      "inputDescription": "An integer [[n]] representing the number of urinals in the public toilet.",
      "solutionLanguage": "Python3",
      "outputDescription": "Two integers [[k]] and [[i]] separated by a space.\n[[k]] represents the maximum number of guys that can use the toilet at one time.\n[[i]] represents the smallest index of the urinal that you should choose."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">You and your schoolmates from an all-boys school are going for a very exciting trip by bus. After some time, your bus stops so that the students can relieve themselves in a nearby public toilet.<br><br>It happens that there are <var>n</var> urinals in a row in the public toilet.<br><br>Every guy knows that feeling: you enter the toilet, then you find the free urinal furthest away from all other occupied urinals.<br><br>Your schoolmates take it even further: they do not want to use a urinal if any of the urinals next to it is occupied.<br><br>You are the first guy among your schoolmates to enter the public toilet, initially all empty. Being the first, you have the privilege of choosing any urinal you want. You know that everyone is very excited and wants to continue the trip as soon as possible, and so you want to accommodate as many guys as possible at one time in the toilet.<br><br>Now, the question is: <strong>which urinal should you choose to maximize the number of guys that will use the toilet at one time</strong>, assuming all your schoolmates line up behind you and they will enter the toilet one by one, following these rules?<br><br><strong>Rules</strong><br>1. Other than you, each guy will pick the free urinal <strong>furthest away from any occupied urinals</strong>. If there are multiple such urinals, he will just pick any.<br>2. <strong>No</strong> guy will use a urinal if <strong>any of the urinals next to it is occupied</strong>.<br><br>Note that the urinals are <strong>1-indexed</strong>, so the first urinal has index 1, the second one has index 2, and so on.<br><br>If there are multiple urinal indices that you can choose to achieve the objective, output the <strong>smallest</strong> one.<br><br><strong>Example</strong><br>If there are <const>7</const> urinals and you choose urinal with index 1, you can fit 3 guys, as they enter in the following manner:<br><br>Time 1: <pre style=\"font-family: monospace\">1000000</pre><br>Time 2: <pre style=\"font-family: monospace\">1000001</pre><br>Time 3: <pre style=\"font-family: monospace\">1001001</pre><br>Note that no more guys will use the urinals at this point, since it will violate rule 2.<br><br>However, if you choose urinal with index 3, you can fit 4 guys:<br><br>Time 1: <pre style=\"font-family: monospace\">0010000</pre><br>Time 2: <pre style=\"font-family: monospace\">0010001</pre><br>Time 3: <pre style=\"font-family: monospace\">1010001</pre><br>Time 4: <pre style=\"font-family: monospace\">1010101</pre><br><br>This is the maximum, so you should output <const>4 3</const>.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\">An integer <var>n</var> representing the number of urinals in the public toilet.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">Two integers <var>k</var> and <var>i</var> separated by a space.<br><var>k</var> represents the maximum number of guys that can use the toilet at one time.<br><var>i</var> represents the smallest index of the urinal that you should choose.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">2 &lt;= <var>n</var> &lt;= 1500000</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">3</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">2 1</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 240250281203,
  "avatar": 5020626234049,
  "commentCount": 12,
  "upVotes": 7,
  "downVotes": 1,
  "validateAction": {
    "actionId": 233819,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}