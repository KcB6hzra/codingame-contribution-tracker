{
  "id": 4821,
  "activeVersion": 9,
  "score": 10,
  "votableId": 12377046,
  "codingamerId": 2130169,
  "views": 398,
  "commentableId": 12301832,
  "title": "3×N Tiling",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "CyberLemonade",
  "publicHandle": "4821786f6288b7add69280793995e77ba058",
  "codingamerHandle": "d8a0152458f424d53995a613b5abea4f9610312",
  "lastVersion": {
    "version": 9,
    "autocloseTime": 1581753077865,
    "data": {
      "title": "3×N Tiling",
      "topics": [
        {
          "id": 127,
          "handle": "tiling",
          "labelMap": {
            "1": "Tiling",
            "2": "Tiling"
          },
          "puzzleCount": 1,
          "parentTopicId": 93
        },
        {
          "id": 60,
          "handle": "dynamic-programming",
          "labelMap": {
            "1": "Programmation dynamique",
            "2": "Dynamic programming"
          },
          "pageTitle": "Dynamic programming: exercises and theory",
          "puzzleCount": 14,
          "parentTopicId": 41,
          "contentDetailsId": 85
        }
      ],
      "solution": "import java.util.Scanner;\n\nclass Solution {\n    static final int MOD = 1000000007;\n    \n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        \n        int T = in.nextInt();\n        \n        while (T-- > 0) {\n            long answer = 0;\n            \n            switch (in.nextInt()) {\n                case 1: answer = solve1(in.nextInt()); break;\n                case 2: answer = solve2(in.nextInt()); break;\n                case 3: answer = solve3(in.nextInt()); break;\n            }\n            \n            System.out.println(answer);\n        }\n    }\n    \n    static long solve3(int N) {\n        long[] dp1 = new long[N+1];\n        long[] dp2 = new long[N+1];\n        long[] dp3 = new long[N+1];\n        \n        try {\n            dp1[0] = 1; dp2[0] = 0; dp3[0] = 0;\n            dp1[1] = 1; dp2[1] = 0; dp3[1] = 0;\n            dp1[2] = 1; dp2[2] = 0; dp3[2] = 1;\n        } catch (Exception e) {\n            return dp1[N];\n        }\n        \n        for (int i = 3; i <= N; i++) {\n            dp1[i] = (dp1[i-1] + dp1[i-3] + 2*dp2[i-2]) % MOD;\n            dp2[i] = (dp3[i-2] + dp2[i-3]) % MOD;\n            dp3[i] = (dp3[i-3] + dp1[i-2]) % MOD;\n        }\n        \n        return dp1[N];\n    }\n    \n    static long solve2(int N) {\n        long[] dp = new long[N+1];\n        \n        try {\n            dp[2] = 1;\n            dp[3] = 1;\n        } catch (Exception e) {\n            return dp[N];\n        }\n        \n        for (int i = 4; i <= N; i++) {\n            dp[i] = (dp[i-2] + dp[i-3]) % MOD;\n        }\n        \n        return dp[N];\n    }\n    \n    static long solve1(int N) {\n        switch (N % 3) {\n            case 0 : return 1;\n            default : return 0;\n        }\n    }\n}",
      "statement": "<<The Problem:>>\n\nYou are required to fill an [[K]] × [[N]] grid using the following pieces:\n\nA 2×2 Piece:`┌───┐ \n│   │\t \n└───┘`A 3×1 Piece which can be placed in two ways:`┌─────┐ \n└─────┘\n┌─┐\n│ │\n│ │\n└─┘`Given that [[K]] is always either {{1}}, {{2}} or {{3}}.\n\nYou have to output the total number of ways of doing this.\n\n-------------------------------------------------- xxx --------------------------------------------------\n\n<<Rules:>>\n\n1. The entire grid must be filled i.e. there can be no empty cell.\n\n2. No 2 tiles can overlap.\n\n3. As already pointed above, the {{3×1}} Tile can be placed horizontally or vertically.\n\n4. Since the answer might be large output it modulo {{10⁹+7}}.\n\n5. Note that there may also be 0 ways of filling a particular grid.\n\n-------------------------------------------------- xxx --------------------------------------------------\n\n<<Examples:>>\n\n1. [[K]] = {{1}} and [[N]] = {{6}}:`┌─────┬─────┐\n└─────┴─────┘`So there is only {{1}} way of doing this.\n\n\n2. [[K]] = {{2}} and [[N]] = {{6}}: `┌─────┬─────┐  ┌───┬───┬───┐\n├─────┼─────┤  │   │   │   │\n└─────┴─────┘  └───┴───┴───┘`So there are {{2}} ways of doing this.\n\n\n3. [[K]] = {{3}} and [[N]] = {{6}}: `┌─────┬─────┐  ┌───┬───┬───┐  ┌─────┬─────┐  ┌─┬─┬─────┬─┐\n├─────┼─────┤  │   │   │   │  ├───┬─┴─┬───┤  │ │ ├─────┤ │\n├─────┼─────┤  ├───┴─┬─┴───┤  │   │   │   │  │ │ ├─────┤ │\n└─────┴─────┘  └─────┴─────┘  └───┴───┴───┘  └─┴─┴─────┴─┘\n┌─┬─────┬─┬─┐  ┌─┬─┬─┬─────┐  ┌─────┬─┬─┬─┐  ┌─┬─┬─┬─┬─┬─┐\n│ ├─────┤ │ │  │ │ │ ├─────┤  ├─────┤ │ │ │  │ │ │ │ │ │ │\n│ ├─────┤ │ │  │ │ │ ├─────┤  ├─────┤ │ │ │  │ │ │ │ │ │ │\n└─┴─────┴─┴─┘  └─┴─┴─┴─────┘  └─────┴─┴─┴─┘  └─┴─┴─┴─┴─┴─┘`So there are {{8}} ways of doing this.",
      "testCases": [
        {
          "title": "1×N Possible",
          "isTest": true,
          "testIn": "2\n1 6\n1 9",
          "testOut": "1\n1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "1×N Possible",
          "isTest": false,
          "testIn": "2\n1 18\n1 27",
          "testOut": "1\n1",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "1×N Impossible",
          "isTest": true,
          "testIn": "2\n1 5\n1 10",
          "testOut": "0\n0",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "1×N Impossible",
          "isTest": false,
          "testIn": "2\n1 11\n1 13",
          "testOut": "0\n0",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "1×N Mixed",
          "isTest": true,
          "testIn": "5\n1 6\n1 19\n1 23\n1 33\n1 69",
          "testOut": "1\n0\n0\n1\n1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "1×N Mixed",
          "isTest": false,
          "testIn": "5\n1 7\n1 20\n1 24\n1 34\n1 72",
          "testOut": "0\n0\n1\n0\n1",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "2×N Simple",
          "isTest": true,
          "testIn": "3\n2 1\n2 2\n2 3",
          "testOut": "0\n1\n1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "2×N Simple",
          "isTest": false,
          "testIn": "3\n2 2\n2 3\n2 1",
          "testOut": "1\n1\n0",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "2×N Intermediate",
          "isTest": true,
          "testIn": "10\n2 1\n2 12\n2 32\n2 14\n2 35\n2 64\n2 17\n2 84\n2 94\n2 10",
          "testOut": "0\n12\n3329\n21\n7739\n26931732\n49\n459895608\n155791907\n7",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "2×N Intermediate",
          "isTest": false,
          "testIn": "10\n2 94\n2 59\n2 91\n2 13\n2 76\n2 45\n2 25\n2 14\n2 29\n2 100",
          "testOut": "155791907\n6601569\n406819320\n16\n786584466\n128801\n465\n21\n1432\n976832331",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "2×N Advanced",
          "isTest": true,
          "testIn": "10\n2 999891\n2 929992\n2 999993\n2 999994\n2 999995\n2 999996\n2 999997\n2 999998\n2 999999\n2 1000000",
          "testOut": "433872130\n366399507\n847048274\n489075454\n306037436\n336123721\n795112890\n642161157\n131236604\n437274040",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "2×N Advanced",
          "isTest": false,
          "testIn": "10\n2 267375\n2 314069\n2 191108\n2 143274\n2 329214\n2 136052\n2 760158\n2 683311\n2 574588\n2 154319",
          "testOut": "601775805\n742573900\n269755770\n268411047\n617127440\n787096049\n960979365\n663908159\n656478681\n493534367",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "3×N Simple",
          "isTest": true,
          "testIn": "3\n3 1\n3 2\n3 3",
          "testOut": "1\n1\n2",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "3×N Simple",
          "isTest": false,
          "testIn": "3\n3 2\n3 1\n3 3",
          "testOut": "1\n1\n2",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "3×N Intermediate",
          "isTest": true,
          "testIn": "10\n3 1\n3 12\n3 31\n3 24\n3 65\n3 16\n3 72\n3 18\n3 94\n3 110",
          "testOut": "1\n154\n1960146\n59976\n188449980\n1131\n548886777\n3025\n245739458\n896593999",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "3×N Intermediate",
          "isTest": false,
          "testIn": "10\n3 19\n3 94\n3 50\n3 36\n3 17\n3 43\n3 62\n3 26\n3 34\n3 11",
          "testOut": "5012\n245739458\n156097156\n23615683\n1822\n770841473\n623116829\n162370\n8727650\n89",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "3×N Advanced",
          "isTest": true,
          "testIn": "10\n3 999891\n3 929992\n3 999993\n3 999994\n3 999995\n3 999996\n3 999997\n3 999998\n3 999999\n3 1000000",
          "testOut": "102638742\n215921974\n318705223\n176438573\n600909870\n661721943\n261760082\n470099529\n593545610\n741146254",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "3×N Advanced",
          "isTest": false,
          "testIn": "10\n3 968928\n3 332954\n3 920634\n3 263725\n3 815490\n3 360763\n3 815611\n3 781955\n3 248103\n3 94262",
          "testOut": "40563182\n892685369\n835746828\n578040437\n807515055\n149010066\n818007399\n826526750\n844848596\n753942609",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Mixed",
          "isTest": true,
          "testIn": "10\n2 128377\n2 445813\n1 282208\n1 229853\n3 356357\n3 90088\n2 592159\n2 675552\n2 711522\n2 609020",
          "testOut": "836646029\n773689032\n0\n0\n563364970\n256394835\n590867080\n37985552\n729307813\n860329205",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Mixed",
          "isTest": false,
          "testIn": "10\n3 482935\n3 300044\n1 757252\n1 194944\n1 159790\n2 627334\n1 87220\n3 35348\n1 650870\n2 945496",
          "testOut": "833820105\n175927985\n0\n0\n0\n788313397\n0\n870102104\n0\n590702821",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "You might want to check these",
          "isTest": true,
          "testIn": "10\n3 51\n3 52\n3 47\n3 48\n3 12701\n3 12702\n3 407879\n3 407880\n3 576692\n3 576693",
          "testOut": "388388888\n96156858\n648358985\n292939981\n796996319\n502490482\n468320055\n636604371\n757805701\n674798346",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Overflows",
          "isTest": false,
          "testIn": "10\n3 51\n3 52\n3 47\n3 48\n3 12701\n3 12702\n3 407879\n3 407880\n3 576692\n3 576693",
          "testOut": "388388888\n96156858\n648358985\n292939981\n796996319\n502490482\n468320055\n636604371\n757805701\n674798346",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "1 ≤ [[T]] ≤ 10\n1 ≤ [[K]] ≤ 3\n1 ≤ [[N]] ≤ 10⁶",
      "coverBinaryId": 39402603688981,
      "stubGenerator": "read T:int\nloop T read K:int N:int\nloop T write W",
      "inputDescription": "<<Line 1:>> An integer [[T]], the number of test cases\n<<Next [[T]] Lines:>> Integers [[K]] and [[N]], the height and width of the grid respectively",
      "solutionLanguage": "Java",
      "outputDescription": "<<First [[T]] Lines:>> An integer [[W]], the total number of ways of tiling the respective grid modulo 10⁹ + 7"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\"><strong>The Problem:</strong><br><br>You are required to fill an <var>K</var> &times; <var>N</var> grid using the following pieces:<br><br>A 2&times;2 Piece:<pre style=\"font-family: monospace\">┌───┐ <br>│   │\t <br>└───┘</pre>A 3&times;1 Piece which can be placed in two ways:<pre style=\"font-family: monospace\">┌─────┐ <br>└─────┘<br>┌─┐<br>│ │<br>│ │<br>└─┘</pre>Given that <var>K</var> is always either <const>1</const>, <const>2</const> or <const>3</const>.<br><br>You have to output the total number of ways of doing this.<br><br>-------------------------------------------------- xxx --------------------------------------------------<br><br><strong>Rules:</strong><br><br>1. The entire grid must be filled i.e. there can be no empty cell.<br><br>2. No 2 tiles can overlap.<br><br>3. As already pointed above, the <const>3&times;1</const> Tile can be placed horizontally or vertically.<br><br>4. Since the answer might be large output it modulo <const>10⁹+7</const>.<br><br>5. Note that there may also be 0 ways of filling a particular grid.<br><br>-------------------------------------------------- xxx --------------------------------------------------<br><br><strong>Examples:</strong><br><br>1. <var>K</var> = <const>1</const> and <var>N</var> = <const>6</const>:<pre style=\"font-family: monospace\">┌─────┬─────┐<br>└─────┴─────┘</pre>So there is only <const>1</const> way of doing this.<br><br><br>2. <var>K</var> = <const>2</const> and <var>N</var> = <const>6</const>: <pre style=\"font-family: monospace\">┌─────┬─────┐  ┌───┬───┬───┐<br>├─────┼─────┤  │   │   │   │<br>└─────┴─────┘  └───┴───┴───┘</pre>So there are <const>2</const> ways of doing this.<br><br><br>3. <var>K</var> = <const>3</const> and <var>N</var> = <const>6</const>: <pre style=\"font-family: monospace\">┌─────┬─────┐  ┌───┬───┬───┐  ┌─────┬─────┐  ┌─┬─┬─────┬─┐<br>├─────┼─────┤  │   │   │   │  ├───┬─┴─┬───┤  │ │ ├─────┤ │<br>├─────┼─────┤  ├───┴─┬─┴───┤  │   │   │   │  │ │ ├─────┤ │<br>└─────┴─────┘  └─────┴─────┘  └───┴───┴───┘  └─┴─┴─────┴─┘<br>┌─┬─────┬─┬─┐  ┌─┬─┬─┬─────┐  ┌─────┬─┬─┬─┐  ┌─┬─┬─┬─┬─┬─┐<br>│ ├─────┤ │ │  │ │ │ ├─────┤  ├─────┤ │ │ │  │ │ │ │ │ │ │<br>│ ├─────┤ │ │  │ │ │ ├─────┤  ├─────┤ │ │ │  │ │ │ │ │ │ │<br>└─┴─────┴─┴─┘  └─┴─┴─┴─────┘  └─────┴─┴─┴─┘  └─┴─┴─┴─┴─┴─┘</pre>So there are <const>8</const> ways of doing this.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> An integer <var>T</var>, the number of test cases<br><strong>Next <var>T</var> Lines:</strong> Integers <var>K</var> and <var>N</var>, the height and width of the grid respectively</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>First <var>T</var> Lines:</strong> An integer <var>W</var>, the total number of ways of tiling the respective grid modulo 10⁹ + 7</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">1 &le; <var>T</var> &le; 10<br>1 &le; <var>K</var> &le; 3<br>1 &le; <var>N</var> &le; 10⁶</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">2\n1 6\n1 9</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">1\n1</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 189579827778,
  "avatar": 57032502077757,
  "commentCount": 28,
  "upVotes": 10,
  "downVotes": 0,
  "validateAction": {
    "actionId": 424911,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1581151280162,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}