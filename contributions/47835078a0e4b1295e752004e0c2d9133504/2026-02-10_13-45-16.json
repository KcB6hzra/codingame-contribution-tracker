{
  "id": 4783,
  "activeVersion": 9,
  "score": 14,
  "votableId": 12263475,
  "codingamerId": 1489865,
  "views": 571,
  "commentableId": 12188560,
  "title": "Twixt-PP",
  "status": "ACCEPTED",
  "type": "PUZZLE_MULTI",
  "nickname": "EricSMSO",
  "publicHandle": "47835078a0e4b1295e752004e0c2d9133504",
  "codingamerHandle": "f5f8fd68a484329ecd629d610c8d05755689841",
  "lastVersion": {
    "version": 9,
    "autocloseTime": 1580405943795,
    "data": {
      "title": "Twixt-PP",
      "topics": [],
      "refereeMd5": "1489865/4df5de0808a228f8a7d25bf23781e2fc",
      "testHandle": "83448376c73298694dde1d7b92d2e68ec4a47b",
      "viewerCode": "var Drawer=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";n.r(e);var r={baseUrl:\"https://cdn-games.codingame.com/community/1489865-1577743749040/\",images:{\"logo.png\":\"a226143e4302fa22cc39fa254c9af4bb415758edc6e36a00d6278b1b89ac01b5.png\"},sprites:[],fonts:[]};function o(t,e,n){return t<=e?t+(e-t)*n:e+(t-e)*(1-n)}function i(t,e,n){return Math.min(1,Math.max(0,(n-(r=t))/(e-r)));var r}function a(t,e,n,r,o){return o=o||0,Math.min(n/(t+o),r/(e+o))}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=[],u=[],l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"listen\",value:function(t){if(\"function\"!=typeof t)throw new TypeError(t+\" is not a function\");u.push(t)}},{key:\"push\",value:function(t){c.push(t),u.forEach((function(e){return e(t)}))}}],null&&s(e.prototype,null),n&&s(e,n),t}();function f(t){return(f=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function y(t,e){return!e||\"object\"!==f(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}function p(t){var e=\"function\"==typeof Map?new Map:void 0;return(p=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return h(t,arguments,b(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,t)})(t)}function h(t,e,n){return(h=function(){if(\"undefined\"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if(\"function\"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(t){return}}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&d(o,n.prototype),o}).apply(null,arguments)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(){function t(e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),(r=y(this,b(t).call(this,\"Invalid color token: there is no player at index \".concat(e,\". Make sure to use getColorToken() if you want the color of a specific player.\")))).playerIdx=e,r.cause=n,r.name=\"InvalidPlayerColorTokenError\",r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(t,p(Error)),t}();function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){x(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t,e,n){return n<1?t:e}var O={type:Number,lerpMethod:function(t,e,n){if(null===e)return null;var r={r:(16711680&t)>>16,g:(65280&t)>>8,b:255&t},i={r:(16711680&e)>>16,g:(65280&e)>>8,b:255&e};return o(r.r,i.r,n)<<16|o(r.g,i.g,n)<<8|o(r.b,i.b,n)},convert:function(t,e){var n=-(t+1);try{return t<0?e.players[n].color:t}catch(t){return l.push(new v(n)),16777215}}},R={type:String,lerpMethod:w,convert:function(t){return k(t)}},S={type:Number,lerpMethod:function(t,e,n,r){for(;e>t+Math.PI;)e-=2*Math.PI;for(;e<t-Math.PI;)e+=2*Math.PI;return(void 0!==r&&Math.abs(e-t)>r?e:t+(e-t)*n)%(2*Math.PI)},convert:function(t){return t*Math.PI/180}},P={type:Number,lerpMethod:w},C={type:function(t){return\"1\"===t},lerpMethod:w},T={type:Number,lerpMethod:function(t,e,n){return e<t?e:o(t,e,n)}},j={default:{type:Number,lerpMethod:o},visible:C,rotation:S,skewX:S,skewY:S,fillColor:O,lineColor:O,strokeColor:O,tint:O,animationProgressTime:T,mask:P,baseWidth:P,baseHeight:P,image:R,images:R,scaleMode:R,restarted:{type:String,convert:function(t,e,n,r){return t?{date:n.date+r*n.frameDuration}:null},lerpMethod:w},playing:C,duration:P,blendMode:P,loop:C,text:g({},R,{convert:function(t,e){t=k(t);for(var n=/\\$(\\d)/g,r=n.exec(t),o=\"\",i=0;r;)o+=t.substring(i,r.index),o+=e.players[+r[1]].name,i=r.index+r[0].length,r=n.exec(t);return o+t.substring(i)}}),fontFamily:R,fontWeight:R,children:g({},R,{convert:function(t){return t?t.split(\",\").map((function(t){return+t})):[]}}),points:g({},R,{convert:function(t){return t?t.split(\",\").map((function(t){return parseInt(t)})):[]},lerpMethod:function(t,e,n){return t.length===e.length?t.map((function(t,r){return o(t,e[r],n)})):w(t,e,n)}})};function k(t){var e=t.split(\"\\\\'\").join(\"'\");return e.includes(\" \")||e.includes(\";\")?e.slice(1,e.length-1):e}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z(t){return(z=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var I=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.defaultState={x:0,y:0,scaleX:1,scaleY:1,skewX:0,skewY:0,zIndex:0,alpha:1,visible:!1,rotation:0,mask:-1},this.states={}}var e,n,r;return e=t,r=[{key:\"createState\",value:function(t,e,n){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){E(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({t:0<arguments.length&&void 0!==t?t:1},1<arguments.length&&void 0!==e?e:{},{curve:2<arguments.length&&void 0!==n?n:{}})}}],(n=[{key:\"init\",value:function(){this.properties=Object.keys(this.defaultState),this.initDisplay(),this.currentState=Object.assign({},this.defaultState),\"object\"===z(this.graphics)&&this.container.addChild(this.graphics)}},{key:\"setHidden\",value:function(t){this.hide=t,this.container.visible=this.currentState.visible&&!this.hide}},{key:\"addState\",value:function(e,n,r){this.states[r]||(this.states[r]=[]);var o=t.createState(e,n.values,n.curve),i=this.states[r].find((function(t){return t.t===e}));i&&0===Object.keys(o.curve).length&&(o.curve=i.curve),i?(F(o)||F(i)||l.push(new Error(\"Different updates for same t \"+e)),Object.assign(i,o)):this.states[r].push(o)}},{key:\"set\",value:function(t,e,n){this.addState(t,e,n)}},{key:\"render\",value:function(t,e,n){var r=this.states[e.number];this.container.visible=!1;var o,a=null,s=1;if(r&&r.length){for(var c=0;c<r.length-1&&r[c].t<t;)c++;if(a=r[c-1],o=r[c],a)s=i(a.t,o.t,t);else{var u=Object.keys(this.states),l=u.indexOf(e.number.toString())-1;for(-1===l&&(l=u.length-1);0<=l&&u[l]>=e.number;)l--;var f=this.states[u[l]]||[];s=!(a=f[f.length-1])&&t>=o.t?(a=o,1):i(0,o.t,t)}}else{for(var y=Object.keys(this.states),p=y.length-1;0<=p&&y[p]>e.number;)p--;var h=this.states[y[p]];null!=h?o=a=h[h.length-1]:Object.assign(this.currentState,this.defaultState)}if(a){var d={},b=Object.assign({},this.currentState),v=!0,m=!1,g=void 0;try{for(var x,w=this.properties[Symbol.iterator]();!(v=(x=w.next()).done);v=!0){var O=x.value,R=(j[O]||j.default).lerpMethod,S=o.curve[O]||function(t){return t},P=R(a[O],o[O],S(s));P!==this.currentState[O]&&(d[O]=!0,b[O]=P)}}catch(t){m=!0,g=t}finally{try{v||null==w.return||w.return()}finally{if(m)throw g}}this.updateDisplay(b,d,n,e,t),Object.assign(this.currentState,b),this.container.visible=this.container._visible,d.children&&(n.mustResetTree=!0,\"function\"==typeof this.postUpdate&&n.updatedBuffers.push(this)),d.zIndex&&(n.mustResort=!0),d.mask&&(n.maskUpdates[this.id]=b.mask),0!==Object.keys(d).length&&this.parent&&this.parent.notifyChange()}}},{key:\"notifyChange\",value:function(){this.parent&&this.parent.notifyChange()}},{key:\"initDisplay\",value:function(){this.container=new PIXI.Container,this.container.zIndex=this.defaultState.zIndex,this.container.id=this.id,this.container._visible=this.defaultState.visible}},{key:\"updateDisplay\",value:function(t,e,n){this.container.zIndex=t.zIndex,this.container.alpha=t.alpha,(e.x||e.y)&&this.container.position.set(t.x*n.toWorldUnits,t.y*n.toWorldUnits),(e.scaleX||e.scaleY)&&this.container.scale.set(t.scaleX||1e-8,t.scaleY||1e-8),this.container.rotation=t.rotation,this.container._visible=t.visible&&!this.hide,this.container.skew.set(t.skewX,t.skewY)}}])&&D(e.prototype,n),r&&D(e,r),t}();function F(t){return Object.keys(t).length===Object.keys(I.createState()).length}function M(t){return(M=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function L(t,e,n){return(L=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=W(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function X(t,e,n){return e&&A(t.prototype,e),n&&A(t,n),t}function Y(t,e){return(Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var U=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=function(t,e){return!e||\"object\"!==M(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,W(t).call(this)),Object.assign(e.defaultState,{fillColor:t.defaultFillColor(),lineWidth:t.defaultLineWidth(),lineColor:t.defaultLineColor(),fillAlpha:t.defaultFillAlpha(),lineAlpha:t.defaultLineAlpha(),blendMode:PIXI.BLEND_MODES.NORMAL}),e}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y(t,e)}(t,I),X(t,null,[{key:\"defaultLineWidth\",value:function(){return 0}},{key:\"defaultFillColor\",value:function(){return 16777215}},{key:\"defaultLineColor\",value:function(){return 0}},{key:\"defaultLineAlpha\",value:function(){return 1}},{key:\"defaultFillAlpha\",value:function(){return 1}}]),X(t,[{key:\"initDisplay\",value:function(){L(W(t.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Graphics,this.graphics.lineStyle(this.defaultState.lineWidth,this.defaultState.lineColor,this.defaultState.lineAlpha),null!==this.defaultState.fillColor&&this.graphics.beginFill(this.defaultState.fillColor,this.defaultState.fillAlpha)}},{key:\"updateDisplay\",value:function(e,n,r){L(W(t.prototype),\"updateDisplay\",this).call(this,e,n,r),this.graphics.blendMode=e.blendMode}}]),t}();function H(t){return(H=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function B(t,e,n){return(B=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=K(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N(t,e,n){return e&&G(t.prototype,e),n&&G(t,n),t}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var J=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),(e=function(t,e){return!e||\"object\"!==H(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,K(t).call(this))).defaultState.radius=t.defaultRadius(),e}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(t,U),N(t,null,[{key:\"defaultRadius\",value:function(){return 100}}]),N(t,[{key:\"initDisplay\",value:function(){B(K(t.prototype),\"initDisplay\",this).call(this),this.graphics.drawCircle(0,0,this.defaultState.radius),null!==this.defaultState.fillColor&&this.graphics.endFill()}},{key:\"updateDisplay\",value:function(e,n,r){B(K(t.prototype),\"updateDisplay\",this).call(this,e,n,r),(n.radius||n.lineColor||n.lineWidth||n.fillColor||n.fillAlpha||n.lineAlpha)&&(this.graphics.clear(),null!==e.fillColor&&this.graphics.beginFill(e.fillColor,e.fillAlpha),this.graphics.lineStyle(r.atLeastOnePixel(e.lineWidth),e.lineColor),this.graphics.drawCircle(0,0,e.radius*r.toWorldUnits),null!==e.fillColor&&this.graphics.endFill())}}]),t}();function V(t){return(V=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Q(t,e,n){return(Q=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Z(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Z(t){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function et(t,e,n){return e&&tt(t.prototype,e),n&&tt(t,n),t}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rt=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),(e=function(t,e){return!e||\"object\"!==V(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,Z(t).call(this))).defaultState.x2=t.defaultPosition(),e.defaultState.y2=t.defaultPosition(),e}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(t,U),et(t,null,[{key:\"defaultPosition\",value:function(){return 100}}]),et(t,[{key:\"initDisplay\",value:function(){Q(Z(t.prototype),\"initDisplay\",this).call(this)}},{key:\"updateDisplay\",value:function(e,n,r){Q(Z(t.prototype),\"updateDisplay\",this).call(this,e,n,r),(n.lineWidth||n.lineColor||n.lineAlpha||n.x2||n.y2)&&(this.graphics.clear(),this.graphics.lineStyle(r.atLeastOnePixel(e.lineWidth),e.lineColor,e.lineAlpha),this.graphics.moveTo(0,0),this.graphics.lineTo(-this.container.x+e.x2*r.toWorldUnits,-this.container.y+e.y2*r.toWorldUnits))}}]),t}();function ot(t){return(ot=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function it(t,e,n){return(it=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=at(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function st(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ct(t,e,n){return e&&st(t.prototype,e),n&&st(t,n),t}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lt=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=function(t,e){return!e||\"object\"!==ot(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,at(t).call(this)),Object.assign(e.defaultState,{width:t.defaultSideLength(),height:t.defaultSideLength()}),e}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}(t,U),ct(t,null,[{key:\"defaultSideLength\",value:function(){return 100}}]),ct(t,[{key:\"initDisplay\",value:function(){it(at(t.prototype),\"initDisplay\",this).call(this),this.graphics.drawRect(0,0,this.defaultState.width,this.defaultState.height),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(e,n,r){it(at(t.prototype),\"updateDisplay\",this).call(this,e,n,r),(n.lineWidth||n.lineColor||n.width||n.height||n.lineAlpha||n.fillColor)&&(this.graphics.clear(),null!==e.fillColor&&this.graphics.beginFill(e.fillColor,e.fillAlpha),this.graphics.lineStyle(r.atLeastOnePixel(e.lineWidth),e.lineColor,e.lineAlpha),this.graphics.drawRect(0,0,e.width*r.toWorldUnits,e.height*r.toWorldUnits),null!==e.fillColor&&this.graphics.endFill())}}]),t}();function ft(t){return(ft=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function yt(t,e,n){return(yt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function pt(t){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dt(t,e,n){return e&&ht(t.prototype,e),n&&ht(t,n),t}function bt(t,e){return(bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var vt=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=function(t,e){return!e||\"object\"!==ft(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,pt(t).call(this)),Object.assign(e.defaultState,{anchorX:t.defaultAnchor(),anchorY:t.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215}),e}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bt(t,e)}(t,I),dt(t,null,[{key:\"defaultAnchor\",value:function(){return 0}}]),dt(t,[{key:\"initDisplay\",value:function(){yt(pt(t.prototype),\"initDisplay\",this).call(this)}},{key:\"updateDisplay\",value:function(e,n,r){yt(pt(t.prototype),\"updateDisplay\",this).call(this,e,n,r),this.graphics.anchor.set(e.anchorX,e.anchorY),this.graphics.blendMode=e.blendMode,this.graphics.tint=e.tint}}]),t}();function mt(t){return(mt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function gt(t){var e=\"function\"==typeof Map?new Map:void 0;return(gt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return xt(t,arguments,Ot(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),wt(r,t)})(t)}function xt(t,e,n){return(xt=function(){if(\"undefined\"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if(\"function\"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(t){return}}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&wt(o,n.prototype),o}).apply(null,arguments)}function wt(t,e){return(wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ot(t){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rt=function(){function t(e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),(r=function(t,e){return!e||\"object\"!==mt(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,Ot(t).call(this,'Could not find image: \"'+e+'\". Make sure it is in your assets folder and is spelled correctly.'))).image=e,r.cause=n,r.name=\"MissingImageError\",r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wt(t,e)}(t,gt(Error)),t}();function St(t){return(St=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ct(t,e,n){return(Ct=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Tt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Tt(t){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jt(t,e){return(jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var kt=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=function(t,e){return!e||\"object\"!==St(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,Tt(t).call(this)),Object.assign(e.defaultState,{image:null,baseWidth:null,baseHeight:null,scaleMode:\"LINEAR\"}),e.missingTextures={},e}var e,n;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jt(t,e)}(t,vt),e=t,(n=[{key:\"updateDisplay\",value:function(e,n,r){if(Ct(Tt(t.prototype),\"updateDisplay\",this).call(this,e,n,r),n.image)try{null!==e.image?this.graphics.texture=PIXI.Texture.fromFrame(e.image):this.graphics.texture=PIXI.Texture.EMPTY,this.graphics.texture.baseTexture.scaleMode=PIXI.SCALE_MODES[e.scaleMode]}catch(n){this.missingTextures[e.image]||(this.missingTextures[e.image]=!0,l.push(new Rt(e.image,n)))}n.baseWidth&&(this.graphics.width=e.baseWidth),n.baseHeight&&(this.graphics.height=e.baseHeight)}}])&&Pt(e.prototype,n),t}();function _t(t){return(_t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zt(t,e){return!e||\"object\"!==_t(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}function Dt(t,e,n){return(Dt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=It(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function It(t){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ft(t,e){return(Ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Mt=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),zt(this,It(t).apply(this,arguments))}var e,n;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ft(t,e)}(t,kt),e=t,(n=[{key:\"initDisplay\",value:function(){Dt(It(t.prototype),\"initDisplay\",this).call(this),null===this.defaultState.image?this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY):this.graphics=PIXI.Sprite.fromFrame(this.defaultState.image)}}])&&Et(e.prototype,n),t}();function Lt(t){return(Lt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function At(t,e,n){return(At=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Xt(t){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Yt(t,e){return(Yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ut=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=function(t,e){return!e||\"object\"!==Lt(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,Xt(t).call(this)),Object.assign(e.defaultState,{text:\"\",strokeColor:0,strokeThickness:0,fillColor:0,fontSize:26,fontFamily:\"Lato\",fontWeight:\"normal\"}),e}var e,n;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yt(t,e)}(t,vt),e=t,(n=[{key:\"initDisplay\",value:function(){At(Xt(t.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Text(this.defaultState.text,{fontSize:this.defaultState.fontSize+\"px\",fontFamily:this.defaultState.fontFamily,fill:this.defaultState.fillColor})}},{key:\"updateDisplay\",value:function(e,n,r){At(Xt(t.prototype),\"updateDisplay\",this).call(this,e,n,r),this.graphics.text=e.text,this.graphics.style.stroke=e.strokeColor,this.graphics.style.strokeThickness=r.atLeastOnePixel(e.strokeThickness),this.graphics.style.fill=e.fillColor,this.graphics.style.fontSize=e.fontSize||1,this.graphics.style.fontFamily=e.fontFamily,this.graphics.style.fontWeight=e.fontWeight}}])&&Wt(e.prototype,n),t}();function Ht(t){return(Ht=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Bt(t){var e=\"function\"==typeof Map?new Map:void 0;return(Bt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Kt(t,arguments,Nt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Gt(r,t)})(t)}function Kt(t,e,n){return(Kt=function(){if(\"undefined\"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if(\"function\"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(t){return}}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Gt(o,n.prototype),o}).apply(null,arguments)}function Gt(t,e){return(Gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nt(t){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qt=function(){function t(e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),(r=function(t,e){return!e||\"object\"!==Ht(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,Nt(t).call(this,'Could not find font: \"'+e+'\". Make sure it is in your assets folder and is spelled correctly.'))).font=e,r.cause=n,r.name=\"MissingBitmapFontError\",r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gt(t,e)}(t,Bt(Error)),t}();function $t(t){return($t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vt(t,e,n){return(Vt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Qt(t){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zt(t,e){return(Zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var te=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=function(t,e){return!e||\"object\"!==$t(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,Qt(t).call(this)),Object.assign(e.defaultState,{text:\"\",fontSize:26,fontFamily:null,anchorX:vt.defaultAnchor(),anchorY:vt.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215}),e.missingFonts={},e}var e,n;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zt(t,e)}(t,I),e=t,(n=[{key:\"initDisplay\",value:function(){Vt(Qt(t.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(e,n,r){Vt(Qt(t.prototype),\"updateDisplay\",this).call(this,e,n,r),null!==e.fontFamily?PIXI.extras.BitmapText.fonts[e.fontFamily]?(0===this.graphics.children.length?(this.displayed=new PIXI.BitmapText(e.text,{font:{size:e.fontSize||1,name:e.fontFamily}}),this.graphics.addChild(this.displayed)):(this.displayed.text=e.text,this.displayed.font={size:e.fontSize||1,name:e.fontFamily}),this.displayed.anchor.set(e.anchorX,e.anchorY),this.displayed.blendMode=e.blendMode,this.displayed.tint=e.tint):(this.missingFonts[e.fontFamily]||(this.missingFonts[e.fontFamily]=!0,l.push(new qt(e.fontFamily))),this.graphics.removeChildren()):this.graphics.removeChildren()}}])&&Jt(e.prototype,n),t}();function ee(t){return(ee=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function re(t,e,n){return(re=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=oe(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function oe(t){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ie(t,e){return(ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ae=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=function(t,e){return!e||\"object\"!==ee(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,oe(t).call(this)),Object.assign(e.defaultState,{children:[]}),e}var e,n;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ie(t,e)}(t,I),e=t,(n=[{key:\"initDisplay\",value:function(){re(oe(t.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(e,n,r){re(oe(t.prototype),\"updateDisplay\",this).call(this,e,n,r)}},{key:\"childrenContainer\",get:function(){return this.graphics}}])&&ne(e.prototype,n),t}();function se(t){return(se=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function ce(t,e){return!e||\"object\"!==se(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}function ue(t){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function le(t,e){return(le=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fe=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),ce(this,ue(t).apply(this,arguments))}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&le(t,e)}(t,ae),t}(),ye=null,pe=[];function he(t){return(he=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function de(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function be(t,e){return!e||\"object\"!==he(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}function ve(t,e,n){return(ve=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=me(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function me(t){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ge(t,e){return(ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xe=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),be(this,me(t).apply(this,arguments))}var e,n;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ge(t,e)}(t,ae),e=t,(n=[{key:\"initDisplay\",value:function(){var e;ve(me(t.prototype),\"initDisplay\",this).call(this),this.gameTexture=PIXI.RenderTexture.create(1920,1080),e=this.gameTexture,pe.push(e),this.graphics=new PIXI.Sprite(this.gameTexture),this.buffer=new PIXI.Container,this.needsRender=!0}},{key:\"postUpdate\",value:function(){this.needsRender&&(ye.render(this.buffer,this.gameTexture),this.needsRender=!1)}},{key:\"notifyChange\",value:function(){this.needsRender=!0,this.parent&&this.parent.notifyChange()}},{key:\"childrenContainer\",get:function(){return this.buffer}}])&&de(e.prototype,n),t}();function we(t){return(we=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Oe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Re(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pe(t,e,n){return(Pe=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ce(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ce(t){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Te(t,e){return(Te=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var je=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=function(t,e){return!e||\"object\"!==we(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,Ce(t).call(this)),Object.assign(e.defaultState,{images:\"\",loop:!1,duration:1e3,playing:!0,restarted:null,animationProgress:0,date:0}),e}var e,n;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Te(t,e)}(t,vt),e=t,(n=[{key:\"initDisplay\",value:function(){Pe(Ce(t.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY)}},{key:\"addState\",value:function(e,n,r,o){Pe(Ce(t.prototype),\"addState\",this).call(this,e,n,r);var i=this.states[r].find((function(t){return t.t===e})),a=o.date+o.frameDuration*e;i.date=a}},{key:\"updateDisplay\",value:function(e,n,r,o,i){if(Pe(Ce(t.prototype),\"updateDisplay\",this).call(this,e,n,r),e.images){var a=e.images.split(\",\");if(0<=e.animationProgress){var s=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oe(Object(n),!0).forEach((function(e){Re(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e,{date:o.date+o.frameDuration*i});this.computeAnimationProgressTime(e,s);var c=Math.floor(a.length*s.animationProgress),u=e.loop?a[c%a.length]:a[c]||a[a.length-1];try{this.graphics.texture=PIXI.Texture.fromFrame(u)}catch(e){l.push(new Rt(u,e))}}}else this.graphics.texture=PIXI.Texture.EMPTY}},{key:\"computeAnimationProgressTime\",value:function(t,e){e.restarted&&e.restarted.date===e.date?e.animationProgress=0:(e.animationProgress=t.animationProgress,t.playing&&(e.animationProgress+=(e.date-t.date)/t.duration))}}])&&Se(e.prototype,n),t}();function ke(t){return(ke=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function _e(t,e,n){return(_e=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ee(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ee(t){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function De(t,e,n){return e&&ze(t.prototype,e),n&&ze(t,n),t}function Ie(t,e){return(Ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Fe=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=function(t,e){return!e||\"object\"!==ke(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,Ee(t).call(this)),Object.assign(e.defaultState,{width:t.defaultSideLength(),height:t.defaultSideLength(),radius:t.defaultRadius()}),e}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ie(t,e)}(t,U),De(t,null,[{key:\"defaultSideLength\",value:function(){return 100}},{key:\"defaultRadius\",value:function(){return 20}}]),De(t,[{key:\"initDisplay\",value:function(){_e(Ee(t.prototype),\"initDisplay\",this).call(this),this.graphics.drawRoundedRect(0,0,this.defaultState.width,this.defaultState.height,this.defaultState.radius),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(e,n,r){_e(Ee(t.prototype),\"updateDisplay\",this).call(this,e,n,r),(n.lineWidth||n.lineColor||n.lineAlpha||n.fillColor||n.radius||n.height||n.width)&&(this.graphics.clear(),null!==e.fillColor&&this.graphics.beginFill(e.fillColor,e.fillAlpha),this.graphics.lineStyle(r.atLeastOnePixel(e.lineWidth),e.lineColor,e.lineAlpha),this.graphics.drawRoundedRect(0,0,e.width*r.toWorldUnits,e.height*r.toWorldUnits,e.radius*r.toWorldUnits),null!==e.fillColor&&this.graphics.endFill())}}]),t}();function Me(t){return(Me=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Le(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function We(t,e,n){return(We=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ae(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ae(t){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xe(t,e){return(Xe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ye=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=function(t,e){return!e||\"object\"!==Me(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,Ae(t).call(this)),Object.assign(e.defaultState,{points:[]}),e}var e,n;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xe(t,e)}(t,U),e=t,(n=[{key:\"initDisplay\",value:function(){We(Ae(t.prototype),\"initDisplay\",this).call(this),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(e,n,r){We(Ae(t.prototype),\"updateDisplay\",this).call(this,e,n,r),(n.lineWidth||n.lineColor||n.lineAlpha||n.fillColor||n.points)&&(this.graphics.clear(),null!==e.fillColor&&this.graphics.beginFill(e.fillColor,e.fillAlpha),this.graphics.lineStyle(r.atLeastOnePixel(e.lineWidth),e.lineColor,e.lineAlpha),this.graphics.drawPolygon(e.points.map((function(t){return t*r.toWorldUnits}))),null!==e.fillColor&&this.graphics.endFill())}}])&&Le(e.prototype,n),t}();function Ue(t){return(Ue=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function He(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Be(t,e,n){return(Be=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ke(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ke(t){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ge(t,e){return(Ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ne=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=function(t,e){return!e||\"object\"!==Ue(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,Ke(t).call(this)),Object.assign(e.defaultState,{tileX:0,tileY:0,tileScaleX:1,tileScaleY:1}),e}var e,n;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ge(t,e)}(t,kt),e=t,(n=[{key:\"initDisplay\",value:function(){Be(Ke(t.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.extras.TilingSprite(PIXI.Texture.EMPTY)}},{key:\"updateDisplay\",value:function(e,n,r){Be(Ke(t.prototype),\"updateDisplay\",this).call(this,e,n,r),this.graphics.tilePosition.x=e.tileX,this.graphics.tilePosition.y=e.tileY,this.graphics.tileScale.x=e.tileScaleX,this.graphics.tileScale.y=e.tileScaleY}}])&&He(e.prototype,n),t}();function qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var $e=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"create\",value:function(t){var e={C:J,R:lt,L:rt,S:Mt,T:Ut,X:te,G:fe,B:xe,A:je,K:Fe,P:Ye,D:Ne}[t];if(!e)throw new Error(\"Exception: entity type not found: \"+t);return new e}}],null&&qe(e.prototype,null),n&&qe(e,n),t}();function Je(t){var e=1.70158,n=0,r=1;return 0===t?0:1==(t/=1)?1:(n=n||.3,e=r<Math.abs(1)?(r=1,n/4):n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)}function Ve(t){return t<.5?2*t*t:(4-2*t)*t-1}function Qe(t){return Math.pow(t,3)}function Ze(t){return 1+Math.pow(t-1,3)}function tn(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function en(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nn(t,e,n){return e&&en(t.prototype,e),n&&en(t,n),t}var rn={r:\"rotation\",R:\"radius\",X:\"x2\",Y:\"y2\",w:\"width\",h:\"height\",t:\"tint\",f:\"fillColor\",F:\"fillAlpha\",c:\"lineColor\",W:\"lineWidth\",A:\"lineAlpha\",a:\"alpha\",i:\"image\",S:\"strokeThickness\",sc:\"strokeColor\",ff:\"fontFamily\",s:\"fontSize\",fw:\"fontWeight\",T:\"text\",ch:\"children\",sx:\"scaleX\",sy:\"scaleY\",ax:\"anchorX\",ay:\"anchorY\",kx:\"skewX\",ky:\"skewY\",v:\"visible\",z:\"zIndex\",b:\"blendMode\",I:\"images\",rs:\"restarted\",p:\"playing\",l:\"loop\",d:\"duration\",bw:\"baseWidth\",bh:\"baseHeight\",ps:\"points\",tx:\"tileX\",ty:\"tileY\",tsx:\"tileScaleX\",tsy:\"tileScaleY\",sm:\"scaleMode\"},on=function(){function t(e,n){tn(this,t),this.id=++n.instanceCount,this.type=e[0]}return nn(t,[{key:\"apply\",value:function(t){var e=$e.create(this.type);e.id=this.id,t.set(this.id,e)}}]),t}(),an=function(){function t(e,n){var o=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}(e,8),i=o[0],a=o[1],s=o[2],c=o[3],u=o[4],l=o[5],f=o[6],y=o[7];tn(this,t),this.loader=new PIXI.loaders.Loader;for(var p=0<y?y:f,h={frames:{},meta:{image:(r.baseUrl?r.baseUrl:\"\")+r.images[a]}},d=0;d<f;d++){var b=1<f?i+d:i;h.frames[b]={frame:{x:s*l+d%p*s,y:c*u+Math.floor(d/p)*c,w:s,h:c},sourceSize:{w:s,h:c},rotated:!1,trimmed:!1}}var v=\"data:text/json;charset=UTF-8,\"+JSON.stringify(h);PIXI.utils.TextureCache[v+\"_image\"]||this.loader.add(v,{crossOrigin:!0})}return nn(t,[{key:\"apply\",value:function(){var t=this;if(0<Object.keys(this.loader.resources).length)return new Promise((function(e){t.loader.load(),t.loader.on(\"complete\",e)}))}}]),t}();function sn(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function cn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var un={C:on,U:function(){function t(e,n,r){tn(this,t),this.id=+e[0],this.t=+e[1],this.params={},this.curve={};for(var o=2;o<e.length;){var i=rn[e[o]]||e[o],a=j[i]||j.default,s=a.type(e[o+1]);\"function\"==typeof a.convert&&(s=a.convert(s,n,r,this.t));var c=t.curves[e[o+2]];this.params[i]=s,o+=2,c&&(this.curve[i]=c,o+=1)}}return nn(t,null,[{key:\"curves\",get:function(){return{_:function(t){return t<1?0:1},\"\":Ve,\"\":Qe,\"\":Ze,\"~\":Je,\"\":function(){return 1}}}}]),nn(t,[{key:\"apply\",value:function(t,e){var n=t.get(this.id);n.addState(this.t,{values:this.params,curve:this.curve},e.number,e),n.stateAdded=!0}}]),t}(),L:an};function ln(t,e){for(var n=[],r=\"\",o=0,i=\"\",a=!1;o<t.length;){var s=t[o++];s===e?a?r+=s:(n.push(r),r=\"\"):\"'\"===s&&\"\\\\\"!==i?(a=!a,r+=s):\"\\\\\"===i?r+=\"'\"===s?\"\\\\'\":\"\\\\\"+s:\"\\\\\"!==s&&(r+=s),i=s}return n.push(r),n}function fn(t,e,n,r){var o=ln(e,\";\"),i=[];return o.forEach((function(e){return i.push(new t(ln(e,\" \"),n,r))})),i}var yn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"parse\",value:function(t,e,n){var r=[],o=ln(t,\"\\n\");for(var i in o){var a=un[o[i][0]];if(!a)throw new Error(\"Unrecognised command : \"+o[i][0]);r=[].concat(sn(r),sn(fn(a,o[i].slice(1),e,n)))}return r}}],null&&cn(e.prototype,null),n&&cn(e,n),t}();function pn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pn(Object(n),!0).forEach((function(e){dn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var vn={},mn=[function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.entities=new Map,this.frames=[],this.loadingAssets=0,this.extrapolationMap={},this.globalData={toWorldUnits:1,mustResetTree:!0,mustResort:!0,maskUpdates:{},updatedBuffers:[],players:[],instanceCount:0,atLeastOnePixel:function(t){return 0<t&&t<this.toPixel?this.toPixel:t}},vn.entities=this.entities}var e,n,r;return e=t,r=[{key:\"name\",get:function(){return\"entitymodule\"}}],(n=[{key:\"handleFrameData\",value:function(t,e){var n=this;if(e){var r=yn.parse(e,this.globalData,t);r&&r.forEach((function(e){var r=e.apply(n.entities,t);r&&(n.loadingAssets++,r.then((function(){n.loadingAssets--})))}))}var o=hn({},t);return o.previous=this.frames[this.frames.length-1]||o,this.extrapolate(o),o!==o.previous&&(o.previous.next=o),this.frames.push(o),o}},{key:\"lastElementOf\",value:function(t){return t[t.length-1]}},{key:\"extrapolate\",value:function(t){var e=this,n=t.number,r=t.previous.number;this.entities.forEach((function(o){if(o.stateAdded){o.stateAdded=!1,o.states[n]||(o.states[n]=[]),e.extrapolationMap[o.id]||(e.extrapolationMap[o.id]=hn({},o.defaultState));var i=o.states[n];i.sort((function(t,e){return t.t-e.t})),i.length&&1===e.lastElementOf(i).t||o.addState(1,{},n,t);var a=e.extrapolationMap[o.id];o.states[r]&&r!==n&&(a=o.states[r][o.states[r].length-1]),o.states[n]=i.map((function(t){var n=e.extrapolationMap[o.id]=hn({},e.extrapolationMap[o.id],{},t);return\"function\"==typeof o.computeAnimationProgressTime&&o.computeAnimationProgressTime(a,n),a=n}))}}))}},{key:\"reinitScene\",value:function(t,e){this.globalData.toPixel=1920/e.width*e.oversampling,this.globalData.mustResetTree=!0,vn.container=this.container=t,this.entities.forEach((function(t){t.init()}))}},{key:\"sortChildren\",value:function(t){t.children.sort((function(t,e){return t.zIndex===e.zIndex?t.id-e.id:t.zIndex-e.zIndex}))}},{key:\"stillLoading\",value:function(){return 0<this.loadingAssets}},{key:\"updateScene\",value:function(t,e,n){var r=this;if(!this.stillLoading()){for(var o in this.entities.forEach((function(t){return t.render(n,e,r.globalData)})),this.globalData.mustResetTree&&(this.reconstructTree(),this.globalData.mustResetTree=!1,this.globalData.mustResort=!0),this.globalData.mustResort&&(this.resortTree(),this.globalData.mustResort=!1),this.globalData.maskUpdates){var i=this.entities.get(+o),a=this.globalData.maskUpdates[o];i.container.mask=-1===a?null:this.entities.get(a).graphics}var s=!0,c=!1,u=void 0;try{for(var l,f=this.globalData.updatedBuffers[Symbol.iterator]();!(s=(l=f.next()).done);s=!0)l.value.postUpdate()}catch(t){c=!0,u=t}finally{try{s||null==f.return||f.return()}finally{if(c)throw u}}this.globalData.maskUpdates={}}}},{key:\"resortTree\",value:function(){var t=this;this.entities.forEach((function(e){e instanceof ae&&t.sortChildren(e.childrenContainer)})),this.sortChildren(this.container)}},{key:\"reconstructTree\",value:function(){var t=this;this.container.removeChildren(),this.entities.forEach((function(e){e instanceof ae&&(e.childrenContainer.removeChildren(),e.currentState.children.forEach((function(n){var r=t.entities.get(n);e.childrenContainer.addChild(r.container),r.parent=e})))})),this.entities.forEach((function(e){e.container.parent||t.container.addChild(e.container)}))}},{key:\"handleGlobalData\",value:function(t,e){this.globalData.players=t;var n=e.width,r=e.height;this.globalData.toWorldUnits=a(n,r,1920,1080),vn.toWorldUnits=this.globalData.toWorldUnits,vn.hasOwnProperty(\"coeff\")||Object.defineProperty(vn,\"coeff\",{get:function(){var t='The \"coeff\" property of GraphicEntityModule\\'s API is deprecated, please use \"toWorldUnits\" instead',e=(new Error).stack;return console.groupCollapsed?(console.groupCollapsed(\"%cDeprecation Warning: %c%s\",\"color:#614108;background:#fffbe6\",\"font-weight:normal;color:#614108;background:#fffbe6\",t),console.warn(e),console.groupEnd()):console.warn(\"Deprecation Warning: \",t),vn.toWorldUnits}})}}])&&bn(e.prototype,n),r&&bn(e,r),t}()],gn={views:['KEY_FRAME 0\\n{\"global\":{\"entitymodule\":{\"width\":1920,\"height\":1080}},\"frame\":{\"entitymodule\":\"CK;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;C;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;T;L;L;L;L;R;R;T;S;T;T;R;R;T;S;T;T\\\\nU88 1 f 16365312 v 1 x 1065 y 435 c 16365312 R 4 z 1;199 1 f 16776960 ay 0.5 v 1 ax 0.5 x 220 y 500 s 60 T  fw bold z 20;39 1 f 16365312 v 1 x 785 y 365 c 16365312 R 4 z 1;9 1 f 16365312 v 1 x 575 y 715 c 16365312 R 4 z 1;129 1 f 16365312 v 1 x 1275 y 785 c 16365312 R 4 z 1;152 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 925 y 85 s 35 T F fw bold;10 1 f 16365312 v 1 x 575 y 785 c 16365312 R 4 z 1;149 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 785 y 995 s 35 T D fw bold;80 1 f 16365312 v 1 x 995 y 715 c 16365312 R 4 z 1;96 1 f 16365312 v 1 x 1135 y 155 c 16365312 R 4 z 1;203 1 bw 116 i $1 ay 0.5 v 1 ax 0.5 x 1700 y 220 bh 116 z 20;2 1 f 16365312 v 1 x 575 y 225 c 16365312 R 4 z 1;103 1 f 16365312 v 1 x 1135 y 645 c 16365312 R 4 z 1;141 1 f 16365312 v 1 x 1345 y 855 c 16365312 R 4 z 1;31 1 f 16365312 v 1 x 715 y 645 c 16365312 R 4 z 1;126 1 f 16365312 v 1 x 1275 y 575 c 16365312 R 4 z 1;198 1 f 16777215 ay 0.5 v 1 ax 0.5 x 220 y 420 s 40 T  z 20;86 1 f 16365312 v 1 x 1065 y 295 c 16365312 R 4 z 1;163 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1275 y 995 s 35 T K fw bold;140 1 f 16365312 v 1 x 1345 y 785 c 16365312 R 4 z 1;72 1 f 16365312 v 1 x 995 y 155 c 16365312 R 4 z 1;61 1 f 16365312 v 1 x 925 y 225 c 16365312 R 4 z 1;16 1 f 16365312 v 1 x 645 y 435 c 16365312 R 4 z 1;195 1 f 16777215 v 1 w 120 x 160 y 160 W 0 h 120;110 1 f 16365312 v 1 x 1205 y 295 c 16365312 R 4 z 1;138 1 f 16365312 v 1 x 1345 y 645 c 16365312 R 4 z 1;113 1 f 16365312 v 1 x 1205 y 505 c 16365312 R 4 z 1;144 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 645 y 85 s 35 T B fw bold;102 1 f 16365312 v 1 x 1135 y 575 c 16365312 R 4 z 1;25 1 f 16365312 v 1 x 715 y 225 c 16365312 R 4 z 1;182 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 505 y 715 s 35 T 9 fw bold;22 1 f 16365312 v 1 x 645 y 855 c 16365312 R 4 z 1;118 1 f 16365312 v 1 x 1205 y 855 c 16365312 R 4 z 1;185 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1415 y 785 s 35 T 10 fw bold;186 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 505 y 855 s 35 T 11 fw bold;15 1 f 16365312 v 1 x 645 y 365 c 16365312 R 4 z 1;164 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1345 y 85 s 35 T L fw bold;122 1 f 16365312 v 1 x 1275 y 295 c 16365312 R 4 z 1;90 1 f 16365312 v 1 x 1065 y 575 c 16365312 R 4 z 1;181 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1415 y 645 s 35 T 8 fw bold;38 1 f 16365312 v 1 x 785 y 295 c 16365312 R 4 z 1;20 1 f 16365312 v 1 x 645 y 715 c 16365312 R 4 z 1;159 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1135 y 995 s 35 T I fw bold;85 1 f 16365312 v 1 x 1065 y 225 c 16365312 R 4 z 1;132 1 f 16365312 v 1 x 1345 y 225 c 16365312 R 4 z 1;47 1 f 16365312 v 1 x 785 y 925 c 16365312 R 4 z 1;44 1 f 16365312 v 1 x 785 y 715 c 16365312 R 4 z 1;77 1 f 16365312 v 1 x 995 y 505 c 16365312 R 4 z 1;150 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 855 y 85 s 35 T E fw bold;168 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 505 y 225 s 35 T 2 fw bold;27 1 f 16365312 v 1 x 715 y 365 c 16365312 R 4 z 1;81 1 f 16365312 v 1 x 995 y 785 c 16365312 R 4 z 1;94 1 f 16365312 v 1 x 1065 y 855 c 16365312 R 4 z 1;151 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 855 y 995 s 35 T E fw bold;14 1 f 16365312 v 1 x 645 y 295 c 16365312 R 4 z 1;7 1 f 16365312 v 1 x 575 y 575 c 16365312 R 4 z 1;105 1 f 16365312 v 1 x 1135 y 785 c 16365312 R 4 z 1;133 1 f 16365312 v 1 x 1345 y 295 c 16365312 R 4 z 1;176 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 505 y 505 s 35 T 6 fw bold;78 1 f 16365312 v 1 x 995 y 575 c 16365312 R 4 z 1;45 1 f 16365312 v 1 x 785 y 785 c 16365312 R 4 z 1;109 1 f 16365312 v 1 x 1205 y 225 c 16365312 R 4 z 1;18 1 f 16365312 v 1 x 645 y 575 c 16365312 R 4 z 1;120 1 f 16365312 v 1 x 1275 y 155 c 16365312 R 4 z 1;37 1 f 16365312 v 1 x 785 y 225 c 16365312 R 4 z 1;101 1 f 16365312 v 1 x 1135 y 505 c 16365312 R 4 z 1;36 1 f 16365312 v 1 x 785 y 155 c 16365312 R 4 z 1;58 1 f 16365312 v 1 x 855 y 855 c 16365312 R 4 z 1;11 1 f 16365312 v 1 x 575 y 855 c 16365312 R 4 z 1;79 1 f 16365312 v 1 x 995 y 645 c 16365312 R 4 z 1;66 1 f 16365312 v 1 x 925 y 575 c 16365312 R 4 z 1;137 1 f 16365312 v 1 x 1345 y 575 c 16365312 R 4 z 1;139 1 f 16365312 v 1 x 1345 y 715 c 16365312 R 4 z 1;28 1 f 16365312 v 1 x 715 y 435 c 16365312 R 4 z 1;167 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1415 y 155 s 35 T 1 fw bold;24 1 f 16365312 v 1 x 715 y 155 c 16365312 R 4 z 1;67 1 f 16365312 v 1 x 925 y 645 c 16365312 R 4 z 1;157 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1065 y 995 s 35 T H fw bold;83 1 f 16365312 v 1 x 995 y 925 c 16365312 R 4 z 1;87 1 f 16365312 v 1 x 1065 y 365 c 16365312 R 4 z 1;187 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1415 y 855 s 35 T 11 fw bold;192 1 v 1 x 610 y 200 Y 880 X 610 c -2 W 5;76 1 f 16365312 v 1 x 995 y 435 c 16365312 R 4 z 1;69 1 f 16365312 v 1 x 925 y 785 c 16365312 R 4 z 1;172 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 505 y 365 s 35 T 4 fw bold;71 1 f 16365312 v 1 x 925 y 925 c 16365312 R 4 z 1;134 1 f 16365312 v 1 x 1345 y 365 c 16365312 R 4 z 1;117 1 f 16365312 v 1 x 1205 y 785 c 16365312 R 4 z 1;165 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1345 y 995 s 35 T L fw bold;5 1 f 16365312 v 1 x 575 y 435 c 16365312 R 4 z 1;111 1 f 16365312 v 1 x 1205 y 365 c 16365312 R 4 z 1;125 1 f 16365312 v 1 x 1275 y 505 c 16365312 R 4 z 1;75 1 f 16365312 v 1 x 995 y 365 c 16365312 R 4 z 1;4 1 f 16365312 v 1 x 575 y 365 c 16365312 R 4 z 1;104 1 f 16365312 v 1 x 1135 y 715 c 16365312 R 4 z 1;100 1 f 16365312 v 1 x 1135 y 435 c 16365312 R 4 z 1;30 1 f 16365312 v 1 x 715 y 575 c 16365312 R 4 z 1;41 1 f 16365312 v 1 x 785 y 505 c 16365312 R 4 z 1;12 1 f 16365312 v 1 x 645 y 155 c 16365312 R 4 z 1;50 1 f 16365312 v 1 x 855 y 295 c 16365312 R 4 z 1;161 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1205 y 995 s 35 T J fw bold;84 1 f 16365312 v 1 x 1065 y 155 c 16365312 R 4 z 1;201 1 f 16777215 v 1 w 120 x 1640 y 160 W 0 h 120;35 1 f 16365312 v 1 x 715 y 925 c 16365312 R 4 z 1;169 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1415 y 225 s 35 T 2 fw bold;42 1 f 16365312 v 1 x 785 y 575 c 16365312 R 4 z 1;148 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 785 y 85 s 35 T D fw bold;193 1 v 1 x 1310 y 200 Y 880 X 1310 c -2 W 5;62 1 f 16365312 v 1 x 925 y 295 c 16365312 R 4 z 1;29 1 f 16365312 v 1 x 715 y 505 c 16365312 R 4 z 1;17 1 f 16365312 v 1 x 645 y 505 c 16365312 R 4 z 1;51 1 f 16365312 v 1 x 855 y 365 c 16365312 R 4 z 1;160 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1205 y 85 s 35 T J fw bold;177 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1415 y 505 s 35 T 6 fw bold;82 1 f 16365312 v 1 x 995 y 855 c 16365312 R 4 z 1;33 1 f 16365312 v 1 x 715 y 785 c 16365312 R 4 z 1;53 1 f 16365312 v 1 x 855 y 505 c 16365312 R 4 z 1;180 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 505 y 645 s 35 T 8 fw bold;135 1 f 16365312 v 1 x 1345 y 435 c 16365312 R 4 z 1;188 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 505 y 925 s 35 T 12 fw bold;128 1 f 16365312 v 1 x 1275 y 715 c 16365312 R 4 z 1;197 1 bw 116 i $0 ay 0.5 v 1 ax 0.5 x 220 y 220 bh 116 z 20;107 1 f 16365312 v 1 x 1135 y 925 c 16365312 R 4 z 1;32 1 f 16365312 v 1 x 715 y 715 c 16365312 R 4 z 1;143 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 575 y 995 s 35 T A fw bold;166 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 505 y 155 s 35 T 1 fw bold;145 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 645 y 995 s 35 T B fw bold;34 1 f 16365312 v 1 x 715 y 855 c 16365312 R 4 z 1;91 1 f 16365312 v 1 x 1065 y 645 c 16365312 R 4 z 1;23 1 f 16365312 v 1 x 645 y 925 c 16365312 R 4 z 1;202 1 f 16777215 ay 0.5 v 1 ax 0.5 x 1700 y 340 s 40 T $1 z 20;170 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 505 y 295 s 35 T 3 fw bold;142 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 575 y 85 s 35 T A fw bold;155 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 995 y 995 s 35 T G fw bold;74 1 f 16365312 v 1 x 995 y 295 c 16365312 R 4 z 1;49 1 f 16365312 v 1 x 855 y 225 c 16365312 R 4 z 1;146 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 715 y 85 s 35 T C fw bold;179 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1415 y 575 s 35 T 7 fw bold;136 1 f 16365312 v 1 x 1345 y 505 c 16365312 R 4 z 1;119 1 f 16365312 v 1 x 1205 y 925 c 16365312 R 4 z 1;40 1 f 16365312 v 1 x 785 y 435 c 16365312 R 4 z 1;46 1 f 16365312 v 1 x 785 y 855 c 16365312 R 4 z 1;123 1 f 16365312 v 1 x 1275 y 365 c 16365312 R 4 z 1;156 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1065 y 85 s 35 T H fw bold;183 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1415 y 715 s 35 T 9 fw bold;64 1 f 16365312 v 1 x 925 y 435 c 16365312 R 4 z 1;147 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 715 y 995 s 35 T C fw bold;175 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1415 y 435 s 35 T 5 fw bold;56 1 f 16365312 v 1 x 855 y 715 c 16365312 R 4 z 1;89 1 f 16365312 v 1 x 1065 y 505 c 16365312 R 4 z 1;121 1 f 16365312 v 1 x 1275 y 225 c 16365312 R 4 z 1;191 1 v 1 x 620 y 890 Y 890 X 1300 c -1 W 5;124 1 f 16365312 v 1 x 1275 y 435 c 16365312 R 4 z 1;189 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1415 y 925 s 35 T 12 fw bold;1 1 f 0 v 1 w 980 x 470 y 50 c 16777215 W 15 h 980 z 0;99 1 f 16365312 v 1 x 1135 y 365 c 16365312 R 4 z 1;114 1 f 16365312 v 1 x 1205 y 575 c 16365312 R 4 z 1;48 1 f 16365312 v 1 x 855 y 155 c 16365312 R 4 z 1;19 1 f 16365312 v 1 x 645 y 645 c 16365312 R 4 z 1;173 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1415 y 365 s 35 T 4 fw bold;130 1 f 16365312 v 1 x 1275 y 855 c 16365312 R 4 z 1;63 1 f 16365312 v 1 x 925 y 365 c 16365312 R 4 z 1;26 1 f 16365312 v 1 x 715 y 295 c 16365312 R 4 z 1;8 1 f 16365312 v 1 x 575 y 645 c 16365312 R 4 z 1;204 1 f 16777215 ay 0.5 v 1 ax 0.5 x 1700 y 420 s 40 T  z 20;127 1 f 16365312 v 1 x 1275 y 645 c 16365312 R 4 z 1;60 1 f 16365312 v 1 x 925 y 155 c 16365312 R 4 z 1;55 1 f 16365312 v 1 x 855 y 645 c 16365312 R 4 z 1;205 1 f 16776960 ay 0.5 v 1 ax 0.5 x 1700 y 500 s 60 T  fw bold z 20;95 1 f 16365312 v 1 x 1065 y 925 c 16365312 R 4 z 1;93 1 f 16365312 v 1 x 1065 y 785 c 16365312 R 4 z 1;153 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 925 y 995 s 35 T F fw bold;116 1 f 16365312 v 1 x 1205 y 715 c 16365312 R 4 z 1;6 1 f 16365312 v 1 x 575 y 505 c 16365312 R 4 z 1;190 1 v 1 x 615 y 190 Y 190 X 1305 c -1 W 5;54 1 f 16365312 v 1 x 855 y 575 c 16365312 R 4 z 1;57 1 f 16365312 v 1 x 855 y 785 c 16365312 R 4 z 1;112 1 f 16365312 v 1 x 1205 y 435 c 16365312 R 4 z 1;59 1 f 16365312 v 1 x 855 y 925 c 16365312 R 4 z 1;174 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 505 y 435 s 35 T 5 fw bold;97 1 f 16365312 v 1 x 1135 y 225 c 16365312 R 4 z 1;98 1 f 16365312 v 1 x 1135 y 295 c 16365312 R 4 z 1;171 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1415 y 295 s 35 T 3 fw bold;70 1 f 16365312 v 1 x 925 y 855 c 16365312 R 4 z 1;131 1 f 16365312 v 1 x 1275 y 925 c 16365312 R 4 z 1;158 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1135 y 85 s 35 T I fw bold;106 1 f 16365312 v 1 x 1135 y 855 c 16365312 R 4 z 1;3 1 f 16365312 v 1 x 575 y 295 c 16365312 R 4 z 1;196 1 f 16777215 ay 0.5 v 1 ax 0.5 x 220 y 340 s 40 T $0 z 20;200 1 f -2 v 1 w 140 x 1630 y 150 W 0 h 140;43 1 f 16365312 v 1 x 785 y 645 c 16365312 R 4 z 1;178 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 505 y 575 s 35 T 7 fw bold;194 1 f -1 v 1 w 140 x 150 y 150 W 0 h 140;92 1 f 16365312 v 1 x 1065 y 715 c 16365312 R 4 z 1;73 1 f 16365312 v 1 x 995 y 225 c 16365312 R 4 z 1;154 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 995 y 85 s 35 T G fw bold;13 1 f 16365312 v 1 x 645 y 225 c 16365312 R 4 z 1;65 1 f 16365312 v 1 x 925 y 505 c 16365312 R 4 z 1;21 1 f 16365312 v 1 x 645 y 785 c 16365312 R 4 z 1;68 1 f 16365312 v 1 x 925 y 715 c 16365312 R 4 z 1;162 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1275 y 85 s 35 T K fw bold;184 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 505 y 785 s 35 T 10 fw bold;52 1 f 16365312 v 1 x 855 y 435 c 16365312 R 4 z 1;108 1 f 16365312 v 1 x 1205 y 155 c 16365312 R 4 z 1;115 1 f 16365312 v 1 x 1205 y 645 c 16365312 R 4 z 1\"}}\\n','KEY_FRAME 1\\n{\"entitymodule\":\"U77 0.5 f -1 c -1 R 17;198 1 T \\'bla bla bla!\\'\"}\\n','KEY_FRAME 2\\n{\"entitymodule\":\"U41 0.5 f -2 c -2 R 17\"}\\n','KEY_FRAME 3\\n{\"entitymodule\":\"U38 0.5 f -1 c -1 R 17;198 1 T \"}\\n','KEY_FRAME 4\\n{\"entitymodule\":\"CL\\\\nU51 0.5 f -2 c -2 R 17;206 0.5 v 1 x 855 y 365 Y 505 X 785 c -2 W 15 z 1;206 1 W 5\"}\\n','KEY_FRAME 5\\n{\"entitymodule\":\"CL;L\\\\nU63 0.5 f -1 c -1 R 17;208 0.5 v 1 x 925 y 365 Y 295 X 785 c -1 W 15 z 1;207 0.5 v 1 x 925 y 365 Y 505 X 995 c -1 W 15 z 1;208 1 W 5;207 1 W 5\"}\\n','KEY_FRAME 6\\n{\"entitymodule\":\"U80 0.5 f -2 c -2 R 17\"}\\n','KEY_FRAME 7\\n{\"entitymodule\":\"CL\\\\nU67 0.5 f -1 c -1 R 17;209 0.5 v 1 x 925 y 645 Y 505 X 995 c -1 W 15 z 1;209 1 W 5\"}\\n','KEY_FRAME 8\\n{\"entitymodule\":\"CL;L\\\\nU210 0.5 v 1 x 855 y 645 Y 505 X 785 c -2 W 15 z 1;211 0.5 v 1 x 855 y 645 Y 715 X 995 c -2 W 15 z 1;55 0.5 f -2 c -2 R 17;210 1 W 5;211 1 W 5\"}\\n','KEY_FRAME 9\\n{\"entitymodule\":\"CL\\\\nU92 0.5 f -1 c -1 R 17;212 0.5 v 1 x 1065 y 715 Y 645 X 925 c -1 W 15 z 1;212 1 W 5\"}\\n','KEY_FRAME 10\\n{\"entitymodule\":\"CL\\\\nU105 0.5 f -2 c -2 R 17;213 0.5 v 1 x 1135 y 785 Y 715 X 995 c -2 W 15 z 1;213 1 W 5\"}\\n','KEY_FRAME 11\\n{\"entitymodule\":\"CL\\\\nU117 0.5 f -1 c -1 R 17;214 0.5 v 1 x 1205 y 785 Y 715 X 1065 c -1 W 15 z 1;214 1 W 5\"}\\n','KEY_FRAME 12\\n{\"entitymodule\":\"CL\\\\nU215 0.5 v 1 x 1275 y 855 Y 785 X 1135 c -2 W 15 z 1;130 0.5 f -2 c -2 R 17;215 1 W 5\"}\\n','KEY_FRAME 13\\n{\"entitymodule\":\"U32 0.5 f -1 c -1 R 17\"}\\n','KEY_FRAME 14\\n{\"entitymodule\":\"CL;L\\\\nU65 0.5 f -2 c -2 R 17;217 0.5 v 1 x 925 y 505 Y 645 X 855 c -2 W 15 z 1;216 0.5 v 1 x 925 y 505 Y 365 X 855 c -2 W 15 z 1;217 1 W 5;216 1 W 5\"}\\n','KEY_FRAME 15\\n{\"entitymodule\":\"CL\\\\nU218 0.5 v 1 x 715 y 435 Y 295 X 785 c -1 W 15 z 1;28 0.5 f -1 c -1 R 17;218 1 W 5\"}\\n','KEY_FRAME 16\\n{\"entitymodule\":\"CL\\\\nU219 0.5 v 1 x 645 y 575 Y 505 X 785 c -2 W 15 z 1;18 0.5 f -2 c -2 R 17;219 1 W 5\"}\\n','KEY_FRAME 17\\n{\"entitymodule\":\"CL\\\\nU220 0.5 v 1 x 855 y 155 Y 295 X 785 c -1 W 15 z 1;48 0.5 f -1 c -1 R 17;220 1 W 5\"}\\n','KEY_FRAME 18\\n{\"entitymodule\":\"CL\\\\nU221 0.5 v 1 x 1345 y 715 Y 855 X 1275 c -2 W 15 z 1;139 0.5 f -2 c -2 R 17;221 1 W 5\"}\\n','KEY_FRAME 19\\n{\"entitymodule\":\"CL\\\\nU42 0.5 f -1 c -1 R 17;222 0.5 v 1 x 785 y 575 Y 715 X 715 c -1 W 15 z 1;222 1 W 5\"}\\n','KEY_FRAME 20\\n{\"entitymodule\":\"CL\\\\nU5 0.5 f -2 c -2 R 17;223 0.5 v 1 x 575 y 435 Y 575 X 645 c -2 W 15 z 1;223 1 W 5;205 1 T WIN;204 1 T Yeah!\"}\\n'],agents:[{index:0,name:\"Player 0\",avatar:\"https://static.codingame.com/servlet/fileservlet?id=16085713250612&format=viewer_avatar\",agentId:0},{index:1,name:\"Player 1\",avatar:\"https://static.codingame.com/servlet/fileservlet?id=16085756802960&format=viewer_avatar\",agentId:1}]};function xn(t){return(xn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function wn(t){var e=\"function\"==typeof Map?new Map:void 0;return(wn=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return On(t,arguments,Sn(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Rn(r,t)})(t)}function On(t,e,n){return(On=function(){if(\"undefined\"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if(\"function\"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(t){return}}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Rn(o,n.prototype),o}).apply(null,arguments)}function Rn(t,e){return(Rn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Sn(t){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Pn=function(){function t(e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),(r=function(t,e){return!e||\"object\"!==xn(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,Sn(t).call(this,'<Error in module \"'+e+'\">'))).cause=n,r.name=\"ModuleError\",r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rn(t,e)}(t,wn(Error)),t}();function Cn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cn(Object(n),!0).forEach((function(e){jn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,\"Drawer\",(function(){return _n}));var _n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.toDestroy=[],this.stepByStepAnimateSpeed=null;var n=e||gn;if(n){var r=n.views,o=n.agents;this.demo={playerCount:o.length,logo:\"logo.png\",overlayAlpha:.2,agents:o,frames:r},this.demo.agents.forEach((function(e){e.color=t.playerColors[e.index]}))}else this.demo=void 0}var e,n,o;return e=t,o=[{key:\"getGameRatio\",value:function(){return t.WIDTH/t.HEIGHT}},{key:\"requirements\",get:function(){return{PIXI:\"PIXI4\"}}},{key:\"VERSION\",get:function(){return 2}},{key:\"WIDTH\",get:function(){return 1920}},{key:\"HEIGHT\",get:function(){return 1080}},{key:\"playerColors\",get:function(){return[\"#ff1d5c\",\"#22a1e4\",\"#ff8f16\",\"#6ac371\",\"#9975e2\",\"#3ac5ca\",\"#de6ddf\",\"#ff0000\"]}},{key:\"SDK_GAME\",get:function(){return!0}},{key:\"RenderTimeout\",get:function(){return\"localhost\"===window.location.hostname?1/0:2e4}}],(n=[{key:\"getDefaultOverSampling\",value:function(){return 2}},{key:\"handleModuleError\",value:function(t,e){l.push(new Pn(t,e)),console.error(e),l.push({message:'<Module \"'.concat(t,'\" disabled>\\n')}),delete this.modules[t]}},{key:\"instantiateModules\",value:function(){var t=!0,e=!(this.modules={}),n=void 0;try{for(var o,i=mn[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;try{this.modules[a.name]=new a(r)}catch(t){this.handleModuleError(a.name,t)}}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}}},{key:\"destroy\",value:function(){this.alreadyLoaded&&(this.renderer.destroy(),this.endCallback=null),this.destroyed=!0}},{key:\"destroyScene\",value:function(){!function(){for(var t=0,e=pe.length;t<e;++t)pe[t].destroy(!0);pe=[]}()}},{key:\"getGameName\",value:function(){return\"TwixtPP\"}},{key:\"canSwapPlayers\",value:function(){return!1}},{key:\"addErrorListener\",value:function(t){l.listen(t)}},{key:\"getResources\",value:function(){return Object.assign({baseUrl:\"\",images:{},spines:{},sprites:[],fonts:[],others:[]},r)}},{key:\"getOptions\",value:function(){return[]}},{key:\"setDebug\",value:function(){this.asyncRenderingTime=t.RenderTimeout}},{key:\"initPreload\",value:function(t,e,n,r,o){t.canvasWidth=r,t.canvasHeight=o,t.loaderProgress=new PIXI.Text(\"100\",{fontSize:.117*o||30,fontFamily:\"Lato\",fontWeight:\"900\",fill:\"white\",align:\"center\"}),t.loaderProgress.anchor.y=1,t.loaderProgress.anchor.x=1.3,t.progress=t.realProgress=n,t.loaderProgress.position.y=o,t.progressBar=new PIXI.Graphics,e.addChild(t.progressBar),e.addChild(t.loaderProgress)}},{key:\"preload\",value:function(t,e,n){t.progress=n}},{key:\"renderPreloadScene\",value:function(t,e){var n=Math.pow(.998,e);return t.realProgress=n*t.realProgress+(1-n)*t.progress,t.loaderProgress.text=(100*t.realProgress).toFixed(0),t.loaderProgress.position.x=t.realProgress*t.canvasWidth,t.progressBar.clear(),t.progressBar.beginFill(0,1),t.progressBar.drawRect(0,0,t.canvasWidth*t.realProgress+1,t.canvasHeight),t.progressBar.endFill(),t.progressBar.beginFill(4146246,1),t.progressBar.drawRect(t.canvasWidth*t.realProgress,0,t.canvasWidth,t.canvasHeight),t.progressBar.endFill(),!0}},{key:\"initDefaultScene\",value:function(e,n){var r=new PIXI.Container;if(e.drawer=this,e.time=0,this.demo){if(this.demo.logo)try{var o=PIXI.Sprite.fromFrame(this.demo.logo);o.position.set(t.WIDTH/2,t.HEIGHT/2),o.anchor.set(.5),o.baseScale=a(o.texture.width,o.texture.height,2*t.WIDTH/3,t.HEIGHT/2,0),r.addChild(o),e.logo=o}catch(n){l.push({cause:n,message:'Missing \"logo.png\" to complete replay.'}),e.logo=new PIXI.Container,e.logo.baseScale=1,r.addChild(e.logo),e.missingLogo=!0}var i=new PIXI.Graphics;e.missingLogo||(i.beginFill(0,this.demo.overlayAlpha||0),i.drawRect(0,0,t.WIDTH+20,t.HEIGHT+20),i.endFill(),i.x-=10,i.y-=10);var s=new PIXI.Container;try{this.initDefaultFrames(this.demo.playerCount,this.demo.frames,this.demo.agents),this.preconstructScene(this.scope,n,this.initWidth,this.initHeight),this.initScene(this.scope,s,this.frames,!0),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)}catch(n){l.push({cause:n,message:\"Cannot load demo, you might want to reset the demo\"})}e.demo=s,e.demotime=0,this.currentFrame=-1,n.addChild(s),n.addChild(i),n.addChild(r)}e.updateTime=0,e.frameTime=0}},{key:\"initDefaultFrames\",value:function(e,n,r){var o=this;this.instantiateModules(),this.playerInfo=r.map((function(t,e){return{name:t.name||\"Anonymous\",color:t.color?o.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:t.avatarTexture}})),this.instantiateModules(),this._frames=n.map((function(t){var e,n=t.split(\"\\n\"),r=n[0].split(\" \");try{e=JSON.parse(n.slice(1).join(\"\\n\"))}catch(t){e={}}return Tn({},e,{key:\"KEY_FRAME\"===r[0]})})).filter((function(t){return t.key})),this.parseGlobalData(this._frames[0].global),this.playerCount=e,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1;var i=this._frames[0].frame;i.key=this._frames[0].key,this.frames.push(this.parseFrame(i,this.frames));for(var a=1;a<this._frames.length;++a)this.frames.push(this.parseFrame(this._frames[a],this.frames));this.asyncRenderingTime=t.RenderTimeout}},{key:\"renderDefaultScene\",value:function(t,e){if(e=Math.min(80,e),void 0===this.demo)return!1;this.currentFrame=this.currentFrameTemp||0,t.frameTime+=e,t.updateTime+=e,t.demotime+=e/1e3;var n=Math.max(0,Math.min(1,(t.demotime-1)/.5));if(t.logo&&(t.logo.alpha=n,t.logo.scale.x=t.logo.scale.y=(3-2*n)*t.logo.baseScale),!t.missingLogo&&1.5<t.demotime&&t.demotime<=2.2){var r=15*Math.max(0,1-(t.demotime-1.5)/.7);t.demo.x=(2*Math.random()-1)*r,t.demo.y=(2*Math.random()-1)*r}else t.demo.x=t.demo.y=0;var o=this.getFrameDuration(this.currentFrame);return 30<=t.updateTime&&(t.updateTime-=30,0===this.currentFrame?this.progress=1:this.progress=i(0,o,t.frameTime),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)),t.frameTime>=o&&(t.frameTime-=o,this.currentFrame=(this.currentFrame+1)%this.frames.length),this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],e,!0),this.currentFrameTemp=this.currentFrame,this.currentFrame=-1,!0}},{key:\"endDefaultScene\",value:function(){return!0}},{key:\"parseGlobalData\",value:function(t){for(var e in this.modules){var n=this.modules[e];\"function\"==typeof n.handleGlobalData&&n.handleGlobalData(this.playerInfo,t[e])}}},{key:\"parseFrame\",value:function(t,e){var n={data:{},frameInfo:{number:e.length}};if(n.previous=e[e.length-1]||n,n!==n.previous&&(n.previous.next=n),!t.key)return n.previous;for(var r in t.duration&&(this.currentFrameDuration=t.duration),n.frameInfo.frameDuration=this.currentFrameDuration,n===n.previous?(n.frameInfo.date=0,n.frameInfo.frameDuration=0):n.frameInfo.date=n.previous.frameInfo.date+n.previous.frameInfo.frameDuration,this.modules){var o=this.modules[r];\"function\"==typeof o.handleFrameData&&(n.data[r]=o.handleFrameData(n.frameInfo,t[r]))}return n}},{key:\"preconstructScene\",value:function(e,n,r,o){e.canvasHeight=o,e.canvasWidth=r,e.time=0,e.endTime=0,e.playerInfo=this.playerInfo,n.scale.x=r/t.WIDTH,n.scale.y=o/t.HEIGHT}},{key:\"initScene\",value:function(t,e){for(var n in this.modules){var r=this.modules[n],o=new PIXI.Container;try{r.reinitScene(o,{width:t.canvasWidth,height:t.canvasHeight,oversampling:this.oversampling})}catch(t){this.handleModuleError(n,t)}e.addChild(o)}}},{key:\"updateScene\",value:function(t,e,n,r,o,i,a,s,c){var u=n[r];if(!c&&this.stepByStepAnimateSpeed&&this.checkSteppedToNextFrame(t,u))this.startAsynchronousAnimation(t,o,u);else for(var l in t.currentFrame=u,t.currentProgress=o,t.reason=a,this.modules){var f=this.modules[l];if(u.data.hasOwnProperty(l))try{f.updateScene(u.previous.data[l],u.data[l],o,i)}catch(t){this.handleModuleError(l,t)}}}},{key:\"startAsynchronousAnimation\",value:function(t,e,n){t.targetProgress=e,t.currentProgress=0,t.currentFrame=n}},{key:\"checkSteppedToNextFrame\",value:function(t,e){return t.currentFrame&&t.currentFrame!==e&&t.currentFrame===e.previous&&0===this.speed}},{key:\"initEndScene\",value:function(t){t.endSceneViewed=!1}},{key:\"destroyEndScene\",value:function(){}},{key:\"renderEndScene\",value:function(t,e,n){0===t.endTime&&this.initEndScene(t,n),t.endTime+=e,void 0<=t.endTime&&!t.endSceneViewed&&(this.endCallback&&this.endCallback(),t.endSceneViewed=!0)}},{key:\"renderScene\",value:function(t,e,n,r,o,i,a,s){if(s=Math.min(80,s),this.debugMode||r!==n.length-1||1!==o?(0<t.endTime&&this.destroyEndScene(t),t.endTime=0):this.renderEndScene(t,s,\"Win\"!==a),this.stepByStepAnimateSpeed&&this.isAsynchronousAnimationOngoing(t)){var c=t.currentProgress+s/200*this.getFrameSpeed(this.currentFrame)*this.stepByStepAnimateSpeed;c=Math.min(t.targetProgress,c),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,c,this.speed,this.reasons[this.currentFrame],!1,!0)}for(var u in this.modules){var l=this.modules[u];if(\"function\"==typeof l.animateScene)try{l.animateScene(s)}catch(t){this.handleModuleError(u,t)}}return!0}},{key:\"isAsynchronousAnimationOngoing\",value:function(t){return null!=t.targetProgress&&t.currentProgress!==t.targetProgress}},{key:\"getFrameSpeed\",value:function(t){return 500/this.getFrameDuration(t)}},{key:\"getFrameDuration\",value:function(t){return this.frames&&this.frames[t]&&this.frames[t].frameInfo.frameDuration||1e3}},{key:\"enableAsyncRendering\",value:function(e){this.asyncRendering=e,this.asyncRenderingTime=t.RenderTimeout}},{key:\"purge\",value:function(){this.scope={},this.changed=!0,this.container.interactiveChildren=!1,this.container.destroy({texture:!1,children:!0}),delete this.container,this.container=new PIXI.Container}},{key:\"reinitScene\",value:function(){1<=this.loaded&&(this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.preconstructScene(this.scope,this.container,this.initWidth,this.initHeight),this.initScene(this.scope,this.container,this.frames),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame]),this.changed=!0)}},{key:\"reinitDefaultScene\",value:function(){1<=this.loaded&&(this.intro=!0,this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initDefaultScene(this.scope,this.container,this.initWidth,this.initHeight),this.changed=!0)}},{key:\"reinitLoadingScene\",value:function(){this.loaded<1&&(this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initPreload(this.scope,this.container,this.loaded,this.initWidth,this.initHeight))}},{key:\"reinit\",value:function(t){1<=this.loaded?0<=this.currentFrame&&!this.intro?this.reinitScene():this.intro&&!t||this.reinitDefaultScene():this.reinitLoadingScene()}},{key:\"animate\",value:function(t){if(!this.destroyed){this.lastRenderTime||(this.lastRenderTime=t);var e=t-this.lastRenderTime;this.asynchronousStep&&(e=this.asynchronousStep),this.onBeforeRender&&this.onBeforeRender(),this.loading||(this.loaded<1?this.changed|=this.renderPreloadScene(this.scope,e):(this.changed||this.asyncRendering&&0<this.asyncRenderingTime||this.isAsynchronousAnimationOngoing(this.scope))&&(this.currentFrame<0?this.changed|=this.renderDefaultScene(this.scope,e):this.intro?(this.changed=!0,this.endDefaultScene(this.scope,e)&&(this.intro=!1,this.reinit(!0))):this.changed|=this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame],e)),this.changed&&(this.renderer.render(this.container),this.changed=!1)),this.onAfterRender&&this.onAfterRender(),this.lastRenderTime=t,this.destroyed||requestAnimationFrame(this.animate.bind(this)),this.asyncRenderingTime-=e}}},{key:\"_initFrames\",value:function(t,e){this.instantiateModules(),this._frames=e.map((function(t){var e,n=t[0].split(\" \");try{e=JSON.parse(t.slice(1).join(\"\\n\"))}catch(t){e={}}return Tn({},e,{key:\"KEY_FRAME\"===n[0]})})),this.parseGlobalData(this._frames[0].global),this.playerCount=t,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1;var n=this._frames[0].frame;n.key=this._frames[0].key,this.frames.push(this.parseFrame(n,this.frames));for(var r=1;r<this._frames.length;++r)this.frames.push(this.parseFrame(this._frames[r],this.frames))}},{key:\"isTurnBasedGame\",value:function(){return!1}},{key:\"initFrames\",value:function(t,e){this.playerInfo&&this.playerInfo.forEach((function(t){t.avatar&&t.avatar.destroy(!0)}));var n=this,r=new PIXI.loaders.Loader(window.location.origin);function o(){n._initFrames(e.length,t),n.loading=!1,n.reinit(!1),i=!0}this.playerInfo=e.map((function(t,e){var o={name:t.name||\"Anonymous\",color:t.color?n.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:null};return null!=t.avatar&&r.add(\"avatar\"+e,t.avatar,{loadType:2,crossOrigin:!0},(function(t){o.avatar=t.texture,PIXI.Texture.addToCache(t.texture,\"$\"+o.index)})),o}));var i=!(this.loading=!0);r.on(\"complete\",o),r.on(\"error\",(function(t){console.warn(t),i||o()})),r.load()}},{key:\"update\",value:function(e,n,r){0<=this.currentFrame&&(this.asyncRenderingTime=t.RenderTimeout,this.changed=!0,this.speed=r,this.currentFrame=e,this.progress=n,1<=this.loaded&&!this.intro&&this.updateScene(this.scope,this.question,this.frames,e,n,this.speed,this.reasons[this.currentFrame]))}},{key:\"parseColor\",value:function(t){if(Array.isArray(t)){var e,n=[];for(e=0;e<t.length;++e)n.push(this.parseColor(t[e]));return n}return parseInt(t.substring(1),16)}},{key:\"init\",value:function(e,n,r,o,i,a,s){var c,u=this;function f(){0<=u.currentFrame&&(u.changed=!0)}window.PIXI=t.PIXI||window.PIXI,this.oversampling=i||1,this.canvas=$(e),this.canvas.off(\"mousemove\"),this.canvas.off(\"wheel\"),this.canvas.bind(\"wheel\",f),this.canvas.mousemove(f),o&&(this.colors=this.parseColor(o)),\"ide\"===s&&(this.debugModeSetByUser||(this.debugMode=!0),l.listen((function(t){return console.error(t.cause?t.cause:t)}))),this.asyncRendering=!0,this.asyncRenderingTime=0,this.destroyed=!1,this.asynchronousStep=null;var y,p=this;if(this.initWidth=0|n,this.initHeight=0|r,this.endCallback=a||this.endCallback,this.alreadyLoaded)this.changed=!0,this.renderer.resize(this.initWidth,this.initHeight),this.reinit(!0);else{this.alreadyLoaded=!0,this.question=null,this.scope=null,this.currentFrame=-1,this.loaded=0,this.container=new PIXI.Container;var h=this.getResources();this.renderer=this.createRenderer(this.initWidth,this.initHeight,e),y=this.renderer,ye=y;var d,b=new PIXI.loaders.Loader(h.baseUrl);for(c in h.images)b.add(c,h.images[c],{crossOrigin:!0});for(d=0;d<h.sprites.length;++d)b.add(h.sprites[d],{crossOrigin:!0});for(d=0;d<h.fonts.length;++d)b.add(h.fonts[d],{crossOrigin:!0});for(c in h.spines)b.add(c,h.spines[c],{crossOrigin:!0});for(d=0;d<h.others.length;++d)b.add(h.others[d],{crossOrigin:!0});this.demo&&this.demo.agents.forEach((function(t){b.add(\"avatar\"+t.index,t.avatar,{loadType:2,crossOrigin:!0},(function(e){t.avatarTexture=e.texture,PIXI.Texture.addToCache(e.texture,\"$\"+t.index)}))})),p.scope={};var v=function(){requestAnimationFrame(p.animate.bind(p)),p.initPreload(p.scope,p.container,p.loaded=0,p.initWidth,p.initHeight)};b.on(\"start\",v),b.on(\"progress\",(function(t,e){t.progress<100&&p.preload(p.scope,p.container,p.loaded=t.progress/100,p.initWidth,p.initHeight,e)}));var m=function(){var t;for(t in h.images)h.images.hasOwnProperty(t)&&b.resources[t].texture&&PIXI.Texture.addToCache(b.resources[t].texture,t);for(t in h.spines)h.spines.hasOwnProperty(t)&&(PIXI.AnimCache[t]=PIXI.AnimCache[h.baseUrl+h.spines[t]]);p.loaded=1,p.reinit(!0),p.changed=!0};b.on(\"complete\",m),b.on(\"error\",(function(t){console.warn(t)})),Object.keys(b.resources).length?b.load():(v(),m())}}},{key:\"createRenderer\",value:function(t,e,n){return PIXI.autoDetectRenderer(t,e,{view:n,clearBeforeRender:!0,preserveDrawingBuffer:!1})}},{key:\"isReady\",value:function(){return 1<=this.loaded}}])&&kn(e.prototype,n),o&&kn(e,o),t}()}]).Drawer;",
      "levelParams": {
        "0": {
          "aiCode": "import sys\nimport math\nimport random\n\n#===============================================================================\n\ndef trace(text):\n    print(text, file=sys.stderr)\n\n#===============================================================================\n\ndef crToPeg(c, r):\n    return str(chr(ord('A') + c)) + str(r + 1)\n\ndef pegToCr(peg):\n    c = ord(peg[0]) - ord('A')\n    r = int(peg[1:]) - 1\n    return (c, r)\n\n#===============================================================================\n\ndef crosses(xa, ya, xb, yb, xc, yc, xd, yd):\n    a1 = (yb - ya) / (xb - xa)\n    a2 = (yd - yc) / (xd - xc)\n    if a1 == a2:\n        return False\n    b1 = ya - (a1 * xa)\n    b2 = yc - (a2 * xc)\n    x = (b2 - b1) / (a1 - a2)\n    if (x <= xa and x <= xb) or (xa <= x and xb <= x):\n        return False\n    y = (a1 * x) + b1\n    if ((y <= yc and y <= yd) or (yc <= y and yd <= y)):\n        return False\n    return True\n\nclass Segment:\n    def __init__(self, peg1, peg2):\n        self.peg1 = peg1\n        self.peg2 = peg2\n\n    def has(self, peg):\n        return self.peg1 == peg or self.peg2 == peg\n\n    def crosses(self, other):\n        c1, r1 = pegToCr(self.peg1)\n        c2, r2 = pegToCr(self.peg2)\n        c3, r3 = pegToCr(other.peg1)\n        c4, r4 = pegToCr(other.peg2)\n        return crosses(c1, r1, c2, r2, c3, r3, c4, r4)\n\n    def crossesAnyOf(self, others):\n        for s in others:\n            if self.crosses(s):\n                return True\n        return False\n\n#===============================================================================\n\ndef evaluateGroup(group):\n    cmin = 999\n    cmax = 0\n    rmin = 999\n    rmax = 0\n    for p in group:\n        (c, r) = pegToCr(p)\n        cmin = min(cmin, c)\n        cmax = max(cmax, c)\n        rmin = min(rmin, r)\n        rmax = max(rmax, r)\n    eval = 0\n    if isFirstPlayer:\n        if rmin == 0 and rmax == 11:\n            return 999999\n        eval -= ((rmin - 0) * (rmin - 0) + (11 - rmax) * (11 - rmax))\n        eval += len(group)\n    else:\n        if cmin == 0 and cmax == 11:\n            return 999999\n        eval -= ((cmin - 0) * (cmin - 0) + (11 - cmax) * (11 - cmax))\n        eval += len(group)\n    return eval\n\n#===============================================================================\n\n# Be the first to make a continuous chain of linked pegs connecting your border sides!\n\nturn = 0\nisFirstPlayer = False\n\n# game loop\nwhile True:\n    turn += 1\n    his_last_peg = input()  # Your opponent's last peg (B3, or H10 for example), or FIRST, or SWAP.\n\n    if turn == 1 and his_last_peg == \"FIRST\":\n        isFirstPlayer = True\n\n    myPegs = []\n    mySegs = []\n    hisPegs = []\n    hisSegs = []\n\n    num_your_pegs = int(input())  # The number of pegs you have on the board.\n    for i in range(num_your_pegs):\n        your_peg = input()  # One of your pegs.\n        myPegs.append(your_peg)\n    num_your_segments = int(input())  # The number of segments you have on the board.\n    for i in range(num_your_segments):\n        # your_seg_peg_1: The first end of one of your segments.\n        # your_seg_peg_2: The second end of one of your segments.\n        your_seg_peg_1, your_seg_peg_2 = input().split()\n        mySegs.append(Segment(your_seg_peg_1, your_seg_peg_2))\n    num_his_pegs = int(input())  # The number of pegs your opponent has on the board.\n    for i in range(num_his_pegs):\n        his_peg = input()  # One of his pegs.\n        hisPegs.append(his_peg)\n    num_his_segments = int(input())  # The number of segments of your opponent.\n    for i in range(num_his_segments):\n        # his_seg_peg_1: The first end of one of his segments.\n        # his_seg_peg_2: The second end of one of his segments.\n        his_seg_peg_1, his_seg_peg_2 = input().split()\n        hisSegs.append(Segment(his_seg_peg_1, his_seg_peg_2))\n\n    # Write an action using print\n    # To debug: print(\"Debug messages...\", file=sys.stderr)\n\n    #---------------------------------------------------------------------------\n    # Choose a random peg if first move of first player.\n    if turn == 1 and isFirstPlayer:\n        print(\"Random first move of first player.\", file=sys.stderr)\n        col = random.randint(4, 8)\n        row = random.randint(4, 8)\n        print(crToPeg(col, row))\n        continue\n\n    #---------------------------------------------------------------------------\n    # If first turn of second player, SWAP or play random.\n    if turn == 1 and not isFirstPlayer:\n        print(\"First move of second player.\", file=sys.stderr)\n        (col, row) = pegToCr(his_last_peg)\n        if (5 <= col <= 7) and (5 <= row <= 7):\n            if random.randint(0, 1) == 0:\n                print(\"Chose to SWAP.\", file=sys.stderr)\n                print(\"SWAP Now it's mine!\")\n                continue\n        print(\"Random first move of second player.\", file=sys.stderr)\n        while True:\n            col = random.randint(3, 9)\n            row = random.randint(3, 9)\n            peg = crToPeg(col, row)\n            if peg != his_last_peg:\n                print(peg)\n                break\n        continue\n\n    #---------------------------------------------------------------------------\n    # If second turn, and the opponent has swapped, choose random peg.\n    if turn == 2 and his_last_peg == \"SWAP\":\n        trace(\"Opponent has swapped. Choose random peg.\")\n        playables = []\n        for c in range(4, 9):\n            for r in range(4, 9):\n                p = crToPeg(c, r)\n                if not p in hisPegs:\n                    playables.append(p)\n        peg = random.choice(playables)\n        print(peg)\n        continue\n\n    #---------------------------------------------------------------------------\n    # Normal play\n\n    # Compute my groups of pegs. Pegs that are directly or directly connected by\n    # segments are in the same group.\n    myGroups = []\n    for p in myPegs:\n        myGroups.append([p])\n    for seg in mySegs:\n        for g in myGroups:\n            if seg.peg1 in g:\n                g1 = g\n                break\n        for g in myGroups:\n            if seg.peg2 in g:\n                g2 = g\n                break\n        if g1 != g2:\n            myGroups.remove(g2)\n            g1.extend(g2)\n    trace(\"Computed that I have %d groups of pegs.\" % len(myGroups))\n    for g in myGroups:\n        text = \"Group:\"\n        for p in g:\n            text += \" \" + p\n        trace(text)\n    # Select the group that has best evaluation.\n    myGroups.sort(key = lambda g: evaluateGroup(g), reverse=True)\n    mgroup = myGroups[0]\n    # Find a playable peg that would improve the evaluation of the group.\n    mpeg = None\n    meval = evaluateGroup(mgroup)\n    for peg in mgroup:\n        c0, r0 = pegToCr(peg)\n        for (dc, dr) in ((-2, 1), (-1, 2), (1, 2), (2, 1), (2, -1), (1, -2), (-1, -2), (-2, -1)):\n            c, r = c0 + dc, r0 + dr\n            if c < 0 or c > 11 or r < 0 or r > 11:\n                continue\n            if isFirstPlayer and (c == 0 or c == 11):\n                continue\n            if not isFirstPlayer and (r == 0 or r == 11):\n                continue\n            p = crToPeg(c, r)\n            if p in myPegs or p in hisPegs:\n                continue\n            s = Segment(peg, p)\n            if s.crossesAnyOf(hisSegs):\n                continue\n            newGroup = mgroup + [p]\n            newEval = evaluateGroup(newGroup)\n            if newEval > meval:\n                meval = newEval\n                mpeg = p\n    if mpeg:\n        trace(\"Found a peg to improve the best group.\")\n        if meval == 999999:\n            print(mpeg + \" Yeah!\")\n        else:\n            print(mpeg)\n        continue\n    # If no peg could be found, play some random.\n    trace(\"Found no valuable peg. Play random.\")\n    playables = []\n    for c in range(0, 12):\n        for r in range(0, 12):\n            if isFirstPlayer and (c == 0 or c == 11):\n                continue\n            if not isFirstPlayer and (r == 0 or r == 11):\n                continue\n            p = crToPeg(c, r)\n            if p in myPegs or p in hisPegs:\n                continue\n            playables.append(p)\n    peg = random.choice(playables)\n    print(peg)\n\n",
          "testCases": [],
          "maxPlayers": 2,
          "minPlayers": 2,
          "statements": {
            "1": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      Twixt-PP is a two-player paper-and-pencil board game. Each player in turn\n      places a peg on the board that may connect with the other pegs he has previously\n      placed. The goal for the player is to connect his opposite borders with a chain \n      of connected pegs.\n      <br>\n      <br>\n      Twixt was developed by Alex Randolph and was very popular in 60s and 70s.\n      More history and details, can be found <a href=\"https://www.littlegolem.net/jsp/games/gamedetail.jsp?gtid=twixt&page=rules\">HERE</a>\n      and <a href=\"https://en.wikipedia.org/wiki/TwixT\">THERE</a>.\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        The board is a 12x12 square grid of holes, minus the corner holes. The \n        first player to play owns the top and bottom rows. The second player owns\n        the left and right edge rows.\n        <ul>\n          <li>Each player in turn places a peg of his color in a vacant hole. The\n          player cannot place a peg in the opponent's border rows.</li>\n          <li>A peg links with another peg of the same color if they are a chess knight\n          move away from each other and if the link would not cross an already present \n          opponent's link.</li>\n          <li>In the PP variant of Twixt, a link is allowed to cross another link of\n          the same color. But this does not establish a connection.</li>\n        </ul>\n        <br>\n        SWAP rule:\n        <ul>\n          <li>During the first turn, the second player has the ability to swap the \n          opponent's peg instead of placing a new peg.</li>\n          <li>The swapped peg changes color and is symetrically moved on the board.\n          For example, peg C5 would become E3.</li>\n        </ul>\n        You <strong>win</strong> if:\n        <ul>\n          <li>You connect your two opposite border rows with a continuous chain of pegs.</li>\n        </ul>\n        It is a <strong>draw</strong> if:\n        <ul>\n          <li>There are no vacant hole, and no border connection\n          has been made.</li>\n        </ul>You <strong>lose</strong> if:\n        <ul>\n          <li>You play an invalid move.</li>\n          <li>You do not respond in due time.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n    </h1>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"text\">The program must first read the game state input data from standard input. \n      Then, provide to the standard output one line with the player's move.</div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">1 line: </span><var>hisLastPeg</var> One string that\n        indicates where the opponent placed his last peg (D6 or H10 for instance), or\n        FIRST if you are the first to play, or SWAP if the opponent has chosen to swap\n        the first turn.</p>\n        <p><span class=\"statement-lineno\">1 line: </span><var>numYourPegs</var> One integer that\n        indicates how many of your pegs are present on the board.</p>\n        <p><span class=\"statement-lineno\">numYourPegs lines: </span><var>yourPeg</var> One string for\n        each of your pegs.</p>\n        <p><span class=\"statement-lineno\">1 line: </span><var>numYourSegments</var> One integer that\n        indicates how many segments (links) you have on the board.</p>\n        <p><span class=\"statement-lineno\">numYourSegments lines: </span><var>yourSegPeg1</var> <var>yourSegPeg2</var> Two\n        strings for the two ending pegs of each of your segments.</p>\n        <p><span class=\"statement-lineno\">1 line: </span><var>numHisPegs</var> One integer that\n        indicates how many pegs of your opponent are on the board.</p>\n        <p><span class=\"statement-lineno\">numHisPegs lines: </span><var>hisPeg</var> One string for\n        each of his pegs.</p>\n        <p><span class=\"statement-lineno\">1 line: </span><var>numHisSegments</var> One integer that\n        indicates how many segments the opponent has.</p>\n        <p><span class=\"statement-lineno\">numHisSegments lines: </span><var>hisSegPeg1</var> <var>hisSegPeg2</var> Two\n        strings for the two ending pegs of each of his segments.</p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">A single line</span> containing <var>yourPeg</var> <var>optionalInfoText</var> : \n        The first string indicates your peg placement or SWAP. The second string is optional. It is up to 20 characters long, \n        it can contain spaces and it will be displayed in the player's hud.\n        <br>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\">\n        <br>Allotted response time to output\n        is 1 s for the first turn, then 300 ms for the other turns.</div>\n    </div>\n  </div>\n \n</div>",
            "2": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      Twixt-PP is a two-player paper-and-pencil board game. Each player in turn\n      places a peg on the board that may connect with the other pegs he has previously\n      placed. The goal for the player is to connect his opposite borders with a chain \n      of connected pegs.\n      <br>\n      <br>\n      Twixt was developed by Alex Randolph and was very popular in 60s and 70s.\n      More history and details, can be found <a href=\"https://www.littlegolem.net/jsp/games/gamedetail.jsp?gtid=twixt&page=rules\">HERE</a>\n      and <a href=\"https://en.wikipedia.org/wiki/TwixT\">THERE</a>.\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        The board is a 12x12 square grid of holes, minus the corner holes. The \n        first player to play owns the top and bottom rows. The second player owns\n        the left and right edge rows.\n        <ul>\n          <li>Each player in turn places a peg of his color in a vacant hole. The\n          player cannot place a peg in the opponent's border rows.</li>\n          <li>A peg links with another peg of the same color if they are a chess knight\n          move away from each other and if the link would not cross an already present \n          opponent's link.</li>\n          <li>In the PP variant of Twixt, a link is allowed to cross another link of\n          the same color. But this does not establish a connection.</li>\n        </ul>\n        <br>\n        SWAP rule:\n        <ul>\n          <li>During the first turn, the second player has the ability to swap the \n          opponent's peg instead of placing a new peg.</li>\n          <li>The swapped peg changes color and is symetrically moved on the board.\n          For example, peg C5 would become E3.</li>\n        </ul>\n        You <strong>win</strong> if:\n        <ul>\n          <li>You connect your two opposite border rows with a continuous chain of pegs.</li>\n        </ul>\n        It is a <strong>draw</strong> if:\n        <ul>\n          <li>There are no vacant hole, and no border connection\n          has been made.</li>\n        </ul>You <strong>lose</strong> if:\n        <ul>\n          <li>You play an invalid move.</li>\n          <li>You do not respond in due time.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n    </h1>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"text\">The program must first read the game state input data from standard input. \n      Then, provide to the standard output one line with the player's move.</div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">1 line: </span><var>hisLastPeg</var> One string that\n        indicates where the opponent placed his last peg (D6 or H10 for instance), or\n        FIRST if you are the first to play, or SWAP if the opponent has chosen to swap\n        the first turn.</p>\n        <p><span class=\"statement-lineno\">1 line: </span><var>numYourPegs</var> One integer that\n        indicates how many of your pegs are present on the board.</p>\n        <p><span class=\"statement-lineno\">numYourPegs lines: </span><var>yourPeg</var> One string for\n        each of your pegs.</p>\n        <p><span class=\"statement-lineno\">1 line: </span><var>numYourSegments</var> One integer that\n        indicates how many segments (links) you have on the board.</p>\n        <p><span class=\"statement-lineno\">numYourSegments lines: </span><var>yourSegPeg1</var> <var>yourSegPeg2</var> Two\n        strings for the two ending pegs of each of your segments.</p>\n        <p><span class=\"statement-lineno\">1 line: </span><var>numHisPegs</var> One integer that\n        indicates how many pegs of your opponent are on the board.</p>\n        <p><span class=\"statement-lineno\">numHisPegs lines: </span><var>hisPeg</var> One string for\n        each of his pegs.</p>\n        <p><span class=\"statement-lineno\">1 line: </span><var>numHisSegments</var> One integer that\n        indicates how many segments the opponent has.</p>\n        <p><span class=\"statement-lineno\">numHisSegments lines: </span><var>hisSegPeg1</var> <var>hisSegPeg2</var> Two\n        strings for the two ending pegs of each of his segments.</p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">A single line</span> containing <var>yourPeg</var> <var>optionalInfoText</var> : \n        The first string indicates your peg placement or SWAP. The second string is optional. It is up to 20 characters long, \n        it can contain spaces and it will be displayed in the player's hud.\n        <br>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\">\n        <br>Allotted response time to output\n        is 1 s for the first turn, then 300 ms for the other turns.</div>\n    </div>\n  </div>\n \n</div>"
          },
          "questionType": "multi",
          "stubGenerator": "gameloop\nread hisLastPeg:word(5)\nread numYourPegs:int\nloop numYourPegs read yourPeg:word(3)\nread numYourSegments:int\nloop numYourSegments read yourSegPeg1:word(3) yourSegPeg2:word(3)\nread numHisPegs:int\nloop numHisPegs read hisPeg:word(3)\nread numHisSegments:int\nloop numHisSegments read hisSegPeg1:word(3) hisSegPeg2:word(3)\nwrite G6 bla bla bla...\n\nSTATEMENT\nBe the first to make a continuous chain of linked pegs connecting your border sides!\n\nINPUT\nhisLastPeg: Your opponent's last peg (B3, or H10 for example), or FIRST, or SWAP.\nnumYourPegs: The number of pegs you have on the board.\nyourPeg: One of your pegs.\nnumYourSegments: The number of segments you have on the board.\nyourSegPeg1: The first end of one of your segments.\nyourSegPeg2: The second end of one of your segments.\nnumHisPegs: The number of pegs your opponent has on the board.\nhisPeg: One of his pegs.\nnumHisSegments: The number of segments of your opponent.\nhisSegPeg1: The first end of one of his segments.\nhisSegPeg2: The second end of one of his segments.\n\nOUTPUT\n<Your new peg> <Optional commentary>",
          "welcomePopups": {},
          "aiCodeExtension": "py3",
          "criteriaLanguageMap": {}
        }
      },
      "directoryPrefix": "community/1489865-1577743749040",
      "allowSourceDownload": true,
      "originalArchiveBinaryId": 39321907927750
    },
    "draft": false,
    "readyForModeration": true
  },
  "validatedFor": 191372892260,
  "avatar": 10005277870281,
  "commentCount": 31,
  "upVotes": 16,
  "downVotes": 2,
  "validateAction": {
    "actionId": 418910,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1579358222306,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}