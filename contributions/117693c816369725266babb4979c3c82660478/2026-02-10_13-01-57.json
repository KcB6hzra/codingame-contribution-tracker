{
  "id": 117693,
  "activeVersion": 2,
  "score": 5,
  "votableId": 36327505,
  "codingamerId": 491254,
  "views": 115,
  "commentableId": 36170171,
  "title": "Sign (programming) language",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Cakeisalie5",
  "publicHandle": "117693c816369725266babb4979c3c82660478",
  "codingamerHandle": "26bc712b959a94dd2cd3c4b55b10484f452194",
  "lastVersion": {
    "version": 2,
    "autocloseTime": 1741393353793,
    "freezeTime": 1739406153793,
    "data": {
      "title": "Sign (programming) language",
      "topics": [
        {
          "id": 235,
          "handle": "interpreter",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "interpreter",
            "2": "Interpreters"
          },
          "puzzleCount": 11,
          "parentTopicId": 93
        }
      ],
      "solution": "import re\n\nPATTERN = re.compile(r\"/\\$([^/]*)/|//([^/]*)/|/\\*\\*([^/]*)/|/\\*/([^/]*)/|(\\$)|/\\*\\$\")\n\nprogram = input()\nreg = 0\ncount = 0\ncounting = False\n\nwhile program:\n    match = PATTERN.match(program)\n    assert match is not None\n\n    if match[1] is not None:\n        reg += len(match[1])\n    elif match[2] is not None:\n        reg -= len(match[2])\n    elif match[3] is not None:\n        reg *= len(match[3]) + 1\n    elif match[4] is not None:\n        reg *= -len(match[4])\n    elif match[5] is not None:\n        if counting:\n            reg += count\n            counting = False\n        else:\n            count = -1\n            counting = True\n    \n    count += 1\n    program = program[match.end():]\n\nprint(reg)",
      "statement": "You are given an ordered collection of signs to interpret as an assembly language, which you need to execute to obtain a number.\n\nThe language assumes a simple integer register of unlimited size, although results will never go beyond 16-bit signed number capacity in practice. This register is set to 0, and operations apply to it to obtain a final value.\n\nInstructions are executed from left to right, ignoring operator precedence. For example, {{/$$*?////}} corresponds to {{ADD 3}} followed by {{SUB 0}}, meaning the final result of the program is {{0 + 3 - 0}} = {{3}}.\n\nAvailable instructions are the following:\n\n<<ADD N ({{/$}}, N characters, {{/}})>>\nAdd N to the register, e.g. {{/$+-^/}} is \"ADD 3\".\n\n<<SUB N ({{//}}, N characters, {{/}})>>\nSubstract N from the register, e.g. {{//+^+-$/}} is \"SUB 5\".\n\n<<MUL N + 1 ({{/**}}, N characters, {{/}})>>\nMultiply N + 1 and the register, e.g. {{/****/}} is \"MUL 3\" (2 + 1).\n\n<<MUL -N ({{/*/}}, N characters, {{/}})>>\nMultiply -N and the register, e.g. {{/*/**/}} is \"MUL -2\".\n\n<<NOP ({{/*$}})>>\nDo nothing.\n\n<<ADD INST COUNT ({{$}})>>\nThis instruction can have two meanings:\n\n* If not counting, start counting the number of instructions from 0.\n* Otherwise, add the number of counted instructions to the register and stop counting.\n\nNote that the {{$}} instruction itself is not counted.\n\nFor example, {{$/$$$$///./$}} to add 3, substract 1 then add 2 (number of instructions: ADD 3, SUB 1).\n\nAll of the provided programs will be valid.",
      "testCases": [
        {
          "title": "/$ADD/",
          "isTest": true,
          "testIn": "/$+-^/",
          "testOut": "3",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "/$ADD/",
          "isTest": false,
          "testIn": "/$^^*$/",
          "testOut": "4",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "//SUB/",
          "isTest": true,
          "testIn": "//+^+-$/",
          "testOut": "-5",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "//SUB/",
          "isTest": false,
          "testIn": "//^$/",
          "testOut": "-2",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "/$ADD/ /**MULN+1/",
          "isTest": true,
          "testIn": "/$$//***/",
          "testOut": "2",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "/$ADD/ /**MULN+1/",
          "isTest": false,
          "testIn": "/$+$//**$^/",
          "testOut": "6",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "//SUB/ /**MULN+1/",
          "isTest": true,
          "testIn": "//..//****/",
          "testOut": "-6",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "//SUB/ /**MULN+1/",
          "isTest": false,
          "testIn": "//$^.//**.*/",
          "testOut": "-9",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "/$ADD/ /*/MUL-N/",
          "isTest": true,
          "testIn": "/$$$$//*/**/",
          "testOut": "-6",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "/$ADD/ /*/MUL-N/",
          "isTest": false,
          "testIn": "/$*//*/$$$$$/",
          "testOut": "-5",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "//SUB/ /*/MUL-N/",
          "isTest": true,
          "testIn": "//**$//*/**/",
          "testOut": "6",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "//SUB/ /*/MUL-N/",
          "isTest": false,
          "testIn": "//$$$$//*/**/",
          "testOut": "8",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "$ADDINSTCOUNT$",
          "isTest": true,
          "testIn": "$/$$$$///./$",
          "testOut": "4",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "$ADDINSTCOUNT$",
          "isTest": false,
          "testIn": "$/$$$//$*///$*$$**//*/*/$",
          "testOut": "7",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "/*$NOP",
          "isTest": true,
          "testIn": "/$$//*$",
          "testOut": "1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "/*$NOP",
          "isTest": false,
          "testIn": "//**//*$",
          "testOut": "-2",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "$ADDINSTCOUNT$ /*$NOP",
          "isTest": true,
          "testIn": "$/*$/*$/*$$",
          "testOut": "3",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "$ADDINSTCOUNT$ /*$NOP",
          "isTest": false,
          "testIn": "$//***//*$$",
          "testOut": "-1",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "$UNEVENADDINSTCOUNT",
          "isTest": true,
          "testIn": "/$$/$/*$//$$/",
          "testOut": "-1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "$UNEVENADDINSTCOUNT",
          "isTest": false,
          "testIn": "/*$$//$$$/",
          "testOut": "-3",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "$EMPTY$",
          "isTest": true,
          "testIn": "$$/*$",
          "testOut": "0",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "$EMPTY$",
          "isTest": false,
          "testIn": "/$$/$$",
          "testOut": "1",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "$MUL$TI$PLE$",
          "isTest": true,
          "testIn": "$/*$/*$$/*/*//*$$/*$$",
          "testOut": "-1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "$MUL$TI$PLE$",
          "isTest": false,
          "testIn": "$/$****$//*$$/*/*/$//$*/$",
          "testOut": "-8",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "/$FINALTEST/",
          "isTest": true,
          "testIn": "/*$$/$$$$//*/**$//*$$/***/$/*/*/",
          "testOut": "12",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "/$FINALTEST/",
          "isTest": false,
          "testIn": "//$$*//*/*$**$//****$/$//$$$$$$$$$****$$$$$*/$",
          "testOut": "42",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "easy",
      "constraints": "0 < length([[program]]) < 512\n-32768 <= any register value <= 32767",
      "coverBinaryId": 138142447886471,
      "stubGenerator": "read program:string(512)\nwrite answer",
      "inputDescription": "<<First line:>> [[program]] to execute.",
      "solutionLanguage": "Python3",
      "outputDescription": "<<First line:>> Final register value."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">You are given an ordered collection of signs to interpret as an assembly language, which you need to execute to obtain a number.<br><br>The language assumes a simple integer register of unlimited size, although results will never go beyond 16-bit signed number capacity in practice. This register is set to 0, and operations apply to it to obtain a final value.<br><br>Instructions are executed from left to right, ignoring operator precedence. For example, <const>/$$*?////</const> corresponds to <const>ADD 3</const> followed by <const>SUB 0</const>, meaning the final result of the program is <const>0 + 3 - 0</const> = <const>3</const>.<br><br>Available instructions are the following:<br><br><strong>ADD N (<const>/$</const>, N characters, <const>/</const>)</strong><br>Add N to the register, e.g. <const>/$+-^/</const> is &quot;ADD 3&quot;.<br><br><strong>SUB N (<const>//</const>, N characters, <const>/</const>)</strong><br>Substract N from the register, e.g. <const>//+^+-$/</const> is &quot;SUB 5&quot;.<br><br><strong>MUL N + 1 (<const>/**</const>, N characters, <const>/</const>)</strong><br>Multiply N + 1 and the register, e.g. <const>/****/</const> is &quot;MUL 3&quot; (2 + 1).<br><br><strong>MUL -N (<const>/*/</const>, N characters, <const>/</const>)</strong><br>Multiply -N and the register, e.g. <const>/*/**/</const> is &quot;MUL -2&quot;.<br><br><strong>NOP (<const>/*$</const>)</strong><br>Do nothing.<br><br><strong>ADD INST COUNT (<const>$</const>)</strong><br>This instruction can have two meanings:<br><br>* If not counting, start counting the number of instructions from 0.<br>* Otherwise, add the number of counted instructions to the register and stop counting.<br><br>Note that the <const>$</const> instruction itself is not counted.<br><br>For example, <const>$/$$$$///./$</const> to add 3, substract 1 then add 2 (number of instructions: ADD 3, SUB 1).<br><br>All of the provided programs will be valid.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>First line:</strong> <var>program</var> to execute.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>First line:</strong> Final register value.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">0 &lt; length(<var>program</var>) &lt; 512<br>-32768 &lt;= any register value &lt;= 32767</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">/$+-^/</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">3</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 29802670647,
  "avatar": 93798463743273,
  "commentCount": 6,
  "upVotes": 6,
  "downVotes": 1,
  "validateAction": {
    "actionId": 1078541,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1740925845858,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}