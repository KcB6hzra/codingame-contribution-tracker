{
  "id": 139407,
  "activeVersion": 14,
  "score": 0,
  "votableId": 38786002,
  "codingamerId": 4063095,
  "views": 42,
  "commentableId": 38619945,
  "title": "Simultaneous Iterated Prisoners Dilemma",
  "status": "PENDING",
  "type": "PUZZLE_MULTI",
  "nickname": "Dr.Mentalist",
  "publicHandle": "1394073967aca8f5ab02b7a37c0a5f19bcb260",
  "codingamerHandle": "2a9cdc517189bf2d713c9c76644b3cb15903604",
  "lastVersion": {
    "version": 14,
    "autocloseTime": 1773702242569,
    "data": {
      "title": "Simultaneous Iterated Prisoners Dilemma",
      "topics": [],
      "refereeMd5": "4063095/0355c811a889a4872836a8b55ff8a278",
      "testHandle": "1389938183255a1a66c497cec3568e1c199bc8b",
      "viewerCode": "var Drawer;(()=>{\"use strict\";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})}},e={};(()=>{t.d(e,{Drawer:()=>me});var n={};function r(t){return r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},r(t)}function i(t){var e=function(t,e){if(\"object\"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||\"default\");if(\"object\"!=r(i))return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==r(e)?e:e+\"\"}function a(t,e,n){return(e=i(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function u(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}t.r(n),t.d(n,{a:()=>ce});var l={baseUrl:\"https://cdn-games.codingame.com/community/4063095-1765569579489/\",images:{\".gitkeep\":\"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.gitkeep\"},sprites:[],fonts:[]};function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){if(t){if(\"string\"==typeof t)return c(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function f(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||h(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(t,e)||h(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function p(t,e,n){return t<=e?t+(e-t)*n:e+(t-e)*(1-n)}function y(t,e,n){return Math.min(1,Math.max(0,function(t,e,n){return(n-t)/(e-t)}(t,e,n)))}function g(t,e,n,r,i){return i=i||0,Math.min(n/(t+i),r/(e+i))}var m=[],v=[],b=function(){return u(function t(){o(this,t)},null,[{key:\"listen\",value:function(t){if(\"function\"!=typeof t)throw new TypeError(t+\" is not a function\");v.push(t)}},{key:\"push\",value:function(t){m.push(t),v.forEach(function(e){return e(t)})}}])}();function S(t,e){if(e&&(\"object\"==r(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}function w(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&O(t,e)}function P(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(P=function(){return!!t})()}function I(t){var e=\"function\"==typeof Map?new Map:void 0;return I=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf(\"[native code]\")}catch(e){return\"function\"==typeof t}}(t))return t;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(P())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&O(i,n.prototype),i}(t,arguments,k(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),O(n,t)},I(t)}function D(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(D=function(){return!!t})()}var x=function(t){function e(t,n){var r,i,a,s;return o(this,e),i=this,a=e,s=[\"Invalid color token: there is no player at index \".concat(t,\". Make sure to use getColorToken() if you want the color of a specific player.\")],a=k(a),(r=S(i,D()?Reflect.construct(a,s||[],k(i).constructor):a.apply(i,s))).playerIdx=t,r.cause=n,r.name=\"InvalidPlayerColorTokenError\",r}return w(e,t),u(e)}(I(Error));function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var A=function(t,e,n){return n<1?t:e},R={type:Number,lerpMethod:function(t,e,n){if(null===e)return null;var r={r:(16711680&t)>>16,g:(65280&t)>>8,b:255&t},i={r:(16711680&e)>>16,g:(65280&e)>>8,b:255&e};return p(r.r,i.r,n)<<16|p(r.g,i.g,n)<<8|p(r.b,i.b,n)},convert:function(t,e){var n=-(t+1);try{return t<0?e.players[n].color:t}catch(t){return b.push(new x(n)),16777215}}},F={type:String,lerpMethod:A,convert:function(t){return X(t)}},j={type:Number,lerpMethod:function(t,e,n,r){for(;e>t+Math.PI;)e-=2*Math.PI;for(;e<t-Math.PI;)e+=2*Math.PI;return(void 0!==r&&Math.abs(e-t)>r?e:t+(e-t)*n)%(2*Math.PI)},convert:function(t){return t*Math.PI/180}},M={type:Number,lerpMethod:A},E={type:function(t){return\"1\"===t},lerpMethod:A},W={type:Number,lerpMethod:function(t,e,n){return e<t?e:p(t,e,n)}},B={default:{type:Number,lerpMethod:p},visible:E,rotation:j,skewX:j,skewY:j,fillColor:R,lineColor:R,strokeColor:R,tint:R,animationProgressTime:W,maxWidth:M,mask:M,baseWidth:M,baseHeight:M,image:F,images:F,scaleMode:F,restarted:{type:String,convert:function(t,e,n,r){return t?{date:n.date+r*n.frameDuration}:null},lerpMethod:A},playing:E,duration:M,blendMode:M,loop:E,text:T(T({},F),{},{convert:function(t,e){t=X(t);for(var n=/\\$(\\d)/g,r=n.exec(t),i=\"\",a=0;r;)r[1]<e.players.length&&(i+=t.substring(a,r.index),i+=e.players[+r[1]].name),a=r.index+r[0].length,r=n.exec(t);return i+=t.substring(a)}}),textAlign:T(T({},F),{},{convert:function(t){return{0:\"left\",1:\"center\",2:\"right\"}[t]}}),fontFamily:F,fontWeight:F,children:T(T({},F),{},{convert:function(t){return t?t.split(\",\").map(function(t){return+t}):[]}}),points:T(T({},F),{},{convert:function(t){return t?t.split(\",\").map(function(t){return parseInt(t)}):[]},lerpMethod:function(t,e,n){return t.length===e.length?t.map(function(t,r){return p(t,e[r],n)}):A(t,e,n)}})};function X(t){var e=t.split(\"\\\\'\").join(\"'\");return e.includes(\" \")||e.includes(\";\")||e.includes(\"\\n\")?e.slice(1,e.length-1):e}function U(){return U=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},U.apply(null,arguments)}function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return z(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var N=function(){function t(){o(this,t),this.defaultState={x:0,y:0,scaleX:1,scaleY:1,skewX:0,skewY:0,zIndex:0,alpha:1,visible:!1,rotation:0,mask:-1},this.states={}}return u(t,[{key:\"init\",value:function(){this.properties=Object.keys(this.defaultState),this.initDisplay(),this.currentState=Object.assign({},this.defaultState),\"object\"===r(this.graphics)&&this.container.addChild(this.graphics)}},{key:\"setHidden\",value:function(t){this.hide=t,this.container.visible=this.currentState.visible&&!this.hide}},{key:\"addState\",value:function(e,n,r){this.states[r]||(this.states[r]=[]);var i=t.createState(e,n.values,n.curve),a=this.states[r].find(function(t){return t.t===e});a&&0===Object.keys(i.curve).length&&(i.curve=a.curve),a?(Y(i)||Y(a)||b.push(new Error(\"Different updates for same t \"+e)),Object.assign(a,i)):this.states[r].push(i)}},{key:\"set\",value:function(t,e,n){this.addState(t,e,n)}},{key:\"render\",value:function(t,e,n){var r=this.states[e.number];this.container.visible=!1;var i,a=null,o=1;if(r&&r.length){for(var s=0;s<r.length-1&&r[s].t<t;)s++;if(a=r[s-1],i=r[s],a)o=y(a.t,i.t,t);else{var u=Object.keys(this.states),l=u.indexOf(e.number.toString())-1;for(-1===l&&(l=u.length-1);l>=0&&u[l]>=e.number;)l--;var c=this.states[u[l]]||[];!(a=c[c.length-1])&&t>=i.t?(a=i,o=1):o=y(0,i.t,t)}}else{for(var h=Object.keys(this.states),f=h.length-1;f>=0&&h[f]>e.number;)f--;var d=this.states[h[f]];null!=d?i=a=d[d.length-1]:Object.assign(this.currentState,this.defaultState)}if(a){var p,g={},m=Object.assign({},this.currentState),v=_(this.properties);try{for(v.s();!(p=v.n()).done;){var b=p.value,S=(B[b]||B.default).lerpMethod,k=i.curve[b]||function(t){return t},O=S(a[b],i[b],k(o));O!==this.currentState[b]&&(g[b]=!0,m[b]=O)}}catch(t){v.e(t)}finally{v.f()}this.updateDisplay(m,g,n,e,t),Object.assign(this.currentState,m),this.container.visible=this.container._visible,null==g.children&&null==g.zIndex||(n.mustResetTree=!0),g.children&&\"function\"==typeof this.postUpdate&&n.updatedBuffers.push(this),g.mask&&(n.maskUpdates[this.id]=m.mask),0!==Object.keys(g).length&&this.parent&&this.parent.notifyChange()}}},{key:\"notifyChange\",value:function(){this.parent&&this.parent.notifyChange()}},{key:\"initDisplay\",value:function(){this.container=new PIXI.Container,this.container.zIndex=this.defaultState.zIndex,this.container.id=this.id,this.container._visible=this.defaultState.visible}},{key:\"updateDisplay\",value:function(t,e,n){this.container.zIndex=t.zIndex,this.container.alpha=t.alpha,(e.x||e.y)&&this.container.position.set(t.x*n.toWorldUnits,t.y*n.toWorldUnits),(e.scaleX||e.scaleY)&&this.container.scale.set(t.scaleX||1e-8,t.scaleY||1e-8),this.container.rotation=t.rotation,this.container._visible=t.visible&&!this.hide,this.container.skew.set(t.skewX,t.skewY)}}],[{key:\"createState\",value:function(){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return L(L({t:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),{},{curve:t})}}])}();function Y(t){return Object.keys(t).length===Object.keys(N.createState()).length}function G(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(G=function(){return!!t})()}function q(t,e,n,r){var i=U(k(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof i?function(t){return i.apply(n,t)}:i}var K=function(t){function e(){var t,n,r,i;return o(this,e),n=this,r=k(r=e),t=S(n,G()?Reflect.construct(r,i||[],k(n).constructor):r.apply(n,i)),Object.assign(t.defaultState,{fillColor:e.defaultFillColor(),lineWidth:e.defaultLineWidth(),lineColor:e.defaultLineColor(),fillAlpha:e.defaultFillAlpha(),lineAlpha:e.defaultLineAlpha(),blendMode:PIXI.BLEND_MODES.NORMAL}),t}return w(e,t),u(e,[{key:\"initDisplay\",value:function(){q(e,\"initDisplay\",this,3)([]),this.graphics=new PIXI.Graphics,this.graphics.lineStyle(this.defaultState.lineWidth,this.defaultState.lineColor,this.defaultState.lineAlpha),null!==this.defaultState.fillColor&&this.graphics.beginFill(this.defaultState.fillColor,this.defaultState.fillAlpha)}},{key:\"updateDisplay\",value:function(t,n,r){q(e,\"updateDisplay\",this,3)([t,n,r]),this.graphics.blendMode=t.blendMode}}],[{key:\"defaultLineWidth\",value:function(){return 0}},{key:\"defaultFillColor\",value:function(){return 16777215}},{key:\"defaultLineColor\",value:function(){return 0}},{key:\"defaultLineAlpha\",value:function(){return 1}},{key:\"defaultFillAlpha\",value:function(){return 1}}])}(N);function V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(V=function(){return!!t})()}function J(t,e,n,r){var i=U(k(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof i?function(t){return i.apply(n,t)}:i}var Q=function(t){function e(){var t,n,r,i;return o(this,e),n=this,r=k(r=e),(t=S(n,V()?Reflect.construct(r,i||[],k(n).constructor):r.apply(n,i))).defaultState.radius=e.defaultRadius(),t}return w(e,t),u(e,[{key:\"initDisplay\",value:function(){J(e,\"initDisplay\",this,3)([]),this.graphics.drawCircle(0,0,this.defaultState.radius),null!==this.defaultState.fillColor&&this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,n,r){J(e,\"updateDisplay\",this,3)([t,n,r]),(n.radius||n.lineColor||n.lineWidth||n.fillColor||n.fillAlpha||n.lineAlpha)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor),this.graphics.drawCircle(0,0,t.radius*r.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}],[{key:\"defaultRadius\",value:function(){return 100}}])}(K);function Z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Z=function(){return!!t})()}function tt(t,e,n,r){var i=U(k(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof i?function(t){return i.apply(n,t)}:i}var et=function(t){function e(){var t,n,r,i;return o(this,e),n=this,r=k(r=e),(t=S(n,Z()?Reflect.construct(r,i||[],k(n).constructor):r.apply(n,i))).defaultState.x2=e.defaultPosition(),t.defaultState.y2=e.defaultPosition(),t}return w(e,t),u(e,[{key:\"initDisplay\",value:function(){tt(e,\"initDisplay\",this,3)([])}},{key:\"updateDisplay\",value:function(t,n,r){tt(e,\"updateDisplay\",this,3)([t,n,r]),(n.lineWidth||n.lineColor||n.lineAlpha||n.x2||n.y2||n.x||n.y)&&(this.graphics.clear(),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.moveTo(0,0),this.graphics.lineTo(-this.container.x+t.x2*r.toWorldUnits,-this.container.y+t.y2*r.toWorldUnits))}}],[{key:\"defaultPosition\",value:function(){return 100}}])}(K);function nt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(nt=function(){return!!t})()}function rt(t,e,n,r){var i=U(k(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof i?function(t){return i.apply(n,t)}:i}var it=function(t){function e(){var t,n,r,i;return o(this,e),n=this,r=k(r=e),t=S(n,nt()?Reflect.construct(r,i||[],k(n).constructor):r.apply(n,i)),Object.assign(t.defaultState,{width:e.defaultSideLength(),height:e.defaultSideLength()}),t}return w(e,t),u(e,[{key:\"initDisplay\",value:function(){rt(e,\"initDisplay\",this,3)([]),this.graphics.drawRect(0,0,this.defaultState.width,this.defaultState.height),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,n,r){rt(e,\"updateDisplay\",this,3)([t,n,r]),(n.lineWidth||n.lineColor||n.width||n.height||n.lineAlpha||n.fillColor)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawRect(0,0,t.width*r.toWorldUnits,t.height*r.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}],[{key:\"defaultSideLength\",value:function(){return 100}}])}(K);function at(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(at=function(){return!!t})()}function ot(t,e,n,r){var i=U(k(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof i?function(t){return i.apply(n,t)}:i}var st=function(t){function e(){var t,n,r,i;return o(this,e),n=this,r=k(r=e),t=S(n,at()?Reflect.construct(r,i||[],k(n).constructor):r.apply(n,i)),Object.assign(t.defaultState,{anchorX:e.defaultAnchor(),anchorY:e.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215}),t}return w(e,t),u(e,[{key:\"initDisplay\",value:function(){ot(e,\"initDisplay\",this,3)([])}},{key:\"updateDisplay\",value:function(t,n,r){ot(e,\"updateDisplay\",this,3)([t,n,r]),this.graphics.anchor.set(t.anchorX,t.anchorY),this.graphics.blendMode=t.blendMode,this.graphics.tint=t.tint}}],[{key:\"defaultAnchor\",value:function(){return 0}}])}(N);function ut(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ut=function(){return!!t})()}var lt=function(t){function e(t,n){var r,i,a,s;return o(this,e),i=this,s=['Could not find image: \"'+t+'\". Make sure it is in your assets folder and is spelled correctly.'],a=k(a=e),(r=S(i,ut()?Reflect.construct(a,s||[],k(i).constructor):a.apply(i,s))).image=t,r.cause=n,r.name=\"MissingImageError\",r}return w(e,t),u(e)}(I(Error));function ct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ct=function(){return!!t})()}var ht=function(t){function e(){var t,n,r,i;return o(this,e),n=this,r=k(r=e),t=S(n,ct()?Reflect.construct(r,i||[],k(n).constructor):r.apply(n,i)),Object.assign(t.defaultState,{image:null,baseWidth:null,baseHeight:null,scaleMode:\"LINEAR\"}),t.missingTextures={},t}return w(e,t),u(e,[{key:\"updateDisplay\",value:function(t,n,r){var i,a,o,s,u;if((i=e,a=\"updateDisplay\",o=this,u=U(k(1&(s=3)?i.prototype:i),a,o),2&s&&\"function\"==typeof u?function(t){return u.apply(o,t)}:u)([t,n,r]),n.image)try{null!==t.image?this.graphics.texture=PIXI.Texture.from(t.image):this.graphics.texture=PIXI.Texture.EMPTY,this.graphics.texture.baseTexture.scaleMode=PIXI.SCALE_MODES[t.scaleMode]}catch(e){this.missingTextures[t.image]||(this.missingTextures[t.image]=!0,b.push(new lt(t.image,e)))}n.baseWidth&&(this.graphics.width=t.baseWidth),n.baseHeight&&(this.graphics.height=t.baseHeight)}}])}(st);function ft(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ft=function(){return!!t})()}var dt=function(t){function e(){return o(this,e),t=this,r=arguments,n=k(n=e),S(t,ft()?Reflect.construct(n,r||[],k(t).constructor):n.apply(t,r));var t,n,r}return w(e,t),u(e,[{key:\"initDisplay\",value:function(){var t,n,r,i,a;(t=e,n=\"initDisplay\",r=this,a=U(k(1&(i=3)?t.prototype:t),n,r),2&i&&\"function\"==typeof a?function(t){return a.apply(r,t)}:a)([]),null===this.defaultState.image?this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY):this.graphics=PIXI.Sprite.from(this.defaultState.image)}}])}(ht);function pt(t,e){if(t.width>e)for(;t.text.length>3&&t.width>e;)t.text=t.text.slice(0,-4)+\"...\"}function yt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(yt=function(){return!!t})()}function gt(t,e,n,r){var i=U(k(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof i?function(t){return i.apply(n,t)}:i}var mt=function(t){function e(){var t,n,r,i;return o(this,e),n=this,r=k(r=e),t=S(n,yt()?Reflect.construct(r,i||[],k(n).constructor):r.apply(n,i)),Object.assign(t.defaultState,{text:\"\",textAlign:\"left\",strokeColor:0,strokeThickness:0,fillColor:0,fontSize:26,fontFamily:\"Lato\",fontWeight:\"normal\",maxWidth:0}),t}return w(e,t),u(e,[{key:\"initDisplay\",value:function(){gt(e,\"initDisplay\",this,3)([]),this.graphics=new PIXI.Text(this.defaultState.text,{align:this.defaultState.textAlign,fontSize:this.defaultState.fontSize+\"px\",fontFamily:this.defaultState.fontFamily,fill:this.defaultState.fillColor})}},{key:\"updateDisplay\",value:function(t,n,r){gt(e,\"updateDisplay\",this,3)([t,n,r]),this.graphics.style.align=t.textAlign,this.graphics.style.stroke=t.strokeColor,this.graphics.style.strokeThickness=t.strokeThickness,this.graphics.style.fill=t.fillColor,this.graphics.style.fontSize=t.fontSize||1,this.graphics.style.fontFamily=t.fontFamily,this.graphics.style.fontWeight=t.fontWeight,(n.text||n.strokeThickness||n.fontSize||n.fontFamily||n.fontWeight||n.maxWidth||n.maxWidth)&&(this.graphics.text=t.text,t.maxWidth&&pt(this.graphics,t.maxWidth))}}])}(st);function vt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(vt=function(){return!!t})()}var bt=function(t){function e(t,n){var r,i,a,s;return o(this,e),i=this,s=['Could not find font: \"'+t+'\". Make sure it is in your assets folder and is spelled correctly.'],a=k(a=e),(r=S(i,vt()?Reflect.construct(a,s||[],k(i).constructor):a.apply(i,s))).font=t,r.cause=n,r.name=\"MissingBitmapFontError\",r}return w(e,t),u(e)}(I(Error));function St(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(St=function(){return!!t})()}function kt(t,e,n,r){var i=U(k(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof i?function(t){return i.apply(n,t)}:i}var Ot=function(t){function e(){var t,n,r,i;return o(this,e),n=this,r=k(r=e),t=S(n,St()?Reflect.construct(r,i||[],k(n).constructor):r.apply(n,i)),Object.assign(t.defaultState,{text:\"\",textAlign:\"left\",fontSize:26,fontFamily:null,anchorX:st.defaultAnchor(),anchorY:st.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215,maxWidth:0}),t.missingFonts={},t}return w(e,t),u(e,[{key:\"initDisplay\",value:function(){kt(e,\"initDisplay\",this,3)([]),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(t,n,r){kt(e,\"updateDisplay\",this,3)([t,n,r]),null!==t.fontFamily?PIXI.BitmapFont.available[t.fontFamily]?(0===this.graphics.children.length?(this.displayed=new PIXI.BitmapText(\"\",{fontSize:t.fontSize||1,fontName:t.fontFamily}),this.graphics.addChild(this.displayed)):(this.displayed.fontName=t.fontFamily,this.displayed.fontSize=t.fontSize||1),this.displayed.anchor.set(t.anchorX,t.anchorY),this.displayed.blendMode=t.blendMode,this.displayed.tint=t.tint,this.displayed.align=t.textAlign,(n.text||n.maxWidth||n.fontSize||n.fontFamily)&&(this.displayed.text=t.text,t.maxWidth&&pt(this.displayed,t.maxWidth))):(this.missingFonts[t.fontFamily]||(this.missingFonts[t.fontFamily]=!0,b.push(new bt(t.fontFamily))),this.graphics.removeChildren()):this.graphics.removeChildren()}}])}(N);function wt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(wt=function(){return!!t})()}function Pt(t,e,n,r){var i=U(k(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof i?function(t){return i.apply(n,t)}:i}var It=function(t){function e(){var t,n,r,i;return o(this,e),n=this,r=k(r=e),t=S(n,wt()?Reflect.construct(r,i||[],k(n).constructor):r.apply(n,i)),Object.assign(t.defaultState,{children:[]}),t}return w(e,t),u(e,[{key:\"initDisplay\",value:function(){Pt(e,\"initDisplay\",this,3)([]),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(t,n,r){Pt(e,\"updateDisplay\",this,3)([t,n,r])}},{key:\"childrenContainer\",get:function(){return this.graphics}}])}(N);function Dt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Dt=function(){return!!t})()}var xt=function(t){function e(){return o(this,e),t=this,r=arguments,n=k(n=e),S(t,Dt()?Reflect.construct(n,r||[],k(t).constructor):n.apply(t,r));var t,n,r}return w(e,t),u(e)}(It),Ct=null,Tt=[];function At(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(At=function(){return!!t})()}var Rt=function(t){function e(){return o(this,e),t=this,r=arguments,n=k(n=e),S(t,At()?Reflect.construct(n,r||[],k(t).constructor):n.apply(t,r));var t,n,r}return w(e,t),u(e,[{key:\"initDisplay\",value:function(){var t,n,r,i,a;(t=e,n=\"initDisplay\",r=this,a=U(k(1&(i=3)?t.prototype:t),n,r),2&i&&\"function\"==typeof a?function(t){return a.apply(r,t)}:a)([]),this.buffer=new PIXI.Container,this.gameTexture=null,this.graphics=new PIXI.Sprite,this.needsRender=!0}},{key:\"postUpdate\",value:function(){if(this.needsRender){var t=this.buffer.getBounds().width,e=this.buffer.getBounds().height;if(null==this.gameTexture||this.gameTexture.width<t||this.gameTexture.height<e){var n=Math.min(Math.max(t,512),4096),r=Math.min(Math.max(e,512),4096);this.gameTexture=PIXI.RenderTexture.create(n,r),i=this.gameTexture,Tt.push(i),this.graphics.texture=this.gameTexture}Ct.render(this.buffer,this.gameTexture),this.needsRender=!1}var i}},{key:\"childrenContainer\",get:function(){return this.buffer}},{key:\"notifyChange\",value:function(){this.needsRender=!0,this.parent&&this.parent.notifyChange()}}])}(It);function Ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(n),!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Mt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Mt=function(){return!!t})()}function Et(t,e,n,r){var i=U(k(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof i?function(t){return i.apply(n,t)}:i}var Wt=function(t){function e(){var t,n,r,i;return o(this,e),n=this,r=k(r=e),t=S(n,Mt()?Reflect.construct(r,i||[],k(n).constructor):r.apply(n,i)),Object.assign(t.defaultState,{images:\"\",loop:!1,duration:1e3,playing:!0,restarted:null,animationProgress:0,date:0}),t}return w(e,t),u(e,[{key:\"initDisplay\",value:function(){Et(e,\"initDisplay\",this,3)([]),this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY)}},{key:\"addState\",value:function(t,n,r,i){Et(e,\"addState\",this,3)([t,n,r]);var a=this.states[r].find(function(e){return e.t===t}),o=i.date+i.frameDuration*t;a.date=o}},{key:\"updateDisplay\",value:function(t,n,r,i,a){if(Et(e,\"updateDisplay\",this,3)([t,n,r]),t.images){var o=t.images.split(\",\");if(t.animationProgress>=0){var s=i.date+i.frameDuration*a,u=jt(jt({},t),{},{date:s});this.computeAnimationProgressTime(t,u);var l=Math.floor(o.length*u.animationProgress),c=t.loop?o[l%o.length]:o[l]||o[o.length-1];try{this.graphics.texture=PIXI.Texture.from(c)}catch(t){b.push(new lt(c,t))}}}else this.graphics.texture=PIXI.Texture.EMPTY}},{key:\"computeAnimationProgressTime\",value:function(t,e){e.restarted&&e.restarted.date===e.date?e.animationProgress=0:(e.animationProgress=t.animationProgress,t.playing&&(e.animationProgress+=(e.date-t.date)/t.duration))}}])}(st);function Bt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Bt=function(){return!!t})()}function Xt(t,e,n,r){var i=U(k(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof i?function(t){return i.apply(n,t)}:i}var Ut=function(t){function e(){var t,n,r,i;return o(this,e),n=this,r=k(r=e),t=S(n,Bt()?Reflect.construct(r,i||[],k(n).constructor):r.apply(n,i)),Object.assign(t.defaultState,{width:e.defaultSideLength(),height:e.defaultSideLength(),radius:e.defaultRadius()}),t}return w(e,t),u(e,[{key:\"initDisplay\",value:function(){Xt(e,\"initDisplay\",this,3)([]),this.graphics.drawRoundedRect(0,0,this.defaultState.width,this.defaultState.height,this.defaultState.radius),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,n,r){Xt(e,\"updateDisplay\",this,3)([t,n,r]),(n.lineWidth||n.lineColor||n.lineAlpha||n.fillColor||n.radius||n.height||n.width)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawRoundedRect(0,0,t.width*r.toWorldUnits,t.height*r.toWorldUnits,t.radius*r.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}],[{key:\"defaultSideLength\",value:function(){return 100}},{key:\"defaultRadius\",value:function(){return 20}}])}(K);function Ht(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ht=function(){return!!t})()}function Lt(t,e,n,r){var i=U(k(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof i?function(t){return i.apply(n,t)}:i}var _t=function(t){function e(){var t,n,r,i;return o(this,e),n=this,r=k(r=e),t=S(n,Ht()?Reflect.construct(r,i||[],k(n).constructor):r.apply(n,i)),Object.assign(t.defaultState,{points:[]}),t}return w(e,t),u(e,[{key:\"initDisplay\",value:function(){Lt(e,\"initDisplay\",this,3)([]),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,n,r){Lt(e,\"updateDisplay\",this,3)([t,n,r]),(n.lineWidth||n.lineColor||n.lineAlpha||n.fillColor||n.points)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawPolygon(t.points.map(function(t){return t*r.toWorldUnits})),null!==t.fillColor&&this.graphics.endFill())}}])}(K);function zt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(zt=function(){return!!t})()}function Nt(t,e,n,r){var i=U(k(1&r?t.prototype:t),e,n);return 2&r&&\"function\"==typeof i?function(t){return i.apply(n,t)}:i}var Yt=function(t){function e(){var t,n,r,i;return o(this,e),n=this,r=k(r=e),t=S(n,zt()?Reflect.construct(r,i||[],k(n).constructor):r.apply(n,i)),Object.assign(t.defaultState,{tileX:0,tileY:0,tileScaleX:1,tileScaleY:1}),t}return w(e,t),u(e,[{key:\"initDisplay\",value:function(){Nt(e,\"initDisplay\",this,3)([]),this.graphics=new PIXI.TilingSprite(PIXI.Texture.EMPTY)}},{key:\"updateDisplay\",value:function(t,n,r){Nt(e,\"updateDisplay\",this,3)([t,n,r]),this.graphics.tilePosition.x=t.tileX,this.graphics.tilePosition.y=t.tileY,this.graphics.tileScale.x=t.tileScaleX,this.graphics.tileScale.y=t.tileScaleY}}])}(ht),Gt=function(){return u(function t(){o(this,t)},null,[{key:\"create\",value:function(t){var e={C:Q,R:it,L:et,S:dt,T:mt,X:Ot,G:xt,B:Rt,A:Wt,K:Ut,P:_t,D:Yt}[t];if(!e)throw new Error(\"Exception: entity type not found: \"+t);return new e}}])}();function qt(t){var e=1.70158,n=0,r=1;return 0===t?0:1==(t/=1)?1:(n||(n=.3),r<Math.abs(1)?(r=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*t)*Math.sin((1*t-e)*(2*Math.PI)/n)+1+0)}function $t(t){return t<.5?2*t*t:(4-2*t)*t-1}var Kt=function(t){return Math.pow(t,3)},Vt=function(t){return 1+Math.pow(t-1,3)},Jt={r:\"rotation\",R:\"radius\",X:\"x2\",Y:\"y2\",w:\"width\",h:\"height\",t:\"tint\",f:\"fillColor\",F:\"fillAlpha\",c:\"lineColor\",W:\"lineWidth\",A:\"lineAlpha\",a:\"alpha\",i:\"image\",S:\"strokeThickness\",sc:\"strokeColor\",ff:\"fontFamily\",s:\"fontSize\",fw:\"fontWeight\",T:\"text\",ta:\"textAlign\",ch:\"children\",sx:\"scaleX\",sy:\"scaleY\",ax:\"anchorX\",ay:\"anchorY\",kx:\"skewX\",ky:\"skewY\",v:\"visible\",z:\"zIndex\",b:\"blendMode\",I:\"images\",rs:\"restarted\",p:\"playing\",l:\"loop\",d:\"duration\",bw:\"baseWidth\",bh:\"baseHeight\",ps:\"points\",tx:\"tileX\",ty:\"tileY\",tsx:\"tileScaleX\",tsy:\"tileScaleY\",sm:\"scaleMode\"},Qt=function(){return u(function t(e,n){o(this,t),this.id=++n.instanceCount,this.type=e[0]},[{key:\"apply\",value:function(t){var e=Gt.create(this.type);e.id=this.id,t.set(this.id,e)}}])}(),Zt=function(){return u(function t(e,n){var r=d(e,8),i=r[0],a=r[1],s=r[2],u=r[3],c=r[4],h=r[5],f=r[6],p=r[7];o(this,t),this.loader=new PIXI.Loader,\"0\"===s&&(s=PIXI.utils.TextureCache[a].width),\"0\"===u&&(u=PIXI.utils.TextureCache[a].height);for(var y=p>0?p:f,g={frames:{},meta:{image:(l.baseUrl?l.baseUrl:\"\")+l.images[a]}},m=0;m<f;m++){var v=f>1?i+m:i;g.frames[v]={frame:{x:s*h+m%y*s,y:u*c+Math.floor(m/y)*u,w:s,h:u},sourceSize:{w:s,h:u},rotated:!1,trimmed:!1}}var b=\"data:text/json;charset=UTF-8,\"+JSON.stringify(g);PIXI.utils.TextureCache[b+\"_image\"]||this.loader.add(b,{crossOrigin:!0})},[{key:\"apply\",value:function(){var t=this;if(Object.keys(this.loader.resources).length>0)return new Promise(function(e){t.loader.load(),t.loader.onComplete.add(e)})}}])}(),te={C:Qt,U:function(){return u(function t(e,n,r){o(this,t),this.id=+e[0],this.t=+e[1],this.params={},this.curve={};for(var i=2;i<e.length;){var a=Jt[e[i]]||e[i],s=B[a]||B.default,u=s.type(e[i+1]);\"function\"==typeof s.convert&&(u=s.convert(u,n,r,this.t));var l=t.curves[e[i+2]];this.params[a]=u,i+=2,l&&(this.curve[a]=l,i+=1)}},[{key:\"apply\",value:function(t,e){var n=t.get(this.id);n.addState(this.t,{values:this.params,curve:this.curve},e.number,e),n.stateAdded=!0}}],[{key:\"curves\",get:function(){return{_:function(t){return t<1?0:1},\"âˆ«\":$t,\"ðŸ™–\":Kt,\"ðŸ™’\":Vt,\"~\":qt,Î“:function(t){return 1}}}}])}(),L:Zt};function ee(t,e){for(var n=[],r=\"\",i=0,a=\"\",o=!1;i<t.length;){var s=t[i++];s===e?o?r+=s:(n.push(r),r=\"\"):\"'\"===s&&\"\\\\\"!==a?(o=!o,r+=s):\"\\\\\"===a?r+=\"'\"===s?\"\\\\'\":\"\\\\\"+s:\"\\\\\"!==s&&(r+=s),a=s}return n.push(r),n}function ne(t,e,n,r){var i=ee(e,\";\"),a=[];return i.forEach(function(e){return a.push(new t(ee(e,\" \"),n,r))}),a}var re=function(){return u(function t(){o(this,t)},null,[{key:\"parse\",value:function(t,e,n){var r=[],i=ee(t,\"\\n\");for(var a in i){var o=te[i[a][0]];if(!o)throw new Error(\"Unrecognised command : \"+i[a][0]);r=[].concat(f(r),f(ne(o,i[a].slice(1),e,n)))}return r}}])}(),ie=1920;function ae(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return oe(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function se(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ue(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?se(Object(n),!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var le={},ce=[function(){return u(function t(e){o(this,t),window.entityModule=this,this.entities=new Map,this.frames=[],this.loadingAssets=0,this.extrapolationMap={},this.globalData={toWorldUnits:1,mustResetTree:!0,maskUpdates:{},updatedBuffers:[],players:[],instanceCount:0},le.entities=this.entities},[{key:\"handleFrameData\",value:function(t,e){var n=this;if(e){var r=re.parse(e,this.globalData,t);r&&r.forEach(function(e){var r=e.apply(n.entities,t);r&&(n.loadingAssets++,r.then(function(){n.loadingAssets--}))})}var i=ue({},t);return i.previous=this.frames[this.frames.length-1]||i,this.extrapolate(i),i!==i.previous&&(i.previous.next=i),this.frames.push(i),i}},{key:\"lastElementOf\",value:function(t){return t[t.length-1]}},{key:\"extrapolate\",value:function(t){var e=this,n=t.number,r=t.previous.number;this.entities.forEach(function(i){if(i.stateAdded){i.stateAdded=!1,i.states[n]||(i.states[n]=[]),e.extrapolationMap[i.id]||(e.extrapolationMap[i.id]=ue({},i.defaultState));var a=i.states[n];a.sort(function(t,e){return t.t-e.t}),a.length&&1===e.lastElementOf(a).t||i.addState(1,{},n,t);var o=e.extrapolationMap[i.id];i.states[r]&&r!==n&&(o=i.states[r][i.states[r].length-1]),i.states[n]=a.map(function(t){var n=e.extrapolationMap[i.id]=ue(ue({},e.extrapolationMap[i.id]),t);return\"function\"==typeof i.computeAnimationProgressTime&&i.computeAnimationProgressTime(o,n),o=n,n})}})}},{key:\"reinitScene\",value:function(t,e){this.globalData.toPixel=ie/e.width*e.oversampling,this.globalData.mustResetTree=!0,le.container=this.container=t,this.entities.forEach(function(t){t.init()})}},{key:\"stillLoading\",value:function(){return this.loadingAssets>0}},{key:\"updateScene\",value:function(t,e,n){var r=this;if(!this.stillLoading()){for(var i in this.entities.forEach(function(t){return t.render(n,e,r.globalData)}),this.globalData.mustResetTree&&(this.reconstructTree(),this.globalData.mustResetTree=!1),this.globalData.maskUpdates){var a=this.entities.get(+i),o=this.globalData.maskUpdates[i];a.container.mask=-1===o?null:this.entities.get(o).graphics}var s,u=ae(this.globalData.updatedBuffers);try{for(u.s();!(s=u.n()).done;){s.value.postUpdate()}}catch(t){u.e(t)}finally{u.f()}this.globalData.maskUpdates={}}}},{key:\"reconstructTree\",value:function(){var t=this;this.container.removeChildren(),this.entities.forEach(function(e){e instanceof It&&(e.childrenContainer.removeChildren(),e.currentState.children.forEach(function(n){var r=t.entities.get(n);e.childrenContainer.addChild(r.container),r.parent=e}),t.sortContainerChildren(e.childrenContainer),e.notifyChange())}),this.entities.forEach(function(e){e.container.parent||t.container.addChild(e.container)}),this.sortContainerChildren(this.container)}},{key:\"sortContainerChildren\",value:function(t){t.children.sort(function(t,e){return t.zIndex===e.zIndex?t.id-e.id:t.zIndex-e.zIndex})}},{key:\"handleGlobalData\",value:function(t,e){this.globalData.players=t;var n=e.width,r=e.height;this.globalData.toWorldUnits=g(n,r,ie,1080),le.toWorldUnits=this.globalData.toWorldUnits,le.hasOwnProperty(\"coeff\")||Object.defineProperty(le,\"coeff\",{get:function(){var t='The \"coeff\" property of GraphicEntityModule\\'s API is deprecated, please use \"toWorldUnits\" instead',e=(new Error).stack;return console.groupCollapsed?(console.groupCollapsed(\"%cDeprecation Warning: %c%s\",\"color:#614108;background:#fffbe6\",\"font-weight:normal;color:#614108;background:#fffbe6\",t),console.warn(e),console.groupEnd()):console.warn(\"Deprecation Warning: \",t),le.toWorldUnits}})}}],[{key:\"moduleName\",get:function(){return\"entitymodule\"}}])}()];function he(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(he=function(){return!!t})()}var fe=function(t){function e(t,n){var r,i,a,s;return o(this,e),i=this,s=['<Error in module \"'+t+'\">'],a=k(a=e),(r=S(i,he()?Reflect.construct(a,s||[],k(i).constructor):a.apply(i,s))).cause=n,r.name=\"ModuleError\",r}return w(e,t),u(e)}(I(Error));function de(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function pe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?de(Object(n),!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ye(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return ge(t,e);var n={}.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ge(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ge(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var me=function(){function t(e){o(this,t),PIXI.settings.STRICT_TEXTURE_CACHE=!0,this.toDestroy=[],this.stepByStepAnimateSpeed=n.stepByStepAnimateSpeed||null;var r=e||null;if(r){var i=r.views,a=r.agents;this.demo={playerCount:a.length,logo:\"logo.png\",overlayAlpha:.2,agents:a,frames:i},(n.overlayAlpha||0===n.overlayAlpha)&&(this.demo.overlayAlpha=n.overlayAlpha),this.demo.agents.forEach(function(e){e.color=t.playerColors[e.index]})}else this.demo=n.demo}return u(t,[{key:\"getDefaultOverSampling\",value:function(){return n.defaultOverSampling||2}},{key:\"handleModuleError\",value:function(t,e){b.push(new fe(t,e)),console.error(e),b.push({message:'<Module \"'.concat(t,'\" disabled>\\n')}),delete this.modules[t]}},{key:\"instantiateModules\",value:function(){this.modules={};var t,e=ye(ce);try{for(e.s();!(t=e.n()).done;){var n=t.value;try{var r,i,a,o=ye(null!==(r=n.dependencies)&&void 0!==r?r:[]);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(null==this.modules[s])throw new Error('Required module \"'.concat(s,'\" not yet loaded. Make sure it comes first in your config.js \"modules\" array'))}}catch(t){o.e(t)}finally{o.f()}this.modules[null!==(i=n.moduleName)&&void 0!==i?i:n.name]=new n(l)}catch(t){var u;this.handleModuleError(null!==(u=n.moduleName)&&void 0!==u?u:n.name,t)}}}catch(t){e.e(t)}finally{e.f()}}},{key:\"destroy\",value:function(){this.alreadyLoaded&&(this.renderer.destroy(),this.endCallback=null),this.destroyed=!0}},{key:\"destroyScene\",value:function(t){!function(){for(var t=0,e=Tt.length;t<e;++t)Tt[t].destroy(!0);Tt=[]}()}},{key:\"getGameName\",value:function(){return n.gameName}},{key:\"canSwapPlayers\",value:function(){return!1}},{key:\"addErrorListener\",value:function(t){b.listen(t)}},{key:\"getResources\",value:function(){return Object.assign({baseUrl:\"\",images:{},spines:{},sprites:[],fonts:[],others:[]},l)}},{key:\"getOptions\",value:function(){return n.options?n.options.map(function(t){return pe({},t)}):[]}},{key:\"setDebug\",value:function(e){this.asyncRenderingTime=t.RenderTimeout}},{key:\"initPreload\",value:function(t,e,n,r,i){t.canvasWidth=r,t.canvasHeight=i,t.loaderProgress=new PIXI.Text(\"100\",{fontSize:.117*i||30,fontFamily:\"Lato\",fontWeight:\"900\",fill:\"white\",align:\"center\"}),t.loaderProgress.anchor.y=1,t.loaderProgress.anchor.x=1.3,t.progress=t.realProgress=n,t.loaderProgress.position.y=i,t.progressBar=new PIXI.Graphics,e.addChild(t.progressBar),e.addChild(t.loaderProgress)}},{key:\"preload\",value:function(t,e,n,r,i,a){t.progress=n}},{key:\"renderPreloadScene\",value:function(t,e){var n=Math.pow(.998,e);return t.realProgress=n*t.realProgress+(1-n)*t.progress,t.loaderProgress.text=(100*t.realProgress).toFixed(0),t.loaderProgress.position.x=t.realProgress*t.canvasWidth,t.progressBar.clear(),t.progressBar.beginFill(0,1),t.progressBar.drawRect(0,0,t.canvasWidth*t.realProgress+1,t.canvasHeight),t.progressBar.endFill(),t.progressBar.beginFill(4146246,1),t.progressBar.drawRect(t.canvasWidth*t.realProgress,0,t.canvasWidth,t.canvasHeight),t.progressBar.endFill(),!0}},{key:\"initDefaultScene\",value:function(e,n,r,i){var a=new PIXI.Container;if(e.drawer=this,e.time=0,this.demo){if(this.demo.logo)try{var o=PIXI.Sprite.from(this.demo.logo);o.position.set(t.WIDTH/2,t.HEIGHT/2),o.anchor.set(.5),o.baseScale=g(o.texture.width,o.texture.height,2*t.WIDTH/3,t.HEIGHT/2,0),a.addChild(o),e.logo=o}catch(t){b.push({message:'Missing \"logo.png\" to complete replay.'}),e.logo=new PIXI.Container,e.logo.baseScale=1,a.addChild(e.logo),e.missingLogo=!0}var s=new PIXI.Graphics;e.missingLogo||(s.beginFill(0,this.demo.overlayAlpha||0),s.drawRect(0,0,t.WIDTH+20,t.HEIGHT+20),s.endFill(),s.x-=10,s.y-=10);var u=new PIXI.Container;try{this.initDefaultFrames(this.demo.playerCount,this.demo.frames,this.demo.agents),this.preconstructScene(this.scope,n,this.initWidth,this.initHeight),this.initScene(this.scope,u,this.frames,!0),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)}catch(t){b.push({cause:t,message:\"Cannot load demo, you might want to reset the demo\"})}e.demo=u,e.demotime=0,this.currentFrame=-1,n.addChild(u),n.addChild(s),n.addChild(a)}e.updateTime=0,e.frameTime=0}},{key:\"initDefaultFrames\",value:function(e,n,r){var i=this;this.instantiateModules(),this.playerInfo=r.map(function(t,e){return{name:t.name||\"Anonymous\",color:t.color?i.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:t.avatarTexture}}),this.instantiateModules(),this._frames=n.map(function(t){var e,n=t.split(\"\\n\"),r=n[0].split(\" \");try{e=JSON.parse(n.slice(1).join(\"\\n\"))}catch(t){e={}}return pe(pe({},e),{},{key:\"KEY_FRAME\"===r[0]})}).filter(function(t){return t.key}),this.parseGlobalData(this._frames[0].global),this.playerCount=e,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1;var a=this._frames[0].frame;a.key=this._frames[0].key,this.frames.push(this.parseFrame(a,this.frames));for(var o=1;o<this._frames.length;++o)this.frames.push(this.parseFrame(this._frames[o],this.frames));this.asyncRenderingTime=t.RenderTimeout}},{key:\"renderDefaultScene\",value:function(t,e){if(e=Math.min(80,e),void 0===this.demo)return!1;this.currentFrame=this.currentFrameTemp||0,t.frameTime+=e,t.updateTime+=e,t.demotime+=e/1e3;var n=Math.max(0,Math.min(1,(t.demotime-1)/.5));if(t.logo&&(t.logo.alpha=n,t.logo.scale.x=t.logo.scale.y=(3-2*n)*t.logo.baseScale),!t.missingLogo&&t.demotime>1.5&&t.demotime<=2.2){var r=15*Math.max(0,1-(t.demotime-1.5)/.7);t.demo.x=(2*Math.random()-1)*r,t.demo.y=(2*Math.random()-1)*r}else t.demo.x=t.demo.y=0;var i=this.getFrameDuration(this.currentFrame);return t.updateTime>=30&&(t.updateTime-=30,0===this.currentFrame?this.progress=1:this.progress=y(0,i,t.frameTime),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)),t.frameTime>=i&&(t.frameTime-=i,this.currentFrame=(this.currentFrame+1)%this.frames.length),this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],e,!0),this.currentFrameTemp=this.currentFrame,this.currentFrame=-1,!0}},{key:\"endDefaultScene\",value:function(t,e){return!0}},{key:\"parseGlobalData\",value:function(t){for(var e in this.modules){var n=this.modules[e];\"function\"==typeof n.handleGlobalData&&n.handleGlobalData(this.playerInfo,t[e])}}},{key:\"parseFrame\",value:function(t,e){var n={data:{},frameInfo:{number:e.length}};if(n.previous=e[e.length-1]||n,n!==n.previous&&(n.previous.next=n),!t.key)return n.previous;for(var r in t.duration&&(this.currentFrameDuration=t.duration),n.frameInfo.frameDuration=this.currentFrameDuration,n===n.previous?(n.frameInfo.date=0,n.frameInfo.frameDuration=0):n.frameInfo.date=n.previous.frameInfo.date+n.previous.frameInfo.frameDuration,this.modules){var i=this.modules[r];\"function\"==typeof i.handleFrameData&&(n.data[r]=i.handleFrameData(n.frameInfo,t[r]))}return n}},{key:\"preconstructScene\",value:function(e,n,r,i){e.canvasHeight=i,e.canvasWidth=r,e.time=0,e.endTime=0,e.playerInfo=this.playerInfo,n.scale.x=r/t.WIDTH,n.scale.y=i/t.HEIGHT}},{key:\"initScene\",value:function(t,e,n){for(var r in this.modules){var i=this.modules[r],a=new PIXI.Container;try{i.reinitScene(a,{width:t.canvasWidth,height:t.canvasHeight,oversampling:this.oversampling})}catch(t){this.handleModuleError(r,t)}e.addChild(a)}}},{key:\"updateScene\",value:function(t,e,n,r,i,a,o,s,u){var l=n[r];if(!u&&this.stepByStepAnimateSpeed){if(this.checkSteppedToNextFrame(t,l,i))return void this.startAsynchronousAnimation(t,l);if(this.checkSteppedToPreviousFrame(t,l,i)){return void this.startAsynchronousAnimation(t,t.currentFrame,!0)}t.targetProgress=null}for(var c in t.currentFrame=l,t.currentProgress=i,t.reason=o,this.modules){var h=this.modules[c];if(l.data.hasOwnProperty(c))try{h.updateScene(l.previous.data[c],l.data[c],i,a)}catch(t){this.handleModuleError(c,t)}}}},{key:\"startAsynchronousAnimation\",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.targetProgress=n?0:1,n||1!==t.currentProgress||(t.currentProgress=0),t.currentFrame=e,t.reverseAsynchronousAnimation=n}},{key:\"checkStepped\",value:function(t,e,n){return t.currentFrame&&0===this.speed&&1===n}},{key:\"checkSteppedToNextFrame\",value:function(t,e,n){return this.checkStepped(t,e,n)&&(t.currentFrame===e.previous&&t.currentFrame!==e||t.currentFrame===e&&t.currentProgress!==n)}},{key:\"checkSteppedToPreviousFrame\",value:function(t,e,n){return this.checkStepped(t,e,n)&&t.currentFrame.previous===e&&t.currentFrame!==e}},{key:\"initEndScene\",value:function(t,e){t.endSceneViewed=!1}},{key:\"destroyEndScene\",value:function(t){}},{key:\"renderEndScene\",value:function(t,e,n){0===t.endTime&&this.initEndScene(t,n),t.endTime+=e,t.endTime>=void 0&&!t.endSceneViewed&&(this.endCallback&&this.endCallback(),t.endSceneViewed=!0)}},{key:\"renderScene\",value:function(t,e,n,r,i,a,o,s){if(s=Math.min(80,s),!this.debugMode&&r===n.length-1&&1===i?this.renderEndScene(t,s,\"Win\"!==o):(t.endTime>0&&this.destroyEndScene(t),t.endTime=0),this.stepByStepAnimateSpeed&&this.isAsynchronousAnimationOngoing(t)){var u,l=this.currentFrame;t.reverseAsynchronousAnimation&&l++;var c=s/200*this.getFrameSpeed(l)*this.stepByStepAnimateSpeed;t.reverseAsynchronousAnimation?(u=t.currentProgress-c)<=0&&(l=this.currentFrame,u=1,t.targetProgress=1):(u=t.currentProgress+c,u=Math.min(t.targetProgress,u)),this.updateScene(this.scope,this.question,this.frames,l,u,this.speed,this.reasons[l],!1,!0)}for(var h in this.modules){var f=this.modules[h];if(\"function\"==typeof f.animateScene)try{f.animateScene(s)}catch(t){this.handleModuleError(h,t)}}return!0}},{key:\"isAsynchronousAnimationOngoing\",value:function(t){return null!=t.targetProgress&&t.currentProgress!==t.targetProgress}},{key:\"getFrameSpeed\",value:function(t){return 500/this.getFrameDuration(t)}},{key:\"getFrameDuration\",value:function(t){return this.frames&&this.frames[t]&&this.frames[t].frameInfo.frameDuration||1e3}},{key:\"enableAsyncRendering\",value:function(e){this.asyncRendering=e,this.asyncRenderingTime=t.RenderTimeout}},{key:\"purge\",value:function(){this.scope={},this.changed=!0,this.container.interactiveChildren=!1,this.container.destroy({texture:!1,children:!0}),delete this.container,this.container=new PIXI.Container}},{key:\"reinitScene\",value:function(){this.loaded>=1&&(this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.preconstructScene(this.scope,this.container,this.initWidth,this.initHeight),this.initScene(this.scope,this.container,this.frames),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame]),this.changed=!0)}},{key:\"reinitDefaultScene\",value:function(){this.loaded>=1&&(this.intro=!0,this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initDefaultScene(this.scope,this.container,this.initWidth,this.initHeight),this.changed=!0)}},{key:\"reinitLoadingScene\",value:function(){this.loaded<1&&(this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initPreload(this.scope,this.container,this.loaded,this.initWidth,this.initHeight))}},{key:\"reinit\",value:function(t){this.loaded>=1&&!this.loading?this.currentFrame>=0&&!this.intro?this.reinitScene():this.intro&&!t||this.reinitDefaultScene():this.reinitLoadingScene()}},{key:\"animate\",value:function(t){if(!this.destroyed){this.lastRenderTime||(this.lastRenderTime=t);var e=t-this.lastRenderTime;this.asynchronousStep&&(e=this.asynchronousStep),this.onBeforeRender&&this.onBeforeRender(),this.loading||(this.loaded<1?this.changed|=this.renderPreloadScene(this.scope,e):(this.changed||this.asyncRendering&&this.asyncRenderingTime>0||this.isAsynchronousAnimationOngoing(this.scope))&&(this.currentFrame<0?this.changed|=this.renderDefaultScene(this.scope,e):this.intro?(this.changed=!0,this.endDefaultScene(this.scope,e)&&(this.intro=!1,this.reinit(!0))):this.changed|=this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame],e)),this.changed&&(this.renderer.render(this.container),this.changed=!1)),this.onAfterRender&&this.onAfterRender(),this.lastRenderTime=t,this.destroyed||requestAnimationFrame(this.animate.bind(this)),this.asyncRenderingTime-=e}}},{key:\"_initFrames\",value:function(t,e){this.instantiateModules(),this._frames=e.map(function(t){var e,n=t[0].split(\" \");try{e=JSON.parse(t.slice(1).join(\"\\n\"))}catch(t){e={}}return pe(pe({},e),{},{key:\"KEY_FRAME\"===n[0]})}),this.parseGlobalData(this._frames[0].global),this.playerCount=t,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1;var n=this._frames[0].frame;n.key=this._frames[0].key,this.frames.push(this.parseFrame(n,this.frames));for(var r=1;r<this._frames.length;++r)this.frames.push(this.parseFrame(this._frames[r],this.frames))}},{key:\"isTurnBasedGame\",value:function(){return!1}},{key:\"initFrames\",value:function(t,e){this.playerInfo&&this.playerInfo.forEach(function(t){t.avatar&&t.avatar.destroy(!0)});var n=this,r=new PIXI.Loader(window.location.origin);this.playerInfo=e.map(function(t,e){var i={name:t.name||\"Anonymous\",color:t.color?n.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:null};return null!=t.avatar&&r.add(\"avatar\"+e,t.avatar,{loadType:2,crossOrigin:!0},function(t){i.avatar=t.texture,PIXI.Texture.addToCache(t.texture,\"$\"+i.index)}),i}),this.loading=!0;var i=!1,a=function(){n._initFrames(e.length,t),n.loading=!1,n.reinit(!1),i=!0};r.onComplete.add(a),r.onError.add(function(t){console.warn(t),i||a()}),r.load()}},{key:\"update\",value:function(e,n,r){this.currentFrame>=0&&(this.asyncRenderingTime=t.RenderTimeout,this.changed=!0,this.speed=r,this.currentFrame=e,this.progress=n,this.loaded>=1&&!this.intro&&this.updateScene(this.scope,this.question,this.frames,e,n,this.speed,this.reasons[this.currentFrame]))}},{key:\"parseColor\",value:function(t){if(Array.isArray(t)){var e,n=[];for(e=0;e<t.length;++e)n.push(this.parseColor(t[e]));return n}return parseInt(t.substring(1),16)}},{key:\"init\",value:function(e,n,r,i,a,o,s){var u,l=this;window.PIXI=t.PIXI||window.PIXI,this.oversampling=a||1;var c=function(){l.currentFrame>=0&&(l.changed=!0)};this.canvas=$(e),this.canvas.off(\"mousemove\"),this.canvas.off(\"wheel\"),this.canvas.bind(\"wheel\",c),this.canvas.mousemove(c),i&&(this.colors=this.parseColor(i)),\"ide\"===s&&(this.debugModeSetByUser||(this.debugMode=!0),b.listen(function(t){return console.error(t.cause?t.cause:t)})),this.asyncRendering=!0,this.asyncRenderingTime=0,this.destroyed=!1,this.asynchronousStep=null;var h,f=this;if(this.initWidth=0|n,this.initHeight=0|r,this.endCallback=o||this.endCallback,this.alreadyLoaded)this.changed=!0,this.renderer.resize(this.initWidth,this.initHeight),this.reinit(!0);else{this.alreadyLoaded=!0,this.question=null,this.scope=null,this.currentFrame=-1,this.loaded=0,this.container=new PIXI.Container;var d=this.getResources();this.renderer=this.createRenderer(this.initWidth,this.initHeight,e),h=this.renderer,Ct=h;var p,y=new PIXI.Loader(d.baseUrl);for(u in d.images)y.add(u,d.images[u],{crossOrigin:!0});for(p=0;p<d.sprites.length;++p)y.add(d.sprites[p],{crossOrigin:!0});for(p=0;p<d.fonts.length;++p)y.add(d.fonts[p],{crossOrigin:!0});for(u in d.spines)y.add(u,d.spines[u],{crossOrigin:!0});for(p=0;p<d.others.length;++p)y.add(d.others[p],{crossOrigin:!0});this.demo&&this.demo.agents.forEach(function(t){y.add(\"avatar\"+t.index,t.avatar,{loadType:2,crossOrigin:!0},function(e){t.avatarTexture=e.texture,PIXI.Texture.addToCache(e.texture,\"$\"+t.index)})}),f.scope={};var g=function(t,e){requestAnimationFrame(f.animate.bind(f)),f.initPreload(f.scope,f.container,f.loaded=0,f.initWidth,f.initHeight)};y.onStart.add(g),y.onProgress.add(function(t,e){t.progress<100&&f.preload(f.scope,f.container,f.loaded=t.progress/100,f.initWidth,f.initHeight,e)});var m=function(){var t;for(t in d.spines)d.spines.hasOwnProperty(t)&&(PIXI.AnimCache[t]=PIXI.AnimCache[d.baseUrl+d.spines[t]]);f.loaded=1,f.reinit(!0),f.changed=!0};y.onComplete.add(m),y.onError.add(function(t){console.warn(t)}),Object.keys(y.resources).length?y.load():(g(),m())}}},{key:\"createRenderer\",value:function(t,e,n){return PIXI.autoDetectRenderer({width:t,height:e,view:n,clearBeforeRender:!0,preserveDrawingBuffer:!1})}},{key:\"isReady\",value:function(){return this.loaded>=1}}],[{key:\"requirements\",get:function(){return{PIXI:\"PIXI6\"}}},{key:\"VERSION\",get:function(){return 2}},{key:\"WIDTH\",get:function(){return ie}},{key:\"HEIGHT\",get:function(){return 1080}},{key:\"getGameRatio\",value:function(){return t.WIDTH/t.HEIGHT}},{key:\"playerColors\",get:function(){return n.playerColors||[\"#ff1d5c\",\"#22a1e4\",\"#ff8f16\",\"#6ac371\",\"#9975e2\",\"#3ac5ca\",\"#de6ddf\",\"#ff0000\"]}},{key:\"SDK_GAME\",get:function(){return!0}},{key:\"RenderTimeout\",get:function(){return\"localhost\"===window.location.hostname?1/0:2e4}}])}()})(),Drawer=e.Drawer})();",
      "levelParams": {
        "0": {
          "aiCode": "import sys\n\n# Read initialization input\nmy_id = int(input())\ninitial_opponent_count = int(input())\n\n# Game loop\nwhile True:\n    # Read number of active opponents this turn\n    opponent_count = int(input())\n\n    # Read opponent moves from previous turn\n    opponents = []\n    for i in range(opponent_count):\n        # opponent_id: ID of the opponent\n        # move: 'C' (cooperate), 'D' (defect), or 'N' (no previous move on first turn)\n        opponent_id, move = input().split()\n        opponent_id = int(opponent_id)\n        opponents.append((opponent_id, move))\n\n    # Write your strategy here\n    # Output one line per opponent: \"opponent_id move\"\n    # where move is either 'C' (cooperate) or 'D' (defect)\n\n    for opponent_id, previous_move in opponents:\n        # Example: always cooperate\n        print(f\"{opponent_id} C\")\n",
          "testCases": [],
          "maxPlayers": 8,
          "minPlayers": 2,
          "statements": {
            "1": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      Score the most points by defecting or cooperating in matches of up to 8 people. This is an implementation of \n      <a href=\"Axelrod\"> Axelrods tournaments</a>. \n      <br><br>\n      Each round occurs independently. Each round you must decide whether to \n      <strong>cooperate (C)</strong> or <strong>defect (D)</strong> against each active opponent. \n      The pairwise interaction is scored and added to your current score. \n      Outside of the first round you will see how opponents treated you last round (whether they cooperated or defected against you) for reference.\n      </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        <strong>Game Setup:</strong>\n        <ul>\n          <li>The game is played over <strong>60 rounds</strong></li>\n          <li>Multiple players compete simultaneously</li>\n        </ul>\n        <br>\n        <strong>Scoring (per pairwise interaction):</strong>\n        <ul>\n          <li><strong>Both cooperate (<const>C</const> vs <const>C</const>):</strong> 4 points each</li>\n          <li><strong>Both defect (<const>D</const> vs <const>D</const>):</strong> 1 point each</li>\n          <li><strong>Defector vs Cooperator (<const>D</const> vs <const>C</const>):</strong> 7 points for defector, 0 points for cooperator</li>\n        </ul>\n        Your score per round is the sum of payoffs against all active opponents. \n        <br><br>\n        <strong>Defeat conditions:</strong><br>\n        You are <strong>eliminated</strong> if you:\n        <ul>\n          <li>Output the wrong number of lines (must equal number of active opponents)</li>\n          <li>Use invalid format (each line must be \"opponent_id move\")</li>\n          <li>Reference yourself, non-existent, or eliminated players</li>\n          <li>Include duplicate opponent IDs</li>\n          <li>Use invalid moves (anything other than <const>C</const> or <const>D</const>)</li>\n          <li>Timeout</li>\n        </ul>\n        Eliminated players no longer participate and are removed from opponent lists.\n      </div>\n    </div>\n  </div>\n  <!-- EXAMPLES -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-example\">&nbsp;</span>\n      <span>Example</span>\n    </h1>\n\n    <div class=\"statement-examples-text\">\n      <strong> Initial Input: </strong>\n      <pre><const>0 2</const></pre>\n       <p>\n      <strong>Round 1 Input (3 players total):</strong>\n      </p>\n      <pre>\n<const>1 N</const>\n<const>2 N</const></pre>\n      You are Player 0. Players 1 and 2 have no previous moves (first round).\n      <br><br>\n      <strong>Round 1 Output:</strong>\n      <pre><const>1 C</const>\n<const>2 C</const></pre>\n      You cooperate with both opponents.\n      <br><br>\n      <strong>Round 2 Input:</strong>\n      <pre><const>2</const>\n<const>1 C</const>\n<const>2 D</const></pre>\n      Player 1 cooperated with you, Player 2 defected.\n      <br><br>\n      <strong>Scoring:</strong> If you played <const>C</const> against both, you earned 4 points (vs Player 1) + 0 points (vs Player 2) = 4 points that round.\n    </div>\n\n  </div>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Initialization Input</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span><var>myId</var>, your player ID (integer)</p>\n        <p><span class=\"statement-lineno\">Line 2: </span><var>initialOpponentCount</var>, the initial number of opponents (integer)</p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input for One Game Round</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span><var>opponentCount</var>, number of active opponents this round (integer)</p>\n        <p><span class=\"statement-lineno\">Next <var>opponentCount</var> lines: </span>Two space-separated values:\n          <ul>\n            <li><var>opponentId</var>: the opponent's ID (integer)</li>\n            <li><var>move</var>: their previous move against you - <const>'C'</const> (cooperate), <const>'D'</const> (defect), or <const>'N'</const> (no previous move on first round)</li>\n          </ul>\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output for One Game Round</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\"><var>opponentCount</var> lines</span>, one per active opponent, each containing two space-separated values:\n        <ul>\n          <li><var>opponentId</var>: the opponent's ID</li>\n          <li><var>move</var>: your move against them - <const>C</const> (cooperate) or <const>D</const> (defect)</li>\n        </ul>\n        <br>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\">\n        2 â‰¤ <var>players</var> â‰¤ 8<br>\n        <var>maximum number of rounds</var> = 60<br>\n        Allotted response time per round is â‰¤ <const>100</const> milliseconds.\n      </div>\n    </div>\n  </div>\n  </div>\n</div>\n",
            "2": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      Score the most points by defecting or cooperating in matches of up to 8 people. This is an implementation of \n      <a href=\"Axelrod\"> Axelrods tournaments</a>. \n      <br><br>\n      Each round occurs independently. Each round you must decide whether to \n      <strong>cooperate (C)</strong> or <strong>defect (D)</strong> against each active opponent. \n      The pairwise interaction is scored and added to your current score. \n      Outside of the first round you will see how opponents treated you last round (whether they cooperated or defected against you) for reference.\n      </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        <strong>Game Setup:</strong>\n        <ul>\n          <li>The game is played over <strong>60 rounds</strong></li>\n          <li>Multiple players compete simultaneously</li>\n        </ul>\n        <br>\n        <strong>Scoring (per pairwise interaction):</strong>\n        <ul>\n          <li><strong>Both cooperate (<const>C</const> vs <const>C</const>):</strong> 4 points each</li>\n          <li><strong>Both defect (<const>D</const> vs <const>D</const>):</strong> 1 point each</li>\n          <li><strong>Defector vs Cooperator (<const>D</const> vs <const>C</const>):</strong> 7 points for defector, 0 points for cooperator</li>\n        </ul>\n        Your score per round is the sum of payoffs against all active opponents. \n        <br><br>\n        <strong>Defeat conditions:</strong><br>\n        You are <strong>eliminated</strong> if you:\n        <ul>\n          <li>Output the wrong number of lines (must equal number of active opponents)</li>\n          <li>Use invalid format (each line must be \"opponent_id move\")</li>\n          <li>Reference yourself, non-existent, or eliminated players</li>\n          <li>Include duplicate opponent IDs</li>\n          <li>Use invalid moves (anything other than <const>C</const> or <const>D</const>)</li>\n          <li>Timeout</li>\n        </ul>\n        Eliminated players no longer participate and are removed from opponent lists.\n      </div>\n    </div>\n  </div>\n  <!-- EXAMPLES -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-example\">&nbsp;</span>\n      <span>Example</span>\n    </h1>\n\n    <div class=\"statement-examples-text\">\n      <strong> Initial Input: </strong>\n      <pre><const>0 2</const></pre>\n       <p>\n      <strong>Round 1 Input (3 players total):</strong>\n      </p>\n      <pre>\n<const>1 N</const>\n<const>2 N</const></pre>\n      You are Player 0. Players 1 and 2 have no previous moves (first round).\n      <br><br>\n      <strong>Round 1 Output:</strong>\n      <pre><const>1 C</const>\n<const>2 C</const></pre>\n      You cooperate with both opponents.\n      <br><br>\n      <strong>Round 2 Input:</strong>\n      <pre><const>2</const>\n<const>1 C</const>\n<const>2 D</const></pre>\n      Player 1 cooperated with you, Player 2 defected.\n      <br><br>\n      <strong>Scoring:</strong> If you played <const>C</const> against both, you earned 4 points (vs Player 1) + 0 points (vs Player 2) = 4 points that round.\n    </div>\n\n  </div>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Initialization Input</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span><var>myId</var>, your player ID (integer)</p>\n        <p><span class=\"statement-lineno\">Line 2: </span><var>initialOpponentCount</var>, the initial number of opponents (integer)</p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input for One Game Round</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">Line 1: </span><var>opponentCount</var>, number of active opponents this round (integer)</p>\n        <p><span class=\"statement-lineno\">Next <var>opponentCount</var> lines: </span>Two space-separated values:\n          <ul>\n            <li><var>opponentId</var>: the opponent's ID (integer)</li>\n            <li><var>move</var>: their previous move against you - <const>'C'</const> (cooperate), <const>'D'</const> (defect), or <const>'N'</const> (no previous move on first round)</li>\n          </ul>\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output for One Game Round</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\"><var>opponentCount</var> lines</span>, one per active opponent, each containing two space-separated values:\n        <ul>\n          <li><var>opponentId</var>: the opponent's ID</li>\n          <li><var>move</var>: your move against them - <const>C</const> (cooperate) or <const>D</const> (defect)</li>\n        </ul>\n        <br>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\">\n        2 â‰¤ <var>players</var> â‰¤ 8<br>\n        <var>maximum number of rounds</var> = 60<br>\n        Allotted response time per round is â‰¤ <const>100</const> milliseconds.\n      </div>\n    </div>\n  </div>\n  </div>\n</div>\n"
          },
          "questionType": "multi",
          "stubGenerator": "INPUT\nmyId: your player ID\nOUTPUT\n\nread myId:int\nINPUT\ninitialOpponentCount: initial number of opponents\nOUTPUT\n\nread initialOpponentCount:int\n\ngameloop\n  INPUT\n  opponentCount: number of active opponents this turn\n  OUTPUT\n\n  read opponentCount:int\n  INPUT\n  opponentId: ID of the opponent\n  move: C (cooperate), D (defect), or N (no previous move on first turn)\n  OUTPUT\n  opponent_id move: output C or D for each opponent\n\n  loop opponentCount read opponentId:int move:word(1)\n  loop opponentCount write opponentId C\n",
          "welcomePopups": {},
          "aiCodeExtension": "py3",
          "criteriaLanguageMap": {}
        }
      },
      "directoryPrefix": "community/4063095-1765569579489",
      "allowSourceDownload": true,
      "originalArchiveBinaryId": 158169549044702
    },
    "draft": false,
    "readyForModeration": false
  },
  "commentCount": 2,
  "upVotes": 0,
  "downVotes": 0,
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": false
}