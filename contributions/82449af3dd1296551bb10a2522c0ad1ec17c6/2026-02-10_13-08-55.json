{
  "id": 82449,
  "activeVersion": 4,
  "score": 13,
  "votableId": 32492089,
  "codingamerId": 5686336,
  "views": 232,
  "commentableId": 32348876,
  "title": "Battle of Heroes",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Nick_Rimer",
  "publicHandle": "82449af3dd1296551bb10a2522c0ad1ec17c6",
  "codingamerHandle": "e19b1a77caf5f5d604c0f85152ae86b26336865",
  "lastVersion": {
    "version": 4,
    "autocloseTime": 1710975167181,
    "data": {
      "title": "Battle of Heroes",
      "topics": [
        {
          "id": 46,
          "handle": "loops",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Boucles",
            "2": "Loops"
          },
          "pageTitle": "Loops: exercises and theory",
          "puzzleCount": 102,
          "parentTopicId": 39,
          "contentDetailsId": 71
        },
        {
          "id": 73,
          "handle": "strings",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Chaînes de caractères",
            "2": "Strings"
          },
          "pageTitle": "Strings: exercises and theory",
          "puzzleCount": 52,
          "parentTopicId": 41,
          "contentDetailsId": 73
        }
      ],
      "solution": "const stack1Data = readline();\nconst stack2Data = readline();\n\nconst stack = {};\n\nfor (let [i, data] of [stack1Data, stack2Data].entries()) {\n  const [name, amount, health, damage] = data.split(\";\");\n\n  stack[i] = {\n    name,\n    amount: parseInt(amount),\n    health: parseInt(health),\n    totalHealth: parseInt(amount) * parseInt(health),\n    damage: parseInt(damage),\n  };\n}\n\nlet round = 0;\nlet [attacker, defender] = [stack[0], stack[1]];\n\nwhile (stack[0].amount > 0 && stack[1].amount > 0) {\n  const damage = attacker.amount * attacker.damage;\n\n  defender.totalHealth -= damage;\n\n  const newAmount = Math.ceil(defender.totalHealth / defender.health);\n  let casualties = defender.amount - newAmount;\n  casualties > defender.amount && (casualties = defender.amount);\n\n  !(round & 1) && console.log(`Round ${round / 2 + 1}`);\n  console.log(\n    `${attacker.amount} ${attacker.name}(s) attack(s) ${defender.amount} ${defender.name}(s) dealing ${damage} damage`,\n  );\n  console.log(`${casualties} unit(s) perish`);\n  console.log(round & 1 ? \"##########\" : \"----------\");\n\n  defender.amount = newAmount;\n\n  if (defender.amount > 0) {\n    [attacker, defender] = [defender, attacker];\n    round += 1;\n  }\n}\n\nconsole.log(`${attacker.name} won! ${attacker.amount} unit(s) left`);\n",
      "statement": "Imagine yourself on a battlefield like in the good-old times when you played Heroes of Might and Magic (HoMM).\nThe combat is turn-based. Two stacks of units sequentially attack each other until one of them is destroyed.\n\n<<Combat rules:>>\n* Stack 1 always attacks first.\n* Each stack has a unit [[name]], the total [[amount]] of units in stack, the [[health]] of 1 unit and the [[damage]] dealt by 1 unit.\n* Damage is applied to the enemy stack unit by unit. If part of the damage is enough to kill the first unit, the remaining damage is applied to the subsequent unit.\n* Units cannot avoid or counter attacks (as they did in HoMM), instead they attack on their turn.\n* Combat always starts from Round 1.\n* A round ends when both stacks have attacked each other, or when one of the stacks has been eliminated.",
      "testCases": [
        {
          "title": "Minotaur vs. Unicorn",
          "isTest": true,
          "testIn": "Minotaur;20;35;10\nUnicorn;16;40;14",
          "testOut": "Round 1\n20 Minotaur(s) attack(s) 16 Unicorn(s) dealing 200 damage\n5 unit(s) perish\n----------\n11 Unicorn(s) attack(s) 20 Minotaur(s) dealing 154 damage\n4 unit(s) perish\n##########\nRound 2\n16 Minotaur(s) attack(s) 11 Unicorn(s) dealing 160 damage\n4 unit(s) perish\n----------\n7 Unicorn(s) attack(s) 16 Minotaur(s) dealing 98 damage\n3 unit(s) perish\n##########\nRound 3\n13 Minotaur(s) attack(s) 7 Unicorn(s) dealing 130 damage\n3 unit(s) perish\n----------\n4 Unicorn(s) attack(s) 13 Minotaur(s) dealing 56 damage\n1 unit(s) perish\n##########\nRound 4\n12 Minotaur(s) attack(s) 4 Unicorn(s) dealing 120 damage\n3 unit(s) perish\n----------\n1 Unicorn(s) attack(s) 12 Minotaur(s) dealing 14 damage\n1 unit(s) perish\n##########\nRound 5\n11 Minotaur(s) attack(s) 1 Unicorn(s) dealing 110 damage\n1 unit(s) perish\n----------\nMinotaur won! 11 unit(s) left",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "The Undead swarm",
          "isTest": false,
          "testIn": "Black dragon;300;300;50\nSkeleton;10000;4;3",
          "testOut": "Round 1\n300 Black dragon(s) attack(s) 10000 Skeleton(s) dealing 15000 damage\n3750 unit(s) perish\n----------\n6250 Skeleton(s) attack(s) 300 Black dragon(s) dealing 18750 damage\n62 unit(s) perish\n##########\nRound 2\n238 Black dragon(s) attack(s) 6250 Skeleton(s) dealing 11900 damage\n2975 unit(s) perish\n----------\n3275 Skeleton(s) attack(s) 238 Black dragon(s) dealing 9825 damage\n33 unit(s) perish\n##########\nRound 3\n205 Black dragon(s) attack(s) 3275 Skeleton(s) dealing 10250 damage\n2562 unit(s) perish\n----------\n713 Skeleton(s) attack(s) 205 Black dragon(s) dealing 2139 damage\n7 unit(s) perish\n##########\nRound 4\n198 Black dragon(s) attack(s) 713 Skeleton(s) dealing 9900 damage\n713 unit(s) perish\n----------\nBlack dragon won! 198 unit(s) left",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Flawless victory!",
          "isTest": true,
          "testIn": "Crusader;100;65;20\nBone dragon;1;150;45",
          "testOut": "Round 1\n100 Crusader(s) attack(s) 1 Bone dragon(s) dealing 2000 damage\n1 unit(s) perish\n----------\nCrusader won! 100 unit(s) left",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Claws vs. Steel",
          "isTest": false,
          "testIn": "Griffin;300;25;5\nSteel golem;42;35;5",
          "testOut": "Round 1\n300 Griffin(s) attack(s) 42 Steel golem(s) dealing 1500 damage\n42 unit(s) perish\n----------\nGriffin won! 300 unit(s) left",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Range battle",
          "isTest": true,
          "testIn": "Halfling;1000;3;3\nCentaur;1300;5;2",
          "testOut": "Round 1\n1000 Halfling(s) attack(s) 1300 Centaur(s) dealing 3000 damage\n600 unit(s) perish\n----------\n700 Centaur(s) attack(s) 1000 Halfling(s) dealing 1400 damage\n466 unit(s) perish\n##########\nRound 2\n534 Halfling(s) attack(s) 700 Centaur(s) dealing 1602 damage\n320 unit(s) perish\n----------\n380 Centaur(s) attack(s) 534 Halfling(s) dealing 760 damage\n254 unit(s) perish\n##########\nRound 3\n280 Halfling(s) attack(s) 380 Centaur(s) dealing 840 damage\n168 unit(s) perish\n----------\n212 Centaur(s) attack(s) 280 Halfling(s) dealing 424 damage\n141 unit(s) perish\n##########\nRound 4\n139 Halfling(s) attack(s) 212 Centaur(s) dealing 417 damage\n83 unit(s) perish\n----------\n129 Centaur(s) attack(s) 139 Halfling(s) dealing 258 damage\n86 unit(s) perish\n##########\nRound 5\n53 Halfling(s) attack(s) 129 Centaur(s) dealing 159 damage\n32 unit(s) perish\n----------\n97 Centaur(s) attack(s) 53 Halfling(s) dealing 194 damage\n53 unit(s) perish\n##########\nCentaur won! 97 unit(s) left",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Thunder from the sky!",
          "isTest": false,
          "testIn": "Titan;10;300;30\nBattle dwarf;30;20;4",
          "testOut": "Round 1\n10 Titan(s) attack(s) 30 Battle dwarf(s) dealing 300 damage\n15 unit(s) perish\n----------\n15 Battle dwarf(s) attack(s) 10 Titan(s) dealing 60 damage\n0 unit(s) perish\n##########\nRound 2\n10 Titan(s) attack(s) 15 Battle dwarf(s) dealing 300 damage\n15 unit(s) perish\n----------\nTitan won! 10 unit(s) left",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Rebel scum",
          "isTest": true,
          "testIn": "Rogue;1000;4;2\nNomad;400;20;5",
          "testOut": "Round 1\n1000 Rogue(s) attack(s) 400 Nomad(s) dealing 2000 damage\n100 unit(s) perish\n----------\n300 Nomad(s) attack(s) 1000 Rogue(s) dealing 1500 damage\n375 unit(s) perish\n##########\nRound 2\n625 Rogue(s) attack(s) 300 Nomad(s) dealing 1250 damage\n62 unit(s) perish\n----------\n238 Nomad(s) attack(s) 625 Rogue(s) dealing 1190 damage\n297 unit(s) perish\n##########\nRound 3\n328 Rogue(s) attack(s) 238 Nomad(s) dealing 656 damage\n33 unit(s) perish\n----------\n205 Nomad(s) attack(s) 328 Rogue(s) dealing 1025 damage\n256 unit(s) perish\n##########\nRound 4\n72 Rogue(s) attack(s) 205 Nomad(s) dealing 144 damage\n7 unit(s) perish\n----------\n198 Nomad(s) attack(s) 72 Rogue(s) dealing 990 damage\n72 unit(s) perish\n##########\nNomad won! 198 unit(s) left",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Death from above",
          "isTest": false,
          "testIn": "Phoenix;100;100;40\nBone dragon;100;150;45",
          "testOut": "Round 1\n100 Phoenix(s) attack(s) 100 Bone dragon(s) dealing 4000 damage\n26 unit(s) perish\n----------\n74 Bone dragon(s) attack(s) 100 Phoenix(s) dealing 3330 damage\n33 unit(s) perish\n##########\nRound 2\n67 Phoenix(s) attack(s) 74 Bone dragon(s) dealing 2680 damage\n18 unit(s) perish\n----------\n56 Bone dragon(s) attack(s) 67 Phoenix(s) dealing 2520 damage\n25 unit(s) perish\n##########\nRound 3\n42 Phoenix(s) attack(s) 56 Bone dragon(s) dealing 1680 damage\n11 unit(s) perish\n----------\n45 Bone dragon(s) attack(s) 42 Phoenix(s) dealing 2025 damage\n20 unit(s) perish\n##########\nRound 4\n22 Phoenix(s) attack(s) 45 Bone dragon(s) dealing 880 damage\n6 unit(s) perish\n----------\n39 Bone dragon(s) attack(s) 22 Phoenix(s) dealing 1755 damage\n18 unit(s) perish\n##########\nRound 5\n4 Phoenix(s) attack(s) 39 Bone dragon(s) dealing 160 damage\n1 unit(s) perish\n----------\n38 Bone dragon(s) attack(s) 4 Phoenix(s) dealing 1710 damage\n4 unit(s) perish\n##########\nBone dragon won! 38 unit(s) left",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Deadly strike-back",
          "isTest": true,
          "testIn": "Vampire;9;30;8\nGenie;28;50;10",
          "testOut": "Round 1\n9 Vampire(s) attack(s) 28 Genie(s) dealing 72 damage\n1 unit(s) perish\n----------\n27 Genie(s) attack(s) 9 Vampire(s) dealing 270 damage\n9 unit(s) perish\n##########\nGenie won! 27 unit(s) left",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Chill touch vs. Fire touch",
          "isTest": false,
          "testIn": "Ghost;100;20;8\nFire elemental;300;40;8",
          "testOut": "Round 1\n100 Ghost(s) attack(s) 300 Fire elemental(s) dealing 800 damage\n20 unit(s) perish\n----------\n280 Fire elemental(s) attack(s) 100 Ghost(s) dealing 2240 damage\n100 unit(s) perish\n##########\nFire elemental won! 280 unit(s) left",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "easy",
      "constraints": "3 ≤ length of [[name]] ≤ 20\n1 ≤ [[amount]] ≤ 10000\n1 ≤ [[health]] ≤ 300\n1 ≤ [[damage]] ≤ 50",
      "coverBinaryId": 117920326564899,
      "stubGenerator": "read Stack1Data:string(256)\nread Stack2Data:string(256)\nwrite Victory!",
      "inputDescription": "Each line is a <<string>> that consists of stack data separated by{{;}} in the following format.\nData includes: [[name]] of units (string){{;}}[[amount]] of units (integer){{;}}[[health]] per unit (integer){{;}}[[damage]] per unit (integer).\n<<Line 1:>> Stack 1 data.\n<<Line 2:>> Stack 2 data.",
      "solutionLanguage": "Javascript",
      "outputDescription": "You have to list combat log and announce the winner.\nRefer to the example for the exact output format and wordings to use.\nCommon log section consists of:\n<<Line 1:>> Current round number.\n<<Line 2:>> Stack 1 attack result (who attacks whom dealing how much damage).\n<<Line 3:>> Number of units perished during the attack.\n<<Line 4:>> Mid-round separator {{----------}}\n<<Line 5:>> If Stack 1 defeats Stack 2 there <<must>> be a win message and this line will be the last.\n<<Line 6:>> Stack 2 attack result (who attacks whom dealing how much damage).\n<<Line 7:>> Number of units perished during the attack.\n<<Line 8:>> Round end separator {{##########}}\n<<Line 9:>> If Stack 2 defeats Stack 1 there <<must>> be a win message and this line will be the last.\nWhile both stacks have at least 1 unit the battle continues."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Imagine yourself on a battlefield like in the good-old times when you played Heroes of Might and Magic (HoMM).<br>The combat is turn-based. Two stacks of units sequentially attack each other until one of them is destroyed.<br><br><strong>Combat rules:</strong><br>* Stack 1 always attacks first.<br>* Each stack has a unit <var>name</var>, the total <var>amount</var> of units in stack, the <var>health</var> of 1 unit and the <var>damage</var> dealt by 1 unit.<br>* Damage is applied to the enemy stack unit by unit. If part of the damage is enough to kill the first unit, the remaining damage is applied to the subsequent unit.<br>* Units cannot avoid or counter attacks (as they did in HoMM), instead they attack on their turn.<br>* Combat always starts from Round 1.<br>* A round ends when both stacks have attacked each other, or when one of the stacks has been eliminated.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\">Each line is a <strong>string</strong> that consists of stack data separated by<const>;</const> in the following format.<br>Data includes: <var>name</var> of units (string)<const>;</const><var>amount</var> of units (integer)<const>;</const><var>health</var> per unit (integer)<const>;</const><var>damage</var> per unit (integer).<br><strong>Line 1:</strong> Stack 1 data.<br><strong>Line 2:</strong> Stack 2 data.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">You have to list combat log and announce the winner.<br>Refer to the example for the exact output format and wordings to use.<br>Common log section consists of:<br><strong>Line 1:</strong> Current round number.<br><strong>Line 2:</strong> Stack 1 attack result (who attacks whom dealing how much damage).<br><strong>Line 3:</strong> Number of units perished during the attack.<br><strong>Line 4:</strong> Mid-round separator <const>----------</const><br><strong>Line 5:</strong> If Stack 1 defeats Stack 2 there <strong>must</strong> be a win message and this line will be the last.<br><strong>Line 6:</strong> Stack 2 attack result (who attacks whom dealing how much damage).<br><strong>Line 7:</strong> Number of units perished during the attack.<br><strong>Line 8:</strong> Round end separator <const>##########</const><br><strong>Line 9:</strong> If Stack 2 defeats Stack 1 there <strong>must</strong> be a win message and this line will be the last.<br>While both stacks have at least 1 unit the battle continues.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">3 &le; length of <var>name</var> &le; 20<br>1 &le; <var>amount</var> &le; 10000<br>1 &le; <var>health</var> &le; 300<br>1 &le; <var>damage</var> &le; 50</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">Minotaur;20;35;10\nUnicorn;16;40;14</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">Round 1\n20 Minotaur(s) attack(s) 16 Unicorn(s) dealing 200 damage\n5 unit(s) perish\n----------\n11 Unicorn(s) attack(s) 20 Minotaur(s) dealing 154 damage\n4 unit(s) perish\n##########\nRound 2\n16 Minotaur(s) attack(s) 11 Unicorn(s) dealing 160 damage\n4 unit(s) perish\n----------\n7 Unicorn(s) attack(s) 16 Minotaur(s) dealing 98 damage\n3 unit(s) perish\n##########\nRound 3\n13 Minotaur(s) attack(s) 7 Unicorn(s) dealing 130 damage\n3 unit(s) perish\n----------\n4 Unicorn(s) attack(s) 13 Minotaur(s) dealing 56 damage\n1 unit(s) perish\n##########\nRound 4\n12 Minotaur(s) attack(s) 4 Unicorn(s) dealing 120 damage\n3 unit(s) perish\n----------\n1 Unicorn(s) attack(s) 12 Minotaur(s) dealing 14 damage\n1 unit(s) perish\n##########\nRound 5\n11 Minotaur(s) attack(s) 1 Unicorn(s) dealing 110 damage\n1 unit(s) perish\n----------\nMinotaur won! 11 unit(s) left</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 59823350241,
  "avatar": 110968326049083,
  "commentCount": 20,
  "upVotes": 13,
  "downVotes": 0,
  "validateAction": {
    "actionId": 932846,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "REFUSED",
      "date": 1708203937000,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1708383167181,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "ACCEPTED",
      "date": 1710905584185,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}