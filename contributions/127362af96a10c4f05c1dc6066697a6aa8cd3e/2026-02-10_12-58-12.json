{
  "id": 127362,
  "activeVersion": 58,
  "score": 17,
  "votableId": 37390483,
  "codingamerId": 4687360,
  "views": 334,
  "commentableId": 37229325,
  "title": "Moving Target",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "thomas.schuerger",
  "publicHandle": "127362af96a10c4f05c1dc6066697a6aa8cd3e",
  "codingamerHandle": "8f631a6df22c9cd8709f071d9518645f0637864",
  "lastVersion": {
    "version": 58,
    "autocloseTime": 1761667553986,
    "freezeTime": 1759680353986,
    "data": {
      "title": "Moving Target",
      "topics": [
        {
          "id": 95,
          "handle": "geometry",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Geometry",
            "2": "Geometry"
          },
          "puzzleCount": 33,
          "parentTopicId": 93
        },
        {
          "id": 191,
          "handle": "3d",
          "category": "ADVANCED",
          "labelMap": {
            "1": "3D",
            "2": "3D"
          },
          "puzzleCount": 7,
          "parentTopicId": 93
        }
      ],
      "solution": "use strict;\n\nmy($pex,$pey,$pez) = split(/ /,<STDIN>);\nmy($vex,$vey,$vez) = split(/ /,<STDIN>);\nmy($pgx,$pgy,$pgz) = split(/ /,<STDIN>);\nmy($vg) = <STDIN>;\n\nmy($dx,$dy,$dz)=($pex-$pgx,$pey-$pgy,$pez-$pgz);\n\nmy($a)=$vex**2+$vey**2+$vez**2-$vg**2;\nmy($b)=2*($dx*$vex+$dy*$vey+$dz*$vez);\nmy($c)=$dx**2+$dy**2+$dz**2;\nmy $t;\n\nif ($a!=0) {\n\t# quadratic case\n\tmy $d = $b**2-4*$a*$c;\n\tif ($d<0) {\n\t\tprint \"Impossible\\n\";\n\t\texit;\n\t}\n\tmy $t1 = (-$b + sqrt($d))/2/$a;\n\tmy $t2 = (-$b - sqrt($d))/2/$a;\n\t\n\tif($t1<=0 && $t2<=0) {\n\t\tprint \"Impossible\\n\";\n\t}\n\n\t$t = ($t1>0 && $t2>0 ? ($t1<$t2 ? $t1 : $t2) : ($t1>0 ? $t1 : $t2));\n} else {\n\t# linear case\n\tif ($b==0) {\n\t\tprint \"Impossible\\n\";\n\t\texit;\n\t}\n\t$t = -$c/$b;\n}\n\nif ($t<=0) {\n\tprint \"Impossible\\n\";\n\texit;\n}\n\nmy $vcx = $dx/$t + $vex;\nmy $vcy = $dy/$t + $vey;\nmy $vcz = $dz/$t + $vez;\n\nprintf(\"%.4f %.4f %.4f\\n\",$vcx,$vcy,$vcz);\nprintf(\"%.4f\\n\",$t);",
      "statement": "You want to shoot down an enemy plane flying linearly at constant speed with a big stationary military gun, using a single shot. The plane is currently located at position ([[pex]],[[pey]],[[pez]]) and has a velocity vector of ([[vex]],[[vey]],[[vez]]). Your gun is positioned at ([[pgx]],[[pgy]],[[pgz]]) and can shoot projectiles with a fixed speed of [[vp]] at any angle.\n\nCalculate and output the necessary velocity vector ([[vpx]],[[vpy]],[[vpz]]) the projectile needs when shot from the gun now in order to hit the plane, as well as the time needed until the hit occurs. The length of that vector must be [[vp]]. If it is not possible to hit the plane, output {{Impossible}} instead.\n\nThe plane never flies directly towards the gun or directly away from the gun.\n\nYou can assume that the plane and the projectile fly in a straight line at constant speed. Gravity, air resistance and other factors that could influence the trajectory of the plane or the projectile must be ignored. The gun, the projectile and the plane are modeled as points. The plane is hit if and only if the plane and the projectile happen to be at the same position at the same time.\n\nIf there are two valid solutions, output the one with the lower time until impact.\n\nArm your gun!",
      "testCases": [
        {
          "title": "Perpendicular case",
          "isTest": true,
          "testIn": "1 0 0\n0 1 0\n0 1 0\n1",
          "testOut": "1.0000 0.0000 0.0000\n1.0000",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "2 0 0\n0 2 0\n0 2 0\n2",
          "testOut": "2.0000 0.0000 0.0000\n1.0000",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Barely a hit",
          "isTest": true,
          "testIn": "1 0 0\n0 1 0\n0 0 0\n1.000001",
          "testOut": "0.0014 1.0000 0.0000\n707.1066",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "1 0 0\n0 1.1 0\n0 0 0\n1.100001",
          "testOut": "0.0015 1.1000 0.0000\n674.1997",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Too slow",
          "isTest": true,
          "testIn": "1 0 0\n0 1 0\n0 0 0\n1",
          "testOut": "Impossible",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "1 0 0\n0 1.1 0\n0 0 0\n1.1",
          "testOut": "Impossible",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Plane at rest",
          "isTest": true,
          "testIn": "7 1 5\n0 0 0\n0 0 0\n5",
          "testOut": "4.0415 0.5774 2.8868\n1.7321",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "8 2 9\n0 0 0\n1 2 -1\n5",
          "testOut": "2.8673 0.0000 4.0962\n2.4413",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Two solutions",
          "isTest": true,
          "testIn": "6 4 -3\n-4 3 -3\n-1 7 -8\n2",
          "testOut": "1.6193 0.5917 1.0138\n1.2457",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "10 -10 6\n0 5 -3\n-4 -5 -4\n5",
          "testOut": "2.9074 3.9617 -0.9233\n4.8153",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Random 1",
          "isTest": true,
          "testIn": "9.688396 7.454439 -6.649244\n4.898215 -3.571906 -4.386837\n6.511595 -1.641281 -1.946649\n3.058917",
          "testOut": "Impossible",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 6",
          "isTest": false,
          "testIn": "8.684735 -3.259752 4.042920\n0.221573 4.821073 -4.484969\n-1.275380 7.719874 7.621214\n2.782802",
          "testOut": "Impossible",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Random 2",
          "isTest": true,
          "testIn": "1.866421 6.640532 5.532412\n4.924020 2.552249 -4.772060\n7.405392 7.517394 -4.185949\n7.148284",
          "testOut": "-1.6636 1.5094 6.7862\n0.8408",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 7",
          "isTest": false,
          "testIn": "7.473347 -3.558746 -4.735736\n-1.605475 4.703168 -2.455099\n-7.014910 0.715807 -5.218545\n4.795154",
          "testOut": "2.1584 3.5927 -2.3297\n3.8493",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Random 3",
          "isTest": true,
          "testIn": "-9.993918 6.972248 2.347438\n-3.821578 3.579087 1.240469\n-3.521980 -3.935447 2.032887\n15.922674",
          "testOut": "-9.3099 12.8291 1.5072\n1.1792",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 8",
          "isTest": false,
          "testIn": "7.745339 -3.273671 3.579290\n1.664768 0.969114 -4.396396\n4.245649 4.480992 -0.028053\n11.298187",
          "testOut": "6.3236 -9.3540 0.4057\n0.7512",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Random 4",
          "isTest": true,
          "testIn": "-5.782454 -1.303013 4.062621\n-0.666174 2.673737 4.240440\n9.751336 -6.085101 8.271807\n7.915342",
          "testOut": "-6.0163 4.3208 2.7907\n2.9035",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 9",
          "isTest": false,
          "testIn": "8.705828 -1.492456 6.652420\n-3.747445 -4.704877 1.962927\n-3.350130 5.192444 -6.364728\n11.663239",
          "testOut": "2.0987 -7.9465 8.2752\n2.0622",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "0 < [[vp]]\n0 < [[time]]\n\n([[pgx]],[[pgy]],[[pgz]]) does not lie on the line ([[pex]],[[pey]],[[pez]]) + [[t]]*([[vex]],[[vey]],[[vez]]).",
      "coverBinaryId": 145894683171709,
      "stubGenerator": "read pex:float pey:float pez:float\nread vex:float vey:float vez:float\nread pgx:float pgy:float pgz:float\nread vp:float\nwrite vpx vpy vpz\ntime",
      "inputDescription": "<<Line 1:>> [[pex]] [[pey]] [[pez]]\n<<Line 2:>> [[vex]] [[vey]] [[vez]]\n<<Line 3:>> [[pgx]] [[pgy]] [[pgz]]\n<<Line 4:>> [[vp]]\n\n[[pex]], [[pey]], [[pez]]: The x, y and z position of the enemy plane in meters (3 space-separated floats)\n[[vex]], [[vey]], [[vez]]: The velocity vector of the enemy plane in meters per second (3 space-separated floats)\n[[pgx]], [[pgy]], [[pgz]]: The x, y and z position of the gun in meters (3 space-separated floats)\n[[vp]]: The velocity of the gun projectile in meters per second (positive float)",
      "solutionLanguage": "Perl",
      "outputDescription": "If there is a solution:\n\n<<Line 1:>> [[vpx]] [[vpy]] [[vpz]]\n<<Line 2:>> [[time]]\n\n[[vpx]], [[vpy]], [[vpz]]: The velocity vector of the projectile in meters per second (3 space-separated floats)\n[[time]]: The time the projectile needs to hit the plane in seconds (positive float)\n\nFloats must always be output <<rounded to 4 decimal places>> and all 4 decimal places must be output (including trailing zeros). For example, +/- 0.12345 is rounded to +/- 0.1235. +/- 0.12344 is rounded to +/- 0.1234. \n\nIf there is no solution:\n\n<<Line 1:>> {{Impossible}}"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">You want to shoot down an enemy plane flying linearly at constant speed with a big stationary military gun, using a single shot. The plane is currently located at position (<var>pex</var>,<var>pey</var>,<var>pez</var>) and has a velocity vector of (<var>vex</var>,<var>vey</var>,<var>vez</var>). Your gun is positioned at (<var>pgx</var>,<var>pgy</var>,<var>pgz</var>) and can shoot projectiles with a fixed speed of <var>vp</var> at any angle.<br><br>Calculate and output the necessary velocity vector (<var>vpx</var>,<var>vpy</var>,<var>vpz</var>) the projectile needs when shot from the gun now in order to hit the plane, as well as the time needed until the hit occurs. The length of that vector must be <var>vp</var>. If it is not possible to hit the plane, output <const>Impossible</const> instead.<br><br>The plane never flies directly towards the gun or directly away from the gun.<br><br>You can assume that the plane and the projectile fly in a straight line at constant speed. Gravity, air resistance and other factors that could influence the trajectory of the plane or the projectile must be ignored. The gun, the projectile and the plane are modeled as points. The plane is hit if and only if the plane and the projectile happen to be at the same position at the same time.<br><br>If there are two valid solutions, output the one with the lower time until impact.<br><br>Arm your gun!</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> <var>pex</var> <var>pey</var> <var>pez</var><br><strong>Line 2:</strong> <var>vex</var> <var>vey</var> <var>vez</var><br><strong>Line 3:</strong> <var>pgx</var> <var>pgy</var> <var>pgz</var><br><strong>Line 4:</strong> <var>vp</var><br><br><var>pex</var>, <var>pey</var>, <var>pez</var>: The x, y and z position of the enemy plane in meters (3 space-separated floats)<br><var>vex</var>, <var>vey</var>, <var>vez</var>: The velocity vector of the enemy plane in meters per second (3 space-separated floats)<br><var>pgx</var>, <var>pgy</var>, <var>pgz</var>: The x, y and z position of the gun in meters (3 space-separated floats)<br><var>vp</var>: The velocity of the gun projectile in meters per second (positive float)</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">If there is a solution:<br><br><strong>Line 1:</strong> <var>vpx</var> <var>vpy</var> <var>vpz</var><br><strong>Line 2:</strong> <var>time</var><br><br><var>vpx</var>, <var>vpy</var>, <var>vpz</var>: The velocity vector of the projectile in meters per second (3 space-separated floats)<br><var>time</var>: The time the projectile needs to hit the plane in seconds (positive float)<br><br>Floats must always be output <strong>rounded to 4 decimal places</strong> and all 4 decimal places must be output (including trailing zeros). For example, +/- 0.12345 is rounded to +/- 0.1235. +/- 0.12344 is rounded to +/- 0.1234. <br><br>If there is no solution:<br><br><strong>Line 1:</strong> <const>Impossible</const></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">0 &lt; <var>vp</var><br>0 &lt; <var>time</var><br><br>(<var>pgx</var>,<var>pgy</var>,<var>pgz</var>) does not lie on the line (<var>pex</var>,<var>pey</var>,<var>pez</var>) + <var>t</var>*(<var>vex</var>,<var>vey</var>,<var>vez</var>).</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">1 0 0\n0 1 0\n0 1 0\n1</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">1.0000 0.0000 0.0000\n1.0000</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 9390016307,
  "avatar": 77623682146098,
  "commentCount": 21,
  "upVotes": 17,
  "downVotes": 0,
  "validateAction": {
    "actionId": 1226902,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "REFUSED",
      "date": 1753383937015,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1753386354049,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "REFUSED",
      "date": 1755979537001,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1756156015100,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "REFUSED",
      "date": 1758751537002,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1759074709158,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "ACCEPTED",
      "date": 1761338274495,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}