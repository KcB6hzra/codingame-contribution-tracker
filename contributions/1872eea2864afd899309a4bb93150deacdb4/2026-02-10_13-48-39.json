{
  "id": 1872,
  "activeVersion": 16,
  "score": 1,
  "votableId": 9652987,
  "codingamerId": 3076711,
  "views": 722,
  "commentableId": 9585991,
  "title": "Green Valleys",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Sceurpien",
  "publicHandle": "1872eea2864afd899309a4bb93150deacdb4",
  "codingamerHandle": "1393eb41041f440cba07ef90e2545a161176703",
  "lastVersion": {
    "version": 16,
    "autocloseTime": 1548361396243,
    "data": {
      "title": "Green Valleys",
      "topics": [],
      "solution": "using System;\nusing System.Linq;\nusing System.IO;\nusing System.Text;\nusing System.Collections;\nusing System.Collections.Generic;\n\n/**\n * Auto-generated code below aims at helping you parse\n * the standard input according to the problem statement.\n **/\nclass Solution\n{\n    static void Main(string[] args)\n    {\n        int H = int.Parse(Console.ReadLine());\n        int N = int.Parse(Console.ReadLine());\n        string[][] map = new string[N][];\n        int[][] heightmap = new int[N][];\n        for (int i = 0; i < N; i++)\n        {\n            map[i] = new string[N];\n            heightmap[i] = new int[N];\n        }\n        for (int i = 0; i < N; i++)\n        {\n            string LINE = Console.ReadLine();\n            string[] nums = LINE.Split(' ');\n            int j = 0;\n            foreach (var n in nums)\n            {\n                int num = int.Parse(n);\n                if (num <= H)\n                    map[i][j] = \"O\";\n                else\n                    map[i][j] = \"X\";\n                    \n                heightmap[i][j] = num;\n                j++;\n            }\n        }\n\n        List<Lake> lakes = new List<Lake>();\n\n        int lakestep = 1;\n        while (IsThereAnyLakes(map, N))\n        {\n            map = MarkALake(map, N, lakestep.ToString());\n            lakes.Add(new Lake(lakestep, CountALake(map, N, lakestep.ToString())));\n            lakestep++;\n        }\n\n        int result = 0;\n        if (lakes.Count > 0)\n        {\n            result = 5000;\n            int maxlakesize = lakes.Max(x => x.Size);\n            foreach (var lake in lakes.Where(x => x.Size == maxlakesize))\n            {\n                int actmin = GetDeepestInLake(map, heightmap, N, lake.Number.ToString());\n                if (actmin < result)\n                    result = actmin;\n            }\n        }\n\n        Console.WriteLine(result.ToString());\n    }\n\n    static bool IsThereAnyLakes(string[][] map, int N)\n    {\n        bool isany = false;\n        for (int i = 0; i < N; i++)\n        {\n            for (int j = 0; j < N; j++)\n            {\n                if (map[i][j] == \"O\")\n                    isany = true;\n            }\n        }\n        return isany;\n    }\n\n    static string[][] MarkALake(string[][] map, int N, string lakeNum)\n    {\n        bool isany = false;\n        int X = 0;\n        int Y = 0;\n        for (int i = 0; i < N; i++)\n        {\n            for (int j = 0; j < N; j++)\n            {\n                if (map[i][j] == \"O\")\n                {\n                    isany = true;\n                    X = i;\n                    Y = j;\n                }\n\n                if (isany)\n                    break;\n            }\n            if (isany)\n                break;\n        }\n\n        if (isany)\n        {\n            map = MarkAPosition(map, N, X, Y, lakeNum);\n        }\n\n        return map;\n    }\n\n    static int CountALake(string[][] map, int N, string lakeNum)\n    {\n        int size = 0;\n        for (int i = 0; i < N; i++)\n        {\n            for (int j = 0; j < N; j++)\n            {\n                if (map[i][j] == lakeNum)\n                    size++;\n            }\n        }\n        return size;\n    }\n\n    static string[][] MarkAPosition(string[][] map, int N, int X, int Y, string C)\n    {\n        map[X][Y] = C;\n        if (Y > 0)\n        {\n            if (map[X][Y - 1] == \"O\")\n                map = MarkAPosition(map, N, X, Y - 1, C);\n        }\n        if (Y < N - 1)\n        {\n            if (map[X][Y + 1] == \"O\")\n                map = MarkAPosition(map, N, X, Y + 1, C);\n        }\n        if (X > 0)\n        {\n            if (map[X - 1][Y] == \"O\")\n                map = MarkAPosition(map, N, X - 1, Y, C);\n        }\n        if (X < N - 1)\n        {\n            if (map[X + 1][Y] == \"O\")\n                map = MarkAPosition(map, N, X + 1, Y, C);\n        }\n        return map;\n    }\n    \n    static int GetDeepestInLake(string[][] map, int[][] heightmap, int N, string lakeNum)\n    {\n        int size = 5000;\n        for (int i = 0; i < N; i++)\n        {\n            for (int j = 0; j < N; j++)\n            {\n                if (map[i][j] == lakeNum)\n                {\n                    if (heightmap[i][j] < size)\n                        size = heightmap[i][j] ;\n                }\n            }\n        }\n        return size;\n    }\n}\n\npublic class Lake\n{\n    public int Number { get; set; }\n    public int Size { get; set; }\n\n    public Lake()\n    {\n        this.Number = 0;\n        this.Size = 0;\n    }\n\n    public Lake(int num, int size)\n    {\n        this.Number = num;\n        this.Size = size;\n    }\n}",
      "statement": "<<We are in a country surrounded by snowy mountains, and just a small amount of green valleys>>\nThe snow line is at [[H]] meters, and above that, everything is white in snow. At that height and below, it is a fruitful paradise.\n\nYou receive a square shaped map of an area. \nEvery data represents One square kilometer in size.\nFields are represented by integer values separated by spaces on a map, which integer means the average height of that point above sea level.\nUp to height [[H]], the place is green, every tile under (or equal) this height is part of a valley, and every tile above it is white in snow, and part of the mountains.\n\nA valley is one or multiple green places. If a green place is either horizontally or vertically next to another green place, they belong to the same valley. \nGreen places that are only touching diagonally are not in the same valley.\nIf the valley is touching the border of the map we receive, it is considered ending at the edge, so the size of it is the size we can count. In other words: The whole map is covered by snowy mountains, on the outside.\n\nYour job is, to tell the <<deepest point>> of the <<largest valley>> (in surface area) on the map.\n\nIf there are no valleys on the map, the answer is 0 (zero).\nIf there are multiple valleys with the same size, then the answer is the deepest point overall from the largest valleys.",
      "testCases": [
        {
          "title": "One valley",
          "isTest": true,
          "testIn": "5\n5\n8 9 9 8 7\n8 2 3 2 7\n6 4 5 4 8\n9 8 4 2 7\n7 8 9 6 5",
          "testOut": "2",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "One valley",
          "isTest": false,
          "testIn": "100\n5\n120 134 172 141 154\n171 100 95 91 132\n165 86 84 82 141\n162 86 84 80 145\n120 134 172 141 154",
          "testOut": "80",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Two valleys",
          "isTest": true,
          "testIn": "1200\n4\n1230 1241 1223 1244\n1002 1014 1223 1244\n1230 1241 1072 1244\n1230 1132 1118 1171",
          "testOut": "1072",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Two valleys",
          "isTest": false,
          "testIn": "1200\n4\n1230 1241 1223 1244\n1002 1014 1223 1244\n1230 1241 1032 1244\n1230 1132 1118 1171",
          "testOut": "1032",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Three valleys",
          "isTest": true,
          "testIn": "100\n5\n120 134 172 141 154\n171 100 121 91 132\n165 51 120 179 141\n162 73 145 81 87\n120 134 172 79 154",
          "testOut": "51",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Three valleys",
          "isTest": false,
          "testIn": "100\n5\n120 134 172 141 154\n171 100 121 91 132\n165 51 120 179 141\n162 43 145 81 87\n120 134 172 79 154",
          "testOut": "43",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "No valley",
          "isTest": true,
          "testIn": "120\n3\n143 241 121\n122 134 145\n187 231 210",
          "testOut": "0",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "No valley",
          "isTest": false,
          "testIn": "120\n3\n143 241 121\n122 134 145\n187 231 210",
          "testOut": "0",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Alps and valleys",
          "isTest": true,
          "testIn": "862\n20\n1596 1385 651 1934 1057 1815 1729 1240 1948 1876 649 1374 1811 464 1824 595 1176 792 489 789\n867 1412 469 709 1079 1038 1028 1075 519 966 958 1964 680 1379 1177 693 921 1729 1909 1619\n620 408 1116 1574 669 1955 1382 1368 1914 1114 1183 1648 1270 1265 1277 654 474 1999 627 1282\n680 1681 415 1200 457 1502 1802 1142 1268 1569 506 1433 1093 930 1506 1270 1753 465 1907 1243\n1606 1860 1792 1190 1224 796 1129 1958 1531 1146 929 439 627 485 1701 789 855 1800 1953 1108\n1932 1495 666 420 1168 1005 828 1214 796 1454 919 1419 772 1793 701 1820 994 1335 698 1753\n581 844 819 1760 1098 1658 1619 1615 1773 1860 1025 656 657 1973 1122 1254 851 1518 1373 1706\n846 1252 632 972 942 1955 1382 1947 1431 1193 1720 954 1235 1777 1029 1472 1366 954 1194 1812\n1125 1731 664 1003 910 1114 853 490 876 445 567 1439 1373 1352 1756 1058 1857 1276 1436 786\n1769 532 1387 1163 1939 444 1933 1898 1969 959 1573 764 1004 1093 493 584 1433 1596 1849 1155\n590 1345 696 1625 1995 1440 1774 1418 519 1813 1096 1779 858 1529 569 1130 853 1236 1392 1247\n1202 1654 1453 1273 572 1389 494 1402 1720 1020 753 1415 806 718 694 1064 1006 442 1071 1367\n727 1021 1457 992 1690 728 945 1182 1105 1256 568 1080 620 1828 1800 1079 1738 1564 920 1948\n535 1555 503 1939 1517 1556 1550 412 1017 809 724 1073 1052 1223 1883 919 592 1020 1938 1093\n1726 1298 941 622 1336 1162 1229 499 1524 569 1806 1303 953 1237 803 1739 1305 875 925 1857\n1347 1077 552 1713 939 1659 707 706 1389 1623 1969 841 1875 716 1956 1956 1350 1212 1042 1335\n716 1079 1190 1410 1751 1657 1588 1300 1575 707 737 1987 542 1352 433 1920 1477 1440 497 1284\n1928 1567 1801 528 1795 538 1606 1670 433 1529 1674 1496 1552 1576 1567 437 1360 1952 652 624\n1370 1928 920 1634 1903 1788 513 1883 1313 1495 1890 1409 482 643 1045 1126 1135 975 1998 1105\n1007 944 600 473 732 529 1597 532 1192 1707 533 1981 653 1254 476 1015 1123 1715 985 766",
          "testOut": "420",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Alps and valleys",
          "isTest": false,
          "testIn": "862\n20\n1650 1951 862 1998 714 1374 845 629 1091 1071 1302 861 656 1933 1359 507 484 1279 1171 1762\n485 604 1456 537 870 1016 1875 502 850 686 580 568 1328 1344 1624 1509 521 1412 1727 900\n520 1915 1554 1993 1168 1091 1295 1747 1076 1990 462 1648 767 445 1086 1669 1792 1091 1281 658\n813 672 1191 1256 647 1531 1052 1185 1651 1298 1926 684 1794 862 1956 886 1261 622 664 1376\n845 744 1030 1363 1659 915 1116 1310 558 1251 955 1687 1811 1841 1277 865 1401 1405 727 568\n484 915 679 1400 1712 526 1840 467 1534 1455 1184 1456 1784 1173 940 1919 1782 1999 472 1842\n457 1994 1180 1013 1278 813 1990 1289 1176 1062 844 857 1852 551 1327 1824 1906 529 861 823\n1029 1977 1504 998 1813 776 1087 1302 1038 1292 1233 1563 1827 1914 1130 774 1533 1492 1349 1403\n1240 922 1886 402 1706 724 1387 1230 514 415 1510 1697 415 580 1176 1841 1665 1879 1731 504\n1966 989 1940 492 865 1215 1871 1510 1891 839 640 1715 732 566 796 1704 1182 1673 1798 1030\n1551 1914 1013 484 579 987 1913 554 707 1599 884 582 745 486 1836 1385 950 1538 1242 1999\n1795 2000 1201 1159 410 1793 874 1818 1303 1827 832 589 505 1787 823 1909 533 1983 1628 1492\n1744 1904 1931 1416 1586 1966 1275 1832 1552 1476 807 1069 1512 736 700 986 1477 1488 1429 1411\n1016 1332 936 645 1353 892 1052 1548 1721 1652 688 1401 768 1676 1418 1782 703 529 897 550\n1593 1583 1849 543 1383 677 1744 1477 624 1500 1823 529 872 1334 600 1102 1821 1394 1590 1819\n994 1909 782 1943 798 1970 1467 1626 932 1453 725 1774 834 1919 1502 419 1676 1733 1218 826\n769 1218 1819 1371 1838 1037 1516 630 413 1168 807 1909 1912 780 1792 1137 1481 1005 1717 1595\n1177 873 550 1737 1305 1355 1121 708 1537 1909 869 719 444 1142 1885 1796 432 1612 1489 1275\n1290 1745 1166 889 791 653 1493 780 1965 1138 1991 1907 1603 955 1501 1861 1420 1774 1182 937\n1887 592 1081 1648 1792 1742 1585 715 1492 1639 1245 1354 589 1541 1105 1160 608 1140 1689 1326",
          "testOut": "415",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "0 < [[H]] < 2000\n0 < [[N]] < 21\n0 < [[h]] < 2000",
      "coverBinaryId": 135337345568603,
      "stubGenerator": "read H:int\r\nread N:int\r\nloop N loopline N h:int\r\nwrite ANSWER",
      "inputDescription": "<<Line 1:>> An integer [[H]] representing the height of the snow line (including this value, and under).\n<<Line 2:>> An integer [[N]] for the length of one side of the map.\n<<Next [[N]] lines:>> [[N]] number of integers (as [[h]]), separated by one space.",
      "solutionLanguage": "C#",
      "outputDescription": "<<Line 1 :>> The deepest point of the largest valley."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\"><strong>We are in a country surrounded by snowy mountains, and just a small amount of green valleys</strong><br>The snow line is at <var>H</var> meters, and above that, everything is white in snow. At that height and below, it is a fruitful paradise.<br><br>You receive a square shaped map of an area. <br>Every data represents One square kilometer in size.<br>Fields are represented by integer values separated by spaces on a map, which integer means the average height of that point above sea level.<br>Up to height <var>H</var>, the place is green, every tile under (or equal) this height is part of a valley, and every tile above it is white in snow, and part of the mountains.<br><br>A valley is one or multiple green places. If a green place is either horizontally or vertically next to another green place, they belong to the same valley. <br>Green places that are only touching diagonally are not in the same valley.<br>If the valley is touching the border of the map we receive, it is considered ending at the edge, so the size of it is the size we can count. In other words: The whole map is covered by snowy mountains, on the outside.<br><br>Your job is, to tell the <strong>deepest point</strong> of the <strong>largest valley</strong> (in surface area) on the map.<br><br>If there are no valleys on the map, the answer is 0 (zero).<br>If there are multiple valleys with the same size, then the answer is the deepest point overall from the largest valleys.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> An integer <var>H</var> representing the height of the snow line (including this value, and under).<br><strong>Line 2:</strong> An integer <var>N</var> for the length of one side of the map.<br><strong>Next <var>N</var> lines:</strong> <var>N</var> number of integers (as <var>h</var>), separated by one space.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>Line 1 :</strong> The deepest point of the largest valley.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">0 &lt; <var>H</var> &lt; 2000<br>0 &lt; <var>N</var> &lt; 21<br>0 &lt; <var>h</var> &lt; 2000</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">5\n5\n8 9 9 8 7\n8 2 3 2 7\n6 4 5 4 8\n9 8 4 2 7\n7 8 9 6 5</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">2</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 222934996335,
  "avatar": 52730426530429,
  "commentCount": 30,
  "upVotes": 6,
  "downVotes": 5,
  "validateAction": {
    "actionId": 303798,
    "progress": 1,
    "alreadyDone": false
  },
  "denyAction": {
    "actionId": 298418,
    "progress": 0.3333333333333333,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}