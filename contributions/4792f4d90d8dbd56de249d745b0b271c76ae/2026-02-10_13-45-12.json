{
  "id": 4792,
  "activeVersion": 12,
  "score": 4,
  "votableId": 12296820,
  "codingamerId": 3564009,
  "views": 325,
  "commentableId": 12221814,
  "title": "Halting sequences",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Waffle3z",
  "publicHandle": "4792f4d90d8dbd56de249d745b0b271c76ae",
  "codingamerHandle": "8033033dd617ddb3122af1354f4446bb9004653",
  "lastVersion": {
    "version": 12,
    "autocloseTime": 1580842064050,
    "data": {
      "title": "Halting sequences",
      "topics": [
        {
          "id": 94,
          "handle": "mathematics",
          "labelMap": {
            "1": "Mathematics",
            "2": "Mathematics"
          },
          "puzzleCount": 16,
          "parentTopicId": 93
        }
      ],
      "solution": "function gcd(a, b)\n\tif b == 0 then return a end\n\treturn gcd(b, a%b)\nend\n\nfunction halts(x, y) -- halts if (x+y)/gcd(x, y) is a power of 2\n\tlocal z = (x+y)/gcd(x, y)\n\treturn z&(z-1) == 0\nend\n\nfor i = 1, io.read() do\n    local a, b = io.read():match(\"(%d+) (%d+)\")\n    print(halts(tonumber(a), tonumber(b)) and \"halts\" or \"loops\")\nend",
      "statement": "Given a pair of positive integers (a, b), a ≤ b, the next term in the sequence is (a*2, b-a), re-arranged if necessary so that the first element is always the smallest.\ni.e. (a, b) → (min(a*2, b-a), max(a*2, b-a))\n\nThe sequence halts if a = b ever occurs.\n\nExamples:\n(3, 7) → (4, 6) → (2, 8) → (4, 6) loops because of the cycle (4, 6) → (2, 8) → (4, 6)\n(3, 7) → (7-3, 3*2) = (4, 6)\n(4, 6) → (6-4, 4*2) = (2, 8)\n(2, 8) → (2*2, 8-2) = (4, 6)\n\n(13, 51) → (26, 38) → (12, 52) → (24, 40) → (16, 48) → (32, 32) halts\n(5, 123) → (10, 118) → (20, 108) → (40, 88) → (48, 80) → (32, 96) → (64, 64) halts\n(1, 127) → (2, 126) → (4, 124) → (8, 120) → (16, 112) → (32, 96) → (64, 64) halts\n\n(2, 3) → (1, 4) → (2, 3) loops\n(6, 7) → (1, 12) → (2, 11) → (4, 9) → (5, 8) → (3, 10) → (6, 7) loops\n(12345, 123456) loops after 7411 terms\n(65534, 65535) loops after 16069 terms\n(16777214, 16777215) loops after 1116131 terms\n(9999999, 999999999) loops after 2001133 terms\n\nFor each given pair that begins a different sequence, output \"halts\" if the sequence halts or \"loops\" if it does not halt.",
      "testCases": [
        {
          "title": "Small examples",
          "isTest": true,
          "testIn": "7\n3 7\n2 3\n6 7\n1 1\n13 51\n5 123\n1 127",
          "testOut": "loops\nloops\nloops\nhalts\nhalts\nhalts\nhalts",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Random small validators",
          "isTest": false,
          "testIn": "6\n6 58\n1 7\n15 17\n16 88\n48 82\n21 87",
          "testOut": "halts\nhalts\nhalts\nloops\nloops\nloops",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Larger tests",
          "isTest": true,
          "testIn": "10\n469 744\n426 803\n683 756\n708 835\n601 748\n314 710\n235 789\n42 86\n199 825\n197 315",
          "testOut": "loops\nloops\nloops\nloops\nloops\nhalts\nhalts\nhalts\nhalts\nhalts",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Larger validators",
          "isTest": false,
          "testIn": "10\n127 897\n400 624\n213 639\n67 445\n249 263\n827 960\n711 896\n781 966\n756 985\n712 999",
          "testOut": "halts\nhalts\nhalts\nhalts\nhalts\nloops\nloops\nloops\nloops\nloops",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Large examples",
          "isTest": true,
          "testIn": "8\n12345 123456\n65534 65535\n16777214 16777215\n9999999 999999999\n1 16777215\n10 655350\n22 369098730\n16384 1073725440",
          "testOut": "loops\nloops\nloops\nloops\nhalts\nhalts\nhalts\nhalts",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Large random validator",
          "isTest": false,
          "testIn": "8\n10 65526\n1 33554431\n123456 925120\n123 1007493\n925690 955872\n235322 462067\n209595 862214\n779633 843628",
          "testOut": "halts\nhalts\nhalts\nhalts\nloops\nloops\nloops\nloops",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Halting patterns",
          "isTest": true,
          "testIn": "30\n1 3\n1 7\n1 15\n1 31\n1 63\n2 2\n2 6\n2 14\n2 30\n2 62\n3 5\n3 13\n3 29\n3 61\n1 16777215\n10 16777206\n100 16777116\n1000 16776216\n1000000 15777216\n6777216 10000000\n1 255\n2 510\n3 765\n4 1020\n5 1275\n6 1530\n7 1785\n8 2040\n9 2295\n10 2550",
          "testOut": "halts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Halting validators",
          "isTest": false,
          "testIn": "30\n3 3\n3 5\n3 9\n3 13\n3 21\n3 29\n3 45\n3 61\n3 93\n3 125\n3 189\n3 253\n3 381\n3 509\n3 765\n7 7\n7 9\n7 21\n7 25\n7 49\n7 57\n7 105\n7 121\n7 217\n7 249\n7 441\n7 505\n7 889\n7 1017\n7 1785",
          "testOut": "halts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Random big loops",
          "isTest": true,
          "testIn": "15\n65010728 65011712\n852787028 852787200\n689864066 689864704\n74415161 74416128\n703266055 703266816\n160530312 160530432\n596869013 596869120\n213679643 213680128\n633732481 633733120\n1065451293 1065451520\n897220097 897220608\n1015807544 1015808000\n65142013 65142784\n474250494 474251264\n899809073 899809280",
          "testOut": "loops\nloops\nloops\nloops\nloops\nloops\nloops\nloops\nloops\nloops\nloops\nloops\nloops\nloops\nloops",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Random big looping validators",
          "isTest": false,
          "testIn": "15\n191266279 191266816\n160038485 160038912\n704020414 704020480\n159841646 159842304\n582975289 582975488\n869530889 869531648\n998112405 998113280\n926613243 926613504\n478248749 478248960\n574979970 574980096\n669941447 669941760\n107019554 107020288\n290094118 290095104\n831618722 831619072\n700906904 700907520",
          "testOut": "loops\nloops\nloops\nloops\nloops\nloops\nloops\nloops\nloops\nloops\nloops\nloops\nloops\nloops\nloops",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Random big halts",
          "isTest": true,
          "testIn": "15\n98 102760350\n16 2097136\n72 18874296\n21 1376235\n46 12058578\n46 3014610\n83 5439405\n91 5963685\n32 33554400\n93 1523619\n81 84934575\n92 6029220\n44 2883540\n55 28835785\n96 100663200",
          "testOut": "halts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Random big halting validators",
          "isTest": false,
          "testIn": "15\n12 3145716\n16 2097136\n72 18874296\n36 37748700\n16 16777200\n26 6815718\n34 2228190\n42 2752470\n81 21233583\n20 2621420\n41 10747863\n17 1114095\n97 101711775\n79 82837425\n12 1572852",
          "testOut": "halts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Different halting cases",
          "isTest": true,
          "testIn": "30\n609 735\n189 243\n81 495\n552 920\n81 783\n33 671\n171 285\n65 767\n295 345\n642 894\n150 170\n12 116\n314 710\n357 595\n42 86\n42 182\n505 775\n267 445\n798 994\n861 931\n286 418\n195 325\n195 637\n15 305\n21 875\n30 130\n400 624\n243 909\n459 765\n155 341",
          "testOut": "halts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Different halting cases validators",
          "isTest": false,
          "testIn": "30\n133 315\n465 527\n27 261\n196 828\n195 845\n84 140\n30 162\n245 315\n348 580\n466 558\n147 525\n582 970\n396 660\n675 765\n36 988\n351 481\n474 790\n15 65\n490 790\n143 689\n114 398\n26 102\n476 612\n147 525\n114 190\n315 325\n75 245\n77 627\n82 174\n507 741",
          "testOut": "halts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Hard halting cases",
          "isTest": true,
          "testIn": "30\n507385254 845642090\n501342774 835571290\n305145264 508575440\n188415528 242248536\n405120850 631988526\n285186768 475311280\n239044190 307342530\n376892090 829162598\n147583008 639526368\n130645752 566131592\n465087891 775146485\n251312256 418853760\n495025635 825042725\n200775147 334625245\n465087891 775146485\n366119385 610198975\n536041260 607513428\n89447022 149078370\n444671631 741119385\n536499024 894165040\n152282715 822326661\n418853760 474700928\n125885010 142669678\n79956055 175903321\n155181885 175872803\n425720215 936584473\n237945557 424163819\n390930176 502624512\n463348389 948760987\n446716309 652893067",
          "testOut": "halts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Hard halting cases validators",
          "isTest": false,
          "testIn": "30\n758575440 975311280\n371704102 477905274\n22796631 98785401\n343139649 571899415\n36895752 61492920\n522888184 764221192\n551879883 919799805\n505004883 841674805\n62072754 268981934\n118286133 512573243\n184631348 352478028\n90148926 321960450\n511322022 852203370\n198577881 330963135\n723114014 929718018\n195465088 698089600\n462249756 770416260\n574676514 957794190\n858306885 972747803\n482666016 804443360\n502624512 837707520\n212493897 354156495\n13275147 22125245\n84686280 95977784\n234832764 391387940\n168914795 912139893\n243072510 405120850\n453948975 708160401\n417755127 696258545\n200317383 868041993",
          "testOut": "halts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts\nhalts",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "0 < a ≤ b < 2^30\n0 < [[n]] < 100",
      "coverBinaryId": 137507700031961,
      "stubGenerator": "read n:int\nloop n read a:int b:int\nloop n write loops or halts",
      "inputDescription": "Integer [[n]], number of pairs\n[[n]] lines containing a pair of space-separated integers",
      "solutionLanguage": "Lua",
      "outputDescription": "[[n]] lines containing \"halts\" or \"loops\""
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Given a pair of positive integers (a, b), a &le; b, the next term in the sequence is (a*2, b-a), re-arranged if necessary so that the first element is always the smallest.<br>i.e. (a, b) &rarr; (min(a*2, b-a), max(a*2, b-a))<br><br>The sequence halts if a = b ever occurs.<br><br>Examples:<br>(3, 7) &rarr; (4, 6) &rarr; (2, 8) &rarr; (4, 6) loops because of the cycle (4, 6) &rarr; (2, 8) &rarr; (4, 6)<br>(3, 7) &rarr; (7-3, 3*2) = (4, 6)<br>(4, 6) &rarr; (6-4, 4*2) = (2, 8)<br>(2, 8) &rarr; (2*2, 8-2) = (4, 6)<br><br>(13, 51) &rarr; (26, 38) &rarr; (12, 52) &rarr; (24, 40) &rarr; (16, 48) &rarr; (32, 32) halts<br>(5, 123) &rarr; (10, 118) &rarr; (20, 108) &rarr; (40, 88) &rarr; (48, 80) &rarr; (32, 96) &rarr; (64, 64) halts<br>(1, 127) &rarr; (2, 126) &rarr; (4, 124) &rarr; (8, 120) &rarr; (16, 112) &rarr; (32, 96) &rarr; (64, 64) halts<br><br>(2, 3) &rarr; (1, 4) &rarr; (2, 3) loops<br>(6, 7) &rarr; (1, 12) &rarr; (2, 11) &rarr; (4, 9) &rarr; (5, 8) &rarr; (3, 10) &rarr; (6, 7) loops<br>(12345, 123456) loops after 7411 terms<br>(65534, 65535) loops after 16069 terms<br>(16777214, 16777215) loops after 1116131 terms<br>(9999999, 999999999) loops after 2001133 terms<br><br>For each given pair that begins a different sequence, output &quot;halts&quot; if the sequence halts or &quot;loops&quot; if it does not halt.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\">Integer <var>n</var>, number of pairs<br><var>n</var> lines containing a pair of space-separated integers</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><var>n</var> lines containing &quot;halts&quot; or &quot;loops&quot;</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">0 &lt; a &le; b &lt; 2^30<br>0 &lt; <var>n</var> &lt; 100</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">7\n3 7\n2 3\n6 7\n1 1\n13 51\n5 123\n1 127</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">loops\nloops\nloops\nhalts\nhalts\nhalts\nhalts</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 190322448440,
  "avatar": 44751789808331,
  "commentCount": 26,
  "upVotes": 8,
  "downVotes": 4,
  "validateAction": {
    "actionId": 419133,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1580408662113,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}