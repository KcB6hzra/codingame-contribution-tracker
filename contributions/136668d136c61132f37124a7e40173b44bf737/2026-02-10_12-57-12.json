{
  "id": 136668,
  "activeVersion": 5,
  "score": 3,
  "votableId": 38420931,
  "codingamerId": 6888728,
  "views": 165,
  "commentableId": 38256056,
  "title": "Set Probabilities (Card Game)",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "xenon97909",
  "publicHandle": "136668d136c61132f37124a7e40173b44bf737",
  "codingamerHandle": "fdf9349405d206c84df969bd4b2c25258278886",
  "lastVersion": {
    "version": 5,
    "autocloseTime": 1767470005343,
    "freezeTime": 1765482805343,
    "data": {
      "title": "Set Probabilities (Card Game)",
      "topics": [
        {
          "id": 133,
          "handle": "card-games",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Jeu de carte",
            "2": "Card games"
          },
          "pageTitle": "Card games",
          "puzzleCount": 10,
          "parentTopicId": 107
        },
        {
          "id": 110,
          "handle": "probability",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Probability",
            "2": "Probability"
          },
          "puzzleCount": 12,
          "parentTopicId": 93
        },
        {
          "id": 52,
          "handle": "sets",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Ensembles",
            "2": "Sets"
          },
          "pageTitle": "Sets: exercises and theory",
          "puzzleCount": 8,
          "parentTopicId": 40,
          "contentDetailsId": 98
        }
      ],
      "solution": "n = int(input())  # the number of cards on the table\ntableCards = []\nfor i in range(n):\n    card = input().split()\n    tableCards.append(card)\n\nfeatures = [{\"1\", \"2\", \"3\"}, {\"OUTLINED\", \"STRIPED\", \"SOLID\"}, {\"RED\", \"GREEN\", \"PURPLE\"}, {\"DIAMOND\", \"OVAL\", \"SQUIGGLE\"}]\n\n# for each pair of cards on the table, find the card that completes the set.\n# if it is on the table, the probability is 1.\n# otherwise, add the card to validCards\ndef getSetProbability(n, tableCards):\n    validCards = set()\n    for i in range(len(tableCards)):\n        card1 = tableCards[i]\n        for j in range(i+1, len(tableCards)):\n            card2 = tableCards[j]\n            card3 = []\n            for f in range(len(card1)):\n                feature1 = card1[f]\n                feature2 = card2[f]\n                if (feature1 == feature2):\n                    card3.append(feature1)\n                else:\n                    otherFeature = features[f].difference({feature1, feature2}).pop()\n                    card3.append(otherFeature)\n            if (card3 in tableCards):\n                return 1\n            validCards.add(\" \".join(card3))\n    return len(validCards) / (81 - n)\n\nprint(f\"{getSetProbability(n, tableCards):.4f}\")",
      "statement": "You have a deck of the card game set and [[n]] current cards drawn on the table. Determine the probability that after drawing 1 more card, you can form a <<set>> from the current cards.\n\nThe deck consists of one copy of each possible combination of 4 unique features with 3 variations each (a total of 81 cards). The features and variations are as follows:\n<<Number:>> {{1}}, {{2}}, or {{3}}\n<<Shading:>> {{OUTLINED}}, {{STRIPED}}, or {{SOLID}}\n<<Color:>> {{RED}}, {{GREEN}}, or {{PURPLE}}\n<<Shape:>> {{DIAMOND}}, {{OVAL}}, or {{SQUIGGLE}}\n\nFor example, a card could be {{2}} {{SOLID}} {{GREEN}} {{OVAL}} or {{1}} {{STRIPED}} {{PURPLE}} {{SQUIGGLE}}.\n\nA <<set>> is formed with three cards which display each feature either all the same or all different. It is not a set if two cards share a feature but the other card does not. For example, these are all valid sets:\n\n`1 STRIPED RED OVAL\n2 STRIPED PURPLE OVAL\n3 STRIPED GREEN OVAL`\n`2 SOLID PURPLE OVAL\n2 SOLID PURPLE DIAMOND\n2 SOLID PURPLE SQUIGGLE`\n`1 OUTLINED PURPLE DIAMOND\n2 SOLID RED OVAL\n3 STRIPED GREEN SQUIGGLE`\n\nAnd these are all invalid sets:\n\n`1 SOLID RED OVAL\n1 OUTLINED RED OVAL\n1 STRIPED GREEN OVAL`\n`3 OUTLINED PURPLE DIAMOND\n2 STRIPED PURPLE SQUIGGLE\n3 SOLID PURPLE SQUIGGLE`\n`1 SOLID RED DIAMOND\n2 STRIPED PURPLE OVAL\n2 STRIPED GREEN OVAL`\n\nNote that the card you draw does not have to be used in the sets formed if there are already sets on the table.",
      "testCases": [
        {
          "title": "A simple start",
          "isTest": true,
          "testIn": "2\n2 SOLID RED SQUIGGLE\n1 OUTLINED GREEN SQUIGGLE",
          "testOut": "0.0127",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "A simple start",
          "isTest": false,
          "testIn": "2\n3 SOLID RED OVAL\n3 SOLID PURPLE DIAMOND",
          "testOut": "0.0127",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "A few more cards",
          "isTest": true,
          "testIn": "5\n3 STRIPED PURPLE OVAL\n1 OUTLINED GREEN OVAL\n2 STRIPED RED DIAMOND\n3 STRIPED RED DIAMOND\n2 OUTLINED PURPLE SQUIGGLE",
          "testOut": "0.1316",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "A few more cards",
          "isTest": false,
          "testIn": "6\n2 SOLID PURPLE DIAMOND\n2 OUTLINED PURPLE SQUIGGLE\n3 OUTLINED RED OVAL\n1 SOLID GREEN SQUIGGLE\n3 STRIPED PURPLE SQUIGGLE\n3 STRIPED GREEN OVAL",
          "testOut": "0.2000",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "And a few more...",
          "isTest": true,
          "testIn": "8\n1 STRIPED GREEN OVAL\n2 OUTLINED PURPLE OVAL\n2 STRIPED GREEN SQUIGGLE\n3 SOLID PURPLE DIAMOND\n1 SOLID RED OVAL\n3 OUTLINED GREEN SQUIGGLE\n2 STRIPED RED DIAMOND\n3 OUTLINED RED DIAMOND",
          "testOut": "0.3425",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "And a few more...",
          "isTest": false,
          "testIn": "9\n2 SOLID GREEN DIAMOND\n3 OUTLINED RED OVAL\n2 SOLID PURPLE DIAMOND\n1 OUTLINED RED OVAL\n3 STRIPED RED SQUIGGLE\n2 OUTLINED PURPLE OVAL\n3 SOLID GREEN OVAL\n2 STRIPED PURPLE DIAMOND\n1 STRIPED RED SQUIGGLE",
          "testOut": "0.4028",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "A classic game of set",
          "isTest": true,
          "testIn": "12\n3 OUTLINED RED SQUIGGLE\n2 SOLID GREEN OVAL\n3 STRIPED GREEN OVAL\n1 SOLID PURPLE DIAMOND\n3 SOLID GREEN SQUIGGLE\n2 OUTLINED GREEN OVAL\n1 SOLID RED SQUIGGLE\n1 OUTLINED PURPLE OVAL\n3 SOLID PURPLE OVAL\n1 STRIPED GREEN OVAL\n3 SOLID GREEN DIAMOND\n1 OUTLINED GREEN SQUIGGLE",
          "testOut": "0.6377",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "A classic game of set",
          "isTest": false,
          "testIn": "12\n2 STRIPED GREEN SQUIGGLE\n3 STRIPED RED SQUIGGLE\n3 OUTLINED RED DIAMOND\n1 OUTLINED PURPLE SQUIGGLE\n2 STRIPED RED OVAL\n2 OUTLINED PURPLE DIAMOND\n1 STRIPED RED SQUIGGLE\n1 SOLID PURPLE SQUIGGLE\n2 STRIPED GREEN DIAMOND\n1 STRIPED PURPLE DIAMOND\n3 SOLID PURPLE SQUIGGLE\n1 SOLID RED DIAMOND",
          "testOut": "0.6812",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Lots of cards",
          "isTest": true,
          "testIn": "15\n2 SOLID RED SQUIGGLE\n3 STRIPED RED OVAL\n3 STRIPED PURPLE DIAMOND\n2 SOLID RED DIAMOND\n3 SOLID GREEN OVAL\n3 STRIPED GREEN DIAMOND\n2 SOLID GREEN DIAMOND\n3 OUTLINED RED OVAL\n2 STRIPED PURPLE SQUIGGLE\n1 OUTLINED RED OVAL\n2 SOLID GREEN OVAL\n3 OUTLINED PURPLE SQUIGGLE\n2 STRIPED PURPLE DIAMOND\n2 STRIPED RED SQUIGGLE\n1 SOLID RED SQUIGGLE",
          "testOut": "0.8939",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Lots of cards",
          "isTest": false,
          "testIn": "16\n1 STRIPED RED OVAL\n1 SOLID RED DIAMOND\n3 OUTLINED RED OVAL\n3 OUTLINED RED DIAMOND\n1 OUTLINED PURPLE SQUIGGLE\n2 STRIPED PURPLE DIAMOND\n3 OUTLINED GREEN SQUIGGLE\n3 SOLID GREEN DIAMOND\n1 STRIPED GREEN SQUIGGLE\n3 SOLID RED SQUIGGLE\n1 SOLID GREEN OVAL\n3 OUTLINED GREEN OVAL\n3 STRIPED PURPLE OVAL\n3 SOLID PURPLE DIAMOND\n3 SOLID PURPLE SQUIGGLE\n2 OUTLINED PURPLE DIAMOND",
          "testOut": "0.9077",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Almost guaranteed",
          "isTest": true,
          "testIn": "19\n3 STRIPED GREEN DIAMOND\n2 SOLID RED SQUIGGLE\n1 OUTLINED RED DIAMOND\n3 SOLID RED OVAL\n3 STRIPED PURPLE SQUIGGLE\n2 SOLID RED OVAL\n3 OUTLINED GREEN OVAL\n3 SOLID PURPLE DIAMOND\n1 STRIPED PURPLE SQUIGGLE\n1 SOLID PURPLE DIAMOND\n2 OUTLINED PURPLE DIAMOND\n2 STRIPED PURPLE OVAL\n3 SOLID PURPLE SQUIGGLE\n3 SOLID RED SQUIGGLE\n2 OUTLINED RED SQUIGGLE\n1 OUTLINED RED OVAL\n3 OUTLINED RED SQUIGGLE\n1 STRIPED RED OVAL\n1 SOLID PURPLE SQUIGGLE",
          "testOut": "0.9839",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Almost guaranteed",
          "isTest": false,
          "testIn": "18\n1 STRIPED RED DIAMOND\n1 STRIPED PURPLE OVAL\n2 OUTLINED PURPLE SQUIGGLE\n2 STRIPED RED SQUIGGLE\n2 STRIPED GREEN SQUIGGLE\n2 OUTLINED GREEN OVAL\n1 OUTLINED GREEN SQUIGGLE\n1 SOLID PURPLE SQUIGGLE\n3 SOLID PURPLE OVAL\n2 SOLID RED DIAMOND\n1 SOLID PURPLE DIAMOND\n3 OUTLINED PURPLE OVAL\n1 SOLID RED OVAL\n1 SOLID RED SQUIGGLE\n2 STRIPED PURPLE OVAL\n2 STRIPED RED OVAL\n1 STRIPED GREEN OVAL\n2 OUTLINED GREEN DIAMOND",
          "testOut": "0.9683",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "No need to draw a card!",
          "isTest": true,
          "testIn": "7\n1 SOLID RED SQUIGGLE\n2 OUTLINED PURPLE OVAL\n3 OUTLINED PURPLE DIAMOND\n1 STRIPED GREEN DIAMOND\n2 SOLID RED OVAL\n2 STRIPED GREEN OVAL\n3 SOLID RED SQUIGGLE",
          "testOut": "1.0000",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "No need to draw a card!",
          "isTest": false,
          "testIn": "6\n3 STRIPED GREEN OVAL\n1 SOLID PURPLE SQUIGGLE\n2 OUTLINED RED SQUIGGLE\n3 OUTLINED GREEN DIAMOND\n2 STRIPED RED OVAL\n1 STRIPED PURPLE OVAL",
          "testOut": "1.0000",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "I need to draw a card??",
          "isTest": true,
          "testIn": "20\n2 STRIPED GREEN SQUIGGLE\n1 SOLID GREEN SQUIGGLE\n1 STRIPED RED SQUIGGLE\n3 SOLID RED SQUIGGLE\n3 STRIPED PURPLE DIAMOND\n3 STRIPED GREEN OVAL\n1 SOLID PURPLE DIAMOND\n1 STRIPED PURPLE SQUIGGLE\n3 OUTLINED RED SQUIGGLE\n3 OUTLINED GREEN DIAMOND\n2 STRIPED GREEN DIAMOND\n3 SOLID GREEN DIAMOND\n1 OUTLINED PURPLE DIAMOND\n1 OUTLINED RED DIAMOND\n3 STRIPED RED DIAMOND\n3 OUTLINED PURPLE SQUIGGLE\n1 STRIPED GREEN OVAL\n1 OUTLINED GREEN SQUIGGLE\n3 SOLID PURPLE SQUIGGLE\n1 SOLID RED DIAMOND",
          "testOut": "1.0000",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "I need to draw a card??",
          "isTest": false,
          "testIn": "20\n1 OUTLINED PURPLE SQUIGGLE\n2 STRIPED GREEN OVAL\n3 SOLID PURPLE SQUIGGLE\n1 STRIPED PURPLE DIAMOND\n1 STRIPED PURPLE OVAL\n2 SOLID GREEN SQUIGGLE\n1 STRIPED GREEN SQUIGGLE\n2 STRIPED GREEN DIAMOND\n1 SOLID RED DIAMOND\n1 SOLID RED OVAL\n1 STRIPED RED SQUIGGLE\n2 STRIPED RED DIAMOND\n2 OUTLINED PURPLE SQUIGGLE\n1 SOLID GREEN OVAL\n2 SOLID PURPLE DIAMOND\n3 STRIPED PURPLE SQUIGGLE\n2 SOLID PURPLE OVAL\n1 SOLID GREEN DIAMOND\n2 SOLID RED SQUIGGLE\n2 STRIPED RED OVAL",
          "testOut": "1.0000",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "easy",
      "constraints": "2 ≤ [[n]] ≤  20",
      "coverBinaryId": 151853903786603,
      "stubGenerator": "read n:int\n\nINPUT\nn: the number of cards on the table\n\nloop n read number:int shading:word(10) color:word(10) shape:word(10)\n\nwrite 0.5000",
      "inputDescription": "<<Line 1:>> An integer [[n]] for the number of cards currently on the table\n<<Next [[n]] lines:>> Four space separated features describing a card in the following order: <<Number>>, <<Shading>>, <<Color>>, <<Shape>>.",
      "solutionLanguage": "Python3",
      "outputDescription": "<<Line 1:>> A probability [[p]] as a decimal from 0 to 1 rounded to 4 decimal places."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">You have a deck of the card game set and <var>n</var> current cards drawn on the table. Determine the probability that after drawing 1 more card, you can form a <strong>set</strong> from the current cards.<br><br>The deck consists of one copy of each possible combination of 4 unique features with 3 variations each (a total of 81 cards). The features and variations are as follows:<br><strong>Number:</strong> <const>1</const>, <const>2</const>, or <const>3</const><br><strong>Shading:</strong> <const>OUTLINED</const>, <const>STRIPED</const>, or <const>SOLID</const><br><strong>Color:</strong> <const>RED</const>, <const>GREEN</const>, or <const>PURPLE</const><br><strong>Shape:</strong> <const>DIAMOND</const>, <const>OVAL</const>, or <const>SQUIGGLE</const><br><br>For example, a card could be <const>2</const> <const>SOLID</const> <const>GREEN</const> <const>OVAL</const> or <const>1</const> <const>STRIPED</const> <const>PURPLE</const> <const>SQUIGGLE</const>.<br><br>A <strong>set</strong> is formed with three cards which display each feature either all the same or all different. It is not a set if two cards share a feature but the other card does not. For example, these are all valid sets:<br><br><pre style=\"font-family: monospace\">1 STRIPED RED OVAL<br>2 STRIPED PURPLE OVAL<br>3 STRIPED GREEN OVAL</pre><br><pre style=\"font-family: monospace\">2 SOLID PURPLE OVAL<br>2 SOLID PURPLE DIAMOND<br>2 SOLID PURPLE SQUIGGLE</pre><br><pre style=\"font-family: monospace\">1 OUTLINED PURPLE DIAMOND<br>2 SOLID RED OVAL<br>3 STRIPED GREEN SQUIGGLE</pre><br><br>And these are all invalid sets:<br><br><pre style=\"font-family: monospace\">1 SOLID RED OVAL<br>1 OUTLINED RED OVAL<br>1 STRIPED GREEN OVAL</pre><br><pre style=\"font-family: monospace\">3 OUTLINED PURPLE DIAMOND<br>2 STRIPED PURPLE SQUIGGLE<br>3 SOLID PURPLE SQUIGGLE</pre><br><pre style=\"font-family: monospace\">1 SOLID RED DIAMOND<br>2 STRIPED PURPLE OVAL<br>2 STRIPED GREEN OVAL</pre><br><br>Note that the card you draw does not have to be used in the sets formed if there are already sets on the table.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> An integer <var>n</var> for the number of cards currently on the table<br><strong>Next <var>n</var> lines:</strong> Four space separated features describing a card in the following order: <strong>Number</strong>, <strong>Shading</strong>, <strong>Color</strong>, <strong>Shape</strong>.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>Line 1:</strong> A probability <var>p</var> as a decimal from 0 to 1 rounded to 4 decimal places.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">2 &le; <var>n</var> &le;  20</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">2\n2 SOLID RED SQUIGGLE\n1 OUTLINED GREEN SQUIGGLE</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">0.0127</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 3551282267,
  "avatar": 151533807370950,
  "commentCount": 14,
  "upVotes": 3,
  "downVotes": 0,
  "validateAction": {
    "actionId": 1305357,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "REFUSED",
      "date": 1764061537003,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1764878005343,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "ACCEPTED",
      "date": 1767176949118,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}