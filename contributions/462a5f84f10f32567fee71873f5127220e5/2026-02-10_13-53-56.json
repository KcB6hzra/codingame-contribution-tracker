{
  "id": 462,
  "activeVersion": 23,
  "score": 8,
  "votableId": 3536561,
  "codingamerId": 272329,
  "views": 402,
  "commentableId": 3482026,
  "title": "Laser and mirrors",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Arglanir",
  "publicHandle": "462a5f84f10f32567fee71873f5127220e5",
  "codingamerHandle": "465ccb0b5ae845115115bb2070e7e0b6923272",
  "lastVersion": {
    "version": 23,
    "data": {
      "title": "Laser and mirrors",
      "solution": "import sys\nimport fractions\n\n# reading input\nu, v = [int(i) for i in input().split()]\n\ndef bruteforce(u,v):\n    '''This bruteforce method allows seeing where it bounced.'''\n    x,y=0,0 # position\n    l=0\n    dx, dy=1,1\n    sols = {(0,u):'A', (v,u):'B', (v,0):'C'} \n    while (x,y) not in sols:\n        # changing directions\n        dx = 1 if x==0 else -1 if x == v else dx\n        dy = 1 if y==0 else -1 if y == u else dy\n        # computing next position\n        x+=dx\n        y+=dy\n        l+=1\n        #print(x,y,file=sys.stderr)\n    return sols[x,y], l\n\ndef smartsolution(u,v):\n    '''This solution is quickest.'''\n    gcd = fractions.gcd(u,v)\n    # gcd is the scale, uu, vv are primes one to another\n    uu, vv = u//gcd, v//gcd\n    #print(\"uu\", uu, \"vv\", vv, \"gcd\", gcd, file=sys.stderr)\n    # calculating length\n    l = uu*v # or uu*vv*gcd\n    # finding the corner: just draw the reflections\n    line = 'AB' if vv % 2 else 'SC'\n    corner = line[uu%2]\n    return corner, l\n\n# test that smartsolution == bruteforce for lower u,v\nif u*v < 100000:\n    assert smartsolution(u,v) == bruteforce(u,v), smartsolution(u,v) + bruteforce(u,v)\n    #print(\"Solutions correspond\", file=sys.stderr)\n\n# print solution\nprint(*smartsolution(u,v))\n",
      "statement": "You find yourself in a corner of a gigantic dark room. You don't see anything at a distance, only the cold surface of both corner walls. On the floor you see something shining.\nIt's a strange small gold cylinder.\nYou pick it, observe it, and discover a small button on the side. You press it, and ghosh! You had a blight red light flashing into your eyes.\n\nAfter some times, when the surprise is past, you understand that this small cylinder is a laser. You try it in your room, and discovers by pointing to different angles (0°, 90°, 180° and 270°) that the laser beam goes back at you. It probably means that this room is a rectangle, and that all sides are covered by a reflecting surface.\n\nBut at some angles you do not get back your beam. Maybe the corners are not reflexive? Maybe there are other people on each corner, and the laser beam stops at them?\n\nIf you knew the size [[U]]x[[V]] of the rectangle, could you guess at which [[corner]] the laser beam stopped and the [[length]] of the beam?\n\n<<Note:>> for simplicity, the angle is 45°. If the angle was different (except for 0° and 90°), it would be the same problem as with an angle of 45° and a different shape (but probably not integers). And you can also forget the square root of 2 from the [[length]].\n\n<<Examples:>> ({{S}} is the starting corner, where you are)\n[[U]]=[[V]]=2 => [[corner]]={{B}} [[length]]=2\n`A██B\n█ /█\n█/ █\nS██C`\n\n\n[[U]]=2 [[V]]=3  => [[corner]]={{A}} [[length]]=6\n` A███B\nU█\\/\\█\n █/\\/█\n S███C\n   V`\n\n[[U]]=2 [[V]]=4  => [[corner]]={{C}} [[length]]=4\n` A████B\nU█ /\\ █\n █/  \\█\n S████C\n   V`",
      "testCases": [
        {
          "title": "Square",
          "isTest": true,
          "testIn": "2 2",
          "testOut": "B 2",
          "isValidator": false
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "3 3",
          "testOut": "B 3",
          "isValidator": true
        },
        {
          "title": "Small rectangle",
          "isTest": true,
          "testIn": "2 4",
          "testOut": "C 4",
          "isValidator": false
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "6 3",
          "testOut": "A 6",
          "isValidator": true
        },
        {
          "title": "Multiple bounces",
          "isTest": true,
          "testIn": "2 3",
          "testOut": "A 6",
          "isValidator": false
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "3 4",
          "testOut": "C 12",
          "isValidator": true
        },
        {
          "title": "Big but feasible",
          "isTest": true,
          "testIn": "985 654",
          "testOut": "C 644190",
          "isValidator": false
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "456 623",
          "testOut": "A 284088",
          "isValidator": true
        },
        {
          "title": "Too big",
          "isTest": true,
          "testIn": "9876 6875",
          "testOut": "A 67897500",
          "isValidator": false
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "9867 9864",
          "testOut": "C 32442696",
          "isValidator": true
        },
        {
          "title": "Very very big room",
          "isTest": true,
          "testIn": "99867 35678",
          "testOut": "C 3563054826",
          "isValidator": false
        },
        {
          "title": "Validator 6",
          "isTest": false,
          "testIn": "99867 35677",
          "testOut": "B 3562954959",
          "isValidator": true
        }
      ],
      "constraints": "1 ≤ [[U]], [[V]] ≤ 100 000\n[[length]] ≤ [[U]]x[[V]]",
      "stubGenerator": "read U:int V:int\nwrite corner length",
      "inputDescription": "<<One line:>> Two integers [[U]] and [[V]] for the size of the rectangle.",
      "solutionLanguage": "Python3",
      "outputDescription": "<<One line:>> The [[corner]] ({{A}} or {{B}} or {{C}}) at which the laser beam stopped, and the [[length]] (divided by √2) of the beam."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h1><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h1>\n   <span class=\"question-statement\">You find yourself in a corner of a gigantic dark room. You don't see anything at a distance, only the cold surface of both corner walls. On the floor you see something shining.<br>It's a strange small gold cylinder.<br>You pick it, observe it, and discover a small button on the side. You press it, and ghosh! You had a blight red light flashing into your eyes.<br><br>After some times, when the surprise is past, you understand that this small cylinder is a laser. You try it in your room, and discovers by pointing to different angles (0&deg;, 90&deg;, 180&deg; and 270&deg;) that the laser beam goes back at you. It probably means that this room is a rectangle, and that all sides are covered by a reflecting surface.<br><br>But at some angles you do not get back your beam. Maybe the corners are not reflexive? Maybe there are other people on each corner, and the laser beam stops at them?<br><br>If you knew the size <var>U</var>x<var>V</var> of the rectangle, could you guess at which <var>corner</var> the laser beam stopped and the <var>length</var> of the beam?<br><br><strong>Note:</strong> for simplicity, the angle is 45&deg;. If the angle was different (except for 0&deg; and 90&deg;), it would be the same problem as with an angle of 45&deg; and a different shape (but probably not integers). And you can also forget the square root of 2 from the <var>length</var>.<br><br><strong>Examples:</strong> (<const>S</const> is the starting corner, where you are)<br><var>U</var>=<var>V</var>=2 =&gt; <var>corner</var>=<const>B</const> <var>length</var>=2<br><pre style=\"font-family: monospace\">A██B<br>█ /█<br>█/ █<br>S██C</pre><br><br><br><var>U</var>=2 <var>V</var>=3  =&gt; <var>corner</var>=<const>A</const> <var>length</var>=6<br><pre style=\"font-family: monospace\"> A███B<br>U█\\/\\█<br> █/\\/█<br> S███C<br>   V</pre><br><br><var>U</var>=2 <var>V</var>=4  =&gt; <var>corner</var>=<const>C</const> <var>length</var>=4<br><pre style=\"font-family: monospace\"> A████B<br>U█ /\\ █<br> █/  \\█<br> S████C<br>   V</pre></span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>One line:</strong> Two integers <var>U</var> and <var>V</var> for the size of the rectangle.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>One line:</strong> The <var>corner</var> (<const>A</const> or <const>B</const> or <const>C</const>) at which the laser beam stopped, and the <var>length</var> (divided by &radic;2) of the beam.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">1 &le; <var>U</var>, <var>V</var> &le; 100 000<br><var>length</var> &le; <var>U</var>x<var>V</var></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">2 2</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">B 2</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 291668145766,
  "avatar": 3884009540055,
  "commentCount": 13,
  "upVotes": 9,
  "downVotes": 1,
  "validateAction": {
    "actionId": 47133,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}