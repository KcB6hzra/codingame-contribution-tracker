{
  "id": 405,
  "activeVersion": 31,
  "score": 14,
  "votableId": 3086911,
  "codingamerId": 984614,
  "views": 296,
  "commentableId": 3033764,
  "title": "Heart of the City",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "SamSi",
  "publicHandle": "4054f18f1d9565dee2fb9719ae51efceb2c",
  "codingamerHandle": "5280f530c76ea2c2cb2d3222e8749a9f416489",
  "lastVersion": {
    "version": 31,
    "data": {
      "title": "Heart of the City",
      "topics": [],
      "solution": "n = gets.chomp.to_i / 2 + 1\nphi = Array(0...n)\n\n(2...n).each do |p|\n  if phi[p] == p\n    (p...n).step(p) do |i|\n      phi[i] *= (p-1).to_f / p\n    end\n  end\nend\n\nputs (8 * phi.sum).to_i",
      "statement": "Consider an imaginary city which is an [[n]] Ã— [[n]] square cells where a building is located at center of each cell (except the central cell), so in total there are [[n]] * [[n]] - 1 buildings. The buildings in this city are all circular and very very small width-wise. All the buildings in the city are the same.  \n\nOne day you decided to take a walk in this city and go to its center. From that spot you could see many other buildings, but not all of them, because the buildings in the same directions block each other. You have super vision and you can see for miles if nothing is obstructing your vision. How many of these buildings could you see in this city?\n\n<<EXAMPLE>>\nFor [[n]] = 7, the output should be 32. \n<<C>> represents center of the city.\n<<A>> represent the buildings which you could see from there. \n<<B>> represent the buildings that you could not see.\n\n```\nB<<A>><<A>>B<<A>><<A>>B\n<<A>>B<<A>>B<<A>>B<<A>>\n<<A>><<A>><<A>><<A>><<A>><<A>><<A>>\nBB<<A>>C<<A>>BB\n<<A>><<A>><<A>><<A>><<A>><<A>><<A>>\n<<A>>B<<A>>B<<A>>B<<A>>\nB<<A>><<A>>B<<A>><<A>>B\n```",
      "testCases": [
        {
          "title": "Test 1",
          "isTest": true,
          "testIn": "3",
          "testOut": "8",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "5",
          "testOut": "16",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 2",
          "isTest": true,
          "testIn": "7",
          "testOut": "32",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "13",
          "testOut": "96",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 3",
          "isTest": true,
          "testIn": "11",
          "testOut": "80",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "19",
          "testOut": "224",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 4",
          "isTest": true,
          "testIn": "33",
          "testOut": "640",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "119",
          "testOut": "8688",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 5",
          "isTest": true,
          "testIn": "839",
          "testOut": "428480",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "655",
          "testOut": "260720",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 6",
          "isTest": true,
          "testIn": "2439",
          "testOut": "3618368",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 6",
          "isTest": false,
          "testIn": "8175",
          "testOut": "40631920",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 7",
          "isTest": true,
          "testIn": "75085",
          "testOut": "3427295728",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 7",
          "isTest": false,
          "testIn": "87299",
          "testOut": "4633139200",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 8",
          "isTest": true,
          "testIn": "999999",
          "testOut": "607926717408",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 8",
          "isTest": false,
          "testIn": "899483",
          "testOut": "491856096272",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 9",
          "isTest": true,
          "testIn": "931547",
          "testOut": "527547299504",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 9",
          "isTest": false,
          "testIn": "313441",
          "testOut": "59725797792",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 10",
          "isTest": true,
          "testIn": "9999999",
          "testOut": "60792708184960",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 10",
          "isTest": false,
          "testIn": "9662543",
          "testOut": "56758958264144",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "expert",
      "constraints": "1 < [[n]] < 10,000,000 where [[n]] is always odd",
      "stubGenerator": "read n:long\nwrite 9999999999999999",
      "inputDescription": "An odd number [[n]] denoting the size of the city.",
      "solutionLanguage": "Ruby",
      "outputDescription": "The amount of buildings you could see from the center of the city."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Consider an imaginary city which is an <var>n</var> &times; <var>n</var> square cells where a building is located at center of each cell (except the central cell), so in total there are <var>n</var> * <var>n</var> - 1 buildings. The buildings in this city are all circular and very very small width-wise. All the buildings in the city are the same.  <br><br>One day you decided to take a walk in this city and go to its center. From that spot you could see many other buildings, but not all of them, because the buildings in the same directions block each other. You have super vision and you can see for miles if nothing is obstructing your vision. How many of these buildings could you see in this city?<br><br><strong>EXAMPLE</strong><br>For <var>n</var> = 7, the output should be 32. <br><strong>C</strong> represents center of the city.<br><strong>A</strong> represent the buildings which you could see from there. <br><strong>B</strong> represent the buildings that you could not see.<br><br><pre style=\"font-family: monospace\"></pre><pre style=\"font-family: monospace\"><br>B<strong>A</strong><strong>A</strong>B<strong>A</strong><strong>A</strong>B<br><strong>A</strong>B<strong>A</strong>B<strong>A</strong>B<strong>A</strong><br><strong>A</strong><strong>A</strong><strong>A</strong><strong>A</strong><strong>A</strong><strong>A</strong><strong>A</strong><br>BB<strong>A</strong>C<strong>A</strong>BB<br><strong>A</strong><strong>A</strong><strong>A</strong><strong>A</strong><strong>A</strong><strong>A</strong><strong>A</strong><br><strong>A</strong>B<strong>A</strong>B<strong>A</strong>B<strong>A</strong><br>B<strong>A</strong><strong>A</strong>B<strong>A</strong><strong>A</strong>B<br></pre><pre style=\"font-family: monospace\"></pre></span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\">An odd number <var>n</var> denoting the size of the city.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">The amount of buildings you could see from the center of the city.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">1 &lt; <var>n</var> &lt; 10,000,000 where <var>n</var> is always odd</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">3</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">8</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 301628873852,
  "avatar": 9557317848695,
  "commentCount": 19,
  "upVotes": 14,
  "downVotes": 0,
  "validateAction": {
    "actionId": 1005,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}