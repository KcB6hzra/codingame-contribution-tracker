{
  "id": 1048,
  "activeVersion": 15,
  "score": 5,
  "votableId": 6878632,
  "codingamerId": 1441239,
  "views": 204,
  "commentableId": 6817408,
  "title": "De-FizzBuzzer",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "PiDayDev",
  "publicHandle": "104810944e6a0499eb8b7723eb331f4305ff",
  "codingamerHandle": "48a3e58db5e6bdb381ea3bb19c55be6d9321441",
  "lastVersion": {
    "version": 15,
    "data": {
      "title": "De-FizzBuzzer",
      "topics": [
        {
          "id": 129,
          "handle": "arithmetic",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Arithmetic",
            "2": "Arithmetic"
          },
          "puzzleCount": 13,
          "parentTopicId": 93
        },
        {
          "id": 73,
          "handle": "strings",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Chaînes de caractères",
            "2": "Strings"
          },
          "pageTitle": "Strings: exercises and theory",
          "puzzleCount": 26,
          "parentTopicId": 41,
          "contentDetailsId": 73
        }
      ],
      "solution": "\nimport java.util.*\n\nfun Int.fromString(digit: Int, string: String) =\n        \"${this}\"\n                .filter { it == \"$digit\"[0] }\n                .map { string }\n                .joinToString(\"\")\n\nfun Int.fromNumber(digit: Int, string: String) =\n        generateSequence(digit) { if (it >= Int.MAX_VALUE / digit) null else it * digit }\n                .filter { it <= this }\n                .filter { this % it == 0 }\n                .map { string }\n                .joinToString(\"\")\n\nfun Int.toFizzBuzz(digit: Int, string: String) =\n        fromString(digit, string) + fromNumber(digit, string)\n\nfun Int.fizzbuzz() =\n        \"${toFizzBuzz(3, \"Fizz\")}${toFizzBuzz(5, \"Buzz\")}\"\n                .let { if (it.isEmpty()) \"$this\" else it }\n\nfun makeFizzBuzzMap(): MutableMap<String, Int> {\n    val map = mutableMapOf<String, Int>()\n    (1..1000)\n            .map { it -> Pair(it, it.fizzbuzz()) }\n            .filter { \"${it.first}\" != it.second }\n            .forEach { map.putIfAbsent(it.second, it.first) }\n    return map\n}\n\nfun main(args: Array<String>) {\n    val map = makeFizzBuzzMap()\n    val input = Scanner(System.`in`)\n    val n = input.nextInt()\n    if (input.hasNextLine()) {\n        input.nextLine()\n    }\n    for (i in 0 until n) {\n        val row = input.nextLine()\n        val output = try {\n            when (row) {\n                in map.keys -> map[row]\n                row.toInt().fizzbuzz() -> row\n                else -> \"ERROR\"\n            }\n        } catch (e: NumberFormatException) {\n            \"ERROR\"\n        }\n        println(output)\n    }\n\n}",
      "statement": "We have a mysterious machine, the FizzBuzzer, that implements an advanced version of <<FizzBuzz>>. \n\nThe FizzBuzzer receives a positive integer, and outputs a single string by joining the substrings produced by the rules below and in that order:\n- produce {{Fizz}} for each time the digit {{3}} appears in the integer;\n- produce {{Fizz}} for each time the integer can be divided by {{3}};\n- produce {{Buzz}} for each time the digit {{5}} appears in the integer;\n- produce {{Buzz}} for each time the integer can be divided by {{5}};\n- if no {{Fizz}} or {{Buzz}} has been produced so far, produce the original integer as the substring.\n\nYour task is to <<invert>> the behaviour of the FizzBuzzer. You will receive some strings, and for each string you should determine the smallest positive integer (up to 1000 inclusive), if any, that would produce that string when fed to the FizzBuzzer.",
      "testCases": [
        {
          "title": "Plain number",
          "isTest": true,
          "testIn": "20\n1\n2\nFizzFizz\n4\nBuzzBuzz\nFizz\n7\n8\nFizzFizz\nBuzz\n11\nFizz\nFizz\n14\nFizzBuzzBuzz\n16\n17\nFizzFizz\n19\nBuzz",
          "testOut": "1\n2\n3\n4\n5\n6\n7\n8\n3\n10\n11\n6\n6\n14\n15\n16\n17\n3\n19\n10",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Another plain number",
          "isTest": false,
          "testIn": "1\n7",
          "testOut": "7",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Two simple ones",
          "isTest": true,
          "testIn": "2\nFizz\nBuzzBuzz",
          "testOut": "6\n5",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Other two simple ones",
          "isTest": false,
          "testIn": "2\nBuzz\nFizzFizz",
          "testOut": "10\n3",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "More words",
          "isTest": true,
          "testIn": "4\nFizzBuzz\nBuzzBuzzBuzz\nBuzzBuzzBuzzBuzz\nFizzFizzFizzFizzFizz",
          "testOut": "51\n25\n125\n324",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Groups of four",
          "isTest": false,
          "testIn": "4\nFizzFizzFizzBuzz\nFizzBuzzBuzzBuzz\nFizzFizzFizzFizz\nBuzzBuzzBuzzBuzz",
          "testOut": "54\n75\n81\n125",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Error cases",
          "isTest": true,
          "testIn": "3\n23\n56\nPOTATO",
          "testOut": "ERROR\nERROR\nERROR",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Many errors",
          "isTest": false,
          "testIn": "5\n24\n20\nTurtle\n#\n15300",
          "testOut": "ERROR\nERROR\nERROR\nERROR\nERROR",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Lots of cases",
          "isTest": true,
          "testIn": "100\nBuzz\nBuzzBuzz\nBuzzBuzzBuzz\nBuzzBuzzBuzzBuzz\nBuzzBuzzBuzzBuzzBuzz\nFizz\nFizzBuzz\nFizzBuzzBuzz\nFizzBuzzBuzzBuzz\nFizzBuzzBuzzBuzzBuzz\nFizzFizz\nFizzFizzBuzz\nFizzFizzBuzzBuzz\nFizzFizzBuzzBuzzBuzz\nFizzFizzBuzzBuzzBuzzBuzz\nFizzFizzFizz\nFizzFizzFizzBuzz\nFizzFizzFizzBuzzBuzz\nFizzFizzFizzBuzzBuzzBuzz\nFizzFizzFizzFizz\nFizzFizzFizzFizzBuzz\nFizzFizzFizzFizzBuzzBuzz\nFizzFizzFizzFizzFizz\nFizzFizzFizzFizzFizzFizz\nNothing\nis\never\neasy\n8\n11\n14\n16\n17\n19\n22\n26\n28\n29\n41\n44\n46\n47\n49\n61\n62\nTHE\nCAKE\nIS\nA\nLIE\n76\n77\n79\n82\n86\n88\n89\n91\n92\n94\n97\n98\n101\n104\n106\n107\n109\n112\n116\n118\n119\n121\n122\n124\n127\n128\n142\n146\n148\n149\n161\n164\n166\n167\n169\n172\n176\n178\n179\n181\n182\n184\n187\n188\n191\n194\n196\n197\n199\n202",
          "testOut": "10\n5\n25\n125\n625\n6\n51\n15\n75\n525\n3\n30\n45\n225\n375\n27\n54\n315\n675\n81\n351\n135\n324\n243\nERROR\nERROR\nERROR\nERROR\n8\n11\n14\n16\n17\n19\n22\n26\n28\n29\n41\n44\n46\n47\n49\n61\n62\nERROR\nERROR\nERROR\nERROR\nERROR\n76\n77\n79\n82\n86\n88\n89\n91\n92\n94\n97\n98\n101\n104\n106\n107\n109\n112\n116\n118\n119\n121\n122\n124\n127\n128\n142\n146\n148\n149\n161\n164\n166\n167\n169\n172\n176\n178\n179\n181\n182\n184\n187\n188\n191\n194\n196\n197\n199\n202",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Everything mixed up",
          "isTest": false,
          "testIn": "100\n286\n287\n389\nThis\nis\nnot\nan\nEaster\negg\n406\n407\n409\n412\n416\n418\n419\n421\n422\n424\n427\n428\nBuzz\nBuzzBuzz\nBuzzBuzzBuzz\nBuzzBuzzBuzzBuzz\nBuzzBuzzBuzzBuzzBuzz\nFizz\nFizzBuzz\nFizzBuzzBuzz\nFizzBuzzBuzzBuzz\nFizzBuzzBuzzBuzzBuzz\nFizzFizz\nFizzFizzBuzz\nFizzFizzBuzzBuzz\nFizzFizzBuzzBuzzBuzz\nFizzFizzBuzzBuzzBuzzBuzz\nFizzFizzFizz\nFizzFizzFizzBuzz\nFizzFizzFizzBuzzBuzz\nFizzFizzFizzBuzzBuzzBuzz\nFizzFizzFizzFizz\nFizzFizzFizzFizzBuzz\nFizzFizzFizzFizzBuzzBuzz\nFizzFizzFizzFizzFizz\nFizzFizzFizzFizzFizzFizz\n608\n611\n614\n616\n617\n619\n622\n626\n628\n629\n641\n644\n646\n647\n649\n661\n662\n664\n667\n668\n671\n674\n676\n677\n679\n682\n686\n688\n689\n691\n692\n694\n697\n698\n701\n704\n706\n707\n709\n712\n716\n718\n719\n721\n722\n724\n727\n728\n742\n746\n748\n749\n761\n764\n766",
          "testOut": "286\n287\nERROR\nERROR\nERROR\nERROR\nERROR\nERROR\nERROR\n406\n407\n409\n412\n416\n418\n419\n421\n422\n424\n427\n428\n10\n5\n25\n125\n625\n6\n51\n15\n75\n525\n3\n30\n45\n225\n375\n27\n54\n315\n675\n81\n351\n135\n324\n243\n608\n611\n614\n616\n617\n619\n622\n626\n628\n629\n641\n644\n646\n647\n649\n661\n662\n664\n667\n668\n671\n674\n676\n677\n679\n682\n686\n688\n689\n691\n692\n694\n697\n698\n701\n704\n706\n707\n709\n712\n716\n718\n719\n721\n722\n724\n727\n728\n742\n746\n748\n749\n761\n764\n766",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "1 ≤ [[N]] ≤ 100\nlength of each string ≤ 100\n1 ≤ each output integer ≤ 1000",
      "stubGenerator": "read n:int\nloop n read row:string(1024)\nwrite answer",
      "inputDescription": "<<Line 1:>> An integer [[N]] for the number of strings.\n<<Next [[N]] lines:>> On each line, a [[string]] that may have been produced by the FizzBuzzer.",
      "solutionLanguage": "Kotlin",
      "outputDescription": "<<[[N]] lines:>> The smallest positive integer (up to 1000 inclusive) that would produce the given string, or the string {{ERROR}} if no such integer exists."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">We have a mysterious machine, the FizzBuzzer, that implements an advanced version of <strong>FizzBuzz</strong>. <br><br>The FizzBuzzer receives a positive integer, and outputs a single string by joining the substrings produced by the rules below and in that order:<br>- produce <const>Fizz</const> for each time the digit <const>3</const> appears in the integer;<br>- produce <const>Fizz</const> for each time the integer can be divided by <const>3</const>;<br>- produce <const>Buzz</const> for each time the digit <const>5</const> appears in the integer;<br>- produce <const>Buzz</const> for each time the integer can be divided by <const>5</const>;<br>- if no <const>Fizz</const> or <const>Buzz</const> has been produced so far, produce the original integer as the substring.<br><br>Your task is to <strong>invert</strong> the behaviour of the FizzBuzzer. You will receive some strings, and for each string you should determine the smallest positive integer (up to 1000 inclusive), if any, that would produce that string when fed to the FizzBuzzer.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> An integer <var>N</var> for the number of strings.<br><strong>Next <var>N</var> lines:</strong> On each line, a <var>string</var> that may have been produced by the FizzBuzzer.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong><var>N</var> lines:</strong> The smallest positive integer (up to 1000 inclusive) that would produce the given string, or the string <const>ERROR</const> if no such integer exists.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">1 &le; <var>N</var> &le; 100<br>length of each string &le; 100<br>1 &le; each output integer &le; 1000</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">20\n1\n2\nFizzFizz\n4\nBuzzBuzz\nFizz\n7\n8\nFizzFizz\nBuzz\n11\nFizz\nFizz\n14\nFizzBuzzBuzz\n16\n17\nFizzFizz\n19\nBuzz</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">1\n2\n3\n4\n5\n6\n7\n8\n3\n10\n11\n6\n6\n14\n15\n16\n17\n3\n19\n10</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 242363777361,
  "avatar": 71707560017158,
  "commentCount": 3,
  "upVotes": 5,
  "downVotes": 0,
  "validateAction": {
    "actionId": 180092,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}