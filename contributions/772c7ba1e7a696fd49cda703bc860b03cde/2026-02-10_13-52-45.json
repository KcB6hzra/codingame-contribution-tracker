{
  "id": 772,
  "activeVersion": 16,
  "score": 6,
  "votableId": 5467938,
  "codingamerId": 484004,
  "views": 578,
  "commentableId": 5409945,
  "title": "Parsing context-free grammar",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "aCat",
  "publicHandle": "772c7ba1e7a696fd49cda703bc860b03cde",
  "codingamerHandle": "b528dd3b279d7578674a1129305918e0400484",
  "lastVersion": {
    "version": 16,
    "data": {
      "title": "Parsing context-free grammar",
      "topics": [
        {
          "id": 87,
          "handle": "state-machine",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Machine à états",
            "2": "State machine"
          },
          "pageTitle": "State machine: exercises and theory",
          "puzzleCount": 8,
          "parentTopicId": 42,
          "contentDetailsId": 94
        },
        {
          "id": 60,
          "handle": "dynamic-programming",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Programmation dynamique",
            "2": "Dynamic programming"
          },
          "pageTitle": "Dynamic programming: exercises and theory",
          "puzzleCount": 21,
          "parentTopicId": 41,
          "contentDetailsId": 85
        }
      ],
      "solution": "import java.util.*;\nimport java.util.stream.Collectors;\n\n\nclass Grammar\n{\n  public HashMap<Character, HashSet<Character>> terminal_productions = new HashMap<>(); // nonterminalSymbol -> terminalSymbols\n  public HashMap<Character, HashSet<String>> nonterminal_productions = new HashMap<>(); // nonterminalSymbol -> nonterminalSymbols\n  public HashMap<Character, HashSet<Character>> terminal_productions_rev = new HashMap<>(); // terminalSymbol -> nonterminalSymbol\n  public HashMap<Character, HashMap<Character, HashSet<Character>>> nonterminal_productions_rev = new HashMap<>(); // nonterminalL -> nonterminalR -> nonterminalHead\n  public Character start_symbol;\n\n  public Grammar(char start, ArrayList<String> productions)\n  {\n    start_symbol = start;\n\n    for (String prod : productions)\n    {\n      char head = prod.charAt(0);\n      char body1 = prod.charAt(5);\n      if (prod.length()==6) // terminal production\n      {\n        if (terminal_productions.containsKey(head))\n          terminal_productions.get(head).add(body1);\n        else\n          terminal_productions.put(head, new HashSet<>(Arrays.asList(body1)));\n\n        if (terminal_productions_rev.containsKey(body1))\n          terminal_productions_rev.get(body1).add(head);\n        else\n          terminal_productions_rev.put(body1, new HashSet<>(Arrays.asList(head)));\n      }\n      else // non-terminal production\n      {\n        char body2 = prod.charAt(6);\n        if (nonterminal_productions.containsKey(head))\n          nonterminal_productions.get(head).add(\"\"+body1+body2);\n        else\n          nonterminal_productions.put(head, new HashSet<>(Arrays.asList(\"\"+body1+body2)));\n\n        if (nonterminal_productions_rev.containsKey(body1))\n        {\n          if (nonterminal_productions_rev.get(body1).containsKey(body2))\n            nonterminal_productions_rev.get(body1).get(body2).add(head);\n          else\n            nonterminal_productions_rev.get(body1).put(body2, new HashSet<>(Arrays.asList(head)));\n        }\n        else\n        {\n          nonterminal_productions_rev.put(body1, new HashMap<>());\n          nonterminal_productions_rev.get(body1).put(body2, new HashSet<>(Arrays.asList(head)));\n        }\n      }\n    }\n  }\n\n  public String generateParsable()\n  {\n    StringBuilder sb = new StringBuilder();\n    int n = 0;\n    for (Map.Entry<Character, HashSet<String>> entry: nonterminal_productions.entrySet())\n    {\n      for (String s: entry.getValue())\n      {\n        sb.append(entry.getKey()).append(\" -> \").append(s).append(\"\\n\");\n        n++;\n      }\n    }\n    for (Map.Entry<Character, HashSet<Character>> entry: terminal_productions.entrySet())\n    {\n      for (Character c: entry.getValue())\n      {\n        sb.append(entry.getKey()).append(\" -> \").append(c).append(\"\\n\");\n        n++;\n      }\n    }\n\n    return String.format(\"%d\\n%s\\n%s\", n, start_symbol ,sb.toString());\n  }\n\n  @Override\n  public String toString()\n  {\n    StringBuilder sb = new StringBuilder();\n    for (Map.Entry<Character, HashSet<Character>> entry: terminal_productions_rev.entrySet())\n    {\n      String s = entry.getValue()\n              .stream()\n              .map(Object::toString)\n              .collect(Collectors.joining(\",\"));\n      sb.append(String.format(\"%s <- %s\\n\", entry.getKey(), s));\n    }\n\n    for (Map.Entry<Character, HashMap<Character, HashSet<Character>>> entry: nonterminal_productions_rev.entrySet())\n    {\n      for (Map.Entry<Character, HashSet<Character>> en: entry.getValue().entrySet())\n      {\n        String s = en.getValue()\n                .stream()\n                .map(Object::toString)\n                .collect(Collectors.joining(\",\"));\n        sb.append(String.format(\"%s%s <- %s\\n\", entry.getKey(), en.getKey(), s));\n      }\n    }\n\n    return sb.toString();\n  }\n}\n\n\nclass CYK\n{\n  static boolean check(Grammar g, String word)\n  {\n    int n = word.length();\n    ArrayList<Character> [][] table = new ArrayList[n][n];\n\n    for (int col=0; col<n; col++)\n      table[0][col] = new ArrayList<>(g.terminal_productions_rev.get(word.charAt(col)));\n\n\n    for (int row=1; row < n ; row++)\n    {\n      for(int col=0; col<=n-row-1; col++)\n      {\n        HashSet<Character> set = new HashSet<>();\n\n        for (int k=0; k< row; k++)\n        {\n          ArrayList<Character> left = table[k][col];\n          ArrayList<Character> right = table[row-k-1][col+k+1];\n          for (Character l:left)\n          {\n            HashMap<Character, HashSet<Character>> candidates = g.nonterminal_productions_rev.get(l);\n            if (candidates==null) continue;\n            for (Character r:right)\n            {\n              HashSet<Character> solutions = candidates.get(r);\n              if (solutions != null)\n                set.addAll(solutions);\n            }\n          }\n        }\n        table[row][col] = new ArrayList<>(set);\n      }\n    }\n\n    //printTable(table);\n\n    return table[n-1][0].contains(g.start_symbol);\n  }\n\n  private static void printTable(ArrayList<Character> [][] table)\n  {\n    StringBuilder sb = new StringBuilder();\n    for (int row=table.length-1; row >= 0 ; row--)\n    {\n      sb.append(row);\n      for(int col=0; col<=table.length-row-1; col++)\n      {\n\n        String s = table[row][col]\n                .stream()\n                .map(Object::toString)\n                .collect(Collectors.joining(\",\"));\n\n        sb.append(\" | \").append(s);\n      }\n      sb.append(\"\\n\");\n    }\n\n    sb.append(\" \");\n    for(int col=0; col<=table.length-1; col++)\n      sb.append(\" | \").append(col);\n\n    System.err.println(sb);\n  }\n}\n\n\nclass Solution\n{\n  private static Random RNG = new Random();\n\n  private static Grammar readGrammar(Scanner in)\n  {\n    int N = in.nextInt();\n    String START = in.next();\n    if (in.hasNextLine())  in.nextLine();\n    ArrayList<String> productions = new ArrayList<>();\n    for (int i = 0; i < N; i++)\n      productions.add(in.nextLine());\n\n    Grammar G = new Grammar(START.charAt(0), productions);\n    //System.err.println(G);\n    return G;\n  }\n\n  private static String generateAcceptingWord(Grammar G, double terminal_prob, double terminal_delta, Character init)\n  {\n    Character[] terminals = G.terminal_productions.get(init)== null?null : G.terminal_productions.get(init).toArray(new Character[0]);\n    String[] nonterminals = G.nonterminal_productions.get(init)==null?null:G.nonterminal_productions.get(init).toArray(new String[0]);\n\n    if (nonterminals == null || (terminals != null && RNG.nextDouble()<terminal_prob))\n    {\n      return terminals[RNG.nextInt(terminals.length)].toString();\n    }\n    else\n    {\n      String lr = nonterminals[RNG.nextInt(nonterminals.length)].toString();\n      return generateAcceptingWord(G, terminal_prob+terminal_delta, terminal_delta, lr.charAt(0))+generateAcceptingWord(G, terminal_prob+terminal_delta, terminal_delta, lr.charAt(1));\n    }\n  }\n\n\n  private static String generatRandomWord(Character[] letters, int len_min, int len_max)\n  {\n    int len = len_min+ RNG.nextInt(len_max-len_min+1);\n    StringBuilder word = new StringBuilder();\n    for(int i=0; i<len; i++)\n    {\n      word.append(letters[RNG.nextInt(letters.length)]);\n    }\n    return word.toString();\n  }\n\n\n\n  public static void GenerateTestsMain(int t_acc, int t_nacc, int len_min, int len_max,  double terminal_prob, double terminal_delta, Scanner scanner)\n  {\n    Scanner in = scanner; //new Scanner(System.in);\n    Grammar G = readGrammar(in);\n    Character[] letters = G.terminal_productions_rev.keySet().toArray(new Character[0]);\n    ArrayList<String> words = new ArrayList<>();\n    int acc=0, nacc=0;\n\n    System.out.println(t_acc+t_nacc);\n\n    while (nacc < t_nacc) // generujemy nieakceptujące i akceptujące jak się zdarzą to też\n    {\n      String word = generatRandomWord(letters, len_min, len_max);\n      if (!CYK.check(G, word))\n      {\n        nacc++;\n        words.add(word);\n      }\n      else if (acc < t_acc)\n      {\n        acc++;\n        words.add(word);\n      }\n    }\n\n    while (acc < t_acc) // dopełniamy akceptującymi - bo potrafimy\n    {\n      String word = generateAcceptingWord(G, terminal_prob, terminal_delta, G.start_symbol);\n      if (!words.contains(word) && word.length() < 100) // SIZE CHECK (!)\n      {\n        words.add(word);\n        acc++;\n        //System.err.println(acc+\"/\"+t_acc);\n      }\n    }\n\n    for (int q=0; q< words.size(); q++) // Shuffle\n    {\n      int i = RNG.nextInt(words.size());\n      int j = RNG.nextInt(words.size());\n      String tmp = words.get(i);\n      words.set(i, words.get(j));\n      words.set(j, tmp);\n    }\n\n    for (String w : words)\n    {\n      System.out.println(w);\n      //System.err.println(w);\n    }\n\n  }\n\n  public static String GenerateGrammarMain(int n_term, int n_nterm, int prods)\n  {\n    StringBuilder sb = new StringBuilder();\n    sb.append(prods).append(\"\\n\");\n    Character[] terminals = new Character[n_term];\n\n    for (int i=0; i<n_term; i++)\n      terminals[i] = (char)(97+i);\n\n\n    Character[] nonterminals = new Character[n_nterm];\n    ArrayList<Character> unused = new ArrayList<>();\n    for (int i=0; i<n_nterm; i++)\n    {\n      nonterminals[i] = (char) (65 + i);\n      unused.add(nonterminals[i]);\n    }\n\n\n    Character start = nonterminals[RNG.nextInt(nonterminals.length)];\n    sb.append(start).append(\"\\n\");\n\n    for (Character c : terminals)\n    {\n      Character s = nonterminals[RNG.nextInt(nonterminals.length)];\n      if (unused.contains(s))\n        unused.remove(s);\n      sb.append(s).append(\" -> \").append(c).append(\"\\n\");\n    }\n\n    for (int i=0; i<prods-n_term; i++)\n    {\n      Character h = nonterminals[RNG.nextInt(nonterminals.length)];\n      if (unused.size()>0)\n      {\n        //System.err.print(\"x\\n\");\n        h = unused.get(RNG.nextInt(unused.size()));\n        unused.remove(h);\n      }\n      Character l = nonterminals[RNG.nextInt(nonterminals.length)];\n      Character r = nonterminals[RNG.nextInt(nonterminals.length)];\n      sb.append(h).append(\" -> \").append(l).append(r).append(\"\\n\");\n\n    }\n\n    System.out.print(sb);\n    return sb.toString();\n  }\n\n\n  public static void CodingameSolutionMain()\n  {\n    Scanner in = new Scanner(System.in);\n    Grammar G = readGrammar(in);\n\n    System.err.println(G.generateParsable());\n\n    int T = in.nextInt();\n    for (int i = 0; i < T; i++)\n    {\n      String WORD = in.next();\n      boolean t = CYK.check(G, WORD);\n      System.err.print(\"> \"+(i+1)+\"/\"+T+\"->\"+t+\"\\n\");\n      System.out.println(t);\n    }\n  }\n\n\n\n  public static void main(String args[])\n  {\n    CodingameSolutionMain();\n\n    //String grammar = GenerateGrammarMain(24, 14, 80);\n\n    //Scanner scanner = new Scanner(grammar);\n    //Scanner scanner = new Scanner(System.in);\n\n\n    //GenerateTestsMain(20, 20, 50, 99, 0.0, 0.05, scanner);\n\n\n    // Test3: GenerateGrammarMain(5, 6, 20); GenerateTestsMain(30, 30, 20, 30, 0.2, 0.0, scanner);\n    // Val3 : GenerateGrammarMain(5, 6, 21); GenerateTestsMain(30, 30, 20, 30, 0.2, 0.0, scanner);\n    // Test4: GenerateGrammarMain(15, 12, 50); GenerateTestsMain(40, 40, 40, 70, 0.0, 0.1, scanner);\n    // Val4 : GenerateGrammarMain(16, 12, 52); GenerateTestsMain(40, 40, 40, 70, 0.0, 0.1, scanner);\n    // Test5/Val5: GenerateGrammarMain(20, 24, 70); GenerateTestsMain(20, 20, 50, 99, 0.0, 0.05, scanner);\n    // Test6/Val6: GenerateGrammarMain(24, 14, 80); GenerateTestsMain(30, 30, 60, 99, 0.0, 0.05, scanner);\n  }\n}",
      "statement": "Difficulty: Hard\nTopic: Context-free grammars, CYK algorithm, dynamic programming\n\nGiven the context-free grammar and a set of words, your task is to decide which words belong to the language defined by that grammar.\n\nThe grammar is presented in Chomsky normal form, without epsilon-rules. Non-terminal symbols are always uppercase letters, terminal symbols are always lowercase letters.",
      "testCases": [
        {
          "title": "Well-formed brackets",
          "isTest": true,
          "testIn": "6\nS\nS -> SS\nS -> OT\nT -> SC\nS -> OC\nO -> a\nC -> b\n10\nab\nba\nabba\nababab\naaabbb\nabaabb\na\naaabababbb\naababababbb\naaabababbabb",
          "testOut": "true\nfalse\nfalse\ntrue\ntrue\ntrue\nfalse\ntrue\nfalse\ntrue",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Well-formed 2 types of brackets",
          "isTest": false,
          "testIn": "11\nS\nS -> SS\nS -> OT\nT -> SC\nS -> OC\nO -> a\nC -> b\nS -> XY\nY -> SZ\nS -> XZ\nX -> x\nZ -> z\n10\nxz\nza\nabxz\nabxzxz\naxabzb\nabaxzb\nz\naxabxzabzb\nxxbazababzb\nxaxzabxzbabz",
          "testOut": "true\nfalse\ntrue\ntrue\ntrue\ntrue\nfalse\ntrue\nfalse\ntrue",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Well-formed brackets - ambiguous",
          "isTest": true,
          "testIn": "15\nS\nS -> SS\nX -> XS\nX -> SY\nS -> OT\nY -> OT\nT -> SC\nT -> YC\nS -> OC\nS -> OD\nX -> OE\nO -> a\nQ -> a\nC -> b\nD -> b\nE -> b\n10\nab\nba\nabba\nababab\naaabbb\nabaabb\na\naaabababbb\naababababbb\naaabababbabb",
          "testOut": "true\nfalse\nfalse\ntrue\ntrue\ntrue\nfalse\ntrue\nfalse\ntrue",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Well-formed 2 types of brackets - ambiguous",
          "isTest": false,
          "testIn": "22\nS\nS -> SS\nW -> WS\nW -> SY\nS -> OT\nY -> OT\nT -> SC\nT -> YC\nS -> OC\nS -> OD\nW -> OE\nO -> a\nQ -> a\nC -> b\nD -> b\nE -> b\nS -> XY\nY -> SZ\nS -> XZ\nW -> XR\nX -> x\nZ -> z\nR -> z\n10\nxz\nza\nabxz\nabxzxz\naxabzb\nabaxzb\nz\naxabxzabzb\nxxbazababzb\nxaxzabxzbabz",
          "testOut": "true\nfalse\ntrue\ntrue\ntrue\ntrue\nfalse\ntrue\nfalse\ntrue",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Small grammar, many short tests",
          "isTest": true,
          "testIn": "20\nB\nF -> a\nF -> b\nC -> c\nF -> d\nF -> e\nA -> DF\nE -> BE\nD -> BD\nB -> EF\nD -> CF\nB -> CE\nA -> EA\nD -> CC\nE -> EF\nA -> EA\nC -> FE\nF -> BF\nE -> FD\nB -> CA\nE -> EE\n60\neeeccbcecabecbccacaacaceacda\nccacdddbaecbedeaaecdc\neabdcbbeaaddddadbddbaad\ndccddadddcacddbdaebc\neddddaaeeabdeeabdbeebcae\naaceacaceaacdbaacaacedbdccecc\naacbadcdbebabbecdebdd\naeabeeccdcedceccdedaaebbdbb\nbebcbebeaccbdedecacee\nabdabcaabbbdeadbbeeaeacdade\ncbbaddcabcbbeeedeabacddad\naeebcdadedaebdebebbaaeaeb\nbcaaaaccddcdaadaecabec\nedbcbdddcacebcaeeddd\ndcdebbeeccbebbdbadccdbbddabb\nbbbbababdadbddbbdbdbdddde\nbdebbbaeabddceeddecaac\nbbdbdecacdceebeadbbeb\naaacbbecedbdeebccbcbcebbae\nbebdedbaaaaedeabadeddace\nbebededaaabecedccbdc\ncecdbececdcdeddbeceeaeaae\neaadcdcaaaecddcbaaacedc\nacbadbbaabeaeccdcaedaba\nbaacedeededaccacecccebaaeaebbc\ndbebebbbbebebbeebaedcdd\naddcccacdbacdabcbbdbeaaec\nbbbbeedcbcbdacdaacdbdbdbbdedec\nebaeceeeadbbbadedaac\ncbdaeaadaeaaddddaecaaee\ndeddbbbcbbcdbeecdebdbc\necdceaebcaeaccbceeaceead\nddeeabeeaabeebeeceacbeb\nedbeddcabececbdaecabaad\neacbecbccacaedabadcbebebab\nadbcdcdcaacedbbceeda\ndcbababebaeeeaccdedcaaaeeab\nbbbbdeadabaaaaebabad\necbaecdcbbeeeceabbcb\nccebdbddcdcbaecaddbeceddcbecc\nbadaabcaeeaeadbababbda\nbaabedaebdeaabeecccb\nacaccbecceeddbbbbdbdeccacebbba\nedecedcecabcbdcabddbedbdac\nabbcaaeaabeebcbdecedcabac\naaecdbabbdebddabbeedc\nadeadacebeccebebedeaacd\nacebcebacedcaaccaedbec\neabeccbeaececdbbccadbccd\nbabeceeabcabcebbbcbaebeeaddbb\nbaeabddbbeabacabbcaa\nbaabbaeceadbddabdbdaedcc\nabddcbadaecdcadccbccdaadeeabc\nccddeadadeeaedadeeacdd\nacdcbebdaebeaabcbbdc\ncdcccdcaaeeaeaaadabeeaac\nedaddabddbaebacecedeec\ndedaeacddecacceaceeecebdcccda\nbadeededeaeacecbcddebcaeddc\neacbeccaddaedaaeabdaa",
          "testOut": "true\ntrue\nfalse\nfalse\nfalse\ntrue\ntrue\ntrue\ntrue\ntrue\ntrue\nfalse\ntrue\ntrue\ntrue\nfalse\nfalse\ntrue\ntrue\nfalse\nfalse\ntrue\ntrue\ntrue\nfalse\nfalse\nfalse\nfalse\nfalse\nfalse\nfalse\ntrue\nfalse\ntrue\ntrue\ntrue\ntrue\nfalse\ntrue\ntrue\nfalse\nfalse\ntrue\nfalse\nfalse\nfalse\ntrue\nfalse\ntrue\ntrue\nfalse\nfalse\ntrue\nfalse\nfalse\nfalse\nfalse\ntrue\nfalse\ntrue",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Small grammar, many short tests II",
          "isTest": false,
          "testIn": "21\nC\nE -> a\nA -> b\nE -> c\nF -> d\nB -> e\nD -> DD\nC -> EE\nC -> AA\nA -> BC\nA -> EA\nC -> FB\nD -> AE\nE -> AF\nB -> FA\nE -> BB\nD -> CC\nB -> CA\nD -> FF\nB -> FF\nA -> EF\nB -> AF\n60\ncdecabbeccdcbbeddbbbbceed\nacbabecdeeddecbaaacc\nabeaceebcecbdcadaecbaeeae\ndbeecbccbdcaeacabdadeebbabb\nbeacbddaeeddccaaebbd\nacbbeaeecccbbececbacbaccac\necdabcecbbdaceeebbdabdbdddc\ndbaebbbbdbddbdeadacbebccd\necbaacddbbebcbeebeaabcadec\nebcbdaaeaebcbeeadbcbecebeaea\ncebecdceabccedcceabccdbedaec\nedeaeeaaabdddabeedad\nddcabcdcbdaaaebaaaedccde\nadddecabeddbcabacabbab\ncbedceacbdcdecadebddcee\ncbaccecdeeabbedbecba\ndecabbeeedddeaedbebcadaedaeae\ndcbdedcdeecdbbaabdaadabddb\ndeacdbccabeabdabbbabdbad\ncebcecbddceaabddcbecebececeac\nbbabcaadaabdeeeeccaeaaabe\nbccaaaebcbeecbeaeaaaedd\nadbbddaaedcdccdbecdad\nceaaabbcbecdcedbdccebdbdba\neaebaebedabbcdcabcdc\nbbcbcdadcbbebbdebabdbcbae\ndedbebdbbabcbbcbdbaecabbebc\nccbcdababbeabedcbebcbbadbdc\ncaceaeeeeaaeebaebcbece\ncceceadcadcddaebaadcebeabeec\naededeadaaebecaaceaebcec\ncddaacecdabdbaabcdbbddbeceeb\ndbadbdbbbdceceaebbebdecee\neaaddaeaebaeacbacdabce\naabbbcaecdbccacebbbecedebc\nbdcbddbcabbcaaddccdcbdbc\nccadeacdeeddaaadbeadeabcb\nbceaceeaaccecbedcacab\ncbdedeabcaeedaaaebeda\naacaedebdbecbdbeadcdccb\nbcbaaabebcccabadcadaceaeaebcae\nbeeadadecaebabaaecdbad\needeeecedbbbbedcaecbeeae\necdcbceaeecdaeaddbaeecdab\ndbcbdbeaaddbccccdeebddeaace\ncecebaecbededebccaeec\nbcdcadbeaadcbdcacbddabdd\ndbebcebeddcbcdbacaaaebaa\nccaebeabeccacaebecba\nbedddddccdcdeccbdcaeacdded\ndcebaeddcbceacdddcabaaacebedab\ncceeeacbaececceadcbbb\ndceaecdcedadcdebeccaee\naabbcacceecebcdeaacedbc\nbedceddadeaedccaadbceea\ncaececcaeeeebbdaebcec\naadeadaecdadbdacaceb\nebaaccdaeecbbeadccebc\nddacdbedeedaccabceadbda\nbaadebadbbacdbedadbdade",
          "testOut": "true\nfalse\nfalse\ntrue\ntrue\nfalse\ntrue\ntrue\ntrue\nfalse\nfalse\ntrue\nfalse\ntrue\ntrue\nfalse\nfalse\ntrue\ntrue\nfalse\ntrue\nfalse\ntrue\ntrue\ntrue\nfalse\ntrue\ntrue\nfalse\nfalse\nfalse\ntrue\nfalse\nfalse\ntrue\ntrue\ntrue\nfalse\nfalse\ntrue\nfalse\ntrue\nfalse\ntrue\ntrue\nfalse\ntrue\nfalse\nfalse\ntrue\ntrue\nfalse\nfalse\nfalse\nfalse\nfalse\nfalse\nfalse\ntrue\ntrue",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Large grammar, many medium tests",
          "isTest": true,
          "testIn": "50\nL\nJ -> a\nJ -> b\nI -> c\nG -> d\nH -> e\nD -> f\nH -> g\nG -> h\nB -> i\nB -> j\nK -> k\nL -> l\nA -> m\nF -> n\nG -> o\nE -> BA\nC -> AG\nI -> FD\nK -> GJ\nB -> KD\nI -> BE\nJ -> KH\nC -> DB\nC -> CF\nD -> JA\nA -> DL\nB -> JH\nG -> HF\nC -> JH\nF -> GK\nL -> DF\nE -> CB\nA -> ID\nB -> JH\nK -> KC\nE -> JH\nL -> AB\nG -> IA\nB -> BB\nK -> KF\nA -> BC\nK -> BH\nG -> EF\nI -> CH\nA -> BE\nD -> AL\nK -> AE\nL -> JE\nD -> LH\nD -> GD\n80\nfboimhogffkcocclejjmhhkcjchmjioigfbgkojklcbjglbobgaefijejieecaamgc\nkbgcfhinofkgekaefoadf\nenajibeebbgigehmbgmfjnjfmigamimgemmdefkeekeeaejkfifmnk\nheihalfnlklecefffjjohgnfmacgkgnblkggmcfabkibmaaljicidghggjinfa\nikgjcfonagmignmogaeefmjimfg\nammgdlbdgdkbghnahhmfhjncgamchnfifghmgdneljhdadd\ngdfedkbnbfabegcdjbdjeloegnaicenmegnndheg\nkddnjmliciaoejigmigloghaghijnkkjajjfeedjnfhkdfd\nifgeghcjhbbomhgcmcngdjbbiajbbabaagebjdonlhhmalhaejommnncakagagjkgdg\ndkgbmkggjkggbemogkgimgokifjhnbgfaej\nkeeemkngebgjebjkggkkggnfm\ngfnmlnhfkfjkdledmoecfoidhkoambkhfmdcfhjddnagfledbconkbcmnjog\ngkkekfnaldgbkjilghkhjghfhieinobfiakkcald\ncmkecflamlbeieokejagndfkgnhfmlmbemimgeekgem\nkkhamdamgoiheibilhencgnncmmjhjokgmoddhjh\ndfdjjagaee\nobnfdbmdiomojmbklahbbkonhkgoichmbhgifjfako\njaagkanlebkbgiadlonbibglckkdnbnfnhdiaebbjdnfggbadfidbhoaomhhdbigfjlo\nkgcmmdnjnjmnfamenjikeekfaglekmhkfhkmagkeekegdkflkgfjkf\nceockboiofbifnifbobkhemmijgijkflafemfdmm\ndbldamedmceblljhbnekoheljmgkjcdofoefaheodhjghlngmkmcahofof\njhgbdhjmoddjlomfgeecnjdandcklhimkbkjgiegdjlkljmmdleob\niegkfkfnleaeknfkgg\nkcjdbakohjkkaalbhncaoobojconmgmihbikmionajjohnoildbjfonoolm\nflkegdkngdhkfmflehknlgfkkgeejcfobge\nmohgiaonaikccclkicognbmaffjkkgkhfgmhkcgkmmodfloaoloinolojjodjlka\ndceheidjjabiodocejlajmiafafoaecdjlibmhfbnbbgamjfnafeaofelgnmlkgmgfm\njkeeeggaeokeegehf\nbaajlgibklhhkjkggeiklinljcabkgjaokchiijdejabc\nmij\nkgmjeknegnjjege\nlojijdhaklblmeneologogkocmajmhmeefffmjkdjdnahjalcocomhkikdkcc\njjjeajiiikiiecicnffniilfnleegiglfmckbnfgdhfdedbd\nokgmhnjnkgffaehkcjaennicflekfggg\nhgblngbfenhhhlakjmghddmgbkjojbjfonfldeeklcdobbdn\ncnihgdncgnmnaejofkhakmhdigdadiknknnldkmcojmljoldohkbjhij\nkegnkggomjifigaikeemem\nkejkeem\nehemdcmfefcngkbkmfbnhbmfammiigflblnmnliecnkjndmklijdnfefbankmajlngi\nnaifjnfkggngmlfkegjefbgokk\nmogndaejmhkagokenffjnkgg\nmogmamhilennfjflbeggmkggigggicfdnikbgee\ndknmmjmmjkdknkgm\ncfbgfagijagikgeijiclgaejgnmimaedbnge\noogjadaaaaflidhjbfombafgkblfcjacnkkkkabnjomlmlmjhc\nhjblbeaglaledbnlfaolodnabjabnebiabiceabcfdlaohgjankgfdg\nfcibmimkgejmd\nmjcaljcgjdgjmodndgohncigjcaimkhbheioemfkifdgdcijnffojikinlogdch\nechckoobknomlhacomifmfblekcnchnlddlhcmgkhimga\nkdacoaklgmgnjdicibkbijfhlhhoenelkohagbknhbohhecadlcgkhddofjodekedin\nffccmeaogcccfgckejmhfnfcafmajfhmliiifooofdghjdkcckjoecdaiocff\nkgkeg\niehfjnembgieegeg\nkamegkggkaehkfclekggfnegg\nkcfhgkjhaekdajebdacecdeoeneiknjfghhhggikfbjolkomkffilmc\nhcielhdedlcgbflekldkmeldgdcdejkddeljmkibcikilddbmoa\nmfbbofllfdciimgkfgmibaglagfbigfgdeddibbehlbnc\nignhkebegfiieefmign\nkhkfinagokklemaehcfjmfkeghoklejemkegmggiggg\nefekbljonmnoafdbnmlehakcehehldjkadnojgdlnbnmjmjhofledkcggfhajmadkga\nckefkggiekge\naecikcmcbjklfbdhlnldajhoajcjjohloejmjnfgiba\nffdkflfjjndknij\nilingjjkkannkhmbblgndfafnonmjglahhdignigkbbnhiecbmbielbbi\nehkkggbggge\nbhaebgkeeekeoigfjiifkgeaebikfkgg\nhkdffojeeojfagjjekge\naffdklaaeningibemdke\nejcjbijaoemjidlmjalnfabdhdkfhamnnfidnlnagemegbkmhfkgcbhbedgljjlbfflhbh\nkeegemljnfjfijkkfjmdijihf\nojldhnnndifckgnfbdaibecniggnmgghcgenlblcfhgalkdkihaklbbkobiojnmakokhcl\nbnfllfcmj\nkokaebenemmjmggbeembefkngmdjm\nkgenkegeeohkgoign\neaenkdbfmaglmaoalinjheblonlfinhgiflclaodjihibbkhmbhgbgkgk\nabgoknjjgcmkhk\nkgkhkfikfhaamkemjaebgiimdghkkmhokigmfidkngm\njlgjijjijggjbeni\nfdcmhmblcnmfinellgcjifdolaoiceaejmedjljbebeci\nkcedfleanmmgioonbbfieihkigoodjeecjlachjhnohjii",
          "testOut": "false\ntrue\ntrue\nfalse\ntrue\nfalse\nfalse\nfalse\nfalse\ntrue\ntrue\nfalse\nfalse\ntrue\nfalse\ntrue\nfalse\nfalse\ntrue\nfalse\nfalse\nfalse\ntrue\nfalse\ntrue\nfalse\nfalse\ntrue\nfalse\ntrue\ntrue\nfalse\nfalse\ntrue\nfalse\nfalse\ntrue\ntrue\nfalse\ntrue\ntrue\ntrue\ntrue\ntrue\nfalse\nfalse\ntrue\nfalse\nfalse\nfalse\nfalse\ntrue\ntrue\ntrue\nfalse\nfalse\nfalse\ntrue\ntrue\nfalse\ntrue\nfalse\ntrue\nfalse\ntrue\ntrue\ntrue\ntrue\nfalse\ntrue\nfalse\ntrue\ntrue\ntrue\nfalse\ntrue\ntrue\ntrue\nfalse\nfalse",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Large grammar, many medium tests II",
          "isTest": false,
          "testIn": "52\nH\nJ -> a\nI -> b\nF -> c\nF -> d\nE -> e\nF -> f\nL -> g\nK -> h\nD -> i\nJ -> j\nB -> k\nE -> l\nI -> m\nF -> n\nE -> o\nG -> p\nC -> GD\nH -> DA\nA -> FD\nA -> LB\nH -> FK\nB -> BA\nB -> LI\nA -> KA\nF -> HG\nH -> FK\nH -> FF\nF -> KA\nJ -> BG\nI -> JL\nB -> KI\nJ -> DB\nK -> JI\nD -> BK\nK -> AA\nE -> FH\nF -> AI\nC -> FE\nF -> AD\nB -> FG\nC -> KG\nK -> DK\nF -> AL\nL -> EI\nB -> KJ\nJ -> EH\nB -> II\nI -> BA\nI -> CD\nK -> JB\nF -> LK\nK -> KF\n80\nmkgnkgnnlfgdennpnndbkfdeohbefjllhjjakkgaggn\njbkpnbeibjmkinpeekobpbdmidfikbeegagchihjaolpgpgabm\nfffaganpkhojghlmkemfgkmlkhmhhhgkighmgih\nfihigkpidedhkpbknkhphjljgihgkdkcidi\nblkaaknlnlaehgiegmckcgjlfflaikjjphchdgfhimegaeegndjhp\nhikpknicgihiikdihgkbmmgbmmekhcikhhdihcnpkhfihjhdikhpfdfmbhemkk\nfffmkkhkihfkb\niijcppcciglnhpbjbkcajompepghicojfpdccinfinggnnddfndgfbleh\nkhkafncbikkhhgkbdkhfcdgkgchgkphahhhnihpinjbpfmhaomgblbklihdih\nchcdpkomconfdjlolakfpmndlphfaddlpgkppfodngcckgdiompnjkgfaddfcl\nnidpannfkibcijoclmoehmpjlncabdkmagfcmngphehnlnmcpokl\njieickgedkdmbcmjilejokbfngajecpmofjemlbmlchkaiokipfiojgoddkomachph\nhhhdaijndfpeldfjfncfcnhjdpadmcmdmmjacclbekekebfia\njhghfafbimbcpnligmkfodhcajhpffnlkbfdcplmeglb\nnicimagamgkcfdbkghmdfpikajggmm\nkhihhpkhaoblmgmikghanihgmmbkjkckhikfigknkhpk\nhkppbgkjmnigchhcideiffpghpkhicipgkepiiphanfhcigckhgjkigkhgknkjmicipnkhhmfp\nfkhikkgkkpmpijjggjemhphgkgcpimmghhmlfhkhhlmk\npgebkdkmjpeilboiccdiciglmoaamamemniihnnehggnefmnhfmpjabceolhfmeg\nkmhddejemplhlbmfecopepidlpgjjnkljngkllbgdjgikfdnlagknecbincfhaoihfdifb\nklojhbbljlganbdppbmobbmikbogijhalclhgjgmdfjjnlilok\ngmmmdolmolpngddbekkeckcdnakgodhfhapbnpllbpgenhgpkfeo\nclmmhgdemdgjgnchcjhajmondchfkbpfajnmpgncjme\nkjebpiiihgkhihobmb\noihcpijmkdikiicigkf\nkjobmhciihgkbkgpiimkhhhnkjkgkgkiigphhgkgfphcicibdfjdicimficidlikhgkgkpip\nfoepfnkghonefdafjhfnfdjjgaejkdoepjemndbdbl\ncbmhnifnkffhhkhhcifiaobbkhmpkeaghhgkhfihhgkmkhcigig\ngblfdjcdfmgokpbkjeemopcedobdbgcfpibaimbfmdjhokfgf\nolddjdcmhipeojofbpoppimgbjeokhhibldhakgicmchfcbhmdccjapjlofpiagl\nlibmajncdkimdcblmbhmmdhkgolmbiafkabcioklknefmekopkjfdeigfaahmieopfjoc\nfohpgkiphhjkhhpiikhhhdibfppg\nbbbeaaadhnfkaljkocaicopkhifpnmkaamcjjfmfkeglmfma\noobpdefnmhhnfpdcafdaghlhbghifekcaaiahmifnccaglehlflglompelfjcd\nhpinckhdikamikpkhkhobjjglhhcimigkbihikk\ncblkpllmfgaglfhfnkgmokjemolpaebakjpcmmgdead\nagaginfppfgkghfiglcphhomdicihniphbfpm\ngihgabgkidciciebhdokgkmkgkgkgk\nnkhfininihpihakpjggkdkhggmihpimhkikkhomajgikhjhcigpikhgkkhhhcii\nbaghgkhcihgkhgkdjknifchkhhgkhhhnihdimmniebhdhkhomkkhhbabb\nojcfjfhdikopbeknndldphjilnaacfcmheldkmoaepppbjbkdll\noipohcmfdpohgmgibloemfmhfoemiocjdolboeedagejkbh\nkamgkhdikhkmlkfiklkhhhfijmihniiiddaghndkkpkkh\nmmmhcnfbkgkdigkdphfihfidikhebkagmfipiiphfpdphihhgkgkclmiihpkhidphgkip\ndojccokbmkmbfdmlnhiipnopbdekebcjmiamlhgbainhohpgeljnkfblikllof\noaomkbnhihnipnihdipknkhblbkjbdibicicihmdgkpikakhdikhkpdphdkpmahhfigkp\nigkiiph\nikkppiihmhihcgk\nmicbikmpafdcdcbkimngolpgkiemgnbplgeebmobnbnnhpbdjglnne\ndihndibip\nhhjhgnicichmbjgpiidnphdidihgkhgkihihhghncbjgpii\nlpigmihghjpebpnphchpipgpii\nckhfihgkmhaakbeknimmhdkhcffidihacihhgkmkkhiakjchhdiidjkcph\nilmkhhgkomdeijmjhpkhlahdiidhbhbnnghhpinfpijkfiiamjfncikcchcei\nficapaahhidijbaaphpcamhilccnggkmgpmehgpbbnfkleklilgpfhfjlimcfkonfhp\nodiapolohohhhinbopekbaaeldfccpkaniakjfnknocgelghpfoipedbo\nkbkfdohmgiiobnhbapjdilnlipidomdldgfbkckebkfabchjhogmpmcjkddpoidlchbpf\nafnhoknlbioeoldppfhjphhmcloejfjeklpddcddhdooocjepppmpcmdaojfgdfj\nkhdkkpmmigghpihphkphk\nlmfmbdafbklbmahfpcebheafpolbhbgclponbgieihmblgfec\ngknkhihnkhiichoigkhbhjihhfipdhbk\nfkiomekljhfdnjfghdjhafghknhjmlefcdnfmiclhl\nfhlhmgkdpopiikhckhenffhkhkhkhci\naionfpijafiddfneaimdleeknacchhpmimnggiabpnaaihcfhalnji\ngakgkdphdippikhbbhdfakomk\nlhimffefipokmpecbdifaaoinnieeplnlaccakpmhnpknadfaanekcalfd\nhjbjkhkfmfelfiemabadkbhnejiecfmfmleklhlpdkdljgdijhbgjelnbnnbml\njkcddecfkfgkdihhgkbhgkhhcjbppi\nffeppehdeknkkanedpcggebhkopbgkognhhbjnnjlkk\nhihadihjghkhhnigibnemhjkiobhfimnbhpiphanimkpmdi\nkhgmkhejgkhhnhnikhicibkkpfekabhkgkhmhhhgkgkgkbhhgkh\npkfepbgfoghenceiaahemklcdhclnabafbkhepfpdpdccfoppihdfobji\ndphkgklkgknifhdibegkkhnkgkgkomkkhkhodhfghdinpkhijlhpkjbfokhcihgkchbchegkmhebk\niefhlfnljpcpagdmbbhioimjagnefplbocdlonllfbeohnibedmpebhgpomeagakabopbb\nkihkhkhhjaomdilmkhhigkcijegbhccicpihnkhhgk\nodhlnlmglgknigllgkdfmoioalbbeifefhcameakiophblglpjfjoegphhgpnhbckc\nfpfppbdheikgfdhmhbhghkhkfi\nkpgbgkbampibikmigakkfihp\nipmicfmhpigjngfaileekfbldikkmhnbfpkbiikhlfhmhdlepnffinnbjbjnphbplekpje\nlhgopokfbehnaoljgekinkllfaelacnidpidojjoikpmlncpbpjjg",
          "testOut": "false\nfalse\ntrue\ntrue\nfalse\ntrue\ntrue\nfalse\ntrue\nfalse\nfalse\nfalse\nfalse\nfalse\ntrue\ntrue\ntrue\ntrue\nfalse\nfalse\nfalse\nfalse\nfalse\ntrue\ntrue\ntrue\nfalse\ntrue\nfalse\nfalse\nfalse\ntrue\nfalse\nfalse\ntrue\nfalse\ntrue\ntrue\ntrue\ntrue\nfalse\nfalse\ntrue\ntrue\nfalse\ntrue\ntrue\ntrue\nfalse\ntrue\ntrue\ntrue\ntrue\ntrue\nfalse\nfalse\nfalse\nfalse\ntrue\nfalse\ntrue\nfalse\ntrue\nfalse\ntrue\nfalse\nfalse\ntrue\nfalse\ntrue\ntrue\nfalse\ntrue\nfalse\ntrue\nfalse\ntrue\ntrue\nfalse\nfalse",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Large grammar, medium number of large tests",
          "isTest": true,
          "testIn": "70\nX\nL -> a\nW -> b\nU -> c\nB -> d\nD -> e\nQ -> f\nE -> g\nT -> h\nB -> i\nJ -> j\nV -> k\nS -> l\nC -> m\nJ -> n\nR -> o\nN -> p\nN -> q\nO -> r\nJ -> s\nJ -> t\nK -> HV\nA -> HA\nM -> CN\nG -> GQ\nH -> NL\nP -> PC\nX -> XV\nF -> AL\nI -> KS\nM -> WV\nV -> VV\nI -> PS\nV -> HU\nF -> NP\nH -> NW\nG -> OB\nJ -> UC\nB -> JI\nC -> JT\nB -> GD\nK -> CB\nA -> PQ\nA -> TF\nT -> QR\nC -> WE\nA -> SN\nD -> TW\nL -> QQ\nS -> VL\nH -> UP\nN -> HX\nI -> BG\nP -> EF\nE -> IG\nQ -> NX\nI -> VR\nK -> BW\nC -> LB\nE -> SP\nM -> CW\nV -> AC\nK -> SN\nP -> SS\nB -> ST\nJ -> NA\nU -> XX\nX -> MR\nU -> BB\nU -> KC\nC -> NH\n40\ngisojlafbdssgngdscmcfjqsaornbmetendqnkfbccersqdlqmkbtqitietkqqkrdoqjilbjjepeibtljgoqqhlseodibeja\ntpffknhllmmqobbkobcafoqakbgaddrikkakkabkcgpgpahpgqllmmackkpbcokmboobo\nbkorqgpgqgllfacllmmqbbkookqbmbokpapagcgqllhglqafaafmkacmpollqbkkkkffkffqmqomabokk\nnqabgqobkoobo\nlfcekflccricsgdjoqifjabpadrncdfmtennibkhmbmofjhldkijoqngqfhkeqdssbtfmparsjjbeomcidmbhllqmhk\nriidgqsjqkqblrprhfgadbfjkseqejsmhiknjbmlnkndjjkdkdofhqrbfimqajdrm\njpffbkokpbkokkkkcllhhqgpllabgkocllbkocgglqafackkalmmpoobo\nkafqraaihbhbgqsneejjlgjommsfqdiqimaltpllgqtceejnhqgeprbkghdnctdjarbogekommfmocfnksamnpmfnba\nbkcmpmbokordfemllsjhimllmbombokojhpobgpopamqoaqqaqabkoomboglqbbqblpmoabo\nmqo\nbgqo\nmqqbkopbqfffolcgqllmmqokatqbkoopffcfmbobbkkkoo\nsmjcnsgfpcfqptkiisbjmlhhiqcirrdpqtdonahfftfsprrothfgtmglkadabhhbapdbpekc\nppbbkkopacqfqampokkkkkmbokllqbpahllmmfamonpmbookfcgpbmbolgfoqllahllfaammbompoaiqoabo\nmcpkkhiibqgisjpnnsppqeamdokcoanskeaofjspfnoojehtblkb\necffambjqplglkjlgnteppjpfliilrgrafcqmfsftnnlrjncpcrdrbjfr\nggortegoqgfqfnsjepesjaqpnooolsnbekhshmakanibctbgmqmdnjpbmaeoldrsagompdnchqfsprprnmamrltfbbslkgchlke\ndgfplpkhfphafodkpipopbrcdeafrjrkbgnfkbsrqqqqrsaenohhqgktedhlfdmcmaqjd\nqjrmbbbspjnkrfarediflmhddtqjjnqrkholshtdiocqrdmcqbhshhpmjbooamjmjhaqprnsaklcafgpmjd\nhdqglcbdhbkrmqjqhbiibcoblsmfbsrtmpamtpsmprnaqdsgktagrccbtjhpqbspmhisloon\nteookkenmfsbiclgsclpedrtkqnoiddihemsktfeppnihftctecosoktqnnbqjorcrrjpbatssomrkgcripdhmp\nmbo\nbpbdskkapamqokkkcgqabkokkkkkgllmfammbgbgpobkokkpbkofmbokkcgqllmmbofqabgpokmbokkkqamqokkkbckkcklo\njaadfstdlpcggghsdiapnhgrqtmjbrsrrqosrojabtifrnpghtrdmmcchjbmadjqheordessopcbdgp\njqbkkoobo\nbgbo\nmpocllqahllfamkmpoibcgpgqgqllmlpmffrdkaqffmmmkbkpbkoflkamfobo\nmqbbkqabkocglpaiipbckkffckkffpppbkobmqokkko\nmniaomqdtncroprmfesmqfsnmfsjjdmnrjlsmfideltjfbnohitpagrlgcgjhaigloiqlmh\nbkqbpqffboklpmbbcnllmlrdfrdlqabkkokkpbchlkapmboacmhkbcobco\ndmcjsqmdsrisknhnrlrhgqrqejtrdphichljqjhbjaegcrglbskkqgipjpqhhtipepolofgqbckoksacgrsahkknn\ntfobo\nbko\nbpbppbpokkkqbckkambobmbobfoqamcggllfafammbcglqacoobkffqabgkkmlhmgqakaqappbpbbkobbqbcoobbgqobco\nfedgngojabgegqmnkcpqrrigncrrmjimhkhgkppdoksgkddljmqqefcqfoienabkmhciipj\nnfdnrfjdgbhbjecsjobcqtfbonjabmpcafqnsqthqpmlmfmnnahlsallgeqgscesdomaeacedeksqidpgbkfdgtqf\njdldobkofthkjmscpnekrgrpfqtrjqddhsajlcdjmasbaccgtelhhqimlelmcrsspckngc\nbqfqbmpobkokkkkkkco\nghghadhbmkrrkggthafqsfcjdapmctajcdfdapjlendsgjikkepkcfpkftlpfcmifilhjegqmcghjossodpjsei\njssojcielofcdgdohfbskpcbcmkohjsnlfjetlcladdmaotgtqpjjkoegihtnffeljhiindlmtenhipnilommtektosfmsmhraq",
          "testOut": "false\ntrue\ntrue\ntrue\nfalse\nfalse\ntrue\nfalse\ntrue\ntrue\ntrue\ntrue\nfalse\ntrue\nfalse\nfalse\nfalse\nfalse\nfalse\nfalse\nfalse\ntrue\ntrue\nfalse\ntrue\ntrue\ntrue\ntrue\nfalse\ntrue\nfalse\ntrue\ntrue\ntrue\nfalse\nfalse\nfalse\ntrue\nfalse\nfalse",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Large grammar, medium number of large tests II",
          "isTest": false,
          "testIn": "72\nX\nL -> a\nW -> b\nU -> c\nB -> d\nD -> e\nQ -> f\nE -> g\nT -> h\nB -> i\nB -> d\nJ -> j\nV -> k\nS -> l\nC -> m\nJ -> n\nR -> o\nN -> p\nN -> q\nO -> r\nJ -> s\nJ -> t\nK -> HV\nA -> HA\nM -> CN\nG -> GQ\nH -> NL\nP -> PC\nX -> XV\nF -> AL\nI -> KS\nM -> WV\nV -> VV\nI -> PS\nV -> HU\nF -> NP\nH -> NW\nG -> OB\nJ -> UC\nB -> JI\nC -> JT\nB -> GD\nK -> CB\nA -> PQ\nA -> TF\nT -> QR\nC -> WE\nA -> SN\nD -> TW\nL -> QQ\nS -> VL\nH -> UP\nN -> HX\nI -> BG\nP -> EF\nX -> MR\nE -> IG\nQ -> NX\nI -> VR\nK -> BW\nC -> LB\nE -> SP\nM -> CW\nV -> AC\nK -> SN\nP -> SS\nB -> ST\nJ -> NA\nU -> XX\nX -> MR\nU -> BB\nU -> KC\nC -> NH\n40\nbkobcpbibmffllfoiomfobo\neemctplndlnggrslgcdsoqsblfmoacdtmhhidbnqaoetcbafnriniihacienochphiqnr\ndsoeceormqcakedmmchnmrrlpblcpmrosqregjnmflnddbcecnis\nmbnhodsitmggjiqgoqsisknfpsbijeernlngrsaqfcngcngbpkebhjilcokedopbdsrb\naibo\ncbghbo\nbqpmbopbgpokkgqllmfqclladboqbibmfqbmbombokkkgqggpllmfammfmpbcmhbokkqbcqacpmqofrrihbhbbmlpjpffibooo\nhnlnjnbbkhdmshkjsjkajcsthhrdpgtrirpajjrfspndhdsbltkbjhlglmdgnobcopteofnmddalonaicceqbpl\nhloaoebqgbpegbbjhiisqolqqkaetjnlbnrprdoanhisigetfilnssafrdfpclnoiltqtakppagicocbcdrbfrihtfra\nrencbcdgckqrpbddckfcgatpqdlmlaimbkfoijbsjgroafhfbaikdbmeaebhrtklqbpmqotbaqnhrbrkbnkefprsdfjqnmaadkd\nsleegntjmhhlnbfbocdphldpeidndojsjopjqearkbtpqgcbgler\nbgbo\ndcgqkqskbtpshsbiglipdhmoehoegdjomfijmljpjteothsepbndhrimdlqmjrdlhmmbptqidpqhthfenoninhhjgspdmhaie\nsljdckjlfebpnnfajltqmqchnmrgkcjospdnlroaehjiickdshalcittirkslbehmdphkdplmfilgeaiqiqflojfsg\nkqrqiiqmscchncghaiatdpgggcgmqbcldflqakmjqltbokgegnq\nrghqlrmrsakkdfnjfekcristqqpgcatjffocfcposilbifgrgr\nffrrdpbkokkkkqbmbokbkokkkkkkobpbbkokkkbkokqanhbobmbokkbkkkoqabkoshpbbkokkoobqo\nqmcaglesnkjfkallpjomqkkjtnopnqdpcpbqmnetththploemthrptrct\nbllkkqmbofpmabo\nmbo\ntfobo\nbqbcqacakffkbqbmbobkolpmobllcllmpokbmqombokqbcknhokbgfoo\nagpnqngcacnisjbitlclomilsnfnmsdrsaiokiqbijiheqrstflrnhiktebbmkepsgbcdmdhtjkohrqrnqrq\nmmbcstengsesanfrtbnlsrnsqkjagiaftmdepqrkeribhnpeemlhefbhadoecfshbelhp\nbcllmbokkcgpllmlpmkclgghllfaafapbqbcllmqbhghllfaafaabkobirifhblpsfolmbojpmbokopollmmbkoajlllbddko\nbqfpdbmmhpocok\nkfisbklodfljdsmtdaafrbshcatedicimnmdqkdmgcetjhefleaselbotahbhrlepamcikcdtgjfdkfiskmampstcgoiio\nbpaqabkohpkkfqmqolbgadbmkapmqbmqoqambokampokbcokobmo\nnqampoqmqokcglqamhpllbgcghpgqblqaappbdikpbmqombobgbobatmtcllklkardlqffkaboblkkakffpbadqoooqo\ncbrfbsmabdfnckmodfmitrfadnahmfiahlsecbdnorcqdtfspbssdbprfd\nkfflmffslenjbosnoerijecedesriacaljqnmdicflimhskdhrhabnhkhmchahcenidafedtbsigrshmdmqodbmmfhpbtoi\nbnhqokjfopbadbokolpffcabqqbmpokkkkkbkokkkkfbhpgqbmqoglpamobcoambomboko\nbko\nngpcnthrctjqkiibalklpppagrrodgqneglpdqbjosdjljlbgskebmgafcgnhqrqskomfjtgnhapecgmn\nbkqabkokamcggpllfamqokobmpoklpmkmqokkpakapmakaqmbomkgqbmbokkffllnhhlqafffpcgplkamqaidopbc\nofqkqepmnsgjadaqahhciisggeplcfdchqrscdpbsbrafqskrgnjrbtdt\nbpbbkocghlpaambobmlfombbkobckcgglpafakmllmbokpffcqbmpokkbqqbbokkbkokcllmcpmpbbpacooqbcbkoffcko\nmbok\namrdfqpmbofmqobqqapobkopbmbokbkqqalgqlllpacqbbkobbkokkkkkkaddobmbgkapabkocbilfokkalmkkartkofoobo\nlsgqekjemiibmljtkktkfdrscosqcbbpracongqspgnaeqlpqenigglpinppbrkdemsmhmsdsthtofsaldrlsb",
          "testOut": "true\nfalse\nfalse\nfalse\ntrue\ntrue\ntrue\nfalse\nfalse\nfalse\nfalse\ntrue\nfalse\nfalse\nfalse\nfalse\ntrue\nfalse\ntrue\ntrue\ntrue\ntrue\nfalse\nfalse\ntrue\ntrue\nfalse\ntrue\ntrue\nfalse\nfalse\ntrue\ntrue\nfalse\ntrue\nfalse\ntrue\ntrue\ntrue\nfalse",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Large grammar, small number of very large tests",
          "isTest": true,
          "testIn": "80\nN\nF -> a\nF -> b\nH -> c\nI -> d\nL -> e\nJ -> f\nB -> g\nE -> h\nI -> i\nL -> j\nN -> k\nH -> l\nB -> m\nD -> n\nD -> o\nF -> p\nI -> q\nM -> r\nN -> s\nE -> t\nB -> u\nJ -> v\nL -> w\nC -> x\nK -> GL\nA -> FN\nG -> CE\nG -> IC\nG -> FC\nJ -> LM\nF -> NE\nH -> KG\nH -> CN\nG -> EC\nJ -> GM\nK -> BJ\nM -> GA\nF -> DJ\nF -> BN\nI -> AJ\nN -> FC\nE -> LM\nJ -> GC\nM -> DC\nJ -> GL\nD -> CC\nD -> LF\nN -> EK\nG -> NN\nC -> JF\nF -> KN\nK -> CB\nH -> GG\nF -> CE\nJ -> IC\nG -> IN\nI -> FB\nL -> DF\nK -> NF\nF -> BK\nL -> NH\nJ -> HH\nE -> NC\nJ -> CE\nH -> MI\nE -> GG\nF -> JA\nF -> GC\nD -> DI\nD -> KD\nJ -> IC\nH -> GE\nB -> CL\nE -> GA\nB -> DB\nF -> FJ\nH -> DK\nH -> GG\nF -> EJ\nE -> FF\n8\nvpkvbxtaxextxgpnprxufvphvbpxtkbgtxkcsbkpaxevbekuqlpkvxasibrfbwixbmukxjkbssbvavbsgvlrbavhcl\nnabeswbqlhkbbumstasgueknfewusbuxmfgclopfvblfhqspwgrqkoujjumgmtbmqomstsmraatv\npixxgsaxbavohkpptuvkkpserxbxshvatxaxlcqkgfsrdavaktpxfagkwfxhikxxsfpebmdxhfbxpxb\nurmfpcxxislvmrcojnnclehehvjwnbhlxxgvavawddgebrawwiudbgrkwdxlkjonlqpjbxsdm\nquspgqmjqjmqvchmrpuljderhijnsoihgsmwtiboftjopboquefjetdiphxerblncranabwimavwosljwmkjqguntkwngigdh\ngpsrnkiohcspeqdkgwokcnlqwwdomtprejscanarbigqiaahoubautvbxslctqwkqittcdugkxlmsaksgqpiowooajgtcin\ntdheumccbjmewhhpxhdataoatrewsuogcxshiuplwxtxuieccgpltmasbqgbcwcu\npvscmkaaxoqkpkgtvbrxpxpvxscoxfjkaohoopgxgmxivpqxxpkejnxaxfnutmkixunufxbxxhaccbfpstx",
          "testOut": "true\nfalse\ntrue\nfalse\nfalse\nfalse\nfalse\ntrue",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Large grammar, small number of very large tests II",
          "isTest": false,
          "testIn": "80\nN\nF -> a\nF -> b\nH -> c\nI -> d\nL -> e\nJ -> f\nB -> g\nE -> h\nI -> i\nL -> j\nN -> k\nH -> l\nB -> m\nD -> n\nD -> o\nF -> p\nI -> q\nM -> r\nN -> s\nE -> t\nB -> u\nJ -> v\nL -> w\nC -> x\nK -> GL\nA -> FN\nG -> CE\nG -> IC\nG -> FC\nJ -> LM\nF -> NE\nH -> KG\nH -> CN\nG -> EC\nJ -> GM\nK -> BJ\nM -> GA\nF -> DJ\nF -> BN\nI -> AJ\nN -> FC\nE -> LM\nJ -> GC\nM -> DC\nJ -> GL\nD -> CC\nD -> LF\nN -> EK\nG -> NN\nC -> JF\nF -> KN\nK -> CB\nH -> GG\nF -> CE\nJ -> IC\nG -> IN\nI -> FB\nL -> DF\nK -> NF\nF -> BK\nL -> NH\nJ -> HH\nE -> NC\nJ -> CE\nH -> MI\nE -> GG\nF -> JA\nF -> GC\nD -> DI\nD -> KD\nJ -> IC\nH -> GE\nB -> CL\nE -> GA\nB -> DB\nF -> FJ\nH -> DK\nH -> GG\nF -> EJ\nE -> FF\n7\nqcjnpobsuvqtigulrgexfkecclwrkouhuuswwvxdoefmiwwbrfoftmaprgarshqukgggmntjepgbinwkhvxucit\nxktgswatxevxlcxxdxasfbblcufxtfpknixmubxtffenxxxomnuxxukfkvpkfpxihfxmkomfxxdngjkxhjx\nbfxuavumfswrxtenqvfbkxvpvvthfuqfbjgsx\npxsambmoisdrftokslahvxaswdrjwvbvgkgbehmrioemflxiecibkpxfbcrpefnw\ntppkixxkxxhxesxknxgfbsklcbccbxbhavavakxpxbkoxfpvoamxuaffpxhhkkaovxcxaxcrllbgvb\nbxffvkhnxenfespfaahxisbtxxxfajaaogxuuxvfakfjrxtjrdxwbrxohfppxepxererakj\nhpndprvhplcgvxcmtokaalsjvnhmqewlivaapqgqvhccorxgkuhkeaxqciqmbmfirkucmm",
          "testOut": "false\ntrue\ntrue\nfalse\ntrue\ntrue\nfalse",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "hard",
      "constraints": "0 < number of terminal symbols < 25\n0 < number of nonterminal symbols < 25\n0 < [[N]] < 100\n0 < [[T]] < 100\n0 < length of word < 100",
      "coverBinaryId": 138091624376630,
      "stubGenerator": "read N:int\nread START:word(1)\nloop N read RULE:string(100)\nread T:int\nloop T read WORD:word(100)\nwrite true",
      "inputDescription": "<<Line 1:>> the number [[N]] of rules in the grammar\n<<Line 2:>> the character [[START]] indicating the start symbol \n<<Next [[N]] lines:>> rules of the grammar\n<<Next line:>> the number [[T]] of testcases\n<<Next [[T]] lines:>> words to parse",
      "solutionLanguage": "Java",
      "outputDescription": "<<[[T]] lines>> containing {{true}} if word can be successfully parsed by the grammar, {{false}} otherwise."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Difficulty: Hard<br>Topic: Context-free grammars, CYK algorithm, dynamic programming<br><br>Given the context-free grammar and a set of words, your task is to decide which words belong to the language defined by that grammar.<br><br>The grammar is presented in Chomsky normal form, without epsilon-rules. Non-terminal symbols are always uppercase letters, terminal symbols are always lowercase letters.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> the number <var>N</var> of rules in the grammar<br><strong>Line 2:</strong> the character <var>START</var> indicating the start symbol <br><strong>Next <var>N</var> lines:</strong> rules of the grammar<br><strong>Next line:</strong> the number <var>T</var> of testcases<br><strong>Next <var>T</var> lines:</strong> words to parse</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong><var>T</var> lines</strong> containing <const>true</const> if word can be successfully parsed by the grammar, <const>false</const> otherwise.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">0 &lt; number of terminal symbols &lt; 25<br>0 &lt; number of nonterminal symbols &lt; 25<br>0 &lt; <var>N</var> &lt; 100<br>0 &lt; <var>T</var> &lt; 100<br>0 &lt; length of word &lt; 100</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">6\nS\nS -&gt; SS\nS -&gt; OT\nT -&gt; SC\nS -&gt; OC\nO -&gt; a\nC -&gt; b\n10\nab\nba\nabba\nababab\naaabbb\nabaabb\na\naaabababbb\naababababbb\naaabababbabb</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">true\nfalse\nfalse\ntrue\ntrue\ntrue\nfalse\ntrue\nfalse\ntrue</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 271363603339,
  "avatar": 4210501575817,
  "commentCount": 23,
  "upVotes": 9,
  "downVotes": 3,
  "validateAction": {
    "actionId": 115825,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}