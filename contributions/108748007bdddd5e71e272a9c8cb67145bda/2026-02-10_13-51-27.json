{
  "id": 1087,
  "activeVersion": 19,
  "score": 2,
  "votableId": 6953580,
  "codingamerId": 878974,
  "views": 930,
  "commentableId": 6892076,
  "title": "Expand the polynomial",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "nicola",
  "publicHandle": "108748007bdddd5e71e272a9c8cb67145bda",
  "codingamerHandle": "21bf42f790de293c3aef398f18cd2627479878",
  "lastVersion": {
    "version": 19,
    "data": {
      "title": "Expand the polynomial",
      "topics": [
        {
          "id": 94,
          "handle": "mathematics",
          "labelMap": {
            "1": "Mathematics",
            "2": "Mathematics"
          },
          "puzzleCount": 1,
          "parentTopicId": 93
        },
        {
          "labelMap": {
            "2": "Algebra"
          }
        },
        {
          "id": 67,
          "handle": "parsing",
          "labelMap": {
            "1": "Parsing",
            "2": "Parsing"
          },
          "pageTitle": "Parsing: exercises and theory",
          "puzzleCount": 1,
          "parentTopicId": 41,
          "contentDetailsId": 102
        },
        {
          "labelMap": {
            "2": "Output formatting"
          }
        }
      ],
      "solution": "class polynôme():\n    def __init__(self,s):\n        if type(s) is int:\n            self.coefs=[s]\n        elif s==\"x\":\n            self.coefs=[1,0]\n        elif type(s) in (list,tuple):\n            self.coefs=list(s)\n            while self[0]==0:\n                self.coefs.pop(0)\n            if not self.coefs:\n                self.coefs=[0]\n        else:\n            self=eval(s)\n\n    def __add__(self,p):\n        if type(p) is int:\n            q=polynôme(p)\n        else:\n            q=p\n        s=[0]*max(len(self),len(q))\n        for i in range(len(self)):\n            s[-1-i]=self[-1-i]\n        for i in range(len(q)):\n            s[-1-i]+=q[-1-i]\n        return polynôme(s)\n\n    def __radd__(self,p):\n        return p+self\n\n    def __neg__(self):\n        return polynôme([-c for c in self.coefs])\n\n    def __sub__(self,p):\n        if type(p) is int:\n            q=polynôme(p)\n        else:\n            q=p\n        return self+(-q)\n\n    def __rsub__(self,p):\n        return -self+p\n\n    def __mul__(self,p):\n        if type(p) is int:\n            q=polynôme(p)\n        else:\n            q=p\n        s=[0]*(len(self)+len(q)-1)\n        if not s:\n            return [0]\n        for i in range(len(self)):\n            for j in range(len(q)):\n                s[-i-j-1]+=self[-1-i]*q[-1-j]\n        return polynôme(s)\n\n    def __rmul__(self,p):\n        return self*p\n\n    def __pow__(self,e):\n        if e<0:\n            raise ValueError\n        p=polynôme(1)\n        for _ in range(e):\n            p*=self\n        return p\n\n    def __getitem__(self,i):\n        return self.coefs[i]\n\n    def __setitem__(self,i,c):\n        self.coefs[i]=c\n\n    def __len__(self):\n        return len(self.coefs)\n\n    def __str__(self):\n        s=\"\"\n        for i,c in enumerate(self):\n            if c:\n                if c==-1:\n                    if i==len(self)-1:\n                        s+=\"-1\"\n                    else:\n                        s+=\"-\"\n                elif c==1:\n                    if i==len(self)-1:\n                        s+=\"+1\"\n                    else:\n                        s+=\"+\"\n                else:\n                    if c<0:\n                        s+=str(c)\n                    else:\n                        s+=\"+%d\"%c\n                if i<len(self)-1:\n                    s+=\"x\"\n                    if i<len(self)-2:\n                        s+=\"^%d\"%(len(self)-i-1)\n        if s.startswith(\"+\"):\n            s=s[1:]\n        if s:\n            return s\n        return \"0\"\n\nx=polynôme(\"x\")\n\npoly=input().replace(\"^\",\"**\").replace(\")(\",\")*(\")\nfor c in \"0123456789\":\n    poly=poly.replace(c+\"x\",c+\"*x\")\n\nprint(eval(poly))",
      "statement": "You are given a polynomial that is partially or fully factorized and you have to write a code that fully expands it.\nFor example, if you are given (x-1)*(x+2)=x²+x-2, its coefficients that are 1 1 -2 and you have to write x^2+x-2.",
      "testCases": [
        {
          "title": "Simple product",
          "isTest": true,
          "testIn": "(x-1)*(x+2)",
          "testOut": "x^2+x-2",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Simple product",
          "isTest": false,
          "testIn": "(x+1)*(x-2)",
          "testOut": "x^2-x-2",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Square",
          "isTest": true,
          "testIn": "(x-2)^2",
          "testOut": "x^2-4x+4",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Square",
          "isTest": false,
          "testIn": "(x+3)^2",
          "testOut": "x^2+6x+9",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "With ax",
          "isTest": true,
          "testIn": "(2x+3)(x-2)",
          "testOut": "2x^2-x-6",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "With ax",
          "isTest": false,
          "testIn": "(2x-5)(3x+7)",
          "testOut": "6x^2-x-35",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Null coef",
          "isTest": true,
          "testIn": "(x-2)(x+2)",
          "testOut": "x^2-4",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Null coef",
          "isTest": false,
          "testIn": "(2x-3)(2x+3)",
          "testOut": "4x^2-9",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Bigger degree",
          "isTest": true,
          "testIn": "(4x^3-5x^2+7x-1)(4x^2-x+1)",
          "testOut": "16x^5-24x^4+37x^3-16x^2+8x-1",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Bigger degree",
          "isTest": false,
          "testIn": "(x^2+2x+3)(x^3+2x^2+3x+4)",
          "testOut": "x^5+4x^4+10x^3+16x^2+17x+12",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Cyclotomic polynomial",
          "isTest": true,
          "testIn": "(x-1)(x+1)(x^2+1)",
          "testOut": "x^4-1",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Cyclotomic polynomial",
          "isTest": false,
          "testIn": "(x-1)(x+1)(x^2+x+1)(x^2-x+1)",
          "testOut": "x^6-1",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Monomial with no integer",
          "isTest": true,
          "testIn": "(2x^2+x-3)(x^2-x-2)",
          "testOut": "2x^4-x^3-8x^2+x+6",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Monomial with no integer",
          "isTest": false,
          "testIn": "(2x^2-x-3)(x^2+x-2)",
          "testOut": "2x^4+x^3-8x^2-x+6",
          "isValidator": true,
          "needValidation": false
        }
      ],
      "difficulty": "hard",
      "constraints": "All the coefficients are integers (positive, null or negative).\nAll coefficients are in decreasing order: (x^3 then x^2 then x^1 then x^0)",
      "coverBinaryId": 42883525069330,
      "stubGenerator": "read poly:word(40)\nwrite expandedpolynomial",
      "inputDescription": "A partially or not factorized polynomial.",
      "solutionLanguage": "Python3",
      "outputDescription": "The expanded polynomial written in the standard way:\n* x^1 is written x\n* 1x^3 is written x^3\n* 0x^2 and x^0 are not written"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">You are given a polynomial that is partially or fully factorized and you have to write a code that fully expands it.<br>For example, if you are given (x-1)*(x+2)=x&sup2;+x-2, its coefficients that are 1 1 -2 and you have to write x^2+x-2.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\">A partially or not factorized polynomial.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">The expanded polynomial written in the standard way:<br>* x^1 is written x<br>* 1x^3 is written x^3<br>* 0x^2 and x^0 are not written</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">All the coefficients are integers (positive, null or negative).<br>All coefficients are in decreasing order: (x^3 then x^2 then x^1 then x^0)</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">(x-1)*(x+2)</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">x^2+x-2</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 255305818718,
  "avatar": 26090852120005,
  "commentCount": 9,
  "upVotes": 5,
  "downVotes": 3,
  "validateAction": {
    "actionId": 182248,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}