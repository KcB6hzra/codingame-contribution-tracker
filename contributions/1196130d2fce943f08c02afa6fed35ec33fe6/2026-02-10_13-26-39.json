{
  "id": 11961,
  "activeVersion": 12,
  "score": 18,
  "votableId": 22598009,
  "codingamerId": 4420742,
  "views": 365,
  "commentableId": 22485907,
  "title": "Rotating arrows",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Mortis_666",
  "publicHandle": "1196130d2fce943f08c02afa6fed35ec33fe6",
  "codingamerHandle": "9c16f1eb54b751e6a1fafc67c7be6ea42470244",
  "lastVersion": {
    "version": 12,
    "autocloseTime": 1650779113039,
    "data": {
      "title": "Rotating arrows",
      "topics": [
        {
          "id": 153,
          "handle": "2d-array",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "2D array",
            "2": "2D array"
          },
          "puzzleCount": 29,
          "parentTopicId": 93
        },
        {
          "id": 46,
          "handle": "loops",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Boucles",
            "2": "Loops"
          },
          "pageTitle": "Loops: exercises and theory",
          "puzzleCount": 68,
          "parentTopicId": 39,
          "contentDetailsId": 71
        }
      ],
      "solution": "import numpy as np\nimport sys\n\ndef fprint(*a, **k):\n    print(*a, **k, file=sys.stderr, flush=True)\n\ndef rotate(arrow):\n    return \"^>v<^\"[\"^>v<\".index(arrow) + 1]\n\ndef pos(x, y, arrow):\n    if arrow == \"^\":\n        y -= 1\n    elif arrow == \">\":\n        x += 1\n    elif arrow == \"v\":\n        y += 1\n    elif arrow == \"<\":\n        x -= 1\n    return x, y\n\ndef edge(x, y, width, height):\n    return x < 0 or y < 0 or x==width or y==height\n\nw, h = [int(i) for i in input().split()]\nx, y = [int(i) for i in input().split()]\na, b = x, y\ngrid = np.array([list(input()) for i in range(h)], dtype=str)\n\nfprint(grid)\ngrid[y, x] = rotate(grid[y, x])\nx, y = pos(x, y, grid[y, x])\nfprint(x, y)\n\ntimes = 1\n\nwhile ((x, y) != (a, b)) and not edge(x, y, w, h):\n    fprint(grid)\n    grid[y, x] = rotate(grid[y, x])\n    x, y = pos(x, y, grid[y, x])\n    fprint(x, y)\n    times += 1\nprint(times)",
      "statement": "A [[W]] x [[H]] grid is filled with arrows, each arrow will point to any one direction ({{UP}}, {{DOWN}}, {{RIGHT}} or {{LEFT}}).\nYou can know which direction the arrow is pointing to by knowing its ascii image,\n{{^}}, {{>}}, {{v}}, {{<}} represent {{UP}}, {{RIGHT}}, {{DOWN}} and {{LEFT}}.\n\nYou can <<rotate>> an arrow clockwise, for example: {{^}} after rotation will become {{>}}.\nAfter you rotate the arrow, the other arrow that the arrow is pointing at will start rotating clockwise too, this process continues until the last rotated arrow points back to the first arrow you rotate or the last rotated arrow points to the edge of the grid.\n\nAfter you rotated the arrow at position ([[x]], [[y]]), how many times of rotation will occur?\n(Index starts with {{0}})\n\nFor example:\n[[W]]={{2}}, [[H]]={{2}}\n[[x]]={{0}}, [[y]]={{0}}\n\nGrid:\n{{^>}}\n{{<v}}\n\nFirst we start at the arrow at position {{(0, 0)}}, after rotating the arrow clockwise, the arrow now points to the right. New grid:\n{{>>}}\n{{<v}}\n\nNow we rotate the arrow at {{(1, 0)}}, and it will now point down, and we now rotate the arrow at {{(1, 1)}}, and the arrow will point to the left. Next, we rotate the arrow at (0, 1), and the arrow will point to up, which is the arrow at {{(0, 0)}}.\n\nThe arrow points back to the first arrow you rotate! So the result is {{4}}, {{4}} rotation occurs!",
      "testCases": [
        {
          "title": "Simple",
          "isTest": true,
          "testIn": "2 1\n0 0\n^v",
          "testOut": "2",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "1 2\n0 0\n>\n<",
          "testOut": "2",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "More rotate",
          "isTest": true,
          "testIn": "3 3\n2 1\n>v>\n><v\n^^<",
          "testOut": "8",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "4 2\n2 1\n>vv>\n^^<<",
          "testOut": "6",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Overflow",
          "isTest": true,
          "testIn": "5 5\n2 2\n<><><\n<><><\n<><><\n<><><\n<><><",
          "testOut": "3",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "1 1\n0 0\n<",
          "testOut": "1",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Repeat",
          "isTest": true,
          "testIn": "6 5\n2 2\n<><><>\n<>^>>>\n^^<^<>\n<><><>\n<vvvvv",
          "testOut": "18",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "5 6\n3 4\n>>>>>\n>>>>>\n<>>>>\n<>v>>\n><<^>\n>><vv",
          "testOut": "24",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "easy",
      "constraints": "1 ≤ [[W]], [[H]] ≤ 10\n0 ≤ [[x]] < [[W]]\n0 ≤ [[y]] < [[H]]",
      "coverBinaryId": 135766340968221,
      "stubGenerator": "read W:int H:int\nread x:int y:int\nloop H read line:word(W)\nwrite 0\n\nINPUT\nline: The line of w arrows represented by ascii char ^v<>",
      "inputDescription": "<<Line 1:>> Two integers [[W]] and [[H]]\n<<Line 2:>> Two integers [[x]] and [[y]]\n<<Next >>[[H]] <<lines:>> A [[line]] with [[W]] arrows represented by ascii char {{^v<>}}",
      "solutionLanguage": "Python3",
      "outputDescription": "The number of rotation times"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">A <var>W</var> x <var>H</var> grid is filled with arrows, each arrow will point to any one direction (<const>UP</const>, <const>DOWN</const>, <const>RIGHT</const> or <const>LEFT</const>).<br>You can know which direction the arrow is pointing to by knowing its ascii image,<br><const>^</const>, <const>&gt;</const>, <const>v</const>, <const>&lt;</const> represent <const>UP</const>, <const>RIGHT</const>, <const>DOWN</const> and <const>LEFT</const>.<br><br>You can <strong>rotate</strong> an arrow clockwise, for example: <const>^</const> after rotation will become <const>&gt;</const>.<br>After you rotate the arrow, the other arrow that the arrow is pointing at will start rotating clockwise too, this process continues until the last rotated arrow points back to the first arrow you rotate or the last rotated arrow points to the edge of the grid.<br><br>After you rotated the arrow at position (<var>x</var>, <var>y</var>), how many times of rotation will occur?<br>(Index starts with <const>0</const>)<br><br>For example:<br><var>W</var>=<const>2</const>, <var>H</var>=<const>2</const><br><var>x</var>=<const>0</const>, <var>y</var>=<const>0</const><br><br>Grid:<br><const>^&gt;</const><br><const>&lt;v</const><br><br>First we start at the arrow at position <const>(0, 0)</const>, after rotating the arrow clockwise, the arrow now points to the right. New grid:<br><const>&gt;&gt;</const><br><const>&lt;v</const><br><br>Now we rotate the arrow at <const>(1, 0)</const>, and it will now point down, and we now rotate the arrow at <const>(1, 1)</const>, and the arrow will point to the left. Next, we rotate the arrow at (0, 1), and the arrow will point to up, which is the arrow at <const>(0, 0)</const>.<br><br>The arrow points back to the first arrow you rotate! So the result is <const>4</const>, <const>4</const> rotation occurs!</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> Two integers <var>W</var> and <var>H</var><br><strong>Line 2:</strong> Two integers <var>x</var> and <var>y</var><br><strong>Next </strong><var>H</var> <strong>lines:</strong> A <var>line</var> with <var>W</var> arrows represented by ascii char <const>^v&lt;&gt;</const></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">The number of rotation times</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">1 &le; <var>W</var>, <var>H</var> &le; 10<br>0 &le; <var>x</var> &lt; <var>W</var><br>0 &le; <var>y</var> &lt; <var>H</var></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">2 1\n0 0\n^v</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">2</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 119952381306,
  "avatar": 99045346596822,
  "commentCount": 13,
  "upVotes": 18,
  "downVotes": 0,
  "validateAction": {
    "actionId": 655961,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1650777616743,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}