{
  "id": 305,
  "activeVersion": 9,
  "score": 12,
  "votableId": 2383399,
  "codingamerId": 1323814,
  "views": 301,
  "commentableId": 2331943,
  "title": "Fill the square!",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Wildcat-SC",
  "publicHandle": "3059b74511639bc1e3ac77fba2b898bb0fe",
  "codingamerHandle": "b1f79554baafff05c9ca9c0fc61caa874183231",
  "lastVersion": {
    "version": 9,
    "data": {
      "title": "Fill the square!",
      "topics": [],
      "solution": "#include <stdio.h>\n#include <string.h>\n\nstatic int N;\nstatic char tabl[16][16], curr[16][16];\nstatic int res[16][16];\n\nvoid changeState(int x,int y)\n{\n\tfor(int dx=-1;dx<=1;++dx) {\n\t\tfor(int dy=-1;dy<=1;++dy) {\n\t\t\tif((dx!=0&&dy!=0)||x+dx<0||x+dx>=N||y+dy<0||y+dy>=N) continue;\n\t\t\tcurr[y+dy][x+dx] = (curr[y+dy][x+dx]=='.'?'*':'.');\n\t\t}\n\t}\n}\n\nint main()\n{\n    scanf(\"%d\", &N); fgetc(stdin);\n    for(int i=0;i<N;++i) fgets(tabl[i], 21, stdin);\n    memset(res,'\\0',sizeof(res));\n    for(int i=0;i<(1<<N);++i) {\n    \tmemcpy(curr,tabl,sizeof(curr));\n    \tint k = i;\n    \tfor(int x=0;x<N;++x) {\n    \t\tres[0][x] = k&0x01;\n    \t\tif(res[0][x]) changeState(x,0);\n    \t\tk >>= 1;\n    \t}\n    \tfor(int y=1;y<N;++y) {\n    \t\tfor(int x=0;x<N;++x) {\n    \t\t\tres[y][x] = ((curr[y-1][x]=='.')?1:0);\n    \t\t\tif(res[y][x]) changeState(x,y);\n    \t\t}\n    \t}\n    \tint ok = 1;\n    \tfor(int x=0;x<N&&ok;++x)\n    \t\tif(curr[N-1][x]=='.') ok = 0;\n    \tif(ok) {\n    \t\tfor(int y=0;y<N;++y) {\n    \t\t\tfor(int x=0;x<N;++x)\n    \t\t\t\tprintf(\"%c\",res[y][x]?'X':'.');\n    \t\t\tprintf(\"\\n\");\n    \t\t}\n    \t\tbreak;\n    \t}\n    }\n    return 0;\n}\n",
      "statement": "James Bond needs to infiltrate the SPECTRE headquarters. The door lock looks like a square of [[N]]×[[N]] LEDs.\nSome of those LEDs are lit, and each LED’s state can be changed by touching it.\n\nUnfortunately, when you touch an LED, not only does its state change, but the states of its horizontal and vertical neighbors change as well.\n\nSo for an input of\n\n`...\n.*.\n...`\n\nIf Bond were to press\n\n`...\n.X.\n...`\n\nThen the next state would be\n\n`.*.\n*.*\n.*.`\n\nBond’s only option is to light all the LEDs to unlock the door…\n\nYou are Q, and 007 contacts you to request your help. Try to find a way to quickly solve the puzzle (with the minimum number of touches) and get your agent into the house!",
      "testCases": [
        {
          "title": "3x3",
          "isTest": true,
          "testIn": "3\n...\n*..\n...",
          "testOut": "X..\n..X\nX..",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "3x3",
          "isTest": false,
          "testIn": "3\n..*\n...\n.*.",
          "testOut": "XXX\nX..\nXX.",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "6x6",
          "isTest": true,
          "testIn": "6\n......\n......\n......\n...*..\n......\n******",
          "testOut": "XXXXX.\nX...X.\nXX.XX.\n.XXX..\nX..XXX\n.XX..X",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "6x6",
          "isTest": false,
          "testIn": "6\n*.....\n.*..*.\n*...*.\n..*...\n*...*.\n...*..",
          "testOut": "...X.X\n.X..X.\n.X.XXX\nXXXX.X\nXXX..X\nXX.XXX",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "10x10",
          "isTest": true,
          "testIn": "10\n..........\n..........\n..........\n..........\n.*........\n..........\n..........\n..........\n..........\n..........",
          "testOut": ".X..XX..XX\n....XX..XX\nX.X.......\n.X....XX..\nX.XXX.XX.X\n.XX.XX..X.\nXX...XXX.X\nX.XXX..X..\nX.X.XXXX..\nXXX......X",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "10x10",
          "isTest": false,
          "testIn": "10\n..........\n........*.\n....*.....\n..........\n.*........\n....*.....\n..........\n......*...\n.*........\n.......*..",
          "testOut": "XX.X.XX..X\nXXX.XXX...\n.XX.XX....\nX..XX.XXXX\n.XXX..X..X\nX...X.XXXX\n.X.XXX....\nX.XXXXX...\n..XXXX..XX\n.X.XX.X.XX",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "CG",
          "isTest": true,
          "testIn": "15\n...............\n...............\n...............\n...............\n...............\n..****..****...\n..*.....*......\n..*.....*.***..\n..*.....*..*...\n..****..****...\n...............\n...............\n...............\n...............\n...............",
          "testOut": ".X..X.XX...X.X.\n.....XXX.X..X..\nX.XXXXX.X..X.XX\n.XX..X...X...XX\nXX.XXXXXX......\nX..X.X..XXXXX..\nXXX.X.XXXXXXX.X\n......X..XXX.X.\n..XX..XX...XX.X\nX..X...XX.XXX..\n....X.X........\n.XXX.X.X.X...XX\n.X.X....X..X.XX\n.X.X..XX.X..X..\n.XXX..XX...X.X.",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "CG",
          "isTest": false,
          "testIn": "15\n...............\n...............\n...............\n...............\n...............\n.*****.*****...\n.*.....*.......\n.*.....*.......\n.*.....*..***..\n.*.....*...*...\n.*****.*****...\n...............\n...............\n...............\n...............",
          "testOut": "..XXXX.XX.XXXXX\nX.X..XXXXXX...X\n.XXXX..XX..X.XX\nXXX.XXX..XX.XX.\nXX....XXXXX.X.X\n..XX.X...X.XX..\n.....XXX..X....\nX........X.X.XX\n.XXXX..X....XXX\nX...X..X.....X.\n...XX....XX.XXX\n..X.XXXXX...XXX\nX.......XX...X.\n...X...X.X.XXXX\n.X...X...XXX.XX",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "expert",
      "constraints": "3≤[[N]]≤15\nThere will always be one and only one solution.",
      "stubGenerator": "read N:int\nloop N read ROW:string(15)\nloop N write row #i",
      "inputDescription": "<<Line 1>>: One integer [[N]], the size of the square.\n<<Next [[N]] lines>>: A string containing [[N]] characters representing LEDs ({{.}} for not lit LEDs, {{*}} for lit LEDs).",
      "solutionLanguage": "C",
      "outputDescription": "<<Exactly [[N]] lines>>: [[N]] characters representing the LEDs of this line to touch to solve the puzzle with the minimum number of touches ({{.}} for no touch, {{X}} for touch)."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">James Bond needs to infiltrate the SPECTRE headquarters. The door lock looks like a square of <var>N</var>&times;<var>N</var> LEDs.<br>Some of those LEDs are lit, and each LED&rsquo;s state can be changed by touching it.<br><br>Unfortunately, when you touch an LED, not only does its state change, but the states of its horizontal and vertical neighbors change as well.<br><br>So for an input of<br><br><pre style=\"font-family: monospace\">...<br>.*.<br>...</pre><br><br>If Bond were to press<br><br><pre style=\"font-family: monospace\">...<br>.X.<br>...</pre><br><br>Then the next state would be<br><br><pre style=\"font-family: monospace\">.*.<br>*.*<br>.*.</pre><br><br>Bond&rsquo;s only option is to light all the LEDs to unlock the door&hellip;<br><br>You are Q, and 007 contacts you to request your help. Try to find a way to quickly solve the puzzle (with the minimum number of touches) and get your agent into the house!</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1</strong>: One integer <var>N</var>, the size of the square.<br><strong>Next <var>N</var> lines</strong>: A string containing <var>N</var> characters representing LEDs (<const>.</const> for not lit LEDs, <const>*</const> for lit LEDs).</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>Exactly <var>N</var> lines</strong>: <var>N</var> characters representing the LEDs of this line to touch to solve the puzzle with the minimum number of touches (<const>.</const> for no touch, <const>X</const> for touch).</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">3&le;<var>N</var>&le;15<br>There will always be one and only one solution.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">3\n...\n*..\n...</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">X..\n..X\nX..</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 309529374340,
  "avatar": 70979840035465,
  "commentCount": 11,
  "upVotes": 12,
  "downVotes": 0,
  "validateAction": {
    "actionId": 513,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}