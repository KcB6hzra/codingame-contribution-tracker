{
  "id": 655,
  "activeVersion": 15,
  "score": 4,
  "votableId": 4598877,
  "codingamerId": 1480925,
  "views": 185,
  "commentableId": 4541997,
  "title": "Sandpile addition",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "TwelveOThirteen",
  "publicHandle": "65575847269502833dec0720415ed0eec05",
  "codingamerHandle": "dd7051f8786a55a8d7dacce754e276b75290841",
  "lastVersion": {
    "version": 15,
    "data": {
      "title": "Sandpile addition",
      "topics": [
        {
          "id": 153,
          "handle": "2d-array",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "2D array",
            "2": "2D array"
          },
          "puzzleCount": 19,
          "parentTopicId": 93
        }
      ],
      "solution": "using System;\nusing System.Linq;\nusing System.IO;\nusing System.Text;\nusing System.Collections;\nusing System.Collections.Generic;\n\nclass Solution{\n    static void Main(){\n        \n        int n=int.Parse(Console.ReadLine());\n        \n\t\tint[,] a = new int[n,n];\n\t\tint[,] b = new int[n,n];\n\t\tint[,] c = new int[n,n];\n\t\t\n\t\tfor (int i = 0; i < n; i++){\n            string row = Console.ReadLine();\n            for(int j=0;j<n;j++){\n                a[i,j] = row[j]-48;\n            }\n        }\n        for (int i = 0; i < n; i++){\n            string row = Console.ReadLine();\n            for(int j=0;j<n;j++){\n                b[i,j] = row[j]-48;\n            }\n        }\n\t\t\n\t\tfor(int i=0;i<n;i++)for(int j=0;j<n;j++)c[i,j]=a[i,j]+b[i,j];\n\t\tfor(int i=0;i<n;i++)\n\t\t\tfor(int j=0;j<n;j++){\n\t\t\t\tif(c[i,j]>3){\n\t\t\t\t\tc[i,j]-=4;\n\t\t\t\t\tif(i>0)c[i-1,j]++;\n\t\t\t\t\tif(i<n-1)c[i+1,j]++;\n\t\t\t\t\tif(j>0)c[i,j-1]++;\n\t\t\t\t\tif(j<n-1)c[i,j+1]++;\n\t\t\t\t\tif(i>0){i--;j--;}\n\t\t\t\t\telse if(j>0)j-=2;\n\t\t\t\t}\n\t\t\t}\n\t\tfor(int x=0;x<n;x++){\n\t\t\tfor(int y=0;y<n;y++){\n\t\t\t\tConsole.Write(c[x,y]);\n\t\t\t}\n\t\t\tConsole.Write('\\n');\n\t\t}\n    }\n}",
      "statement": "A sandpile is a square matrix of natural numbers between 0 and 3, representing how many grains of sand there is on each square.\nTo add two sandpiles, just start by adding the two matrices element by element. Except the matrix you generate might not be a sandpile, if one of its element is higher than 3 you must transform this matrix into a sandpile, and this is how it is done:\n - If a square has 4 grains of sand or more, it \"loses\" four and distributes it to its four neighbors (if the square touches an edge, the grain of sand is lost).\n - Keep doing that to all the squares with 4 grains or more until all the squares have 3 grains or less.\n\nExample:\n`000   000   000    010\n020 + 020 = 040 -> 101\n000   000   000    010\n`",
      "testCases": [
        {
          "title": "One simple addition",
          "isTest": true,
          "testIn": "3\n121\n202\n121\n020\n202\n020",
          "testOut": "313\n101\n313",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "3\n120\n221\n012\n321\n032\n210",
          "testOut": "233\n212\n020",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "One more simple case",
          "isTest": true,
          "testIn": "3\n301\n030\n103\n100\n010\n001",
          "testOut": "021\n202\n120",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "3\n112\n121\n211\n230\n010\n032",
          "testOut": "023\n313\n320",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "A lot of redistribution",
          "isTest": true,
          "testIn": "3\n121\n232\n121\n303\n000\n303",
          "testOut": "212\n131\n212",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "3\n221\n332\n031\n210\n301\n112",
          "testOut": "323\n212\n102",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Pretty packed",
          "isTest": true,
          "testIn": "3\n333\n333\n333\n111\n111\n111",
          "testOut": "030\n303\n030",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "3\n222\n222\n222\n222\n222\n222",
          "testOut": "030\n303\n030",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Two full sandpiles",
          "isTest": true,
          "testIn": "3\n333\n333\n333\n333\n333\n333",
          "testOut": "212\n121\n212",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "3\n333\n323\n333\n333\n323\n333",
          "testOut": "212\n101\n212",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Bigger grid",
          "isTest": true,
          "testIn": "4\n3113\n1221\n1221\n3113\n1002\n0300\n0030\n2001",
          "testOut": "0331\n3303\n3033\n1330",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 6",
          "isTest": false,
          "testIn": "4\n0310\n3131\n1023\n0223\n3200\n1202\n0310\n3023",
          "testOut": "3112\n0313\n2130\n1312",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Even bigger",
          "isTest": true,
          "testIn": "5\n31003\n13120\n01310\n02131\n30013\n11111\n12221\n12321\n12221\n11111",
          "testOut": "22112\n23321\n13231\n12332\n21122",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 7",
          "isTest": false,
          "testIn": "6\n122321\n130212\n333320\n030301\n103022\n120230\n123200\n323233\n303223\n203311\n030210\n302303",
          "testOut": "031032\n313331\n023311\n323113\n321230\n303123",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Asymmetric",
          "isTest": true,
          "testIn": "3\n012\n302\n130\n120\n312\n312",
          "testOut": "020\n123\n330",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 8",
          "isTest": false,
          "testIn": "3\n321\n030\n301\n301\n023\n301",
          "testOut": "310\n331\n223",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "2 ≤ [[n]] ≤ 10",
      "stubGenerator": "read n:int\nloop n read row:string(12)\nloop n read row:string(12)\nwrite answer",
      "inputDescription": "<<Line 1:>> An integer [[n]], the size of the two sandpiles\n<<Next [[n]] lines:>> The first sandpile to add\n<<Next [[n]] lines:>> The second sandpile to add",
      "solutionLanguage": "C#",
      "outputDescription": "<<[[n]] lines:>> The resulting sandpile after adding the given sandpiles"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">A sandpile is a square matrix of natural numbers between 0 and 3, representing how many grains of sand there is on each square.<br>To add two sandpiles, just start by adding the two matrices element by element. Except the matrix you generate might not be a sandpile, if one of its element is higher than 3 you must transform this matrix into a sandpile, and this is how it is done:<br> - If a square has 4 grains of sand or more, it &quot;loses&quot; four and distributes it to its four neighbors (if the square touches an edge, the grain of sand is lost).<br> - Keep doing that to all the squares with 4 grains or more until all the squares have 3 grains or less.<br><br>Example:<br><pre style=\"font-family: monospace\">000   000   000    010<br>020 + 020 = 040 -&gt; 101<br>000   000   000    010<br></pre></span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> An integer <var>n</var>, the size of the two sandpiles<br><strong>Next <var>n</var> lines:</strong> The first sandpile to add<br><strong>Next <var>n</var> lines:</strong> The second sandpile to add</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong><var>n</var> lines:</strong> The resulting sandpile after adding the given sandpiles</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">2 &le; <var>n</var> &le; 10</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">3\n121\n202\n121\n020\n202\n020</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">313\n101\n313</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 281761669416,
  "avatar": 9870244569932,
  "commentCount": 9,
  "upVotes": 4,
  "downVotes": 0,
  "validateAction": {
    "actionId": 84618,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}