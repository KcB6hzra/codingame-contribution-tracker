{
  "id": 1531,
  "activeVersion": 49,
  "score": 16,
  "votableId": 8683993,
  "codingamerId": 1050421,
  "views": 980,
  "commentableId": 8619663,
  "title": "HTML table cell split",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "geppoz",
  "publicHandle": "1531c4da17430197411053e3925bd09a0d0d",
  "codingamerHandle": "e1c8db0e115017dfd592d11825e6b46e1240501",
  "lastVersion": {
    "version": 49,
    "autocloseTime": 1541151732147,
    "data": {
      "title": "HTML table cell split",
      "topics": [
        {
          "id": 132,
          "handle": "topology",
          "labelMap": {
            "1": "Topology",
            "2": "Topology"
          },
          "puzzleCount": 1,
          "parentTopicId": 93
        }
      ],
      "solution": "var NR = parseInt(readline());\r\nvar Rows=[];\r\nfor (var i = 0; i < NR; i++) {\r\n    Rows[i]={d:[],c:{}};\r\n    readline().split(' ').forEach(function(d){\r\n      var spans=d.match(/\\d+/g);\r\n      Rows[i].d.push({cs:+spans[0],rs:+spans[1]});\r\n    });\r\n}\r\nvar inputs = readline().split(' ');\r\nvar IS = parseInt(inputs[0]);\r\nvar DS = inputs[1];\r\n//printErr(JSON.stringify(Rows,null,' '));\r\n\r\n// PREPARATION\r\nvar I=0;\r\nvar myD,myR,myC;\r\nfor (var i=0;i<NR;i++){\r\n    var Row=Rows[i];\r\n    var C=0;\r\n    for (var k=0;k<Row.d.length;k++,I++){\r\n        var D=Row.d[k];\r\n        while (Row.c[C]!==undefined) C++;\r\n        D.c=C;\r\n        if (I==IS){ myC=C;myD=k;myR=i; } // IS cell full infos\r\n        for (var j=0;j<D.rs;j++) for (var m=0;m<D.cs;m++){\r\n            Rows[i+j].c[C+m]=[i,k]; // TD reference\r\n        }\r\n        C+=D.cs;\r\n    }\r\n}\r\n//printErr(myD+\" \"+myR+\" \"+myC);\r\n//printErr(JSON.stringify(Rows,null,' '));\r\n\r\n// UPDATE\r\nif (DS==\"C\"){\r\n    var to_expand_list={};\r\n    for (var i=0;i<Rows.length;i++){\r\n        var to_expand=Rows[i].c[myC];\r\n        if (to_expand_list[to_expand[0]]===undefined) to_expand_list[to_expand[0]]={};\r\n        to_expand_list[to_expand[0]][to_expand[1]]=1;\r\n    }\r\n    Object.keys(to_expand_list).forEach(function(r){\r\n        Object.keys(to_expand_list[r]).forEach(function(d){\r\n            if ((r!=myR)||(d!=myD)) Rows[r].d[d].cs++;\r\n        });\r\n    });\r\n    Rows[myR].d.splice(myD,0,{cs:1,rs:Rows[myR].d[myD].rs});\r\n} else {\r\n    var to_expand_list={};\r\n    for (var j=0;j<Object.keys(Rows[myR].c).length;j++){\r\n        var to_expand=Rows[myR].c[j];\r\n        if (to_expand_list[to_expand[0]]===undefined) to_expand_list[to_expand[0]]={};\r\n        to_expand_list[to_expand[0]][to_expand[1]]=1;\r\n    }\r\n    Object.keys(to_expand_list).forEach(function(r){\r\n        Object.keys(to_expand_list[r]).forEach(function(d){\r\n            if ((r!=myR)||(d!=myD)) Rows[r].d[d].rs++;\r\n        });\r\n    });\r\n    Rows.splice(myR+1,0,{d:[{cs:Rows[myR].d[myD].cs,rs:1}]});\r\n}\r\n\r\n// OUTPUT\r\nfor (var i=0;i<Rows.length;i++){\r\n    var dd=[];\r\n    for (var k=0;k<Rows[i].d.length;k++){\r\n        dd.push(\"\"+Rows[i].d[k].cs+\",\"+Rows[i].d[k].rs+\"\");\r\n    }\r\n    print(dd.join(\" \"));\r\n}",
      "statement": "You need to split a cell of an HTML table.\n\nAn HTML table is made of a list of rows, each composed of a list of cells. But beware! A cell does not necessarily occupy one column and one row! Every cell can have a \"colspan\" and a \"rowspan\", that are respectively, the number of columns and rows that the cell occupy (if either is missing it is intended to be 1).\n\nSo you are requested to split a certain cell in either direction (horizontal or vertical), and return the new colspan and rowspan sequence of all the table's cells (that will count one more cell that the input, since the \"split\" have the meaning of drawing a line in the middle of the given cell, with the result of replacing one cell with two cells, preserving the relative layout with respect of the other cells).\n\nExample, the table:\n`┌─┬─────┐\n│ │  B  │\n│ ├─┬─┬─┤\n│A│ │D│E│\n│ │C├─┼─┤\n│ │ │F│G│\n└─┴─┴─┴─┘`\nis rendered by an HTML as:\n`<TR><TD rowspan=3>A</TD><TD colspan=3>B</TD></TR>\n<TR><TD rowspan=2>C</TD><TD>D</TD><TD>E</TD></TR>\n<TR><TD>F</TD><TD>G</TD></TR>`\nso, in this puzzle, for simplify the parsing, the input will be given just with the colspan and rowspan values of each TD, as:\n`1,3 3,1\n1,2 1,1 1,1\n1,1 1,1`\nso, if you are requested to split in two columns the 5th cell (the \"F\"), you will have:\n`┌─┬───────┐\n│ │   B   │\n│ ├─┬───┬─┤\n│A│ │ D │E│\n│ │C├─┬─┼─┤\n│ │ │F│F│G│\n└─┴─┴─┴─┴─┘`\nso the output would be:\n`1,3 4,1\n1,2 2,1 1,1\n1,1 1,1 1,1`\n\n\nBrief recap for who is not familiar with HTML table syntax:\n\n- the table is given as a list of rows, each as a list of cells\n- for each row, there are specified only the cells that have top-left corner on that row, in the order as they appears left-to-right\n- each cell can possibly extend on many columns and many rows, it is always rectangular, it is never overlapped on other cells\n- in each row that “receives” columns occupied from cells starting in upper rows, there are only specified the “new” cells, ordered left-to-right filling empty columns",
      "testCases": [
        {
          "title": "Just check if statement clear",
          "isTest": true,
          "testIn": "2\n1,1 1,2\n1,1\n2 C",
          "testOut": "2,1 1,2\n1,1 1,1",
          "isValidator": false
        },
        {
          "title": "Just check if statement clear",
          "isTest": false,
          "testIn": "2\n1,1 1,2\n1,1\n0 C",
          "testOut": "1,1 1,1 1,2\n2,1",
          "isValidator": true
        },
        {
          "title": "Let's start seriously",
          "isTest": true,
          "testIn": "3\n1,3 3,1\n1,2 1,1 1,1\n1,1 1,1\n4 C",
          "testOut": "1,3 4,1\n1,2 1,1 1,1 1,1\n1,1 2,1",
          "isValidator": false
        },
        {
          "title": "Let's start seriously",
          "isTest": false,
          "testIn": "3\n1,3 3,1\n1,2 1,1 1,1\n1,1 1,1\n3 C",
          "testOut": "1,3 4,1\n1,2 1,1 1,1 1,1\n2,1 1,1",
          "isValidator": true
        },
        {
          "title": "In the middle of spans",
          "isTest": true,
          "testIn": "4\n2,1 1,3\n1,3 1,1\n1,1\n2,1\n3 C",
          "testOut": "3,1 1,3\n1,3 1,1 1,1\n2,1\n3,1",
          "isValidator": false
        },
        {
          "title": "In the middle of spans",
          "isTest": false,
          "testIn": "4\n2,1 1,3\n1,3 1,1\n1,1\n2,1\n4 C",
          "testOut": "3,1 1,3\n1,3 2,1\n1,1 1,1\n3,1",
          "isValidator": true
        },
        {
          "title": "Care to above",
          "isTest": true,
          "testIn": "3\n1,1 1,2\n1,2\n1,1\n3 C",
          "testOut": "1,1 2,2\n1,2\n1,1 1,1",
          "isValidator": false
        },
        {
          "title": "Care to above",
          "isTest": false,
          "testIn": "3\n1,1 1,2\n1,2\n1,1\n0 C",
          "testOut": "1,1 1,1 1,2\n2,2\n1,1",
          "isValidator": true
        },
        {
          "title": "Split in rows",
          "isTest": true,
          "testIn": "3\n1,3 3,1\n1,2 1,1 1,1\n1,1 1,1\n3 R",
          "testOut": "1,4 3,1\n1,3 1,1 1,2\n1,1\n1,1 1,1",
          "isValidator": false
        },
        {
          "title": "Split in rows",
          "isTest": false,
          "testIn": "3\n1,3 3,1\n1,2 1,1 1,1\n1,1 1,1\n6 R",
          "testOut": "1,4 3,1\n1,3 1,1 1,1\n1,2 1,1\n1,1",
          "isValidator": true
        },
        {
          "title": "Complex by col",
          "isTest": true,
          "testIn": "5\n1,1 1,2 1,1 2,1\n1,3 1,2 2,1\n1,1 1,1 1,3\n3,2\n1,1\n5 C",
          "testOut": "1,1 1,2 2,1 2,1\n1,3 1,2 1,2 2,1\n1,1 1,1 1,3\n4,2\n1,1",
          "isValidator": false
        },
        {
          "title": "Complex by col",
          "isTest": false,
          "testIn": "5\n1,1 1,2 1,1 2,1\n1,3 1,2 2,1\n1,1 1,1 1,3\n3,2\n1,1\n1 C",
          "testOut": "1,1 1,2 1,2 1,1 2,1\n1,3 1,2 2,1\n2,1 1,1 1,3\n4,2\n1,1",
          "isValidator": true
        },
        {
          "title": "Complex by row",
          "isTest": true,
          "testIn": "5\n2,1 1,1 1,3 1,1\n1,3 2,1 1,4\n2,1\n3,2\n1,1\n5 R",
          "testOut": "2,1 1,1 1,4 1,1\n1,4 2,1 1,5\n2,1\n2,1\n3,2\n1,1",
          "isValidator": false
        },
        {
          "title": "Complex by row",
          "isTest": false,
          "testIn": "5\n2,1 1,1 1,3 1,1\n1,3 2,1 1,4\n2,1\n3,2\n1,1\n7 R",
          "testOut": "2,1 1,1 1,4 1,1\n1,4 2,1 1,5\n2,1\n2,1\n3,2\n1,1",
          "isValidator": true
        }
      ],
      "difficulty": "medium",
      "constraints": "1≤ [[NR]] ≤ 100\nThe cell to be split has a span value of 1 in the direction asked (but can have any span value in the other direction).",
      "stubGenerator": "read NR:int\nloop NR read ROW:string(1024)\nread IS:int DS:word(1)\nwrite answer\n",
      "inputDescription": "<<Line 1:>> An integer [[NR]] for the number of rows info that will follow\n<<Next [[NR]] lines:>> Row info, as a space separated couple of values [[CS]],[[RS]] for the colspan and rowspan attribute of each cell in this row\n<<Last line:>> The zero based index [[IS]] of the cell to split, in the order as appeared in the input, and a character [[DS]] that indicates if the cell's split is requested in two columns (\"{{C}}\") or in two rows (\"{{R}}\")",
      "solutionLanguage": "Javascript",
      "outputDescription": "<<[[NR]] or [[NR]]+1 lines:>> Row info, as a space separated couple of values [[CS]],[[RS]] for the colspan and rowspan of each cell in this row (hint: if [[DS]] is \"R\" then it will be one more row in the output with respect to the input)"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">You need to split a cell of an HTML table.<br><br>An HTML table is made of a list of rows, each composed of a list of cells. But beware! A cell does not necessarily occupy one column and one row! Every cell can have a &quot;colspan&quot; and a &quot;rowspan&quot;, that are respectively, the number of columns and rows that the cell occupy (if either is missing it is intended to be 1).<br><br>So you are requested to split a certain cell in either direction (horizontal or vertical), and return the new colspan and rowspan sequence of all the table's cells (that will count one more cell that the input, since the &quot;split&quot; have the meaning of drawing a line in the middle of the given cell, with the result of replacing one cell with two cells, preserving the relative layout with respect of the other cells).<br><br>Example, the table:<br><pre style=\"font-family: monospace\">┌─┬─────┐<br>│ │  B  │<br>│ ├─┬─┬─┤<br>│A│ │D│E│<br>│ │C├─┼─┤<br>│ │ │F│G│<br>└─┴─┴─┴─┘</pre><br>is rendered by an HTML as:<br><pre style=\"font-family: monospace\">&lt;TR&gt;&lt;TD rowspan=3&gt;A&lt;/TD&gt;&lt;TD colspan=3&gt;B&lt;/TD&gt;&lt;/TR&gt;<br>&lt;TR&gt;&lt;TD rowspan=2&gt;C&lt;/TD&gt;&lt;TD&gt;D&lt;/TD&gt;&lt;TD&gt;E&lt;/TD&gt;&lt;/TR&gt;<br>&lt;TR&gt;&lt;TD&gt;F&lt;/TD&gt;&lt;TD&gt;G&lt;/TD&gt;&lt;/TR&gt;</pre><br>so, in this puzzle, for simplify the parsing, the input will be given just with the colspan and rowspan values of each TD, as:<br><pre style=\"font-family: monospace\">1,3 3,1<br>1,2 1,1 1,1<br>1,1 1,1</pre><br>so, if you are requested to split in two columns the 5th cell (the &quot;F&quot;), you will have:<br><pre style=\"font-family: monospace\">┌─┬───────┐<br>│ │   B   │<br>│ ├─┬───┬─┤<br>│A│ │ D │E│<br>│ │C├─┬─┼─┤<br>│ │ │F│F│G│<br>└─┴─┴─┴─┴─┘</pre><br>so the output would be:<br><pre style=\"font-family: monospace\">1,3 4,1<br>1,2 2,1 1,1<br>1,1 1,1 1,1</pre><br><br><br>Brief recap for who is not familiar with HTML table syntax:<br><br>- the table is given as a list of rows, each as a list of cells<br>- for each row, there are specified only the cells that have top-left corner on that row, in the order as they appears left-to-right<br>- each cell can possibly extend on many columns and many rows, it is always rectangular, it is never overlapped on other cells<br>- in each row that &ldquo;receives&rdquo; columns occupied from cells starting in upper rows, there are only specified the &ldquo;new&rdquo; cells, ordered left-to-right filling empty columns</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> An integer <var>NR</var> for the number of rows info that will follow<br><strong>Next <var>NR</var> lines:</strong> Row info, as a space separated couple of values <var>CS</var>,<var>RS</var> for the colspan and rowspan attribute of each cell in this row<br><strong>Last line:</strong> The zero based index <var>IS</var> of the cell to split, in the order as appeared in the input, and a character <var>DS</var> that indicates if the cell's split is requested in two columns (&quot;<const>C</const>&quot;) or in two rows (&quot;<const>R</const>&quot;)</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong><var>NR</var> or <var>NR</var>+1 lines:</strong> Row info, as a space separated couple of values <var>CS</var>,<var>RS</var> for the colspan and rowspan of each cell in this row (hint: if <var>DS</var> is &quot;R&quot; then it will be one more row in the output with respect to the input)</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">1&le; <var>NR</var> &le; 100<br>The cell to be split has a span value of 1 in the direction asked (but can have any span value in the other direction).</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">2\n1,1 1,2\n1,1\n2 C</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">2,1 1,2\n1,1 1,1</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 230882201280,
  "avatar": 4030238757816,
  "commentCount": 12,
  "upVotes": 21,
  "downVotes": 5,
  "validateAction": {
    "actionId": 269058,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}