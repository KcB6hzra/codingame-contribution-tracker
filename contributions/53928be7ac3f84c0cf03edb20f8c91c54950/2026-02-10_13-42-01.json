{
  "id": 5392,
  "activeVersion": 33,
  "score": 13,
  "votableId": 14874345,
  "codingamerId": 2064637,
  "views": 342,
  "commentableId": 14792813,
  "title": "Thomas and the Freight Cars",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "java_coffee_cup",
  "publicHandle": "53928be7ac3f84c0cf03edb20f8c91c54950",
  "codingamerHandle": "f4c116cad137a7eee91b727ff6fe53597364602",
  "lastVersion": {
    "version": 33,
    "autocloseTime": 1601546581143,
    "data": {
      "title": "Thomas and the Freight Cars",
      "topics": [
        {
          "id": 142,
          "handle": "sorting",
          "labelMap": {
            "1": "Sorting",
            "2": "Sorting"
          },
          "puzzleCount": 4,
          "parentTopicId": 93
        },
        {
          "id": 60,
          "handle": "dynamic-programming",
          "labelMap": {
            "1": "Programmation dynamique",
            "2": "Dynamic programming"
          },
          "pageTitle": "Dynamic programming: exercises and theory",
          "puzzleCount": 16,
          "parentTopicId": 41,
          "contentDetailsId": 85
        }
      ],
      "solution": "input = new Scanner(System.in);\nn = input.nextInt()\nint[] arr = new int[n]\nfor (i = 0; i < n; ++i) {\n\tw = input.nextInt()\n\tarr[i] = w\n}\nint[] f1(int[] arr, int n) {\n\tint[] lis = new int[n]\n\tint i, j\n\tArrays.fill(lis, 1)\n\tfor (i = n - 2; i >= 0; i--) {\n\t\tfor (j = i + 1; j < n; j++) {\n\t\t\tif (arr[i] < arr[j] && lis[i] < lis[j] + 1) {\n\t\t\t\tlis[i] = lis[j] + 1\n\t\t\t}\n\t\t}\n\t}\n\treturn lis\n}\nint[] f2(int[] arr, int n) {\n\tint[] lds = new int[n]\n\tint i, j\n\tArrays.fill(lds, 1)\n\tfor (i = n - 2; i >= 0; i--) {\n\t\tint mx = 0\n\t\tfor (j = i + 1; j < n; j++) {\n\t\t\tif (arr[i] > arr[j]) {\n\t\t\t\tif (lds[j] > mx) mx = lds[j]\n\t\t\t}\n\t\t}\n\t\tlds[i] = mx + 1\n\t}\n\treturn lds\n}\nint[] lisArr = f1(arr, n)\nint[] ldsArr = f2(arr, n)\nint max = 0\nfor (i = 0; i < n; i++) {\n\tint sum = lisArr[i] + ldsArr[i]\n\tif (sum > max) max = sum\n}\nprintln(--max)\n",
      "statement": "Thomas is a tank engine. He received an order to pull a train of freight cars to the next town. He is waiting at the train station for the cars to link up.\n\nIndividual freight cars are moving into the train station in a predetermined order. Thomas wants to pull a train such that the heaviest load should be in the first car. The lighter the cars the rearer they should be arranged. Thomas said this is the most stable train arrangement.\n\nWhen a car arrives, it can be added to the front or the rear of the train of cars. (The first car to add will become the first single car in the train.) Or, a car can be diverted to another station without adding it at all. Thomas need not pull all the cars. His friends can help pull the rest.\n\nOnce linked up, it is impossible to insert a car to the middle of a train. Neither is it possible to unlink a car to relocate.\n\nThomas wants the resulting train be as long as possible but the cars must be sorted by weight. Tell Thomas how long the train of cars will be.\n\n<<Example>>\n\n5 freight cars of different weights come in this sequence (the numbers are their weights):\n4 5 1 3 2\n\n4 comes, the train will be 4\n5 comes, add to front. The train will be 5 4\n1 comes, discard\n3 comes, add to rear. The train will be 5 4 3\n2 comes, add to rear. The train will be 5 4 3 2\n\nThe train will have a length of 4, which happens to be the longest possible length.",
      "testCases": [
        {
          "title": "Sample",
          "isTest": true,
          "testIn": "5\n4 5 1 3 2",
          "testOut": "4",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Validator  Sample",
          "isTest": false,
          "testIn": "5\n1 2 5 4 3",
          "testOut": "3",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "10 Cars",
          "isTest": true,
          "testIn": "10\n5 9 1 6 8 7 3 10 4 2",
          "testOut": "6",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Validator 10",
          "isTest": false,
          "testIn": "10\n3 8 1 5 10 4 9 2 7 6",
          "testOut": "5",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "20 Cars",
          "isTest": true,
          "testIn": "20\n64 3 38 6 39 7 73 9 41 14 48 81 17 19 52 55 26 28 61 94",
          "testOut": "11",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Validator 20",
          "isTest": false,
          "testIn": "20\n97 34 4 36 6 39 8 41 42 77 14 17 84 20 22 86 57 60 62 30",
          "testOut": "10",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "40 Cars",
          "isTest": true,
          "testIn": "40\n57 47 50 4 26 1 60 44 30 54 19 21 52 32 24 15 45 8 16 22 55 46 12 39 36 25 9 28 11 7 23 51 35 40 29 37 58 53 34 18",
          "testOut": "12",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Validator 40",
          "isTest": false,
          "testIn": "40\n13 24 17 47 2 58 45 49 31 59 41 5 33 30 27 42 34 50 6 56 51 23 9 7 11 57 15 46 35 36 22 52 39 1 12 53 55 60 37 8",
          "testOut": "17",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "60 Cars",
          "isTest": true,
          "testIn": "60\n91 97 110 169 71 122 167 66 158 106 173 127 49 148 48 6 175 8 82 103 154 117 165 62 123 170 140 1 89 70 128 9 34 94 24 15 116 13 200 147 139 188 69 33 190 153 95 108 174 12 22 41 37 67 168 92 130 98 52 198",
          "testOut": "21",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Validator 60",
          "isTest": false,
          "testIn": "60\n166 49 4 180 78 197 102 19 132 26 123 47 50 137 12 185 162 67 171 186 165 65 36 177 90 71 53 112 10 27 164 59 187 111 151 161 153 108 11 29 194 160 176 100 125 134 15 159 23 124 1 2 138 56 169 154 89 94 74 84",
          "testOut": "15",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "100 Cars",
          "isTest": true,
          "testIn": "100\n161 226 182 80 39 178 60 48 141 51 211 195 78 81 105 70 127 124 113 24 171 50 85 15 228 154 149 112 69 23 218 82 207 53 5 117 223 68 17 144 57 20 147 237 96 125 25 213 235 54 221 72 139 194 2 6 142 107 162 153 187 37 64 3 240 201 191 155 104 119 210 209 71 27 109 42 18 116 30 122 34 172 35 238 43 93 102 92 83 225 77 204 21 36 248 157 67 106 52 189",
          "testOut": "23",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 100",
          "isTest": false,
          "testIn": "100\n195 47 214 97 82 71 186 35 190 238 105 65 158 39 192 33 53 167 224 69 117 165 151 197 66 187 27 229 215 20 145 89 188 193 157 227 38 32 240 30 137 59 135 199 108 231 31 12 109 162 49 194 2 198 205 132 159 86 223 166 74 61 148 133 114 200 1 14 141 112 88 222 77 168 212 51 138 91 206 149 80 44 98 126 219 124 17 247 83 225 87 134 60 64 99 4 164 120 58 155",
          "testOut": "25",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "hard",
      "constraints": "1 ≤ [[N]] ≤ 100\n1 ≤ weight of a car ≤ 1000",
      "coverBinaryId": 49432983449795,
      "stubGenerator": "read N:int\nloopline N w:int\nwrite answer",
      "inputDescription": "<<Line 1:>> An integer [[N]] for the number of freight cars to come\n<<Line 2:>> [[N]] integers separated by space, for the weight of each freight car in the order they are coming to the station.\nNo two cars have the same weight.",
      "solutionLanguage": "Groovy",
      "outputDescription": "<<Line 1:>> The number of cars in the longest train that can be formed from the coming car sequence, under the conditions described above."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Thomas is a tank engine. He received an order to pull a train of freight cars to the next town. He is waiting at the train station for the cars to link up.<br><br>Individual freight cars are moving into the train station in a predetermined order. Thomas wants to pull a train such that the heaviest load should be in the first car. The lighter the cars the rearer they should be arranged. Thomas said this is the most stable train arrangement.<br><br>When a car arrives, it can be added to the front or the rear of the train of cars. (The first car to add will become the first single car in the train.) Or, a car can be diverted to another station without adding it at all. Thomas need not pull all the cars. His friends can help pull the rest.<br><br>Once linked up, it is impossible to insert a car to the middle of a train. Neither is it possible to unlink a car to relocate.<br><br>Thomas wants the resulting train be as long as possible but the cars must be sorted by weight. Tell Thomas how long the train of cars will be.<br><br><strong>Example</strong><br><br>5 freight cars of different weights come in this sequence (the numbers are their weights):<br>4 5 1 3 2<br><br>4 comes, the train will be 4<br>5 comes, add to front. The train will be 5 4<br>1 comes, discard<br>3 comes, add to rear. The train will be 5 4 3<br>2 comes, add to rear. The train will be 5 4 3 2<br><br>The train will have a length of 4, which happens to be the longest possible length.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> An integer <var>N</var> for the number of freight cars to come<br><strong>Line 2:</strong> <var>N</var> integers separated by space, for the weight of each freight car in the order they are coming to the station.<br>No two cars have the same weight.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>Line 1:</strong> The number of cars in the longest train that can be formed from the coming car sequence, under the conditions described above.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">1 &le; <var>N</var> &le; 100<br>1 &le; weight of a car &le; 1000</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">5\n4 5 1 3 2</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">4</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 170021775282,
  "avatar": 13281799951852,
  "commentCount": 14,
  "upVotes": 13,
  "downVotes": 0,
  "validateAction": {
    "actionId": 491164,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1600709144891,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}