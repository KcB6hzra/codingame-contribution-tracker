{
  "id": 56247,
  "activeVersion": 89,
  "score": 34,
  "votableId": 29202524,
  "codingamerId": 4337092,
  "views": 874,
  "commentableId": 29069612,
  "title": "Solve for X",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Timinator",
  "publicHandle": "56247a411b99f1d6f639e52719f53cf7a79aa",
  "codingamerHandle": "2df7157da821f39bbf6b36efae1568142907334",
  "lastVersion": {
    "version": 89,
    "autocloseTime": 1704157744738,
    "data": {
      "title": "Solve for X",
      "topics": [
        {
          "id": 67,
          "handle": "parsing",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Parsing",
            "2": "Parsing"
          },
          "pageTitle": "Parsing: exercises and theory",
          "puzzleCount": 33,
          "parentTopicId": 41,
          "contentDetailsId": 102
        },
        {
          "id": 129,
          "handle": "arithmetic",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Arithmetic",
            "2": "Arithmetic"
          },
          "puzzleCount": 26,
          "parentTopicId": 93
        }
      ],
      "solution": "import sys\n\n# This Term class isn't currently used for anything. It just feels like\n# it should be part of the overall design, but maybe not.\nclass Term():\n\n    def value(self):\n        pass\n\n\nclass Constant(Term):\n\n    def __init__(self, numerator, denominator = 1):\n        self.numerator   = numerator\n        self.denominator = denominator\n\n    \n    def __eq__(self, other):\n        if type(other) != Constant:\n            return False\n\n        if self.denominator != 0 and other.denominator != 0:\n            return self.numerator/self.denominator == other.numerator/other.denominator\n\n        return self.denominator == other.denominator == 0\n\n    \n    # This method is used by sorted() when sorting a list of terms.\n    def __gt__(self, other):\n        if type(other) == Expression:\n            return False\n\n        if self.denominator != 0 and other.denominator != 0:\n            return self.numerator/self.denominator > other.numerator/other.denominator\n    \n        return False\n\n    \n    def __add__(self, other):\n        return Constant(self.numerator * other.denominator + self.denominator * other.numerator, \n                        self.denominator * other.denominator)\n\n    \n    def __sub__(self, other):\n        return Constant(self.numerator * other.denominator - self.denominator * other.numerator, \n                        self.denominator * other.denominator)\n\n    \n    def __mul__(self, other):\n        return Constant(self.numerator * other.numerator, self.denominator * other.denominator)\n\n    \n    def __truediv__(self, other):\n        return Constant(self.numerator * other.denominator, self.denominator * other.numerator)\n\n    \n    def value(self):\n        return self\n\n    \n    def __str__(self):\n        if self.denominator == 1:\n            return str(self.numerator)\n        elif self.denominator == 0:\n            return 'undefined'\n        else:\n            return f'{self.numerator/self.denominator:.2f}'\n\n\nclass Expression(Term):\n\n    def __init__(self, terms: list, operators: list = []):\n        self.terms = terms\n        self.operators = operators\n\n\n    def contains_x(self):\n        for term in self.terms:\n            if term == 'x' or (type(term) == Expression and term.contains_x()):\n                return True\n\n        return False\n\n    \n    # This method is used by sorted() when sorting a list of terms.\n    def __gt__(self, other):\n        if type(other) != Expression:\n            return True\n\n        if self.value() > other.value():\n            return True\n        elif self.value() == other.value() and f'{self}' > f'{other}':\n            return True\n        else:\n            return False\n\n\n    def is_division(self):\n        return len(self.operators) == 1 and self.operators[0] == '/'\n\n\n    def is_multiplication(self):\n        return self.operators and all(op == '*' for op in self.operators)\n\n    \n    def is_mult_div(self):\n        return self.operators and all(op in '*/' for op in self.operators)\n\n\n    def is_add_sub(self):\n        return self.operators and all(op in '+-' for op in self.operators)\n\n\n    def value(self):\n        terms = [t.value() for t in self.terms]\n        expression = ''\n        for i in range(len(self.operators)):\n            expression += f'terms[{i}]{self.operators[i]}'\n        expression += f'terms[-1]'\n\n        return eval(expression)\n\n\n    # Rewriting division means rearranging all terms in a multiplication/division expression  \n    # resulting in one of two formats: Single division if there are numerator and denominator \n    # terms. If the denominator has no terms, the numerator terms can all be separated with *.\n    def rewrite_division(self):\n        for term in self.terms:\n            if type(term) == Expression:\n                term.rewrite_division()\n\n        if self.is_mult_div():\n\n            top = []\n            bottom = []\n\n            for idx, term in enumerate(self.terms):\n                if idx == 0 or self.operators[idx - 1] == '*':\n                    if type(term) != Expression or not term.is_division():\n                        top.append(term)\n                    else:\n                        top.append(term.terms[0])\n                        bottom.append(term.terms[1])\n                else:\n                    if type(term) != Expression or not term.is_division():\n                        bottom.append(term)\n                    else:\n                        bottom.append(term.terms[0])\n                        top.append(term.terms[1])\n\n            if not bottom:\n                self.terms = top\n                self.operators = ['*'] * (len(top) - 1)\n            else:\n                t1 = [top[0], Expression(top, ['*'] * (len(top) - 1))][len(top) > 1]\n                t2 = [bottom[0], Expression(bottom, ['*'] * (len(bottom) - 1))][len(bottom) > 1]\n                self.terms = [t1, t2]\n                self.operators = ['/']\n\n\n    # Sorting an expression has two primary steps: \n    #    1) Move all + before -\n    #    2) Sort the terms per the rules identified in 24: The Long Game.\n    def sort(self):\n\n        for term in self.terms:\n            if type(term) == Expression:\n                term.sort()\n\n        if self.is_add_sub():\n            # Move additions (+) to the front while letting subtractions (-) drift to the back.\n            for i in range(len(self.operators)):\n                if self.operators[i] == '+':\n                    self.terms = [self.terms.pop(i+1)] + self.terms\n                    self.operators = [self.operators.pop(i)] + self.operators\n\n        # Sort all terms on either side of a plus sign:\n        indexes = [idx for idx, op in enumerate(self.operators) if op == '+']\n        if indexes:\n            self.terms[:indexes[-1] + 2] = sorted(self.terms[:indexes[-1] + 2])\n\n        # Sort the terms behind minus signs:\n        indexes = [idx for idx, op in enumerate(self.operators) if op == '-']\n        if indexes:\n            self.terms[indexes[0] + 1:] = sorted(self.terms[indexes[0] + 1:])\n\n        # Sort all terms on either side of a multiplication sign:\n        indexes = [idx for idx, op in enumerate(self.operators) if op == '*']\n        if indexes:\n            self.terms[:indexes[-1] + 2] = sorted(self.terms[:indexes[-1] + 2])\n\n        # Sort the terms behind division signs:\n        indexes = [idx for idx, op in enumerate(self.operators) if op == '/']\n        if indexes:\n            self.terms[indexes[0] + 1:] = sorted(self.terms[indexes[0] + 1:])\n\n\n    def standardize(self, sort=True):\n\n        # The first step in eliminating parentheses is to rewrite division where possible.\n        self.rewrite_division()\n\n        # The second part of eliminating parentheses comes down to eliminating subexpressions whenever\n        # possible. A single expression can have + and - or it could have * and /. Because * and / create \n        # subexpressions, there is no way for a single expression to have both a (+ or -) AND (* or /).\n        # These facts make the process of eliminating subexpressions fairly straightforward.\n\n        for term in self.terms:\n            if type(term) == Expression:\n                term.standardize()\n\n        new_terms = []\n        new_operators = []\n\n        if self.is_mult_div():\n            for idx, term in enumerate(self.terms):\n                if type(term) != Expression or term.is_add_sub():\n                    new_terms.append(term)\n                elif idx > 0 and new_operators[-1] == '/' and term.is_multiplication():\n                    new_terms.extend(term.terms)\n                    new_operators.extend(['/'] * len(term.operators))\n                else:\n                    new_terms.extend(term.terms)\n                    new_operators.extend(term.operators)\n\n                if idx != len(self.operators):\n                    new_operators.append(self.operators[idx])\n\n        else:\n            for idx, term in enumerate(self.terms):\n                if idx == 0:\n                    if type(term) != Expression or term.is_mult_div():\n                        new_terms.append(term)\n                    else:\n                        new_terms.extend(term.terms)\n                        new_operators.extend(term.operators)\n                else:\n                    if type(term) != Expression or term.is_mult_div():\n                        new_terms.append(term)\n                    elif new_operators[-1] == '+':\n                        new_terms.extend(term.terms)\n                        new_operators.extend(term.operators)\n                    else:\n                        new_terms.extend(term.terms)\n                        new_operators.extend(['+-'[op=='+'] for op in term.operators])\n\n                if idx != len(self.operators):\n                    new_operators.append(self.operators[idx])\n\n        self.terms = new_terms\n        self.operators = new_operators\n\n        # After eliminating all the parentheses, terms just need to be sorted.\n        self.sort()\n\n\n    def __str__(self):\n        expression = ''\n        for i, term in enumerate(self.terms):\n            if type(term) == Expression:\n                if i > 0 and (term.is_mult_div() and self.operators[i - 1] == '/') or \\\n                             (term.is_add_sub() and self.operators[i - 1] in '*/'):\n                    expression += f'({self.terms[i]})'                           \n                elif i == 0 and term.is_add_sub() and self.operators[i] in '*/':\n                    expression += f'({self.terms[i]})'\n                else:\n                    expression += f'{self.terms[i]}'\n            else:\n                expression += f'{self.terms[i]}'\n            \n            if i < len(self.operators):\n                expression += self.operators[i]\n\n        return expression\n\n\n# Turn a string into an Expression.\ndef parse_expression(exp: str):\n    terms = []\n    operators = []\n\n    idx_1 = 0\n    while idx_1 < len(exp):\n        if exp[idx_1] == '(':\n            paren_count = 1\n            idx_2 = idx_1\n            while paren_count > 0:\n                idx_2 += 1\n                if exp[idx_2] == '(':\n                    paren_count += 1\n                elif exp[idx_2] == ')':\n                    paren_count -= 1\n            terms.append(parse_expression(exp[idx_1 + 1:idx_2]))\n            idx_1 = idx_2\n            \n        elif exp[idx_1].isnumeric():\n            num = int(exp[idx_1])\n            while idx_1 < len(exp) - 1 and exp[idx_1 + 1].isnumeric():\n                idx_1 += 1\n                num = num * 10 + int(exp[idx_1])\n            terms.append(Constant(num))\n\n        elif exp[idx_1].isalpha():\n            terms.append(exp[idx_1])\n\n        # Only other option is an operator.\n        else:\n            operators.append(exp[idx_1])\n\n        idx_1 += 1\n\n    # Before returning the expression, check to see if the exp is mixed\n    # by having both (+ or -) and (* of /)\n    if any(op in '+-' for op in operators) and any(op in '*/' for op in operators):\n\n        idx = 0\n        subset_terms = []\n        subset_operators = []\n        final_terms = []\n        final_operators = []\n        for idx, op in enumerate(operators):\n            if op in '*/':\n                subset_terms.append(terms[idx])\n                subset_operators.append(op)\n            elif op in '+-':\n                if subset_terms:\n                    subset_terms.append(terms[idx])\n                    final_terms.append(Expression(subset_terms, subset_operators))\n                    subset_terms = []\n                    subset_operators = []\n                else:\n                    final_terms.append(terms[idx])\n                final_operators.append(op)\n                \n        if subset_terms:\n            subset_terms.append(terms[-1])\n            final_terms.append(Expression(subset_terms, subset_operators))\n        else:\n            final_terms.append(terms[-1])\n\n        terms = final_terms\n        operators = final_operators\n        \n    return Expression(terms, operators)\n\n\n\n# Main Program\nfor _ in range(int(input())):\n    left, right = input().split('=')\n\n    print(f'\\nInput Equation: {left}={right}', file=sys.stderr, flush=True)\n\n    left  = parse_expression(left)\n    right = parse_expression(right)\n\n    if right.contains_x():\n        left, right = right, left\n    \n    while left != 'x':\n        if left.is_add_sub():\n    \n            # If the right side is multiplication/division expression, it must be changed to\n            # to addition/subtraction to handle the addition of new terms.\n            if right.is_mult_div():\n                right = Expression([right], [])\n    \n            # Determine which term on the left side contains x.\n            for x_loc, term in enumerate(left.terms):\n                if term == 'x' or (type(term) == Expression and term.contains_x()):\n                    break\n    \n            new_left_side = term\n    \n            if x_loc == 0 or left.operators[x_loc - 1] == '+':\n                for idx, term in enumerate(left.terms):\n                    if idx != x_loc:\n                        right.terms.append(term)\n                        right.operators.append('+-'[idx == 0 or left.operators[idx - 1] == '+'])\n            else:\n                right.terms.insert(0, left.terms[0])\n                right.operators.insert(0, '-')\n                for idx in range(1, len(right.operators)):\n                    right.operators[idx] = '+-'[right.operators[idx] == '+']\n    \n                for idx, term in enumerate(left.terms[1:], 1):\n                    if idx != x_loc:\n                        right.terms.append(term)\n                        right.operators.append(left.operators[idx - 1])\n    \n            left = new_left_side\n    \n        # Handle the case where the expression with x is multiplication/division\n        else:            \n\n            # If the right side is an addition/subtraction expression, it must be changed to\n            # to multiplication/division to handle the addition of new terms.\n            if right.is_add_sub():\n                right = Expression([right], [])\n    \n            # Determine which term on the left side contains x.\n            for x_loc, term in enumerate(left.terms):\n                if term == 'x' or (type(term) == Expression and term.contains_x()):\n                    break\n    \n            new_left_side = term\n    \n            # print(f'{new_left_side}')\n    \n            if x_loc == 0 or left.operators[x_loc - 1] == '*':\n                for idx, term in enumerate(left.terms):\n                    if idx != x_loc:\n                        right.terms.append(term)\n                        right.operators.append('*/'[idx == 0 or left.operators[idx - 1] == '*'])\n            else:\n                left.terms.pop(x_loc)\n                left.operators.pop(x_loc - 1)\n                left.terms.append(right.terms[0])\n                left.operators.append('/')\n    \n                left.terms += right.terms[1:]\n                left.operators += ['*/'[op == '*'] for op in right.operators]\n    \n                right = left\n    \n            left = new_left_side\n\n    right.standardize()\n    print(f'{left}={right}')",
      "statement": "This puzzle builds on the concepts explored in the puzzle 24: The Long Game by @jddingemanse. Significant insight can be gained by solving that puzzle before working through this one:\n\nhttps://www.codingame.com/training/hard/24-the-long-game\n\nIn this puzzle, you are given an [[equation]] with a variable <<x>> somewhere in that equation. Your task is to <<REARRANGE>> the terms of the expressions on either side of the equal sign to produce an equation in the following form:\n\n{{x=}}[[expression]]\n\nThe [[expression]] on the right side of the equal sign must be in \"standard form\" per the rules identified in 24: The Long Game. For your convenience, those rules are copied below. <<To see these rules applied to a sample expression, please refer back to 24: The Long Game.>>\n\n\n<<EXPRESSIONS, TERMS AND SUBEXPRESSIONS>>\nTo understand the rules for rewriting expressions, we must distinguish <<expressions, terms and subexpressions>>.\n\n<<expression:>> Terms separated by mathematical operators that can be evaluated from left to right. For example: {{1+2+3+18}}, {{3*2*1*4}}, {{24+10-6-4}}, {{24/1/1/1}} or {{2*3*40/10}}. \n\n<<term:>> A constant or a subexpression. The expression {{3+7*(1+2)}} has two terms. The first term is the constant {{3}}. The second term is the subexpression {{7*(1+2)}} - which itself also consists of one constant {{7}} and one subexpression {{(1+2)}}.\n\n<<subexpression:>> A subexpression is an expression that must be evaluated before the parent expression can be evaluated. The expression {{(1+2)*(9-1)}} consists of two terms, both of which are subexpressions: {{(1+2)}} and {{(9-1)}}. The expression {{20+6/3+2}} consists of three terms, of which one is a subexpression: {{6/3}} (the other two terms are the constants {{20}} and {{2}}).\n\n<<REWRITING EXPRESSIONS>>\n<<Only rewrite an expression such that it remains mathematically the same.>>\nRewrite expressions according to the following three rules:\n\n<<1. Use as few parentheses as possible.>>\n- Remove unnecessary parentheses: {{(1*2)*3*4}}→{{1*2*3*4}}\n- Rewrite an expression, if necessary: {{9+18-(2+1)}}→{{9+18-2-1}}, {{12/(3/(2+4))}}→{{12*(2+4)/3}}\n\t\n<<2. Sort operators: {{+}} before {{-}} and {{*}} before {{/}}.>>\n- Change the order of terms such that for their connecting operators {{+}} comes before {{-}}, and {{*}} comes before {{/}}\n- Do this within a parent expression: {{8-3+9+10}}→{{8+9+10-3}}, {{2/3*6*6}}→{{2*6*6/3}}, {{8-2+3*6}}→{{8+3*6-2}}\n- Do this within a subexpression: {{3*(5-4+7)}}→{{3*(5+7-4)}}, {{8+6/3*8}}→{{8+6*8/3}}\n- This does not apply to operators in two different subexpressions: in {{(3-1)*(5+7)}}, the {{-}} and {{+}} are not part of the same subexpression, so their order is not decided by this rule (instead, use rule 3c for this case).\n\n<<3. For cases not decided by rule 2, sort terms of expressions and subexpressions>>\n<< a)>> Sort constants in ascending order: {{3*(16-5-3)}}→{{3*(16-3-5)}}, {{4+5*4*1}}→{{4+1*4*5}}, {{25-10/5/2}}→{{25-10/2/5}}\n<< b)>> Place constants before subexpressions: {{(16-3-5)*3}}→{{3*(16-3-5)}}, {{5*8/4+14}}→{{14+5*8/4}}\n<< c)>> Sort two subexpressions according to their numerical value: {{4*5+1*4}}→{{1*4+4*5}} (1*4 < 4*5), {{(5+7)*(3-1)}}→{{(3-1)*(5+7)}} (3-1 < 5+7)\nIn the case of equal value, sort the subexpressions as strings, based on the ASCII value of characters: {{48/4+3*4}}→{{3*4+48/4}} ('3*4' < '48/4')",
      "testCases": [
        {
          "title": "Addition",
          "isTest": true,
          "testIn": "6\n3+x=7\nx+44=6\n18=29+x\n310=x+429\nx+4+9+2+23+18=13+26+3+1\n8+4+10+67+234=x+87+98+12+65",
          "testOut": "x=7-3\nx=6-44\nx=18-29\nx=310-429\nx=1+3+13+26-2-4-9-18-23\nx=4+8+10+67+234-12-65-87-98",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "6\n1+x=2\nx+24=6\n38=49+x\n319=x+220\n14+92+21+3+x=23+16+32+111\n83+41+11+167+4=78+9+x+65",
          "testOut": "x=2-1\nx=6-24\nx=38-49\nx=319-220\nx=16+23+32+111-3-14-21-92\nx=4+11+41+83+167-9-65-78",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Subtraction",
          "isTest": true,
          "testIn": "6\n3-x=7\nx-14=6\n85=95-x\n178=x-287\n4-9-28-13-x=223-116-2-11\n35-4-11-17-400=178-19-x-6",
          "testOut": "x=3-7\nx=6+14\nx=95-85\nx=178+287\nx=2+4+11+116-9-13-28-223\nx=4+11+17+178+400-6-19-35",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "6\n5-x=2\nx-41=9\n58=59-x\n781=x-827\n34-19-8-x-65=23-16-12-4\n5-4-111-172-40=x-19-4-6",
          "testOut": "x=5-2\nx=9+41\nx=59-58\nx=781+827\nx=4+12+16+34-8-19-23-65\nx=4+5+6+19-4-40-111-172",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Multiplication",
          "isTest": true,
          "testIn": "6\n4*x=3\nx*32=8\n81=76*x\n345=x*876\n4*8*12*16*15*10=22*x*31*40*2\n8*x*4*2*76*45=19*34*87*46",
          "testOut": "x=3/4\nx=8/32\nx=81/76\nx=345/876\nx=4*8*10*12*15*16/2/22/31/40\nx=19*34*46*87/2/4/8/45/76",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "6\n9*x=2\nx*8=21\n99=22*x\n854=x*238\n14*18*2*6*5*101=212*x*30*41*7\n28*42*22*726*x=129*4*7*6",
          "testOut": "x=2/9\nx=21/8\nx=99/22\nx=854/238\nx=2*5*6*14*18*101/7/30/41/212\nx=4*6*7*129/22/28/42/726",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Division I",
          "isTest": true,
          "testIn": "4\n5/x=3\nx/2=65\n73=54/x\n100=x/361",
          "testOut": "x=5/3\nx=2*65\nx=54/73\nx=100*361",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "4\n9/x=1\nx/76=5\n37=99/x\n309=x/233",
          "testOut": "x=9/1\nx=5*76\nx=99/37\nx=233*309",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Division II",
          "isTest": true,
          "testIn": "4\n12/x/16/2=7/85/119\n(25/x)/(2/9)=45/23/3\n9/34=(2/342)/(x/76)\n(5/3/x/9/7)/(56/23/45/10/41)=(17/4/14)/(85/31/92)",
          "testOut": "x=12*85*119/2/7/16\nx=3*9*23*25/2/45\nx=2*34*76/9/342\nx=4*5*10*14*23*41*45*85/3/7/9/17/31/56/92",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "4\n23/7/x/3=8/2/9\n(x/24)/(13/12)=2/10/3\n10/45=(6/24)/(13/x)\n(x/3/82/9/7)/(65/32/54/17/14)=(71/42/11)/(85/31/12)",
          "testOut": "x=2*9*23/3/7/8\nx=2*13*24/3/10/12\nx=10*13*24/6/45\nx=3*7*9*12*31*65*71*82/11/14/17/32/42/54/85",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Sorting Subexpressions",
          "isTest": true,
          "testIn": "8\n4/8+1/2=x+6/12+3/6\n1/2+20/32+100/160+4/8+9/18+3/6+x+20/40=8/8+2/8+5/8+7/8+10/40\n3/9-6/18=x-4/12-2/6\n1/4-20/32-100/160-4/16-9/36-3/12-x-20/80=81/81-8/2-6/3-7/8-10/40-8/32-100/400\n(8+5)*(4+9)*x=(6+7)*(11+2)\n(14+7)*(29-8)*x*(20+1)*(36-15)*(8+5)*(4+9)=(36-4)*(12+20)*(14+18)*(29+3)*(64-32)*(44-12)\n(8+6+5)*(29-6)*x*(22-2+1)*(34-15)*(8+7)*(16-5+4)=(26-4)*(2+20)*(14+8)*(19+3+7-10)*(54-32)*(34-12)\n4000/100-330/11+8*5+((180/9*14/7)+(80*4)-40)/(6+2)-390/13=8-(500-420)/2+x+(150-105)/30*20-7*(34+6)/(3+4)",
          "testOut": "x=1/2+4/8-3/6-6/12\nx=10/40+2/8+5/8+7/8+8/8-1/2-20/40-3/6-4/8-9/18-100/160-20/32\nx=2/6+3/9+4/12-6/18\nx=1/4+10/40+100/400+8/32+7/8+6/3+8/2-20/80-3/12-4/16-9/36-100/160-20/32-81/81\nx=(2+11)*(6+7)/(4+9)/(5+8)\nx=(12+20)*(14+18)*(3+29)*(36-4)*(44-12)*(64-32)/(4+9)/(5+8)/(1+20)/(29-8)/(36-15)/(7+14)\nx=(3+7+19-10)*(2+20)*(26-4)*(34-12)*(54-32)*(8+14)/(4+16-5)/(7+8)/(34-15)/(5+6+8)/(1+22-2)/(29-6)\nx=(14*180/7/9+4*80-40)/(2+6)+(500-420)/2+4000/100+5*8+7*(6+34)/(3+4)-8-20*(150-105)/30-330/11-390/13",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 6",
          "isTest": false,
          "testIn": "8\n2/10+1/5=x+5/25+3/15\n2/6+x+15/45+2/160+9/27+30/90+320/960=6/8+3/4+16/64+7/8+10/40\n4/16-2/8-x=3/12-1/4\n7/8-49/56-x-35/40-70/80-140/160-20/80=36/81-36/4-18/2-99/11-21/5-72/45\n(7+4)*(3+8)*x=(6+5)*(2+9)\n(14+5)*(29-6)*x*(18+1)*(34-15)*(8+7)*(4+11)=(26-4)*(2+20)*(14+8)*(19+3)*(54-32)*(34-12)\n(9+2+7+3)*(29-8)*x*(20+1)*(36-15)*(8+5)*(4+9)=(48-12-4)*(12+20)*(14+18)*(19+9+4)*(64-32)*(44-12)\n3000/60-320/40+10*5+((180/9*14/7)+(80*4)-10)/(6+1)-160/20=8-(120-20)/2+x+(150-90)/30*40-(44+6)*7/(3+4)",
          "testOut": "x=1/5+2/10-3/15-5/25\nx=10/40+16/64+3/4+6/8+7/8-2/160-15/45-2/6-30/90-320/960-9/27\nx=1/4+4/16-2/8-3/12\nx=7/8+72/45+21/5+18/2+36/4+99/11-20/80-36/81-140/160-35/40-49/56-70/80\nx=(2+9)*(5+6)/(3+8)/(4+7)\nx=(2+20)*(26-4)*(3+19)*(34-12)*(54-32)*(8+14)/(4+11)/(7+8)/(1+18)/(34-15)/(5+14)/(29-6)\nx=(12+20)*(14+18)*(4+9+19)*(44-12)*(48-4-12)*(64-32)/(4+9)/(5+8)/(1+20)/(2+3+7+9)/(29-8)/(36-15)\nx=(120-20)/2+(14*180/7/9+4*80-10)/(1+6)+3000/60+5*10+7*(6+44)/(3+4)-8-160/20-320/40-40*(150-90)/30",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Easy",
          "isTest": true,
          "testIn": "40\n(159*7)/120=x+140\n(153/76)/188=x/4/12\n44-4=28+x/89+78\n5-95+50=95+x\nx-93=(63/52)/116\n37/(185-127/170)=x*105\n9-x-104=50/153/(110-71)\n83-78=176/(80*x)\n105+89-(192+121)=x/35\n(49/(62*43))*x=168-(175*139+61)\n134-(178+182)=48*120/54+x\n(x-176)-99=(193/62)/83\nx-26=(50-86)-167\n((88-46)+165)*x=153/(64*184)\n98+134/57*39=14*x\n99/(135+183/77)=3/((x+190)*66)\n135*(x-15)=115+125\n151-188=142-36*x\n187*43*x=163-143*83/15\n79-140=51-(59/65*x)\nx+194=97*127\n(83+169)/63=x+163\n((182+195)*185)/102=x/186\n30+74/198*109=146*x\n63-x=17+(132+189)\n(59-138)/18/183=x-42\n(188+168)/x=157-134/190-181\n23/161/133=102/x*77\n52-30-175=180/102/(181*x)\n12*(x-147)-176=(116*175)*139\n25-19-168*119=x-50+107-175\n141*(87/(97*135))=(120*146)*179/x\nx*123=198-200+79-108\n99-193/97=x/94\n(x-41)/144=((186+65)-72)/119\nx-67=156*(44/149)+198\nx*165=(5*(198/9))+88\n((100-137)-182)-x=77/(140*101-36)\n141-x/156-137=88*74\n48/45=x-165",
          "testOut": "x=7*159/120-140\nx=4*12*153/76/188\nx=89*(44-4-28-78)\nx=5+50-95-95\nx=93+63/52/116\nx=37/105/(185-127/170)\nx=9-104-50/153/(110-71)\nx=176/80/(83-78)\nx=35*(89+105-121-192)\nx=43*62*(168-61-139*175)/49\nx=134-178-182-48*120/54\nx=99+176+193/62/83\nx=26+50-86-167\nx=153/64/184/(88+165-46)\nx=(98+39*134/57)/14\nx=3*(135+183/77)/66/99-190\nx=15+(115+125)/135\nx=(142+188-151)/36\nx=(163-83*143/15)/43/187\nx=65*(51+140-79)/59\nx=97*127-194\nx=(83+169)/63-163\nx=185*186*(182+195)/102\nx=(30+74*109/198)/146\nx=63-17-132-189\nx=42+(59-138)/18/183\nx=(168+188)/(157-181-134/190)\nx=77*102*133*161/23\nx=180/102/181/(52-30-175)\nx=147+(176+116*139*175)/12\nx=25+50+175-19-107-119*168\nx=97*120*135*146*179/87/141\nx=(79+198-108-200)/123\nx=94*(99-193/97)\nx=41+144*(65+186-72)/119\nx=67+198+44*156/149\nx=(88+5*198/9)/165\nx=100-137-182-77/(101*140-36)\nx=156*(141-137-74*88)\nx=165+48/45",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 7",
          "isTest": false,
          "testIn": "39\n(145-153)/154+148=25-x\n(x+56)+114=(97/124)-24/177\n83-(x-(31-182))=67-93/144*181\n145*18-70=(176/116)/x\n92/(186-127)=38/x*41\n56-x=100-(71/198)\n3*(27-(74+61))=174+(46+130-x)\nx-150/200=58*133/127\nx/24=129/149+18\n142+135/154/155=179*((x+69)*3)\n114*((x/56)*71)=157-31/44\n75+179=120*x+96\n(107-132-13)/166=(121/(x+50))-84\n191/133=114*x\n192+179*39+8=26+170/x\n165+148+108-152=x/57/99/200\nx-142+118+134=195-(100/41)+22\n186/87=x+56\n87*198-53=((x*94)/87)+3\n180*(155/x)=87+(76-131)\nx+165*96=(179+60)-164\n(136-56)-64-x=146-(176+137)\n193*(x*62)=181/198-115\n34+47-195/125=x-129\nx+178=46*153\n94*x=188*180\nx/152=16-26\n6*(160-x)/64=48-((181+53)-108)\n35+21=(113+x)*61\nx-195*34=14/32*161\n78-144*66=x/19\n5/x=71/185\n18*120-x=(153*195)-83\n172/75=x-198\n49/(89-155*x)=183+140+81\n60-128=x+8\n((48/108)/17)*155=175-x\n135+91=75*((x/179)*31)\n156+x=42*(11*178)",
          "testOut": "x=25-148-(145-153)/154\nx=97/124-56-114-24/177\nx=31+83+93*181/144-67-182\nx=176/116/(18*145-70)\nx=38*41*(186-127)/92\nx=56+71/198-100\nx=46+130+174-3*(27-61-74)\nx=150/200+58*133/127\nx=24*(18+129/149)\nx=(142+135/154/155)/3/179-69\nx=56*(157-31/44)/71/114\nx=(75+179-96)/120\nx=121/(84+(107-13-132)/166)-50\nx=191/114/133\nx=170/(8+192+39*179-26)\nx=57*99*200*(108+148+165-152)\nx=22+142+195-118-134-100/41\nx=186/87-56\nx=87*(87*198-3-53)/94\nx=155*180/(76+87-131)\nx=60+179-164-96*165\nx=136+137+176-56-64-146\nx=(181/198-115)/62/193\nx=34+47+129-195/125\nx=46*153-178\nx=180*188/94\nx=152*(16-26)\nx=160-64*(48+108-53-181)/6\nx=(21+35)/61-113\nx=14*161/32+34*195\nx=19*(78-66*144)\nx=5*185/71\nx=83+18*120-153*195\nx=198+172/75\nx=(89-49/(81+140+183))/155\nx=60-8-128\nx=175-48*155/17/108\nx=179*(91+135)/31/75\nx=11*42*178-156",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Medium",
          "isTest": true,
          "testIn": "30\n29/163-(196/136*x*56)=110*(40*15/197)\nx-39/154-17/3+72=((167/49)/91)+27\n166*10*124*185-x=118*(183-(86/(192/177)))\n155+89/122*125=197*157+81/137*x\n22+163+24/(155/x)=150+1-28/54\n(147/(62/(x-105)))-26=98*142*193*167\n(x/(101/180))/19=(107*16)*66*123-53\n176/x/(80+81)+157-25=67+(27*((30+19)*81))\n123+x-23=((1/54)/139)+94\n(131+(68-189))/24=x/14*119+28-166+170\n147*118-156=(10+23)-x\n178-23*159=80*1/x-144/66/14\n87*(20+(x+103-34)-100)=(122+126)-156\nx+(193/126)=141+133/42+(156/46)\n30+141*166-200=156-(155*(x+120))\n145+(57/((x/48/50)*139))=129-(140/115)\n11-x-198+183=(50/(79/83/119))*100-90\nx/173+192=(198*142)+108\n35/179+89+140=32-((x/103)/150-10)\n175+192+142-188/35+191=x*101/196\n166-x-(((72/71)/185)/19)=(59+(13-46))*52\n189*x/92=162-173/46\n190/(78-(115/84))=x/(156/70)\n60*125-39*x*(18-4)=31*112/51/166\n32*(35+((137*(126*139))/123))=54*(33-(2+((10+84)/x)))\nx-137*90=122/(104/179)-39\n61/(5*154-(25/118))-124=x+(2*(167-11))\n61+(86-37/168)/x*153=((((84*82)/79)-100)+128)/87\n164/(x+(72/3-(98/93)))=115-(102-2)+20\nx/(113-180)=(158-71)/105-129/31",
          "testOut": "x=136*(29/163-15*40*110/197)/56/196\nx=27+167/49/91+39/154+17/3-72\nx=10*124*166*185-118*(183-86*177/192)\nx=137*(155+89*125/122-157*197)/81\nx=155*(1+150-22-163-28/54)/24\nx=105+62*(26+98*142*167*193)/147\nx=19*101*(16*66*107*123-53)/180\nx=176/(80+81)/(25+67+27*81*(19+30)-157)\nx=23+94+1/54/139-123\nx=14*(166+(68+131-189)/24-28-170)/119\nx=10+23+156-118*147\nx=1*80/(178+144/14/66-23*159)\nx=34+100+(122+126-156)/87-20-103\nx=141+133/42+156/46-193/126\nx=(156+200-30-141*166)/155-120\nx=48*50*57/139/(129-145-140/115)\nx=11+90+183-198-50*83*100*119/79\nx=173*(108+142*198-192)\nx=103*150*(10+32-89-140-35/179)\nx=196*(142+175+191+192-188/35)/101\nx=166-72/19/71/185-52*(13+59-46)\nx=92*(162-173/46)/189\nx=156*190/70/(78-115/84)\nx=(60*125-31*112/51/166)/39/(18-4)\nx=(10+84)/(33-2-32*(35+126*137*139/123)/54)\nx=122*179/104+90*137-39\nx=61/(5*154-25/118)-124-2*(167-11)\nx=153*(86-37/168)/((128+82*84/79-100)/87-61)\nx=98/93+164/(2+20+115-102)-72/3\nx=(113-180)*((158-71)/105-129/31)",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 8",
          "isTest": false,
          "testIn": "30\n3/131*91-183/189-66=x-89+5/65\n(((197*24+x)/163)/58)+121=161-81/27\n116*167-25=174-31/59*108*x\n158*(35-9)=50-(102*x)\n197+(((31*(x-112))+128)/83)=75*118+26+174+121\n62/141-x=112+82+61\n(166/(184/8))*151=85-x*195/135/169+40\n((3+4)*188/199)-107+x=135-1/77*(133+132)\n194*(85*151+52)=x-(92/114-20*144)\n(((184*199)-158)*151)-7+73=18-162/x\n185/(98*(179-x))=38+((13/186)+184)\n8-114/x=(72/150*44)-51\n52*(26*125*x/98)=(107+59)+129\nx/102/153/121-81+196=(198-171)*161\n62*(135+(((182*169)-x)*44))=146*(155+(82+177))\n80*173/176/144/68-151=13-181/25/21+x/44\n144*67-(119+181)=(81/161)-x\nx/91-168-134/16=92*(173/(87*((83-47)/166)))\n91/58*(((153/49)*33)-162)=99+(((18+x)-31)+104)\n153*143+59+105=9/((((161-x)+57)*39)*51)\nx-(26/169*(44-(58*63)))=(191*31)/146\n74/19*x=56-54*2/50-110\n124+(20-135)=(((108/109)*30)*x)+132\n199+116-(58/171/27)*x=((175*13)+169)/44\nx*158/153=22+(109-(171-99)/12)\n134/112/145/159=(((101/x)+51)/56)+34\n142+76+197=166+(((131/(115*197))*79)/x)\n150+(181*74)-x*58=(80*(178*27))-161/7\n167+x-53+184=32*((3/96)+131)\n(x*36)+104/50=(12-105)*150",
          "testOut": "x=89+3*91/131-66-5/65-183/189\nx=58*163*(161-121-81/27)-24*197\nx=59*(25+174-116*167)/31/108\nx=(50-158*(35-9))/102\nx=112+(83*(26+121+174+75*118-197)-128)/31\nx=62/141-61-82-112\nx=135*169*(40+85-8*151*166/184)/195\nx=107+135-1*(132+133)/77-188*(3+4)/199\nx=92/114+194*(52+85*151)-20*144\nx=162/(7+18-73-151*(184*199-158))\nx=179-185/98/(38+184+13/186)\nx=114/(8+51-44*72/150)\nx=98*(59+107+129)/26/52/125\nx=102*121*153*(81+161*(198-171)-196)\nx=169*182-(146*(82+155+177)/62-135)/44\nx=44*(80*173/68/144/176+181/21/25-13-151)\nx=119+181+81/161-67*144\nx=91*(168+134/16+92*166*173/87/(83-47))\nx=31+91*(33*153/49-162)/58-18-99-104\nx=57+161-9/39/51/(59+105+143*153)\nx=26*(44-58*63)/169+31*191/146\nx=19*(56-110-2*54/50)/74\nx=109*(20+124-132-135)/30/108\nx=27*171*(116+199-(169+13*175)/44)/58\nx=153*(22+109-(171-99)/12)/158\nx=101/(56*(134/112/145/159-34)-51)\nx=79*131/115/197/(76+142+197-166)\nx=(150+161/7+74*181-27*80*178)/58\nx=53+32*(131+3/96)-167-184\nx=(150*(12-105)-104/50)/36",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Hard I",
          "isTest": true,
          "testIn": "22\n48/2+(3*2+6)*50/25+(120/5+3)+x-51=(182*143*130)/87/107+(230/10)\n34*152*118-171+(1-64-x*114)=105/(5-(101-(28+84)))\n41-84/184-51-66=(23+130/119/(x*112/138))/64+185\n15+70/19-(x+(186/17))=111-78+72/151-182\n133*115-171+27/164=((x+8)*135)-13/4*138-82\nx/55+(180+132)+116=(192-26*75-131+99/(186-174))*146\n(32+194/60/108-((31+168)+48))+105=52/139-(x-59-135)\n90*(((92-119)+25)*x)=72-(170-136)/61*35\n(178*8)-155*200/34=(x-(25+168))-92/82\n116*(6/(x-((112/169)/167)*119))=149-13+64*40+115\n152*190/93*73-90=x-(85+57/134+101)\n(113+160-68)/132/191=(177*48*47-28)-x-171/53\n194/69*24*43/46-(152/76)-126=52-(180+39*(117+83))-x-46+105\n((122-119+156)/27*48)/98/171=35-x*139*28-46-68+98*190\n75*(((138/42)-84)*148/190*x/174)=(25-(79*(84/136)))+37\n80*(188/(((164-95)+145)+44))*84=80/(43+(((124*x)/39)+159))\n1+130/(55-7+62+x-71/160)=79/(74*(165-44)+21)\n123-68+24*171-((86+64)+107-63)=159+(((106/103)/x)+130)\n197*((41+(122*91))+126)=59+182*x+169+193\n((x-(129+80)+81)+48)+184=140+115+71-(159/149)-96\n(116-39/x)/140/75-48=5+((117-92*(113*47*33))/6)\n(100*(164+(x-170*138))/28)*159*92=137+((7+52*85-100)/193)*61",
          "testOut": "x=51+230/10+130*143*182/87/107-3-120/5-48/2-50*(6+2*3)/25\nx=(1+34*118*152-64-171-105/(5+28+84-101))/114\nx=130*138/112/119/(64*(41-51-66-185-84/184)-23)\nx=15+78+182+70/19-111-72/151-186/17\nx=(82+27/164+13*138/4+115*133-171)/135-8\nx=55*(146*(192+99/(186-174)-131-26*75)-116-132-180)\nx=31+48+59+135+168+52/139-32-105-194/60/108\nx=(72-35*(170-136)/61)/90/(25+92-119)\nx=25+168+92/82+8*178-155*200/34\nx=6*116/(115+149+40*64-13)+112*119/167/169\nx=85+101+57/134+73*152*190/93-90\nx=47*48*177-28-(113+160-68)/132/191-171/53\nx=52+105+126+152/76-46-180-24*43*194/46/69-39*(83+117)\nx=(35+98*190-46-68-48*(122+156-119)/27/98/171)/28/139\nx=174*190*(25+37-79*84/136)/75/148/(138/42-84)\nx=39*(80*(44+145+164-95)/80/84/188-43-159)/124\nx=7+130/(79/(21+74*(165-44))-1)+71/160-55-62\nx=106/103/(63+123+24*171-64-68-86-107-130-159)\nx=(197*(41+126+91*122)-59-169-193)/182\nx=71+80+115+129+140-48-81-96-184-159/149\nx=39/(116-75*140*(5+48+(117-33*47*92*113)/6))\nx=28*(137+61*(7+52*85-100)/193)/92/100/159+138*170-164",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 9",
          "isTest": false,
          "testIn": "20\n(204-134)*(140/4+35)+184/x/51=(120/4+(15*5-45)-18)*136\n182-87-(142/(135*160))-3/110=67*(x-53-(153*(60/114))+57)\n5*67/(173/x/78)=200+101-77*(136/(34+(43-64)))\n3/25/194*52/(x/82)+128=(77+84)/117*161*64/119/90\n(((138+24)/112)-161)+x=58*25+(78*(((191-7)/146)/23))\n169-((75*(121*60))-48)=89/(102*(x-((135*191)-32+176)))\n65/143*104*176+43/128+x-169=199-(73+94*48*11)/102*82/55\nx-139*121+77/90*179=60*(41+140/(123-(70-50+122)+96))\n174/183+(2+(88-160+176)+145)=(137*(((116+108)-27)+152))-64-x\n(56+(35+x+(137*(13+105))))-58-87=12+116+175+85/69+91/(118/185)\n115/185+106*(((x*(40-53))-132)/191)=67+61+68+(133+72)/33-53\n119/55-53*43-20*79/133=121*x/161*153+199/123\n182-105/143-(159*(127+(106/107*179)))=x-(172/164-151+(20/119))\nx-97+22/114+122-83*179*146=147*((111*64*194)*86)\n((146-(176*172/124))+86)+3=(158-127+200+144)*x\n87-162/x/135+106+183*71*78=128-40/3+149/17*108-135\n63*16+x+67/25=172*9-153-195*52/146*64\n39-x*35/154-156=82*111-147-139*138*59/20\n123*3+(40/(x*180)*113)=(139/164-88-16)+74-31+128\n76-(169-126/13)+87=((130/(162*83))/138)*x",
          "testOut": "x=184/51/(136*(120/4+5*15-18-45)-(204-134)*(35+140/4))\nx=53+(182-87-142/135/160-3/110)/67+60*153/114-57\nx=173*(101+200-77*136/(34+43-64))/5/67/78\nx=3*52*82/25/194/(64*161*(77+84)/90/117/119-128)\nx=161+78*(191-7)/23/146+25*58-(24+138)/112\nx=176+89/102/(48+169-60*75*121)+135*191-32\nx=169+199-43/128-82*(73+11*48*94)/55/102-65*104*176/143\nx=60*(41+140/(50+96+123-70-122))+121*139-77*179/90\nx=160+137*(108+116+152-27)-2-64-88-145-176-174/183\nx=12+58+87+116+175+85/69+91*185/118-35-56-137*(13+105)\nx=(132+191*(61+67+68+(72+133)/33-53-115/185)/106)/(40-53)\nx=161*(119/55-199/123-20*79/133-43*53)/121/153\nx=182+20/119+172/164-151-105/143-159*(127+106*179/107)\nx=97+83*146*179+64*86*111*147*194-122-22/114\nx=(3+86+146-172*176/124)/(144+158+200-127)\nx=162/135/(87+106+135+40/3+71*78*183-128-108*149/17)\nx=9*172-153-67/25-16*63-52*64*195/146\nx=154*(39+147+59*138*139/20-156-82*111)/35\nx=40*113/180/(74+128+139/164-16-31-88-3*123)\nx=83*138*162*(76+87+126/13-169)/130",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Hard II",
          "isTest": true,
          "testIn": "20\n148/100/28*(((11-(x+162))+98)+142)=82+((((18*12)/92)*36)/28)\n20+(x+(48+102/61))/164=48-117-(42/72-(99*184/57))\n48*((143/42+86)/198)=(24/(91/x))/65/82/55\n((60/153)-55*16+136)/46/57=32/(x-((85-(54/156))/29))\n2*(95*((58*x)/25))=(182-(54+(65/158)*60))*74*192\n183-(18/(40+(x/26)))=100/(166/176+35/(13/124/(95*18)))\n((47+15)-176)*117+x/13=(41-(60-55*132-179))-197*127\n((185-180)*107)/50/64+121-156-131=82/98-((53/(194+(x+196))/47)/26)\n33/(((200*166)+151)-187)=45+(112+(94/184))/x\n(169/(143/(177*13-39)))*166=((98-(18*(96/112-53)+x))*101)/32\n37*((((1/163)/50)/167)*132)=34-170*((93/141)*x/185)/164+10\n((56/99)/163/195)-54=139+((164-(195+x+149))*78)\n(132/170+(((8/109)/60)/54))+x=((((54/167)+128)*1)-90)/154\n15/34+((2+23)/130/159)*x=127/171/143-(35/195+34/(104/131))\n(177/(110*133*3/126-114*123))/61=82*x*((97/35)*121*68)\n110/(((187/71*177)-50)*52)=193*x/(43*(62-(67+160)))\n(((32*x)/42)/41)/166=129/(80*(158-(60*7)))\n((32*(1/(74*95)))/x)*49=118/45+((22+48)*99)-44\n((((108/77)/x)+62)/193)+104=((81/(61*157))+64)*62*90\nx*(11-(161/(87*53)))=194*((((70-93)/169)*191)-74)",
          "testOut": "x=11+98+142-162-28*100*(82+12*18*36/28/92)/148\nx=164*(48+99*184/57-20-117-42/72)-48-102/61\nx=48*55*65*82*91*(86+143/42)/24/198\nx=32*46*57/(136+60/153-16*55)+(85-54/156)/29\nx=25*74*192*(182-54-60*65/158)/2/58/95\nx=26*(18/(183-100/(166/176+18*35*95*124/13))-40)\nx=13*(41+179+55*132-60-117*(15+47-176)-127*197)\nx=53/26/47/(131+156+82/98-121-107*(185-180)/50/64)-194-196\nx=(112+94/184)/(33/(151+166*200-187)-45)\nx=98-18*(96/112-53)-32*166*169*(13*177-39)/101/143\nx=141*164*185*(10+34-1*37*132/50/163/167)/93/170\nx=164-149-195-(56/99/163/195-54-139)/78\nx=(1*(128+54/167)-90)/154-8/54/60/109-132/170\nx=130*159*(127/143/171-35/195-15/34-34*131/104)/(2+23)\nx=35*177/61/68/82/97/121/(3*110*133/126-114*123)\nx=43*110*(62-67-160)/52/193/(177*187/71-50)\nx=41*42*129*166/32/80/(158-7*60)\nx=1*32*49/74/95/(118/45+99*(22+48)-44)\nx=108/77/(193*(62*90*(64+81/61/157)-104)-62)\nx=194*(191*(70-93)/169-74)/(11-161/53/87)",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 10",
          "isTest": false,
          "testIn": "20\n(41*11*(188/62))-165=(78-(x+103+191)-161/14/16)/106\n23/(29*77/((80/132-x)*117))=96*(176/((95*58)/36))\n104/(87/((85+20)/x)/96)=184*(((196-30*156)+179)+26-24+158)\n(159-27/(28/(99+147)))-x/189=110/156+(5/(117+167+72/141))\n41-(122*x-(73/((2-149)/146)))=((87-(177/102))+25)+103\n(((191-119)+113)*26*16)*103/87=((145-29+(20+x))-104-185)/117-97\n((18/((69*105)/133))/103)/8=x/(121-((15-(152-112))-12))\n(106-91/(x/145))+114=(173-(69-147/((65-75-116)+92)))/140\n(68/122/(70+101))/179/155=(36-(x+(149*152)))/161\n((4-21)+54)-112+x+182*179-34=((167-(70+120))/45)/133*42\n119/(171/86/(x-163))=67*31+32-181*((64/19)*141)\n((200/144/47)*x/155)/77=142*(((35*38)*139)/196)\n56/(96-(26*(100*(88/5))))=152+(47+(141/(x*186)))\n197+(x/161*107+108+((42+199)+52))=193+34-(66/109*99*(164*198)-87)\n((199/(36-179))/124)+x=(((105/(88-130))*170-128)+181)-152*175\n(((46/(12+61)*180)/17)/154)+135=(((42/74)/43)-x)/187/154\n(148/(181/(42-x)))+189=(158+(82*21/197)/58)+20\n69*(160-(176-((173-82)*26)+94))=((((30/x)*90)/101)/24)*181\n5/(116+((57-(137-23))/145))=(129/(((134/6)/x)+132-88))/148\n137/104*((162+30-134)+79)=101*((x/(66/99))/111)",
          "testOut": "x=78-103-191-161/14/16-106*(11*41*188/62-165)\nx=80/132-29*36*77*96*176/23/58/95/117\nx=96*104*(20+85)/87/184/(26+158+179+196-24-30*156)\nx=189*(159-5/(117+167+72/141)-110/156-27*(99+147)/28)\nx=(41+73*146/(2-149)+177/102-25-87-103)/122\nx=29+104+185+117*(97+16*26*103*(113+191-119)/87)-20-145\nx=18*133*(12+121+152-15-112)/8/69/103/105\nx=91*145/(106+114-(173+147/(65+92-75-116)-69)/140)\nx=36-68*161/122/155/179/(70+101)-149*152\nx=21+34+112+42*(167-70-120)/45/133-4-54-179*182\nx=163+171*(32+31*67-64*141*181/19)/86/119\nx=35*38*47*77*139*142*144*155/196/200\nx=141/186/(56/(96-26*88*100/5)-47-152)\nx=161*(34+87+193-42-52-108-197-199-66*99*164*198/109)/107\nx=181+105*170/(88-130)-128-199/124/(36-179)-152*175\nx=42/43/74-154*187*(135+46*180/17/154/(12+61))\nx=42-181*(20+158+21*82/58/197-189)/148\nx=30*90*181/24/69/101/(160+26*(173-82)-94-176)\nx=134/6/(88+129*(116+(23+57-137)/145)/5/148-132)\nx=66*111*137*(30+79+162-134)/99/101/104",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Hard III",
          "isTest": true,
          "testIn": "20\n116/((56/2+30)*(152-94)*(5*10+8)-157+x)/14*120=(66+(181+64)/54-166*133)/174\n2/173*(94-186/(72/140/(199/50)))=x-25-162*(156/(95/97))-9\n(x/((126/35)*179))*106*86=10/43+107*(129/((101/132)+161))\n((55/(116/(58*176)/x))*88)-154=90*(((26/197)/162)+15/31)/110-170\n56-(11+49+155/(134/(66+(192*198))))=(150/((186+167)/14))/x\n(91-(165+7)/66)/81=87/(64+((x/84)+40))*140\n(((x/81)*139)/7)*156=149-17-57/(84-(192/158)*90+59)\n((x/29/195+144-57)*145+34)+69=((38/((55/18)+167))-10)/129\n55/161/(167-52+(x+(81-142)))=((((174-134)/14)-171)/6)/172/46\n115/x+(18-(149/(1/127)))+89-101=((145/(153+177))-37)/101/98\n106-132/(23-(68-24*182+124))=(98*(182+(x+(12/187))))/181\n165-197-(54/(72/41))=86/(77/x/(135/120))*50\n((157/(154+(95/188))*25/33)*43)/99=(88*44/(80/x))-155-110\n((((161-102)+105)*138)+169/x)-162=(109+145/191/(173*132/(29/148)))/152\n9-((51/(x-(156/91)))/150)=(((80/(198/11))+120)/43)/51+150\n140/(162/(59+(39/99)))=((((x/101)+53)-26/198)/196)/136+18\n61+147/(x+((158-92)-130))=(108/4/181/(111/(16/27))+198)+30\n((13/(82+46))/68)+55=(x/130*(45/73))-31\n(131*63*164/(93-77+81))+72=(((60/(92*17))/195)+94)+x\n((x*(171*(135/116)))/13)/29=73+12+(39/21*194/48*(149/19))",
          "testOut": "x=157+116*120*174/14/(66+(64+181)/54-133*166)-(152-94)*(30+56/2)*(8+5*10)\nx=9+25+2*(94-140*186*199/50/72)/173+97*156*162/95\nx=126*179*(10/43+107*129/(161+101/132))/35/86/106\nx=116*(154+90*(26/162/197+15/31)/110-170)/55/58/88/176\nx=14*150/(56-11-49-155*(66+192*198)/134)/(167+186)\nx=84*(81*87*140/(91-(7+165)/66)-40-64)\nx=7*81*(149-17-57/(59+84-90*192/158))/139/156\nx=29*195*(57+((38/(167+55/18)-10)/129-34-69)/145-144)\nx=52+142+6*46*55*172/161/((174-134)/14-171)-81-167\nx=115/(101+(145/(153+177)-37)/98/101+127*149/1-18-89)\nx=181*(106-132/(23+24*182-68-124))/98-182-12/187\nx=77*120*(165-197-41*54/72)/50/86/135\nx=80*(110+155+25*43*157/33/99/(154+95/188))/44/88\nx=169/(162+(109+29*145/132/148/173/191)/152-138*(105+161-102))\nx=51/150/(9-150-(120+11*80/198)/43/51)+156/91\nx=101*(26/198+136*196*(140*(59+39/99)/162-18)-53)\nx=92+130+147/(30+198+16*108/4/27/111/181-61)-158\nx=73*130*(31+55+13/68/(46+82))/45\nx=72+63*131*164/(81+93-77)-94-60/17/92/195\nx=13*29*116*(12+73+39*149*194/19/21/48)/135/171",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 11",
          "isTest": false,
          "testIn": "20\n118*(172/((148-48)/(33*3+1)/(24*4+4)/(158-(232/4))))=12-(((136/61)+173)/x/71)\n5/(57/(((112-90)+13/7)+x))=((114*(121/50)/40)*20*58)/76+12\n3/167-((60/121)/180)/x+111*96=117*(64/(34/(113/109)))\n(160-(108+(83+187))-36/40-x)/67=44/31+(187/((82/90)+154))/132/40\n(178-79-(120/165*18-162))/97/x=(109/((99-(93-91+12))*42)/65)-157\n(78/(120/100*77))/164/115/79=(198+84/(170+x/109))/45\n(x/200*101/(142-26))*31=25/(76/114/(117-94)/126)\n(58*(63*176)*161)-x*74/112=((85*172*10)+118)/41\n(x/(21-(89*125)))*185=163/(114+(169/((116/134)-142)))\n167-181/(((104/92)-35)/x*197)-118=138-(101/((119*89)*148))\nx*(64+(39-58)*27/148)=39/(43*(193/184))/63\n37*(((186/130)-106)*146)=156-(92+((x+66+32)/176))/101\n(50*(89-184/115))/107=x*140/((60-((102+7)-82))+184/36)\n((148+80)-21)/x/37=169*103/((95/(155*(157/160)))/154/127)\n121+(110/117+114/(131+(183*154)))=((x/195)+153/130/41)+194\n(74-(174*((98*82)/189)))/125=(88+((x-200)*76))+175\n(109/(108*85+133)*x-75)/142=168+(85/(92/178/78))+172\n91+(((39+118)*94)/153)+8=(((77/1)-x/200)/186-45-133)/182\n130+(92/(123*(30*137/50)))=(x/119/(97/((67/36)-133)/59))*173\n((67-x/178)/77)/9/146*37=((((63/123)+195)/176)/29)-146",
          "testOut": "x=(173+136/61)/71/(12-118*172*(1+3*33)*(158-232/4)*(4+4*24)/(148-48))\nx=90+57*(12+20*58*114*121/40/50/76)/5-112-13/7\nx=60/121/180/(3/167+96*111-64*113*117/34/109)\nx=160-83-108-187-36/40-67*(187/40/132/(154+82/90)+44/31)\nx=(162+178-79-18*120/165)/97/(109/42/65/(91+99-12-93)-157)\nx=109*(84/(45*78*100/77/79/115/120/164-198)-170)\nx=25*114*126*200*(117-94)*(142-26)/31/76/101\nx=112*(58*63*161*176-(118+10*85*172)/41)/74\nx=163*(21-89*125)/185/(114+169/(116/134-142))\nx=197*(167+101/89/119/148-118-138)*(104/92-35)/181\nx=39*184/43/63/193/(64+27*(39-58)/148)\nx=176*(101*(156-37*146*(186/130-106))-92)-32-66\nx=50*(60+82+184/36-7-102)*(89-184/115)/107/140\nx=95*160*(80+148-21)/37/103/127/154/155/157/169\nx=195*(121+114/(131+154*183)+110/117-194-153/41/130)\nx=200+((74-82*98*174/189)/125-88-175)/76\nx=(133+85*108)*(75+142*(168+172+78*85*178/92))/109\nx=200*(77/1-186*(45+133+182*(8+91+94*(39+118)/153)))\nx=97*119*(130+50*92/30/123/137)/59/173/(67/36-133)\nx=178*(67-9*77*146*((195+63/123)/29/176-146)/37)",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "24: The Long Game - A Tribute",
          "isTest": true,
          "testIn": "4\n24=x+6*4+312/13-8*3\n(3-99)/(94-98)+(5*2-2)*3+13824/(48-4*3*2)/(100/(90-88)-26)+x+12/(1+2)*6=24-1*(12+2*6)*24/(48/4+10+2)-((12+3)*2-6)*600/30/20\n24=x+(88/4+11*2+3*12/(6*3)*(7+4)+2200/(5*2)/(8*4/2-6))/11*3+6*4+312/13+8*3+(38-5-21)*2\n((30/2+50*3/10+20/4*3-39+3+5*3)/(14/7-8+30))/(((10+8*2+27/3*2-8)/(36/6)+18)/(26+46/(20-43)))=24+x",
          "testOut": "x=24+3*8-312/13-4*6\nx=24-(3-99)/(94-98)-1*24*(12+2*6)/(2+10+48/4)-13824/(100/(90-88)-26)/(48-2*3*4)-3*(2*5-2)-6*12/(1+2)-600*(2*(3+12)-6)/20/30\nx=24-2*(38-5-21)-3*(2*11+2200/2/5/(4*8/2-6)+3*12*(4+7)/3/6+88/4)/11-3*8-312/13-4*6\nx=(26+46/(20-43))*(3+3*20/4+3*5+3*50/10+30/2-39)/(18+6*(10+2*8+2*27/3-8)/36)/(30+14/7-8)-24",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 12",
          "isTest": false,
          "testIn": "4\n100=x+25*4+4000/40-100*1\n100+x=(21-11)*5*2+(20-10)*(1+9)-(26*(46-43)-28)*2\n2/(3/15/10)+(15-3-2)*10+6*(30+46+2*12)/3/2+(48-(39-41)*(12*4-6*2-36/3-120/3/2/5*30/10))*(7*2+27+42/3+45)/(2*50)+x=100\n(((14-12)*43+14)/((30+5)*4-40))/((46*2-6+14)/(75/3+5*5+800/32+25*1))=100+x",
          "testOut": "x=100+1*100-4*25-4000/40\nx=(1+9)*(20-10)+2*5*(21-11)-100-2*(26*(46-43)-28)\nx=100-(48-(39-41)*(4*12-2*6-30*120/2/3/5/10-36/3))*(27+45+2*7+42/3)/2/50-10*(15-2-3)-2*10*15/3-6*(30+46+2*12)/2/3\nx=(1*25+5*5+75/3+800/32)*(14+43*(14-12))/(14+2*46-6)/(4*(5+30)-40)-100",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "hard",
      "constraints": "[[numEquations]] <= 40\nlength([[equation]]) < 100\n\n[[equation]] is always a valid equation and contains only one {{x}}, one {{=}}, and the characters {{0}} to {{9}}, {{+}}, {{-}}, {{*}}, {{/}}, {{(}} and {{)}}.\n\nThe following two constraints ensure each [[equation]] is in the set of equations fully covered by the rules of 24: The Long Game.\n\nThere is no explicit zero term anywhere in any [[equation]].\n\nNo expression or subexpression in the [[equation]] will ever begin with a negative sign ({{-}}).",
      "coverBinaryId": 108280804662943,
      "stubGenerator": "read numEquations:int\nloop numEquations read equation:string(1000)\nloop numEquations write x=<<expression>> (expression must be rearranged to standard form)",
      "inputDescription": "<<Line 1:>> An integer [[numEquations]] indicating the number of equations to be solved (rearranged).\n<<Next [[numEquations]] lines:>> A string [[equation]].",
      "solutionLanguage": "Python3",
      "outputDescription": "<<Line 1:>> A string '{{x=}}[[expression]]' with the expression rewritten in standard form."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">This puzzle builds on the concepts explored in the puzzle 24: The Long Game by @jddingemanse. Significant insight can be gained by solving that puzzle before working through this one:<br><br>https://www.codingame.com/training/hard/24-the-long-game<br><br>In this puzzle, you are given an <var>equation</var> with a variable <strong>x</strong> somewhere in that equation. Your task is to <strong>REARRANGE</strong> the terms of the expressions on either side of the equal sign to produce an equation in the following form:<br><br><const>x=</const><var>expression</var><br><br>The <var>expression</var> on the right side of the equal sign must be in &quot;standard form&quot; per the rules identified in 24: The Long Game. For your convenience, those rules are copied below. <strong>To see these rules applied to a sample expression, please refer back to 24: The Long Game.</strong><br><br><br><strong>EXPRESSIONS, TERMS AND SUBEXPRESSIONS</strong><br>To understand the rules for rewriting expressions, we must distinguish <strong>expressions, terms and subexpressions</strong>.<br><br><strong>expression:</strong> Terms separated by mathematical operators that can be evaluated from left to right. For example: <const>1+2+3+18</const>, <const>3*2*1*4</const>, <const>24+10-6-4</const>, <const>24/1/1/1</const> or <const>2*3*40/10</const>. <br><br><strong>term:</strong> A constant or a subexpression. The expression <const>3+7*(1+2)</const> has two terms. The first term is the constant <const>3</const>. The second term is the subexpression <const>7*(1+2)</const> - which itself also consists of one constant <const>7</const> and one subexpression <const>(1+2)</const>.<br><br><strong>subexpression:</strong> A subexpression is an expression that must be evaluated before the parent expression can be evaluated. The expression <const>(1+2)*(9-1)</const> consists of two terms, both of which are subexpressions: <const>(1+2)</const> and <const>(9-1)</const>. The expression <const>20+6/3+2</const> consists of three terms, of which one is a subexpression: <const>6/3</const> (the other two terms are the constants <const>20</const> and <const>2</const>).<br><br><strong>REWRITING EXPRESSIONS</strong><br><strong>Only rewrite an expression such that it remains mathematically the same.</strong><br>Rewrite expressions according to the following three rules:<br><br><strong>1. Use as few parentheses as possible.</strong><br>- Remove unnecessary parentheses: <const>(1*2)*3*4</const>&rarr;<const>1*2*3*4</const><br>- Rewrite an expression, if necessary: <const>9+18-(2+1)</const>&rarr;<const>9+18-2-1</const>, <const>12/(3/(2+4))</const>&rarr;<const>12*(2+4)/3</const><br>\t<br><strong>2. Sort operators: <const>+</const> before <const>-</const> and <const>*</const> before <const>/</const>.</strong><br>- Change the order of terms such that for their connecting operators <const>+</const> comes before <const>-</const>, and <const>*</const> comes before <const>/</const><br>- Do this within a parent expression: <const>8-3+9+10</const>&rarr;<const>8+9+10-3</const>, <const>2/3*6*6</const>&rarr;<const>2*6*6/3</const>, <const>8-2+3*6</const>&rarr;<const>8+3*6-2</const><br>- Do this within a subexpression: <const>3*(5-4+7)</const>&rarr;<const>3*(5+7-4)</const>, <const>8+6/3*8</const>&rarr;<const>8+6*8/3</const><br>- This does not apply to operators in two different subexpressions: in <const>(3-1)*(5+7)</const>, the <const>-</const> and <const>+</const> are not part of the same subexpression, so their order is not decided by this rule (instead, use rule 3c for this case).<br><br><strong>3. For cases not decided by rule 2, sort terms of expressions and subexpressions</strong><br><strong> a)</strong> Sort constants in ascending order: <const>3*(16-5-3)</const>&rarr;<const>3*(16-3-5)</const>, <const>4+5*4*1</const>&rarr;<const>4+1*4*5</const>, <const>25-10/5/2</const>&rarr;<const>25-10/2/5</const><br><strong> b)</strong> Place constants before subexpressions: <const>(16-3-5)*3</const>&rarr;<const>3*(16-3-5)</const>, <const>5*8/4+14</const>&rarr;<const>14+5*8/4</const><br><strong> c)</strong> Sort two subexpressions according to their numerical value: <const>4*5+1*4</const>&rarr;<const>1*4+4*5</const> (1*4 &lt; 4*5), <const>(5+7)*(3-1)</const>&rarr;<const>(3-1)*(5+7)</const> (3-1 &lt; 5+7)<br>In the case of equal value, sort the subexpressions as strings, based on the ASCII value of characters: <const>48/4+3*4</const>&rarr;<const>3*4+48/4</const> ('3*4' &lt; '48/4')</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> An integer <var>numEquations</var> indicating the number of equations to be solved (rearranged).<br><strong>Next <var>numEquations</var> lines:</strong> A string <var>equation</var>.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>Line 1:</strong> A string '<const>x=</const><var>expression</var>' with the expression rewritten in standard form.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\"><var>numEquations</var> &lt;= 40<br>length(<var>equation</var>) &lt; 100<br><br><var>equation</var> is always a valid equation and contains only one <const>x</const>, one <const>=</const>, and the characters <const>0</const> to <const>9</const>, <const>+</const>, <const>-</const>, <const>*</const>, <const>/</const>, <const>(</const> and <const>)</const>.<br><br>The following two constraints ensure each <var>equation</var> is in the set of equations fully covered by the rules of 24: The Long Game.<br><br>There is no explicit zero term anywhere in any <var>equation</var>.<br><br>No expression or subexpression in the <var>equation</var> will ever begin with a negative sign (<const>-</const>).</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">6\n3+x=7\nx+44=6\n18=29+x\n310=x+429\nx+4+9+2+23+18=13+26+3+1\n8+4+10+67+234=x+87+98+12+65</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">x=7-3\nx=6-44\nx=18-29\nx=310-429\nx=1+3+13+26-2-4-9-18-23\nx=4+8+10+67+234-12-65-87-98</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 67097336799,
  "avatar": 87736728529732,
  "commentCount": 36,
  "upVotes": 35,
  "downVotes": 1,
  "validateAction": {
    "actionId": 892202,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "REFUSED",
      "date": 1692633937001,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1692647260886,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "REFUSED",
      "date": 1695240337001,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1695485800696,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "REFUSED",
      "date": 1698955537000,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1698972068643,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "REFUSED",
      "date": 1701565537001,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1701565744738,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "ACCEPTED",
      "date": 1703631696996,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}