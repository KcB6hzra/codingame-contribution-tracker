{
  "id": 42818,
  "activeVersion": 17,
  "score": 4,
  "votableId": 27228993,
  "codingamerId": 1938265,
  "views": 166,
  "commentableId": 27102386,
  "title": "Closest point on a line segment",
  "status": "ACCEPTED",
  "type": "CLASHOFCODE",
  "nickname": "ANONYMOUS42",
  "publicHandle": "42818eb97f29239eaace3af8808258856106e",
  "codingamerHandle": "fc4c8219a3135f75a5e3080e70a58fc25628391",
  "lastVersion": {
    "version": 17,
    "autocloseTime": 1675781183931,
    "data": {
      "title": "Closest point on a line segment",
      "topics": [],
      "fastest": true,
      "reverse": false,
      "shortest": true,
      "solution": "import sys\nimport math\nimport numpy as np\n\nx_1, y_1 = [int(i) for i in input().split()]\nx_2, y_2 = [int(i) for i in input().split()]\npx, py = [int(i) for i in input().split()]\n\nP = np.array([x_1, y_1])\nQ = np.array([x_2, y_2])\nX = np.array([px, py])\nQP = (Q - P)\nds = np.dot((X - P), QP) / np.dot(QP, QP)\nS = P + ds * QP if 0 < ds < 1 else P if ds <= 0 else Q\nS = S.round(1)\nprint(f\"{S[0]:.1f} {S[1]:.1f}\")",
      "statement": "Given the coordinates of a point <<P>> and a line segment <<S>>, find the closest point on the line segment <<S>> to point <<P>>.\nIf the point <<P>> is exactly on the line segment, the function should return the coordinates of <<P>>.",
      "testCases": [
        {
          "title": "Test 1 (closest point is its projection on the segment)",
          "isTest": true,
          "testIn": "0 0\n1 1\n0 1",
          "testOut": "0.5 0.5",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "0 0\n10 10\n2 3",
          "testOut": "2.5 2.5",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 2 (closest point is exactly on the line segment)",
          "isTest": true,
          "testIn": "1 1\n4 4\n2 2",
          "testOut": "2.0 2.0",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "1 1\n5 5\n3 3",
          "testOut": "3.0 3.0",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 3 (closest point is at one of the ends of the line segment)",
          "isTest": true,
          "testIn": "1 1\n4 4\n0 0",
          "testOut": "1.0 1.0",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "1 1\n4 4\n0 1",
          "testOut": "1.0 1.0",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 4 (negative coordinates for the line segment)",
          "isTest": true,
          "testIn": "-1 -1\n-4 -4\n0 1",
          "testOut": "-1.0 -1.0",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "-1 -1\n-4 -5\n0 0",
          "testOut": "-1.0 -1.0",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 5 (closest point is at one of the ends of the line segment)",
          "isTest": true,
          "testIn": "1 1\n4 4\n5 7",
          "testOut": "4.0 4.0",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "1 1\n4 4\n6 8",
          "testOut": "4.0 4.0",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 6 (Line segment's slope isn't 1)",
          "isTest": true,
          "testIn": "1 1\n4 6\n3 4",
          "testOut": "2.9 4.1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 6",
          "isTest": false,
          "testIn": "3 4\n9 8\n5 5",
          "testOut": "4.8 5.2",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 7 (Random large numbers)",
          "isTest": true,
          "testIn": "-15875 -25875\n-5889 -1877\n-9978 -15523",
          "testOut": "-11332.8 -14959.3",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 7",
          "isTest": false,
          "testIn": "-8788 -5487\n-36876 -9226\n-24933 -8755",
          "testOut": "-25079.3 -7655.7",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 8 (Random large numbers)",
          "isTest": true,
          "testIn": "687 -897\n8975 9978\n1875 6978",
          "testOut": "4920.0 4657.3",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 8",
          "isTest": false,
          "testIn": "548 -847\n9752 9978\n1587 5000",
          "testOut": "3869.4 3059.4",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "constraints": "All input values are integers.\nThe coordinates of point P and the line segment may be negative.\nThe line segment may be vertical, horizontal, or at any angle.",
      "stubGenerator": "read x1:int y1:int\nread x2:int y2:int\nread px:int py:int\nwrite x y",
      "inputDescription": "<<Line 1:>> [[x1]] [[y1]] : Space separated coordinates of one end of the line segment\n<<Line 2:>> [[x2]] [[y2]] : Space separated coordinates of the other end of the line segment\n<<Line 3:>> [[px]] [[py]] : Space separated coordinates of point P",
      "solutionLanguage": "Python3",
      "outputDescription": "One line containing space separated coordinates \"x y\" of the closest point on the line segment to point <<P>>. \n\nThe output values must be <<rounded to 1 decimal point>>, <<keep the trailing zero  (e.g. 2.0)>>"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Given the coordinates of a point <strong>P</strong> and a line segment <strong>S</strong>, find the closest point on the line segment <strong>S</strong> to point <strong>P</strong>.<br>If the point <strong>P</strong> is exactly on the line segment, the function should return the coordinates of <strong>P</strong>.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> <var>x1</var> <var>y1</var> : Space separated coordinates of one end of the line segment<br><strong>Line 2:</strong> <var>x2</var> <var>y2</var> : Space separated coordinates of the other end of the line segment<br><strong>Line 3:</strong> <var>px</var> <var>py</var> : Space separated coordinates of point P</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">One line containing space separated coordinates &quot;x y&quot; of the closest point on the line segment to point <strong>P</strong>. <br><br>The output values must be <strong>rounded to 1 decimal point</strong>, <strong>keep the trailing zero  (e.g. 2.0)</strong></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">All input values are integers.<br>The coordinates of point P and the line segment may be negative.<br>The line segment may be vertical, horizontal, or at any angle.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">0 0\n1 1\n0 1</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">0.5 0.5</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 95115908711,
  "avatar": 64358868697596,
  "commentCount": 11,
  "upVotes": 5,
  "downVotes": 1,
  "validateAction": {
    "actionId": 757152,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1675613585781,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}