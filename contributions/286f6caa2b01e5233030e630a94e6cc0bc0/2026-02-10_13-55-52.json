{
  "id": 286,
  "activeVersion": 6,
  "score": 7,
  "votableId": 2294043,
  "codingamerId": 792813,
  "views": 278,
  "commentableId": 2242939,
  "title": "Minesweeper",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "VilBoub",
  "publicHandle": "286f6caa2b01e5233030e630a94e6cc0bc0",
  "codingamerHandle": "bd6706892e49290fb119aa5ddae4238a318297",
  "lastVersion": {
    "version": 6,
    "data": {
      "title": "Minesweeper",
      "topics": [
        {
          "id": 45,
          "handle": "conditions",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Conditions",
            "2": "Conditions"
          },
          "pageTitle": "Conditions: exercises and theory",
          "puzzleCount": 58,
          "parentTopicId": 39,
          "contentDetailsId": 68
        },
        {
          "id": 46,
          "handle": "loops",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Boucles",
            "2": "Loops"
          },
          "pageTitle": "Loops: exercises and theory",
          "puzzleCount": 78,
          "parentTopicId": 39,
          "contentDetailsId": 71
        },
        {
          "id": 153,
          "handle": "2d-array",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "2D array",
            "2": "2D array"
          },
          "puzzleCount": 36,
          "parentTopicId": 93
        }
      ],
      "solution": "import sys\nimport math\n\ndx = (-1, -1, -1, 0, 0, 1, 1, 1)\ndy = (-1, 0, 1, -1, 1, -1, 0, 1)\nchiffres = [str(i+1) for i in range(9)]\nnb_mines = 0\nnb_interro = 0\nh, w = map(int, input().split())\nnb = int(input())\ngrille = [[\"\"] * w for _ in range(h)]\nfor i in range(h) :\n    ligne = input()\n    nb_interro += ligne.count(\"?\")\n    for j, c in enumerate(ligne) :\n        grille[i][j] = c\n\n#for i in range(h) :\n#    print(grille[i])\n#print(nb_interro)\n\nwhile nb_mines != nb :\n    if nb_interro == nb - nb_mines :\n        for i in range(h) :\n            for j in range(w) :\n                if grille[i][j] == \"?\" :\n                    grille[i][j] = \"*\"\n        nb_mines = nb\n        nb_interro = 0\n    if nb_mines != nb :\n        for i in range(h) :\n            for j in range(w) :\n                if grille[i][j] in chiffres :\n                    nb_m = 0\n                    nb_i = 0\n                    for d in range(8) :\n                        x = j + dx[d]\n                        y = i + dy[d]\n                        if (0 <= x < w) and (0 <= y < h) and (grille[y][x] == \"*\") :\n                            nb_m += 1\n                        elif (0 <= x < w) and (0 <= y < h) and (grille[y][x] == \"?\") :\n                            nb_i += 1\n                    if nb_m == int(grille[i][j]) :\n                        for d in range(8) :\n                            x = j + dx[d]\n                            y = i + dy[d]\n                            if (0 <= x < w) and (0 <= y < h) and (grille[y][x]) == \"?\" :\n                                grille[y][x] = \".\"\n                                nb_interro -= 1\n                    elif nb_m + nb_i == int(grille[i][j]) :\n                        for d in range(8) :\n                            x = j + dx[d]\n                            y = i + dy[d]\n                            if (0 <= x < w) and (0 <= y < h) and (grille[y][x]) == \"?\" :\n                                grille[y][x] = \"*\"\n                                nb_interro -= 1\n                                nb_mines += 1\n\n#for i in range(h) :\n#    print(grille[i])\n\nfor j in range(w) :\n    for i in range(h) :\n        if grille[i][j] == \"*\" :\n            print(j, i)",
      "statement": "Find the hidden mines in the grid, knowing that :\n{{.}} means no danger in any of the 8 spaces around that spot.\n{{n}} means there are exactly {{n}} mines hidden in the 8 spaces around that spot.\n{{?}} means we don't know anything about that spot.",
      "testCases": [
        {
          "title": "Example",
          "isTest": true,
          "testIn": "6 6\n4\n.1???1\n.11211\n11....\n?2....\n?2....\n11....",
          "testOut": "0 3\n0 4\n2 0\n4 0",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "7 7\n5\n.1???1.\n.12321.\n11.....\n?1.....\n?2.....\n?1.....\n11.....",
          "testOut": "0 3\n0 5\n2 0\n3 0\n4 0",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Hidden mines",
          "isTest": true,
          "testIn": "5 5\n6\n.....\n..122\n..2??\n..3??\n..2??",
          "testOut": "3 2\n3 3\n3 4\n4 2\n4 3\n4 4",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "6 6\n9\n???2..\n???3..\n???2..\n2321..\n......\n......",
          "testOut": "0 0\n0 1\n0 2\n1 0\n1 1\n1 2\n2 0\n2 1\n2 2",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "One line",
          "isTest": true,
          "testIn": "3 17\n9\n.................\n11112211232222211\n?????????????????",
          "testOut": "1 2\n4 2\n5 2\n8 2\n9 2\n10 2\n12 2\n13 2\n15 2",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "3 18\n11\n..................\n221123221222222211\n??????????????????",
          "testOut": "0 2\n1 2\n4 2\n5 2\n6 2\n8 2\n10 2\n11 2\n13 2\n14 2\n16 2",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Two blocks",
          "isTest": true,
          "testIn": "5 5\n3\n??1..\n??1..\n11222\n..1??\n..1??",
          "testOut": "1 1\n3 3\n4 3",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "6 6\n11\n??2...\n??3...\n??3.11\n??2.1?\n22213?\n..1???",
          "testOut": "0 0\n0 1\n0 2\n0 3\n1 0\n1 1\n1 2\n1 3\n3 5\n5 3\n5 5",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Final test",
          "isTest": true,
          "testIn": "9 9\n12\n?1....1??\n?2....12?\n?1.....11\n11.......\n12221..11\n????2112?\n????21???\n????32???\n????2????",
          "testOut": "0 0\n0 2\n0 5\n2 5\n3 5\n3 6\n3 8\n5 8\n6 6\n7 0\n8 1\n8 5",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "10 10\n17\n????1?????\n???211????\n?211.12???\n11....123?\n........11\n.......11?\n....1123??\n11123?????\n?43???????\n??????????",
          "testOut": "0 2\n0 8\n0 9\n1 9\n2 1\n2 9\n3 0\n3 8\n4 8\n5 7\n6 1\n7 2\n7 7\n8 2\n8 6\n8 7\n9 3",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "3 ≤ [[h,]] [[w]] ≤ 20\n1 ≤ [[nb]] ≤ 20",
      "coverBinaryId": 86359926926061,
      "stubGenerator": "read h:int w:int\nread nb:int\nloop h read line:string(100)\n\nloop nb write 0 0",
      "inputDescription": "Line 1 : The size of the grid, [[h]] : height & [[w]] : width .\nLine 2 : The number of hidden mines, [[nb]].\n[[h]] following lines : Content of the grid made of {{.}}, {{?}} and {{n}}.",
      "solutionLanguage": "Python3",
      "outputDescription": "[[nb]] lines including mine's location : [[col]] & [[lin]] separated by a space.\nIn column ascending order, then in line ascending order for the same column."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Find the hidden mines in the grid, knowing that :<br><const>.</const> means no danger in any of the 8 spaces around that spot.<br><const>n</const> means there are exactly <const>n</const> mines hidden in the 8 spaces around that spot.<br><const>?</const> means we don't know anything about that spot.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\">Line 1 : The size of the grid, <var>h</var> : height &amp; <var>w</var> : width .<br>Line 2 : The number of hidden mines, <var>nb</var>.<br><var>h</var> following lines : Content of the grid made of <const>.</const>, <const>?</const> and <const>n</const>.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><var>nb</var> lines including mine's location : <var>col</var> &amp; <var>lin</var> separated by a space.<br>In column ascending order, then in line ascending order for the same column.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">3 &le; <var>h,</var> <var>w</var> &le; 20<br>1 &le; <var>nb</var> &le; 20</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">6 6\n4\n.1???1\n.11211\n11....\n?2....\n?2....\n11....</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">0 3\n0 4\n2 0\n4 0</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 310835419935,
  "avatar": 72010225615995,
  "commentCount": 7,
  "upVotes": 7,
  "downVotes": 0,
  "validateAction": {
    "actionId": 316,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}