{
  "id": 120729,
  "activeVersion": 6,
  "score": 5,
  "votableId": 36726760,
  "codingamerId": 4687360,
  "views": 169,
  "commentableId": 36568133,
  "title": "Production Pipeline",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "thomas.schuerger",
  "publicHandle": "1207291aeed6e8753edf7cb02613af87c69731",
  "codingamerHandle": "8f631a6df22c9cd8709f071d9518645f0637864",
  "lastVersion": {
    "version": 6,
    "autocloseTime": 1745681175187,
    "freezeTime": 1743693975187,
    "data": {
      "title": "Production Pipeline",
      "topics": [
        {
          "labelMap": {
            "2": "Topological Sorting"
          }
        },
        {
          "id": 48,
          "handle": "graphs",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Graphes",
            "2": "Graphs"
          },
          "pageTitle": "Graphs: exercises and theory",
          "puzzleCount": 40,
          "parentTopicId": 40,
          "contentDetailsId": 75
        }
      ],
      "solution": "$n=<>;\n$k=<>;\nwhile(<STDIN>){\n    chomp;\n    if(/(\\d+)<(\\d+)/) {\n        my($p1,$p2)=($1,$2);\n        push(@{$in[$p2]},$p1);\n        push(@{$out[$p1]},$p2);\n    }\n}\n\npush(@n,1..$n);\nwhile($#n>=0) {\n    $c = 0;\n    @x = @n;\n    foreach $p (@x) {\n        @a=@{$in[$p]};\n        if($#a == -1) {\n            push(@r,$p);\n            @n = grep {$_ != $p} @n;\n            @b=@{$out[$p]};\n            foreach $b (@b) {\n                @{$in[$b]} = grep {$_ != $p} @{$in[$b]};\n            }\n            $c = 1;\n            last;\n        }\n    }\n    if ($c == 0) {\n        print \"INVALID\\n\";\n        exit;\n    }\n}\nprint join(\" \",@r).\"\\n\";\n",
      "statement": "There are [[N]] different sequential processes in a production pipeline which must be executed, identified by a number from 1 to [[N]], and [[K]] constraints given in the form \"[process1] {{<}} [process2]\", which means that the first provided process must run before the second provided process.\n\nFind a valid processing order for all processes that respects the constraints. If none exists, output {{INVALID}}. Otherwise output the processes in their order, separated by spaces. In case the order of two processes doesn't matter, use the smaller process first.",
      "testCases": [
        {
          "title": "Test 1",
          "isTest": true,
          "testIn": "8\n3\n2<5\n3<4\n5<4",
          "testOut": "1 2 3 5 4 6 7 8",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "8\n3\n7<3\n2<8\n5<7",
          "testOut": "1 2 4 5 6 7 3 8",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 2",
          "isTest": true,
          "testIn": "16\n5\n6<4\n4<3\n3<6\n7<5\n6<5",
          "testOut": "INVALID",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "16\n5\n6<4\n5<3\n3<6\n7<5\n6<5\n",
          "testOut": "INVALID",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 3",
          "isTest": true,
          "testIn": "20\n7\n5<9\n3<1\n12<8\n6<12\n20<14\n2<5\n15<2\n",
          "testOut": "3 1 4 6 7 10 11 12 8 13 15 2 5 9 16 17 18 19 20 14",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "20\n7\n5<9\n3<1\n12<8\n2<12\n5<1\n2<4\n20<2",
          "testOut": "3 5 1 6 7 9 10 11 13 14 15 16 17 18 19 20 2 4 12 8",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 4",
          "isTest": true,
          "testIn": "33\n0",
          "testOut": "1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "28\n0",
          "testOut": "1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 5",
          "isTest": true,
          "testIn": "7\n2\n4<4\n2<3",
          "testOut": "INVALID",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "5\n2\n3<3\n1<3",
          "testOut": "INVALID",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 6",
          "isTest": true,
          "testIn": "150\n150\n16<106\n122<34\n9<1\n35<142\n45<52\n73<96\n116<102\n137<50\n60<74\n108<6\n119<11\n87<145\n51<124\n137<47\n150<89\n55<114\n63<95\n49<145\n44<52\n114<22\n85<9\n5<97\n49<67\n19<47\n30<10\n5<45\n134<76\n123<93\n119<128\n63<150\n26<45\n64<52\n34<97\n131<144\n36<44\n48<87\n70<65\n62<117\n19<47\n1<16\n141<108\n145<79\n103<3\n99<132\n28<134\n23<87\n47<107\n107<136\n16<94\n132<31\n55<32\n123<142\n4<150\n48<131\n96<121\n13<124\n58<34\n47<75\n131<24\n54<149\n98<122\n109<21\n105<120\n38<143\n60<133\n130<83\n115<44\n95<93\n10<75\n149<96\n9<82\n117<60\n12<96\n119<108\n73<97\n76<27\n73<30\n141<41\n23<89\n65<99\n19<47\n150<100\n43<131\n20<71\n109<7\n81<33\n12<17\n130<147\n127<131\n106<149\n39<82\n78<124\n6<68\n71<44\n135<81\n121<116\n105<60\n74<55\n105<103\n131<69\n53<55\n98<25\n58<7\n28<58\n47<45\n102<81\n36<114\n13<104\n41<30\n42<6\n40<27\n49<98\n129<101\n41<107\n77<92\n123<87\n51<70\n40<38\n48<47\n12<149\n142<10\n135<31\n53<13\n136<111\n66<67\n16<139\n148<96\n88<18\n70<139\n69<54\n117<40\n39<110\n43<56\n87<117\n44<141\n7<82\n19<73\n68<17\n29<84\n47<12\n62<144\n109<83\n47<63\n85<68\n71<142\n24<107\n88<21\n117<129\n16<46\n17<112",
          "testOut": "2 4 5 8 14 15 19 20 23 26 28 29 35 36 37 39 42 43 48 49 51 53 13 56 57 58 59 61 62 64 66 67 70 65 71 72 73 77 78 80 84 85 9 1 16 46 86 88 18 90 91 92 94 98 25 99 104 105 103 3 106 109 7 21 82 110 113 115 44 118 119 11 120 122 34 97 123 87 117 40 38 60 74 55 32 114 22 124 125 126 127 128 129 101 130 83 131 24 69 54 132 133 134 76 27 135 31 137 47 12 45 50 52 63 95 93 138 139 140 141 41 30 107 108 6 68 17 112 136 111 142 10 75 143 144 145 79 146 147 148 149 96 121 116 102 81 33 150 89 100\n",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 6",
          "isTest": false,
          "testIn": "150\n150\n89<6\n107<134\n23<113\n39<85\n38<14\n41<87\n134<99\n63<99\n60<81\n135<94\n130<37\n142<62\n54<127\n4<59\n44<42\n112<143\n76<133\n129<29\n132<31\n130<88\n9<109\n83<26\n2<41\n22<120\n40<107\n52<101\n44<95\n33<38\n1<139\n60<131\n111<47\n48<112\n146<95\n128<83\n145<128\n38<22\n132<77\n119<98\n99<121\n127<10\n20<89\n119<82\n97<118\n49<128\n89<90\n73<117\n79<93\n87<109\n86<12\n92<41\n118<48\n62<79\n69<142\n37<10\n105<126\n146<120\n111<67\n33<102\n150<91\n126<127\n142<44\n28<112\n118<49\n106<71\n84<96\n81<26\n44<34\n37<53\n42<138\n27<2\n100<34\n50<126\n76<9\n145<134\n110<52\n11<84\n148<49\n4<93\n24<118\n106<142\n124<74\n24<88\n18<82\n13<64\n13<136\n22<37\n80<148\n79<144\n15<31\n61<149\n122<121\n97<24\n95<7\n132<95\n91<146\n25<50\n86<94\n69<104\n117<126\n131<50\n113<21\n112<85\n30<39\n97<43\n136<51\n97<135\n76<119\n127<130\n52<32\n43<39\n23<21\n76<20\n44<33\n65<147\n64<58\n22<53\n32<109\n24<125\n110<23\n16<133\n124<127\n130<31\n65<123\n124<19\n7<30\n21<44\n36<1\n78<141\n47<95\n112<117\n44<74\n41<71\n80<101\n136<106\n62<2\n109<90\n61<3\n85<54\n35<143\n48<7\n63<10\n57<6\n105<112\n121<91\n127<102\n52<17\n117<41\n61<122\n64<111\n80<42",
          "testOut": "4 5 8 11 13 15 16 18 25 27 28 35 36 1 40 45 46 55 56 57 59 60 61 3 63 64 58 65 66 68 69 70 72 73 75 76 9 20 78 80 81 84 86 12 89 6 92 96 97 24 43 100 103 104 105 107 108 110 23 52 17 32 101 111 47 67 113 21 114 115 116 118 48 112 117 119 82 98 122 123 124 19 125 129 29 131 50 126 132 77 133 135 94 136 51 106 137 139 140 141 142 44 33 34 38 14 22 42 62 2 41 71 74 79 87 93 109 90 138 143 144 145 134 99 121 147 148 49 128 83 26 149 150 91 146 95 7 30 39 85 54 120 127 102 130 31 37 10 53 88\n",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 7",
          "isTest": true,
          "testIn": "250\n250\n108<248\n237<52\n47<140\n45<182\n31<182\n127<132\n13<74\n171<175\n155<74\n139<99\n92<33\n106<66\n24<45\n91<47\n125<69\n115<209\n54<76\n107<223\n125<99\n78<127\n242<153\n107<106\n96<48\n138<12\n22<76\n113<151\n21<69\n249<45\n43<155\n42<196\n70<17\n241<24\n152<225\n108<174\n113<173\n235<52\n199<162\n19<126\n125<232\n241<198\n26<149\n134<167\n45<5\n57<82\n23<97\n179<166\n98<195\n182<40\n72<75\n162<75\n40<194\n74<3\n212<161\n126<222\n162<153\n223<38\n195<209\n23<75\n66<32\n237<171\n113<221\n62<115\n37<53\n116<221\n51<241\n87<179\n219<74\n141<75\n169<27\n211<25\n77<234\n172<166\n128<122\n211<106\n196<3\n203<179\n131<175\n171<206\n229<184\n190<81\n117<106\n237<73\n28<135\n109<104\n160<107\n241<21\n145<150\n115<86\n152<192\n93<241\n202<136\n33<190\n88<153\n235<156\n215<144\n20<82\n105<8\n200<178\n70<76\n203<25\n75<171\n145<164\n86<100\n26<44\n250<247\n125<144\n172<41\n51<180\n79<181\n24<188\n226<217\n224<206\n235<165\n27<159\n96<115\n201<100\n70<119\n73<54\n191<133\n66<7\n180<209\n249<217\n178<69\n117<23\n239<28\n36<18\n45<96\n91<218\n97<1\n62<98\n211<191\n234<28\n158<17\n196<216\n70<95\n41<153\n215<220\n217<142\n71<57\n194<167\n44<110\n220<107\n216<68\n133<222\n32<39\n242<107\n144<163\n89<186\n61<188\n226<99\n107<136\n5<92\n194<53\n244<36\n233<132\n145<161\n200<227\n199<44\n179<103\n209<75\n143<228\n4<143\n224<27\n126<180\n58<157\n240<133\n119<43\n161<153\n2<188\n7<243\n42<118\n16<12\n164<186\n167<34\n81<99\n35<113\n23<248\n73<130\n67<8\n129<32\n68<20\n60<168\n207<178\n139<89\n189<131\n105<55\n173<91\n98<219\n201<209\n156<82\n66<54\n138<107\n169<142\n249<61\n156<116\n243<105\n97<173\n57<198\n156<170\n32<55\n97<132\n94<231\n121<213\n160<131\n122<12\n33<19\n204<49\n131<52\n234<136\n102<210\n203<30\n151<162\n162<23\n6<205\n38<217\n63<250\n132<148\n243<188\n61<205\n212<237\n54<171\n122<215\n154<161\n176<186\n218<39\n185<84\n165<202\n81<177\n72<40\n124<41\n102<134\n2<84\n43<203\n110<240\n172<107\n175<20\n137<150\n58<139\n207<173\n13<97\n244<80\n140<233\n38<44\n53<13\n190<43\n150<181\n118<24\n216<13\n90<243\n82<8",
          "testOut": "2 4 6 9 10 11 14 15 16 22 26 29 31 35 37 42 46 50 51 56 58 59 60 62 63 64 65 67 70 71 57 72 77 78 79 83 85 87 88 90 93 94 95 98 101 102 108 109 104 111 112 113 114 117 118 119 120 121 123 124 125 127 128 122 129 134 137 138 12 139 89 141 143 145 146 147 149 150 151 152 154 157 158 17 160 164 168 169 172 41 174 176 181 183 185 84 186 187 189 131 192 193 195 196 197 199 162 23 200 201 204 49 207 178 208 210 211 191 212 161 213 214 215 144 163 216 68 219 220 224 27 159 225 226 227 228 229 184 230 231 232 234 235 156 116 165 170 202 221 236 237 52 73 130 238 239 28 135 241 21 24 69 198 242 107 106 66 7 32 54 76 136 153 223 38 44 110 240 133 243 105 55 244 36 18 80 245 246 248 249 45 5 61 92 33 19 96 48 115 86 100 126 180 182 40 188 190 43 81 99 155 177 194 53 13 74 3 97 1 167 34 173 91 47 140 203 25 30 179 103 166 205 209 75 171 175 20 82 8 206 217 142 218 39 222 233 132 148 250 247\n",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 7",
          "isTest": false,
          "testIn": "250\n250\n193<8\n110<242\n224<85\n64<178\n103<59\n243<45\n171<126\n2<44\n242<68\n237<109\n41<2\n223<17\n233<189\n109<51\n230<243\n249<223\n70<129\n176<108\n237<12\n198<205\n143<40\n92<25\n213<34\n227<92\n52<70\n37<15\n149<98\n150<169\n187<62\n142<222\n97<115\n249<1\n145<86\n210<193\n230<232\n172<75\n205<245\n86<106\n90<175\n4<177\n5<203\n222<212\n133<18\n158<181\n36<163\n214<105\n45<16\n162<99\n74<9\n3<14\n143<178\n148<46\n211<146\n97<109\n99<227\n7<128\n5<73\n52<47\n178<108\n92<177\n92<59\n57<169\n151<249\n212<12\n98<43\n70<109\n94<19\n50<235\n41<250\n243<193\n75<130\n168<162\n247<23\n183<218\n113<30\n148<12\n24<10\n103<205\n152<106\n106<194\n184<108\n175<112\n17<102\n189<169\n97<236\n80<74\n4<199\n50<16\n142<35\n4<77\n38<42\n101<69\n40<15\n193<175\n130<74\n209<64\n121<222\n130<73\n198<110\n249<88\n243<192\n222<11\n199<225\n230<109\n234<11\n53<241\n181<63\n188<95\n220<21\n14<123\n84<113\n37<104\n190<23\n235<134\n95<56\n229<115\n212<79\n12<193\n162<197\n59<114\n29<65\n145<119\n87<121\n35<242\n161<175\n156<53\n237<107\n192<186\n34<114\n250<191\n54<234\n248<189\n123<51\n119<127\n247<19\n176<63\n66<201\n74<240\n21<96\n233<168\n27<240\n161<129\n219<121\n112<235\n105<98\n245<167\n62<12\n65<115\n232<249\n190<185\n19<88\n158<102\n139<244\n40<249\n218<95\n215<71\n152<52\n181<80\n246<89\n22<113\n55<193\n236<20\n147<84\n203<116\n38<199\n175<154\n164<121\n164<38\n26<158\n138<208\n96<109\n30<41\n55<139\n128<188\n176<60\n189<104\n211<36\n209<109\n57<65\n43<18\n118<189\n206<182\n88<104\n221<36\n105<128\n72<66\n59<70\n165<102\n4<134\n184<225\n54<123\n131<108\n245<64\n166<53\n97<35\n21<176\n73<246\n151<246\n72<221\n7<104\n237<15\n197<175\n18<182\n19<63\n248<99\n61<222\n37<136\n138<191\n170<84\n65<188\n239<186\n39<34\n203<89\n220<250\n117<167\n14<226\n31<77\n9<233\n250<146\n167<61\n41<145\n109<191\n59<137\n236<100\n36<174\n34<20\n138<169\n240<179\n36<192\n3<154\n91<191\n221<43\n129<76\n238<21\n224<169\n38<165\n87<209\n181<178\n124<65\n218<116\n200<22\n229<36\n172<31\n242<31\n95<67\n50<231\n70<15\n142<171\n121<132\n128<67",
          "testOut": "3 4 5 6 7 13 14 24 10 26 27 28 29 32 33 37 39 48 49 50 54 55 57 58 72 66 78 81 82 83 87 90 91 93 94 97 101 69 103 111 117 118 120 122 123 124 65 125 131 133 135 136 138 139 140 141 142 35 143 40 144 147 148 46 149 150 151 152 52 47 153 155 156 157 158 159 160 161 164 38 42 165 166 53 170 84 171 126 172 75 130 73 173 180 181 80 74 9 183 184 187 62 190 185 195 196 198 110 199 200 22 113 30 41 2 44 145 86 106 119 127 194 201 202 203 204 205 206 207 208 209 210 211 213 34 214 105 98 128 188 215 71 216 217 218 95 56 67 116 219 121 132 220 221 43 18 182 224 85 225 226 228 229 36 115 163 174 230 231 232 233 168 162 197 234 236 20 100 237 107 238 21 96 176 60 239 240 179 241 242 31 68 77 243 45 16 192 186 244 245 64 167 61 178 108 222 11 212 12 79 193 8 175 112 154 235 134 246 89 247 19 23 63 248 99 189 169 227 92 25 59 70 15 109 51 114 129 76 137 177 249 1 88 104 223 17 102 250 146 191",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "easy",
      "constraints": "0 < [[N]] <= 250\n0 <= [[K]] <= 250\n1 ≤ [[p1]], [[p2]] ≤ [[N]]\nThe same process number can appear in multiple constraints.",
      "coverBinaryId": 141820907327510,
      "stubGenerator": "read n:int\nread k:int\nloop k read str:string(9)\nwrite answer",
      "inputDescription": "<<Line 1:>> An integer [[N]] for the number of processes.\n<<Line 2:>> An integer [[K]] for the number of contraints.\n<<Next [[K]] lines:>> A constraint string consisting of two process numbers [[p1]] and [[p2]], separated by {{<}}.",
      "solutionLanguage": "Perl",
      "outputDescription": "<<Line 1:>> The space-separated list of processes in processing order, or the text {{INVALID}}."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">There are <var>N</var> different sequential processes in a production pipeline which must be executed, identified by a number from 1 to <var>N</var>, and <var>K</var> constraints given in the form &quot;[process1] <const>&lt;</const> [process2]&quot;, which means that the first provided process must run before the second provided process.<br><br>Find a valid processing order for all processes that respects the constraints. If none exists, output <const>INVALID</const>. Otherwise output the processes in their order, separated by spaces. In case the order of two processes doesn't matter, use the smaller process first.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> An integer <var>N</var> for the number of processes.<br><strong>Line 2:</strong> An integer <var>K</var> for the number of contraints.<br><strong>Next <var>K</var> lines:</strong> A constraint string consisting of two process numbers <var>p1</var> and <var>p2</var>, separated by <const>&lt;</const>.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>Line 1:</strong> The space-separated list of processes in processing order, or the text <const>INVALID</const>.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">0 &lt; <var>N</var> &lt;= 250<br>0 &lt;= <var>K</var> &lt;= 250<br>1 &le; <var>p1</var>, <var>p2</var> &le; <var>N</var><br>The same process number can appear in multiple constraints.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">8\n3\n2&lt;5\n3&lt;4\n5&lt;4</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">1 2 3 5 4 6 7 8</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 25246953850,
  "avatar": 77623682146098,
  "commentCount": 17,
  "upVotes": 5,
  "downVotes": 0,
  "validateAction": {
    "actionId": 1112960,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1745481499616,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}