{
  "id": 48822,
  "activeVersion": 12,
  "score": 10,
  "votableId": 28463572,
  "codingamerId": 3479792,
  "views": 201,
  "commentableId": 28333796,
  "title": "Mandelbrot Set Approximation",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "StepBack13",
  "publicHandle": "488222b28f051950893b47fc4b0b2e5c1a7ad",
  "codingamerHandle": "da2fe4fbf3c0ab008c6dcf304920ec602979743",
  "lastVersion": {
    "version": 12,
    "autocloseTime": 1680864066241,
    "data": {
      "title": "Mandelbrot Set Approximation",
      "topics": [
        {
          "id": 94,
          "handle": "mathematics",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Mathematics",
            "2": "Mathematics"
          },
          "puzzleCount": 50,
          "parentTopicId": 93
        },
        {
          "labelMap": {
            "2": "Complex Numbers"
          }
        },
        {
          "id": 71,
          "handle": "recursion",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Récursion",
            "2": "Recursion"
          },
          "pageTitle": "Recursion: exercises and theory",
          "puzzleCount": 31,
          "parentTopicId": 41,
          "contentDetailsId": 77
        },
        {
          "labelMap": {
            "2": "Divergence"
          }
        },
        {
          "labelMap": {
            "2": "Fractal"
          }
        }
      ],
      "solution": "ny = gets.to_i\nnx = 3 * (ny - 1) / 2 + 1\ndy = 2.0 / (ny - 1)\ndx = 3.0 / (nx - 1)\nx = [*(-2..1).step(dx)]\ny = [*(-1..1).step(dy)].reverse\nf = -> c { z = 0\n\t10.times{ z = z**2 + c }\n\tz.abs <= 1 ? ?* : ' ' }\ny.map{|i| puts x.map{|j| f[Complex(j,i)] }.join }",
      "statement": "The Mandelbrot set is the set of all complex numbers [[c]] that do not diverge (don't get bigger and bigger) when you repeatedly apply the function:\n\nz(n+1) = z(n)^2 + [[c]]\n\nwith z(0) = 0.\nFor example, if [[c]] = 1 then z(0)=0, z(1) = 0^2+1 = 1, z(2) = 1^2 + 1 = 2, z(3) = 2^2 + 1 = 5, etc. - so for c = 1, it diverges (it gets bigger each time).\n\n[[c]] can be any complex number, which can be simplified as a 2-column vector [x,y] where 'x' is the 'real' part and 'y' is the 'imaginary' part. [x,y]^2 is defined as [x^2-y^2, 2*x*y] (if your coding language doesn't natively support complex arithmetic).\n\nGiven an input [[n]] which is the number of rows of output to give in your answer, with the number of columns being 1.5*([[n]]-1)+1, each having the same step size - step = 2/([[n]]-1). Approximate the Mandelbrot set by checking whether each point on the 2D region from x = -2 to +1 and y = -1 to +1 is still 'small' after 10 iterations of the function. 'Small' is defined here by whether the absolute value of z(10) (the 10th iteration) is <= 1.\n\ne.g. for [[c]] = [0.5,0.5], z(0) = [0,0], z(1) = [0.5,0.5],\nz(2) = [0.5,0.5]^2+[0.5,0.5] = [0.5^2-0.5^2, 2*0.5*0.5]+[0.5,0.5] = [0,0.5]+[0.5,0.5] = [0.5,1]\nz(3) = ...\nz(10) ≈ [9.746656569875421e+17,1.5363420963186726e+17i]\n|z(10)| ≈ 9.866998597750816e+17  <- definitely not in the set\n\nPrint the 2D grid with [[n]] evenly spaced points in -1≤y≤1 and 1.5*([[n]]-1)+1 points in -2≤x≤1 and display points that diverge as a space ' ' and points in the set as a '*'. (Leave trailing spaces so the grid is a square)\n\nNote: the step size will be the same in x and y.\nNote: the absolute value of a complex number is the square root of the sum of the two components squared √(x^2+y^2).",
      "testCases": [
        {
          "title": "Test 1",
          "isTest": true,
          "testIn": "7",
          "testOut": "          \n      *   \n    ****  \n ******   \n    ****  \n      *   \n          ",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "9",
          "testOut": "             \n       **    \n      ****   \n    * ****   \n  ********   \n    * ****   \n      ****   \n       **    \n             ",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 2",
          "isTest": true,
          "testIn": "13",
          "testOut": "                   \n           **      \n           **      \n         ******    \n        *******    \n     **********    \n *************     \n     **********    \n        *******    \n         ******    \n           **      \n           **      \n                   ",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "17",
          "testOut": "               *         \n               *         \n              ***        \n            ******       \n            *******      \n      *    *********     \n       *** *********     \n      **************     \n * ****************      \n      **************     \n       *** *********     \n      *    *********     \n            *******      \n            ******       \n              ***        \n               *         \n               *         ",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 3",
          "isTest": true,
          "testIn": "19",
          "testOut": "                            \n                 *          \n                ***         \n             *  ***         \n             *********      \n            **********      \n            ***********     \n        **************      \n       ***************      \n   * ****************       \n       ***************      \n        **************      \n            ***********     \n            **********      \n             *********      \n             *  ***         \n                ***         \n                 *          \n                            ",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "21",
          "testOut": "                               \n                   *           \n                  ***          \n                  **           \n               *******         \n               *********       \n              **********       \n        * *  ************      \n        *****************      \n       *****************       \n *** ******************        \n       *****************       \n        *****************      \n        * *  ************      \n              **********       \n               *********       \n               *******         \n                  **           \n                  ***          \n                   *           \n                               ",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 4",
          "isTest": true,
          "testIn": "25",
          "testOut": "                                     \n                       *             \n                     ****            \n                     ****            \n                     ****            \n                 ************        \n                 ************        \n                *************        \n                **************       \n          ****  *************        \n         ********************        \n        *********************        \n  * * **********************         \n        *********************        \n         ********************        \n          ****  *************        \n                **************       \n                *************        \n                 ************        \n                 ************        \n                     ****            \n                     ****            \n                     ****            \n                       *             \n                                     ",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "23",
          "testOut": "                                  \n                     *            \n                    ***           \n                    **            \n                * ******  *       \n                **********        \n               ***********        \n              *************       \n         ****  ************       \n         ******************       \n       ********************       \n  *** ********************        \n       ********************       \n         ******************       \n         ****  ************       \n              *************       \n               ***********        \n                **********        \n                * ******  *       \n                    **            \n                    ***           \n                     *            \n                                  ",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "easy",
      "constraints": "2 ≤ [[n]] ≤ 25 (25 rows and 37 columns at most)\n[[n]] is always odd",
      "coverBinaryId": 100053106366540,
      "stubGenerator": "read n:int\nwrite MandelbrotSet",
      "inputDescription": "[[n]]: the (integer) number of rows  for your 2D grid, number of columns = 3*([[n]]-1)/2+1.",
      "solutionLanguage": "Ruby",
      "outputDescription": "<<[[n]] lines>>: the approximated Mandelbrot set with points in the set shown as '*' and points that diverged shown as a space ( )."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">The Mandelbrot set is the set of all complex numbers <var>c</var> that do not diverge (don't get bigger and bigger) when you repeatedly apply the function:<br><br>z(n+1) = z(n)^2 + <var>c</var><br><br>with z(0) = 0.<br>For example, if <var>c</var> = 1 then z(0)=0, z(1) = 0^2+1 = 1, z(2) = 1^2 + 1 = 2, z(3) = 2^2 + 1 = 5, etc. - so for c = 1, it diverges (it gets bigger each time).<br><br><var>c</var> can be any complex number, which can be simplified as a 2-column vector [x,y] where 'x' is the 'real' part and 'y' is the 'imaginary' part. [x,y]^2 is defined as [x^2-y^2, 2*x*y] (if your coding language doesn't natively support complex arithmetic).<br><br>Given an input <var>n</var> which is the number of rows of output to give in your answer, with the number of columns being 1.5*(<var>n</var>-1)+1, each having the same step size - step = 2/(<var>n</var>-1). Approximate the Mandelbrot set by checking whether each point on the 2D region from x = -2 to +1 and y = -1 to +1 is still 'small' after 10 iterations of the function. 'Small' is defined here by whether the absolute value of z(10) (the 10th iteration) is &lt;= 1.<br><br>e.g. for <var>c</var> = [0.5,0.5], z(0) = [0,0], z(1) = [0.5,0.5],<br>z(2) = [0.5,0.5]^2+[0.5,0.5] = [0.5^2-0.5^2, 2*0.5*0.5]+[0.5,0.5] = [0,0.5]+[0.5,0.5] = [0.5,1]<br>z(3) = ...<br>z(10) &asymp; [9.746656569875421e+17,1.5363420963186726e+17i]<br>|z(10)| &asymp; 9.866998597750816e+17  &lt;- definitely not in the set<br><br>Print the 2D grid with <var>n</var> evenly spaced points in -1&le;y&le;1 and 1.5*(<var>n</var>-1)+1 points in -2&le;x&le;1 and display points that diverge as a space ' ' and points in the set as a '*'. (Leave trailing spaces so the grid is a square)<br><br>Note: the step size will be the same in x and y.<br>Note: the absolute value of a complex number is the square root of the sum of the two components squared &radic;(x^2+y^2).</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><var>n</var>: the (integer) number of rows  for your 2D grid, number of columns = 3*(<var>n</var>-1)/2+1.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong><var>n</var> lines</strong>: the approximated Mandelbrot set with points in the set shown as '*' and points that diverged shown as a space ( ).</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">2 &le; <var>n</var> &le; 25 (25 rows and 37 columns at most)<br><var>n</var> is always odd</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">7</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">          \n      *   \n    ****  \n ******   \n    ****  \n      *   \n          </pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 90198634843,
  "avatar": 33990586394707,
  "commentCount": 15,
  "upVotes": 11,
  "downVotes": 1,
  "validateAction": {
    "actionId": 774861,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1680530749550,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}