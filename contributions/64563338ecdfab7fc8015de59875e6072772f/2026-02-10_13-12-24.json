{
  "id": 64563,
  "activeVersion": 19,
  "score": 14,
  "votableId": 30303553,
  "codingamerId": 4954542,
  "views": 251,
  "commentableId": 30167283,
  "title": "P-adic sort",
  "status": "ACCEPTED",
  "type": "CLASHOFCODE",
  "nickname": "Drunkey",
  "publicHandle": "64563338ecdfab7fc8015de59875e6072772f",
  "codingamerHandle": "89e3d037495c24ff680429c82958f15d2454594",
  "lastVersion": {
    "version": 19,
    "autocloseTime": 1694843180405,
    "data": {
      "title": "P-adic sort",
      "topics": [],
      "fastest": true,
      "reverse": false,
      "shortest": true,
      "solution": "require 'prime'\n\nclass Integer\n  def p_adic_val(p)\n    return 0 if self == 0\n\n    pr, ex = self.prime_division.find { |pr, ex| pr == p }\n    ex || 0\n  end\nend\n\nINPUT = true\n\nif INPUT\n  p = gets.to_i\n  xs = gets.split.map(&:to_i)\n\n  # Constraints\n  puts 'p not prime' unless p.prime?\n  puts 'xs too long' if xs.size >= 20\n  puts 'xs overflowing' if xs.any? { _1 >= 1 << 64 }\n\n  puts xs.sort_by { _1.p_adic_val(p) }.join(' ')\nelse\n  p = Prime.each(100).to_a.sample\n  s = 19\n  min = 0\n  max = 300\n\n  xs = Array.new(s) { rand(min..max) }\n\n  force_zero = true\n  xs[rand(0...s)] = 0 if force_zero\n\n  # Force some random primes inside\n  add = 10\n  add.times do\n    idx = rand(0...s)\n    xs[idx] *= p\n  end\n\n  warn p\n  warn xs * ' '\n  puts n.sort_by { _1.p_adic_val(p) }.join(' ')\nend",
      "statement": "Arrange the provided list [[xs]] of nonnegative integers in ascending order based on their [[p]]-adic valuations.\n\nThe [[p]]-adic valuation of an integer <<n>> is the greatest power of [[p]] that divides <<n>>, unless <<n>> is {{0}}, in which case the [[p]]-adic valuation is {{0}}.\n\n<<Example:>>\n`\n2\n1 2 3 4 5 6\n| | | | | |\nv v v v v v \n0 1 0 2 0 1  <- 2-adic valuations\n     |\n     v\n1 3 5 2 6 4  <- ascendingly sorted list\n`",
      "testCases": [
        {
          "title": "1. Base",
          "isTest": true,
          "testIn": "2\n1 2 3 4 5 6",
          "testOut": "1 3 5 2 6 4",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "1. Base val",
          "isTest": false,
          "testIn": "3\n1 2 3 4 5 6",
          "testOut": "1 2 4 5 3 6",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "2. Zero",
          "isTest": true,
          "testIn": "3\n0 9 2",
          "testOut": "0 2 9",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "2. Zero val",
          "isTest": false,
          "testIn": "2\n0 4 1",
          "testOut": "0 1 4",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "3. R1",
          "isTest": true,
          "testIn": "7\n4655 19894 15092 98 168 19",
          "testOut": "19 168 4655 98 19894 15092",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "3. R1 val",
          "isTest": false,
          "testIn": "5\n330 78 315 8375 5125 450",
          "testOut": "78 330 315 450 8375 5125",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "4. R2",
          "isTest": true,
          "testIn": "79\n78886240 188 104 178 17749404 9243 553 3792 13509 164 161 37",
          "testOut": "188 104 178 164 161 37 9243 553 3792 13509 78886240 17749404",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "4. R2 val",
          "isTest": false,
          "testIn": "31\n22 1271 70 19 1550 1489550 5766 161 58621 110515 129 10",
          "testOut": "22 70 19 161 129 10 1271 1550 5766 58621 110515 1489550",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "4. R3 Zero",
          "isTest": true,
          "testIn": "19\n2964 1292 197 96026 203 4275 20 0 4446 93 3097 45 70756 66 217",
          "testOut": "197 203 20 0 93 45 66 217 2964 1292 4275 4446 3097 70756 96026",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "4. R3 Zero val",
          "isTest": false,
          "testIn": "83\n44 10624 20169 10541 7636 1 181 179 19090 218 1162 0 25 141803176 8",
          "testOut": "44 1 181 179 218 0 25 8 10624 20169 10541 7636 19090 1162 141803176",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "6. R4 Zero",
          "isTest": true,
          "testIn": "2\n170 0 17 100 378 251 294 188 476 928 422 594 154 28 270 232 272 217 291",
          "testOut": "0 17 251 217 291 170 378 294 422 594 154 270 100 188 476 28 232 272 928",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "6. R4 Zero val",
          "isTest": false,
          "testIn": "61\n22 150 152 271 277 96 12749 0 11590 8357 15616 8852259 18 80 119 230 15677 88 11895",
          "testOut": "22 150 152 271 277 96 0 18 80 119 230 88 12749 11590 8357 15616 15677 11895 8852259",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "constraints": "[[p]] is prime.\nFor every integer [[x]] of [[xs]] we have 0 <= [[x]] <= 2 ** 64.\nLength of [[xs]] is < 20.",
      "stubGenerator": "read p:int\nread xs:string(1024)\n\nwrite p-adicly sorted xs",
      "inputDescription": "<<Line 1 :>> A prime number [[p]].\n<<Line 2 :>> A space-separated list [[xs]] of nonnegative integers.",
      "solutionLanguage": "Ruby",
      "outputDescription": "A space-separated list of nonnegative integers sorted in ascending order based on the [[p]]-adic valuation."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Arrange the provided list <var>xs</var> of nonnegative integers in ascending order based on their <var>p</var>-adic valuations.<br><br>The <var>p</var>-adic valuation of an integer <strong>n</strong> is the greatest power of <var>p</var> that divides <strong>n</strong>, unless <strong>n</strong> is <const>0</const>, in which case the <var>p</var>-adic valuation is <const>0</const>.<br><br><strong>Example:</strong><br><pre style=\"font-family: monospace\"><br>2<br>1 2 3 4 5 6<br>| | | | | |<br>v v v v v v <br>0 1 0 2 0 1  &lt;- 2-adic valuations<br>     |<br>     v<br>1 3 5 2 6 4  &lt;- ascendingly sorted list<br></pre></span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1 :</strong> A prime number <var>p</var>.<br><strong>Line 2 :</strong> A space-separated list <var>xs</var> of nonnegative integers.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">A space-separated list of nonnegative integers sorted in ascending order based on the <var>p</var>-adic valuation.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\"><var>p</var> is prime.<br>For every integer <var>x</var> of <var>xs</var> we have 0 &lt;= <var>x</var> &lt;= 2 ** 64.<br>Length of <var>xs</var> is &lt; 20.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">2\n1 2 3 4 5 6</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">1 3 5 2 6 4</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 76182777283,
  "avatar": 92116981289466,
  "commentCount": 15,
  "upVotes": 17,
  "downVotes": 3,
  "validateAction": {
    "actionId": 855039,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "REFUSED",
      "date": 1692227137001,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1692251180405,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "ACCEPTED",
      "date": 1694546365732,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}