{
  "id": 1735,
  "activeVersion": 6,
  "score": 3,
  "votableId": 9230147,
  "codingamerId": 1880319,
  "views": 257,
  "commentableId": 9164334,
  "title": "Dead men's shot",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "WildSmilodon",
  "publicHandle": "173542eb0f7e30b9c71dcd95ebaa120e8af1",
  "codingamerHandle": "f448cce335d6272f8e1e396db609c4b09130881",
  "lastVersion": {
    "version": 6,
    "autocloseTime": 1543770572369,
    "data": {
      "title": "Dead men's shot",
      "topics": [
        {
          "id": 95,
          "handle": "geometry",
          "labelMap": {
            "1": "Geometry",
            "2": "Geometry"
          },
          "puzzleCount": 4,
          "parentTopicId": 93
        },
        {
          "labelMap": {
            "2": "Dot product"
          }
        }
      ],
      "solution": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <math.h>\n\nusing namespace std;\n\nclass Point {\npublic:\n    float x;\n    float y;\n    \n    void normalize() {\n      float d = sqrt(x*x+y*y);\n      x=x/d;\n      y=y/d;\n    }\n};\n\nclass Target {\npublic:\n    int N;\n    vector<Point> corners;\n    vector<Point> centers;\n    vector<Point> normals;\n    \n    void CalculateCenters() {\n        Point s;\n        for (int i = 0; i < N-1; i++) {\n            s.x = 0.5 * (corners.at(i).x + corners.at(i+1).x);\n            s.y = 0.5 * (corners.at(i).y + corners.at(i+1).y);\n            centers.push_back(s);\n        }\n        s.x = 0.5 * (corners.at(N-1).x + corners.at(0).x);\n        s.y = 0.5 * (corners.at(N-1).y + corners.at(0).y);\n        centers.push_back(s);\n    }\n    \n    void CalculateNormals() {\n        Point s;\n        for (int i = 0; i < N-1; i++) {\n            s.y =     corners.at(i).x - corners.at(i+1).x;\n            s.x = - ( corners.at(i).y - corners.at(i+1).y );\n            s.normalize();\n            normals.push_back(s);\n        }\n            s.y =     corners.at(N-1).x - corners.at(0).x;\n            s.x = - ( corners.at(N-1).y - corners.at(0).y );\n            s.normalize();\n            normals.push_back(s);\n    }\n    \n};\n\nfloat DotProduct(Point p1, Point p2) {  \n    return p1.x*p2.x + p1.y*p2.y;   \n}\n\nstring HitOrMiss(Target target, Point shot) {\n\n    string HorM = \"hit\";\n    for (int i = 0; i < target.N; i++) {\n        Point p; \n        p.x = target.centers.at(i).x - shot.x;\n        p.y = target.centers.at(i).y - shot.y;\n        if ( DotProduct(p,target.normals.at(i)) < 0.0 ) {HorM=\"miss\";}\n    }   \n    \n    return HorM;\n}\n\n \nint main()\n{\n    Target target;\n    Point p;\n    \n    cin >> target.N; cin.ignore();\n    for (int i = 0; i < target.N; i++) {\n        cin >> p.x >> p.y; cin.ignore();\n        target.corners.push_back(p);\n    }\n    target.CalculateCenters();\n    target.CalculateNormals();\n    \n    int M;\n    cin >> M; cin.ignore();\n    for (int i = 0; i < M; i++) {\n        cin >> p.x >> p.y; cin.ignore();\n        cout << HitOrMiss(target,p) << endl;\n    }\n}",
      "statement": "Captain Jack Sparrow and his pirate friends have been drinking one night. After plenty of rum, they got into an argument about who is the best shot. Captain Jack takes up some paint and paints a target on a nearby wall. The pirates take out their guns and start shooting.\n\nYour task is to help the drunk pirates find out which shots hit the target.\n\nCaptain Jack Sparrow drew the target by drawing [[N]] lines. The lines form a convex shape defined by [[N]] corners. A convex shape has all internal angles less than 180 degrees. For example, all internal angles in a square are 90 degrees. \n\nA shot within the convex shape or on one of the lines is considered a hit.",
      "testCases": [
        {
          "title": "Square",
          "isTest": true,
          "testIn": "4\n-100 -100\n100 -100\n100 100\n-100 100\n5\n0 0\n99 99\n101 101\n80 -101\n0 -100",
          "testOut": "hit\nhit\nmiss\nmiss\nhit",
          "isValidator": false
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "4\n-90 -90\n110 -90\n110 110\n-90 110\n5\n0 0\n111 111\n109 109\n80 -91\n0 -90",
          "testOut": "hit\nmiss\nhit\nmiss\nhit",
          "isValidator": true
        },
        {
          "title": "Triangle",
          "isTest": true,
          "testIn": "3\n0 0\n400 0\n200 200\n5\n200 100\n-34 23\n75 5\n175 174\n175 176",
          "testOut": "hit\nmiss\nhit\nhit\nmiss",
          "isValidator": false
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "3\n0 0\n200 -200\n400 0\n5\n200 -100\n-34 -23\n75 -5\n175 -174\n175 -176",
          "testOut": "hit\nmiss\nhit\nhit\nmiss",
          "isValidator": true
        },
        {
          "title": "Five corners",
          "isTest": true,
          "testIn": "5\n0 0\n100 0\n150 50\n100 100\n0 100\n5\n100 50\n20 80\n150 0\n99 99\n125 76",
          "testOut": "hit\nhit\nmiss\nhit\nmiss",
          "isValidator": false
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "5\n-50 0\n50 0\n100 50\n0 300\n-100 50\n5\n0 25\n-50 99\n-75 20\n50 300\n0 299",
          "testOut": "hit\nhit\nmiss\nmiss\nhit",
          "isValidator": true
        },
        {
          "title": "Six sides",
          "isTest": true,
          "testIn": "6\n0 0\n100 -1000\n500 0\n500 100\n400 1000\n0 100\n5\n300 100\n5 -666\n100 -666\n250 250\n400 -400",
          "testOut": "hit\nmiss\nhit\nhit\nmiss",
          "isValidator": false
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "6\n0 0\n100 0\n1500 50\n100 100\n0 100\n-1500 50\n5\n-25 -30\n50 -1501\n50 95\n1000 50\n200 100",
          "testOut": "miss\nmiss\nhit\nhit\nmiss",
          "isValidator": true
        },
        {
          "title": "Ten sides",
          "isTest": true,
          "testIn": "10\n0 0\n100 0\n150 25\n200 75\n150 100\n100 125\n50 125\n-50 100\n-60 50\n-50 25\n6\n50 80\n100 100\n-100 80\n0 120\n200 100\n175 60",
          "testOut": "hit\nhit\nmiss\nmiss\nmiss\nhit",
          "isValidator": false
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "10\n58 -17\n83 -27\n133 -17\n158 83\n158 133\n133 183\n108 233\n83 211\n33 133\n33 33\n6\n113 83\n133 133\n113 -67\n153 33\n133 233\n93 208",
          "testOut": "hit\nhit\nmiss\nmiss\nmiss\nhit",
          "isValidator": true
        }
      ],
      "difficulty": "easy",
      "constraints": "3 ≤ [[N]] ≤ 10\n1 ≤ [[M]] ≤ 10\n-10000 < [[x]],[[y]] < 10000",
      "coverBinaryId": 38835923737818,
      "stubGenerator": "read N:int\nloop N read x:int y:int\nread M:int\nloop M read x:int y:int\nwrite hit_or_miss",
      "inputDescription": "<<Line 1:>> An integer [[N]] for the number of corners.\n<<Next [[N]] lines:>> Two space-separated integers [[x]] and [[y]] for the coordinates of a corner. The corners are listed in a counterclockwise manner. The target is formed by connecting the corners together with lines and connecting the last corner with the first one.\n<<Line [[N]]+1:>> An integer [[M]] for the number of shots.\n<<Next [[M]] lines:>> Two space-separated integers [[x]] and [[y]] for the coordinates of each shot.",
      "solutionLanguage": "C++",
      "outputDescription": "[[M]] lines with either \"hit\" or \"miss\" depending on whether the shot hit the target or not."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Captain Jack Sparrow and his pirate friends have been drinking one night. After plenty of rum, they got into an argument about who is the best shot. Captain Jack takes up some paint and paints a target on a nearby wall. The pirates take out their guns and start shooting.<br><br>Your task is to help the drunk pirates find out which shots hit the target.<br><br>Captain Jack Sparrow drew the target by drawing <var>N</var> lines. The lines form a convex shape defined by <var>N</var> corners. A convex shape has all internal angles less than 180 degrees. For example, all internal angles in a square are 90 degrees. <br><br>A shot within the convex shape or on one of the lines is considered a hit.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> An integer <var>N</var> for the number of corners.<br><strong>Next <var>N</var> lines:</strong> Two space-separated integers <var>x</var> and <var>y</var> for the coordinates of a corner. The corners are listed in a counterclockwise manner. The target is formed by connecting the corners together with lines and connecting the last corner with the first one.<br><strong>Line <var>N</var>+1:</strong> An integer <var>M</var> for the number of shots.<br><strong>Next <var>M</var> lines:</strong> Two space-separated integers <var>x</var> and <var>y</var> for the coordinates of each shot.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><var>M</var> lines with either &quot;hit&quot; or &quot;miss&quot; depending on whether the shot hit the target or not.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">3 &le; <var>N</var> &le; 10<br>1 &le; <var>M</var> &le; 10<br>-10000 &lt; <var>x</var>,<var>y</var> &lt; 10000</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">4\n-100 -100\n100 -100\n100 100\n-100 100\n5\n0 0\n99 99\n101 101\n80 -101\n0 -100</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">hit\nhit\nmiss\nmiss\nhit</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 229480292856,
  "avatar": 11419736983376,
  "commentCount": 16,
  "upVotes": 5,
  "downVotes": 2,
  "validateAction": {
    "actionId": 279664,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}