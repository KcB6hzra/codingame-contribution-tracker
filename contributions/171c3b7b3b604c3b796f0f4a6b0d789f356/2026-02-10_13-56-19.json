{
  "id": 171,
  "activeVersion": 9,
  "score": 4,
  "votableId": 451,
  "codingamerId": 233734,
  "views": 261,
  "commentableId": 165,
  "title": "Langton's ant",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Delgan",
  "publicHandle": "171c3b7b3b604c3b796f0f4a6b0d789f356",
  "codingamerHandle": "2d4af79b5078da9d0dbee56c2847873d437332",
  "lastVersion": {
    "version": 9,
    "data": {
      "title": "Langton's ant",
      "topics": [
        {
          "id": 87,
          "handle": "state-machine",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Machine à états",
            "2": "State machine"
          },
          "pageTitle": "State machine: exercises and theory",
          "puzzleCount": 6,
          "parentTopicId": 42,
          "contentDetailsId": 94
        }
      ],
      "solution": "w, h = map(int, input().split())\nx, y = map(int, input().split())\nd = input()\nt = int(input())\ngrid = []\nfor line in range(h):\n    grid.append(list(input()))\n    \n\ndirections = \"NESW\"\nmoves = ((0, -1), (1, 0), (0, 1), (-1, 0))\n\nrotations = {\"#\": +1, \".\": -1}\n\nfor i in range(t):\n    case = grid[y][x]\n    d_idx = directions.index(d)\n    d = directions[(d_idx + rotations[case]) % 4]\n    dx, dy = moves[directions.index(d)]\n    grid[y][x] = \"#\" if grid[y][x] == \".\" else \".\"\n    x += dx\n    y += dy\n    assert(0 <= x < w)\n    assert(0 <= y < h)\n    \nfor line in grid:\n    print(*line, sep=\"\")",
      "statement": "Langton's ant is a turing machine built on simple rules:\n• Consider a grid of [[W]]x[[H]] squares, each of which can be either black {{#}} or white {{.}}.\n• The ant starts at the position ([[x]], [[y]]) of the grid, the upper left square coordinates are (0,0).\n• The ant is facing one of the following directions ({{N}} = up, {{E}} = right, {{S}} = down, {{W}} = left).\n• The ant moves [[T]] turns. For each turn:\n　　- it rotates 90° left if it is on a white square, 90° right otherwise.\n　　- it inverts the color of the square it is located on.\n　　- it moves 1 square forward in its current direction.\n\nFrom an arbitrarily coloured grid and the ant's initial state, you have to print the grid state after [[T]] turns.\n\nOn the given test cases, the ant never has to go out of bounds.",
      "testCases": [
        {
          "title": "Small uniform grid, few turns",
          "isTest": true,
          "testIn": "5 5\n2 2\nN\n10\n.....\n.....\n.....\n.....\n.....",
          "testOut": ".....\n..##.\n.##..\n.##..\n.....",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Small uniform grid, few turns",
          "isTest": false,
          "testIn": "5 5\n2 2\nS\n10\n#####\n#####\n#####\n#####\n#####",
          "testOut": "#####\n#..##\n#..##\n##..#\n#####",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Uniform grid, lots of turns",
          "isTest": true,
          "testIn": "15 15\n7 7\nE\n386\n...............\n...............\n...............\n...............\n...............\n...............\n...............\n...............\n...............\n...............\n...............\n...............\n...............\n...............\n...............",
          "testOut": "...............\n...##..........\n..##......##...\n.#.##.#..#..#..\n.#..#.###..###.\n..#.#......#.#.\n....#....##....\n....#.###.#....\n....##.#..#....\n.#.#......#.#..\n.###..###.#..#.\n..#..#..#.##.#.\n...##......##..\n..........##...\n...............",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Uniform grid, lots of turns",
          "isTest": false,
          "testIn": "15 15\n7 7\nW\n386\n###############\n###############\n###############\n###############\n###############\n###############\n###############\n###############\n###############\n###############\n###############\n###############\n###############\n###############\n###############",
          "testOut": "###############\n##########..###\n###..######..##\n##.##.##.#..#.#\n#...##...#.##.#\n#.#.######.#.##\n####..####.####\n####.#...#.####\n####.##.#..####\n##.#.######.#.#\n#.##.#...##...#\n#.#..#.##.##.##\n##..######..###\n###..##########\n###############",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Random grid, huge number of turns",
          "isTest": true,
          "testIn": "30 30\n15 15\nS\n1000\n..........#.#........#........\n.....##.#............#........\n.#........##.#.....#...#.....#\n.#.................#.#........\n............#..#......###.....\n.###....#......#.#........##..\n....#....#..#...#...#.###.##..\n....#.#.##....##......#..#....\n....#......##..#....###..##..#\n..##..#...#...##.......##.##.#\n##......#..#......#..##....#..\n........#...#......#.......#..\n.......#.........#.......#....\n#.......#....##......#......#.\n...................#........##\n..#......##....#.#..##.#....##\n.##.#..##..........#..#...#...\n....#......#.#.....###..#.....\n#....#.........#......#.#.....\n.....................#...#..#.\n............#.#...#...........\n#..#..##......#..##..#.#..#...\n....#....#..#..#......#.....#.\n..##.....##..#.#....##........\n#.....#.#..........#.....####.\n............##.......###...##.\n..#...#.........#.............\n....#.............##.....##.#.\n#.............##.....#.##.....\n...#....#..#...#..#.#..#..#...",
          "testOut": "..........#.#........#........\n.....##.#............#........\n.#.####...##.#.....#...#.##..#\n.##....#...........#.#..#..#..\n.#....###...#..#.##..#..#.#...\n#.....##.#####.#...##..###....\n#.....#.#.#.#.....#..#.#...##.\n###...#.#.####..#..##...#.###.\n#..##.###...#..#....#..#...#.#\n.#..##..#...........#.###.##.#\n##.....#...#.........###...#..\n.......#..#...###.####.....#..\n.......####...#..########.....\n#.......#..##.##..##.###....#.\n............###.#..##.##..#.##\n..#......##..#.####..###..#.##\n.##.#..##...###..##.#.#..##...\n....#......#.##.#..###..#.....\n#....#........#.#..##...#.....\n..............###..##..###..#.\n............##..###.#.#.......\n#..#..##.....#.....##.##..#...\n....#....#..#..########.....#.\n..##.....##..#.#....##........\n#.....#.#.....##...#.....####.\n............##.......###...##.\n..#...#.........#.............\n....#.............##.....##.#.\n#.............##.....#.##.....\n...#....#..#...#..#.#..#..#...",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Random grid, huge number of turns",
          "isTest": false,
          "testIn": "30 30\n15 15\nE\n1000\n###..######.#.#####.#.####..##\n.#..#.#.####.#.############.##\n####.######.##########.###.##.\n#.###.##.#.###################\n###.##.##....##..#..#######.#.\n.##.##############.#####.#####\n#.###########.#.#########.####\n..#############.#.###.########\n#.####.##########....######.##\n########.####..####.##.####.##\n##..#.###..###############.#.#\n##..#####.######..###.##.####.\n..########.#.##.##.#####.##..#\n##.##..################.####.#\n#######..##.######.########.##\n###..#.########....####.##..##\n##############.####.#.#.#.####\n##.##.######.#####.#####.#####\n.##########..#########.#######\n#######.#####.####.########..#\n.########.#.####.##.#.#######.\n#.##...##.#.###..#..########.#\n##.#.##.##################.###\n.#.##.#.####.############.####\n##.#.#.###.##.########.#...###\n..#####.###....###.###########\n##########.#####.##..########.\n.#####.#####.####.######.#####\n###.#####################.####\n#######################.#####.",
          "testOut": "###..######.#.#####.#.####..##\n.#..#.#.####.#.############.##\n####.######.##########.###.##.\n#.###.##.#.#######..##########\n###.##.##....##...##.##.....#.\n.##.############..##.##..#..##\n#.###########.#...#.....##.#.#\n..#############.#.#...##.###.#\n#.####.##########.#..##.#.####\n########.###.##.#.#.....#.####\n##..#.###..........#.#..#.#..#\n##..#####.#.#.#..#####...##.#.\n..########..#########.##...#.#\n##.##..####.#....##.#...#..#.#\n#######..##...#.####..#.....##\n###..#.######...####.#..######\n##############.#.###......#.##\n##.##.######.#####.##....#.###\n.##########..#######.#.##.####\n#######.#####.##....#.##.#...#\n.########.#.#####.####.##.###.\n#.##...##.#.###.####.##..###.#\n##.#.##.########.####.####.###\n.#.##.#.####.####.##.####.####\n##.#.#.###.##.####..##.#...###\n..#####.###....###.###########\n##########.#####.##..########.\n.#####.#####.####.######.#####\n###.#####################.####\n#######################.#####.",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Checkerboard",
          "isTest": true,
          "testIn": "20 20\n19 19\nW\n38\n#.#.#.#.#.#.#.#.#.#.\n.#.#.#.#.#.#.#.#.#.#\n#.#.#.#.#.#.#.#.#.#.\n.#.#.#.#.#.#.#.#.#.#\n#.#.#.#.#.#.#.#.#.#.\n.#.#.#.#.#.#.#.#.#.#\n#.#.#.#.#.#.#.#.#.#.\n.#.#.#.#.#.#.#.#.#.#\n#.#.#.#.#.#.#.#.#.#.\n.#.#.#.#.#.#.#.#.#.#\n#.#.#.#.#.#.#.#.#.#.\n.#.#.#.#.#.#.#.#.#.#\n#.#.#.#.#.#.#.#.#.#.\n.#.#.#.#.#.#.#.#.#.#\n#.#.#.#.#.#.#.#.#.#.\n.#.#.#.#.#.#.#.#.#.#\n#.#.#.#.#.#.#.#.#.#.\n.#.#.#.#.#.#.#.#.#.#\n#.#.#.#.#.#.#.#.#.#.\n.#.#.#.#.#.#.#.#.#.#",
          "testOut": "###.#.#.#.#.#.#.#.#.\n..##.#.#.#.#.#.#.#.#\n#..##.#.#.#.#.#.#.#.\n.#..##.#.#.#.#.#.#.#\n#.#..##.#.#.#.#.#.#.\n.#.#..##.#.#.#.#.#.#\n#.#.#..##.#.#.#.#.#.\n.#.#.#..##.#.#.#.#.#\n#.#.#.#..##.#.#.#.#.\n.#.#.#.#..##.#.#.#.#\n#.#.#.#.#..##.#.#.#.\n.#.#.#.#.#..##.#.#.#\n#.#.#.#.#.#..##.#.#.\n.#.#.#.#.#.#..##.#.#\n#.#.#.#.#.#.#..##.#.\n.#.#.#.#.#.#.#..##.#\n#.#.#.#.#.#.#.#..##.\n.#.#.#.#.#.#.#.#..##\n#.#.#.#.#.#.#.#.#..#\n.#.#.#.#.#.#.#.#.#..",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Checkerboard",
          "isTest": false,
          "testIn": "20 20\n0 19\nN\n38\n.#.#.#.#.#.#.#.#.#.#\n#.#.#.#.#.#.#.#.#.#.\n.#.#.#.#.#.#.#.#.#.#\n#.#.#.#.#.#.#.#.#.#.\n.#.#.#.#.#.#.#.#.#.#\n#.#.#.#.#.#.#.#.#.#.\n.#.#.#.#.#.#.#.#.#.#\n#.#.#.#.#.#.#.#.#.#.\n.#.#.#.#.#.#.#.#.#.#\n#.#.#.#.#.#.#.#.#.#.\n.#.#.#.#.#.#.#.#.#.#\n#.#.#.#.#.#.#.#.#.#.\n.#.#.#.#.#.#.#.#.#.#\n#.#.#.#.#.#.#.#.#.#.\n.#.#.#.#.#.#.#.#.#.#\n#.#.#.#.#.#.#.#.#.#.\n.#.#.#.#.#.#.#.#.#.#\n#.#.#.#.#.#.#.#.#.#.\n.#.#.#.#.#.#.#.#.#.#\n#.#.#.#.#.#.#.#.#.#.",
          "testOut": ".#.#.#.#.#.#.#.#.#.#\n#.#.#.#.#.#.#.#.#..#\n.#.#.#.#.#.#.#.#..##\n#.#.#.#.#.#.#.#..##.\n.#.#.#.#.#.#.#..##.#\n#.#.#.#.#.#.#..##.#.\n.#.#.#.#.#.#..##.#.#\n#.#.#.#.#.#..##.#.#.\n.#.#.#.#.#..##.#.#.#\n#.#.#.#.#..##.#.#.#.\n.#.#.#.#..##.#.#.#.#\n#.#.#.#..##.#.#.#.#.\n.#.#.#..##.#.#.#.#.#\n#.#.#..##.#.#.#.#.#.\n.#.#..##.#.#.#.#.#.#\n#.#..##.#.#.#.#.#.#.\n.#..##.#.#.#.#.#.#.#\n#..##.#.#.#.#.#.#.#.\n..##.#.#.#.#.#.#.#.#\n.##.#.#.#.#.#.#.#.#.",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Attractor",
          "isTest": true,
          "testIn": "26 26\n5 5\nN\n733\n.###.#....................\n.#.....#..................\n...##.###.................\n#.#.###.#.................\n..#.#.....................\n....####..................\n#.#.##.#..................\n##.#.#....................\n#..####...................\n##.##.#...................\n#...##....................\n.#.##.....................\n###.......................\n..#.......................\n..........................\n..##......................\n.#..#.....................\n.....#....................\n.....#....................\n#....#....................\n..##.#....................\n#####.....................\n..##......................\n..........................\n..........................\n..........................",
          "testOut": ".###.#....................\n.#.....#..................\n...##.###.................\n#.#.###.#.................\n..#.#.....................\n....#..#..................\n#.#...###.................\n##..###..#................\n#...#...###...............\n##.#..###..#..............\n#.....#...###.............\n.#.#.#..###..#............\n###.##..#...###...........\n..#..#.#..###..#..........\n......##..#...###.........\n..##...#.#..###..#........\n.#..#...##..#...###.......\n.....#...#.#..###..#......\n.....#....##..#...###.....\n#....#.....#.#..###..#....\n..##.#......##..#.###.....\n#####........#.#.#.#.#....\n..##..........##.####.....\n...............#.##.#.....\n................####......\n.................##.......",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Attractor",
          "isTest": false,
          "testIn": "26 26\n5 5\nW\n733\n###.##.....#.######.#.####\n..#####.#.#..###.####.####\n.##..#.#####..#.####...###\n.#.####...#.###.####...###\n##.....#....####.####.####\n.##.#....#.######....#####\n##..#.##..################\n#..##..###################\n##..######################\n##########################\n##########################\n##########################\n##########################\n##########################\n##########################\n##########################\n##########################\n##########################\n##########################\n##########################\n##########################\n##########################\n##########################\n##########################\n##########################\n##########################",
          "testOut": "###.##.....#.######.#.####\n..#####.#.#..###.####.####\n.##..#.#####..#.####...###\n.#.######.#.###.####...###\n##....#..###.###.####.####\n.##.###.###...###....#####\n##..##..#..###.###########\n#..##..##.###...##########\n##..##.#..#..###.#########\n#######..##.###...########\n########.#..#..###.#######\n#########..##.###...######\n##########.#..#..###.#####\n###########..##.###...####\n############.#..#..###.###\n#############..##.###...##\n##############.#..#..###.#\n###############..##.#.....\n################.#...#....\n#################..#...#.#\n##################.#.#..##\n###################.#.####\n##########################\n##########################\n##########################\n##########################",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "1 ≤ [[W]], [[H]] ≤ 30\n0 ≤ [[x]] < [[W]]\n0 ≤ [[y]] < [[H]]\n0 ≤ [[T]] ≤ 1000",
      "stubGenerator": "read W:int H:int\nread x:int y:int\nread direction:word(1)\nread T:int\nloop H read C:string(30)\nloop H write answer",
      "inputDescription": "<<Ligne 1 :>> Two integers [[W]] and [[H]] for the width and height of the grid.\n<<Ligne 2 :>> Two integers [[x]] and [[y]] for the ant's initial coordinates.\n<<Ligne 3 :>> A character {{N}}, {{E}}, {{S}} or {{W}} for the ant's initial direction.\n<<Ligne 4 :>> An integer [[T]] for the number of turns.\n<<[[H]] following lines :>> A line of size [[W]] composed of {{#}} (black square) and {{.}} (white square) for the initial state of the grid.",
      "solutionLanguage": "Python3",
      "outputDescription": "[[H]] lines representing the final state of the grid."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Langton's ant is a turing machine built on simple rules:<br>&bull; Consider a grid of <var>W</var>x<var>H</var> squares, each of which can be either black <const>#</const> or white <const>.</const>.<br>&bull; The ant starts at the position (<var>x</var>, <var>y</var>) of the grid, the upper left square coordinates are (0,0).<br>&bull; The ant is facing one of the following directions (<const>N</const> = up, <const>E</const> = right, <const>S</const> = down, <const>W</const> = left).<br>&bull; The ant moves <var>T</var> turns. For each turn:<br>　　- it rotates 90&deg; left if it is on a white square, 90&deg; right otherwise.<br>　　- it inverts the color of the square it is located on.<br>　　- it moves 1 square forward in its current direction.<br><br>From an arbitrarily coloured grid and the ant's initial state, you have to print the grid state after <var>T</var> turns.<br><br>On the given test cases, the ant never has to go out of bounds.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Ligne 1 :</strong> Two integers <var>W</var> and <var>H</var> for the width and height of the grid.<br><strong>Ligne 2 :</strong> Two integers <var>x</var> and <var>y</var> for the ant's initial coordinates.<br><strong>Ligne 3 :</strong> A character <const>N</const>, <const>E</const>, <const>S</const> or <const>W</const> for the ant's initial direction.<br><strong>Ligne 4 :</strong> An integer <var>T</var> for the number of turns.<br><strong><var>H</var> following lines :</strong> A line of size <var>W</var> composed of <const>#</const> (black square) and <const>.</const> (white square) for the initial state of the grid.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><var>H</var> lines representing the final state of the grid.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">1 &le; <var>W</var>, <var>H</var> &le; 30<br>0 &le; <var>x</var> &lt; <var>W</var><br>0 &le; <var>y</var> &lt; <var>H</var><br>0 &le; <var>T</var> &le; 1000</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">5 5\n2 2\nN\n10\n.....\n.....\n.....\n.....\n.....</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">.....\n..##.\n.##..\n.##..\n.....</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "avatar": 2425294393314,
  "commentCount": 9,
  "upVotes": 4,
  "downVotes": 0,
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}