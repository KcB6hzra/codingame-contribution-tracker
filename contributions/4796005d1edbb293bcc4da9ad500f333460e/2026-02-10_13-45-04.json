{
  "id": 4796,
  "activeVersion": 70,
  "score": 15,
  "votableId": 12315355,
  "codingamerId": 788361,
  "views": 865,
  "commentableId": 12240295,
  "title": "Coders of the Realm",
  "status": "ACCEPTED",
  "type": "PUZZLE_MULTI",
  "nickname": "Bob",
  "publicHandle": "4796005d1edbb293bcc4da9ad500f333460e",
  "codingamerHandle": "73a5c7e75cde8949ee1fe332045d6d23163887",
  "lastVersion": {
    "version": 70,
    "autocloseTime": 1582992925582,
    "data": {
      "title": "Coders of the Realm",
      "topics": [
        {
          "id": 62,
          "handle": "flood-fill",
          "labelMap": {
            "1": "Remplissage par diffusion",
            "2": "Flood fill"
          },
          "pageTitle": "Flood fill: exercises and theory",
          "puzzleCount": 9,
          "parentTopicId": 41,
          "contentDetailsId": 81
        },
        {
          "id": 153,
          "handle": "2d-array",
          "labelMap": {
            "1": "2D array",
            "2": "2D array"
          },
          "puzzleCount": 4,
          "parentTopicId": 93
        },
        {
          "id": 107,
          "handle": "classic-board-games",
          "labelMap": {
            "1": "Classic board games",
            "2": "Classic board games"
          },
          "puzzleCount": 5,
          "parentTopicId": 93
        }
      ],
      "refereeMd5": "788361/86d7ee306d44b9f5a89d672ec3712bf5",
      "testHandle": "835195c8a46cf77b67c04ef45855228ad59a55",
      "viewerCode": "var Drawer=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";n.r(e);var r={baseUrl:\"https://cdn-games.codingame.com/community/788361-1578470109348/\",images:{\"default_river_water.png\":\"d577022474abf8574b241ea8391d530486ddbf074348b18ac8ea90cc4185f674.png\",\"home.png\":\"2a1522580660aa717c2b986c803b5ced824070577299175800327c5271c448c9.png\",\"farming_soil.png\":\"99e1decfc12c7fa697189d2e6bb8b5e40425369b06335d6f0f113a2d4125536b.png\",\"farming_straw.png\":\"f63a747ec6d200554ee64e93a67b493b47af404f636f4470602a4c7cfdc43743.png\",\"default_silver_sandstone.png\":\"8edd40b81220a6e82b07f1b5dc1d2d0c7921fffdf661cf78586c1b088c46abf7.png\",\"default_dirt.png\":\"e05b82d284bbba0a77b25bd5623b51ccec9be801d9b9d80e934e5677ee6b76fe.png\",\"default_sand.png\":\"d0c2082c1639a5a073f865abe377aeaad51774b145b070624aa94068588f87cf.png\",\"default_grass.png\":\"9e73c560a515b320d3c4f0ab236778fae470b79c90c98563134c6953ba1d046a.png\",\"logo.png\":\"5f207e27249ad35d5b2d05a820f989f6c2b91d6cd0e2df60dc7d5a1fe7c92d4e.png\",\"default_rainforest_litter.png\":\"3457d7eef9642ffe840411356db5f83b59156595e7161043c23c8a919e37312e.png\"},sprites:[],fonts:[]},i=1920,o=1080;function a(t,e,n){return t<=e?t+(e-t)*n:e+(t-e)*(1-n)}function s(t,e,n){return Math.min(1,Math.max(0,(n-(r=t))/(e-r)));var r}function u(t,e,n,r,i){return i=i||0,Math.min(n/(t+i),r/(e+i))}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=[],f=[],h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"listen\",value:function(t){if(\"function\"!=typeof t)throw new TypeError(t+\" is not a function\");f.push(t)}},{key:\"push\",value:function(t){l.push(t),f.forEach((function(e){return e(t)}))}}],null&&c(e.prototype,null),n&&c(e,n),t}();function p(t){return(p=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function y(t,e){return!e||\"object\"!==p(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}function d(t){var e=\"function\"==typeof Map?new Map:void 0;return(d=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return b(t,arguments,m(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),g(r,t)})(t)}function b(t,e,n){return(b=function(){if(\"undefined\"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if(\"function\"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(t){return}}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&g(i,n.prototype),i}).apply(null,arguments)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(){function t(e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),(r=y(this,m(t).call(this,'Could not find image: \"'+e+'\". Make sure it is in your assets folder and is spelled correctly.'))).image=e,r.cause=n,r.name=\"MissingImageError\",r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(t,d(Error)),t}();function O(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var S=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.states=[],this.scores=[],this.globalData={},this.atEnd=!1}var e,n,r;return e=t,r=[{key:\"name\",get:function(){return\"endScreen\"}}],(n=[{key:\"updateScene\",value:function(t,e,n){e.scores&&1===n?this.atEnd=!0:this.atEnd=!1}},{key:\"handleFrameData\",value:function(t,e){var n=null,r=null,i=null;e&&(n=e[0],r=e[1],i=e[2]);var o={number:t.number,scores:n,spriteName:r,displayedText:i};return n&&(this.scores=n),r&&(this.spriteName=r),i&&(this.displayedText=i),this.states.push(o),o}},{key:\"reinitScene\",value:function(t){this.container=t,this.endLayer=this.createEndScene(this),this.atEnd&&this.initEndScene(),this.container.addChild(this.endLayer)}},{key:\"animateScene\",value:function(t){var e=Math.min(32,t);this.atEnd?this.animationEnded||this.renderEndScene(e):(0<this.endTime&&this.destroyEndScene(),this.endTime=0)}},{key:\"destroyEndScene\",value:function(){this.animationEnded=!1,this.endLayer.visible=!1}},{key:\"initEndScene\",value:function(){this.animationEnded=!1,this.endLayer.visible=!0}},{key:\"renderEndScene\",value:function(t){0===this.endTime&&this.initEndScene();var e=s(0,400,this.endTime);this.endLayer.backgroundRanking.alpha=.9*e;var n=s(400,1e3,this.endTime);this.endLayer.titleRanking.scale.x=this.endLayer.titleRanking.scale.y=.001+a(10,.8,n),this.endLayer.titleRanking.visible=!!n;for(var r=0;r<this.finishers.length;++r){var i=s(1e3+300*r,1e3+300*r+300,this.endTime);this.finishers[r].alpha=i}this.endTime+=t,1e4<=this.endTime&&(this.animationEnded=!0)}},{key:\"handleGlobalData\",value:function(t){this.globalData={players:t,playerCount:t.length}}},{key:\"fitTextInWidth\",value:function(t,e){for(var n=t.text;t.width>e;)n=n.slice(0,-1),t.text=n+\"...\"}},{key:\"generateText\",value:function(t,e,n,r,i){var o,a=4<arguments.length&&void 0!==i?i:null;return(o=new PIXI.Text(t,{fontSize:Math.round(e/1.2)+\"px\",fontFamily:\"Lato\",fontWeight:\"bold\",fill:r})).lineHeight=Math.round(e/1.2),\"right\"===n?o.anchor.x=1:\"center\"===n&&(o.anchor.x=.5),null!==a&&this.fitTextInWidth(o,a),o}},{key:\"createFinisher\",value:function(t){var e=new PIXI.Container,n=new PIXI.Container;n.y=0,n.x=0;var r=new PIXI.Graphics;r.beginFill(16777215),r.alpha=.1,r.drawRect(0,0,240,120),n.addChild(r);var i=new PIXI.Graphics;i.lineStyle(1,16777215),i.alpha=.5,i.drawRect(0,0,120,120),n.addChild(i);var o=new PIXI.Sprite(t.player.avatar);o.width=o.height=120;var a=this.generateText(t.rank.toString(),76,\"center\",t.player.color);a.anchor.y=.5,a.position.x=160,a.position.y=56,n.addChild(a);var s=\"TH\";t.rank<4&&(s=[\"ST\",\"ND\",\"RD\"][t.rank-1]);var u=this.generateText(s.toString(),34,\"left\",t.player.color);u.position.x=184,u.position.y=32,n.addChild(u);var c,l=new PIXI.Container;l.addChild(o),n.addChild(l),c=this.globalData.playerCount<=4?1500:500;var f=this.generateText(t.player.name.toUpperCase(),50,\"left\",t.player.color,c),h=t.text||(0<=t.score?t.score.toString()+\" points\":\"-\"),p=this.generateText(h,64,\"left\",t.player.color,c);return f.x=330,f.y=-4,p.x=330,p.y=50,e.addChild(n),e.addChild(f),e.addChild(p),e}},{key:\"createEndScene\",value:function(){var t=new PIXI.Container,e=new PIXI.Graphics;e.beginFill(0,.85),e.drawRect(0,0,i,o),e.endFill(),t.backgroundRanking=e;var n,r=this.spriteName;(n=PIXI.utils.TextureCache[r]?PIXI.Sprite.fromFrame(r):(h.push(new v(r)),new PIXI.Sprite(PIXI.Texture.EMPTY))).anchor.x=n.anchor.y=.5,(t.titleRanking=n).position.x=960,n.position.y=230;for(var a=[],s=0;s<this.globalData.playerCount;++s)a.push({score:this.scores[s],text:this.displayedText?this.displayedText[s]:null,player:this.globalData.players[s],rank:0});a.sort((function(t,e){return e.score-t.score})),this.finishers=[];var u,c=new PIXI.Container;for(s=0;s<a.length;++s)a[s].rank=a.filter((function(t){return t.score>a[s].score})).length+1,u=this.createFinisher(a[s]),c.addChild(u),this.finishers.push(u);if(this.finishers.length<=4){var l=Math.max.apply(Math,O(this.finishers.map((function(t){return t.width}))));for(s=0;s<this.finishers.length;++s)this.finishers[s].position.x=(i-l)/2,this.finishers[s].position.y=150*s}else{var f=Math.ceil(this.finishers.length/2),p=Math.max.apply(Math,O(this.finishers.slice(0,f).map((function(t){return t.width}))));for(s=0;s<this.finishers.length;++s)this.finishers[s].position.x=s<f?960-(p+50):1010,this.finishers[s].position.y=s%f*150}return c.y=400,t.addChild(e),t.addChild(n),t.addChild(c),t.visible=!1,t}}])&&w(e.prototype,n),r&&w(e,r),t}();function P(t){return(P=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function j(t){var e=\"function\"==typeof Map?new Map:void 0;return(j=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return k(t,arguments,T(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),x(r,t)})(t)}function k(t,e,n){return(k=function(){if(\"undefined\"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if(\"function\"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(t){return}}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&x(i,n.prototype),i}).apply(null,arguments)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(){function t(e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),(r=function(t,e){return!e||\"object\"!==P(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,T(t).call(this,\"Invalid color token: there is no player at index \".concat(e,\". Make sure to use getColorToken() if you want the color of a specific player.\")))).playerIdx=e,r.cause=n,r.name=\"InvalidPlayerColorTokenError\",r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(t,j(Error)),t}();function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E(t,e,n){return n<1?t:e}var R={type:Number,lerpMethod:function(t,e,n){if(null===e)return null;var r={r:(16711680&t)>>16,g:(65280&t)>>8,b:255&t},i={r:(16711680&e)>>16,g:(65280&e)>>8,b:255&e};return a(r.r,i.r,n)<<16|a(r.g,i.g,n)<<8|a(r.b,i.b,n)},convert:function(t,e){var n=-(t+1);try{return t<0?e.players[n].color:t}catch(t){return h.push(new _(n)),16777215}}},F={type:String,lerpMethod:E,convert:function(t){return H(t)}},M={type:Number,lerpMethod:function(t,e,n,r){for(;e>t+Math.PI;)e-=2*Math.PI;for(;e<t-Math.PI;)e+=2*Math.PI;return(void 0!==r&&Math.abs(e-t)>r?e:t+(e-t)*n)%(2*Math.PI)},convert:function(t){return t*Math.PI/180}},A={type:Number,lerpMethod:E},X={type:function(t){return\"1\"===t},lerpMethod:E},W={type:Number,lerpMethod:function(t,e,n){return e<t?e:a(t,e,n)}},L={default:{type:Number,lerpMethod:a},visible:X,rotation:M,skewX:M,skewY:M,fillColor:R,lineColor:R,strokeColor:R,tint:R,animationProgressTime:W,maxWidth:A,mask:A,baseWidth:A,baseHeight:A,image:F,images:F,scaleMode:F,restarted:{type:String,convert:function(t,e,n,r){return t?{date:n.date+r*n.frameDuration}:null},lerpMethod:E},playing:X,duration:A,blendMode:A,loop:X,text:D({},F,{convert:function(t,e){t=H(t);for(var n=/\\$(\\d)/g,r=n.exec(t),i=\"\",o=0;r;)i+=t.substring(o,r.index),i+=e.players[+r[1]].name,o=r.index+r[0].length,r=n.exec(t);return i+t.substring(o)}}),textAlign:D({},F,{convert:function(t){return{0:\"left\",1:\"center\",2:\"right\"}[t]}}),fontFamily:F,fontWeight:F,children:D({},F,{convert:function(t){return t?t.split(\",\").map((function(t){return+t})):[]}}),points:D({},F,{convert:function(t){return t?t.split(\",\").map((function(t){return parseInt(t)})):[]},lerpMethod:function(t,e,n){return t.length===e.length?t.map((function(t,r){return a(t,e[r],n)})):E(t,e,n)}})};function H(t){var e=t.split(\"\\\\'\").join(\"'\");return e.includes(\" \")||e.includes(\";\")||e.includes(\"\\n\")?e.slice(1,e.length-1):e}function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B(t){return(B=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Y=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.defaultState={x:0,y:0,scaleX:1,scaleY:1,skewX:0,skewY:0,zIndex:0,alpha:1,visible:!1,rotation:0,mask:-1},this.states={}}var e,n,r;return e=t,r=[{key:\"createState\",value:function(t,e,n){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach((function(e){z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({t:0<arguments.length&&void 0!==t?t:1},1<arguments.length&&void 0!==e?e:{},{curve:2<arguments.length&&void 0!==n?n:{}})}}],(n=[{key:\"init\",value:function(){this.properties=Object.keys(this.defaultState),this.initDisplay(),this.currentState=Object.assign({},this.defaultState),\"object\"===B(this.graphics)&&this.container.addChild(this.graphics)}},{key:\"setHidden\",value:function(t){this.hide=t,this.container.visible=this.currentState.visible&&!this.hide}},{key:\"addState\",value:function(e,n,r){this.states[r]||(this.states[r]=[]);var i=t.createState(e,n.values,n.curve),o=this.states[r].find((function(t){return t.t===e}));o&&0===Object.keys(i.curve).length&&(i.curve=o.curve),o?(N(i)||N(o)||h.push(new Error(\"Different updates for same t \"+e)),Object.assign(o,i)):this.states[r].push(i)}},{key:\"set\",value:function(t,e,n){this.addState(t,e,n)}},{key:\"render\",value:function(t,e,n){var r=this.states[e.number];this.container.visible=!1;var i,o=null,a=1;if(r&&r.length){for(var u=0;u<r.length-1&&r[u].t<t;)u++;if(o=r[u-1],i=r[u],o)a=s(o.t,i.t,t);else{var c=Object.keys(this.states),l=c.indexOf(e.number.toString())-1;for(-1===l&&(l=c.length-1);0<=l&&c[l]>=e.number;)l--;var f=this.states[c[l]]||[];a=!(o=f[f.length-1])&&t>=i.t?(o=i,1):s(0,i.t,t)}}else{for(var h=Object.keys(this.states),p=h.length-1;0<=p&&h[p]>e.number;)p--;var y=this.states[h[p]];null!=y?i=o=y[y.length-1]:Object.assign(this.currentState,this.defaultState)}if(o){var d={},b=Object.assign({},this.currentState),g=!0,m=!1,v=void 0;try{for(var O,w=this.properties[Symbol.iterator]();!(g=(O=w.next()).done);g=!0){var S=O.value,P=(L[S]||L.default).lerpMethod,j=i.curve[S]||function(t){return t},k=P(o[S],i[S],j(a));k!==this.currentState[S]&&(d[S]=!0,b[S]=k)}}catch(t){m=!0,v=t}finally{try{g||null==w.return||w.return()}finally{if(m)throw v}}this.updateDisplay(b,d,n,e,t),Object.assign(this.currentState,b),this.container.visible=this.container._visible,d.children&&(n.mustResetTree=!0,\"function\"==typeof this.postUpdate&&n.updatedBuffers.push(this)),d.zIndex&&(n.mustResort=!0),d.mask&&(n.maskUpdates[this.id]=b.mask),0!==Object.keys(d).length&&this.parent&&this.parent.notifyChange()}}},{key:\"notifyChange\",value:function(){this.parent&&this.parent.notifyChange()}},{key:\"initDisplay\",value:function(){this.container=new PIXI.Container,this.container.zIndex=this.defaultState.zIndex,this.container.id=this.id,this.container._visible=this.defaultState.visible}},{key:\"updateDisplay\",value:function(t,e,n){this.container.zIndex=t.zIndex,this.container.alpha=t.alpha,(e.x||e.y)&&this.container.position.set(t.x*n.toWorldUnits,t.y*n.toWorldUnits),(e.scaleX||e.scaleY)&&this.container.scale.set(t.scaleX||1e-8,t.scaleY||1e-8),this.container.rotation=t.rotation,this.container._visible=t.visible&&!this.hide,this.container.skew.set(t.skewX,t.skewY)}}])&&G(e.prototype,n),r&&G(e,r),t}();function N(t){return Object.keys(t).length===Object.keys(Y.createState()).length}function q(t){return(q=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function K(t,e,n){return(K=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=V(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q(t,e,n){return e&&J(t.prototype,e),n&&J(t,n),t}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var tt=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=function(t,e){return!e||\"object\"!==q(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,V(t).call(this)),Object.assign(e.defaultState,{fillColor:t.defaultFillColor(),lineWidth:t.defaultLineWidth(),lineColor:t.defaultLineColor(),fillAlpha:t.defaultFillAlpha(),lineAlpha:t.defaultLineAlpha(),blendMode:PIXI.BLEND_MODES.NORMAL}),e}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(t,Y),Q(t,null,[{key:\"defaultLineWidth\",value:function(){return 0}},{key:\"defaultFillColor\",value:function(){return 16777215}},{key:\"defaultLineColor\",value:function(){return 0}},{key:\"defaultLineAlpha\",value:function(){return 1}},{key:\"defaultFillAlpha\",value:function(){return 1}}]),Q(t,[{key:\"initDisplay\",value:function(){K(V(t.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Graphics,this.graphics.lineStyle(this.defaultState.lineWidth,this.defaultState.lineColor,this.defaultState.lineAlpha),null!==this.defaultState.fillColor&&this.graphics.beginFill(this.defaultState.fillColor,this.defaultState.fillAlpha)}},{key:\"updateDisplay\",value:function(e,n,r){K(V(t.prototype),\"updateDisplay\",this).call(this,e,n,r),this.graphics.blendMode=e.blendMode}}]),t}();function et(t){return(et=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function nt(t,e,n){return(nt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function it(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ot(t,e,n){return e&&it(t.prototype,e),n&&it(t,n),t}function at(t,e){return(at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var st=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),(e=function(t,e){return!e||\"object\"!==et(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,rt(t).call(this))).defaultState.radius=t.defaultRadius(),e}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&at(t,e)}(t,tt),ot(t,null,[{key:\"defaultRadius\",value:function(){return 100}}]),ot(t,[{key:\"initDisplay\",value:function(){nt(rt(t.prototype),\"initDisplay\",this).call(this),this.graphics.drawCircle(0,0,this.defaultState.radius),null!==this.defaultState.fillColor&&this.graphics.endFill()}},{key:\"updateDisplay\",value:function(e,n,r){nt(rt(t.prototype),\"updateDisplay\",this).call(this,e,n,r),(n.radius||n.lineColor||n.lineWidth||n.fillColor||n.fillAlpha||n.lineAlpha)&&(this.graphics.clear(),null!==e.fillColor&&this.graphics.beginFill(e.fillColor,e.fillAlpha),this.graphics.lineStyle(e.lineWidth,e.lineColor),this.graphics.drawCircle(0,0,e.radius*r.toWorldUnits),null!==e.fillColor&&this.graphics.endFill())}}]),t}();function ut(t){return(ut=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function ct(t,e,n){return(ct=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function lt(t){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ht(t,e,n){return e&&ft(t.prototype,e),n&&ft(t,n),t}function pt(t,e){return(pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yt=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),(e=function(t,e){return!e||\"object\"!==ut(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,lt(t).call(this))).defaultState.x2=t.defaultPosition(),e.defaultState.y2=t.defaultPosition(),e}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pt(t,e)}(t,tt),ht(t,null,[{key:\"defaultPosition\",value:function(){return 100}}]),ht(t,[{key:\"initDisplay\",value:function(){ct(lt(t.prototype),\"initDisplay\",this).call(this)}},{key:\"updateDisplay\",value:function(e,n,r){ct(lt(t.prototype),\"updateDisplay\",this).call(this,e,n,r),(n.lineWidth||n.lineColor||n.lineAlpha||n.x2||n.y2)&&(this.graphics.clear(),this.graphics.lineStyle(e.lineWidth,e.lineColor,e.lineAlpha),this.graphics.moveTo(0,0),this.graphics.lineTo(-this.container.x+e.x2*r.toWorldUnits,-this.container.y+e.y2*r.toWorldUnits))}}]),t}();function dt(t){return(dt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function bt(t,e,n){return(bt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vt(t,e,n){return e&&mt(t.prototype,e),n&&mt(t,n),t}function Ot(t,e){return(Ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wt=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=function(t,e){return!e||\"object\"!==dt(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,gt(t).call(this)),Object.assign(e.defaultState,{width:t.defaultSideLength(),height:t.defaultSideLength()}),e}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ot(t,e)}(t,tt),vt(t,null,[{key:\"defaultSideLength\",value:function(){return 100}}]),vt(t,[{key:\"initDisplay\",value:function(){bt(gt(t.prototype),\"initDisplay\",this).call(this),this.graphics.drawRect(0,0,this.defaultState.width,this.defaultState.height),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(e,n,r){bt(gt(t.prototype),\"updateDisplay\",this).call(this,e,n,r),(n.lineWidth||n.lineColor||n.width||n.height||n.lineAlpha||n.fillColor)&&(this.graphics.clear(),null!==e.fillColor&&this.graphics.beginFill(e.fillColor,e.fillAlpha),this.graphics.lineStyle(e.lineWidth,e.lineColor,e.lineAlpha),this.graphics.drawRect(0,0,e.width*r.toWorldUnits,e.height*r.toWorldUnits),null!==e.fillColor&&this.graphics.endFill())}}]),t}();function St(t){return(St=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Pt(t,e,n){return(Pt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function jt(t){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xt(t,e,n){return e&&kt(t.prototype,e),n&&kt(t,n),t}function Tt(t,e){return(Tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _t=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=function(t,e){return!e||\"object\"!==St(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,jt(t).call(this)),Object.assign(e.defaultState,{anchorX:t.defaultAnchor(),anchorY:t.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215}),e}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tt(t,e)}(t,Y),xt(t,null,[{key:\"defaultAnchor\",value:function(){return 0}}]),xt(t,[{key:\"initDisplay\",value:function(){Pt(jt(t.prototype),\"initDisplay\",this).call(this)}},{key:\"updateDisplay\",value:function(e,n,r){Pt(jt(t.prototype),\"updateDisplay\",this).call(this,e,n,r),this.graphics.anchor.set(e.anchorX,e.anchorY),this.graphics.blendMode=e.blendMode,this.graphics.tint=e.tint}}]),t}();function It(t){return(It=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Dt(t){var e=\"function\"==typeof Map?new Map:void 0;return(Dt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Ct(t,arguments,Rt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Et(r,t)})(t)}function Ct(t,e,n){return(Ct=function(){if(\"undefined\"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if(\"function\"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(t){return}}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Et(i,n.prototype),i}).apply(null,arguments)}function Et(t,e){return(Et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rt(t){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ft=function(){function t(e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),(r=function(t,e){return!e||\"object\"!==It(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,Rt(t).call(this,'Could not find image: \"'+e+'\". Make sure it is in your assets folder and is spelled correctly.'))).image=e,r.cause=n,r.name=\"MissingImageError\",r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Et(t,e)}(t,Dt(Error)),t}();function Mt(t){return(Mt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xt(t,e,n){return(Xt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Wt(t){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Lt(t,e){return(Lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ht=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=function(t,e){return!e||\"object\"!==Mt(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,Wt(t).call(this)),Object.assign(e.defaultState,{image:null,baseWidth:null,baseHeight:null,scaleMode:\"LINEAR\"}),e.missingTextures={},e}var e,n;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lt(t,e)}(t,_t),e=t,(n=[{key:\"updateDisplay\",value:function(e,n,r){if(Xt(Wt(t.prototype),\"updateDisplay\",this).call(this,e,n,r),n.image)try{null!==e.image?this.graphics.texture=PIXI.Texture.fromFrame(e.image):this.graphics.texture=PIXI.Texture.EMPTY,this.graphics.texture.baseTexture.scaleMode=PIXI.SCALE_MODES[e.scaleMode]}catch(n){this.missingTextures[e.image]||(this.missingTextures[e.image]=!0,h.push(new Ft(e.image,n)))}n.baseWidth&&(this.graphics.width=e.baseWidth),n.baseHeight&&(this.graphics.height=e.baseHeight)}}])&&At(e.prototype,n),t}();function Ut(t){return(Ut=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bt(t,e){return!e||\"object\"!==Ut(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}function Gt(t,e,n){return(Gt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Yt(t){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nt(t,e){return(Nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qt=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),Bt(this,Yt(t).apply(this,arguments))}var e,n;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nt(t,e)}(t,Ht),e=t,(n=[{key:\"initDisplay\",value:function(){Gt(Yt(t.prototype),\"initDisplay\",this).call(this),null===this.defaultState.image?this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY):this.graphics=PIXI.Sprite.fromFrame(this.defaultState.image)}}])&&zt(e.prototype,n),t}();function Kt(t,e){if(t.width>e)for(;3<t.text.length&&t.width>e;)t.text=t.text.slice(0,-4)+\"...\"}function Vt(t){return(Vt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function $t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jt(t,e,n){return(Jt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Qt(t){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zt(t,e){return(Zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var te=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=function(t,e){return!e||\"object\"!==Vt(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,Qt(t).call(this)),Object.assign(e.defaultState,{text:\"\",textAlign:\"left\",strokeColor:0,strokeThickness:0,fillColor:0,fontSize:26,fontFamily:\"Lato\",fontWeight:\"normal\",maxWidth:0}),e}var e,n;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zt(t,e)}(t,_t),e=t,(n=[{key:\"initDisplay\",value:function(){Jt(Qt(t.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Text(this.defaultState.text,{align:this.defaultState.textAlign,fontSize:this.defaultState.fontSize+\"px\",fontFamily:this.defaultState.fontFamily,fill:this.defaultState.fillColor})}},{key:\"updateDisplay\",value:function(e,n,r){Jt(Qt(t.prototype),\"updateDisplay\",this).call(this,e,n,r),this.graphics.style.align=e.textAlign,this.graphics.style.stroke=e.strokeColor,this.graphics.style.strokeThickness=e.strokeThickness,this.graphics.style.fill=e.fillColor,this.graphics.style.fontSize=e.fontSize||1,this.graphics.style.fontFamily=e.fontFamily,this.graphics.style.fontWeight=e.fontWeight,(n.text||n.strokeThickness||n.fontSize||n.fontFamily||n.fontWeight||n.maxWidth||n.maxWidth)&&(this.graphics.text=e.text,e.maxWidth&&Kt(this.graphics,e.maxWidth))}}])&&$t(e.prototype,n),t}();function ee(t){return(ee=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function ne(t){var e=\"function\"==typeof Map?new Map:void 0;return(ne=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return re(t,arguments,oe(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ie(r,t)})(t)}function re(t,e,n){return(re=function(){if(\"undefined\"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if(\"function\"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(t){return}}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&ie(i,n.prototype),i}).apply(null,arguments)}function ie(t,e){return(ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oe(t){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ae=function(){function t(e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),(r=function(t,e){return!e||\"object\"!==ee(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,oe(t).call(this,'Could not find font: \"'+e+'\". Make sure it is in your assets folder and is spelled correctly.'))).font=e,r.cause=n,r.name=\"MissingBitmapFontError\",r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ie(t,e)}(t,ne(Error)),t}();function se(t){return(se=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ce(t,e,n){return(ce=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=le(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function le(t){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fe(t,e){return(fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var he=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=function(t,e){return!e||\"object\"!==se(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,le(t).call(this)),Object.assign(e.defaultState,{text:\"\",textAlign:\"left\",fontSize:26,fontFamily:null,anchorX:_t.defaultAnchor(),anchorY:_t.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215,maxWidth:0}),e.missingFonts={},e}var e,n;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fe(t,e)}(t,Y),e=t,(n=[{key:\"initDisplay\",value:function(){ce(le(t.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(e,n,r){ce(le(t.prototype),\"updateDisplay\",this).call(this,e,n,r),null!==e.fontFamily?PIXI.extras.BitmapText.fonts[e.fontFamily]?(0===this.graphics.children.length?(this.displayed=new PIXI.extras.BitmapText(\"\",{font:{size:e.fontSize||1,name:e.fontFamily}}),this.graphics.addChild(this.displayed)):this.displayed.font={size:e.fontSize||1,name:e.fontFamily},this.displayed.anchor.set(e.anchorX,e.anchorY),this.displayed.blendMode=e.blendMode,this.displayed.tint=e.tint,this.displayed.align=e.textAlign,(n.text||n.maxWidth||n.fontSize||n.fontFamily)&&(this.displayed.text=e.text,e.maxWidth&&Kt(this.displayed,e.maxWidth))):(this.missingFonts[e.fontFamily]||(this.missingFonts[e.fontFamily]=!0,h.push(new ae(e.fontFamily))),this.graphics.removeChildren()):this.graphics.removeChildren()}}])&&ue(e.prototype,n),t}();function pe(t){return(pe=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function de(t,e,n){return(de=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=be(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function be(t){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ge(t,e){return(ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var me=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=function(t,e){return!e||\"object\"!==pe(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,be(t).call(this)),Object.assign(e.defaultState,{children:[]}),e}var e,n;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ge(t,e)}(t,Y),e=t,(n=[{key:\"initDisplay\",value:function(){de(be(t.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(e,n,r){de(be(t.prototype),\"updateDisplay\",this).call(this,e,n,r)}},{key:\"childrenContainer\",get:function(){return this.graphics}}])&&ye(e.prototype,n),t}();function ve(t){return(ve=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Oe(t,e){return!e||\"object\"!==ve(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}function we(t){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Se(t,e){return(Se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Pe=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),Oe(this,we(t).apply(this,arguments))}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Se(t,e)}(t,me),t}(),je=null,ke=[];function xe(t){return(xe=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _e(t,e){return!e||\"object\"!==xe(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}function Ie(t,e,n){return(Ie=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=De(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function De(t){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ce(t,e){return(Ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ee=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),_e(this,De(t).apply(this,arguments))}var e,n;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ce(t,e)}(t,me),e=t,(n=[{key:\"initDisplay\",value:function(){var e;Ie(De(t.prototype),\"initDisplay\",this).call(this),this.gameTexture=PIXI.RenderTexture.create(i,o),e=this.gameTexture,ke.push(e),this.graphics=new PIXI.Sprite(this.gameTexture),this.buffer=new PIXI.Container,this.needsRender=!0}},{key:\"postUpdate\",value:function(){this.needsRender&&(je.render(this.buffer,this.gameTexture),this.needsRender=!1)}},{key:\"notifyChange\",value:function(){this.needsRender=!0,this.parent&&this.parent.notifyChange()}},{key:\"childrenContainer\",get:function(){return this.buffer}}])&&Te(e.prototype,n),t}();function Re(t){return(Re=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Fe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Me(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xe(t,e,n){return(Xe=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=We(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function We(t){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Le(t,e){return(Le=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var He=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=function(t,e){return!e||\"object\"!==Re(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,We(t).call(this)),Object.assign(e.defaultState,{images:\"\",loop:!1,duration:1e3,playing:!0,restarted:null,animationProgress:0,date:0}),e}var e,n;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Le(t,e)}(t,_t),e=t,(n=[{key:\"initDisplay\",value:function(){Xe(We(t.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY)}},{key:\"addState\",value:function(e,n,r,i){Xe(We(t.prototype),\"addState\",this).call(this,e,n,r);var o=this.states[r].find((function(t){return t.t===e})),a=i.date+i.frameDuration*e;o.date=a}},{key:\"updateDisplay\",value:function(e,n,r,i,o){if(Xe(We(t.prototype),\"updateDisplay\",this).call(this,e,n,r),e.images){var a=e.images.split(\",\");if(0<=e.animationProgress){var s=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fe(Object(n),!0).forEach((function(e){Me(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e,{date:i.date+i.frameDuration*o});this.computeAnimationProgressTime(e,s);var u=Math.floor(a.length*s.animationProgress),c=e.loop?a[u%a.length]:a[u]||a[a.length-1];try{this.graphics.texture=PIXI.Texture.fromFrame(c)}catch(e){h.push(new Ft(c,e))}}}else this.graphics.texture=PIXI.Texture.EMPTY}},{key:\"computeAnimationProgressTime\",value:function(t,e){e.restarted&&e.restarted.date===e.date?e.animationProgress=0:(e.animationProgress=t.animationProgress,t.playing&&(e.animationProgress+=(e.date-t.date)/t.duration))}}])&&Ae(e.prototype,n),t}();function Ue(t){return(Ue=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function ze(t,e,n){return(ze=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Be(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Be(t){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ye(t,e,n){return e&&Ge(t.prototype,e),n&&Ge(t,n),t}function Ne(t,e){return(Ne=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qe=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=function(t,e){return!e||\"object\"!==Ue(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,Be(t).call(this)),Object.assign(e.defaultState,{width:t.defaultSideLength(),height:t.defaultSideLength(),radius:t.defaultRadius()}),e}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ne(t,e)}(t,tt),Ye(t,null,[{key:\"defaultSideLength\",value:function(){return 100}},{key:\"defaultRadius\",value:function(){return 20}}]),Ye(t,[{key:\"initDisplay\",value:function(){ze(Be(t.prototype),\"initDisplay\",this).call(this),this.graphics.drawRoundedRect(0,0,this.defaultState.width,this.defaultState.height,this.defaultState.radius),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(e,n,r){ze(Be(t.prototype),\"updateDisplay\",this).call(this,e,n,r),(n.lineWidth||n.lineColor||n.lineAlpha||n.fillColor||n.radius||n.height||n.width)&&(this.graphics.clear(),null!==e.fillColor&&this.graphics.beginFill(e.fillColor,e.fillAlpha),this.graphics.lineStyle(e.lineWidth,e.lineColor,e.lineAlpha),this.graphics.drawRoundedRect(0,0,e.width*r.toWorldUnits,e.height*r.toWorldUnits,e.radius*r.toWorldUnits),null!==e.fillColor&&this.graphics.endFill())}}]),t}();function Ke(t){return(Ke=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $e(t,e,n){return($e=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Je(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Je(t){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qe(t,e){return(Qe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ze=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=function(t,e){return!e||\"object\"!==Ke(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,Je(t).call(this)),Object.assign(e.defaultState,{points:[]}),e}var e,n;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qe(t,e)}(t,tt),e=t,(n=[{key:\"initDisplay\",value:function(){$e(Je(t.prototype),\"initDisplay\",this).call(this),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(e,n,r){$e(Je(t.prototype),\"updateDisplay\",this).call(this,e,n,r),(n.lineWidth||n.lineColor||n.lineAlpha||n.fillColor||n.points)&&(this.graphics.clear(),null!==e.fillColor&&this.graphics.beginFill(e.fillColor,e.fillAlpha),this.graphics.lineStyle(e.lineWidth,e.lineColor,e.lineAlpha),this.graphics.drawPolygon(e.points.map((function(t){return t*r.toWorldUnits}))),null!==e.fillColor&&this.graphics.endFill())}}])&&Ve(e.prototype,n),t}();function tn(t){return(tn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function en(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nn(t,e,n){return(nn=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rn(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function rn(t){return(rn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function on(t,e){return(on=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var an=function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e=function(t,e){return!e||\"object\"!==tn(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,rn(t).call(this)),Object.assign(e.defaultState,{tileX:0,tileY:0,tileScaleX:1,tileScaleY:1}),e}var e,n;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&on(t,e)}(t,Ht),e=t,(n=[{key:\"initDisplay\",value:function(){nn(rn(t.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.extras.TilingSprite(PIXI.Texture.EMPTY)}},{key:\"updateDisplay\",value:function(e,n,r){nn(rn(t.prototype),\"updateDisplay\",this).call(this,e,n,r),this.graphics.tilePosition.x=e.tileX,this.graphics.tilePosition.y=e.tileY,this.graphics.tileScale.x=e.tileScaleX,this.graphics.tileScale.y=e.tileScaleY}}])&&en(e.prototype,n),t}();function sn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var un=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"create\",value:function(t){var e={C:st,R:wt,L:yt,S:qt,T:te,X:he,G:Pe,B:Ee,A:He,K:qe,P:Ze,D:an}[t];if(!e)throw new Error(\"Exception: entity type not found: \"+t);return new e}}],null&&sn(e.prototype,null),n&&sn(e,n),t}();function cn(t){var e=1.70158,n=0,r=1;return 0===t?0:1==(t/=1)?1:(n=n||.3,e=r<Math.abs(1)?(r=1,n/4):n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)}function ln(t){return t<.5?2*t*t:(4-2*t)*t-1}function fn(t){return Math.pow(t,3)}function hn(t){return 1+Math.pow(t-1,3)}function pn(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function yn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dn(t,e,n){return e&&yn(t.prototype,e),n&&yn(t,n),t}var bn={r:\"rotation\",R:\"radius\",X:\"x2\",Y:\"y2\",w:\"width\",h:\"height\",t:\"tint\",f:\"fillColor\",F:\"fillAlpha\",c:\"lineColor\",W:\"lineWidth\",A:\"lineAlpha\",a:\"alpha\",i:\"image\",S:\"strokeThickness\",sc:\"strokeColor\",ff:\"fontFamily\",s:\"fontSize\",fw:\"fontWeight\",T:\"text\",ta:\"textAlign\",ch:\"children\",sx:\"scaleX\",sy:\"scaleY\",ax:\"anchorX\",ay:\"anchorY\",kx:\"skewX\",ky:\"skewY\",v:\"visible\",z:\"zIndex\",b:\"blendMode\",I:\"images\",rs:\"restarted\",p:\"playing\",l:\"loop\",d:\"duration\",bw:\"baseWidth\",bh:\"baseHeight\",ps:\"points\",tx:\"tileX\",ty:\"tileY\",tsx:\"tileScaleX\",tsy:\"tileScaleY\",sm:\"scaleMode\"},gn=function(){function t(e,n){pn(this,t),this.id=++n.instanceCount,this.type=e[0]}return dn(t,[{key:\"apply\",value:function(t){var e=un.create(this.type);e.id=this.id,t.set(this.id,e)}}]),t}(),mn=function(){function t(e,n){var i=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}(e,8),o=i[0],a=i[1],s=i[2],u=i[3],c=i[4],l=i[5],f=i[6],h=i[7];pn(this,t),this.loader=new PIXI.loaders.Loader,\"0\"===s&&(s=PIXI.utils.TextureCache[a].width),\"0\"===u&&(u=PIXI.utils.TextureCache[a].height);for(var p=0<h?h:f,y={frames:{},meta:{image:(r.baseUrl?r.baseUrl:\"\")+r.images[a]}},d=0;d<f;d++){var b=1<f?o+d:o;y.frames[b]={frame:{x:s*l+d%p*s,y:u*c+Math.floor(d/p)*u,w:s,h:u},sourceSize:{w:s,h:u},rotated:!1,trimmed:!1}}var g=\"data:text/json;charset=UTF-8,\"+JSON.stringify(y);PIXI.utils.TextureCache[g+\"_image\"]||this.loader.add(g,{crossOrigin:!0})}return dn(t,[{key:\"apply\",value:function(){var t=this;if(0<Object.keys(this.loader.resources).length)return new Promise((function(e){t.loader.load(),t.loader.on(\"complete\",e)}))}}]),t}();function vn(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function On(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var wn={C:gn,U:function(){function t(e,n,r){pn(this,t),this.id=+e[0],this.t=+e[1],this.params={},this.curve={};for(var i=2;i<e.length;){var o=bn[e[i]]||e[i],a=L[o]||L.default,s=a.type(e[i+1]);\"function\"==typeof a.convert&&(s=a.convert(s,n,r,this.t));var u=t.curves[e[i+2]];this.params[o]=s,i+=2,u&&(this.curve[o]=u,i+=1)}}return dn(t,null,[{key:\"curves\",get:function(){return{_:function(t){return t<1?0:1},\"\":ln,\"\":fn,\"\":hn,\"~\":cn,\"\":function(){return 1}}}}]),dn(t,[{key:\"apply\",value:function(t,e){var n=t.get(this.id);n.addState(this.t,{values:this.params,curve:this.curve},e.number,e),n.stateAdded=!0}}]),t}(),L:mn};function Sn(t,e){for(var n=[],r=\"\",i=0,o=\"\",a=!1;i<t.length;){var s=t[i++];s===e?a?r+=s:(n.push(r),r=\"\"):\"'\"===s&&\"\\\\\"!==o?(a=!a,r+=s):\"\\\\\"===o?r+=\"'\"===s?\"\\\\'\":\"\\\\\"+s:\"\\\\\"!==s&&(r+=s),o=s}return n.push(r),n}function Pn(t,e,n,r){var i=Sn(e,\";\"),o=[];return i.forEach((function(e){return o.push(new t(Sn(e,\" \"),n,r))})),o}var jn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"parse\",value:function(t,e,n){var r=[],i=Sn(t,\"\\n\");for(var o in i){var a=wn[i[o][0]];if(!a)throw new Error(\"Unrecognised command : \"+i[o][0]);r=[].concat(vn(r),vn(Pn(a,i[o].slice(1),e,n)))}return r}}],null&&On(e.prototype,null),n&&On(e,n),t}();function kn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kn(Object(n),!0).forEach((function(e){Tn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var In={};function Dn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function En(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rn(t,e){var n=function(t,e){if(t.states[e])return t.states[e];for(var n=Object.keys(t.states),r=n.length-1;0<=r&&n[r]>e;)r--;return t.states[n[r]]||[]}(t,e);return n&&n.length?n[n.length-1]:null}var Fn=[function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.entities=new Map,this.frames=[],this.loadingAssets=0,this.extrapolationMap={},this.globalData={toWorldUnits:1,mustResetTree:!0,mustResort:!0,maskUpdates:{},updatedBuffers:[],players:[],instanceCount:0},In.entities=this.entities}var e,n,r;return e=t,r=[{key:\"name\",get:function(){return\"entitymodule\"}}],(n=[{key:\"handleFrameData\",value:function(t,e){var n=this;if(e){var r=jn.parse(e,this.globalData,t);r&&r.forEach((function(e){var r=e.apply(n.entities,t);r&&(n.loadingAssets++,r.then((function(){n.loadingAssets--})))}))}var i=xn({},t);return i.previous=this.frames[this.frames.length-1]||i,this.extrapolate(i),i!==i.previous&&(i.previous.next=i),this.frames.push(i),i}},{key:\"lastElementOf\",value:function(t){return t[t.length-1]}},{key:\"extrapolate\",value:function(t){var e=this,n=t.number,r=t.previous.number;this.entities.forEach((function(i){if(i.stateAdded){i.stateAdded=!1,i.states[n]||(i.states[n]=[]),e.extrapolationMap[i.id]||(e.extrapolationMap[i.id]=xn({},i.defaultState));var o=i.states[n];o.sort((function(t,e){return t.t-e.t})),o.length&&1===e.lastElementOf(o).t||i.addState(1,{},n,t);var a=e.extrapolationMap[i.id];i.states[r]&&r!==n&&(a=i.states[r][i.states[r].length-1]),i.states[n]=o.map((function(t){var n=e.extrapolationMap[i.id]=xn({},e.extrapolationMap[i.id],{},t);return\"function\"==typeof i.computeAnimationProgressTime&&i.computeAnimationProgressTime(a,n),a=n}))}}))}},{key:\"reinitScene\",value:function(t,e){this.globalData.toPixel=i/e.width*e.oversampling,this.globalData.mustResetTree=!0,In.container=this.container=t,this.entities.forEach((function(t){t.init()}))}},{key:\"sortChildren\",value:function(t){t.children.sort((function(t,e){return t.zIndex===e.zIndex?t.id-e.id:t.zIndex-e.zIndex}))}},{key:\"stillLoading\",value:function(){return 0<this.loadingAssets}},{key:\"updateScene\",value:function(t,e,n){var r=this;if(!this.stillLoading()){for(var i in this.entities.forEach((function(t){return t.render(n,e,r.globalData)})),this.globalData.mustResetTree&&(this.reconstructTree(),this.globalData.mustResetTree=!1,this.globalData.mustResort=!0),this.globalData.mustResort&&(this.resortTree(),this.globalData.mustResort=!1),this.globalData.maskUpdates){var o=this.entities.get(+i),a=this.globalData.maskUpdates[i];o.container.mask=-1===a?null:this.entities.get(a).graphics}var s=!0,u=!1,c=void 0;try{for(var l,f=this.globalData.updatedBuffers[Symbol.iterator]();!(s=(l=f.next()).done);s=!0)l.value.postUpdate()}catch(t){u=!0,c=t}finally{try{s||null==f.return||f.return()}finally{if(u)throw c}}this.globalData.maskUpdates={}}}},{key:\"resortTree\",value:function(){var t=this;this.entities.forEach((function(e){e instanceof me&&t.sortChildren(e.childrenContainer)})),this.sortChildren(this.container)}},{key:\"reconstructTree\",value:function(){var t=this;this.container.removeChildren(),this.entities.forEach((function(e){e instanceof me&&(e.childrenContainer.removeChildren(),e.currentState.children.forEach((function(n){var r=t.entities.get(n);e.childrenContainer.addChild(r.container),r.parent=e})))})),this.entities.forEach((function(e){e.container.parent||t.container.addChild(e.container)}))}},{key:\"handleGlobalData\",value:function(t,e){this.globalData.players=t;var n=e.width,r=e.height;this.globalData.toWorldUnits=u(n,r,i,o),In.toWorldUnits=this.globalData.toWorldUnits,In.hasOwnProperty(\"coeff\")||Object.defineProperty(In,\"coeff\",{get:function(){var t='The \"coeff\" property of GraphicEntityModule\\'s API is deprecated, please use \"toWorldUnits\" instead',e=(new Error).stack;return console.groupCollapsed?(console.groupCollapsed(\"%cDeprecation Warning: %c%s\",\"color:#614108;background:#fffbe6\",\"font-weight:normal;color:#614108;background:#fffbe6\",t),console.warn(e),console.groupEnd()):console.warn(\"Deprecation Warning: \",t),In.toWorldUnits}})}}])&&_n(e.prototype,n),r&&_n(e,r),t}(),S,function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.interactive={},this.previousFrame={registered:{}},this.lastProgress=1,this.lastFrame=0}var e,n,r;return e=t,r=[{key:\"name\",get:function(){return\"tooltips\"}}],(n=[{key:\"updateScene\",value:function(t,e,n){this.currentFrame=e,this.currentProgress=n}},{key:\"handleFrameData\",value:function(t,e){var n=this;if(e){var r=e[0],i=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dn(Object(n),!0).forEach((function(e){Cn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.previousFrame.registered,{},r);Object.keys(r).forEach((function(t){n.interactive[t]=!0}));var o={registered:i,number:t.number};return this.previousFrame=o}}},{key:\"reinitScene\",value:function(t){var e,n,r,a=this;this.tooltip=this.initTooltip(),In.entities.forEach((function(t){var e,n,r,i,o,s;a.interactive[t.id]&&(t.container.interactive=!0,\"function\"==typeof(t.graphics&&t.graphics.containsPoint)?t.container.mousemove=(o=t,s=a.tooltip,function(t){o.graphics.containsPoint(t.data.global)?s.inside[o.id]=!0:delete s.inside[o.id]}):(t.container.mouseover=(r=t.id,i=a.tooltip,function(){i.inside[r]=!0}),t.container.mouseout=(e=t.id,n=a.tooltip,function(){delete n.inside[e]})))})),(this.container=t).interactive=!0,t.mousemove=(e=this.tooltip,n=t,r=this,function(t){if(e){var a=t.data.getLocalPosition(n);e.x=a.x,e.y=a.y;var s=[],u=Object.keys(e.inside).map((function(t){return+t})),c=!0,l=!1,f=void 0;try{for(var h,p=u[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var y=h.value;if(e.inside[y]){var d=In.entities.get(y);d&&Rn(d,r.currentFrame.number)?s.push(y):delete e.inside[y]}}}catch(t){l=!0,f=t}finally{try{c||null==p.return||p.return()}finally{if(l)throw f}}if(s.length){var b=[],g=!0,m=!1,v=void 0;try{for(var O,w=s[Symbol.iterator]();!(g=(O=w.next()).done);g=!0){var S=O.value;if(null!==Rn(In.entities.get(S),r.currentFrame.number)){e.visible=!0;var P=r.currentFrame.registered[S];P&&P.length&&\"0\"!==String(P).valueOf()&&b.push(P)}}}catch(t){m=!0,v=t}finally{try{g||null==w.return||w.return()}finally{if(m)throw v}}e.label.text=b.join(\"\\n\\n\")}else e.visible=!1;e.background.width=e.label.width+20,e.background.height=e.label.height+20,e.pivot.x=-30,e.pivot.y=-50,e.y-e.pivot.y+e.height>o&&(e.pivot.y=10+e.height,e.y-=e.y-e.pivot.y+e.height-o),e.x-e.pivot.x+e.width>i&&(e.pivot.x=e.width)}}),t.addChild(this.tooltip)}},{key:\"generateText\",value:function(t,e,n,r){var i=new PIXI.Text(t,{fontSize:Math.round(e/1.2)+\"px\",fontFamily:\"Lato\",fontWeight:\"bold\",fill:n});return i.lineHeight=Math.round(e/1.2),\"right\"===r?i.anchor.x=1:\"center\"===r&&(i.anchor.x=.5),i}},{key:\"initTooltip\",value:function(){var t=new PIXI.Container,e=t.background=new PIXI.Graphics,n=t.label=this.generateText(\"\",36,16777215,\"left\");return e.beginFill(0,.7),e.drawRect(0,0,200,185),e.endFill(),e.x=-10,e.y=-10,t.visible=!1,t.inside={},t.addChild(e),t.addChild(n),t.interactiveChildren=!1,t}}])&&En(e.prototype,n),r&&En(e,r),t}()];function Mn(t){return(Mn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function An(t){var e=\"function\"==typeof Map?new Map:void 0;return(An=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Xn(t,arguments,Ln(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Wn(r,t)})(t)}function Xn(t,e,n){return(Xn=function(){if(\"undefined\"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if(\"function\"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(t){return}}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Wn(i,n.prototype),i}).apply(null,arguments)}function Wn(t,e){return(Wn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ln(t){return(Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Hn=function(){function t(e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),(r=function(t,e){return!e||\"object\"!==Mn(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,Ln(t).call(this,'<Error in module \"'+e+'\">'))).cause=n,r.name=\"ModuleError\",r}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wn(t,e)}(t,An(Error)),t}();function Un(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Un(Object(n),!0).forEach((function(e){Bn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,\"Drawer\",(function(){return Yn}));var Yn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.toDestroy=[],this.stepByStepAnimateSpeed=null;var n=e||null;if(n){var r=n.views,i=n.agents;this.demo={playerCount:i.length,logo:\"logo.png\",overlayAlpha:.2,agents:i,frames:r},this.demo.agents.forEach((function(e){e.color=t.playerColors[e.index]}))}else this.demo=void 0}var e,n,a;return e=t,a=[{key:\"getGameRatio\",value:function(){return t.WIDTH/t.HEIGHT}},{key:\"requirements\",get:function(){return{PIXI:\"PIXI4\"}}},{key:\"VERSION\",get:function(){return 2}},{key:\"WIDTH\",get:function(){return i}},{key:\"HEIGHT\",get:function(){return o}},{key:\"playerColors\",get:function(){return[\"#ff1d5c\",\"#22a1e4\",\"#ff8f16\",\"#6ac371\",\"#9975e2\",\"#3ac5ca\",\"#de6ddf\",\"#ff0000\"]}},{key:\"SDK_GAME\",get:function(){return!0}},{key:\"RenderTimeout\",get:function(){return\"localhost\"===window.location.hostname?1/0:2e4}}],(n=[{key:\"getDefaultOverSampling\",value:function(){return 2}},{key:\"handleModuleError\",value:function(t,e){h.push(new Hn(t,e)),console.error(e),h.push({message:'<Module \"'.concat(t,'\" disabled>\\n')}),delete this.modules[t]}},{key:\"instantiateModules\",value:function(){var t=!0,e=!(this.modules={}),n=void 0;try{for(var i,o=Fn[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;try{this.modules[a.name]=new a(r)}catch(t){this.handleModuleError(a.name,t)}}}catch(t){e=!0,n=t}finally{try{t||null==o.return||o.return()}finally{if(e)throw n}}}},{key:\"destroy\",value:function(){this.alreadyLoaded&&(this.renderer.destroy(),this.endCallback=null),this.destroyed=!0}},{key:\"destroyScene\",value:function(){!function(){for(var t=0,e=ke.length;t<e;++t)ke[t].destroy(!0);ke=[]}()}},{key:\"getGameName\",value:function(){}},{key:\"canSwapPlayers\",value:function(){return!1}},{key:\"addErrorListener\",value:function(t){h.listen(t)}},{key:\"getResources\",value:function(){return Object.assign({baseUrl:\"\",images:{},spines:{},sprites:[],fonts:[],others:[]},r)}},{key:\"getOptions\",value:function(){return[]}},{key:\"setDebug\",value:function(){this.asyncRenderingTime=t.RenderTimeout}},{key:\"initPreload\",value:function(t,e,n,r,i){t.canvasWidth=r,t.canvasHeight=i,t.loaderProgress=new PIXI.Text(\"100\",{fontSize:.117*i||30,fontFamily:\"Lato\",fontWeight:\"900\",fill:\"white\",align:\"center\"}),t.loaderProgress.anchor.y=1,t.loaderProgress.anchor.x=1.3,t.progress=t.realProgress=n,t.loaderProgress.position.y=i,t.progressBar=new PIXI.Graphics,e.addChild(t.progressBar),e.addChild(t.loaderProgress)}},{key:\"preload\",value:function(t,e,n){t.progress=n}},{key:\"renderPreloadScene\",value:function(t,e){var n=Math.pow(.998,e);return t.realProgress=n*t.realProgress+(1-n)*t.progress,t.loaderProgress.text=(100*t.realProgress).toFixed(0),t.loaderProgress.position.x=t.realProgress*t.canvasWidth,t.progressBar.clear(),t.progressBar.beginFill(0,1),t.progressBar.drawRect(0,0,t.canvasWidth*t.realProgress+1,t.canvasHeight),t.progressBar.endFill(),t.progressBar.beginFill(4146246,1),t.progressBar.drawRect(t.canvasWidth*t.realProgress,0,t.canvasWidth,t.canvasHeight),t.progressBar.endFill(),!0}},{key:\"initDefaultScene\",value:function(e,n){var r=new PIXI.Container;if(e.drawer=this,e.time=0,this.demo){if(this.demo.logo)try{var i=PIXI.Sprite.fromFrame(this.demo.logo);i.position.set(t.WIDTH/2,t.HEIGHT/2),i.anchor.set(.5),i.baseScale=u(i.texture.width,i.texture.height,2*t.WIDTH/3,t.HEIGHT/2,0),r.addChild(i),e.logo=i}catch(n){h.push({cause:n,message:'Missing \"logo.png\" to complete replay.'}),e.logo=new PIXI.Container,e.logo.baseScale=1,r.addChild(e.logo),e.missingLogo=!0}var o=new PIXI.Graphics;e.missingLogo||(o.beginFill(0,this.demo.overlayAlpha||0),o.drawRect(0,0,t.WIDTH+20,t.HEIGHT+20),o.endFill(),o.x-=10,o.y-=10);var a=new PIXI.Container;try{this.initDefaultFrames(this.demo.playerCount,this.demo.frames,this.demo.agents),this.preconstructScene(this.scope,n,this.initWidth,this.initHeight),this.initScene(this.scope,a,this.frames,!0),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)}catch(n){h.push({cause:n,message:\"Cannot load demo, you might want to reset the demo\"})}e.demo=a,e.demotime=0,this.currentFrame=-1,n.addChild(a),n.addChild(o),n.addChild(r)}e.updateTime=0,e.frameTime=0}},{key:\"initDefaultFrames\",value:function(e,n,r){var i=this;this.instantiateModules(),this.playerInfo=r.map((function(t,e){return{name:t.name||\"Anonymous\",color:t.color?i.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:t.avatarTexture}})),this.instantiateModules(),this._frames=n.map((function(t){var e,n=t.split(\"\\n\"),r=n[0].split(\" \");try{e=JSON.parse(n.slice(1).join(\"\\n\"))}catch(t){e={}}return zn({},e,{key:\"KEY_FRAME\"===r[0]})})).filter((function(t){return t.key})),this.parseGlobalData(this._frames[0].global),this.playerCount=e,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1;var o=this._frames[0].frame;o.key=this._frames[0].key,this.frames.push(this.parseFrame(o,this.frames));for(var a=1;a<this._frames.length;++a)this.frames.push(this.parseFrame(this._frames[a],this.frames));this.asyncRenderingTime=t.RenderTimeout}},{key:\"renderDefaultScene\",value:function(t,e){if(e=Math.min(80,e),void 0===this.demo)return!1;this.currentFrame=this.currentFrameTemp||0,t.frameTime+=e,t.updateTime+=e,t.demotime+=e/1e3;var n=Math.max(0,Math.min(1,(t.demotime-1)/.5));if(t.logo&&(t.logo.alpha=n,t.logo.scale.x=t.logo.scale.y=(3-2*n)*t.logo.baseScale),!t.missingLogo&&1.5<t.demotime&&t.demotime<=2.2){var r=15*Math.max(0,1-(t.demotime-1.5)/.7);t.demo.x=(2*Math.random()-1)*r,t.demo.y=(2*Math.random()-1)*r}else t.demo.x=t.demo.y=0;var i=this.getFrameDuration(this.currentFrame);return 30<=t.updateTime&&(t.updateTime-=30,0===this.currentFrame?this.progress=1:this.progress=s(0,i,t.frameTime),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)),t.frameTime>=i&&(t.frameTime-=i,this.currentFrame=(this.currentFrame+1)%this.frames.length),this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],e,!0),this.currentFrameTemp=this.currentFrame,this.currentFrame=-1,!0}},{key:\"endDefaultScene\",value:function(){return!0}},{key:\"parseGlobalData\",value:function(t){for(var e in this.modules){var n=this.modules[e];\"function\"==typeof n.handleGlobalData&&n.handleGlobalData(this.playerInfo,t[e])}}},{key:\"parseFrame\",value:function(t,e){var n={data:{},frameInfo:{number:e.length}};if(n.previous=e[e.length-1]||n,n!==n.previous&&(n.previous.next=n),!t.key)return n.previous;for(var r in t.duration&&(this.currentFrameDuration=t.duration),n.frameInfo.frameDuration=this.currentFrameDuration,n===n.previous?(n.frameInfo.date=0,n.frameInfo.frameDuration=0):n.frameInfo.date=n.previous.frameInfo.date+n.previous.frameInfo.frameDuration,this.modules){var i=this.modules[r];\"function\"==typeof i.handleFrameData&&(n.data[r]=i.handleFrameData(n.frameInfo,t[r]))}return n}},{key:\"preconstructScene\",value:function(e,n,r,i){e.canvasHeight=i,e.canvasWidth=r,e.time=0,e.endTime=0,e.playerInfo=this.playerInfo,n.scale.x=r/t.WIDTH,n.scale.y=i/t.HEIGHT}},{key:\"initScene\",value:function(t,e){for(var n in this.modules){var r=this.modules[n],i=new PIXI.Container;try{r.reinitScene(i,{width:t.canvasWidth,height:t.canvasHeight,oversampling:this.oversampling})}catch(t){this.handleModuleError(n,t)}e.addChild(i)}}},{key:\"updateScene\",value:function(t,e,n,r,i,o,a,s,u){var c=n[r];if(!u&&this.stepByStepAnimateSpeed){if(this.checkSteppedToNextFrame(t,c,i))return void this.startAsynchronousAnimation(t,c);if(this.checkSteppedToPreviousFrame(t,c,i))return void this.startAsynchronousAnimation(t,t.currentFrame,!0);t.targetProgress=null}for(var l in t.currentFrame=c,t.currentProgress=i,t.reason=a,this.modules){var f=this.modules[l];if(c.data.hasOwnProperty(l))try{f.updateScene(c.previous.data[l],c.data[l],i,o)}catch(t){this.handleModuleError(l,t)}}}},{key:\"startAsynchronousAnimation\",value:function(t,e,n){var r=2<arguments.length&&void 0!==n&&n;t.targetProgress=r?0:1,r||1!==t.currentProgress||(t.currentProgress=0),t.currentFrame=e,t.reverseAsynchronousAnimation=r}},{key:\"checkStepped\",value:function(t,e,n){return t.currentFrame&&0===this.speed&&1===n}},{key:\"checkSteppedToNextFrame\",value:function(t,e,n){return this.checkStepped(t,e,n)&&(t.currentFrame===e.previous&&t.currentFrame!==e||t.currentFrame===e&&t.currentProgress!==n)}},{key:\"checkSteppedToPreviousFrame\",value:function(t,e,n){return this.checkStepped(t,e,n)&&t.currentFrame.previous===e&&t.currentFrame!==e}},{key:\"initEndScene\",value:function(t){t.endSceneViewed=!1}},{key:\"destroyEndScene\",value:function(){}},{key:\"renderEndScene\",value:function(t,e,n){0===t.endTime&&this.initEndScene(t,n),t.endTime+=e,void 0<=t.endTime&&!t.endSceneViewed&&(this.endCallback&&this.endCallback(),t.endSceneViewed=!0)}},{key:\"renderScene\",value:function(t,e,n,r,i,o,a,s){if(s=Math.min(80,s),this.debugMode||r!==n.length-1||1!==i?(0<t.endTime&&this.destroyEndScene(t),t.endTime=0):this.renderEndScene(t,s,\"Win\"!==a),this.stepByStepAnimateSpeed&&this.isAsynchronousAnimationOngoing(t)){var u,c=this.currentFrame;t.reverseAsynchronousAnimation&&c++;var l=s/200*this.getFrameSpeed(c)*this.stepByStepAnimateSpeed;t.reverseAsynchronousAnimation?(u=t.currentProgress-l)<=0&&(c=this.currentFrame,u=1,t.targetProgress=1):(u=t.currentProgress+l,u=Math.min(t.targetProgress,u)),this.updateScene(this.scope,this.question,this.frames,c,u,this.speed,this.reasons[c],!1,!0)}for(var f in this.modules){var h=this.modules[f];if(\"function\"==typeof h.animateScene)try{h.animateScene(s)}catch(t){this.handleModuleError(f,t)}}return!0}},{key:\"isAsynchronousAnimationOngoing\",value:function(t){return null!=t.targetProgress&&t.currentProgress!==t.targetProgress}},{key:\"getFrameSpeed\",value:function(t){return 500/this.getFrameDuration(t)}},{key:\"getFrameDuration\",value:function(t){return this.frames&&this.frames[t]&&this.frames[t].frameInfo.frameDuration||1e3}},{key:\"enableAsyncRendering\",value:function(e){this.asyncRendering=e,this.asyncRenderingTime=t.RenderTimeout}},{key:\"purge\",value:function(){this.scope={},this.changed=!0,this.container.interactiveChildren=!1,this.container.destroy({texture:!1,children:!0}),delete this.container,this.container=new PIXI.Container}},{key:\"reinitScene\",value:function(){1<=this.loaded&&(this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.preconstructScene(this.scope,this.container,this.initWidth,this.initHeight),this.initScene(this.scope,this.container,this.frames),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame]),this.changed=!0)}},{key:\"reinitDefaultScene\",value:function(){1<=this.loaded&&(this.intro=!0,this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initDefaultScene(this.scope,this.container,this.initWidth,this.initHeight),this.changed=!0)}},{key:\"reinitLoadingScene\",value:function(){this.loaded<1&&(this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initPreload(this.scope,this.container,this.loaded,this.initWidth,this.initHeight))}},{key:\"reinit\",value:function(t){1<=this.loaded?0<=this.currentFrame&&!this.intro?this.reinitScene():this.intro&&!t||this.reinitDefaultScene():this.reinitLoadingScene()}},{key:\"animate\",value:function(t){if(!this.destroyed){this.lastRenderTime||(this.lastRenderTime=t);var e=t-this.lastRenderTime;this.asynchronousStep&&(e=this.asynchronousStep),this.onBeforeRender&&this.onBeforeRender(),this.loading||(this.loaded<1?this.changed|=this.renderPreloadScene(this.scope,e):(this.changed||this.asyncRendering&&0<this.asyncRenderingTime||this.isAsynchronousAnimationOngoing(this.scope))&&(this.currentFrame<0?this.changed|=this.renderDefaultScene(this.scope,e):this.intro?(this.changed=!0,this.endDefaultScene(this.scope,e)&&(this.intro=!1,this.reinit(!0))):this.changed|=this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame],e)),this.changed&&(this.renderer.render(this.container),this.changed=!1)),this.onAfterRender&&this.onAfterRender(),this.lastRenderTime=t,this.destroyed||requestAnimationFrame(this.animate.bind(this)),this.asyncRenderingTime-=e}}},{key:\"_initFrames\",value:function(t,e){this.instantiateModules(),this._frames=e.map((function(t){var e,n=t[0].split(\" \");try{e=JSON.parse(t.slice(1).join(\"\\n\"))}catch(t){e={}}return zn({},e,{key:\"KEY_FRAME\"===n[0]})})),this.parseGlobalData(this._frames[0].global),this.playerCount=t,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1;var n=this._frames[0].frame;n.key=this._frames[0].key,this.frames.push(this.parseFrame(n,this.frames));for(var r=1;r<this._frames.length;++r)this.frames.push(this.parseFrame(this._frames[r],this.frames))}},{key:\"isTurnBasedGame\",value:function(){return!1}},{key:\"initFrames\",value:function(t,e){this.playerInfo&&this.playerInfo.forEach((function(t){t.avatar&&t.avatar.destroy(!0)}));var n=this,r=new PIXI.loaders.Loader(window.location.origin);function i(){n._initFrames(e.length,t),n.loading=!1,n.reinit(!1),o=!0}this.playerInfo=e.map((function(t,e){var i={name:t.name||\"Anonymous\",color:t.color?n.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:null};return null!=t.avatar&&r.add(\"avatar\"+e,t.avatar,{loadType:2,crossOrigin:!0},(function(t){i.avatar=t.texture,PIXI.Texture.addToCache(t.texture,\"$\"+i.index)})),i}));var o=!(this.loading=!0);r.on(\"complete\",i),r.on(\"error\",(function(t){console.warn(t),o||i()})),r.load()}},{key:\"update\",value:function(e,n,r){0<=this.currentFrame&&(this.asyncRenderingTime=t.RenderTimeout,this.changed=!0,this.speed=r,this.currentFrame=e,this.progress=n,1<=this.loaded&&!this.intro&&this.updateScene(this.scope,this.question,this.frames,e,n,this.speed,this.reasons[this.currentFrame]))}},{key:\"parseColor\",value:function(t){if(Array.isArray(t)){var e,n=[];for(e=0;e<t.length;++e)n.push(this.parseColor(t[e]));return n}return parseInt(t.substring(1),16)}},{key:\"init\",value:function(e,n,r,i,o,a,s){var u,c=this;function l(){0<=c.currentFrame&&(c.changed=!0)}window.PIXI=t.PIXI||window.PIXI,this.oversampling=o||1,this.canvas=$(e),this.canvas.off(\"mousemove\"),this.canvas.off(\"wheel\"),this.canvas.bind(\"wheel\",l),this.canvas.mousemove(l),i&&(this.colors=this.parseColor(i)),\"ide\"===s&&(this.debugModeSetByUser||(this.debugMode=!0),h.listen((function(t){return console.error(t.cause?t.cause:t)}))),this.asyncRendering=!0,this.asyncRenderingTime=0,this.destroyed=!1,this.asynchronousStep=null;var f,p=this;if(this.initWidth=0|n,this.initHeight=0|r,this.endCallback=a||this.endCallback,this.alreadyLoaded)this.changed=!0,this.renderer.resize(this.initWidth,this.initHeight),this.reinit(!0);else{this.alreadyLoaded=!0,this.question=null,this.scope=null,this.currentFrame=-1,this.loaded=0,this.container=new PIXI.Container;var y=this.getResources();this.renderer=this.createRenderer(this.initWidth,this.initHeight,e),f=this.renderer,je=f;var d,b=new PIXI.loaders.Loader(y.baseUrl);for(u in y.images)b.add(u,y.images[u],{crossOrigin:!0});for(d=0;d<y.sprites.length;++d)b.add(y.sprites[d],{crossOrigin:!0});for(d=0;d<y.fonts.length;++d)b.add(y.fonts[d],{crossOrigin:!0});for(u in y.spines)b.add(u,y.spines[u],{crossOrigin:!0});for(d=0;d<y.others.length;++d)b.add(y.others[d],{crossOrigin:!0});this.demo&&this.demo.agents.forEach((function(t){b.add(\"avatar\"+t.index,t.avatar,{loadType:2,crossOrigin:!0},(function(e){t.avatarTexture=e.texture,PIXI.Texture.addToCache(e.texture,\"$\"+t.index)}))})),p.scope={};var g=function(){requestAnimationFrame(p.animate.bind(p)),p.initPreload(p.scope,p.container,p.loaded=0,p.initWidth,p.initHeight)};b.on(\"start\",g),b.on(\"progress\",(function(t,e){t.progress<100&&p.preload(p.scope,p.container,p.loaded=t.progress/100,p.initWidth,p.initHeight,e)}));var m=function(){var t;for(t in y.images)y.images.hasOwnProperty(t)&&b.resources[t].texture&&PIXI.Texture.addToCache(b.resources[t].texture,t);for(t in y.spines)y.spines.hasOwnProperty(t)&&(PIXI.AnimCache[t]=PIXI.AnimCache[y.baseUrl+y.spines[t]]);p.loaded=1,p.reinit(!0),p.changed=!0};b.on(\"complete\",m),b.on(\"error\",(function(t){console.warn(t)})),Object.keys(b.resources).length?b.load():(g(),m())}}},{key:\"createRenderer\",value:function(t,e,n){return PIXI.autoDetectRenderer(t,e,{view:n,clearBeforeRender:!0,preserveDrawingBuffer:!1})}},{key:\"isReady\",value:function(){return 1<=this.loaded}}])&&Gn(e.prototype,n),a&&Gn(e,a),t}()}]).Drawer;",
      "levelParams": {
        "0": {
          "aiCode": "import java.util.Scanner;\r\n\r\nclass Player {\r\n\r\n  public static void main(String[] args) {\r\n    Scanner scanner = new Scanner(System.in);\r\n\r\n    // read initial input\r\n    int nbPlayers = scanner.nextInt();\r\n    int size = 5;\r\n    int largeSize = 2 * size - 1;\r\n    int nbTiles = scanner.nextInt();\r\n    scanner.nextLine();\r\n    System.err.println(String.format(\"%d players, grid size is %d\", nbPlayers, size));\r\n\r\n    while (true) {\r\n      // read grids for all players\r\n      // your grid is always first\r\n      final String myGrid[] = new String[largeSize];\r\n      for (int y = 0; y < 2 * (size - 1) + 1; y++) {\r\n        myGrid[y] = scanner.nextLine();\r\n        System.err.println(myGrid[y]);\r\n      }\r\n      System.err.println();\r\n\r\n      // read other player's grids\r\n      for (int i = 0; i < nbPlayers - 1; i++) {\r\n        for (int y = 0; y < 2 * (size - 1) + 1; y++) {\r\n          scanner.nextLine();\r\n        }\r\n      }\r\n\r\n      // read current tiles\r\n      int curId = -1;\r\n      for (int i = 0; i < nbTiles; i++) {\r\n        final int tileId = scanner.nextInt();\r\n        final String first = scanner.next();\r\n        final String second = scanner.next();\r\n        final int playerId = scanner.nextInt();\r\n        final int current = scanner.nextInt();\r\n        if (current == 1) {\r\n          // active tile\r\n          curId = tileId;\r\n        }\r\n        scanner.nextLine();\r\n      }\r\n\r\n      // read next tiles\r\n      // pick the first unused one\r\n      int pick = 0;\r\n      for (int i = 0; i < nbTiles; i++) {\r\n        final int tileId = scanner.nextInt();\r\n        final String first = scanner.next();\r\n        final String second = scanner.next();\r\n        final int playerId = scanner.nextInt();\r\n        scanner.nextLine();\r\n        if (playerId < 0) {\r\n          pick = tileId;\r\n        }\r\n      }\r\n\r\n      int putY = (curId * size / 49);\r\n      int putX = curId % (size - ((putY == size - 1) ? 2 : 1));\r\n\r\n      // output\r\n      System.out.println(String.format(\"PUT %d %d 0\", putX, putY));\r\n      System.out.println(String.format(\"PICK %d\", pick));\r\n    }\r\n  }\r\n}\r\n",
          "testCases": [],
          "maxPlayers": 4,
          "minPlayers": 2,
          "statements": {
            "1": "<!-- Autogenerated file! Do not edit directly. --><!-- LEAGUES level1 level2 level3 level4 -->\n<div id=\"statement_back\" class=\"statement_back\" style=\"displa&nbsp;:none\"></div>\n<div class=\"statement-body\">\n  <!-- LEAGUE ALERT -->\n  <div\n    style=\"color: #7cc576;\n    background-color: rgba(124, 197, 118,.1);\n    padding: 20px;\n    margin-right: 15px;\n    margin-left: 15px;\n    margin-bottom: 10px;\n    text-align: left;\"\n  >\n    <div style=\"text-align: center; margin-bottom: 6px\">\n      <img src=\"//cdn.codingame.com/smash-the-code/statement/league_wood_04.png\" />\n    </div>\n\n    <p style=\"text-align: center; font-weight: 700; margin-bottom: 6px;\">\n      Ce puzzle se droule en <b>ligues</b>.\n    </p>\n    <span class=\"statement-league-alert-content\">\n      <p>\n        Les ligues Bois doivent tre considres comme un tutoriel pour apprendre les diffrentes rgles du jeu.\n      </p>\n      <p>\n        En ligue Bronze, toutes les rgles sont dbloques et alors dbute le challenge, le vrai.\n      </p>\n    </span>\n  </div>\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>Objectif</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      <p>\n        Ceci est une adaptation du jeu de plateau <a href=\"htt&nbsp;://www.blueorangegames.eu/pf/kingdomino_fr/\">Kingdomino</a> de\n        Bruno Cathala et Cyril Bouquet.\n      </p>\n      <p>\n        Le code source du jeu est disponible <a href=\"https://gitlab.com/matthieu.dazy/cg-kingdomino/-/tree/master\">ici</a>.\n      </p>\n      <p>\n        L'objectif est de btir le territoire le plus riche en choisissant et en plaant judicieusement des tuiles de terrain\n        afin de crer les zones contigus les plus grandes et les plus riches.\n      </p>\n      <p>\n        Les textures de tuiles proviennent de\n        <a href=\"http&nbsp;://opengameart.org/content/big-pack-of-hand-painted-tiling-textures\">ce paquet OpenGameArt</a>.\n      </p>\n      <p>\n        Le logo a t gnr sur <a href=\"http://renderforest.com\"/>Render Forest</a>.\n      </p>\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rgles</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        <h2>Les tuiles</h2>\n        <p>\n          Le jeu se joue avec des tuiles de terrain. Chaque tuile est un domino comportant deux carrs. Il existe 6\n          types de terrain diffrent&nbsp;: champ de bl, fort, prairie, lac, marais et mine. Chaque carr peut galement\n          comporter jusque 3 couronnes qui augmentent la valeur de la zone qui contient ce carr.\n        </p>\n        <p>\n          Chaque tuile a un numro d'identification unique, qui est galement un indicateur sommaire de sa \"valeur\". Les\n          tuiles avec plus de couronnes ont des numros plus levs, tandis que les tuiles avec les types de terrain les\n          plus courants et moins ou pas de couronnes portent des numros plus bas.\n        </p>\n        <p>\n          Chaque joueur btit son propre territoire indpendamment,  partir de son chteau. Il l'tend en plaant de\n          nouvelles tuiles  ct de terrains dj en place, crant ainsi des zones contigus d'un mme type de terrain.\n        </p>\n        <p>\n          Le jeu se compose d'un ensemble dfini de 48 tuiles, qui seront distribues par lots sur plusieurs tours de jeu.\n          Ainsi chaque tuile ne sera disponible qu'une seule fois au cours de la partie. Lors d'une partie  2 ou 3 joueurs,\n          une partie des tuiles n'est pas mise en jeu et ne sera donc pas disponible du tout au cours de la partie.\n        </p>\n        <p>\n          La liste des tuiles est disponible <a href=\"https://gitlab.com/matthieu.dazy/cg-kingdomino/-/blob/master/src/main/resources/tiles.csv\">ici</a>\n          sous forme de fichier CSV.\n        </p>\n\n        <h2>Tour de jeu</h2>\n        <p>\n           son tour, chaque joueur effectue deux actions&nbsp;:\n        </p>\n        <ul>\n          <li><action>PUT</action> pour placer une tuile sur son territoire</li>\n          <li><action>PICK</action> pour choisir la tuile qu'il jouera au tour suivant</li>\n        </ul>\n        <p>\n          L'ordre des joueurs dans un tour est dtermin par la valeur des tuiles choisies, comme indiqu ci-dessous \n          dans la section Rgles de choix des tuiles. Au premier tour, l'ordre est celui des joueurs dans l'interface.\n        </p>\n        <p>\n          Dans une partie  2 joueurs, 4 tuiles sont disponibles pour chaque tour, et chaque joueur effectue\n          sparement deux sries indpendantes d'actions <action>PUT</action> + <action>PICK</action>. Au premier tour\n          les joueurs sont alterns (premier, deuxime, premier, deuxime). Lors des tours suivants, l'ordre changera\n          en fonction des tuiles choisies.\n        </p>\n\n        <h2>Rgles de placement des tuiles</h2>\n        <ul>\n          <li>Les tuiles peuvent tre tournes dans n'importe quelle direction.</li>\n          <li>Les tuiles ne peuvent pas recouvrir le chteau.</li>\n          <li>\n            L'extension horizontale et verticale du territoire ne doit pas excder <const>5</const> carrs.\n          </li>\n          <li>Si une tuile ne peut tre place nulle part avec ces restrictions, elle est dfausse.</li>\n          <li>Il n'y a pas de placement de tuile lors du premier tour.</li>\n        </ul>\n        <img src=\"https://i.imgur.com/5wXKSF2.png\" alt=\"Exemples de placement de tuiles valides\" /><br />\n        <!-- wood3Valid.png -->\n        <img src=\"https://i.imgur.com/QyZGDH7.png\" alt=\"Exemples de placement de tuiles interdits\" /><br />\n        <!-- wood3Invalid.png -->\n\n        <h2>Rgles de choix des tuiles</h2>\n        <ul>\n          <li>\n            Plusieurs nouvelles tuiles sont disponibles  chaque tour&nbsp;: 4 pour une partie  2 ou 4 joueurs et 3\n            pour une partie  trois joueurs.\n          </li>\n          <li>\n            Chaque tuile ne peut tre choisie que par un seul joueur&nbsp;: le premier joueur dispose du plus large choix,\n            les suivants doivent choisir parmi les tuiles restantes.\n          </li>\n          <li>\n            Les tuiles sont tries par numro d'identification croissant&nbsp;: au tour suivant, le joueur qui a choisi la\n            tuile avec le numro le plus bas jouera en premier (et aura donc le plus grand choix parmi les nouvelles\n            tuiles), tandis que le joueur qui a choisi la tuile avec le numro le plus lev jouera en dernier.  2\n            joueurs, cela implique que les joueurs peuvent effectuer leurs squences <action>PUT</action> +\n            <action>PICK</action> l'une aprs l'autre ou bien en alternance, en fonction de l'ordre des tuiles.\n          </li>\n          <li>Il n'y a pas de choix de tuile lors du dernier tour.</li>\n        </ul>\n\n        <h2>Score</h2>\n        <ul>\n          <li>La partie dure exactement 7 tours pour une partie  2 joueurs et 13 pour une partie  3 ou 4 joueurs.</li>\n          <li>\n            Le territoire de chaque joueur est compos de plusieurs zones contigus, chacune d'un type de terrain donn.\n            Chaque zone rapporte un nombre de points gal  sa taille (en nombre de carrs) mutliplie par le nombre de\n            couronnes contenues dans la zone.\n          </li>\n          <li>Une zone ne contenant aucune couronne ne rapporte donc aucun point.</li>\n          <li>Le score final d'un joueur est le total des scores de chacune des zones dans son territoire.</li>\n          <li>\n            En cas d'galit, les joueurs avec le plus grand territoire (en nombre de carrs) reoivent chacun un point\n            supplmentaire pour les dpartager.\n          </li>\n          <li>\n            En cas d'une seconde galit, les joueurs avec le plus grand nombre de couronnes reoivent chacun un point\n            supplmentaire pour les dpartager.\n          </li>\n          <li>En cas de troisime galit, les joueurs sont ex aequo.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- Win conditions -->\n  <div class=\"statement-victory-conditions\">\n    <div class=\"icon victory\"></div>\n    <div class=\"blk\">\n      <div class=\"title\">Conditions de victoire</div>\n      <div class=\"text\">\n        <ul>\n          <li>Avoir le plus grand score.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- Lose conditions -->\n  <div class=\"statement-lose-conditions\">\n    <div class=\"icon lose\"></div>\n    <div class=\"blk\">\n      <div class=\"title\">Conditions< de dfaite</div>\n      <div class=\"text\">\n        <ul>\n          <li>Avoir un score infrieur.</li>\n          <li>Effectuer une action <action>PICK</action> invalide.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Protocole du jeu</span>\n    </h1>\n\n    <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"text\">\n        <strong>Entre d'initialisation</strong>&nbsp;:\n        <p><span class=\"statement-lineno\">Ligne 1&nbsp;: </span><var>nbPlayers</var>&nbsp;: le nombre de joueurs.</p>\n        <p>\n          <span class=\"statement-lineno\">Ligne 2&nbsp;: </span><var>nbTiles</var>&nbsp;: le nombre de tuiles en jeu chaque tour.\n          <const>4</const> pour une partie  2 ou 4 joueurs et <const>3</const> pour une partie  3 joueurs.\n        </p>\n        <strong>Pour chaque tour</strong>&nbsp;:\n        <p>\n          <span class=\"statement-lineno\"><var>nbPlayers</var> fois <const>9</const> lignes</span>&nbsp;: la grille de chaque\n          joueur.\n          <strong>Votre grille est toujours donne en premier</strong>. Chaque ligne se compose de <const>9</const>\n          groupes de <const>2</const> caractres reprsentant chacun un carr de la grille&nbsp;:\n        </p>\n        <ul>\n          <li>\n            Un caractre reprsentant le type de terrain&nbsp;: vide (<const>_</const>), chteau (<const>*</const>), champ de\n            mas (<const>c</const>), fort (<const>f</const>), prairie (<const>g</const>), lac (<const>l</const>),\n            marais (<const>w</const>) ou mine (<const>m</const>).\n          </li>\n          <li>Un caractre entre <const>0</const> et <const>3</const> pour le nombre de couronnes dans ce carr.</li>\n          <li>Le chteau est toujours plac au centre de la grille.</li>\n        </ul>\n        <p>\n          <strong>IMPORTANT&nbsp;:</strong> la grille donne en entre est plus grande que ce qui est affich  l'cran.\n          L'affichage ne montre qu'une portion de la grille correspondant  l'extension maximale autorise.\n        </p>\n        <p>\n          <span class=\"statement-lineno\"><var>nbTiles</var> lignes suivantes&nbsp;: </span><var>tileId</var> <var>firstSquare</var>\n          <var>secondSquare</var> <var>playerId</var> <var>current</var>&nbsp;: le numro d'une tuile place lors de ce tour de\n          table, les deux carrs de cette tuile, dans le mme format que pour la grille, le numro du joueur qui place cette\n          tuile et un indicateur de la tuile en jeu pour ce tour de joueur. <strong>Votre joueur a toujours le numro\n          0</strong>. <var>playerId</var> peut tre <const>-1</const> si une tuile n'a pas t slectionne lors du tour\n          prcdent. <var>current</var> est <const>1</const> pour la tuile en jeu ce tour, <const>0</const> pour les autres\n          tuiles.\n        </p>\n        <p>\n          <span class=\"statement-lineno\"><var>nbTiles</var> lignes suivantes&nbsp;: </span><var>tileId</var> <var>firstSquare</var>\n          <var>secondSquare</var> <var>playerId</var>&nbsp;: les tuiles  choisir pour le tour suivant. <var>playerId</var> est\n          <const>-1</const> pour les tuiles qui n'ont pas encore t choisies.\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Sortie</div>\n      <div class=\"text\">\n        <p>\n          <span class=\"statement-lineno\">Ligne &nbsp;: </span><action>PUT</action> <var>x</var> <var>y</var>\n          <var>rotation</var>&nbsp;:\n        </p>\n        <ul>\n          <li><var>x</var> et <var>y</var> sont l'emplacement du premier carr de la tuile.</li>\n          <li>\n            <var>rotation</var> dtermine l'emplacement du second carr&nbsp;: <const>0</const> est  droite du premier carr,\n            <const>1</const> en-dessous, <const>2</const>  gauche, <const>3</const> au-dessus.<br />\n            <img src=\"https://i.imgur.com/DZIOUIi.png\" alt=\"Exemples de rotation\" /><!-- rotation.png-->\n          </li>\n          <li>\n            Dans le cas o il n'existe aucun placement valide pour cette tuile, les valeurs sur cette ligne sont ignores -\n            cependant la ligne doit toujours tre remplie suivant le format attendu.\n          </li>\n          <li>\n            Dans les ligues Bois, les actions <action>PUT</action> invalides provoquent une dfausse de la tuile.\n          </li>\n        </ul>\n        <p>\n          <span class=\"statement-lineno\">Ligne &nbsp;: </span><action>PICK</action> <var>tileId</var> <var>message</var>&nbsp;: le\n          numro d'identification de la tuile choisie et un message facultatif  afficher.\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Contraintes</div>\n      <div class=\"text\">\n        <ul>\n          <li>Les deux commandes doivent toujours tre donnes et formates correctement  chaque tour.</li>\n          <li>Lors du premier tour, les valeurs de la commande <action>PUT</action> sont ignores.</li>\n          <li>Lors du dernier tour, les valeurs de la commande <action>PICK</action> sont ignores.</li>\n          <li>\n            Les commandes mal formates et les commandes <action>PICK</action> invalides mettent fin  la partie du joueur.\n            Le score reste pris en compte  la fin de la partie.\n          </li>\n        </ul>\n      </div>\n      <div class=\"text\">\n        <p>Vous avez <const>1000</const> ms pour rpondre au premier tour.</p>\n        <p>Vous avez <const>50</const> ms pour rpondre lors des tours suivants.</p>\n      </div>\n    </div>\n  </div>\n\n  <!-- STORY -->\n  <div class=\"statement-story-background\">\n    <div class=\"statement-story-cover\">\n      <div class=\"statement-story\" style=\"min-height: 300px; position: relative\">\n        <h1>Coders of the Realm</h1>\n        <div class=\"story-text\">\n          <p>\n            Revenu victorieux de sa dernire campagne, le roi accorde des terrains  ses loyaux seigneurs en rcompense\n            de leur participation aux batailles. Afin d'viter de semer la discorde entre eux, le roi a invent une\n            manire de s'assurer que chaque seigneur reoive quitablement des terrains riches et pauvres.\n          </p>\n          <p>\n            Pourtant, si vous tes plus astucieux que les autres seigneurs, vous pourriez bien parvenir  btir pour\n            vous le meilleur domaine !\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n",
            "2": "<!-- Autogenerated file! Do not edit directly. --><!-- LEAGUES level1 level2 level3 level4 -->\n<!-- images stored on https://imgur.com/a/Jjc0kAj -->\n<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <!-- LEAGUE ALERT -->\n  <div\n    style=\"color: #7cc576;\n    background-color: rgba(124, 197, 118,.1);\n    padding: 20px;\n    margin-right: 15px;\n    margin-left: 15px;\n    margin-bottom: 10px;\n    text-align: left;\"\n  >\n    <div style=\"text-align: center; margin-bottom: 6px\">\n      <img src=\"//cdn.codingame.com/smash-the-code/statement/league_wood_04.png\" />\n    </div>\n\n    <p style=\"text-align: center; font-weight: 700; margin-bottom: 6px;\">\n      This is a <b>league based</b> challenge.\n    </p>\n    <span class=\"statement-league-alert-content\">\n      <p>\n        Wood leagues should be considered as a tutorial which lets players discover the different rules of the game.\n      </p>\n      <p>In Bronze league, all rules will be unlocked and the real challenge will begin.</p>\n    </span>\n  </div>\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      <p>\n        This is a port of the board game <a href=\"http://www.blueorangegames.eu/pf/kingdomino/\">Kingdomino</a> by Bruno\n        Cathala and Cyril Bouquet.\n      </p>\n      <p>\n        The source code of the game is available <a href=\"https://gitlab.com/matthieu.dazy/cg-kingdomino/-/tree/master\">here</a>.\n      </p>\n      <p>\n        The goal is to build the wealthiest territory by carefully choosing and placing land tiles, thus creating the\n        largest and richest connected zones.\n      </p>\n      <p>\n        The tile textures are from\n        <a href=\"https://opengameart.org/content/big-pack-of-hand-painted-tiling-textures\">this OpenGameArt pack</a>.\n      </p>\n      <p>\n        The logo has been generated on <a href=\"http://renderforest.com\"/>Render Forest</a>.\n      </p>\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        <h2>Tiles</h2>\n        <p>\n          The game is played with land tiles. Each tile is a domino with two squares. There are 6 different terrain\n          type: corn field, forest, grassland, lake, wetland and mine. Each square may also contain up to 3 crowns that\n          will reinforce the value of the zone containing the square.\n        </p>\n        <p>\n          Each tile has a unique ID, roughly indicating its \"value\". Tiles with more crowns or rare terrain types have\n          larger IDs, whereas tiles with common terrain types and few or no crowns have lower IDs.\n        </p>\n        <p>\n          Players build their own, separate territory, starting from their castle and expanding by placing new land\n          tiles next to existing land, thus creating connected zones of the same terrain type.\n        </p>\n        <p>\n          The game contains a fixed set of 48 tiles, distributed in sets over several turns. Each tile is therefore\n          available only once in the game. In a 2- or 3-player game, only some of the tiles are put in play, so some\n          tiles may not appear at all during the game.\n        </p>\n        <p>\n          The full list of tiles is available <a href=\"https://gitlab.com/matthieu.dazy/cg-kingdomino/-/blob/master/src/main/resources/tiles.csv\">here</a>\n          as a CSV file.\n        </p> \n\n        <h2>Game turn</h2>\n        <p>\n          On each turn, each player executes a sequence of two actions:\n        </p>\n        <ul>\n          <li><action>PUT</action> a tile on their territory</li>\n          <li><action>PICK</action> the tile they will play on the next turn</li>\n        </ul>\n        <p>\n          The order of play in each turn is determined by the value of the chosen tiles, as explained below in the Tile\n          choice rules section. On the first turn, the order is that of the IDE.\n        </p>\n        <p>\n          In a 2-player game, 4 tiles are available for each turn and each player plays twice, excuting two separate and\n          independent sequences of <action>PUT</action> + <action>PICK</action> actions. On the first turn, players do\n          this alternatively (first player, second player, first player, second player). On subsequent turns, the order\n          changes according to the picked tiles.\n        </p>\n\n        <h2>Tile placement rules</h2>\n        <ul>\n          <li>Tiles may be rotated in any orientation.</li>\n          <li>Tiles may not overlap the castle.</li>\n          <li>\n            The horizontal and vertical extent of the resulting territory must not exceed <const>5</const> squares.\n          </li>\n          <li>If a tile cannot be placed according to these constraints, it is discarded.</li>\n          <li>There is no tile placement on the first turn.</li>\n        </ul>\n        <img src=\"https://i.imgur.com/5wXKSF2.png\" alt=\"Examples of valid placement\" /><br />\n        <!-- wood3Valid.png -->\n        <img src=\"https://i.imgur.com/QyZGDH7.png\" alt=\"Examples of invalid placement\" /><br />\n        <!-- wood3Invalid.png -->\n\n        <h2>Tile choice rules</h2>\n        <ul>\n          <li>Several new tiles are available for pick on each turn: 4 for a 2- or 4-player game and 3 for a 3-player game.</li>\n          <li>\n            Each tile can be chosen by only one player: the first player has the most choice, the others have to pick\n            from whatever is left.\n          </li>\n          <li>\n            The tiles are ordered by ascending ID: on the following turn, the player who picked the tile with the lowest\n            ID will play first (and get the largest choice from the new tiles), whereas the player who picked the tile\n            with the highest ID will play last. For 2 players this means that players may perform their put+pick\n            sequences sequentially or alternately, depending on the IDs order.\n          </li>\n          <li>There is no tile choice on the last turn.</li>\n        </ul>\n\n        <h2>Scoring</h2>\n        <ul>\n          <li>The game always lasts exactly 7 turns for a 2-player game and 13 turns for a 3- or 4-player game.</li>\n          <li>\n            Each player's territory is composed of several connected zones, each of a specific terrain type. Each zone has a\n            value equal to its size (in number of squares) multiplied by the number of crowns contained in that zone.\n          </li>\n          <li>A zone containing no crowns is thus worth zero points.</li>\n          <li>The full score of a player's territory is the sum of the scores of all zones in that territory.</li>\n          <li>\n            In case of a score tie, the players with the largest territory (in number of squares) each receive one extr\n            point for tie-breaking.\n          </li>\n          <li>\n            In case of a second score tie, the players with the largest number of crowns each receive one extra point for\n            tie-breaking.\n          </li>\n          <li>After that, players may be tied for good.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- Win conditions -->\n  <div class=\"statement-victory-conditions\">\n    <div class=\"icon victory\"></div>\n    <div class=\"blk\">\n      <div class=\"title\">Victory Conditions</div>\n      <div class=\"text\">\n        <ul>\n          <li>Be the player with the largest score.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- Lose conditions -->\n  <div class=\"statement-lose-conditions\">\n    <div class=\"icon lose\"></div>\n    <div class=\"blk\">\n      <div class=\"title\">Defeat Conditions</div>\n      <div class=\"text\">\n        <ul>\n          <li>Have a lower score.</li>\n          <li>Output an invalid <action>PICK</action> action.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n    </h1>\n\n    <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"text\">\n        <strong>Game initialization</strong>:\n        <p><span class=\"statement-lineno\">Line 1: </span><var>nbPlayers</var>: the number of players.</p>\n        <p>\n          <span class=\"statement-lineno\">Line 2: </span><var>nbTiles</var>: the number of tiles in play each turn.\n          This is <const>4</const> for 2- and 4-player games and <const>3</const> for 3-player games.\n        </p>\n        <strong>For each turn</strong>:\n        <p>\n          <span class=\"statement-lineno\"><var>nbPlayers</var> times <const>9</const> lines</span>: each player's grid.\n          <strong>Your grid is always the first one</strong>. Each line is composed of <const>9</const> sets of\n          <const>2</const> chars representing a single grid square:\n        </p>\n        <ul>\n          <li>\n            One char representing the terrain type: empty (<const>_</const>), castle (<const>*</const>), corn field\n            (<const>c</const>), forest (<const>f</const>), grassland (<const>g</const>), lake (<const>l</const>),\n            wetland (<const>w</const>) or mine (<const>m</const>).\n          </li>\n          <li>One char between <const>0</const> and <const>3</const> for the number of crowns on that square.</li>\n          <li>The castle is always located at the center of the grid.</li>\n        </ul>\n        <p>\n          <strong>IMPORTANT:</strong> the grid given in input is larger than what the viewer displays. The viewer only\n          shows a subwindow of the grid that fits the maximal allowed extent.\n        </p>\n        <p>\n          <span class=\"statement-lineno\"><var>nbTiles</var> next lines: </span><var>tileId</var> <var>firstSquare</var>\n          <var>secondSquare</var> <var>playerId</var> <var>current</var>: the ID of a tile being placed that turn, the\n          two squares of the tile, in the same format as in the grid, the ID of the player who places that tile and a\n          flag showing the tile in play this turn. <strong>You always have player ID 0</strong>. <var>playerId</var> may\n          be <const>-1</const> in case a tile has not been picked during the previous turn. <var>current</var> is\n          <const>1</const> for the tile in play this turn, <const>0</const> for the other tiles.\n        </p>\n        <p>\n          <span class=\"statement-lineno\"><var>nbTiles</var> next lines: </span><var>tileId</var> <var>firstSquare</var>\n          <var>secondSquare</var> <var>playerId</var>: the tiles to be picked for the next turn. <var>playerId</var> is\n          <const>-1</const> for tiles that are still available for picking.\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <p>\n          <span class=\"statement-lineno\">Line 1: </span><action>PUT</action> <var>x</var> <var>y</var>\n          <var>rotation</var>:\n        </p>\n        <ul>\n          <li><var>x</var> and <var>y</var> are the location of the first square of the tile.</li>\n          <li>\n            <var>rotation</var> determines the location of the second square: <const>0</const> is on the right of the\n            first square, <const>1</const> is below, <const>2</const> is on the left, <const>3</const> is above.<br />\n            <img src=\"https://i.imgur.com/DZIOUIi.png\" alt=\"Examples of rotation\" /><!-- rotation.png-->\n          </li>\n          <li>\n            In the case where there is no valid placement for the tile, values on this line are ignored - however the\n            line still needs to be given with the expected format.\n          </li>\n          <li>\n            In Wood leagues, invalid <action>PUT</action> commands will cause the tile in play to be discarded.\n          </li>\n        </ul>\n        <p>\n          <span class=\"statement-lineno\">Line 2: </span><action>PICK</action> <var>tileId</var> <var>message</var>: the\n          ID of the picked tile and an optional message to be displayed in the viewer.\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\">\n        <ul>\n          <li>Both commands must always be given and correctly formatted on every turn.</li>\n          <li>On the first turn, the values given to the <action>PUT</action> command are ignored.</li>\n          <li>On the last turn, the value given to the <action>PICK</action> command is ignored.</li>\n          <li>\n            Badly formatted commands and invalid <action>PICK</action> actions will end the player's game. The score is still taken into account\n            at the end of the game.\n          </li>\n        </ul>\n      </div>\n      <div class=\"text\">\n        <p>You have <const>1000</const> ms to answer on the first turn.</p>\n        <p>You have <const>50</const> ms to answer during the rest of the game.</p>\n      </div>\n    </div>\n  </div>\n\n  <!-- STORY -->\n  <div class=\"statement-story-background\">\n    <div class=\"statement-story-cover\">\n      <div class=\"statement-story\" style=\"min-height: 300px; position: relative\">\n        <h1>Coders of the Realm</h1>\n        <div class=\"story-text\">\n          <p>\n            After his last victorious conquest, the king is granting territories to his faithful lords as a reward\n            for their participation in the battles. In order to avoid strife among them, the king has designed a way\n            to ensure each lord gets a fair mix of the richer and poorer lands.\n          </p>\n          <p>\n            Yet, if you are more cunning than the other lords, you might still be able to build the best land for\n            yourself!\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"
          },
          "questionType": "multi",
          "stubGenerator": "read nbPlayers:int\r\nread nbTiles:int\r\ngameloop\r\nloop nbPlayers loop 9 read gridLine:word(18)\r\nloop nbTiles read curTileId:int curFirstSquare:word(2) curSecondSquare:word(2) curPlayerId:int current:int\r\nloop nbTiles read nextTileId:int nextFirstSquare:word(2) nextSecondSquare:word(2) nextPlayerId:int\r\nwrite PUT 0 0 0\r\nPICK 1\r\n\r\nSTATEMENT\r\nPlace and pick tiles to build the richest land.\r\nYou always have player id 0 and your grid is always given first.\r\n\r\nINPUT\r\nnbPlayers: the number of players in the game\r\nnbTiles: the number of tiles in play each turn\r\ncurTileId: id of a tile being played this turn\r\ncurFirstSquare: first square of a tile being played this turn\r\ncurSecondSquare: second square of a tile being played this turn\r\ncurPlayerId: id of the player who will place that tile\r\ncurrent: 1 if the tile is in play this turn, 0 otherwise\r\nmyTileId: id of the tile you are playing this turn\r\nmyFirstSquare: first square of the tile you are playing this turn\r\nmySecondSquare: second square of the tile you are playing this turn\r\nnextTileId: id of a tile to be picked for next turn\r\nnextFirstSquare: first square of a tile to be picked for next turn\r\nnextSecondSquare: second square of a tile to be picked for next turn\r\nnextPlayerId: id of the player who has picked that tile, -1 if the tile has not been picked yet\r\n\r\nOUTPUT\r\nPUT x y rotation\r\nPICK tileId\r\n",
          "welcomePopups": {
            "1": "<div style=\"text-align:center\">\r\n  <h2>Bienvenue !</h2>\r\n  Dans cette premire ligue, vous apprendrez les commandes de base <keyword>PUT</keyword> et <keyword>PICK</keyword>\r\n  pour placer et choisir des tuiles.\r\n  <div class=\"small\">Voir les rgles pour plus de dtails.</div>\r\n</div>\r\n",
            "2": "<div style=\"text-align:center\">\r\n  <h2>Welcome!</h2>\r\n  In this first league you will learn the basic rules to <keyword>PUT</keyword> and <keyword>PICK</keyword> tiles.\r\n  <div class=\"small\">See the statement for details.</div>\r\n</div>\r\n"
          },
          "aiCodeExtension": "java",
          "criteriaLanguageMap": {}
        },
        "1": {
          "aiCode": "import java.util.Scanner;\r\n\r\nclass Player {\r\n\r\n  public static void main(String[] args) {\r\n    Scanner scanner = new Scanner(System.in);\r\n\r\n    int putX = 0;\r\n    int putY = 0;\r\n    int putR = 0;\r\n\r\n    // read initial input\r\n    int nbPlayers = scanner.nextInt();\r\n    int size = 5;\r\n    int largeSize = 2 * size - 1;\r\n    int nbTiles = scanner.nextInt();\r\n    scanner.nextLine();\r\n    System.err.println(String.format(\"%d players, grid size is %d\", nbPlayers, size));\r\n\r\n    while (true) {\r\n      // read grids for all players\r\n      // your grid is always first\r\n      final String myGrid[] = new String[largeSize];\r\n      for (int y = 0; y < 2 * (size - 1) + 1; y++) {\r\n        myGrid[y] = scanner.nextLine();\r\n        System.err.println(myGrid[y]);\r\n      }\r\n      System.err.println();\r\n\r\n      // read other player's grids\r\n      for (int i = 0; i < nbPlayers - 1; i++) {\r\n        for (int y = 0; y < 2 * (size - 1) + 1; y++) {\r\n          scanner.nextLine();\r\n        }\r\n      }\r\n\r\n      // read current tiles\r\n      int curId = -1;\r\n      for (int i = 0; i < nbTiles; i++) {\r\n        final int tileId = scanner.nextInt();\r\n        final String first = scanner.next();\r\n        final String second = scanner.next();\r\n        final int playerId = scanner.nextInt();\r\n        final int current = scanner.nextInt();\r\n        if (current == 1) {\r\n          // active tile\r\n          curId = tileId;\r\n        }\r\n        scanner.nextLine();\r\n      }\r\n\r\n      // read next tiles\r\n      // pick the first unused one\r\n      int pick = 0;\r\n      for (int i = 0; i < nbTiles; i++) {\r\n        final int tileId = scanner.nextInt();\r\n        final String first = scanner.next();\r\n        final String second = scanner.next();\r\n        final int playerId = scanner.nextInt();\r\n        scanner.nextLine();\r\n        if (playerId < 0) {\r\n          pick = tileId;\r\n        }\r\n      }\r\n\r\n      // output\r\n      System.out.println(String.format(\"PUT %d %d %d\", putX, putY, putR));\r\n      System.out.println(String.format(\"PICK %d\", pick));\r\n\r\n      if (curId >= 0) {\r\n        if (putR == 0) {\r\n          putX += 2;\r\n          if (putX >= size - 1) {\r\n            putX = 0;\r\n            putY++;\r\n          }\r\n          if (putY >= size) {\r\n            putX = size - 1;\r\n            putY = 0;\r\n            putR = 1;\r\n          }\r\n        } else {\r\n          putY += 2;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n",
          "testCases": [],
          "maxPlayers": 4,
          "minPlayers": 2,
          "statements": {
            "1": "<!-- Autogenerated file! Do not edit directly. --><!-- LEAGUES level1 level2 level3 level4 -->\n<div id=\"statement_back\" class=\"statement_back\" style=\"displa&nbsp;:none\"></div>\n<div class=\"statement-body\">\n  <!-- LEAGUE ALERT -->\n  <div\n    style=\"color: #7cc576;\n    background-color: rgba(124, 197, 118,.1);\n    padding: 20px;\n    margin-right: 15px;\n    margin-left: 15px;\n    margin-bottom: 10px;\n    text-align: left;\"\n  >\n    <div style=\"text-align: center; margin-bottom: 6px\">\n      <img src=\"//cdn.codingame.com/smash-the-code/statement/league_wood_04.png\" />\n    </div>\n\n    <p style=\"text-align: center; font-weight: 700; margin-bottom: 6px;\">\n      Bienvenue en ligue Bois 2 !\n    </p>\n    <span class=\"statement-league-alert-content\">\n      <p>\n        Il est dsormais interdit de placer une tuile par-dessus une autre&nbsp;: les deux moitis de chaque tuile\n        doivent occuper une place qui tait vide auparavant.\n      </p>\n    </span>\n  </div>\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>Objectif</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      <p>\n        Ceci est une adaptation du jeu de plateau <a href=\"htt&nbsp;://www.blueorangegames.eu/pf/kingdomino_fr/\">Kingdomino</a> de\n        Bruno Cathala et Cyril Bouquet.\n      </p>\n      <p>\n        Le code source du jeu est disponible <a href=\"https://gitlab.com/matthieu.dazy/cg-kingdomino/-/tree/master\">ici</a>.\n      </p>\n      <p>\n        L'objectif est de btir le territoire le plus riche en choisissant et en plaant judicieusement des tuiles de terrain\n        afin de crer les zones contigus les plus grandes et les plus riches.\n      </p>\n      <p>\n        Les textures de tuiles proviennent de\n        <a href=\"http&nbsp;://opengameart.org/content/big-pack-of-hand-painted-tiling-textures\">ce paquet OpenGameArt</a>.\n      </p>\n      <p>\n        Le logo a t gnr sur <a href=\"http://renderforest.com\"/>Render Forest</a>.\n      </p>\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rgles</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        <h2>Les tuiles</h2>\n        <p>\n          Le jeu se joue avec des tuiles de terrain. Chaque tuile est un domino comportant deux carrs. Il existe 6\n          types de terrain diffrent&nbsp;: champ de bl, fort, prairie, lac, marais et mine. Chaque carr peut galement\n          comporter jusque 3 couronnes qui augmentent la valeur de la zone qui contient ce carr.\n        </p>\n        <p>\n          Chaque tuile a un numro d'identification unique, qui est galement un indicateur sommaire de sa \"valeur\". Les\n          tuiles avec plus de couronnes ont des numros plus levs, tandis que les tuiles avec les types de terrain les\n          plus courants et moins ou pas de couronnes portent des numros plus bas.\n        </p>\n        <p>\n          Chaque joueur btit son propre territoire indpendamment,  partir de son chteau. Il l'tend en plaant de\n          nouvelles tuiles  ct de terrains dj en place, crant ainsi des zones contigus d'un mme type de terrain.\n        </p>\n        <p>\n          Le jeu se compose d'un ensemble dfini de 48 tuiles, qui seront distribues par lots sur plusieurs tours de jeu.\n          Ainsi chaque tuile ne sera disponible qu'une seule fois au cours de la partie. Lors d'une partie  2 ou 3 joueurs,\n          une partie des tuiles n'est pas mise en jeu et ne sera donc pas disponible du tout au cours de la partie.\n        </p>\n        <p>\n          La liste des tuiles est disponible <a href=\"https://gitlab.com/matthieu.dazy/cg-kingdomino/-/blob/master/src/main/resources/tiles.csv\">ici</a>\n          sous forme de fichier CSV.\n        </p>\n\n        <h2>Tour de jeu</h2>\n        <p>\n           son tour, chaque joueur effectue deux actions&nbsp;:\n        </p>\n        <ul>\n          <li><action>PUT</action> pour placer une tuile sur son territoire</li>\n          <li><action>PICK</action> pour choisir la tuile qu'il jouera au tour suivant</li>\n        </ul>\n        <p>\n          L'ordre des joueurs dans un tour est dtermin par la valeur des tuiles choisies, comme indiqu ci-dessous \n          dans la section Rgles de choix des tuiles. Au premier tour, l'ordre est celui des joueurs dans l'interface.\n        </p>\n        <p>\n          Dans une partie  2 joueurs, 4 tuiles sont disponibles pour chaque tour, et chaque joueur effectue\n          sparement deux sries indpendantes d'actions <action>PUT</action> + <action>PICK</action>. Au premier tour\n          les joueurs sont alterns (premier, deuxime, premier, deuxime). Lors des tours suivants, l'ordre changera\n          en fonction des tuiles choisies.\n        </p>\n\n        <h2>Rgles de placement des tuiles</h2>\n        <ul>\n          <li>Les tuiles peuvent tre tournes dans n'importe quelle direction.</li>\n          <li>Les tuiles ne peuvent pas recouvrir le chteau.</li>\n          <li>Les tuiles ne peuvent pas recouvrir d'autres tuiles.</li>\n          <li>\n            L'extension horizontale et verticale du territoire ne doit pas excder <const>5</const> carrs.\n          </li>\n          <li>Si une tuile ne peut tre place nulle part avec ces restrictions, elle est dfausse.</li>\n          <li>Il n'y a pas de placement de tuile lors du premier tour.</li>\n        </ul>\n        <img src=\"https://i.imgur.com/Ku1dUgn.png\" alt=\"Exemples de placement de tuiles valides\" /><br />\n        <!-- wood2Valid.png -->\n        <img src=\"https://i.imgur.com/VTjk73K.png\" alt=\"Exemples de placement de tuiles interdits\" /><br />\n        <!-- wood2Invalid.png -->\n\n        <h2>Rgles de choix des tuiles</h2>\n        <ul>\n          <li>\n            Plusieurs nouvelles tuiles sont disponibles  chaque tour&nbsp;: 4 pour une partie  2 ou 4 joueurs et 3\n            pour une partie  trois joueurs.\n          </li>\n          <li>\n            Chaque tuile ne peut tre choisie que par un seul joueur&nbsp;: le premier joueur dispose du plus large choix,\n            les suivants doivent choisir parmi les tuiles restantes.\n          </li>\n          <li>\n            Les tuiles sont tries par numro d'identification croissant&nbsp;: au tour suivant, le joueur qui a choisi la\n            tuile avec le numro le plus bas jouera en premier (et aura donc le plus grand choix parmi les nouvelles\n            tuiles), tandis que le joueur qui a choisi la tuile avec le numro le plus lev jouera en dernier.  2\n            joueurs, cela implique que les joueurs peuvent effectuer leurs squences <action>PUT</action> +\n            <action>PICK</action> l'une aprs l'autre ou bien en alternance, en fonction de l'ordre des tuiles.\n          </li>\n          <li>Il n'y a pas de choix de tuile lors du dernier tour.</li>\n        </ul>\n\n        <h2>Score</h2>\n        <ul>\n          <li>La partie dure exactement 7 tours pour une partie  2 joueurs et 13 pour une partie  3 ou 4 joueurs.</li>\n          <li>\n            Le territoire de chaque joueur est compos de plusieurs zones contigus, chacune d'un type de terrain donn.\n            Chaque zone rapporte un nombre de points gal  sa taille (en nombre de carrs) mutliplie par le nombre de\n            couronnes contenues dans la zone.\n          </li>\n          <li>Une zone ne contenant aucune couronne ne rapporte donc aucun point.</li>\n          <li>Le score final d'un joueur est le total des scores de chacune des zones dans son territoire.</li>\n          <li>\n            En cas d'galit, les joueurs avec le plus grand territoire (en nombre de carrs) reoivent chacun un point\n            supplmentaire pour les dpartager.\n          </li>\n          <li>\n            En cas d'une seconde galit, les joueurs avec le plus grand nombre de couronnes reoivent chacun un point\n            supplmentaire pour les dpartager.\n          </li>\n          <li>En cas de troisime galit, les joueurs sont ex aequo.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- Win conditions -->\n  <div class=\"statement-victory-conditions\">\n    <div class=\"icon victory\"></div>\n    <div class=\"blk\">\n      <div class=\"title\">Conditions de victoire</div>\n      <div class=\"text\">\n        <ul>\n          <li>Avoir le plus grand score.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- Lose conditions -->\n  <div class=\"statement-lose-conditions\">\n    <div class=\"icon lose\"></div>\n    <div class=\"blk\">\n      <div class=\"title\">Conditions< de dfaite</div>\n      <div class=\"text\">\n        <ul>\n          <li>Avoir un score infrieur.</li>\n          <li>Effectuer une action <action>PICK</action> invalide.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Protocole du jeu</span>\n    </h1>\n\n    <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"text\">\n        <strong>Entre d'initialisation</strong>&nbsp;:\n        <p><span class=\"statement-lineno\">Ligne 1&nbsp;: </span><var>nbPlayers</var>&nbsp;: le nombre de joueurs.</p>\n        <p>\n          <span class=\"statement-lineno\">Ligne 2&nbsp;: </span><var>nbTiles</var>&nbsp;: le nombre de tuiles en jeu chaque tour.\n          <const>4</const> pour une partie  2 ou 4 joueurs et <const>3</const> pour une partie  3 joueurs.\n        </p>\n        <strong>Pour chaque tour</strong>&nbsp;:\n        <p>\n          <span class=\"statement-lineno\"><var>nbPlayers</var> fois <const>9</const> lignes</span>&nbsp;: la grille de chaque\n          joueur.\n          <strong>Votre grille est toujours donne en premier</strong>. Chaque ligne se compose de <const>9</const>\n          groupes de <const>2</const> caractres reprsentant chacun un carr de la grille&nbsp;:\n        </p>\n        <ul>\n          <li>\n            Un caractre reprsentant le type de terrain&nbsp;: vide (<const>_</const>), chteau (<const>*</const>), champ de\n            mas (<const>c</const>), fort (<const>f</const>), prairie (<const>g</const>), lac (<const>l</const>),\n            marais (<const>w</const>) ou mine (<const>m</const>).\n          </li>\n          <li>Un caractre entre <const>0</const> et <const>3</const> pour le nombre de couronnes dans ce carr.</li>\n          <li>Le chteau est toujours plac au centre de la grille.</li>\n        </ul>\n        <p>\n          <strong>IMPORTANT&nbsp;:</strong> la grille donne en entre est plus grande que ce qui est affich  l'cran.\n          L'affichage ne montre qu'une portion de la grille correspondant  l'extension maximale autorise.\n        </p>\n        <p>\n          <span class=\"statement-lineno\"><var>nbTiles</var> lignes suivantes&nbsp;: </span><var>tileId</var> <var>firstSquare</var>\n          <var>secondSquare</var> <var>playerId</var> <var>current</var>&nbsp;: le numro d'une tuile place lors de ce tour de\n          table, les deux carrs de cette tuile, dans le mme format que pour la grille, le numro du joueur qui place cette\n          tuile et un indicateur de la tuile en jeu pour ce tour de joueur. <strong>Votre joueur a toujours le numro\n          0</strong>. <var>playerId</var> peut tre <const>-1</const> si une tuile n'a pas t slectionne lors du tour\n          prcdent. <var>current</var> est <const>1</const> pour la tuile en jeu ce tour, <const>0</const> pour les autres\n          tuiles.\n        </p>\n        <p>\n          <span class=\"statement-lineno\"><var>nbTiles</var> lignes suivantes&nbsp;: </span><var>tileId</var> <var>firstSquare</var>\n          <var>secondSquare</var> <var>playerId</var>&nbsp;: les tuiles  choisir pour le tour suivant. <var>playerId</var> est\n          <const>-1</const> pour les tuiles qui n'ont pas encore t choisies.\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Sortie</div>\n      <div class=\"text\">\n        <p>\n          <span class=\"statement-lineno\">Ligne &nbsp;: </span><action>PUT</action> <var>x</var> <var>y</var>\n          <var>rotation</var>&nbsp;:\n        </p>\n        <ul>\n          <li><var>x</var> et <var>y</var> sont l'emplacement du premier carr de la tuile.</li>\n          <li>\n            <var>rotation</var> dtermine l'emplacement du second carr&nbsp;: <const>0</const> est  droite du premier carr,\n            <const>1</const> en-dessous, <const>2</const>  gauche, <const>3</const> au-dessus.<br />\n            <img src=\"https://i.imgur.com/DZIOUIi.png\" alt=\"Exemples de rotation\" /><!-- rotation.png-->\n          </li>\n          <li>\n            Dans le cas o il n'existe aucun placement valide pour cette tuile, les valeurs sur cette ligne sont ignores -\n            cependant la ligne doit toujours tre remplie suivant le format attendu.\n          </li>\n          <li>\n            Dans les ligues Bois, les actions <action>PUT</action> invalides provoquent une dfausse de la tuile.\n          </li>\n        </ul>\n        <p>\n          <span class=\"statement-lineno\">Ligne &nbsp;: </span><action>PICK</action> <var>tileId</var> <var>message</var>&nbsp;: le\n          numro d'identification de la tuile choisie et un message facultatif  afficher.\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Contraintes</div>\n      <div class=\"text\">\n        <ul>\n          <li>Les deux commandes doivent toujours tre donnes et formates correctement  chaque tour.</li>\n          <li>Lors du premier tour, les valeurs de la commande <action>PUT</action> sont ignores.</li>\n          <li>Lors du dernier tour, les valeurs de la commande <action>PICK</action> sont ignores.</li>\n          <li>\n            Les commandes mal formates et les commandes <action>PICK</action> invalides mettent fin  la partie du joueur.\n            Le score reste pris en compte  la fin de la partie.\n          </li>\n        </ul>\n      </div>\n      <div class=\"text\">\n        <p>Vous avez <const>1000</const> ms pour rpondre au premier tour.</p>\n        <p>Vous avez <const>50</const> ms pour rpondre lors des tours suivants.</p>\n      </div>\n    </div>\n  </div>\n\n  <!-- STORY -->\n  <div class=\"statement-story-background\">\n    <div class=\"statement-story-cover\">\n      <div class=\"statement-story\" style=\"min-height: 300px; position: relative\">\n        <h1>Coders of the Realm</h1>\n        <div class=\"story-text\">\n          <p>\n            Revenu victorieux de sa dernire campagne, le roi accorde des terrains  ses loyaux seigneurs en rcompense\n            de leur participation aux batailles. Afin d'viter de semer la discorde entre eux, le roi a invent une\n            manire de s'assurer que chaque seigneur reoive quitablement des terrains riches et pauvres.\n          </p>\n          <p>\n            Pourtant, si vous tes plus astucieux que les autres seigneurs, vous pourriez bien parvenir  btir pour\n            vous le meilleur domaine !\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n",
            "2": "<!-- Autogenerated file! Do not edit directly. --><!-- LEAGUES level1 level2 level3 level4 -->\n<!-- images stored on https://imgur.com/a/Jjc0kAj -->\n<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <!-- LEAGUE ALERT -->\n  <div\n    style=\"color: #7cc576;\n    background-color: rgba(124, 197, 118,.1);\n    padding: 20px;\n    margin-right: 15px;\n    margin-left: 15px;\n    margin-bottom: 10px;\n    text-align: left;\"\n  >\n    <div style=\"text-align: center; margin-bottom: 6px\">\n      <img src=\"//cdn.codingame.com/smash-the-code/statement/league_wood_04.png\" />\n    </div>\n\n    <p style=\"text-align: center; font-weight: 700; margin-bottom: 6px;\">\n      Welcome to the Wood 2 league!\n    </p>\n    <span class=\"statement-league-alert-content\">\n      <p>\n        It is now forbidden to put a tile on top of another one: both squares of the put tile must\n        occupy a place that was previously empty.\n      </p>\n    </span>\n  </div>\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      <p>\n        This is a port of the board game <a href=\"http://www.blueorangegames.eu/pf/kingdomino/\">Kingdomino</a> by Bruno\n        Cathala and Cyril Bouquet.\n      </p>\n      <p>\n        The source code of the game is available <a href=\"https://gitlab.com/matthieu.dazy/cg-kingdomino/-/tree/master\">here</a>.\n      </p>\n      <p>\n        The goal is to build the wealthiest territory by carefully choosing and placing land tiles, thus creating the\n        largest and richest connected zones.\n      </p>\n      <p>\n        The tile textures are from\n        <a href=\"https://opengameart.org/content/big-pack-of-hand-painted-tiling-textures\">this OpenGameArt pack</a>.\n      </p>\n      <p>\n        The logo has been generated on <a href=\"http://renderforest.com\"/>Render Forest</a>.\n      </p>\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        <h2>Tiles</h2>\n        <p>\n          The game is played with land tiles. Each tile is a domino with two squares. There are 6 different terrain\n          type: corn field, forest, grassland, lake, wetland and mine. Each square may also contain up to 3 crowns that\n          will reinforce the value of the zone containing the square.\n        </p>\n        <p>\n          Each tile has a unique ID, roughly indicating its \"value\". Tiles with more crowns or rare terrain types have\n          larger IDs, whereas tiles with common terrain types and few or no crowns have lower IDs.\n        </p>\n        <p>\n          Players build their own, separate territory, starting from their castle and expanding by placing new land\n          tiles next to existing land, thus creating connected zones of the same terrain type.\n        </p>\n        <p>\n          The game contains a fixed set of 48 tiles, distributed in sets over several turns. Each tile is therefore\n          available only once in the game. In a 2- or 3-player game, only some of the tiles are put in play, so some\n          tiles may not appear at all during the game.\n        </p>\n        <p>\n          The full list of tiles is available <a href=\"https://gitlab.com/matthieu.dazy/cg-kingdomino/-/blob/master/src/main/resources/tiles.csv\">here</a>\n          as a CSV file.\n        </p> \n\n        <h2>Game turn</h2>\n        <p>\n          On each turn, each player executes a sequence of two actions:\n        </p>\n        <ul>\n          <li><action>PUT</action> a tile on their territory</li>\n          <li><action>PICK</action> the tile they will play on the next turn</li>\n        </ul>\n        <p>\n          The order of play in each turn is determined by the value of the chosen tiles, as explained below in the Tile\n          choice rules section. On the first turn, the order is that of the IDE.\n        </p>\n        <p>\n          In a 2-player game, 4 tiles are available for each turn and each player plays twice, excuting two separate and\n          independent sequences of <action>PUT</action> + <action>PICK</action> actions. On the first turn, players do\n          this alternatively (first player, second player, first player, second player). On subsequent turns, the order\n          changes according to the picked tiles.\n        </p>\n\n        <h2>Tile placement rules</h2>\n        <ul>\n          <li>Tiles may be rotated in any orientation.</li>\n          <li>Tiles may not overlap the castle.</li>\n          <li>Tiles may not overlap existing territory.</li>\n          <li>\n            The horizontal and vertical extent of the resulting territory must not exceed <const>5</const> squares.\n          </li>\n          <li>If a tile cannot be placed according to these constraints, it is discarded.</li>\n          <li>There is no tile placement on the first turn.</li>\n        </ul>\n        <img src=\"https://i.imgur.com/Ku1dUgn.png\" alt=\"Examples of valid placement\" /><br />\n        <!-- wood2Valid.png -->\n        <img src=\"https://i.imgur.com/VTjk73K.png\" alt=\"Examples of invalid placement\" /><br />\n        <!-- wood2Invalid.png -->\n\n        <h2>Tile choice rules</h2>\n        <ul>\n          <li>Several new tiles are available for pick on each turn: 4 for a 2- or 4-player game and 3 for a 3-player game.</li>\n          <li>\n            Each tile can be chosen by only one player: the first player has the most choice, the others have to pick\n            from whatever is left.\n          </li>\n          <li>\n            The tiles are ordered by ascending ID: on the following turn, the player who picked the tile with the lowest\n            ID will play first (and get the largest choice from the new tiles), whereas the player who picked the tile\n            with the highest ID will play last. For 2 players this means that players may perform their put+pick\n            sequences sequentially or alternately, depending on the IDs order.\n          </li>\n          <li>There is no tile choice on the last turn.</li>\n        </ul>\n\n        <h2>Scoring</h2>\n        <ul>\n          <li>The game always lasts exactly 7 turns for a 2-player game and 13 turns for a 3- or 4-player game.</li>\n          <li>\n            Each player's territory is composed of several connected zones, each of a specific terrain type. Each zone has a\n            value equal to its size (in number of squares) multiplied by the number of crowns contained in that zone.\n          </li>\n          <li>A zone containing no crowns is thus worth zero points.</li>\n          <li>The full score of a player's territory is the sum of the scores of all zones in that territory.</li>\n          <li>\n            In case of a score tie, the players with the largest territory (in number of squares) each receive one extr\n            point for tie-breaking.\n          </li>\n          <li>\n            In case of a second score tie, the players with the largest number of crowns each receive one extra point for\n            tie-breaking.\n          </li>\n          <li>After that, players may be tied for good.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- Win conditions -->\n  <div class=\"statement-victory-conditions\">\n    <div class=\"icon victory\"></div>\n    <div class=\"blk\">\n      <div class=\"title\">Victory Conditions</div>\n      <div class=\"text\">\n        <ul>\n          <li>Be the player with the largest score.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- Lose conditions -->\n  <div class=\"statement-lose-conditions\">\n    <div class=\"icon lose\"></div>\n    <div class=\"blk\">\n      <div class=\"title\">Defeat Conditions</div>\n      <div class=\"text\">\n        <ul>\n          <li>Have a lower score.</li>\n          <li>Output an invalid <action>PICK</action> action.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n    </h1>\n\n    <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"text\">\n        <strong>Game initialization</strong>:\n        <p><span class=\"statement-lineno\">Line 1: </span><var>nbPlayers</var>: the number of players.</p>\n        <p>\n          <span class=\"statement-lineno\">Line 2: </span><var>nbTiles</var>: the number of tiles in play each turn.\n          This is <const>4</const> for 2- and 4-player games and <const>3</const> for 3-player games.\n        </p>\n        <strong>For each turn</strong>:\n        <p>\n          <span class=\"statement-lineno\"><var>nbPlayers</var> times <const>9</const> lines</span>: each player's grid.\n          <strong>Your grid is always the first one</strong>. Each line is composed of <const>9</const> sets of\n          <const>2</const> chars representing a single grid square:\n        </p>\n        <ul>\n          <li>\n            One char representing the terrain type: empty (<const>_</const>), castle (<const>*</const>), corn field\n            (<const>c</const>), forest (<const>f</const>), grassland (<const>g</const>), lake (<const>l</const>),\n            wetland (<const>w</const>) or mine (<const>m</const>).\n          </li>\n          <li>One char between <const>0</const> and <const>3</const> for the number of crowns on that square.</li>\n          <li>The castle is always located at the center of the grid.</li>\n        </ul>\n        <p>\n          <strong>IMPORTANT:</strong> the grid given in input is larger than what the viewer displays. The viewer only\n          shows a subwindow of the grid that fits the maximal allowed extent.\n        </p>\n        <p>\n          <span class=\"statement-lineno\"><var>nbTiles</var> next lines: </span><var>tileId</var> <var>firstSquare</var>\n          <var>secondSquare</var> <var>playerId</var> <var>current</var>: the ID of a tile being placed that turn, the\n          two squares of the tile, in the same format as in the grid, the ID of the player who places that tile and a\n          flag showing the tile in play this turn. <strong>You always have player ID 0</strong>. <var>playerId</var> may\n          be <const>-1</const> in case a tile has not been picked during the previous turn. <var>current</var> is\n          <const>1</const> for the tile in play this turn, <const>0</const> for the other tiles.\n        </p>\n        <p>\n          <span class=\"statement-lineno\"><var>nbTiles</var> next lines: </span><var>tileId</var> <var>firstSquare</var>\n          <var>secondSquare</var> <var>playerId</var>: the tiles to be picked for the next turn. <var>playerId</var> is\n          <const>-1</const> for tiles that are still available for picking.\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <p>\n          <span class=\"statement-lineno\">Line 1: </span><action>PUT</action> <var>x</var> <var>y</var>\n          <var>rotation</var>:\n        </p>\n        <ul>\n          <li><var>x</var> and <var>y</var> are the location of the first square of the tile.</li>\n          <li>\n            <var>rotation</var> determines the location of the second square: <const>0</const> is on the right of the\n            first square, <const>1</const> is below, <const>2</const> is on the left, <const>3</const> is above.<br />\n            <img src=\"https://i.imgur.com/DZIOUIi.png\" alt=\"Examples of rotation\" /><!-- rotation.png-->\n          </li>\n          <li>\n            In the case where there is no valid placement for the tile, values on this line are ignored - however the\n            line still needs to be given with the expected format.\n          </li>\n          <li>\n            In Wood leagues, invalid <action>PUT</action> commands will cause the tile in play to be discarded.\n          </li>\n        </ul>\n        <p>\n          <span class=\"statement-lineno\">Line 2: </span><action>PICK</action> <var>tileId</var> <var>message</var>: the\n          ID of the picked tile and an optional message to be displayed in the viewer.\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\">\n        <ul>\n          <li>Both commands must always be given and correctly formatted on every turn.</li>\n          <li>On the first turn, the values given to the <action>PUT</action> command are ignored.</li>\n          <li>On the last turn, the value given to the <action>PICK</action> command is ignored.</li>\n          <li>\n            Badly formatted commands and invalid <action>PICK</action> actions will end the player's game. The score is still taken into account\n            at the end of the game.\n          </li>\n        </ul>\n      </div>\n      <div class=\"text\">\n        <p>You have <const>1000</const> ms to answer on the first turn.</p>\n        <p>You have <const>50</const> ms to answer during the rest of the game.</p>\n      </div>\n    </div>\n  </div>\n\n  <!-- STORY -->\n  <div class=\"statement-story-background\">\n    <div class=\"statement-story-cover\">\n      <div class=\"statement-story\" style=\"min-height: 300px; position: relative\">\n        <h1>Coders of the Realm</h1>\n        <div class=\"story-text\">\n          <p>\n            After his last victorious conquest, the king is granting territories to his faithful lords as a reward\n            for their participation in the battles. In order to avoid strife among them, the king has designed a way\n            to ensure each lord gets a fair mix of the richer and poorer lands.\n          </p>\n          <p>\n            Yet, if you are more cunning than the other lords, you might still be able to build the best land for\n            yourself!\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"
          },
          "questionType": "multi",
          "stubGenerator": "read nbPlayers:int\r\nread nbTiles:int\r\ngameloop\r\nloop nbPlayers loop 9 read gridLine:word(18)\r\nloop nbTiles read curTileId:int curFirstSquare:word(2) curSecondSquare:word(2) curPlayerId:int current:int\r\nloop nbTiles read nextTileId:int nextFirstSquare:word(2) nextSecondSquare:word(2) nextPlayerId:int\r\nwrite PUT 0 0 0\r\nPICK 1\r\n\r\nSTATEMENT\r\nPlace and pick tiles to build the richest land.\r\nYou always have player id 0 and your grid is always given first.\r\n\r\nINPUT\r\nnbPlayers: the number of players in the game\r\nnbTiles: the number of tiles in play each turn\r\ncurTileId: id of a tile being played this turn\r\ncurFirstSquare: first square of a tile being played this turn\r\ncurSecondSquare: second square of a tile being played this turn\r\ncurPlayerId: id of the player who will place that tile\r\ncurrent: 1 if the tile is in play this turn, 0 otherwise\r\nmyTileId: id of the tile you are playing this turn\r\nmyFirstSquare: first square of the tile you are playing this turn\r\nmySecondSquare: second square of the tile you are playing this turn\r\nnextTileId: id of a tile to be picked for next turn\r\nnextFirstSquare: first square of a tile to be picked for next turn\r\nnextSecondSquare: second square of a tile to be picked for next turn\r\nnextPlayerId: id of the player who has picked that tile, -1 if the tile has not been picked yet\r\n\r\nOUTPUT\r\nPUT x y rotation\r\nPICK tileId\r\n",
          "welcomePopups": {
            "1": "<div style=\"text-align:center\">\r\n  <h2>Vous avez atteint la ligue suivante !</h2>\r\n  Il est dsormais intedit de placer une tuile par-dessus une autre.\r\n  <div class=\"small\">Voir les Rgles de placement des tuiles dans les nouvelles rgles pour plus de dtails.</div>\r\n  <img src=\"https://i.imgur.com/cedfLsG.png\" alt=\"Nouvelles rgles\" />\r\n  \r\n</div>\r\n",
            "2": "<div style=\"text-align:center\">\r\n  <h2>You have reached the next league!</h2>\r\n  It is now forbidden to <keyword>PUT</keyword> a tile on top of another one.\r\n  <div class=\"small\">See the Tile placement rules in the updated statement for details.</div>\r\n  <img src=\"https://i.imgur.com/cedfLsG.png\" alt=\"New rules\" />\r\n  \r\n</div>\r\n"
          },
          "aiCodeExtension": "java",
          "criteriaLanguageMap": {}
        },
        "2": {
          "aiCode": "import java.util.Scanner;\r\n\r\nclass Player {\r\n\r\n  public static void main(String[] args) {\r\n    Scanner scanner = new Scanner(System.in);\r\n\r\n    // read initial input\r\n    int nbPlayers = scanner.nextInt();\r\n    int size = 5;\r\n    int largeSize = 2 * size - 1;\r\n    int nbTiles = scanner.nextInt();\r\n    scanner.nextLine();\r\n    System.err.println(String.format(\"%d players, grid size is %d\", nbPlayers, size));\r\n\r\n    while (true) {\r\n      // read grids for all players\r\n      // your grid is always first\r\n      final String myGrid[] = new String[largeSize];\r\n      for (int y = 0; y < 2 * (size - 1) + 1; y++) {\r\n        myGrid[y] = scanner.nextLine();\r\n        System.err.println(myGrid[y]);\r\n      }\r\n      System.err.println();\r\n\r\n      // read other player's grids\r\n      for (int i = 0; i < nbPlayers - 1; i++) {\r\n        for (int y = 0; y < 2 * (size - 1) + 1; y++) {\r\n          scanner.nextLine();\r\n        }\r\n      }\r\n\r\n      // read current tiles\r\n      String curFirst = \"\";\r\n      String curSecond = \"\";\r\n      for (int i = 0; i < nbTiles; i++) {\r\n        final int tileId = scanner.nextInt();\r\n        String first = scanner.next();\r\n        String second = scanner.next();\r\n        final int playerId = scanner.nextInt();\r\n        final int current = scanner.nextInt();\r\n        if (current == 1) {\r\n          // active tile\r\n          curFirst = first;\r\n          curSecond = second;\r\n        }\r\n        scanner.nextLine();\r\n      }\r\n\r\n      final char type[] = { curFirst.charAt(0), curSecond.charAt(0) };\r\n      System.err.println(String.format(\"My tile: %c %c\", type[0], type[1]));\r\n\r\n      // read next tiles\r\n      // pick the first unused one\r\n      int pick = 0;\r\n      for (int i = 0; i < nbTiles; i++) {\r\n        final int tileId = scanner.nextInt();\r\n        String first = scanner.next();\r\n        String second = scanner.next();\r\n        final int playerId = scanner.nextInt();\r\n        scanner.nextLine();\r\n        System.err.println(String.format(\"next tile #%d: %d %s %s %d\", i, tileId, first, second, playerId));\r\n        if (playerId < 0) {\r\n          pick = tileId;\r\n        }\r\n      }\r\n\r\n      // find first possible placement\r\n      int putx = -1;\r\n      int puty = -1;\r\n      int putr = -1;\r\n      for (int x = 0; x < largeSize && putx < 0; x++) {\r\n        for (int y = 0; y < largeSize && putx < 0; y++) {\r\n          for (int r = 0; r < 4 && putx < 0; r++) {\r\n            // initial values are for rotation 0\r\n            final int u[] = { x, x + 1 };\r\n            final int v[] = { y, y };\r\n            switch (r) {\r\n              case 1:\r\n                {\r\n                  // second square is below first\r\n                  u[1] = u[0];\r\n                  v[1] = v[0] + 1;\r\n                  break;\r\n                }\r\n              case 2:\r\n                {\r\n                  // second square is on the left\r\n                  u[1] = u[0] - 1;\r\n                  break;\r\n                }\r\n              case 3:\r\n                {\r\n                  // second square is above\r\n                  u[1] = u[0];\r\n                  v[1] = v[0] - 1;\r\n                }\r\n            }\r\n\r\n            // first perform checks that do not need the tile to be placed\r\n            boolean hasValidNeighbor = false;\r\n            boolean valid = true;\r\n            for (int i = 0; i < 2; i++) {\r\n              // check boundaries\r\n              if (u[i] < 0 || u[i] >= largeSize || v[i] < 0 || v[i] >= largeSize) {\r\n                valid = false;\r\n                break;\r\n              }\r\n\r\n              // check emptiness\r\n              final char curType = myGrid[v[i]].charAt(u[i] * 2);\r\n              if (curType != '_') {\r\n                valid = false;\r\n                break;\r\n              }\r\n\r\n              // check connectivity\r\n              final int nu[] = { u[i] - 1, u[i], u[i] + 1, u[i] };\r\n              final int nv[] = { v[i], v[i] - 1, v[i], v[i] + 1 };\r\n              for (int j = 0; j < 4; j++) {\r\n                if (nu[j] == u[1 - i] && nv[j] == v[1 - i]) {\r\n                  // do not check against second half of tile\r\n                  continue;\r\n                }\r\n                if (nu[j] < 0 || nu[j] >= largeSize || nv[j] < 0 || nv[j] >= largeSize) {\r\n                  // neighbor is out of bounds\r\n                  continue;\r\n                }\r\n                final char neighborType = myGrid[nv[j]].charAt(nu[j] * 2);\r\n                if (neighborType == type[i] || neighborType == '*') {\r\n                  hasValidNeighbor = true;\r\n                  break;\r\n                }\r\n              }\r\n            }\r\n            if (!valid || !hasValidNeighbor) {\r\n              // neither half has a valid neighbor\r\n              continue;\r\n            }\r\n\r\n            // place tile\r\n            myGrid[v[0]] = myGrid[v[0]].substring(0, u[0] * 2) + type[0] + myGrid[v[0]].substring(u[0] * 2 + 1);\r\n            myGrid[v[1]] = myGrid[v[1]].substring(0, u[1] * 2) + type[1] + myGrid[v[1]].substring(u[1] * 2 + 1);\r\n\r\n            // check new extension is still within allowed limits\r\n            if (getMaxU(myGrid) - getMinU(myGrid) > size - 1 || getMaxV(myGrid) - getMinV(myGrid) > size - 1) {\r\n              // undo placement\r\n              myGrid[v[0]] = myGrid[v[0]].substring(0, u[0] * 2) + '_' + myGrid[v[0]].substring(u[0] * 2 + 1);\r\n              myGrid[v[1]] = myGrid[v[1]].substring(0, u[1] * 2) + '_' + myGrid[v[1]].substring(u[1] * 2 + 1);\r\n              continue;\r\n            }\r\n            putx = x;\r\n            puty = y;\r\n            putr = r;\r\n          }\r\n        }\r\n      }\r\n\r\n      // output\r\n      System.out.println(String.format(\"PUT %d %d %d\", putx, puty, putr));\r\n      System.out.println(String.format(\"PICK %d\", pick));\r\n    }\r\n  }\r\n\r\n  private static int getMinU(String grid[]) {\r\n    for (int u = 0; u < grid.length; u++) {\r\n      for (int v = 0; v < grid.length; v++) {\r\n        if (grid[v].charAt(u * 2) != '_') {\r\n          return u;\r\n        }\r\n      }\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  private static int getMaxU(String grid[]) {\r\n    for (int u = grid.length - 1; u >= 0; u--) {\r\n      for (int v = 0; v < grid.length; v++) {\r\n        if (grid[v].charAt(u * 2) != '_') {\r\n          return u;\r\n        }\r\n      }\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  private static int getMinV(String grid[]) {\r\n    for (int v = 0; v < grid.length; v++) {\r\n      for (int u = 0; u < grid.length; u++) {\r\n        if (grid[v].charAt(u * 2) != '_') {\r\n          return v;\r\n        }\r\n      }\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  private static int getMaxV(String grid[]) {\r\n    for (int v = grid.length - 1; v >= 0; v--) {\r\n      for (int u = 0; u < grid.length; u++) {\r\n        if (grid[v].charAt(u * 2) != '_') {\r\n          return v;\r\n        }\r\n      }\r\n    }\r\n    return 0;\r\n  }\r\n}\r\n",
          "testCases": [],
          "maxPlayers": 4,
          "minPlayers": 2,
          "statements": {
            "1": "<!-- Autogenerated file! Do not edit directly. --><!-- LEAGUES level1 level2 level3 level4 -->\n<div id=\"statement_back\" class=\"statement_back\" style=\"displa&nbsp;:none\"></div>\n<div class=\"statement-body\">\n  <!-- LEAGUE ALERT -->\n  <div\n    style=\"color: #7cc576;\n    background-color: rgba(124, 197, 118,.1);\n    padding: 20px;\n    margin-right: 15px;\n    margin-left: 15px;\n    margin-bottom: 10px;\n    text-align: left;\"\n  >\n    <div style=\"text-align: center; margin-bottom: 6px\">\n      <img src=\"//cdn.codingame.com/smash-the-code/statement/league_wood_04.png\" />\n    </div>\n\n    <p style=\"text-align: center; font-weight: 700; margin-bottom: 6px;\">\n      Bienvenue en ligue Bois 1 !\n    </p>\n    <span class=\"statement-league-alert-content\">\n      <p>\n        Les tuiles doivent dsormais tendre une zone existante, ou en crer une nouvelle prs du chteau&nbsp;: au moins une\n        des deux moitis de la tuile place doit se trouver  ct du chteau, ou  ct d'un autre carr du mme type\n        de terrain.\n      </p>\n      <p>\n        Notez que les deux moitis de la tuile place ne sont pas considres comme \"voisines\" l'une de l'autre dans ce\n        contexte&nbsp;: une tuile avec deux moitis du mme type de terrain doit quand mme tre place  ct d'un troisime\n        carr de ce mme type de terrain, ou bien  ct du chteau.\n      </p>\n    </span>\n  </div>\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>Objectif</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      <p>\n        Ceci est une adaptation du jeu de plateau <a href=\"htt&nbsp;://www.blueorangegames.eu/pf/kingdomino_fr/\">Kingdomino</a> de\n        Bruno Cathala et Cyril Bouquet.\n      </p>\n      <p>\n        Le code source du jeu est disponible <a href=\"https://gitlab.com/matthieu.dazy/cg-kingdomino/-/tree/master\">ici</a>.\n      </p>\n      <p>\n        L'objectif est de btir le territoire le plus riche en choisissant et en plaant judicieusement des tuiles de terrain\n        afin de crer les zones contigus les plus grandes et les plus riches.\n      </p>\n      <p>\n        Les textures de tuiles proviennent de\n        <a href=\"http&nbsp;://opengameart.org/content/big-pack-of-hand-painted-tiling-textures\">ce paquet OpenGameArt</a>.\n      </p>\n      <p>\n        Le logo a t gnr sur <a href=\"http://renderforest.com\"/>Render Forest</a>.\n      </p>\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rgles</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        <h2>Les tuiles</h2>\n        <p>\n          Le jeu se joue avec des tuiles de terrain. Chaque tuile est un domino comportant deux carrs. Il existe 6\n          types de terrain diffrent&nbsp;: champ de bl, fort, prairie, lac, marais et mine. Chaque carr peut galement\n          comporter jusque 3 couronnes qui augmentent la valeur de la zone qui contient ce carr.\n        </p>\n        <p>\n          Chaque tuile a un numro d'identification unique, qui est galement un indicateur sommaire de sa \"valeur\". Les\n          tuiles avec plus de couronnes ont des numros plus levs, tandis que les tuiles avec les types de terrain les\n          plus courants et moins ou pas de couronnes portent des numros plus bas.\n        </p>\n        <p>\n          Chaque joueur btit son propre territoire indpendamment,  partir de son chteau. Il l'tend en plaant de\n          nouvelles tuiles  ct de terrains dj en place, crant ainsi des zones contigus d'un mme type de terrain.\n        </p>\n        <p>\n          Le jeu se compose d'un ensemble dfini de 48 tuiles, qui seront distribues par lots sur plusieurs tours de jeu.\n          Ainsi chaque tuile ne sera disponible qu'une seule fois au cours de la partie. Lors d'une partie  2 ou 3 joueurs,\n          une partie des tuiles n'est pas mise en jeu et ne sera donc pas disponible du tout au cours de la partie.\n        </p>\n        <p>\n          La liste des tuiles est disponible <a href=\"https://gitlab.com/matthieu.dazy/cg-kingdomino/-/blob/master/src/main/resources/tiles.csv\">ici</a>\n          sous forme de fichier CSV.\n        </p>\n\n        <h2>Tour de jeu</h2>\n        <p>\n           son tour, chaque joueur effectue deux actions&nbsp;:\n        </p>\n        <ul>\n          <li><action>PUT</action> pour placer une tuile sur son territoire</li>\n          <li><action>PICK</action> pour choisir la tuile qu'il jouera au tour suivant</li>\n        </ul>\n        <p>\n          L'ordre des joueurs dans un tour est dtermin par la valeur des tuiles choisies, comme indiqu ci-dessous \n          dans la section Rgles de choix des tuiles. Au premier tour, l'ordre est celui des joueurs dans l'interface.\n        </p>\n        <p>\n          Dans une partie  2 joueurs, 4 tuiles sont disponibles pour chaque tour, et chaque joueur effectue\n          sparement deux sries indpendantes d'actions <action>PUT</action> + <action>PICK</action>. Au premier tour\n          les joueurs sont alterns (premier, deuxime, premier, deuxime). Lors des tours suivants, l'ordre changera\n          en fonction des tuiles choisies.\n        </p>\n\n        <h2>Rgles de placement des tuiles</h2>\n        <ul>\n          <li>Les tuiles peuvent tre tournes dans n'importe quelle direction.</li>\n          <li>Les tuiles ne peuvent pas recouvrir le chteau.</li>\n          <li>Les tuiles ne peuvent pas recouvrir d'autres tuiles.</li>\n          <li>\n            Au moins un des deux carrs de la tuile place doit se trouver soit  ct du chteau, soit  ct d'un\n            autre carr de mme type de terrain. Il n'est pas indispensable que le second carr de la tuile ait \n            galement un voisin qui lui corresponde.\n          </li>\n          <li>\n            L'extension horizontale et verticale du territoire ne doit pas excder <const>5</const> carrs.\n          </li>\n          <li>Si une tuile ne peut tre place nulle part avec ces restrictions, elle est dfausse.</li>\n          <li>Il n'y a pas de placement de tuile lors du premier tour.</li>\n        </ul>\n        <img src=\"https://i.imgur.com/tzM4LM0.png\" alt=\"Exemples de placement de tuiles valides\" /><br />\n        <!-- wood1Valid.png -->\n        <img src=\"https://i.imgur.com/RtI8YX9.png\" alt=\"Exemples de placement de tuiles interdits\" /><br />\n        <!-- wood1Invalid.png -->\n\n        <h2>Rgles de choix des tuiles</h2>\n        <ul>\n          <li>\n            Plusieurs nouvelles tuiles sont disponibles  chaque tour&nbsp;: 4 pour une partie  2 ou 4 joueurs et 3\n            pour une partie  trois joueurs.\n          </li>\n          <li>\n            Chaque tuile ne peut tre choisie que par un seul joueur&nbsp;: le premier joueur dispose du plus large choix,\n            les suivants doivent choisir parmi les tuiles restantes.\n          </li>\n          <li>\n            Les tuiles sont tries par numro d'identification croissant&nbsp;: au tour suivant, le joueur qui a choisi la\n            tuile avec le numro le plus bas jouera en premier (et aura donc le plus grand choix parmi les nouvelles\n            tuiles), tandis que le joueur qui a choisi la tuile avec le numro le plus lev jouera en dernier.  2\n            joueurs, cela implique que les joueurs peuvent effectuer leurs squences <action>PUT</action> +\n            <action>PICK</action> l'une aprs l'autre ou bien en alternance, en fonction de l'ordre des tuiles.\n          </li>\n          <li>Il n'y a pas de choix de tuile lors du dernier tour.</li>\n        </ul>\n\n        <h2>Score</h2>\n        <ul>\n          <li>La partie dure exactement 7 tours pour une partie  2 joueurs et 13 pour une partie  3 ou 4 joueurs.</li>\n          <li>\n            Le territoire de chaque joueur est compos de plusieurs zones contigus, chacune d'un type de terrain donn.\n            Chaque zone rapporte un nombre de points gal  sa taille (en nombre de carrs) mutliplie par le nombre de\n            couronnes contenues dans la zone.\n          </li>\n          <li>Une zone ne contenant aucune couronne ne rapporte donc aucun point.</li>\n          <li>Le score final d'un joueur est le total des scores de chacune des zones dans son territoire.</li>\n          <li>\n            En cas d'galit, les joueurs avec le plus grand territoire (en nombre de carrs) reoivent chacun un point\n            supplmentaire pour les dpartager.\n          </li>\n          <li>\n            En cas d'une seconde galit, les joueurs avec le plus grand nombre de couronnes reoivent chacun un point\n            supplmentaire pour les dpartager.\n          </li>\n          <li>En cas de troisime galit, les joueurs sont ex aequo.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- Win conditions -->\n  <div class=\"statement-victory-conditions\">\n    <div class=\"icon victory\"></div>\n    <div class=\"blk\">\n      <div class=\"title\">Conditions de victoire</div>\n      <div class=\"text\">\n        <ul>\n          <li>Avoir le plus grand score.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- Lose conditions -->\n  <div class=\"statement-lose-conditions\">\n    <div class=\"icon lose\"></div>\n    <div class=\"blk\">\n      <div class=\"title\">Conditions< de dfaite</div>\n      <div class=\"text\">\n        <ul>\n          <li>Avoir un score infrieur.</li>\n          <li>Effectuer une action <action>PICK</action> invalide.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Protocole du jeu</span>\n    </h1>\n\n    <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"text\">\n        <strong>Entre d'initialisation</strong>&nbsp;:\n        <p><span class=\"statement-lineno\">Ligne 1&nbsp;: </span><var>nbPlayers</var>&nbsp;: le nombre de joueurs.</p>\n        <p>\n          <span class=\"statement-lineno\">Ligne 2&nbsp;: </span><var>nbTiles</var>&nbsp;: le nombre de tuiles en jeu chaque tour.\n          <const>4</const> pour une partie  2 ou 4 joueurs et <const>3</const> pour une partie  3 joueurs.\n        </p>\n        <strong>Pour chaque tour</strong>&nbsp;:\n        <p>\n          <span class=\"statement-lineno\"><var>nbPlayers</var> fois <const>9</const> lignes</span>&nbsp;: la grille de chaque\n          joueur.\n          <strong>Votre grille est toujours donne en premier</strong>. Chaque ligne se compose de <const>9</const>\n          groupes de <const>2</const> caractres reprsentant chacun un carr de la grille&nbsp;:\n        </p>\n        <ul>\n          <li>\n            Un caractre reprsentant le type de terrain&nbsp;: vide (<const>_</const>), chteau (<const>*</const>), champ de\n            mas (<const>c</const>), fort (<const>f</const>), prairie (<const>g</const>), lac (<const>l</const>),\n            marais (<const>w</const>) ou mine (<const>m</const>).\n          </li>\n          <li>Un caractre entre <const>0</const> et <const>3</const> pour le nombre de couronnes dans ce carr.</li>\n          <li>Le chteau est toujours plac au centre de la grille.</li>\n        </ul>\n        <p>\n          <strong>IMPORTANT&nbsp;:</strong> la grille donne en entre est plus grande que ce qui est affich  l'cran.\n          L'affichage ne montre qu'une portion de la grille correspondant  l'extension maximale autorise.\n        </p>\n        <p>\n          <span class=\"statement-lineno\"><var>nbTiles</var> lignes suivantes&nbsp;: </span><var>tileId</var> <var>firstSquare</var>\n          <var>secondSquare</var> <var>playerId</var> <var>current</var>&nbsp;: le numro d'une tuile place lors de ce tour de\n          table, les deux carrs de cette tuile, dans le mme format que pour la grille, le numro du joueur qui place cette\n          tuile et un indicateur de la tuile en jeu pour ce tour de joueur. <strong>Votre joueur a toujours le numro\n          0</strong>. <var>playerId</var> peut tre <const>-1</const> si une tuile n'a pas t slectionne lors du tour\n          prcdent. <var>current</var> est <const>1</const> pour la tuile en jeu ce tour, <const>0</const> pour les autres\n          tuiles.\n        </p>\n        <p>\n          <span class=\"statement-lineno\"><var>nbTiles</var> lignes suivantes&nbsp;: </span><var>tileId</var> <var>firstSquare</var>\n          <var>secondSquare</var> <var>playerId</var>&nbsp;: les tuiles  choisir pour le tour suivant. <var>playerId</var> est\n          <const>-1</const> pour les tuiles qui n'ont pas encore t choisies.\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Sortie</div>\n      <div class=\"text\">\n        <p>\n          <span class=\"statement-lineno\">Ligne &nbsp;: </span><action>PUT</action> <var>x</var> <var>y</var>\n          <var>rotation</var>&nbsp;:\n        </p>\n        <ul>\n          <li><var>x</var> et <var>y</var> sont l'emplacement du premier carr de la tuile.</li>\n          <li>\n            <var>rotation</var> dtermine l'emplacement du second carr&nbsp;: <const>0</const> est  droite du premier carr,\n            <const>1</const> en-dessous, <const>2</const>  gauche, <const>3</const> au-dessus.<br />\n            <img src=\"https://i.imgur.com/DZIOUIi.png\" alt=\"Exemples de rotation\" /><!-- rotation.png-->\n          </li>\n          <li>\n            Dans le cas o il n'existe aucun placement valide pour cette tuile, les valeurs sur cette ligne sont ignores -\n            cependant la ligne doit toujours tre remplie suivant le format attendu.\n          </li>\n          <li>\n            Dans les ligues Bois, les actions <action>PUT</action> invalides provoquent une dfausse de la tuile.\n          </li>\n        </ul>\n        <p>\n          <span class=\"statement-lineno\">Ligne &nbsp;: </span><action>PICK</action> <var>tileId</var> <var>message</var>&nbsp;: le\n          numro d'identification de la tuile choisie et un message facultatif  afficher.\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Contraintes</div>\n      <div class=\"text\">\n        <ul>\n          <li>Les deux commandes doivent toujours tre donnes et formates correctement  chaque tour.</li>\n          <li>Lors du premier tour, les valeurs de la commande <action>PUT</action> sont ignores.</li>\n          <li>Lors du dernier tour, les valeurs de la commande <action>PICK</action> sont ignores.</li>\n          <li>\n            Les commandes mal formates et les commandes <action>PICK</action> invalides mettent fin  la partie du joueur.\n            Le score reste pris en compte  la fin de la partie.\n          </li>\n        </ul>\n      </div>\n      <div class=\"text\">\n        <p>Vous avez <const>1000</const> ms pour rpondre au premier tour.</p>\n        <p>Vous avez <const>50</const> ms pour rpondre lors des tours suivants.</p>\n      </div>\n    </div>\n  </div>\n\n  <!-- STORY -->\n  <div class=\"statement-story-background\">\n    <div class=\"statement-story-cover\">\n      <div class=\"statement-story\" style=\"min-height: 300px; position: relative\">\n        <h1>Coders of the Realm</h1>\n        <div class=\"story-text\">\n          <p>\n            Revenu victorieux de sa dernire campagne, le roi accorde des terrains  ses loyaux seigneurs en rcompense\n            de leur participation aux batailles. Afin d'viter de semer la discorde entre eux, le roi a invent une\n            manire de s'assurer que chaque seigneur reoive quitablement des terrains riches et pauvres.\n          </p>\n          <p>\n            Pourtant, si vous tes plus astucieux que les autres seigneurs, vous pourriez bien parvenir  btir pour\n            vous le meilleur domaine !\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n",
            "2": "<!-- Autogenerated file! Do not edit directly. --><!-- LEAGUES level1 level2 level3 level4 -->\n<!-- images stored on https://imgur.com/a/Jjc0kAj -->\n<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <!-- LEAGUE ALERT -->\n  <div\n    style=\"color: #7cc576;\n    background-color: rgba(124, 197, 118,.1);\n    padding: 20px;\n    margin-right: 15px;\n    margin-left: 15px;\n    margin-bottom: 10px;\n    text-align: left;\"\n  >\n    <div style=\"text-align: center; margin-bottom: 6px\">\n      <img src=\"//cdn.codingame.com/smash-the-code/statement/league_wood_04.png\" />\n    </div>\n\n    <p style=\"text-align: center; font-weight: 700; margin-bottom: 6px;\">\n      Welcome to the Wood 1 league!\n    </p>\n    <span class=\"statement-league-alert-content\">\n      <p>\n        Tiles must now always extend an existing zone, or start one near the castle: at least one square of the put tile\n        must be next to the castle, or next to another square of the same terrain type.\n      </p>\n      <p>\n        Note that the two squares of the put tile are not considered \"next\" to one another in this context: a tile with\n        two squares of the same terrain type must still be placed next to a third square of the same terrain type, or\n        next to the castle.\n      </p>\n    </span>\n  </div>\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      <p>\n        This is a port of the board game <a href=\"http://www.blueorangegames.eu/pf/kingdomino/\">Kingdomino</a> by Bruno\n        Cathala and Cyril Bouquet.\n      </p>\n      <p>\n        The source code of the game is available <a href=\"https://gitlab.com/matthieu.dazy/cg-kingdomino/-/tree/master\">here</a>.\n      </p>\n      <p>\n        The goal is to build the wealthiest territory by carefully choosing and placing land tiles, thus creating the\n        largest and richest connected zones.\n      </p>\n      <p>\n        The tile textures are from\n        <a href=\"https://opengameart.org/content/big-pack-of-hand-painted-tiling-textures\">this OpenGameArt pack</a>.\n      </p>\n      <p>\n        The logo has been generated on <a href=\"http://renderforest.com\"/>Render Forest</a>.\n      </p>\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        <h2>Tiles</h2>\n        <p>\n          The game is played with land tiles. Each tile is a domino with two squares. There are 6 different terrain\n          type: corn field, forest, grassland, lake, wetland and mine. Each square may also contain up to 3 crowns that\n          will reinforce the value of the zone containing the square.\n        </p>\n        <p>\n          Each tile has a unique ID, roughly indicating its \"value\". Tiles with more crowns or rare terrain types have\n          larger IDs, whereas tiles with common terrain types and few or no crowns have lower IDs.\n        </p>\n        <p>\n          Players build their own, separate territory, starting from their castle and expanding by placing new land\n          tiles next to existing land, thus creating connected zones of the same terrain type.\n        </p>\n        <p>\n          The game contains a fixed set of 48 tiles, distributed in sets over several turns. Each tile is therefore\n          available only once in the game. In a 2- or 3-player game, only some of the tiles are put in play, so some\n          tiles may not appear at all during the game.\n        </p>\n        <p>\n          The full list of tiles is available <a href=\"https://gitlab.com/matthieu.dazy/cg-kingdomino/-/blob/master/src/main/resources/tiles.csv\">here</a>\n          as a CSV file.\n        </p> \n\n        <h2>Game turn</h2>\n        <p>\n          On each turn, each player executes a sequence of two actions:\n        </p>\n        <ul>\n          <li><action>PUT</action> a tile on their territory</li>\n          <li><action>PICK</action> the tile they will play on the next turn</li>\n        </ul>\n        <p>\n          The order of play in each turn is determined by the value of the chosen tiles, as explained below in the Tile\n          choice rules section. On the first turn, the order is that of the IDE.\n        </p>\n        <p>\n          In a 2-player game, 4 tiles are available for each turn and each player plays twice, excuting two separate and\n          independent sequences of <action>PUT</action> + <action>PICK</action> actions. On the first turn, players do\n          this alternatively (first player, second player, first player, second player). On subsequent turns, the order\n          changes according to the picked tiles.\n        </p>\n\n        <h2>Tile placement rules</h2>\n        <ul>\n          <li>Tiles may be rotated in any orientation.</li>\n          <li>Tiles may not overlap the castle.</li>\n          <li>Tiles may not overlap existing territory.</li>\n          <li>\n            At least one square of the placed tile must be next to the castle or have a neighbor with matching terrain\n            type. It is not mandatory for the other square to match a neighbor.\n          </li>\n          <li>\n            The horizontal and vertical extent of the resulting territory must not exceed <const>5</const> squares.\n          </li>\n          <li>If a tile cannot be placed according to these constraints, it is discarded.</li>\n          <li>There is no tile placement on the first turn.</li>\n        </ul>\n        <img src=\"https://i.imgur.com/tzM4LM0.png\" alt=\"Examples of valid placement\" /><br />\n        <!-- wood1Valid.png -->\n        <img src=\"https://i.imgur.com/RtI8YX9.png\" alt=\"Examples of invalid placement\" /><br />\n        <!-- wood1Invalid.png -->\n\n        <h2>Tile choice rules</h2>\n        <ul>\n          <li>Several new tiles are available for pick on each turn: 4 for a 2- or 4-player game and 3 for a 3-player game.</li>\n          <li>\n            Each tile can be chosen by only one player: the first player has the most choice, the others have to pick\n            from whatever is left.\n          </li>\n          <li>\n            The tiles are ordered by ascending ID: on the following turn, the player who picked the tile with the lowest\n            ID will play first (and get the largest choice from the new tiles), whereas the player who picked the tile\n            with the highest ID will play last. For 2 players this means that players may perform their put+pick\n            sequences sequentially or alternately, depending on the IDs order.\n          </li>\n          <li>There is no tile choice on the last turn.</li>\n        </ul>\n\n        <h2>Scoring</h2>\n        <ul>\n          <li>The game always lasts exactly 7 turns for a 2-player game and 13 turns for a 3- or 4-player game.</li>\n          <li>\n            Each player's territory is composed of several connected zones, each of a specific terrain type. Each zone has a\n            value equal to its size (in number of squares) multiplied by the number of crowns contained in that zone.\n          </li>\n          <li>A zone containing no crowns is thus worth zero points.</li>\n          <li>The full score of a player's territory is the sum of the scores of all zones in that territory.</li>\n          <li>\n            In case of a score tie, the players with the largest territory (in number of squares) each receive one extr\n            point for tie-breaking.\n          </li>\n          <li>\n            In case of a second score tie, the players with the largest number of crowns each receive one extra point for\n            tie-breaking.\n          </li>\n          <li>After that, players may be tied for good.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- Win conditions -->\n  <div class=\"statement-victory-conditions\">\n    <div class=\"icon victory\"></div>\n    <div class=\"blk\">\n      <div class=\"title\">Victory Conditions</div>\n      <div class=\"text\">\n        <ul>\n          <li>Be the player with the largest score.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- Lose conditions -->\n  <div class=\"statement-lose-conditions\">\n    <div class=\"icon lose\"></div>\n    <div class=\"blk\">\n      <div class=\"title\">Defeat Conditions</div>\n      <div class=\"text\">\n        <ul>\n          <li>Have a lower score.</li>\n          <li>Output an invalid <action>PICK</action> action.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n    </h1>\n\n    <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"text\">\n        <strong>Game initialization</strong>:\n        <p><span class=\"statement-lineno\">Line 1: </span><var>nbPlayers</var>: the number of players.</p>\n        <p>\n          <span class=\"statement-lineno\">Line 2: </span><var>nbTiles</var>: the number of tiles in play each turn.\n          This is <const>4</const> for 2- and 4-player games and <const>3</const> for 3-player games.\n        </p>\n        <strong>For each turn</strong>:\n        <p>\n          <span class=\"statement-lineno\"><var>nbPlayers</var> times <const>9</const> lines</span>: each player's grid.\n          <strong>Your grid is always the first one</strong>. Each line is composed of <const>9</const> sets of\n          <const>2</const> chars representing a single grid square:\n        </p>\n        <ul>\n          <li>\n            One char representing the terrain type: empty (<const>_</const>), castle (<const>*</const>), corn field\n            (<const>c</const>), forest (<const>f</const>), grassland (<const>g</const>), lake (<const>l</const>),\n            wetland (<const>w</const>) or mine (<const>m</const>).\n          </li>\n          <li>One char between <const>0</const> and <const>3</const> for the number of crowns on that square.</li>\n          <li>The castle is always located at the center of the grid.</li>\n        </ul>\n        <p>\n          <strong>IMPORTANT:</strong> the grid given in input is larger than what the viewer displays. The viewer only\n          shows a subwindow of the grid that fits the maximal allowed extent.\n        </p>\n        <p>\n          <span class=\"statement-lineno\"><var>nbTiles</var> next lines: </span><var>tileId</var> <var>firstSquare</var>\n          <var>secondSquare</var> <var>playerId</var> <var>current</var>: the ID of a tile being placed that turn, the\n          two squares of the tile, in the same format as in the grid, the ID of the player who places that tile and a\n          flag showing the tile in play this turn. <strong>You always have player ID 0</strong>. <var>playerId</var> may\n          be <const>-1</const> in case a tile has not been picked during the previous turn. <var>current</var> is\n          <const>1</const> for the tile in play this turn, <const>0</const> for the other tiles.\n        </p>\n        <p>\n          <span class=\"statement-lineno\"><var>nbTiles</var> next lines: </span><var>tileId</var> <var>firstSquare</var>\n          <var>secondSquare</var> <var>playerId</var>: the tiles to be picked for the next turn. <var>playerId</var> is\n          <const>-1</const> for tiles that are still available for picking.\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <p>\n          <span class=\"statement-lineno\">Line 1: </span><action>PUT</action> <var>x</var> <var>y</var>\n          <var>rotation</var>:\n        </p>\n        <ul>\n          <li><var>x</var> and <var>y</var> are the location of the first square of the tile.</li>\n          <li>\n            <var>rotation</var> determines the location of the second square: <const>0</const> is on the right of the\n            first square, <const>1</const> is below, <const>2</const> is on the left, <const>3</const> is above.<br />\n            <img src=\"https://i.imgur.com/DZIOUIi.png\" alt=\"Examples of rotation\" /><!-- rotation.png-->\n          </li>\n          <li>\n            In the case where there is no valid placement for the tile, values on this line are ignored - however the\n            line still needs to be given with the expected format.\n          </li>\n          <li>\n            In Wood leagues, invalid <action>PUT</action> commands will cause the tile in play to be discarded.\n          </li>\n        </ul>\n        <p>\n          <span class=\"statement-lineno\">Line 2: </span><action>PICK</action> <var>tileId</var> <var>message</var>: the\n          ID of the picked tile and an optional message to be displayed in the viewer.\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\">\n        <ul>\n          <li>Both commands must always be given and correctly formatted on every turn.</li>\n          <li>On the first turn, the values given to the <action>PUT</action> command are ignored.</li>\n          <li>On the last turn, the value given to the <action>PICK</action> command is ignored.</li>\n          <li>\n            Badly formatted commands and invalid <action>PICK</action> actions will end the player's game. The score is still taken into account\n            at the end of the game.\n          </li>\n        </ul>\n      </div>\n      <div class=\"text\">\n        <p>You have <const>1000</const> ms to answer on the first turn.</p>\n        <p>You have <const>50</const> ms to answer during the rest of the game.</p>\n      </div>\n    </div>\n  </div>\n\n  <!-- STORY -->\n  <div class=\"statement-story-background\">\n    <div class=\"statement-story-cover\">\n      <div class=\"statement-story\" style=\"min-height: 300px; position: relative\">\n        <h1>Coders of the Realm</h1>\n        <div class=\"story-text\">\n          <p>\n            After his last victorious conquest, the king is granting territories to his faithful lords as a reward\n            for their participation in the battles. In order to avoid strife among them, the king has designed a way\n            to ensure each lord gets a fair mix of the richer and poorer lands.\n          </p>\n          <p>\n            Yet, if you are more cunning than the other lords, you might still be able to build the best land for\n            yourself!\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"
          },
          "questionType": "multi",
          "stubGenerator": "read nbPlayers:int\r\nread nbTiles:int\r\ngameloop\r\nloop nbPlayers loop 9 read gridLine:word(18)\r\nloop nbTiles read curTileId:int curFirstSquare:word(2) curSecondSquare:word(2) curPlayerId:int current:int\r\nloop nbTiles read nextTileId:int nextFirstSquare:word(2) nextSecondSquare:word(2) nextPlayerId:int\r\nwrite PUT 0 0 0\r\nPICK 1\r\n\r\nSTATEMENT\r\nPlace and pick tiles to build the richest land.\r\nYou always have player id 0 and your grid is always given first.\r\n\r\nINPUT\r\nnbPlayers: the number of players in the game\r\nnbTiles: the number of tiles in play each turn\r\ncurTileId: id of a tile being played this turn\r\ncurFirstSquare: first square of a tile being played this turn\r\ncurSecondSquare: second square of a tile being played this turn\r\ncurPlayerId: id of the player who will place that tile\r\ncurrent: 1 if the tile is in play this turn, 0 otherwise\r\nmyTileId: id of the tile you are playing this turn\r\nmyFirstSquare: first square of the tile you are playing this turn\r\nmySecondSquare: second square of the tile you are playing this turn\r\nnextTileId: id of a tile to be picked for next turn\r\nnextFirstSquare: first square of a tile to be picked for next turn\r\nnextSecondSquare: second square of a tile to be picked for next turn\r\nnextPlayerId: id of the player who has picked that tile, -1 if the tile has not been picked yet\r\n\r\nOUTPUT\r\nPUT x y rotation\r\nPICK tileId\r\n",
          "welcomePopups": {
            "1": "<div style=\"text-align:center\">\r\n  <h2>Vous avez atteint la ligue suivante !</h2>\r\n  Les tuiles doivent dsormais tre places  ct soit du chteau, soit d&#39;une tuile avec un mme type de terrain.\r\n  <div class=\"small\">Voir les Rgles de placement des tuiles dans les nouvelles rgles pour plus de dtails.</div>\r\n  <img src=\"https://i.imgur.com/iut2W2T.png\" alt=\"Nouvelles rgles\" />\r\n</div>\r\n",
            "2": "<div style=\"text-align:center\">\r\n  <h2>You have reached the next league!</h2>\r\n  Tiles must now always be <keyword>PUT</keyword> either next to the castle or next to a tile with a matching land type.\r\n  <div class=\"small\">See the Tile placement rules in the updated statement for details.</div>\r\n  <img src=\"https://i.imgur.com/iut2W2T.png\" alt=\"New rules\" />\r\n</div>\r\n"
          },
          "aiCodeExtension": "java",
          "criteriaLanguageMap": {}
        },
        "3": {
          "aiCode": "import java.util.Scanner;\r\n\r\nclass Player {\r\n\r\n  public static void main(String[] args) {\r\n    Scanner scanner = new Scanner(System.in);\r\n\r\n    // read initial input\r\n    int nbPlayers = scanner.nextInt();\r\n    int size = 5;\r\n    int largeSize = 2 * size - 1;\r\n    int nbTiles = scanner.nextInt();\r\n    scanner.nextLine();\r\n    System.err.println(String.format(\"%d players, grid size is %d\", nbPlayers, size));\r\n\r\n    while (true) {\r\n      // read grids for all players\r\n      // your grid is always first\r\n      final String myGrid[] = new String[largeSize];\r\n      for (int y = 0; y < 2 * (size - 1) + 1; y++) {\r\n        myGrid[y] = scanner.nextLine();\r\n        System.err.println(myGrid[y]);\r\n      }\r\n      System.err.println();\r\n\r\n      // read other player's grids\r\n      for (int i = 0; i < nbPlayers - 1; i++) {\r\n        for (int y = 0; y < 2 * (size - 1) + 1; y++) {\r\n          scanner.nextLine();\r\n        }\r\n      }\r\n\r\n      // read current tiles\r\n      String curFirst = \"\";\r\n      String curSecond = \"\";\r\n      for (int i = 0; i < nbTiles; i++) {\r\n        final int tileId = scanner.nextInt();\r\n        String first = scanner.next();\r\n        String second = scanner.next();\r\n        final int playerId = scanner.nextInt();\r\n        final int current = scanner.nextInt();\r\n        if (current == 1) {\r\n          // active tile\r\n          curFirst = first;\r\n          curSecond = second;\r\n        }\r\n        scanner.nextLine();\r\n      }\r\n\r\n      final char type[] = { curFirst.charAt(0), curSecond.charAt(0) };\r\n      System.err.println(String.format(\"My tile: %c %c\", type[0], type[1]));\r\n\r\n      // read next tiles\r\n      // pick the first unused one\r\n      int pick = 0;\r\n      for (int i = 0; i < nbTiles; i++) {\r\n        final int tileId = scanner.nextInt();\r\n        String first = scanner.next();\r\n        String second = scanner.next();\r\n        final int playerId = scanner.nextInt();\r\n        scanner.nextLine();\r\n        System.err.println(String.format(\"next tile #%d: %d %s %s %d\", i, tileId, first, second, playerId));\r\n        if (playerId < 0) {\r\n          pick = tileId;\r\n        }\r\n      }\r\n\r\n      // find first possible placement\r\n      int putx = -1;\r\n      int puty = -1;\r\n      int putr = -1;\r\n      for (int x = 0; x < largeSize && putx < 0; x++) {\r\n        for (int y = 0; y < largeSize && putx < 0; y++) {\r\n          for (int r = 0; r < 4 && putx < 0; r++) {\r\n            // initial values are for rotation 0\r\n            final int u[] = { x, x + 1 };\r\n            final int v[] = { y, y };\r\n            switch (r) {\r\n              case 1:\r\n                {\r\n                  // second square is below first\r\n                  u[1] = u[0];\r\n                  v[1] = v[0] + 1;\r\n                  break;\r\n                }\r\n              case 2:\r\n                {\r\n                  // second square is on the left\r\n                  u[1] = u[0] - 1;\r\n                  break;\r\n                }\r\n              case 3:\r\n                {\r\n                  // second square is above\r\n                  u[1] = u[0];\r\n                  v[1] = v[0] - 1;\r\n                }\r\n            }\r\n\r\n            // first perform checks that do not need the tile to be placed\r\n            boolean hasValidNeighbor = false;\r\n            boolean valid = true;\r\n            for (int i = 0; i < 2; i++) {\r\n              // check boundaries\r\n              if (u[i] < 0 || u[i] >= largeSize || v[i] < 0 || v[i] >= largeSize) {\r\n                valid = false;\r\n                break;\r\n              }\r\n\r\n              // check emptiness\r\n              final char curType = myGrid[v[i]].charAt(u[i] * 2);\r\n              if (curType != '_') {\r\n                valid = false;\r\n                break;\r\n              }\r\n\r\n              // check connectivity\r\n              final int nu[] = { u[i] - 1, u[i], u[i] + 1, u[i] };\r\n              final int nv[] = { v[i], v[i] - 1, v[i], v[i] + 1 };\r\n              for (int j = 0; j < 4; j++) {\r\n                if (nu[j] == u[1 - i] && nv[j] == v[1 - i]) {\r\n                  // do not check against second half of tile\r\n                  continue;\r\n                }\r\n                if (nu[j] < 0 || nu[j] >= largeSize || nv[j] < 0 || nv[j] >= largeSize) {\r\n                  // neighbor is out of bounds\r\n                  continue;\r\n                }\r\n                final char neighborType = myGrid[nv[j]].charAt(nu[j] * 2);\r\n                if (neighborType == type[i] || neighborType == '*') {\r\n                  hasValidNeighbor = true;\r\n                  break;\r\n                }\r\n              }\r\n            }\r\n            if (!valid || !hasValidNeighbor) {\r\n              // neither half has a valid neighbor\r\n              continue;\r\n            }\r\n\r\n            // place tile\r\n            myGrid[v[0]] = myGrid[v[0]].substring(0, u[0] * 2) + type[0] + myGrid[v[0]].substring(u[0] * 2 + 1);\r\n            myGrid[v[1]] = myGrid[v[1]].substring(0, u[1] * 2) + type[1] + myGrid[v[1]].substring(u[1] * 2 + 1);\r\n\r\n            // check new extension is still within allowed limits\r\n            if (getMaxU(myGrid) - getMinU(myGrid) > size - 1 || getMaxV(myGrid) - getMinV(myGrid) > size - 1) {\r\n              // undo placement\r\n              myGrid[v[0]] = myGrid[v[0]].substring(0, u[0] * 2) + '_' + myGrid[v[0]].substring(u[0] * 2 + 1);\r\n              myGrid[v[1]] = myGrid[v[1]].substring(0, u[1] * 2) + '_' + myGrid[v[1]].substring(u[1] * 2 + 1);\r\n              continue;\r\n            }\r\n            putx = x;\r\n            puty = y;\r\n            putr = r;\r\n          }\r\n        }\r\n      }\r\n\r\n      // output\r\n      System.out.println(String.format(\"PUT %d %d %d\", putx, puty, putr));\r\n      System.out.println(String.format(\"PICK %d\", pick));\r\n    }\r\n  }\r\n\r\n  private static int getMinU(String grid[]) {\r\n    for (int u = 0; u < grid.length; u++) {\r\n      for (int v = 0; v < grid.length; v++) {\r\n        if (grid[v].charAt(u * 2) != '_') {\r\n          return u;\r\n        }\r\n      }\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  private static int getMaxU(String grid[]) {\r\n    for (int u = grid.length - 1; u >= 0; u--) {\r\n      for (int v = 0; v < grid.length; v++) {\r\n        if (grid[v].charAt(u * 2) != '_') {\r\n          return u;\r\n        }\r\n      }\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  private static int getMinV(String grid[]) {\r\n    for (int v = 0; v < grid.length; v++) {\r\n      for (int u = 0; u < grid.length; u++) {\r\n        if (grid[v].charAt(u * 2) != '_') {\r\n          return v;\r\n        }\r\n      }\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  private static int getMaxV(String grid[]) {\r\n    for (int v = grid.length - 1; v >= 0; v--) {\r\n      for (int u = 0; u < grid.length; u++) {\r\n        if (grid[v].charAt(u * 2) != '_') {\r\n          return v;\r\n        }\r\n      }\r\n    }\r\n    return 0;\r\n  }\r\n}\r\n",
          "testCases": [],
          "maxPlayers": 4,
          "minPlayers": 2,
          "statements": {
            "1": "<!-- Autogenerated file! Do not edit directly. --><!-- LEAGUES level1 level2 level3 level4 -->\n<div id=\"statement_back\" class=\"statement_back\" style=\"displa&nbsp;:none\"></div>\n<div class=\"statement-body\">\n  <!-- LEAGUE ALERT -->\n  <div\n    style=\"color: #7cc576;\n    background-color: rgba(124, 197, 118,.1);\n    padding: 20px;\n    margin-right: 15px;\n    margin-left: 15px;\n    margin-bottom: 10px;\n    text-align: left;\"\n  >\n    <div style=\"text-align: center; margin-bottom: 6px\">\n      <img src=\"//cdn.codingame.com/smash-the-code/statement/league_wood_04.png\" />\n    </div>\n\n    <p style=\"text-align: center; font-weight: 700; margin-bottom: 6px;\">\n      Bienvenue en ligue Bronze !\n    </p>\n    <span class=\"statement-league-alert-content\">\n      <p>\n        Des points supplmentaires sont dcerns en fin de partie pour avoir gard votre chteau au centre de votre\n        territoire, et pour avoir utilis la totalit de l'espace disponible sans dfausser de tuiles.\n      </p>\n      <p>\n        Dsormais les placements invalides mettent fin  votre partie. Votre score sera cependant toujours pris en\n        compte  la fin de la partie.\n      </p>\n    </span>\n  </div>\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>Objectif</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      <p>\n        Ceci est une adaptation du jeu de plateau <a href=\"htt&nbsp;://www.blueorangegames.eu/pf/kingdomino_fr/\">Kingdomino</a> de\n        Bruno Cathala et Cyril Bouquet.\n      </p>\n      <p>\n        Le code source du jeu est disponible <a href=\"https://gitlab.com/matthieu.dazy/cg-kingdomino/-/tree/master\">ici</a>.\n      </p>\n      <p>\n        L'objectif est de btir le territoire le plus riche en choisissant et en plaant judicieusement des tuiles de terrain\n        afin de crer les zones contigus les plus grandes et les plus riches.\n      </p>\n      <p>\n        Les textures de tuiles proviennent de\n        <a href=\"http&nbsp;://opengameart.org/content/big-pack-of-hand-painted-tiling-textures\">ce paquet OpenGameArt</a>.\n      </p>\n      <p>\n        Le logo a t gnr sur <a href=\"http://renderforest.com\"/>Render Forest</a>.\n      </p>\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rgles</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        <h2>Les tuiles</h2>\n        <p>\n          Le jeu se joue avec des tuiles de terrain. Chaque tuile est un domino comportant deux carrs. Il existe 6\n          types de terrain diffrent&nbsp;: champ de bl, fort, prairie, lac, marais et mine. Chaque carr peut galement\n          comporter jusque 3 couronnes qui augmentent la valeur de la zone qui contient ce carr.\n        </p>\n        <p>\n          Chaque tuile a un numro d'identification unique, qui est galement un indicateur sommaire de sa \"valeur\". Les\n          tuiles avec plus de couronnes ont des numros plus levs, tandis que les tuiles avec les types de terrain les\n          plus courants et moins ou pas de couronnes portent des numros plus bas.\n        </p>\n        <p>\n          Chaque joueur btit son propre territoire indpendamment,  partir de son chteau. Il l'tend en plaant de\n          nouvelles tuiles  ct de terrains dj en place, crant ainsi des zones contigus d'un mme type de terrain.\n        </p>\n        <p>\n          Le jeu se compose d'un ensemble dfini de 48 tuiles, qui seront distribues par lots sur plusieurs tours de jeu.\n          Ainsi chaque tuile ne sera disponible qu'une seule fois au cours de la partie. Lors d'une partie  2 ou 3 joueurs,\n          une partie des tuiles n'est pas mise en jeu et ne sera donc pas disponible du tout au cours de la partie.\n        </p>\n        <p>\n          La liste des tuiles est disponible <a href=\"https://gitlab.com/matthieu.dazy/cg-kingdomino/-/blob/master/src/main/resources/tiles.csv\">ici</a>\n          sous forme de fichier CSV.\n        </p>\n\n        <h2>Tour de jeu</h2>\n        <p>\n           son tour, chaque joueur effectue deux actions&nbsp;:\n        </p>\n        <ul>\n          <li><action>PUT</action> pour placer une tuile sur son territoire</li>\n          <li><action>PICK</action> pour choisir la tuile qu'il jouera au tour suivant</li>\n        </ul>\n        <p>\n          L'ordre des joueurs dans un tour est dtermin par la valeur des tuiles choisies, comme indiqu ci-dessous \n          dans la section Rgles de choix des tuiles. Au premier tour, l'ordre est celui des joueurs dans l'interface.\n        </p>\n        <p>\n          Dans une partie  2 joueurs, 4 tuiles sont disponibles pour chaque tour, et chaque joueur effectue\n          sparement deux sries indpendantes d'actions <action>PUT</action> + <action>PICK</action>. Au premier tour\n          les joueurs sont alterns (premier, deuxime, premier, deuxime). Lors des tours suivants, l'ordre changera\n          en fonction des tuiles choisies.\n        </p>\n\n        <h2>Rgles de placement des tuiles</h2>\n        <ul>\n          <li>Les tuiles peuvent tre tournes dans n'importe quelle direction.</li>\n          <li>Les tuiles ne peuvent pas recouvrir le chteau.</li>\n          <li>Les tuiles ne peuvent pas recouvrir d'autres tuiles.</li>\n          <li>\n            Au moins un des deux carrs de la tuile place doit se trouver soit  ct du chteau, soit  ct d'un\n            autre carr de mme type de terrain. Il n'est pas indispensable que le second carr de la tuile ait \n            galement un voisin qui lui corresponde.\n          </li>\n          <li>\n            L'extension horizontale et verticale du territoire ne doit pas excder <const>5</const> carrs.\n          </li>\n          <li>Si une tuile ne peut tre place nulle part avec ces restrictions, elle est dfausse.</li>\n          <li>Il n'est pas possible de dfausser une tuile pour laquelle il existe un placement valide.</li>\n          <li>Il n'y a pas de placement de tuile lors du premier tour.</li>\n        </ul>\n        <img src=\"https://i.imgur.com/tzM4LM0.png\" alt=\"Exemples de placement de tuiles valides\" /><br />\n        <!-- wood1Valid.png -->\n        <img src=\"https://i.imgur.com/RtI8YX9.png\" alt=\"Exemples de placement de tuiles interdits\" /><br />\n        <!-- wood1Invalid.png -->\n\n        <h2>Rgles de choix des tuiles</h2>\n        <ul>\n          <li>\n            Plusieurs nouvelles tuiles sont disponibles  chaque tour&nbsp;: 4 pour une partie  2 ou 4 joueurs et 3\n            pour une partie  trois joueurs.\n          </li>\n          <li>\n            Chaque tuile ne peut tre choisie que par un seul joueur&nbsp;: le premier joueur dispose du plus large choix,\n            les suivants doivent choisir parmi les tuiles restantes.\n          </li>\n          <li>\n            Les tuiles sont tries par numro d'identification croissant&nbsp;: au tour suivant, le joueur qui a choisi la\n            tuile avec le numro le plus bas jouera en premier (et aura donc le plus grand choix parmi les nouvelles\n            tuiles), tandis que le joueur qui a choisi la tuile avec le numro le plus lev jouera en dernier.  2\n            joueurs, cela implique que les joueurs peuvent effectuer leurs squences <action>PUT</action> +\n            <action>PICK</action> l'une aprs l'autre ou bien en alternance, en fonction de l'ordre des tuiles.\n          </li>\n          <li>Il n'y a pas de choix de tuile lors du dernier tour.</li>\n        </ul>\n\n        <h2>Score</h2>\n        <ul>\n          <li>La partie dure exactement 7 tours pour une partie  2 joueurs et 13 pour une partie  3 ou 4 joueurs.</li>\n          <li>\n            Le territoire de chaque joueur est compos de plusieurs zones contigus, chacune d'un type de terrain donn.\n            Chaque zone rapporte un nombre de points gal  sa taille (en nombre de carrs) mutliplie par le nombre de\n            couronnes contenues dans la zone.\n          </li>\n          <li>Une zone ne contenant aucune couronne ne rapporte donc aucun point.</li>\n          <li>Le score final d'un joueur est le total des scores de chacune des zones dans son territoire.</li>\n          <li>Un bonus de 5 points est attribu  chaque joueur qui n'a dfauss aucune tuile.</li>\n          <li>\n            Un bonus de 10 points est attribu  chaque joueur dont le chteau se trouve au milieu de son territoire.\n          </li>\n          <li>\n            En cas d'galit, les joueurs avec le plus grand territoire (en nombre de carrs) reoivent chacun un point\n            supplmentaire pour les dpartager.\n          </li>\n          <li>\n            En cas d'une seconde galit, les joueurs avec le plus grand nombre de couronnes reoivent chacun un point\n            supplmentaire pour les dpartager.\n          </li>\n          <li>En cas de troisime galit, les joueurs sont ex aequo.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- Win conditions -->\n  <div class=\"statement-victory-conditions\">\n    <div class=\"icon victory\"></div>\n    <div class=\"blk\">\n      <div class=\"title\">Conditions de victoire</div>\n      <div class=\"text\">\n        <ul>\n          <li>Avoir le plus grand score.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- Lose conditions -->\n  <div class=\"statement-lose-conditions\">\n    <div class=\"icon lose\"></div>\n    <div class=\"blk\">\n      <div class=\"title\">Conditions< de dfaite</div>\n      <div class=\"text\">\n        <ul>\n          <li>Avoir un score infrieur.</li>\n          <li>Effectuer une action invalide.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Protocole du jeu</span>\n    </h1>\n\n    <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"text\">\n        <strong>Entre d'initialisation</strong>&nbsp;:\n        <p><span class=\"statement-lineno\">Ligne 1&nbsp;: </span><var>nbPlayers</var>&nbsp;: le nombre de joueurs.</p>\n        <p>\n          <span class=\"statement-lineno\">Ligne 2&nbsp;: </span><var>nbTiles</var>&nbsp;: le nombre de tuiles en jeu chaque tour.\n          <const>4</const> pour une partie  2 ou 4 joueurs et <const>3</const> pour une partie  3 joueurs.\n        </p>\n        <strong>Pour chaque tour</strong>&nbsp;:\n        <p>\n          <span class=\"statement-lineno\"><var>nbPlayers</var> fois <const>9</const> lignes</span>&nbsp;: la grille de chaque\n          joueur.\n          <strong>Votre grille est toujours donne en premier</strong>. Chaque ligne se compose de <const>9</const>\n          groupes de <const>2</const> caractres reprsentant chacun un carr de la grille&nbsp;:\n        </p>\n        <ul>\n          <li>\n            Un caractre reprsentant le type de terrain&nbsp;: vide (<const>_</const>), chteau (<const>*</const>), champ de\n            mas (<const>c</const>), fort (<const>f</const>), prairie (<const>g</const>), lac (<const>l</const>),\n            marais (<const>w</const>) ou mine (<const>m</const>).\n          </li>\n          <li>Un caractre entre <const>0</const> et <const>3</const> pour le nombre de couronnes dans ce carr.</li>\n          <li>Le chteau est toujours plac au centre de la grille.</li>\n        </ul>\n        <p>\n          <strong>IMPORTANT&nbsp;:</strong> la grille donne en entre est plus grande que ce qui est affich  l'cran.\n          L'affichage ne montre qu'une portion de la grille correspondant  l'extension maximale autorise.\n        </p>\n        <p>\n          <span class=\"statement-lineno\"><var>nbTiles</var> lignes suivantes&nbsp;: </span><var>tileId</var> <var>firstSquare</var>\n          <var>secondSquare</var> <var>playerId</var> <var>current</var>&nbsp;: le numro d'une tuile place lors de ce tour de\n          table, les deux carrs de cette tuile, dans le mme format que pour la grille, le numro du joueur qui place cette\n          tuile et un indicateur de la tuile en jeu pour ce tour de joueur. <strong>Votre joueur a toujours le numro\n          0</strong>. <var>playerId</var> peut tre <const>-1</const> si une tuile n'a pas t slectionne lors du tour\n          prcdent. <var>current</var> est <const>1</const> pour la tuile en jeu ce tour, <const>0</const> pour les autres\n          tuiles.\n        </p>\n        <p>\n          <span class=\"statement-lineno\"><var>nbTiles</var> lignes suivantes&nbsp;: </span><var>tileId</var> <var>firstSquare</var>\n          <var>secondSquare</var> <var>playerId</var>&nbsp;: les tuiles  choisir pour le tour suivant. <var>playerId</var> est\n          <const>-1</const> pour les tuiles qui n'ont pas encore t choisies.\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Sortie</div>\n      <div class=\"text\">\n        <p>\n          <span class=\"statement-lineno\">Ligne &nbsp;: </span><action>PUT</action> <var>x</var> <var>y</var>\n          <var>rotation</var>&nbsp;:\n        </p>\n        <ul>\n          <li><var>x</var> et <var>y</var> sont l'emplacement du premier carr de la tuile.</li>\n          <li>\n            <var>rotation</var> dtermine l'emplacement du second carr&nbsp;: <const>0</const> est  droite du premier carr,\n            <const>1</const> en-dessous, <const>2</const>  gauche, <const>3</const> au-dessus.<br />\n            <img src=\"https://i.imgur.com/DZIOUIi.png\" alt=\"Exemples de rotation\" /><!-- rotation.png-->\n          </li>\n          <li>\n            Dans le cas o il n'existe aucun placement valide pour cette tuile, les valeurs sur cette ligne sont ignores -\n            cependant la ligne doit toujours tre remplie suivant le format attendu.\n          </li>\n        </ul>\n        <p>\n          <span class=\"statement-lineno\">Ligne &nbsp;: </span><action>PICK</action> <var>tileId</var> <var>message</var>&nbsp;: le\n          numro d'identification de la tuile choisie et un message facultatif  afficher.\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Contraintes</div>\n      <div class=\"text\">\n        <ul>\n          <li>Les deux commandes doivent toujours tre donnes et formates correctement  chaque tour.</li>\n          <li>Lors du premier tour, les valeurs de la commande <action>PUT</action> sont ignores.</li>\n          <li>Lors du dernier tour, les valeurs de la commande <action>PICK</action> sont ignores.</li>\n          <li>\n            Les commandes mal formates et les commandes invalides mettent fin  la partie du joueur.\n            Le score reste pris en compte  la fin de la partie.\n          </li>\n        </ul>\n      </div>\n      <div class=\"text\">\n        <p>Vous avez <const>1000</const> ms pour rpondre au premier tour.</p>\n        <p>Vous avez <const>50</const> ms pour rpondre lors des tours suivants.</p>\n      </div>\n    </div>\n  </div>\n\n  <!-- STORY -->\n  <div class=\"statement-story-background\">\n    <div class=\"statement-story-cover\">\n      <div class=\"statement-story\" style=\"min-height: 300px; position: relative\">\n        <h1>Coders of the Realm</h1>\n        <div class=\"story-text\">\n          <p>\n            Revenu victorieux de sa dernire campagne, le roi accorde des terrains  ses loyaux seigneurs en rcompense\n            de leur participation aux batailles. Afin d'viter de semer la discorde entre eux, le roi a invent une\n            manire de s'assurer que chaque seigneur reoive quitablement des terrains riches et pauvres.\n          </p>\n          <p>\n            Pourtant, si vous tes plus astucieux que les autres seigneurs, vous pourriez bien parvenir  btir pour\n            vous le meilleur domaine !\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n",
            "2": "<!-- Autogenerated file! Do not edit directly. --><!-- LEAGUES level1 level2 level3 level4 -->\n<!-- images stored on https://imgur.com/a/Jjc0kAj -->\n<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <!-- LEAGUE ALERT -->\n  <div\n    style=\"color: #7cc576;\n    background-color: rgba(124, 197, 118,.1);\n    padding: 20px;\n    margin-right: 15px;\n    margin-left: 15px;\n    margin-bottom: 10px;\n    text-align: left;\"\n  >\n    <div style=\"text-align: center; margin-bottom: 6px\">\n      <img src=\"//cdn.codingame.com/smash-the-code/statement/league_wood_04.png\" />\n    </div>\n\n    <p style=\"text-align: center; font-weight: 700; margin-bottom: 6px;\">\n      Welcome to the Bronze league!\n    </p>\n    <span class=\"statement-league-alert-content\">\n      <p>\n        Bonus points are now awarded at the end of the game for keeping the castle at the center of the territory and\n        using all of the available space without discarding any tiles.\n      </p>\n      <p>\n        Invalid put actions will now end the player's game. The score will still be taken into account at the end of\n        the game.\n      </p>\n    </span>\n  </div>\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      <p>\n        This is a port of the board game <a href=\"http://www.blueorangegames.eu/pf/kingdomino/\">Kingdomino</a> by Bruno\n        Cathala and Cyril Bouquet.\n      </p>\n      <p>\n        The source code of the game is available <a href=\"https://gitlab.com/matthieu.dazy/cg-kingdomino/-/tree/master\">here</a>.\n      </p>\n      <p>\n        The goal is to build the wealthiest territory by carefully choosing and placing land tiles, thus creating the\n        largest and richest connected zones.\n      </p>\n      <p>\n        The tile textures are from\n        <a href=\"https://opengameart.org/content/big-pack-of-hand-painted-tiling-textures\">this OpenGameArt pack</a>.\n      </p>\n      <p>\n        The logo has been generated on <a href=\"http://renderforest.com\"/>Render Forest</a>.\n      </p>\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        <h2>Tiles</h2>\n        <p>\n          The game is played with land tiles. Each tile is a domino with two squares. There are 6 different terrain\n          type: corn field, forest, grassland, lake, wetland and mine. Each square may also contain up to 3 crowns that\n          will reinforce the value of the zone containing the square.\n        </p>\n        <p>\n          Each tile has a unique ID, roughly indicating its \"value\". Tiles with more crowns or rare terrain types have\n          larger IDs, whereas tiles with common terrain types and few or no crowns have lower IDs.\n        </p>\n        <p>\n          Players build their own, separate territory, starting from their castle and expanding by placing new land\n          tiles next to existing land, thus creating connected zones of the same terrain type.\n        </p>\n        <p>\n          The game contains a fixed set of 48 tiles, distributed in sets over several turns. Each tile is therefore\n          available only once in the game. In a 2- or 3-player game, only some of the tiles are put in play, so some\n          tiles may not appear at all during the game.\n        </p>\n        <p>\n          The full list of tiles is available <a href=\"https://gitlab.com/matthieu.dazy/cg-kingdomino/-/blob/master/src/main/resources/tiles.csv\">here</a>\n          as a CSV file.\n        </p> \n\n        <h2>Game turn</h2>\n        <p>\n          On each turn, each player executes a sequence of two actions:\n        </p>\n        <ul>\n          <li><action>PUT</action> a tile on their territory</li>\n          <li><action>PICK</action> the tile they will play on the next turn</li>\n        </ul>\n        <p>\n          The order of play in each turn is determined by the value of the chosen tiles, as explained below in the Tile\n          choice rules section. On the first turn, the order is that of the IDE.\n        </p>\n        <p>\n          In a 2-player game, 4 tiles are available for each turn and each player plays twice, excuting two separate and\n          independent sequences of <action>PUT</action> + <action>PICK</action> actions. On the first turn, players do\n          this alternatively (first player, second player, first player, second player). On subsequent turns, the order\n          changes according to the picked tiles.\n        </p>\n\n        <h2>Tile placement rules</h2>\n        <ul>\n          <li>Tiles may be rotated in any orientation.</li>\n          <li>Tiles may not overlap the castle.</li>\n          <li>Tiles may not overlap existing territory.</li>\n          <li>\n            At least one square of the placed tile must be next to the castle or have a neighbor with matching terrain\n            type. It is not mandatory for the other square to match a neighbor.\n          </li>\n          <li>\n            The horizontal and vertical extent of the resulting territory must not exceed <const>5</const> squares.\n          </li>\n          <li>If a tile cannot be placed according to these constraints, it is discarded.</li>\n          <li>It is not possible to discard a tile for which there is a valid placement.</li>\n          <li>There is no tile placement on the first turn.</li>\n        </ul>\n        <img src=\"https://i.imgur.com/tzM4LM0.png\" alt=\"Examples of valid placement\" /><br />\n        <!-- wood1Valid.png -->\n        <img src=\"https://i.imgur.com/RtI8YX9.png\" alt=\"Examples of invalid placement\" /><br />\n        <!-- wood1Invalid.png -->\n\n        <h2>Tile choice rules</h2>\n        <ul>\n          <li>Several new tiles are available for pick on each turn: 4 for a 2- or 4-player game and 3 for a 3-player game.</li>\n          <li>\n            Each tile can be chosen by only one player: the first player has the most choice, the others have to pick\n            from whatever is left.\n          </li>\n          <li>\n            The tiles are ordered by ascending ID: on the following turn, the player who picked the tile with the lowest\n            ID will play first (and get the largest choice from the new tiles), whereas the player who picked the tile\n            with the highest ID will play last. For 2 players this means that players may perform their put+pick\n            sequences sequentially or alternately, depending on the IDs order.\n          </li>\n          <li>There is no tile choice on the last turn.</li>\n        </ul>\n\n        <h2>Scoring</h2>\n        <ul>\n          <li>The game always lasts exactly 7 turns for a 2-player game and 13 turns for a 3- or 4-player game.</li>\n          <li>\n            Each player's territory is composed of several connected zones, each of a specific terrain type. Each zone has a\n            value equal to its size (in number of squares) multiplied by the number of crowns contained in that zone.\n          </li>\n          <li>A zone containing no crowns is thus worth zero points.</li>\n          <li>The full score of a player's territory is the sum of the scores of all zones in that territory.</li>\n          <li>A bonus of 5 points is awarded to each player who did not discard any tile.</li>\n          <li>\n            A bonus of 10 points is awarded to each player whose castle is in the middle of that player's territory.\n          </li>\n          <li>\n            In case of a score tie, the players with the largest territory (in number of squares) each receive one extr\n            point for tie-breaking.\n          </li>\n          <li>\n            In case of a second score tie, the players with the largest number of crowns each receive one extra point for\n            tie-breaking.\n          </li>\n          <li>After that, players may be tied for good.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- Win conditions -->\n  <div class=\"statement-victory-conditions\">\n    <div class=\"icon victory\"></div>\n    <div class=\"blk\">\n      <div class=\"title\">Victory Conditions</div>\n      <div class=\"text\">\n        <ul>\n          <li>Be the player with the largest score.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- Lose conditions -->\n  <div class=\"statement-lose-conditions\">\n    <div class=\"icon lose\"></div>\n    <div class=\"blk\">\n      <div class=\"title\">Defeat Conditions</div>\n      <div class=\"text\">\n        <ul>\n          <li>Have a lower score.</li>\n          <li>Output an invalid action.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n    </h1>\n\n    <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"text\">\n        <strong>Game initialization</strong>:\n        <p><span class=\"statement-lineno\">Line 1: </span><var>nbPlayers</var>: the number of players.</p>\n        <p>\n          <span class=\"statement-lineno\">Line 2: </span><var>nbTiles</var>: the number of tiles in play each turn.\n          This is <const>4</const> for 2- and 4-player games and <const>3</const> for 3-player games.\n        </p>\n        <strong>For each turn</strong>:\n        <p>\n          <span class=\"statement-lineno\"><var>nbPlayers</var> times <const>9</const> lines</span>: each player's grid.\n          <strong>Your grid is always the first one</strong>. Each line is composed of <const>9</const> sets of\n          <const>2</const> chars representing a single grid square:\n        </p>\n        <ul>\n          <li>\n            One char representing the terrain type: empty (<const>_</const>), castle (<const>*</const>), corn field\n            (<const>c</const>), forest (<const>f</const>), grassland (<const>g</const>), lake (<const>l</const>),\n            wetland (<const>w</const>) or mine (<const>m</const>).\n          </li>\n          <li>One char between <const>0</const> and <const>3</const> for the number of crowns on that square.</li>\n          <li>The castle is always located at the center of the grid.</li>\n        </ul>\n        <p>\n          <strong>IMPORTANT:</strong> the grid given in input is larger than what the viewer displays. The viewer only\n          shows a subwindow of the grid that fits the maximal allowed extent.\n        </p>\n        <p>\n          <span class=\"statement-lineno\"><var>nbTiles</var> next lines: </span><var>tileId</var> <var>firstSquare</var>\n          <var>secondSquare</var> <var>playerId</var> <var>current</var>: the ID of a tile being placed that turn, the\n          two squares of the tile, in the same format as in the grid, the ID of the player who places that tile and a\n          flag showing the tile in play this turn. <strong>You always have player ID 0</strong>. <var>playerId</var> may\n          be <const>-1</const> in case a tile has not been picked during the previous turn. <var>current</var> is\n          <const>1</const> for the tile in play this turn, <const>0</const> for the other tiles.\n        </p>\n        <p>\n          <span class=\"statement-lineno\"><var>nbTiles</var> next lines: </span><var>tileId</var> <var>firstSquare</var>\n          <var>secondSquare</var> <var>playerId</var>: the tiles to be picked for the next turn. <var>playerId</var> is\n          <const>-1</const> for tiles that are still available for picking.\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <p>\n          <span class=\"statement-lineno\">Line 1: </span><action>PUT</action> <var>x</var> <var>y</var>\n          <var>rotation</var>:\n        </p>\n        <ul>\n          <li><var>x</var> and <var>y</var> are the location of the first square of the tile.</li>\n          <li>\n            <var>rotation</var> determines the location of the second square: <const>0</const> is on the right of the\n            first square, <const>1</const> is below, <const>2</const> is on the left, <const>3</const> is above.<br />\n            <img src=\"https://i.imgur.com/DZIOUIi.png\" alt=\"Examples of rotation\" /><!-- rotation.png-->\n          </li>\n          <li>\n            In the case where there is no valid placement for the tile, values on this line are ignored - however the\n            line still needs to be given with the expected format.\n          </li>\n        </ul>\n        <p>\n          <span class=\"statement-lineno\">Line 2: </span><action>PICK</action> <var>tileId</var> <var>message</var>: the\n          ID of the picked tile and an optional message to be displayed in the viewer.\n        </p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\">\n        <ul>\n          <li>Both commands must always be given and correctly formatted on every turn.</li>\n          <li>On the first turn, the values given to the <action>PUT</action> command are ignored.</li>\n          <li>On the last turn, the value given to the <action>PICK</action> command is ignored.</li>\n          <li>\n            Badly formatted commands and invalid actions will end the player's game. The score is still taken into account\n            at the end of the game.\n          </li>\n        </ul>\n      </div>\n      <div class=\"text\">\n        <p>You have <const>1000</const> ms to answer on the first turn.</p>\n        <p>You have <const>50</const> ms to answer during the rest of the game.</p>\n      </div>\n    </div>\n  </div>\n\n  <!-- STORY -->\n  <div class=\"statement-story-background\">\n    <div class=\"statement-story-cover\">\n      <div class=\"statement-story\" style=\"min-height: 300px; position: relative\">\n        <h1>Coders of the Realm</h1>\n        <div class=\"story-text\">\n          <p>\n            After his last victorious conquest, the king is granting territories to his faithful lords as a reward\n            for their participation in the battles. In order to avoid strife among them, the king has designed a way\n            to ensure each lord gets a fair mix of the richer and poorer lands.\n          </p>\n          <p>\n            Yet, if you are more cunning than the other lords, you might still be able to build the best land for\n            yourself!\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"
          },
          "questionType": "multi",
          "stubGenerator": "read nbPlayers:int\r\nread nbTiles:int\r\ngameloop\r\nloop nbPlayers loop 9 read gridLine:word(18)\r\nloop nbTiles read curTileId:int curFirstSquare:word(2) curSecondSquare:word(2) curPlayerId:int current:int\r\nloop nbTiles read nextTileId:int nextFirstSquare:word(2) nextSecondSquare:word(2) nextPlayerId:int\r\nwrite PUT 0 0 0\r\nPICK 1\r\n\r\nSTATEMENT\r\nPlace and pick tiles to build the richest land.\r\nYou always have player id 0 and your grid is always given first.\r\n\r\nINPUT\r\nnbPlayers: the number of players in the game\r\nnbTiles: the number of tiles in play each turn\r\ncurTileId: id of a tile being played this turn\r\ncurFirstSquare: first square of a tile being played this turn\r\ncurSecondSquare: second square of a tile being played this turn\r\ncurPlayerId: id of the player who will place that tile\r\ncurrent: 1 if the tile is in play this turn, 0 otherwise\r\nmyTileId: id of the tile you are playing this turn\r\nmyFirstSquare: first square of the tile you are playing this turn\r\nmySecondSquare: second square of the tile you are playing this turn\r\nnextTileId: id of a tile to be picked for next turn\r\nnextFirstSquare: first square of a tile to be picked for next turn\r\nnextSecondSquare: second square of a tile to be picked for next turn\r\nnextPlayerId: id of the player who has picked that tile, -1 if the tile has not been picked yet\r\n\r\nOUTPUT\r\nPUT x y rotation\r\nPICK tileId\r\n",
          "welcomePopups": {
            "1": "<div style=\"text-align:center\">\r\n  <h2>Vous avez atteint la ligue suivante !</h2>\r\n  <p>Des points supplmentaires sont accords en fin de partie aux joueurs ayant bpati un territoire harmonieux.</p>\r\n  <p>Les placements de tuiles invalide mettent maintenant un terme  votre partie.</p>\r\n  <div class=\"small\">Voir les rgles de score dans les nouvelles rgles pour plus de dtails.</div>\r\n  <img src=\"https://i.imgur.com/Oftr1RR.png\" alt=\"Nouvelles rgles\" />\r\n</div>\r\n",
            "2": "<div style=\"text-align:center\">\r\n  <h2>You have reached the next league!</h2>\r\n  <p>Extra points are awarded at the end of the game for keeping your territory tidy.</p>\r\n  <p>Invalid put actions will now end your game.</p>\r\n  <div class=\"small\">See the Scoring rules in the updated statement for details.</div>\r\n  <img src=\"https://i.imgur.com/Oftr1RR.png\" alt=\"New rules\" />\r\n</div>\r\n"
          },
          "aiCodeExtension": "java",
          "criteriaLanguageMap": {}
        }
      },
      "coverBinaryId": 39653981904760,
      "directoryPrefix": "community/788361-1578470109348",
      "allowSourceDownload": false
    },
    "draft": false,
    "readyForModeration": true
  },
  "validatedFor": 188919107953,
  "avatar": 29407964997640,
  "commentCount": 26,
  "upVotes": 15,
  "downVotes": 0,
  "validateAction": {
    "actionId": 428683,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1581811995033,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}