{
  "id": 21267,
  "activeVersion": 10,
  "score": 7,
  "votableId": 24121920,
  "codingamerId": 3845610,
  "views": 251,
  "commentableId": 24005409,
  "title": "N Pearls Necklace",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "pardouin",
  "publicHandle": "21267833d34ef960c94d60f4bb5c5f70f7926",
  "codingamerHandle": "f5e3b2911a0a16192867d634937546a60165483",
  "lastVersion": {
    "version": 10,
    "autocloseTime": 1657724813955,
    "data": {
      "title": "N Pearls Necklace",
      "topics": [
        {
          "id": 104,
          "handle": "group-theory",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Group theory",
            "2": "Group theory"
          },
          "puzzleCount": 4,
          "parentTopicId": 93
        },
        {
          "id": 129,
          "handle": "arithmetic",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Arithmetic",
            "2": "Arithmetic"
          },
          "puzzleCount": 24,
          "parentTopicId": 93
        }
      ],
      "solution": "from math import gcd, comb\nn, c = int(input()), int(input())\ndef dihedral_burnside_count(n, c):  # count configurations with AT MOST c colors\n    if n & 1:  # orbits of identity + vertice/edge reflections\n        total = c**n + n*c**((n+1)//2)\n    else:  # orbits of identity + edge/edge reflections + vertice/vertice reflections\n        total = c**n + n//2*c**(n//2) + n//2*c**(n//2 + 1)\n    for k in range(1, n):  # orbits of planar rotations\n        total += c**gcd(k, n)\n    return total//(2*n)\ncount, sgn = 0, 1\nfor _c in range(c, 0, -1):  # inclusion-exclusion principle\n    count += sgn*comb(c, _c)*dihedral_burnside_count(n, _c)\n    sgn *= -1\nprint(count)\n\"\"\"\n# constructive method - only works for small values\nfrom itertools import product\ndef representant(p):\n    r = [p[k:] + p[:k] for k in range(n)]\n    return(min(r + [s[::-1] for s in r]))\nnecklaces = {representant(p) for p in product(range(c), repeat=n) if len(set(p)) == c}\nprint(len(necklaces))\n\"\"\"",
      "statement": "Mr. Burn and Mr. Side work in a necklace shop.\nMr. Burn makes the necklaces and Mr. Side sells them.\nThe necklaces are made with pearls of identical radius.\nSometimes, Mr. Burn launches a new collection: he chooses a panel of colors and a number of pearls and creates necklaces with these constraints.\nMr. Side is very dedicated to his job and whenever a new collection is launched, he displays all possible necklaces that follows the constraints of the collection in a glass case to offer the widest choice to the customers.\n\nThe necklaces are circular and reversible so the necklaces {{ABCDE}}, {{EABCD}} and {{EDCBA}} are the same necklace.\nAlso note that all colors of the panel must be used at least once.\n\nFor example if the constraints of the collection are:\n`\nnumber of pearls: 5 pearls\npanel of colors: black and white,\n`\nthen there are only 6 different necklaces:\n{{WBBBB}}, {{WWBBB}}, {{WBWBB}}, {{WWWBB}}, {{WWBWB}}, {{WWWWB}}.\n\nTo help Mr. Side evaluate the size of the glass case, you must output the number of different necklaces for a given collection.",
      "testCases": [
        {
          "title": "Test 1",
          "isTest": true,
          "testIn": "5\n2",
          "testOut": "6",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "4\n2",
          "testOut": "4",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 2",
          "isTest": true,
          "testIn": "5\n3",
          "testOut": "18",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "7\n2",
          "testOut": "16",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 3",
          "isTest": true,
          "testIn": "6\n3",
          "testOut": "56",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "12\n2",
          "testOut": "222",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 4",
          "isTest": true,
          "testIn": "23\n3",
          "testOut": "2046303339",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "19\n4",
          "testOut": "7111777860",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 5",
          "isTest": true,
          "testIn": "24\n4",
          "testOut": "5840547488954",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "20\n5",
          "testOut": "2247627076731",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "hard",
      "constraints": "1 ≤ [[C]] ≤ [[N]] ≤ 30",
      "coverBinaryId": 86510942210355,
      "stubGenerator": "read N:int\nread C:int\nwrite answer",
      "inputDescription": "<<Line 1:>> An integer [[N]] for the number of pearls.\n<<Line 2:>> An integer [[C]] for the number of colors in the panel.",
      "solutionLanguage": "Python3",
      "outputDescription": "<<Line 1:>> The number of different necklaces for a given collection."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Mr. Burn and Mr. Side work in a necklace shop.<br>Mr. Burn makes the necklaces and Mr. Side sells them.<br>The necklaces are made with pearls of identical radius.<br>Sometimes, Mr. Burn launches a new collection: he chooses a panel of colors and a number of pearls and creates necklaces with these constraints.<br>Mr. Side is very dedicated to his job and whenever a new collection is launched, he displays all possible necklaces that follows the constraints of the collection in a glass case to offer the widest choice to the customers.<br><br>The necklaces are circular and reversible so the necklaces <const>ABCDE</const>, <const>EABCD</const> and <const>EDCBA</const> are the same necklace.<br>Also note that all colors of the panel must be used at least once.<br><br>For example if the constraints of the collection are:<br><pre style=\"font-family: monospace\"><br>number of pearls: 5 pearls<br>panel of colors: black and white,<br></pre><br>then there are only 6 different necklaces:<br><const>WBBBB</const>, <const>WWBBB</const>, <const>WBWBB</const>, <const>WWWBB</const>, <const>WWBWB</const>, <const>WWWWB</const>.<br><br>To help Mr. Side evaluate the size of the glass case, you must output the number of different necklaces for a given collection.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> An integer <var>N</var> for the number of pearls.<br><strong>Line 2:</strong> An integer <var>C</var> for the number of colors in the panel.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>Line 1:</strong> The number of different necklaces for a given collection.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">1 &le; <var>C</var> &le; <var>N</var> &le; 30</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">5\n2</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">6</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 113932313082,
  "avatar": 60364063762936,
  "commentCount": 7,
  "upVotes": 7,
  "downVotes": 0,
  "validateAction": {
    "actionId": 673683,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1656797548309,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}