{
  "id": 26085,
  "activeVersion": 14,
  "score": 11,
  "votableId": 24704623,
  "codingamerId": 304126,
  "views": 185,
  "commentableId": 24586076,
  "title": "It's magic",
  "status": "ACCEPTED",
  "type": "CLASHOFCODE",
  "nickname": "Kami...",
  "publicHandle": "26085a26f0fbd9e42da4c39dd72ea0be15b56",
  "codingamerHandle": "f3ce630ca4de3425374c3369d7495d17621403",
  "lastVersion": {
    "version": 14,
    "autocloseTime": 1663585249030,
    "data": {
      "title": "It's magic",
      "topics": [],
      "fastest": true,
      "reverse": true,
      "shortest": true,
      "solution": "<?php\n\nfscanf(STDIN, \"%d\", $n);\n\n$square = [];\n\nfor ($i = 0; $i < $n; $i++) {\n    $square[] = explode(' ', stream_get_line(STDIN, 1024 + 1, \"\\n\"));\n\n}\n\n$magicSquareSolver = new MagicSquareSolver($square);\n\nclass MagicSquareSolver\n{\n    private $square;\n    private $magic;\n    private $n;\n\n    public function __construct(array $square)\n    {\n        $this->square = $square;\n        $n = count($square);\n        $this->n = $n;\n\n        $this->magic = ($n ** 3 + $n) / 2;\n    }\n\n\n    private function isLineMagic(): bool\n    {\n        foreach ($this->square as $line) {\n            if (array_sum($line) !== $this->magic) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    private function isColumnMagic(): bool\n    {\n        foreach (array_map(null, ...$this->square) as $line) {\n            if (array_sum($line) !== $this->magic) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    private function isDiagonalsMagic(): bool\n    {\n        $diagonalA = $diagonalB = 0;\n\n        for ($i = 0; $i < $this->n; $i++) {\n            $diagonalA += $this->square[$i][$i];\n            $diagonalB += $this->square[$this->n - $i - 1][$this->n - $i - 1];\n        }\n\n        return $diagonalA === $this->magic && $diagonalB === $this->magic;\n    }\n\n    private function hasUniqueNumbers(): bool\n    {\n        $uniqueNumbers = [];\n\n        foreach ($this->square as $line) {\n            $uniqueNumbers = array_unique(array_merge($uniqueNumbers, $line));\n        }\n\n        return count($uniqueNumbers) === $this->n ** 2 && array_sum($uniqueNumbers) === $this->n ** 2 * ($this->n ** 2 + 1) / 2;\n    }\n\n    public function isMagic(): string\n    {\n        return ($this->isDiagonalsMagic() && $this->isLineMagic() && $this->isColumnMagic() && $this->hasUniqueNumbers());\n    }\n\n    public function getMagic(): int\n    {\n        return $this->magic;\n    }\n}\n\necho($magicSquareSolver->isMagic()?$magicSquareSolver->getMagic():0);",
      "statement": "Square array of distinct positive integers 1, 2, ..., n^2, is called a <<normal magic square>> if the sums ({{magic constant}}) of the numbers in each row, each column, and both main diagonals are the same.",
      "testCases": [
        {
          "title": "Test 1",
          "isTest": true,
          "testIn": "3\n8 1 6\n3 5 7\n4 9 2",
          "testOut": "15",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "3\n2 7 6\n9 5 1\n4 3 8",
          "testOut": "15",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 2",
          "isTest": true,
          "testIn": "3\n7 6 2\n5 1 9\n3 8 4",
          "testOut": "0",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "3\n1 6 8\n5 7 3\n9 2 4",
          "testOut": "0",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 3",
          "isTest": true,
          "testIn": "4\n6 12 9 7\n15 1 4 14\n3 13 16 2\n10 8 5 11",
          "testOut": "34",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "4\n4 14 15 1\n9 7 6 12\n5 11 10 8\n16 2 3 13",
          "testOut": "34",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 4",
          "isTest": true,
          "testIn": "4\n12 7 6 9\n8 11 13 5\n1 14 15 4\n13 2 3 16",
          "testOut": "0",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "4\n5 11 10 8\n9 7 16 12\n4 14 15 1\n16 2 3 13",
          "testOut": "0",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 5",
          "isTest": true,
          "testIn": "5\n17 24 1 8 15\n23 5 7 14 16\n4 6 13 20 22\n10 12 19 21 3\n11 18 25 2 9",
          "testOut": "65",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "5\n15 8 1 24 17\n16 14 7 5 23\n22 20 13 6 4\n3 21 19 12 10\n9 2 25 18 11",
          "testOut": "65",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 6",
          "isTest": true,
          "testIn": "6\n35 26 1 19 6 24\n8 17 28 10 33 15\n3 21 32 23 7 25\n30 12 5 14 34 16\n31 22 9 27 2 20\n4 13 36 18 29 11",
          "testOut": "111",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 6",
          "isTest": false,
          "testIn": "6\n22 27 20 31 9 2\n21 23 25 3 32 7\n26 19 24 35 1 6\n13 18 11 4 36 29\n12 14 16 30 5 34\n17 10 15 8 28 33",
          "testOut": "111",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 7",
          "isTest": true,
          "testIn": "7\n22 31 40 49 2 11 20\n21 23 32 41 43 3 12\n13 15 24 33 42 44 4\n5 14 16 25 34 36 45\n46 6 8 17 26 35 37\n38 47 7 9 18 27 29\n30 39 48 1 10 19 28",
          "testOut": "175",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 7",
          "isTest": false,
          "testIn": "7\n47 38 7 9 18 29 27\n39 30 48 1 10 28 19\n6 46 8 17 26 37 35\n14 5 16 25 34 45 36\n15 13 24 33 42 4 44\n31 22 40 49 2 20 11\n23 21 32 41 43 12 3",
          "testOut": "175",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 8",
          "isTest": true,
          "testIn": "8\n64 2 3 61 60 6 7 57\n9 55 54 12 13 51 50 16\n17 47 46 20 21 43 42 24\n40 26 27 37 36 30 31 33\n32 34 35 29 28 38 39 25\n41 23 22 44 45 19 18 48\n49 15 14 52 53 11 10 56\n8 58 59 5 4 62 63 1",
          "testOut": "260",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 8",
          "isTest": false,
          "testIn": "8\n1 63 62 4 5 59 58 8\n56 10 11 53 52 14 15 49\n48 18 19 45 44 22 23 41\n25 39 38 28 29 35 34 32\n33 31 30 36 37 27 26 40\n24 42 43 21 20 46 47 17\n16 50 51 13 12 54 55 9\n57 7 6 60 61 3 2 64",
          "testOut": "260",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 9",
          "isTest": true,
          "testIn": "4\n12 7 9 6\n8 11 5 13\n1 14 4 15\n13 2 16 3",
          "testOut": "0",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 9",
          "isTest": false,
          "testIn": "3\n2 6 7\n9 1 5\n4 8 3",
          "testOut": "0",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 10",
          "isTest": true,
          "testIn": "3\n3 8 7\n10 6 2\n5 4 9",
          "testOut": "0",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 10",
          "isTest": false,
          "testIn": "4\n7 13 10 8\n16 2 5 15\n4 14 17 3\n11 9 6 12",
          "testOut": "0",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "constraints": "N/A",
      "stubGenerator": "read n:int\nloop n read row:string(1024)\n\nwrite answer",
      "inputDescription": "<<Line 1 :>> size [[n]] of the square\n<<[[n]] next n lines:>> rows of the square",
      "solutionLanguage": "PHP",
      "outputDescription": "<<Ligne 1 :>> the {{magic constant}} if the square is magic, 0 otherwise."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Square array of distinct positive integers 1, 2, ..., n^2, is called a <strong>normal magic square</strong> if the sums (<const>magic constant</const>) of the numbers in each row, each column, and both main diagonals are the same.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1 :</strong> size <var>n</var> of the square<br><strong><var>n</var> next n lines:</strong> rows of the square</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>Ligne 1 :</strong> the <const>magic constant</const> if the square is magic, 0 otherwise.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">N/A</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">3\n8 1 6\n3 5 7\n4 9 2</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">15</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 108080244264,
  "avatar": 10057081063920,
  "commentCount": 12,
  "upVotes": 11,
  "downVotes": 0,
  "validateAction": {
    "actionId": 697205,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1662649479964,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}