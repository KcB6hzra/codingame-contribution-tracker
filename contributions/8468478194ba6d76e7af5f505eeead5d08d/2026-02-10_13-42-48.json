{
  "id": 846,
  "activeVersion": 27,
  "score": 2,
  "votableId": 5972638,
  "codingamerId": 878974,
  "views": 575,
  "commentableId": 5913845,
  "title": "Smile! Frieze! Cheese!",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "nicola",
  "publicHandle": "8468478194ba6d76e7af5f505eeead5d08d",
  "codingamerHandle": "21bf42f790de293c3aef398f18cd2627479878",
  "lastVersion": {
    "version": 27,
    "autocloseTime": 1599129210840,
    "data": {
      "title": "Smile! Frieze! Cheese!",
      "topics": [
        {
          "labelMap": {
            "2": "Mathematics"
          }
        },
        {
          "labelMap": {
            "2": "Geometry"
          }
        },
        {
          "id": 69,
          "handle": "pattern-recognition",
          "labelMap": {
            "1": "Reconnaissance de motifs",
            "2": "Pattern recognition"
          },
          "pageTitle": "Pattern recognition: exercises and theory",
          "puzzleCount": 3,
          "parentTopicId": 41,
          "contentDetailsId": 88
        },
        {
          "labelMap": {
            "2": "Transformations"
          }
        }
      ],
      "solution": "n=int(input())\nf=[]\nc=lambda x:{\"-\":0,\"#\":1}[x]\nm=[0]\nfor _ in range(n):\n    f.append(list(map(c,input())))\n\nfor i in range(1,len(f[0])): # Reconnaissance du motif minimal par translation pure\n    x=0\n    for l in f:\n        x+=sum(l[j]==l[i+j] for j in range(len(l)-i))\n    m.append(x/(len(l)-i))\nmotif=[l[:m.index(max(m))] for l in f]\n\nnom=\"p\" # Construction du nom\nnom+=\"1m\"[all(l==l[::-1] for l in motif)]\nif motif==motif[::-1]:\n    nom+=\"m\"\nelse:\n    le=len(motif[0])//2\n    nom+=\"1a\"[all(motif[i][:le]==motif[-1-i][le:] for i in range(n))]\nnom+=\"12\"[all(motif[i]==motif[-1-i][::-1] for i in range(n))]\nif nom==\"pma1\": # Motif mal reconnu, appliquons une propriété mathématique\n    nom=\"pma2\"\n\nprint(nom)",
      "statement": "If you try to fill a ribbon with a repetitive pattern, you will only find seven unique ways to do it due to symmetry.\nThe names of these symmetry classes (Frieze groups) are provided below with examples. Each class of patterns may include horizontal and vertical symmetries, 180° rotations, and glide-reflections. All patterns also include horizontal translations, they are omitted below.\n\n{{p111}}: [[RRRRR]] No other transformations.\n{{p1m1}}: [[DDDDDD]] A horizontal symmetry.\n{{pm11}}: [[MMMMMM]] Vertical symmetries.\n{{p112}}: [[SSSSSS]] Only rotations.\n{{pmm2}}: [[HHHHHH]] Horizontal and vertical symmetries and rotations.\n{{p1a1}}: [[pbpbpb]] Only glide-reflections.\n{{pma2}}: [[A∀A∀A∀]] All transformations excepted horizontal symmetries.\n\nYou will be given a pattern in ASCII and you will have to find the mathematical name of the frieze.\nNote that you will be given a full pattern, it won't be cut.",
      "testCases": [
        {
          "title": "p111",
          "isTest": true,
          "testIn": "4\n#---#---#---#---#---\n#---#---#---#---#---\n#---#---#---#---#---\n###-###-###-###-###-",
          "testOut": "p111",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "p111",
          "isTest": false,
          "testIn": "4\n#---#---#---#---#---\n##--##--##--##--##--\n#---#---#---#---#---\n###-###-###-###-###-",
          "testOut": "p111",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "p1m1",
          "isTest": true,
          "testIn": "4\n###-###-###-###-###-\n#---#---#---#---#---\n#---#---#---#---#---\n###-###-###-###-###-",
          "testOut": "p1m1",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "p1m1",
          "isTest": false,
          "testIn": "5\n###-###-###-###-###-\n---#---#---#---#---#\n--##--##--##--##--##\n---#---#---#---#---#\n###-###-###-###-###-",
          "testOut": "p1m1",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "pm11",
          "isTest": true,
          "testIn": "5\n-#####--#####--#####--#####--#####--#####-\n-#----------#--#----------#--#----------#-\n-#----------#--#----------#--#----------#-\n-#----------#--#----------#--#----------#-\n-#----------#--#----------#--#----------#-",
          "testOut": "pm11",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "pm11",
          "isTest": false,
          "testIn": "5\n-#####--#####--#####--#####--#####--#####-\n-#----------#--#----------#--#----------#-\n-###------###--###------###--###------###-\n-#----------#--#----------#--#----------#-\n-#----------#--#----------#--#----------#-",
          "testOut": "pm11",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "pmm2",
          "isTest": true,
          "testIn": "5\n#---##---##---##---##---#\n-#-#--#-#--#-#--#-#--#-#-\n--#----#----#----#----#--\n-#-#--#-#--#-#--#-#--#-#-\n#---##---##---##---##---#",
          "testOut": "pmm2",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "pmm2",
          "isTest": false,
          "testIn": "5\n#---##---##---##---##---#\n#---##---##---##---##---#\n#########################\n#---##---##---##---##---#\n#---##---##---##---##---#",
          "testOut": "pmm2",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "p112",
          "isTest": true,
          "testIn": "5\n###---####---####---####---####---####---#\n#-----##-----##-----##-----##-----##-----#\n#-----##-----##-----##-----##-----##-----#\n#-----##-----##-----##-----##-----##-----#\n#---####---####---####---####---####---###",
          "testOut": "p112",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "p112",
          "isTest": false,
          "testIn": "7\n-####--####--####--####--####-\n#----##----##----##----##----#\n#-----#-----#-----#-----#-----\n-####--####--####--####--####-\n-----#-----#-----#-----#-----#\n#----##----##----##----##----#\n-####--####--####--####--####-",
          "testOut": "p112",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "p1a1",
          "isTest": true,
          "testIn": "4\n#####---#####---#####---#####---#####---#####---\n#---#---#---#---#---#---#---#---#---#---#---#---\n#---#---#---#---#---#---#---#---#---#---#---#---\n#---#####---#####---#####---#####---#####---####",
          "testOut": "p1a1",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "p1a1",
          "isTest": false,
          "testIn": "5\n#####---#####---#####---#####---#####---\n#---#---#---#---#---#---#---#---#---#---\n##--##--##--##--##--##--##--##--##--##--\n#---#---#---#---#---#---#---#---#---#---\n#---#####---#####---#####---#####---####",
          "testOut": "p1a1",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "pma2",
          "isTest": true,
          "testIn": "3\n###--##--######--##--######--##--######--##--######--##--###\n#----##----##----##----##----##----##----##----##----##----#\n#--######--##--######--##--######--##--######--##--######--#",
          "testOut": "pma2",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "pma2",
          "isTest": false,
          "testIn": "5\n####---##---########---##---########---##---########---##---########---##---########---##---####\n#------##------##------##------##------##------##------##------##------##------##------##------#\n##----####----####----####----####----####----####----####----####----####----####----####----##\n#------##------##------##------##------##------##------##------##------##------##------##------#\n#---########---##---########---##---########---##---########---##---########---##---########---#",
          "testOut": "pma2",
          "isValidator": true,
          "needValidation": false
        }
      ],
      "difficulty": "medium",
      "constraints": "The pattern will contain only hyphens {{-}} and hashes {{#}}.\nNote that you will be given a full pattern and the full pattern is given without any truncation.",
      "coverBinaryId": 47945140756845,
      "stubGenerator": "read n:int\nloop n read line:string(50)\nwrite name",
      "inputDescription": "<<Line 1>>: The number [[n]] of lines of the pattern below\n<<Next [[n]] lines>>: The pattern you have to name",
      "solutionLanguage": "Python3",
      "outputDescription": "The name of the pattern"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">If you try to fill a ribbon with a repetitive pattern, you will only find seven unique ways to do it due to symmetry.<br>The names of these symmetry classes (Frieze groups) are provided below with examples. Each class of patterns may include horizontal and vertical symmetries, 180&deg; rotations, and glide-reflections. All patterns also include horizontal translations, they are omitted below.<br><br><const>p111</const>: <var>RRRRR</var> No other transformations.<br><const>p1m1</const>: <var>DDDDDD</var> A horizontal symmetry.<br><const>pm11</const>: <var>MMMMMM</var> Vertical symmetries.<br><const>p112</const>: <var>SSSSSS</var> Only rotations.<br><const>pmm2</const>: <var>HHHHHH</var> Horizontal and vertical symmetries and rotations.<br><const>p1a1</const>: <var>pbpbpb</var> Only glide-reflections.<br><const>pma2</const>: <var>A&forall;A&forall;A&forall;</var> All transformations excepted horizontal symmetries.<br><br>You will be given a pattern in ASCII and you will have to find the mathematical name of the frieze.<br>Note that you will be given a full pattern, it won't be cut.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1</strong>: The number <var>n</var> of lines of the pattern below<br><strong>Next <var>n</var> lines</strong>: The pattern you have to name</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">The name of the pattern</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">The pattern will contain only hyphens <const>-</const> and hashes <const>#</const>.<br>Note that you will be given a full pattern and the full pattern is given without any truncation.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">4\n#---#---#---#---#---\n#---#---#---#---#---\n#---#---#---#---#---\n###-###-###-###-###-</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">p111</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 172374850559,
  "avatar": 26090852120005,
  "commentCount": 21,
  "upVotes": 5,
  "downVotes": 3,
  "validateAction": {
    "actionId": 482930,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "REFUSED",
      "date": 1571242995996,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1596537100927,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "ACCEPTED",
      "date": 1598356116377,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}