{
  "id": 93175,
  "activeVersion": 19,
  "score": 7,
  "votableId": 33665095,
  "codingamerId": 6072094,
  "views": 181,
  "commentableId": 33517008,
  "title": "Scaleable TicTacToe",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "hhgit",
  "publicHandle": "93175882405a872ba1077479ecb34fc2fc8b1",
  "codingamerHandle": "3dc42e70351c726eccf7b953756386924902706",
  "lastVersion": {
    "version": 19,
    "autocloseTime": 1753653600169,
    "freezeTime": 1751666400169,
    "data": {
      "title": "Scaleable TicTacToe",
      "topics": [
        {
          "id": 46,
          "handle": "loops",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Boucles",
            "2": "Loops"
          },
          "pageTitle": "Loops: exercises and theory",
          "puzzleCount": 106,
          "parentTopicId": 39,
          "contentDetailsId": 71
        },
        {
          "id": 50,
          "handle": "lists",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Listes",
            "2": "Lists"
          },
          "pageTitle": "Lists: exercises and theory",
          "puzzleCount": 17,
          "parentTopicId": 40,
          "contentDetailsId": 96
        }
      ],
      "solution": "using System;\nusing System.Linq;\nusing System.IO;\nusing System.Text;\nusing System.Collections;\nusing System.Collections.Generic;\n\n/**\n * Auto-generated code below aims at helping you parse\n * the standard input according to the problem statement.\n **/\nclass Solution\n{\n    static void Main(string[] args)\n    {\n        string[] inputs = Console.ReadLine().Split(' ');\n        int n = int.Parse(inputs[0]);\n        int g = int.Parse(inputs[1]);\n        byte[,] field = new byte[n, n];\n\n        for (int i = 0; i < n; i++)\n        {\n            string line = Console.ReadLine();\n            for (int j = 0; j < n; j++) {\n                if (line[j] == 'X') {\n                    field[i, j] = 1;\n                } else if (line[j] == 'O') {\n                    field[i, j] = 2;\n                } else {\n                    field[i, j] = 0;\n                }\n                //Console.Error.Write(field[i, j]);\n            }\n            //Console.Error.WriteLine();\n        }\n\n\n        int[] winner = CheckWin(field, g, n);\n\n        foreach (int i in winner) {\n            Console.Error.Write(i + \" \");\n        }\n        Console.Error.WriteLine();\n\n        if (winner[1] == 1) {\n            for (int i = 0; i < n; i++) {\n                for (int j = 0; j < n; j++) {\n                    if (winner[3] <= j && j < winner[3] + g && i == winner[2]) {\n                        Console.Write(\"-\");\n                    } else {\n                        Console.Write(field[i, j].ToString().Replace(\"0\", \" \").Replace(\"1\", \"X\").Replace(\"2\", \"O\"));\n                    }\n                }\n                Console.WriteLine();\n            }\n        } else if (winner[1] == 2) {\n            for (int i = 0; i < n; i++) {\n                for (int j = 0; j < n; j++) {\n                    if (winner[3] <= i && i < winner[3] + g && j == winner[2]) {\n                        Console.Write(\"|\");\n                    } else {\n                        Console.Write(field[i, j].ToString().Replace(\"0\", \" \").Replace(\"1\", \"X\").Replace(\"2\", \"O\"));\n                    }\n                }\n                Console.WriteLine();\n            }\n        } else if (winner[1] == 3) {\n            for (int i = 0; i < n; i++) {\n                for (int j = 0; j < n; j++) {\n                    if (j - i == winner[2] - winner[3] && winner[2] <= j && j < winner[2] + g && winner[3] <= i && i < winner[3] + g) {\n                        Console.Write(\"\\\\\");\n                    } else {\n                        Console.Write(field[i, j].ToString().Replace(\"0\", \" \").Replace(\"1\", \"X\").Replace(\"2\", \"O\"));\n                    }\n                }\n                Console.WriteLine();\n            }\n        } else if (winner[1] == 4) {\n            int counter = 0;\n            for (int i = 0; i < n; i++) {\n                for (int j = 0; j < n; j++) {\n                    if (winner[2] <= i && i < winner[2] + g && winner[3] >= j && winner[3] - g < j && j - i + counter*2 == winner[3] - winner[2]) {\n                        Console.Write(\"/\");\n                        counter++;\n                    } else {\n                        Console.Write(field[i, j].ToString().Replace(\"0\", \" \").Replace(\"1\", \"X\").Replace(\"2\", \"O\"));\n                    }\n                }\n                Console.WriteLine();\n            }\n        } else {\n            for (int i = 0; i < n; i++) {\n                for (int j = 0; j < n; j++) {\n                    Console.Write(field[i, j].ToString().Replace(\"0\", \" \").Replace(\"1\", \"X\").Replace(\"2\", \"O\"));\n                }\n                Console.WriteLine();\n            }\n        }\n\n        if (winner[0] == 0) {\n            Console.WriteLine(\"The game isn't over yet!\");\n        } else if (winner[0] == 1) {\n            Console.WriteLine(\"The winner is X.\");\n        } else if (winner[0] == 2) {\n            Console.WriteLine(\"The winner is O.\");\n        } else if (winner[0] == 3) {\n            Console.WriteLine(\"The game ended in a draw!\");\n        }\n    }\n\n    static int[] CheckWin(byte[,] board, int goal, int size) {\n        for (int i = 0; i < size; i++)\n        {\n            int in_a_row = 0;\n            int last_num = 1;\n            for (int j = 0; j < size; j++)\n            {\n                int a = board[i, j];\n                if (a == last_num && last_num != 0)\n                {\n                    in_a_row++;\n                } else if (a == 3 - last_num)\n                {\n                    in_a_row = 1;\n                    last_num = a;\n                } else if (a == 0)\n                {\n                    in_a_row = 0;\n                }\n                if (in_a_row >= goal)\n                {\n                    return new int[] {a, 1, i, j - goal + 1};\n                }\n            }\n\n            in_a_row = 0;\n            last_num = 1;\n            for (int j = 0; j < size; j++)\n            {\n                int a = board[j, i];\n                if (a == last_num && last_num != 0)\n                {\n                    in_a_row++;\n                }\n                else if (a == 3 - last_num)\n                {\n                    in_a_row = 1;\n                    last_num = a;\n                }\n                else if (a == 0)\n                {\n                    in_a_row = 0;\n                }\n                if (in_a_row >= goal)\n                {\n                    return new int[] {a, 2, i, j - goal + 1};\n                }\n            }\n        }\n\n        for (int i = 0; i <= size - goal; i++)\n        {\n            for (int j = 0; j <= size - goal; j++)\n            {\n                int a = board[i, j];\n                int b = board[i, size - j - 1];\n\n                if (a != 0)\n                {\n                    bool suceeded = true;\n\n                    for (int k = 0; k < goal; k++)\n                    {\n                        if (board[i + k, j + k] != a)\n                        {\n                            suceeded = false;\n                            break;\n                        }\n                    }\n\n                    if (suceeded)\n                    {\n                        return new int[] {a, 3, j, i};\n                    }\n                }\n\n                if (b != 0)\n                {\n                    bool suceeded = true;\n\n                    for (int k = 0; k < goal; k++)\n                    {\n                        if (board[i + k, size - j - k - 1] != b)\n                        {\n                            suceeded = false;\n                            break;\n                        }\n                    }\n\n                    if (suceeded)\n                    {\n                        return new int[] {b, 4, i, size - j - 1};\n                    }\n                }\n            }\n        }\n\n        return (WhiteSpaces(board) == 0) ? new int[] {3, 0, size, size} : new int[] {0, 0, size, size};\n    }\n\n    static int WhiteSpaces(byte[,] board)\n    {\n        int spaces = 0;\n\n        foreach (int i in board)\n        {\n            if (i == 0)\n            {\n                spaces++;\n            }\n        }\n\n        return spaces;\n    }\n}",
      "statement": "Imagine you're looking at a game of TicTacToe, but this time, the board can be any size, and the players need more than just three in a row to win. You're given a snapshot of the game, and it's your job to figure out if someone has already won, if the game is still going, or if it's ended in a draw, and then clearly mark the winning path if there is one.\n\nOn input, you are given two integers: [[n]] for the size of the TicTacToe board, and [[g]] for the number of cells required for a winning path. You are also given the state of a TicTacToe game, where:\n• (space) means that this cell is empty,\n• {{X}} means that it is occupied by player X and\n• {{O}} means that it is occupied by player O.\n\nThe winning path must be [[g]] cells long, according to the normal rules of TicTacToe (connecting [[g]] cells occupied by the same player in a row, column or diagonal).\n\n\nYour task is to output two things. The first output is the same TicTacToe game, but the winning path will be represented using the characters:\n• {{-}} (if the winning path is in a row),\n• {{|}} (if the winning path is in a column),\n• {{/}} (if the winning path is in a diagonal from left bottom to right top), or\n• {{\\}} (if the winning path is in a diagonal from left top to right bottom).\nIf there is no winning path, then the same field is output as was in an input.\n\nThe second output is the result, which will be one of the following:\n• {{The game isn't over yet!}} if there is at least one empty space and no winner,\n• {{The winner is X.}} if X won,\n• {{The winner is O.}} if O won, or\n• {{The game ended in a draw!}} if nobody won and there is no empty space.\n\n\nIt is not necessary for players X and O to have occupied the same number of spaces.",
      "testCases": [
        {
          "title": "Test 1",
          "isTest": true,
          "testIn": "3 3\nX O\nXO \nXOX",
          "testOut": "| O\n|O \n|OX\nThe winner is X.",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "3 3\nXOO\nXO \nX X",
          "testOut": "|OO\n|O \n| X\nThe winner is X.",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 2",
          "isTest": true,
          "testIn": "5 4\nO XXX\nOX   \n O   \n XXXX\n  O O",
          "testOut": "O XXX\nOX   \n O   \n ----\n  O O\nThe winner is X.",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "5 4\nO O  \nOXXXX\n  X O\nX OXX\nX   O",
          "testOut": "O O  \nO----\n  X O\nX OXX\nX   O\nThe winner is X.",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 3",
          "isTest": true,
          "testIn": "6 4\nOX X  \nXX OXX\nXXO XX\n  XOOX\nO  X O\n     O",
          "testOut": "OX X  \n\\X OXX\nX\\O XX\n  \\OOX\nO  \\ O\n     O\nThe winner is X.",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "6 4\nO O X \nXX OXO\n XO OX\nO XX  \n   XX \nO  X X",
          "testOut": "O O X \n\\X OXO\n \\O OX\nO \\X  \n   \\X \nO  X X\nThe winner is X.",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 4",
          "isTest": true,
          "testIn": "7 4\nO    XO\nXX   X \nOXOOX X\nXO OX X\nXO XXX \n  XX OO\n X  O O",
          "testOut": "O    XO\nXX   X \nOXOOX X\nXO O/ X\nXO /XX \n  /X OO\n /  O O\nThe winner is X.",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "7 4\nO XXX  \nXOOO OO\n  XX XX\n  XOOOX\n XX O  \nX   XOO\nX   O X",
          "testOut": "O XXX  \nXOOO OO\n  X/ XX\n  /OOOX\n /X O  \n/   XOO\nX   O X\nThe winner is X.",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 5",
          "isTest": true,
          "testIn": "4 3\nOXOX\nOXOX\nXOXO\n    ",
          "testOut": "OXOX\nOXOX\nXOXO\n    \nThe game isn't over yet!",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "4 3\nOOX \n XO \nOXO \nXO X",
          "testOut": "OOX \n XO \nOXO \nXO X\nThe game isn't over yet!",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 6",
          "isTest": true,
          "testIn": "5 3\nO    \nOX XX\n XO  \nO OXO\nX O O",
          "testOut": "O    \nOX XX\n X|  \nO |XO\nX | O\nThe winner is O.",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 6",
          "isTest": false,
          "testIn": "5 3\nXX   \n O   \nOO   \nOO X \n X  X",
          "testOut": "XX   \n |   \nO|   \nO| X \n X  X\nThe winner is O.",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 7",
          "isTest": true,
          "testIn": "6 5\nO XOXX\nXX    \n  XO  \n X O  \n OOOOO\n XOX  ",
          "testOut": "O XOXX\nXX    \n  XO  \n X O  \n -----\n XOX  \nThe winner is O.",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 7",
          "isTest": false,
          "testIn": "9 7\nOXOO   O \n OOOOOOO \n   O    X\n   X X   \nX OOX  OX\n  X XX  O\nO XOXXO O\n  OX OXXO\nOX O     ",
          "testOut": "OXOO   O \n ------- \n   O    X\n   X X   \nX OOX  OX\n  X XX  O\nO XOXXO O\n  OX OXXO\nOX O     \nThe winner is O.",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 8",
          "isTest": true,
          "testIn": "4 4\nOX  \n O O\nOXO \nX XO",
          "testOut": "\\X  \n \\ O\nOX\\ \nX X\\\nThe winner is O.",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 8",
          "isTest": false,
          "testIn": "4 4\nO  X\n OX \nXXOX\nOXOO",
          "testOut": "\\  X\n \\X \nXX\\X\nOXO\\\nThe winner is O.",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 9",
          "isTest": true,
          "testIn": "12 4\n    X  X  X \n   O       X\nXOO X  OXOO \nX  O    XO  \n O   XO OOX \n  XO O OO  X\nX XO   OX   \n       X  O \n         OO \nX    XXX O  \n X X       O\n   XO  XX   ",
          "testOut": "    X  X  X \n   O       X\nXOO X  OXO/ \nX  O    X/  \n O   XO /OX \n  XO O /O  X\nX XO   OX   \n       X  O \n         OO \nX    XXX O  \n X X       O\n   XO  XX   \nThe winner is O.",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 9",
          "isTest": false,
          "testIn": "12 4\nO   X   X O \nXX X XX    X\n XO OO OX X \nO XX  O   XX\n O  X XXX   \n    XOO OXXO\nX     O   OX\nXO O OX  OOX\n O    O OOOX\n X  X       \n         OX \nO O  X    OO",
          "testOut": "O   X   X O \nXX X XX    X\n XO OO OX X \nO XX  O   XX\n O  X XXX   \n    XOO OXX/\nX     O   /X\nXO O OX  /OX\n O    O /OOX\n X  X       \n         OX \nO O  X    OO\nThe winner is O.",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 10",
          "isTest": true,
          "testIn": "11 10\nXOXOOOOOOXX\nXOOXOXOOOXO\nOOXOXOOXXXX\nXOXXXOOXXOX\nOOOXXXXOXOO\nXOOXOXOOXXX\nXOXOOXXOOOO\nOOXXXOOXOXO\nOXXXXOOXOOO\nXOOOXXXXXOX\nOXOOOOXOXOX",
          "testOut": "XOXOOOOOOXX\nXOOXOXOOOXO\nOOXOXOOXXXX\nXOXXXOOXXOX\nOOOXXXXOXOO\nXOOXOXOOXXX\nXOXOOXXOOOO\nOOXXXOOXOXO\nOXXXXOOXOOO\nXOOOXXXXXOX\nOXOOOOXOXOX\nThe game ended in a draw!",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 10",
          "isTest": false,
          "testIn": "10 9\nXOXOXOOOXO\nOOXOXOXXOX\nOXOXOXOXOO\nXOXOOXOOXO\nXOOOXOXOXO\nXOOXOOXOOX\nOOXOXOXOOO\nXOXOXOOXOX\nOXOXOXOXOX\nOOOOXOOOXO",
          "testOut": "XOXOXOOOXO\nOOXOXOXXOX\nOXOXOXOXOO\nXOXOOXOOXO\nXOOOXOXOXO\nXOOXOOXOOX\nOOXOXOXOOO\nXOXOXOOXOX\nOXOXOXOXOX\nOOOOXOOOXO\nThe game ended in a draw!",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "easy",
      "constraints": "2 < [[n]] <= 12\n2 < [[g]] <= [[n]]\nThere can't be more than 1 winning path.\nThe winning path will always be [[g]] spaces.",
      "coverBinaryId": 146457829626856,
      "stubGenerator": "read n:int g:int\nloop n read row:string(n)\nwrite Answer",
      "inputDescription": "<<Line 1:>> Two space-separated integers [[n]] and [[g]] for the size of the TicTacToe board, and the number of cells required for a winning path respectively\n<<Next [[n]] lines:>> Each line contains [[n]] characters for the state of one row of the TicTacToe board",
      "solutionLanguage": "C#",
      "outputDescription": "<<[[n]] lines:>> The TicTacToe board updated with the winning path (if applicable)\n<<Next line:>> {{The game isn't over yet!}} or {{The winner is X.}} or {{The winner is O.}} or {{The game ended in a draw!}}"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Imagine you're looking at a game of TicTacToe, but this time, the board can be any size, and the players need more than just three in a row to win. You're given a snapshot of the game, and it's your job to figure out if someone has already won, if the game is still going, or if it's ended in a draw, and then clearly mark the winning path if there is one.<br><br>On input, you are given two integers: <var>n</var> for the size of the TicTacToe board, and <var>g</var> for the number of cells required for a winning path. You are also given the state of a TicTacToe game, where:<br>&bull; (space) means that this cell is empty,<br>&bull; <const>X</const> means that it is occupied by player X and<br>&bull; <const>O</const> means that it is occupied by player O.<br><br>The winning path must be <var>g</var> cells long, according to the normal rules of TicTacToe (connecting <var>g</var> cells occupied by the same player in a row, column or diagonal).<br><br><br>Your task is to output two things. The first output is the same TicTacToe game, but the winning path will be represented using the characters:<br>&bull; <const>-</const> (if the winning path is in a row),<br>&bull; <const>|</const> (if the winning path is in a column),<br>&bull; <const>/</const> (if the winning path is in a diagonal from left bottom to right top), or<br>&bull; <const>\\</const> (if the winning path is in a diagonal from left top to right bottom).<br>If there is no winning path, then the same field is output as was in an input.<br><br>The second output is the result, which will be one of the following:<br>&bull; <const>The game isn't over yet!</const> if there is at least one empty space and no winner,<br>&bull; <const>The winner is X.</const> if X won,<br>&bull; <const>The winner is O.</const> if O won, or<br>&bull; <const>The game ended in a draw!</const> if nobody won and there is no empty space.<br><br><br>It is not necessary for players X and O to have occupied the same number of spaces.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> Two space-separated integers <var>n</var> and <var>g</var> for the size of the TicTacToe board, and the number of cells required for a winning path respectively<br><strong>Next <var>n</var> lines:</strong> Each line contains <var>n</var> characters for the state of one row of the TicTacToe board</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong><var>n</var> lines:</strong> The TicTacToe board updated with the winning path (if applicable)<br><strong>Next line:</strong> <const>The game isn't over yet!</const> or <const>The winner is X.</const> or <const>The winner is O.</const> or <const>The game ended in a draw!</const></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">2 &lt; <var>n</var> &lt;= 12<br>2 &lt; <var>g</var> &lt;= <var>n</var><br>There can't be more than 1 winning path.<br>The winning path will always be <var>g</var> spaces.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">3 3\nX O\nXO \nXOX</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">| O\n|O \n|OX\nThe winner is X.</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 17312247368,
  "commentCount": 9,
  "upVotes": 7,
  "downVotes": 0,
  "validateAction": {
    "actionId": 1172129,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "REFUSED",
      "date": 1717873537001,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1751061368827,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "ACCEPTED",
      "date": 1753416117162,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}