{
  "id": 19716,
  "activeVersion": 40,
  "score": 12,
  "votableId": 23981607,
  "codingamerId": 4341304,
  "views": 279,
  "commentableId": 23865766,
  "title": "Hexagonal Maze",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Remi.",
  "publicHandle": "19716a7175547131ccfea01a6e59e8bbab836",
  "codingamerHandle": "6337619f5905111901909c0bdfdb053c4031434",
  "lastVersion": {
    "version": 40,
    "autocloseTime": 1656803862045,
    "data": {
      "title": "Hexagonal Maze",
      "topics": [
        {
          "id": 186,
          "handle": "maze",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Maze",
            "2": "Maze"
          },
          "puzzleCount": 7,
          "parentTopicId": 93
        },
        {
          "id": 54,
          "handle": "BFS",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Parcours en largeur",
            "2": "BFS"
          },
          "pageTitle": "BFS: exercises and theory",
          "puzzleCount": 17,
          "parentTopicId": 41,
          "contentDetailsId": 84
        },
        {
          "id": 68,
          "handle": "pathfinding",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Recherche de chemins",
            "2": "Pathfinding"
          },
          "pageTitle": "Pathfinding: exercises and theory",
          "puzzleCount": 39,
          "parentTopicId": 41,
          "contentDetailsId": 69
        }
      ],
      "solution": "#include <iostream>\nusing namespace std;\n\nstruct coord { int x, y; coord* previous; };\nint main() {\n    // Read inputs\n    int w, h, x, y=-1;\n    cin >> w >> h; cin.ignore();\n    string rows[h];\n    for (int i=0; i<h; ++i) {\n        getline(cin, rows[i]);\n        // Check the starting coordinates\n        if (y == -1) x = rows[i].find_first_of('S'), y = string::npos != x ? i : -1;\n    }\n    // BFS\n    coord coords[512], *end = NULL;\n    int len = 0, it = 0;\n    coords[len++] = {x, y, NULL};\n    while (!end) {\n        coord* prev = &coords[it];\n        int X = coords[it].x, Y = coords[it].y;\n        int X1 = (X+1)%w, X_1 = (X-1+w)%w, Y1 = (Y+1)%h, Y_1 = (Y-1+h)%h, X_d = Y%2 ? X1 : X_1;\n        // Check if a neighbour is the end\n        if (rows[Y][X1]=='E' || rows[Y][X_1]=='E' || rows[Y1][X]=='E' || rows[Y_1][X]=='E' || rows[Y1][X_d]=='E' || rows[Y_1][X_d]=='E')\n            end=prev;\n        else {\n            // Check if neighbours are free spaces\n            if (rows[Y  ][X1 ]=='_') coords[len++]={X1 , Y  , prev}, rows[Y  ][X1 ]=' ';\n            if (rows[Y  ][X_1]=='_') coords[len++]={X_1, Y  , prev}, rows[Y  ][X_1]=' ';\n            if (rows[Y1 ][X  ]=='_') coords[len++]={X  , Y1 , prev}, rows[Y1 ][X  ]=' ';\n            if (rows[Y_1][X  ]=='_') coords[len++]={X  , Y_1, prev}, rows[Y_1][X  ]=' ';\n            if (rows[Y1 ][X_d]=='_') coords[len++]={X_d, Y1 , prev}, rows[Y1 ][X_d]=' ';\n            if (rows[Y_1][X_d]=='_') coords[len++]={X_d, Y_1, prev}, rows[Y_1][X_d]=' ';\n        }\n        ++it;\n    }\n    // Backtrace and write dots in grid\n    while (end->previous != NULL)\n        rows[end->y][end->x] = '.', end = end->previous;\n\n    // Reset '_' and write grid in stdout\n    for (int i=0; i<h; ++i) {\n        for (int j=0; j<w; ++j)\n            if (rows[i][j] == ' ') rows[i][j] = '_';\n        cout << rows[i] << endl;\n    }\n}\n",
      "statement": "You are in a maze, made of hexagonal cells.\nThe following grid :\n`4 4\nABCD\nEFGH\nIJKL\nMNOP`\nhas to be understood like this :\n`  / \\   / \\   / \\   / \\\n /   \\ /   \\ /   \\ /   \\\n|     |     |     |     |\n|  A  |  B  |  C  |  D  |    Line 0\n|     |     |     |     |\n \\   / \\   / \\   / \\   / \\\n  \\ /   \\ /   \\ /   \\ /   \\\n   |     |     |     |     |\n   |  E  |  F  |  G  |  H  | Line 1\n   |     |     |     |     |\n  / \\   / \\   / \\   / \\   /\n /   \\ /   \\ /   \\ /   \\ /\n|     |     |     |     |\n|  I  |  J  |  K  |  L  |    Line 2\n|     |     |     |     |\n \\   / \\   / \\   / \\   / \\\n  \\ /   \\ /   \\ /   \\ /   \\\n   |     |     |     |     |\n   |  M  |  N  |  O  |  P  | Line 3\n   |     |     |     |     |\n    \\   / \\   / \\   / \\   /\n     \\ /   \\ /   \\ /   \\ /`\nThis means each cell has 6 neighbours : for example, cell F is surrounded by B, C, E, G, J, K.\nThe grid is periodic, if you go left you appear on the right if there is no wall, and vice versa, similarly with up/down.\nSo cell B also has 6 neighbours : M, N, A, C, E, F.\nEven lines are left-aligned, odd lines are right-aligned.\n\nYou are given a grid made by walls and free spaces, you have to draw the shortest path to go from the start to the end.\nThere may be more than one path, but only one shortest path.\nThere is always a solution.\n\nThe grid contains following symbols :\n{{#}} : wall\n{{_}} : free space\n{{S}} : start\n{{E}} : end\nYou must output the same grid with symbols {{.}} on cells which are on the shortest way.",
      "testCases": [
        {
          "title": "Easy",
          "isTest": true,
          "testIn": "5 6\n#####\n#S#E#\n#_#_#\n#_#_#\n#___#\n#####",
          "testOut": "#####\n#S#E#\n#.#.#\n#.#.#\n#_..#\n#####",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Easy",
          "isTest": false,
          "testIn": "5 6\n#####\n#___#\n#_#_#\n#_#_#\n#S#E#\n#####",
          "testOut": "#####\n#.._#\n#.#.#\n#.#.#\n#S#E#\n#####",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Loop",
          "isTest": true,
          "testIn": "8 8\n#E_____#\n##_###_#\n##_____#\n#_#_####\n##_____#\n####_#_#\n#S_____#\n########",
          "testOut": "#E.____#\n##.###_#\n##_.___#\n#_#.####\n##__.__#\n####.#_#\n#S...__#\n########",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Loop",
          "isTest": false,
          "testIn": "8 8\n#E_____#\n####_#_#\n##_____#\n#_####_#\n##_____#\n##_###_#\n#S_____#\n########",
          "testOut": "#E...__#\n####.#_#\n##...__#\n#.####_#\n##.____#\n##.###_#\n#S.____#\n########",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Through borders",
          "isTest": true,
          "testIn": "6 6\n#___##\n_#__#_\n#__##_\n###E#_\n__S#_#\n###_##",
          "testOut": "#...##\n.#__#.\n#__##.\n###E#.\n..S#.#\n###.##",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Through borders",
          "isTest": false,
          "testIn": "6 6\n#_#_##\n_#_S#_\n#__##_\n###_#_\n__E#_#\n###_##",
          "testOut": "#_#_##\n.#.S#.\n#..##.\n###_#.\n..E#_#\n###_##",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Corner ...",
          "isTest": true,
          "testIn": "5 6\nE_###\n#_###\n##_##\n##_##\n###S#\n###__",
          "testOut": "E_###\n#_###\n##_##\n##_##\n###S#\n###..",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Corner ...",
          "isTest": false,
          "testIn": "5 6\nS####\n_####\n#_###\n#_###\n##_E#\n##___",
          "testOut": "S####\n_####\n#_###\n#_###\n##_E#\n##_..",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "... or not",
          "isTest": true,
          "testIn": "5 6\n####_\n#__E#\n#_###\n#_###\n#S###\n_####",
          "testOut": "####_\n#..E#\n#.###\n#.###\n#S###\n_####",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "... or not",
          "isTest": false,
          "testIn": "5 6\n####_\n###S#\n####_\n#___#\n#E###\n_####",
          "testOut": "####_\n###S#\n####.\n#...#\n#E###\n_####",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Everything",
          "isTest": true,
          "testIn": "15 12\n_##_#####_###_#\n#__######_##_#_\n##S#_____#_#_#_\n###_####__#_#_#\n###_#####_#___#\n#__#####_#_#_##\n#_######_#_#_##\n________#_#__##\n_###_####_#_#_#\n#___#####__#_#_\n######E__###_#_\n___#####_####_#",
          "testOut": ".##.#####.###.#\n#_.######.##.#.\n##S#_____#.#.#.\n###_####_.#.#.#\n###_#####.#_..#\n#__#####.#_#_##\n#_######.#_#_##\n........#_#__##\n.###_####_#_#_#\n#___#####__#_#.\n######E..###_#.\n...#####.####.#",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Everything",
          "isTest": false,
          "testIn": "15 12\n___##_########_\n##_##_#_____##_\n#__###E##_##_#_\n_###_##_#_##__#\n_####_##_#_####\n#####__________\n___############\n##_###S#___####\n##____#__##_###\n#_#_#_#_##_####\n####__##_##_#__\n####_###_____#_",
          "testOut": "...##.########_\n##.##.#_____##_\n#..###E##_##_#_\n.###_##_#_##__#\n.####_##_#_####\n#####_________.\n...############\n##.###S#___####\n##_.__#._##_###\n#_#.#_#.##_####\n####._##.##_#..\n####.###.....#.",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Real hexagon",
          "isTest": true,
          "testIn": "21 20\n#####################\n#####_#________######\n#####_#_#######_#####\n####_#_#______#_#####\n####_#_#_#####_#_####\n###_#_#_#____#_#_####\n###_#_##__###_#_#_###\n##_#_#_##___#_#_#_###\n##_#_#_#__##_#_#_#_##\n#_#_#_#_##_#_#_#_#_##\n#S#_#_#_#_E__##_#_#_#\n#_#_#_#_#__#_#_#_#_##\n##_#_#_#_###_#_#_#_##\n##_#_#_#____#_#_#_###\n###_#_#_#######_#_###\n###_#_#_______#__####\n####___#######_#_####\n####_#________#_#####\n#####_#####_###_#####\n#####___#______######",
          "testOut": "#####################\n#####_#________######\n#####_#_#######_#####\n####_#_#......#_#####\n####_#_#.#####.#_####\n###_#_#.#____#.#_####\n###_#_##..###_#.#_###\n##_#_#_##...#_#.#_###\n##_#_#_#__##.#_#.#_##\n#_#_#_#_##_#.#_#.#_##\n#S#_#_#_#_E..##_#.#_#\n#.#_#_#_#__#_#_#.#_##\n##.#_#_#_###_#_#.#_##\n##.#_#_#____#_#.#_###\n###.#_#_#######.#_###\n###.#_#_______#._####\n####...#######_#.####\n####_#.....___#.#####\n#####_#####.###.#####\n#####___#__....######",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Real hexagon",
          "isTest": false,
          "testIn": "21 20\n#####################\n#####_#________######\n#####_#_#######_#####\n####_#_#______#_#####\n####_#_#_#####_#_####\n###_#_#_#____#_#_####\n###_#_##__###_#_#_###\n##_#_#_##___#_#_#_###\n##_#_#_#__##_#_#_#_##\n#_#_#_#_##_#_#_#_#_##\n#S#_#_#_#_E__##_#_#_#\n#_#_#_#_#__#_#_#_#_##\n##_#_#_#_###_#_#_#_##\n##_#_#_#______#_#_###\n###_#_#_#######_#_###\n###_#_#_______#__####\n####___#######_#_####\n####_#________#######\n#####_#####_###_#####\n#####___#______######",
          "testOut": "#####################\n#####_#........######\n#####_#.#######.#####\n####_#.#......#.#####\n####_#.#.#####.#.####\n###_#.#.#____#.#.####\n###_#.##..###_#.#.###\n##_#.#_##...#_#.#.###\n##_#.#_#__##.#_#.#.##\n#_#.#_#_##_#.#_#.#.##\n#S#.#_#_#_E..##_#.#.#\n#.#.#_#_#__#_#_#.#.##\n##.#.#_#_###_#_#.#.##\n##.#.#_#______#.#.###\n###.#.#_#######.#.###\n###.#.#_______#..####\n####.._#######_#_####\n####_#________#######\n#####_#####_###_#####\n#####___#______######",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Nothing to change",
          "isTest": true,
          "testIn": "4 4\n##_#\n#S##\n#_E#\n#_##",
          "testOut": "##_#\n#S##\n#_E#\n#_##",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Nothing to change",
          "isTest": false,
          "testIn": "4 4\n####\n___S\nE###\n####",
          "testOut": "####\n___S\nE###\n####",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "4 ≤ [[w]], [[h]] ≤ 25\n[[h]] is always even.",
      "coverBinaryId": 84921544063432,
      "stubGenerator": "read w:int h:int\nloop h read row:string(31)\nloop h write answer",
      "inputDescription": "<<First line:>> two integers [[w]] and [[h]], width and height of the grid.\n\n<<[[h]] following lines:>> the grid.",
      "solutionLanguage": "C++",
      "outputDescription": "<<[[h]] lines :>> the grid with the answer."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">You are in a maze, made of hexagonal cells.<br>The following grid :<br><pre style=\"font-family: monospace\">4 4<br>ABCD<br>EFGH<br>IJKL<br>MNOP</pre><br>has to be understood like this :<br><pre style=\"font-family: monospace\">  / \\   / \\   / \\   / \\<br> /   \\ /   \\ /   \\ /   \\<br>|     |     |     |     |<br>|  A  |  B  |  C  |  D  |    Line 0<br>|     |     |     |     |<br> \\   / \\   / \\   / \\   / \\<br>  \\ /   \\ /   \\ /   \\ /   \\<br>   |     |     |     |     |<br>   |  E  |  F  |  G  |  H  | Line 1<br>   |     |     |     |     |<br>  / \\   / \\   / \\   / \\   /<br> /   \\ /   \\ /   \\ /   \\ /<br>|     |     |     |     |<br>|  I  |  J  |  K  |  L  |    Line 2<br>|     |     |     |     |<br> \\   / \\   / \\   / \\   / \\<br>  \\ /   \\ /   \\ /   \\ /   \\<br>   |     |     |     |     |<br>   |  M  |  N  |  O  |  P  | Line 3<br>   |     |     |     |     |<br>    \\   / \\   / \\   / \\   /<br>     \\ /   \\ /   \\ /   \\ /</pre><br>This means each cell has 6 neighbours : for example, cell F is surrounded by B, C, E, G, J, K.<br>The grid is periodic, if you go left you appear on the right if there is no wall, and vice versa, similarly with up/down.<br>So cell B also has 6 neighbours : M, N, A, C, E, F.<br>Even lines are left-aligned, odd lines are right-aligned.<br><br>You are given a grid made by walls and free spaces, you have to draw the shortest path to go from the start to the end.<br>There may be more than one path, but only one shortest path.<br>There is always a solution.<br><br>The grid contains following symbols :<br><const>#</const> : wall<br><const>_</const> : free space<br><const>S</const> : start<br><const>E</const> : end<br>You must output the same grid with symbols <const>.</const> on cells which are on the shortest way.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>First line:</strong> two integers <var>w</var> and <var>h</var>, width and height of the grid.<br><br><strong><var>h</var> following lines:</strong> the grid.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong><var>h</var> lines :</strong> the grid with the answer.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">4 &le; <var>w</var>, <var>h</var> &le; 25<br><var>h</var> is always even.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">5 6\n#####\n#S#E#\n#_#_#\n#_#_#\n#___#\n#####</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">#####\n#S#E#\n#.#.#\n#.#.#\n#_..#\n#####</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 116360024509,
  "avatar": 97662026388574,
  "commentCount": 11,
  "upVotes": 13,
  "downVotes": 1,
  "validateAction": {
    "actionId": 669835,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1654369885616,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}