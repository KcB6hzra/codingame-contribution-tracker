{
  "id": 719,
  "activeVersion": 15,
  "score": 2,
  "votableId": 5123319,
  "codingamerId": 1864367,
  "views": 289,
  "commentableId": 5065761,
  "title": "Skylines",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Heino",
  "publicHandle": "7197645fb985a79d4bb76d696952b821dbd",
  "codingamerHandle": "b45e8537f5bfe28738fde1e6fc1e25047634681",
  "lastVersion": {
    "version": 15,
    "data": {
      "title": "Skylines",
      "topics": [],
      "solution": "import java.util.*;\nimport java.util.function.Consumer;\n\n/**\n * Auto-generated code below aims at helping you parse the standard input\n * according to the problem statement.\n **/\nclass Solution {\n\n\tpublic static void main(String args[]) {\n\t\tScanner in = new Scanner(System.in);\n\t\tint n = in.nextInt();\n\t\t// maps a list of add or remove operations (value) to each x position (key)\n\t\tSortedMap<Integer, List<Consumer<SortedMap<Integer, Integer>>>> opMap = new TreeMap<>();\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tint h = in.nextInt();\n\t\t\tint x1 = in.nextInt();\n\t\t\tint x2 = in.nextInt();\n\t\t\t// add building\n\t\t\topMap.computeIfAbsent(x1, ArrayList::new).add(m -> m.merge(h, 1, (c, v) -> c + 1));\n\t\t\t// remove building\n\t\t\topMap.computeIfAbsent(x2, ArrayList::new).add(m -> m.merge(h, -1, (c, v) -> c == 1 ? null : c - 1));\n\t\t}\n\n\t\t// maps the number of buildings (value) for each different height (key) at the current x position\n\t\tSortedMap<Integer, Integer> state = new TreeMap<>();\n\t\tClimber climber = opMap.values().stream().map(ops -> {\n\t\t\tops.forEach(op -> op.accept(state));\n\t\t\treturn state.isEmpty() ? 0 : state.lastKey();\n\t\t}).collect(Climber::new, Climber::step, (a, b) -> {});\n\n\t\t// Write an action using System.out.println()\n\t\t// To debug: System.err.println(\"Debug messages...\");\n\n\t\tSystem.out.println(climber.lineCount());\n\t}\n\n\tstatic class Climber {\n\t\tint height; // curr height\n\t\tint steps; // number of steps\n\n\t\tvoid step(Integer h) {\n\t\t\tif (height != h) {\n\t\t\t\theight = h;\n\t\t\t\t++steps;\n\t\t\t}\n\t\t}\n\t\t\n\t\tint lineCount() {\n\t\t\treturn steps * 2 - 1;\n\t\t}\n\t}\n}\n",
      "statement": "Count the <<number of lines>> needed to draw the skyline of a city.\n\nThe city skyline (or silhouette) as seen from a distance consists of a series of buildings with rectangular shape which might overlap each other.\nEach building is described by its height ([[h]]) above ground level and the horizontal position of the left ([[x1]]) and right ([[x2]]) walls.\n\n<<Line drawing rules:>>\n\nTo draw the skyline of a city with a single building {{3}} lines are required: One for the left wall, one for the roof and one for the right wall.\n`      ____\n     |    |\n     |    |\n     |    |`\nTwo separate buildings can be drawn using {{7}} lines: 3 lines for each of the two buildings and one line connecting the buildings on ground level.\n`      ____\n     |    |      ______\n     |    |     |      |\n     |    |_____|      |`\nTwo partially overlapping or adjacent buildings of different heights require {{5}} lines to be drawn. One for the left wall of the first building, two for the roofs, one for the wall connecting the roofs and one for the right wall of the second building.\nThe dotted lines in the picture below show the actual shape of the two buildings.\n`      ____\n     |    |____\n     |  ¦¨¦    |\n     |  ¦ ¦    |`\nTwo buildings are called adjacent (i.e. touching each other) if their opposing walls have the same horizontal position.",
      "testCases": [
        {
          "title": "Single building",
          "isTest": true,
          "testIn": "1\n10 100 110",
          "testOut": "3",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "1\n20 150 200",
          "testOut": "3",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "2 separate buildings",
          "isTest": true,
          "testIn": "2\n10 100 110\n20 200 210",
          "testOut": "7",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "2\n20 1100 2110\n10 2200 2210",
          "testOut": "7",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "2 adjacent buildings",
          "isTest": true,
          "testIn": "2\n50 300 320\n20 250 300",
          "testOut": "5",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "2\n150 300 320\n120 250 300",
          "testOut": "5",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "2 overlapping buildings",
          "isTest": true,
          "testIn": "2\n30 100 300\n70 180 200",
          "testOut": "7",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "2\n50 200 350\n60 280 310",
          "testOut": "7",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "3 connected buildings",
          "isTest": true,
          "testIn": "3\n40 1000 1200\n60 900 1010\n40 1100 1300",
          "testOut": "5",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "3\n30 2000 3000\n160 1500 2100\n30 2500 5000",
          "testOut": "5",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Lots of overlap",
          "isTest": true,
          "testIn": "10\n164 3292 4280\n164 3996 4655\n9 491 4924\n9 491 4924\n52 1389 4655\n135 2059 4924\n52 3996 4924\n9 491 4280\n22 3996 4924\n151 1389 3292",
          "testOut": "9",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 6",
          "isTest": false,
          "testIn": "10\n194 1223 2762\n140 1158 4720\n26 1447 3605\n26 269 4720\n26 269 2762\n26 2762 4410\n108 2762 4410\n26 1158 4720\n108 4410 4720\n68 269 2377",
          "testOut": "9",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Separation",
          "isTest": true,
          "testIn": "10\n53 4505 4548\n22 2217 2240\n164 4046 4224\n16 4037 4224\n124 1751 1927\n155 4046 4111\n40 414 690\n156 2969 3055\n28 2240 2426\n156 2512 2526",
          "testOut": "31",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 7",
          "isTest": false,
          "testIn": "10\n45 21 34\n86 2429 2488\n151 4710 4724\n65 3050 3269\n38 745 815\n162 3269 3308\n184 534 576\n97 3260 3610\n142 2300 2488\n34 4215 4382",
          "testOut": "33",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Big city",
          "isTest": true,
          "testIn": "25\n196 1668 1753\n37 555 687\n129 214 308\n114 3242 3249\n117 3016 3242\n14 753 1157\n155 89 218\n14 3150 3242\n184 3242 3283\n9 10 53\n187 3565 3767\n120 63 89\n174 2619 2824\n120 687 1042\n98 3271 3565\n37 3249 3396\n167 4663 4728\n114 3025 3150\n157 3869 4007\n23 4738 4862\n171 10 63\n114 1775 1860\n13 468 555\n157 320 476\n110 2527 2643",
          "testOut": "57",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 8",
          "isTest": false,
          "testIn": "25\n172 1758 2076\n73 3187 3377\n135 2550 2949\n21 4556 4710\n109 298 437\n92 3887 3995\n146 901 991\n56 1630 1682\n32 3995 4039\n169 4883 4959\n178 599 901\n43 1758 1842\n48 3887 4005\n32 1682 1758\n72 3070 3187\n21 4872 4959\n147 1287 1402\n54 1062 1286\n166 2700 2996\n49 2393 2726\n152 2090 2393\n134 1849 2076\n34 2340 2550\n152 4587 4752\n60 3128 3187",
          "testOut": "61",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Bigger city",
          "isTest": true,
          "testIn": "50\n6 4648 4854\n166 2648 2709\n68 2853 2883\n112 4138 4266\n166 4242 4292\n68 3818 3897\n168 1436 1483\n177 4396 4419\n6 24 251\n177 1419 1436\n116 1350 1362\n136 661 670\n116 713 834\n87 1287 1378\n116 2488 2574\n87 3582 3611\n166 2261 2296\n173 950 1001\n146 3402 3426\n34 461 487\n177 24 166\n116 2853 3022\n34 2125 2296\n165 4570 4661\n27 2435 2461\n44 3404 3435\n195 635 733\n177 1362 1396\n177 410 557\n68 3622 3758\n176 2983 3105\n177 1 24\n116 2342 2360\n27 2315 2326\n87 733 842\n177 3319 3342\n173 196 394\n166 661 713\n44 3130 3154\n166 2804 3016\n34 3897 3931\n166 3402 3435\n87 1027 1208\n6 4242 4292\n165 3016 3105\n24 3931 3968\n136 3447 3611\n131 1100 1113\n165 2060 2142\n27 1 24",
          "testOut": "123",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 9",
          "isTest": false,
          "testIn": "50\n184 3129 3141\n73 1168 1209\n101 4861 4923\n70 306 328\n70 4515 4586\n192 3905 3976\n80 539 562\n135 996 1126\n46 3649 3660\n194 4515 4586\n177 4829 4861\n177 3216 3285\n135 194 261\n80 2836 2848\n80 286 337\n46 2690 2745\n113 593 725\n120 1414 1470\n80 378 539\n194 4103 4104\n99 4125 4161\n192 3115 3168\n135 4103 4104\n189 2189 2386\n135 4515 4620\n192 1172 1241\n70 1807 1922\n97 2990 3099\n189 4717 4769\n99 578 670\n97 3844 3976\n113 3844 4034\n46 2836 2849\n97 4625 4708\n192 254 328\n160 3163 3216\n189 1409 1448\n113 4161 4174\n189 3844 3905\n177 4174 4222\n192 3223 3257\n194 3285 3301\n99 1136 1209\n115 1133 1209\n99 3801 3976\n120 4122 4165\n6 2033 2103\n184 3301 3312\n80 1804 1807\n112 352 406",
          "testOut": "125",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Metropolis",
          "isTest": true,
          "testIn": "100\n101 1745 1873\n1 3977 4064\n183 1089 1152\n1 4436 4479\n21 4847 4972\n88 3946 4064\n118 3168 3180\n61 3200 3300\n151 4668 4683\n159 4436 4576\n107 1465 1481\n96 1365 1463\n117 2457 2466\n114 1683 1690\n87 287 383\n131 540 657\n131 3655 3746\n42 2965 3025\n23 1343 1373\n64 403 485\n98 4124 4175\n131 689 754\n118 1873 1923\n177 3791 3875\n107 214 309\n60 1465 1481\n185 2408 2457\n117 2503 2557\n98 2748 2795\n197 2460 2466\n52 1470 1488\n152 301 485\n64 2346 2359\n114 1071 1169\n159 2298 2312\n52 2620 2625\n196 403 483\n52 534 657\n23 3619 3692\n131 2911 2941\n159 1481 1546\n34 1123 1169\n46 2710 2773\n29 2620 2625\n87 4355 4357\n197 1373 1476\n88 485 553\n131 923 928\n113 3831 3922\n143 1640 1658\n184 3534 3655\n169 2565 2638\n155 4911 4973\n23 3212 3467\n114 4879 4972\n151 1653 1707\n35 3031 3108\n34 3485 3541\n118 4007 4023\n113 91 126\n29 4543 4595\n155 1270 1292\n99 4335 4395\n131 1683 1698\n193 877 971\n169 2391 2466\n183 4668 4679\n130 4258 4387\n197 2915 2962\n21 4683 4705\n152 1667 1674\n87 2986 3071\n87 4189 4355\n24 1923 1929\n101 2948 3025\n118 1272 1338\n172 3799 3811\n193 3180 3212\n143 4077 4146\n117 1707 1842\n21 4395 4517\n60 3760 3811\n88 993 1071\n172 923 1001\n42 3799 3870\n58 4357 4436\n159 1481 1507\n107 1251 1272\n150 3161 3200\n35 27 91\n172 4128 4181\n197 3168 3212\n61 2911 2915\n1 3031 3108\n64 2557 2607\n169 2359 2391\n149 3804 3922\n114 174 178\n52 4181 4189\n35 3692 3734",
          "testOut": "191",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 10",
          "isTest": false,
          "testIn": "100\n55 3109 3125\n53 4732 4779\n125 2286 2366\n200 3764 3806\n187 2429 2578\n63 1746 1794\n135 4644 4697\n195 1094 1182\n54 2035 2139\n121 624 689\n8 4756 4760\n77 556 591\n77 4645 4697\n9 3730 3820\n195 4517 4585\n113 2729 2787\n54 2081 2139\n89 4097 4111\n43 3179 3238\n150 3239 3356\n89 4120 4175\n99 2070 2139\n195 1557 1597\n28 924 1027\n127 4682 4717\n11 2541 2627\n11 3113 3117\n89 2106 2189\n9 1493 1569\n11 244 450\n79 1224 1265\n53 2848 2887\n5 4517 4563\n31 238 455\n99 924 991\n22 4756 4815\n58 4215 4314\n120 1967 2087\n38 1628 1675\n104 1182 1221\n127 2711 2775\n135 2429 2546\n183 4717 4756\n160 2546 2627\n148 3844 3925\n8 4529 4531\n38 677 689\n133 3216 3220\n43 2035 2148\n175 4827 4941\n8 3177 3180\n140 3119 3180\n57 1419 1493\n79 2198 2264\n150 3125 3148\n22 2997 3078\n22 3117 3177\n195 894 1019\n12 4760 4815\n135 1493 1625\n77 89 172\n188 3919 4026\n28 4494 4575\n28 1956 2065\n31 1625 1746\n187 570 624\n57 3245 3356\n136 2932 2970\n148 3013 3019\n195 3085 3125\n5 2853 2932\n104 412 556\n200 1419 1426\n22 1557 1675\n7 2627 2732\n104 1182 1244\n28 1625 1628\n189 2286 2291\n188 3630 3725\n58 2381 2529\n28 1910 2035\n133 3239 3372\n58 4092 4097\n54 7 53\n120 4120 4197\n31 4197 4302\n79 4749 4819\n120 394 399\n113 3844 3911\n150 3400 3630\n77 2641 2708\n57 2623 2641\n28 4756 4757\n187 2375 2429\n197 1746 1811\n55 964 1019\n197 2305 2366\n135 2761 2787\n121 3113 3114\n127 3013 3019",
          "testOut": "185",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Almost adjacent",
          "isTest": true,
          "testIn": "2\n50 9 10\n80 11 12",
          "testOut": "7",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 11",
          "isTest": false,
          "testIn": "2\n20 50 51\n10 52 53",
          "testOut": "7",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "expert",
      "constraints": "1 ≤ [[n]] ≤ 100\n1 ≤ [[h]] ≤ 200\n0 ≤ [[x1]] < [[x2]] ≤ 5000",
      "stubGenerator": "read n:int\nloop n read h:int x1:int x2:int\nwrite linecount",
      "inputDescription": "<<Line 1:>> An integer [[n]] for the number of buildings in the city.\n<<Next [[n]] lines:>> Three space separated integers [[h]], [[x1]] and [[x2]] for the height and the two positions of the walls respectively.\n\nThe buildings are given in no particular order.",
      "solutionLanguage": "Java",
      "outputDescription": "One line containing the number of lines needed to draw the city skyline."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Count the <strong>number of lines</strong> needed to draw the skyline of a city.<br><br>The city skyline (or silhouette) as seen from a distance consists of a series of buildings with rectangular shape which might overlap each other.<br>Each building is described by its height (<var>h</var>) above ground level and the horizontal position of the left (<var>x1</var>) and right (<var>x2</var>) walls.<br><br><strong>Line drawing rules:</strong><br><br>To draw the skyline of a city with a single building <const>3</const> lines are required: One for the left wall, one for the roof and one for the right wall.<br><pre style=\"font-family: monospace\">      ____<br>     |    |<br>     |    |<br>     |    |</pre><br>Two separate buildings can be drawn using <const>7</const> lines: 3 lines for each of the two buildings and one line connecting the buildings on ground level.<br><pre style=\"font-family: monospace\">      ____<br>     |    |      ______<br>     |    |     |      |<br>     |    |_____|      |</pre><br>Two partially overlapping or adjacent buildings of different heights require <const>5</const> lines to be drawn. One for the left wall of the first building, two for the roofs, one for the wall connecting the roofs and one for the right wall of the second building.<br>The dotted lines in the picture below show the actual shape of the two buildings.<br><pre style=\"font-family: monospace\">      ____<br>     |    |____<br>     |  &brvbar;&uml;&brvbar;    |<br>     |  &brvbar; &brvbar;    |</pre><br>Two buildings are called adjacent (i.e. touching each other) if their opposing walls have the same horizontal position.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> An integer <var>n</var> for the number of buildings in the city.<br><strong>Next <var>n</var> lines:</strong> Three space separated integers <var>h</var>, <var>x1</var> and <var>x2</var> for the height and the two positions of the walls respectively.<br><br>The buildings are given in no particular order.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">One line containing the number of lines needed to draw the city skyline.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">1 &le; <var>n</var> &le; 100<br>1 &le; <var>h</var> &le; 200<br>0 &le; <var>x1</var> &lt; <var>x2</var> &le; 5000</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">1\n10 100 110</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">3</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 278897114745,
  "avatar": 11373953931092,
  "commentCount": 4,
  "upVotes": 3,
  "downVotes": 1,
  "validateAction": {
    "actionId": 105099,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}