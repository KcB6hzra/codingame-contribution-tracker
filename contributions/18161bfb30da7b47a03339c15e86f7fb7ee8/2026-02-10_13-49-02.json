{
  "id": 1816,
  "activeVersion": 11,
  "score": -13,
  "votableId": 9467836,
  "codingamerId": 1498189,
  "views": 523,
  "commentableId": 9401256,
  "title": "IP mask calculating",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Pyoroalb",
  "publicHandle": "18161bfb30da7b47a03339c15e86f7fb7ee8",
  "codingamerHandle": "6b036ebaded86a637eab81442f40105e9818941",
  "lastVersion": {
    "version": 11,
    "autocloseTime": 1546436780585,
    "data": {
      "title": "IP mask calculating",
      "topics": [
        {
          "id": 46,
          "handle": "loops",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Boucles",
            "2": "Loops"
          },
          "pageTitle": "Loops: exercises and theory",
          "puzzleCount": 39,
          "parentTopicId": 39,
          "contentDetailsId": 71
        }
      ],
      "solution": "def parse(string):\n    ip, mask = string.split(\"/\")\n\n    # calculate the ip number\n    ip = [int(nb) for nb in ip.split(\".\")]\n    ip_nb = int((ip[0]<<24) | (ip[1]<<16) | (ip[2]<<8) | (ip[3]))\n\n    # calculate the mask number\n    mask = int(mask)\n    mask_nb = int(\"1\"*mask + \"0\"*(32 - mask), 2)\n\n    return ip_nb, mask_nb\n\n\ndef unparse(number):\n    return (\n        str((number>>24) & 255) + \".\" +\n        str((number>>16) & 255) + \".\" +\n        str((number>>8) & 255) + \".\" +\n        str(number & 255)\n    )\n\n\ndef network_address(ip_number, mask_number):\n    return ip_number & mask_number\n\ndef wildcard_address(ip_mask):\n    return ~ip_mask\n\n\ndef broadcast_address(ip_number, wildcard_number):\n    return ip_number | wildcard_number\n\n\nip = parse(input())\n\nprint(unparse(network_address(ip[0], ip[1])))\nprint(unparse(broadcast_address(ip[0], wildcard_address(ip[1]))))",
      "statement": "Given an IP address and a mask in CIDR format you must output the network address and the broadcast address.\n\nThe IP address is the address of a computer on a network. In an IP address there are two parts, the <<network part>> and the <<machine part>>. We can separate the two parts with the [[mask]].\n\n<<The mask>> is, in binary, a continuous part of {{1}}s flowing by a continuous part of {{0}}s. It can't be a mixture of 1 and 0.\n\nTo know the network address of an IP we proceed like this:\nFor the entry {{192.168.0.15/24}}, the machine IP is {{192.168.0.15}} and the mask part is {{24}}.\n\nThe mask part means the first 24 bits in the mask are set at {{1}} and the last ones are set to {{0}}:\nThe mask is 11111111.11111111.11111111.00000000\nIn integers that corresponds to 255.255.255.0\n\nTo know the network address we take all bits with a {{1}} in the mask:\n192.168.0.15 is in binary\n11000000.10101000.00000000.00001111\n11111111.11111111.11111111.00000000 -> is the mask in binary\nNow the network part of the IP address is:\n11000000.10101000.00000000\nAfter, we place all 0 we need to get a total of 32 digits\nThe network address is now\n10000000.10101000.00000000.00000000\nIn integer that means\n192.168.0.0\n\nThe broadcast address is the network address with all bits in machine part set to {{1}}.\n\nIf we take the same example we got this\n192.168.0.15 is in binary\n11000000.10101000.00000000.00001111\n11111111.11111111.11111111.00000000 -> is the mask in binary\nThe broadcast address is:\n11000000.10101000.00000000.11111111 -> in integer that means 192.168.0.255.",
      "testCases": [
        {
          "title": "Your ip at home",
          "isTest": true,
          "testIn": "192.168.0.5/24",
          "testOut": "192.168.0.0\n192.168.0.255",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Your ip at home",
          "isTest": false,
          "testIn": "192.168.1.5/24",
          "testOut": "192.168.1.0\n192.168.1.255",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Your ip at school",
          "isTest": true,
          "testIn": "10.0.1.34/24",
          "testOut": "10.0.1.0\n10.0.1.255",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Your ip at school",
          "isTest": false,
          "testIn": "10.34.1.87/24",
          "testOut": "10.34.1.0\n10.34.1.255",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Not a real network mask",
          "isTest": true,
          "testIn": "77.45.23.98/32",
          "testOut": "77.45.23.98\n77.45.23.98",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Not a real network mask",
          "isTest": false,
          "testIn": "0.0.0.0/32",
          "testOut": "0.0.0.0\n0.0.0.0",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Little mask (not a real network mask too)",
          "isTest": true,
          "testIn": "78.23.88.1/0",
          "testOut": "0.0.0.0\n255.255.255.255",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Little mask (not a real network mask too)",
          "isTest": false,
          "testIn": "234.98.23.4/0",
          "testOut": "0.0.0.0\n255.255.255.255",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "255.255.240.0",
          "isTest": true,
          "testIn": "234.67.0.5/20",
          "testOut": "234.67.0.0\n234.67.15.255",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "255.255.240.0",
          "isTest": false,
          "testIn": "245.69.32.45/20",
          "testOut": "245.69.32.0\n245.69.47.255",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "254.0.0.0",
          "isTest": true,
          "testIn": "77.65.155.7/7",
          "testOut": "76.0.0.0\n77.255.255.255",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "254.0.0.0",
          "isTest": false,
          "testIn": "79.3.5.2/7",
          "testOut": "78.0.0.0\n79.255.255.255",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "A strange IP",
          "isTest": true,
          "testIn": "09.45.000.2/18",
          "testOut": "9.45.0.0\n9.45.63.255",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "A strange IP",
          "isTest": false,
          "testIn": "98.045.000.9/18",
          "testOut": "98.45.0.0\n98.45.63.255",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "42",
          "isTest": true,
          "testIn": "42.42.42.42/10",
          "testOut": "42.0.0.0\n42.63.255.255",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "37",
          "isTest": false,
          "testIn": "37.37.37.37/10",
          "testOut": "37.0.0.0\n37.63.255.255",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "All entries can be calculated.",
      "stubGenerator": "read ip:string(18)\n\nwrite network address\nbroadcast address",
      "inputDescription": "An IP address and a mask in CIDR format.",
      "solutionLanguage": "Python3",
      "outputDescription": "<<Line 1>>: The network address\n<<Line 2>>: The broadcast address"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Given an IP address and a mask in CIDR format you must output the network address and the broadcast address.<br><br>The IP address is the address of a computer on a network. In an IP address there are two parts, the <strong>network part</strong> and the <strong>machine part</strong>. We can separate the two parts with the <var>mask</var>.<br><br><strong>The mask</strong> is, in binary, a continuous part of <const>1</const>s flowing by a continuous part of <const>0</const>s. It can't be a mixture of 1 and 0.<br><br>To know the network address of an IP we proceed like this:<br>For the entry <const>192.168.0.15/24</const>, the machine IP is <const>192.168.0.15</const> and the mask part is <const>24</const>.<br><br>The mask part means the first 24 bits in the mask are set at <const>1</const> and the last ones are set to <const>0</const>:<br>The mask is 11111111.11111111.11111111.00000000<br>In integers that corresponds to 255.255.255.0<br><br>To know the network address we take all bits with a <const>1</const> in the mask:<br>192.168.0.15 is in binary<br>11000000.10101000.00000000.00001111<br>11111111.11111111.11111111.00000000 -&gt; is the mask in binary<br>Now the network part of the IP address is:<br>11000000.10101000.00000000<br>After, we place all 0 we need to get a total of 32 digits<br>The network address is now<br>10000000.10101000.00000000.00000000<br>In integer that means<br>192.168.0.0<br><br>The broadcast address is the network address with all bits in machine part set to <const>1</const>.<br><br>If we take the same example we got this<br>192.168.0.15 is in binary<br>11000000.10101000.00000000.00001111<br>11111111.11111111.11111111.00000000 -&gt; is the mask in binary<br>The broadcast address is:<br>11000000.10101000.00000000.11111111 -&gt; in integer that means 192.168.0.255.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\">An IP address and a mask in CIDR format.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>Line 1</strong>: The network address<br><strong>Line 2</strong>: The broadcast address</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">All entries can be calculated.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">192.168.0.5/24</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">192.168.0.0\n192.168.0.255</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 225722700143,
  "avatar": 14505336358731,
  "commentCount": 32,
  "upVotes": 6,
  "downVotes": 19,
  "validateAction": {
    "actionId": 293856,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}