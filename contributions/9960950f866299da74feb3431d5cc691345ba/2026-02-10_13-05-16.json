{
  "id": 99609,
  "activeVersion": 8,
  "score": 0,
  "votableId": 34351179,
  "codingamerId": 5829515,
  "views": 147,
  "commentableId": 34200345,
  "title": "Push-down automaton",
  "status": "ACCEPTED",
  "type": "CLASHOFCODE",
  "nickname": "Stef_3",
  "publicHandle": "9960950f866299da74feb3431d5cc691345ba",
  "codingamerHandle": "9f2646b70e1699fc7b6101dd0b5eb88a5159285",
  "lastVersion": {
    "version": 8,
    "autocloseTime": 1722449384974,
    "freezeTime": 1720462184974,
    "data": {
      "title": "Push-down automaton",
      "topics": [],
      "fastest": true,
      "reverse": false,
      "shortest": true,
      "solution": "from operator import add,sub,mul,floordiv\n\nops=dict(zip('+-*/',(add,sub,mul,floordiv)))\n\ndef execute(s):\n\tstack = []\n\tj = 0\n\tloop_starts = []\n\toutput = []\n\twhile j < len(s):\n\t\tc = s[j]\n\t\tif c in '0123456789':\n\t\t\tstack.append(int(c))\n\t\telif c in '+-*/':\n\t\t\tb,a = stack.pop(),stack.pop()\n\t\t\tstack.append(ops[c](a,b))\n\t\telif c == ':':\n\t\t\ta = stack[-1]\n\t\t\tstack.append(a)\n\t\telif c == '=':\n\t\t\toutput.append(str(stack.pop()))\n\t\telif c == '.':\n\t\t\toutput.append(chr(stack.pop()))\n\t\telif c == '[':\n\t\t\tb = stack[-1]\n\t\t\tif not b:\n\t\t\t\tj = s.index(']',j+1)\n\t\t\telse:\n\t\t\t\tloop_starts.append(j)\n\t\telif c == ']':\n\t\t\tif stack[-1]:\n\t\t\t\tj = loop_starts[-1]\n\t\t\telse:\n\t\t\t\tloop_starts.pop()\n\t\tj += 1\n\treturn ''.join(output)\n\ns = input()\no = execute(s)\nprint(o)\n",
      "statement": "Execute a program in a stack-based programming language loosely based on brainfuck and reverse polish notation.\n\nA program consists in manipulating a LIFO stack of integers with instructions {{0123456789+-*/=:.[]}}:\n* {{0}}-{{9}} Push corresponding number to the stack;\n* {{+-*/}} Pop two numbers, apply corresponding integer operation, push result;\n* {{=}} Pop the stack, and output as integer;\n* {{.}} Pop the stack, and output as ASCII character;\n* {{:}} Duplicate top of stack;\n* {{[}} Peek the stack; if 0, jump to after corresponding {{]}};\n* {{]}} Jump to corresponding {{[}}.",
      "testCases": [
        {
          "title": "Add",
          "isTest": true,
          "testIn": "23+=",
          "testOut": "5",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Add",
          "isTest": false,
          "testIn": "54+=",
          "testOut": "9",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Mul",
          "isTest": true,
          "testIn": "23*=",
          "testOut": "6",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Mul",
          "isTest": false,
          "testIn": "54*=",
          "testOut": "20",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Sub",
          "isTest": true,
          "testIn": "49-=",
          "testOut": "-5",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Sub",
          "isTest": false,
          "testIn": "18-=",
          "testOut": "-7",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Div",
          "isTest": true,
          "testIn": "93/=",
          "testOut": "3",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Div",
          "isTest": false,
          "testIn": "82/=",
          "testOut": "4",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Uneven div",
          "isTest": true,
          "testIn": "83/=",
          "testOut": "2",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Uneven div",
          "isTest": false,
          "testIn": "92/=",
          "testOut": "4",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Complex operation",
          "isTest": true,
          "testIn": "25*34+-=",
          "testOut": "3",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Complex operation",
          "isTest": false,
          "testIn": "99*99+-=",
          "testOut": "63",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Ascii output",
          "isTest": true,
          "testIn": "85+5*.",
          "testOut": "A",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Ascii output",
          "isTest": false,
          "testIn": "99*44*+.",
          "testOut": "a",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Duplicate",
          "isTest": true,
          "testIn": "91+:==",
          "testOut": "1010",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Duplicate",
          "isTest": false,
          "testIn": "99*:==",
          "testOut": "8181",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Loop",
          "isTest": true,
          "testIn": "054321[=]",
          "testOut": "12345",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Loop",
          "isTest": false,
          "testIn": "0987632[=]",
          "testOut": "236789",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Alphabet loop",
          "isTest": true,
          "testIn": "05:+:*:1-:1-:1-[.]84*.64*2+[:88*+.1-]",
          "testOut": "abcd ZYXWVUTSRQPONMLKJIHGFEDCBA",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Alphabet loop",
          "isTest": false,
          "testIn": "055*1+[483**+:.483**1+-][.]",
          "testOut": "zyxwvutsrqponmlkjihgfedcba",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Squares",
          "isTest": true,
          "testIn": "07:+3:*2:*+32:**65+55+3:*2::**7652:*321[:*=84*.]",
          "testOut": "1 4 9 16 25 36 49 64 81 100 121 144 169 196 ",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Square squares",
          "isTest": false,
          "testIn": "07:+3:*2:*+32:**65+55+3:*2::**7652:*321[:*:*=84*.]",
          "testOut": "1 16 81 256 625 1296 2401 4096 6561 10000 14641 20736 28561 38416 ",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Hello world",
          "isTest": true,
          "testIn": "065*3+45*5*:8+:6+:3-99*6+84*65+4*56+:*55+-:3-::7-89*[.]",
          "testOut": "Hello, World!",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Hello world",
          "isTest": false,
          "testIn": "065*3+45*5*:8+::6+:3-99*6+84*65+4*56+:*55+-:3-:::7-89*[.]",
          "testOut": "Helllo, Worlld!",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Animals",
          "isTest": true,
          "testIn": "084*1+:3*4+:8+545**84*56+:*:1+56+9*2-34*9*84*56+9*2+:3+:34*+84*66+55+*6-45:**1+:98++:7-48*56+:*6-:3-:3-:8+:74+-84*:4*8-:9-:9-48*5:+56+*:9+:8-:3+772**:3/943**1-:8-:6+:34*+:4-84*:3*5+:3+374**[.]",
          "testOut": "The quick brown fox jumps over the lazy dog!",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Animals",
          "isTest": false,
          "testIn": "077*3-:::543**3-+:8+545**84*56+:*:1+56+9*2-34*9*84*56+9*2+:3+:34*+84*66+55+*6-45:**1+:98++:7-48*56+:*6-:3-:3-:8+:74+-84*:4*8-:9-:9-48*5:+56+*:9+:8-:3+772**:3/943**1-:8-:6+:34*+:4-84*:3*5+:3+374**[.]",
          "testOut": "The quick brown fox jumps over the lazy dog...",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Nested loops",
          "isTest": true,
          "testIn": "5[1-05[:1-]+[=]48*+.]",
          "testOut": "12345 12345 12345 12345 12345 ",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Nested loops",
          "isTest": false,
          "testIn": "3[1-06[:1-]+[=]65+4*+.]",
          "testOut": "123456,123456,123456,",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "constraints": "Input is a well-formed program:\n* Only contains characters {{0123456789+-*/=.:[]}}\n* Matching {{[}} and {{]}}\n* Never attempts to pop or peek from an empty stack\n* Never attempts command {{.}} if top of stack is not in printable ASCII range 32-126",
      "stubGenerator": "read program:string(1000)\nwrite output",
      "inputDescription": "<<1 line:>> A sequence of program instructions, one instruction per character",
      "solutionLanguage": "Python3",
      "outputDescription": "<<1 line:>> Output of the program"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Execute a program in a stack-based programming language loosely based on brainfuck and reverse polish notation.<br><br>A program consists in manipulating a LIFO stack of integers with instructions <const>0123456789+-*/=:.[]</const>:<br>* <const>0</const>-<const>9</const> Push corresponding number to the stack;<br>* <const>+-*/</const> Pop two numbers, apply corresponding integer operation, push result;<br>* <const>=</const> Pop the stack, and output as integer;<br>* <const>.</const> Pop the stack, and output as ASCII character;<br>* <const>:</const> Duplicate top of stack;<br>* <const>[</const> Peek the stack; if 0, jump to after corresponding <const>]</const>;<br>* <const>]</const> Jump to corresponding <const>[</const>.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>1 line:</strong> A sequence of program instructions, one instruction per character</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>1 line:</strong> Output of the program</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">Input is a well-formed program:<br>* Only contains characters <const>0123456789+-*/=.:[]</const><br>* Matching <const>[</const> and <const>]</const><br>* Never attempts to pop or peek from an empty stack<br>* Never attempts command <const>.</const> if top of stack is not in printable ASCII range 32-126</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">23+=</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">5</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 48347535316,
  "avatar": 135978326596201,
  "commentCount": 15,
  "upVotes": 4,
  "downVotes": 4,
  "validateAction": {
    "actionId": 979501,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1722381180044,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}