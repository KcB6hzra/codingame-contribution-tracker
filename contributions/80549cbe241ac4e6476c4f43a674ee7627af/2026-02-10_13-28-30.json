{
  "id": 8054,
  "activeVersion": 9,
  "score": 4,
  "votableId": 21779030,
  "codingamerId": 4443387,
  "views": 203,
  "commentableId": 21670075,
  "title": "Self Checkout Machine",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Rob-G",
  "publicHandle": "80549cbe241ac4e6476c4f43a674ee7627af",
  "codingamerHandle": "7cc7113220d019b960ff3d56f512887b7833444",
  "lastVersion": {
    "version": 9,
    "autocloseTime": 1646058874647,
    "data": {
      "title": "Self Checkout Machine",
      "topics": [
        {
          "id": 112,
          "handle": "string-manipulation",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "String manipulation",
            "2": "String manipulation"
          },
          "puzzleCount": 32,
          "parentTopicId": 93
        },
        {
          "id": 105,
          "handle": "modular-calculus",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Modular calculus",
            "2": "Modular calculus"
          },
          "puzzleCount": 7,
          "parentTopicId": 93
        },
        {
          "id": 47,
          "handle": "arrays",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Tableaux",
            "2": "Arrays"
          },
          "pageTitle": "Arrays: exercises and theory",
          "puzzleCount": 21,
          "parentTopicId": 40,
          "contentDetailsId": 78
        },
        {
          "id": 46,
          "handle": "loops",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Boucles",
            "2": "Loops"
          },
          "pageTitle": "Loops: exercises and theory",
          "puzzleCount": 62,
          "parentTopicId": 39,
          "contentDetailsId": 71
        }
      ],
      "solution": "reserves={50.0=>0,20.0=>0,10.0=>0,5.0=>0,2.0=>0,1.0=>0,0.5=>0,0.2=>0,0.1=>0,0.05=>0,0.02=>0,0.01=>0} \njammed = []\ncash=gets.chomp.split(\"+\").each{\n    c,d=_1.split(\"X\")\n    jammed<<d.to_f if c.include?(\"J\")\n    reserves[d.to_f]+=c.to_i\n}\nn = gets.to_i\nn.times do\n    bill, cc = gets.chomp.split(\" \")\n    bill=-bill.to_f\n    cc=cc.split(\"+\").map{\n        c,d=_1.split(\"X\")\n        reserves[d.to_f]+=c.to_i\n        bill+=(d.to_f*c.to_i).round(2)\n    }\n    bill=bill.round(2)\n    change=[]\n    for n in reserves\n        o=(bill/n[0]).floor\n        if o > 0 && n[1] > 0\n            if jammed.include?(n[0])\n                puts \"ERROR: JAM\"\n                exit\n            end\n            tt=[o, n[1]].min\n            od = n[0]%1 == 0 ? n[0].to_i : \"%.2f\" % n[0]\n            change<<\"%iX%s\" % [tt,od]\n            reserves[n[0]]-=tt\n            bill=(bill-n[0]*tt).round(2)\n        end\n    end\n    if bill > 0\n        puts \"ERROR: OUT OF MONEY\"\n        exit\n    end\n    puts change.size>0 ? change*\"+\" : 0\nend\n",
      "statement": "You are tasked with creating a solution for how much change is required from a self-checkout machine based on the customer bill, the cash they put in and the available cash in that machine.\n\n<<CHANGE>>\n<<Notes:>> 50, 20, 10, 5\n<<Coins:>> 2, 1, 0.50, 0.20, 0.10, 0.05, 0.02, 0.01\n\n<<NOTATION>>\nAll [[cash]] in machine and [[output]] change to customer must be formatted in notation\n1X20+2X10+5X1 =  1 of 20 note, 2 of 10 note and 5 of 1 coins. Total is 45.\n\nYou must always <<output>> the highest denomination of any notes & coins that is available.\n\n<<EXAMPLE>>\nCustomer change = 50\nOutput will be: 2X20+1X10 (when available)\n\n<<NOTES>>\nCustomers will always enter more than or equal cash for their bill.\nPrint {{ERROR: OUT OF MONEY}} if the machine cannot output the complete change required.\nIf you have a {{J}} in place of the count of note/coin, this means the machine will jam (but only when that note/coin is dispensed). In this case output {{ERROR: JAM}}\nIf there is an error of any kind, all other customers are <<NOT>> processed.\nIf no change is due output: {{0}}",
      "testCases": [
        {
          "title": "Simple",
          "isTest": true,
          "testIn": "1X20+5X10+2X5+20X1+20X0.50+20X0.20+20X0.10+20X0.05+20X0.02+20X0.01\n1\n22.10 1X20+1X5",
          "testOut": "2X1+1X0.50+2X0.20",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "1X20+5X10+2X5+20X1+20X0.50+20X0.20+20X0.10+20X0.05+20X0.02+20X0.01\n1\n22.30 1X20+1X5",
          "testOut": "2X1+1X0.50+1X0.20",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "More customers",
          "isTest": true,
          "testIn": "1X20+5X10+2X5+20X1+20X0.50+20X0.20+20X0.10+20X0.05+20X0.02+20X0.01\n4\n24.10 1X20+1X5\n16.10 1X20\n3.00 3X1\n9.99 1X10",
          "testOut": "1X0.50+2X0.20\n3X1+1X0.50+2X0.20\n0\n1X0.01",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "1X20+5X10+2X5+20X1+20X0.50+20X0.20+20X0.10+20X0.05+20X0.02+20X0.01\n4\n24.10 1X20+1X5\n16.10 1X20\n3.00 3X1\n9.98 1X10",
          "testOut": "1X0.50+2X0.20\n3X1+1X0.50+2X0.20\n0\n1X0.02",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Perfect customers",
          "isTest": true,
          "testIn": "10X20+50X10+2X5+20X1+20X0.50+20X0.20+20X0.10+50X0.05+50X0.02+20X0.01\n9\n3.00 3X1\n7.00 7X1\n10.00 2X5\n1.50 1X1+1X0.50\n20.00 2X10\n90.00 1X50+4X10\n31.00 1X10+1X20+1X1\n0.02 2X0.01\n9.99 1X5+4X1+1X0.50+2X0.20+1X0.05+4X0.01",
          "testOut": "0\n0\n0\n0\n0\n0\n0\n0\n0",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "10X20+50X10+2X5+20X1+20X0.50+20X0.20+20X0.10+50X0.05+50X0.02+20X0.01\n10\n3.00 3X1\n7.00 7X1\n10.00 2X5\n1.50 1X1+1X0.50\n20.00 2X10\n90.00 1X50+4X10\n31.00 1X10+1X20+1X1\n0.02 2X0.01\n9.99 1X5+4X1+1X0.50+2X0.20+1X0.05+4X0.01\n14.00 1X10+4X1",
          "testOut": "0\n0\n0\n0\n0\n0\n0\n0\n0\n0",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Run out of top coin",
          "isTest": true,
          "testIn": "5X1+5X0.50+10X0.20+10X0.10+10X0.05+10X0.02+10X0.01\n8\n1.50 2X1\n1.50 2X1\n1.50 2X1\n1.50 2X1\n1.50 2X1\n2 2X1\n1.50 2X1\n1.50 2X1",
          "testOut": "1X0.50\n1X0.50\n1X0.50\n1X0.50\n1X0.50\n0\n2X0.20+1X0.10\n2X0.20+1X0.10",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "5X1+5X0.50+10X0.20+10X0.10+10X0.05+10X0.02+10X0.01\n7\n1.50 2X1\n1.50 2X1\n1.50 2X1\n1.50 2X1\n1.50 2X1\n2 2X1\n1.50 2X1",
          "testOut": "1X0.50\n1X0.50\n1X0.50\n1X0.50\n1X0.50\n0\n2X0.20+1X0.10",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Rich shop",
          "isTest": true,
          "testIn": "5X50+10X20+20X10+20X5\n7\n950 48X20\n750 15X50\n190 10X20\n260 6X50\n910 20X50\n7777 156X50\n940 48X20",
          "testOut": "1X10\n0\n1X10\n2X20\n1X50+2X20\nERROR: OUT OF MONEY",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "5X50+10X20+20X10+20X5\n6\n950 48X20\n750 15X50\n190 10X20\n260 6X50\n7778 156X50\n940 48X20",
          "testOut": "1X10\n0\n1X10\n2X20\nERROR: OUT OF MONEY",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Jamming",
          "isTest": true,
          "testIn": "10X20+50X10+10X2+20JX1+20X0.50+20X0.20+20X0.10+50X0.05+50X0.02+20X0.01\n6\n1.50 2X1\n2.00 1X2\n4.00 1X10\n20.21 1X10+1X20\n8.10 1X10\n65 4X20",
          "testOut": "1X0.50\n0\n3X2\nERROR: JAM",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 6",
          "isTest": false,
          "testIn": "10X20+50X10+10X2+20JX1+20X0.50+20X0.20+20X0.10+50X0.05+50X0.02+20X0.01\n7\n1.60 2X1\n2.00 1X2\n4.00 1X10\n20.21 1X10+1X20\n8.10 1X10\n65 4X20\n100 5X20",
          "testOut": "2X0.20\n0\n3X2\nERROR: JAM",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "So many Pennies",
          "isTest": true,
          "testIn": "10000X0.01\n4\n24.10 1X20+1X5\n10.01 1X20\n3.00 3X1\n9.01 1X10",
          "testOut": "90X0.01\n1X5+499X0.01\n0\n99X0.01",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 7",
          "isTest": false,
          "testIn": "10000X0.01\n5\n24.10 1X20+1X5\n10.01 1X20\n3.00 3X1\n9.01 1X10\n9.56 1X10",
          "testOut": "90X0.01\n1X5+499X0.01\n0\n99X0.01\n44X0.01",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "1 ≤ [[n]] ≤ 10",
      "coverBinaryId": 77744004886010,
      "stubGenerator": "read cash:string(1000)\nread N:int\nloop N read bill:float given:word(1024)\n\nwrite each customer change notation or ERROR",
      "inputDescription": "<<Line 1:>> An string [[cash]] for the machines starting cash reserves.\n<<Line 2:>> An integer [[n]] for the number of customers.\n<<Next [[n]] lines:>> Space separated float [[customer_bill]] [[cash_given]]",
      "solutionLanguage": "Ruby",
      "outputDescription": "<<[[n]] lines of customers:>> Cash returned in notation or some {{ERROR}}"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">You are tasked with creating a solution for how much change is required from a self-checkout machine based on the customer bill, the cash they put in and the available cash in that machine.<br><br><strong>CHANGE</strong><br><strong>Notes:</strong> 50, 20, 10, 5<br><strong>Coins:</strong> 2, 1, 0.50, 0.20, 0.10, 0.05, 0.02, 0.01<br><br><strong>NOTATION</strong><br>All <var>cash</var> in machine and <var>output</var> change to customer must be formatted in notation<br>1X20+2X10+5X1 =  1 of 20 note, 2 of 10 note and 5 of 1 coins. Total is 45.<br><br>You must always <strong>output</strong> the highest denomination of any notes &amp; coins that is available.<br><br><strong>EXAMPLE</strong><br>Customer change = 50<br>Output will be: 2X20+1X10 (when available)<br><br><strong>NOTES</strong><br>Customers will always enter more than or equal cash for their bill.<br>Print <const>ERROR: OUT OF MONEY</const> if the machine cannot output the complete change required.<br>If you have a <const>J</const> in place of the count of note/coin, this means the machine will jam (but only when that note/coin is dispensed). In this case output <const>ERROR: JAM</const><br>If there is an error of any kind, all other customers are <strong>NOT</strong> processed.<br>If no change is due output: <const>0</const></span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> An string <var>cash</var> for the machines starting cash reserves.<br><strong>Line 2:</strong> An integer <var>n</var> for the number of customers.<br><strong>Next <var>n</var> lines:</strong> Space separated float <var>customer_bill</var> <var>cash_given</var></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong><var>n</var> lines of customers:</strong> Cash returned in notation or some <const>ERROR</const></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">1 &le; <var>n</var> &le; 10</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">1X20+5X10+2X5+20X1+20X0.50+20X0.20+20X0.10+20X0.05+20X0.02+20X0.01\n1\n22.10 1X20+1X5</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">2X1+1X0.50+2X0.20</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 125703823945,
  "avatar": 126701063809261,
  "commentCount": 9,
  "upVotes": 6,
  "downVotes": 2,
  "validateAction": {
    "actionId": 627331,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1645026285464,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}