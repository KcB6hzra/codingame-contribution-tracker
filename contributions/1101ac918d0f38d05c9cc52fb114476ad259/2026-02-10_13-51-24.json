{
  "id": 1101,
  "activeVersion": 18,
  "score": 3,
  "votableId": 6990304,
  "codingamerId": 2130169,
  "views": 222,
  "commentableId": 6928673,
  "title": "The Grand Festival - II",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "CyberLemonade",
  "publicHandle": "1101ac918d0f38d05c9cc52fb114476ad259",
  "codingamerHandle": "d8a0152458f424d53995a613b5abea4f9610312",
  "lastVersion": {
    "version": 18,
    "data": {
      "title": "The Grand Festival - II",
      "topics": [
        {
          "id": 71,
          "handle": "recursion",
          "labelMap": {
            "1": "RÃ©cursion",
            "2": "Recursion"
          },
          "pageTitle": "Recursion: exercises and theory",
          "puzzleCount": 8,
          "parentTopicId": 41,
          "contentDetailsId": 77
        },
        {
          "id": 60,
          "handle": "dynamic-programming",
          "labelMap": {
            "1": "Programmation dynamique",
            "2": "Dynamic programming"
          },
          "pageTitle": "Dynamic programming: exercises and theory",
          "puzzleCount": 4,
          "parentTopicId": 41,
          "contentDetailsId": 85
        }
      ],
      "solution": "import java.util.*;\r\nimport java.io.*;\r\npublic class Solution {\r\n    static int N;\r\n    static int[] v;\r\n    static int consecutive=2;\r\n    static int value[][];\r\n    static String path[][];\r\n    static int checks=0;\r\n    public static void main (String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        N = sc.nextInt();\r\n        consecutive = sc.nextInt();\r\n        v = new int[N];\r\n        value = new int[N+1][consecutive];\r\n        path = new String[N][consecutive];\r\n        for (int i=0; i<N; i++) {\r\n            v[i] = sc.nextInt();\r\n        }\r\n        String val1 = maximum(0,consecutive);\r\n        String val2 = maximum(1,consecutive);\r\n        String optimal = val2;\r\n        if (value[0][consecutive-1]>value[1][consecutive-1]) {\r\n            optimal = val1;\r\n        }\r\n        System.out.println(optimal.substring(0,optimal.length()-1));\r\n        System.err.println(checks);\r\n    }\r\n    \r\n    public static String maximum(int cnt,int left) {\r\n        left--;\r\n        if (cnt >= N) {return \"\";}\r\n        else if (value[cnt][left] != 0) {return path[cnt][left];}\r\n        checks++;\r\n        String skip_1 = maximum(cnt+2,consecutive);\r\n        String best = skip_1;\r\n        int val = 0;\r\n        if (left>0) {\r\n            String next = maximum(cnt+1,left);\r\n            if (cnt>N-3 || value[cnt+1][left-1]>value[cnt+2][consecutive-1]) {best = next; val = value[cnt+1][left-1];}\r\n            else {val = value[cnt+2][consecutive-1];}\r\n        }\r\n        else {\r\n            String skip_2 = maximum(cnt+3,consecutive);\r\n            if (cnt>N-3) {best = \"\"; val = 0;}\r\n            else if (value[cnt+3][consecutive-1]>value[cnt+2][consecutive-1]) {best = skip_2; val = value[cnt+3][consecutive-1];}\r\n            else {val = value[cnt+2][consecutive-1];}\r\n        }\r\n        best = (cnt+1)+\">\"+best;\r\n        value[cnt][left] = v[cnt]+val;\r\n        path[cnt][left] = best;\r\n        System.err.println(\"max[\"+cnt+\"][\"+left+\"] = \"+value[cnt][left]);\r\n        return best;\r\n    }\r\n}\r\n",
      "statement": "<<Story:>>\n\nThe Grand Festival has started! Merry and Pippin decide to participate in its competitions. There are a variety of competitions, like archery, swordifighting, hunting, riding, etc.\nHowever, they realize that after playing some tournaments consecutively, they need to rest a week. They gather information about the prize money of each competition. 1 competition is held every week.\nMerry and Pippin decide they will try to get the maximum prize money. For this, they ask Gandalf for help. Help Gandalf choose which tournaments They should play.\n\n-------------------------------------------------- xxx --------------------------------------------------\n\n<<Rules:>>\n\nThere are [[N]] tournaments in all, held from week {{1}} to week {{N}}.\nMerry and Pippin can play at most [[R]] consecutive tournaments before they have to rest.\nThe prize money for all the tournaments will be given to you.\nYou need to display the tournaments they should play in order to get maximum prize money.\n\n-------------------------------------------------- xxx --------------------------------------------------\n\n<<Example:>>\n\nLet there be {{10}} tournaments\nLet Merry and Pippin be able to play {{4}} weeks consecutive\nLet the prize moneys be: {{15}}, {{32}}, {{22}}, {{29}}, {{19}}, {{39}}, {{20}}, {{30}}, {{12}}, {{47}}\nTo get the maximum they must play in the following weeks: \n[[1]]>[[2]]>[[3]]>[[4]]>[[6]]>[[7]]>[[8]]>[[10]]\nYour program must display the above output\n\n-------------------------------------------------- xxx --------------------------------------------------\n\n<<Note:>>\n\nThis is the second in a series of puzzles. The first puzzle required you to display the maximum prize money. This one requires you to display the path. It is recommended to solve the first puzzle before starting this.",
      "testCases": [
        {
          "title": "Easy",
          "isTest": true,
          "testIn": "7\n3\n13\n12\n11\n9\n16\n17\n100",
          "testOut": "1>2>3>5>6>7",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Easy",
          "isTest": false,
          "testIn": "7\n3\n13\n12\n11\n9\n16\n17\n99",
          "testOut": "1>2>3>5>6>7",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "2 weeks",
          "isTest": true,
          "testIn": "14\n4\n12\n14\n52\n7\n3\n1\n1\n89\n98\n100\n12\n5\n6\n8",
          "testOut": "1>2>3>4>6>8>9>10>11>13>14",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "2 weeks",
          "isTest": false,
          "testIn": "14\n4\n12\n14\n52\n7\n3\n1\n1\n89\n99\n100\n12\n5\n6\n8",
          "testOut": "1>2>3>4>6>8>9>10>11>13>14",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "No rest",
          "isTest": true,
          "testIn": "10\n10\n20\n30\n27\n24\n23\n28\n33\n38\n34\n35",
          "testOut": "1>2>3>4>5>6>7>8>9>10",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "No rest",
          "isTest": false,
          "testIn": "10\n10\n30\n30\n27\n24\n23\n28\n33\n38\n34\n35",
          "testOut": "1>2>3>4>5>6>7>8>9>10",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Fatigued",
          "isTest": true,
          "testIn": "7\n2\n10\n12\n11\n9\n17\n8\n13",
          "testOut": "1>2>4>5>7",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Fatigued",
          "isTest": false,
          "testIn": "7\n2\n10\n12\n11\n9\n16\n8\n13",
          "testOut": "1>2>4>5>7",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "1 year",
          "isTest": true,
          "testIn": "100\n7\n4\n29\n76\n38\n69\n97\n61\n39\n100\n71\n9\n92\n27\n58\n36\n10\n41\n78\n89\n17\n6\n51\n15\n82\n80\n66\n47\n61\n57\n95\n58\n71\n83\n43\n85\n20\n9\n33\n100\n49\n73\n97\n42\n96\n32\n92\n16\n74\n90\n24\n16\n59\n95\n19\n26\n45\n51\n56\n88\n50\n67\n45\n54\n7\n85\n75\n78\n48\n94\n2\n27\n60\n74\n22\n35\n89\n69\n85\n72\n41\n46\n33\n26\n98\n58\n26\n65\n2\n78\n70\n88\n83\n60\n49\n17\n95\n15\n21\n60\n4",
          "testOut": "1>2>3>4>5>6>7>9>10>11>12>13>14>15>17>18>19>20>22>23>24>25>26>27>28>30>31>32>33>34>35>36>38>39>40>41>42>43>44>46>47>48>49>50>52>53>54>55>57>58>59>60>61>62>63>65>66>67>68>69>71>72>73>75>76>77>78>79>80>81>83>84>85>86>87>89>90>91>92>93>94>96>97>98>99>100",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "1 year",
          "isTest": false,
          "testIn": "100\n7\n100\n95\n88\n46\n53\n21\n14\n93\n96\n72\n32\n85\n35\n3\n31\n2\n45\n34\n15\n89\n18\n81\n25\n44\n50\n89\n27\n95\n11\n40\n12\n74\n69\n43\n23\n15\n29\n95\n10\n2\n22\n37\n65\n89\n91\n18\n59\n93\n47\n11\n99\n48\n43\n44\n88\n13\n9\n2\n44\n41\n94\n50\n49\n55\n55\n53\n47\n89\n20\n21\n48\n28\n98\n4\n36\n39\n71\n64\n37\n25\n53\n95\n47\n65\n83\n31\n61\n76\n67\n81\n41\n27\n85\n52\n64\n65\n15\n70\n14\n75",
          "testOut": "1>2>3>4>5>6>8>9>10>11>12>13>15>16>17>18>19>20>22>23>24>25>26>27>28>30>31>32>33>34>35>37>38>39>41>42>43>44>45>47>48>49>51>52>53>54>55>56>57>59>60>61>62>63>64>65>67>68>69>70>71>72>73>75>76>77>78>79>81>82>83>84>85>87>88>89>90>91>93>94>95>96>97>98>100",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "coverBinaryId": 27981128837875,
      "stubGenerator": "read N:int\nread R:int\nloop N read PRIZE:int\nwrite answer",
      "inputDescription": "<<Line 1:>> An integer [[N]]\n<<Line 2:>> An integer [[R]]\n<<Next [[N]] Lines:>> An integer [[PRIZE]], the prize for the tournament that week",
      "solutionLanguage": "Java",
      "outputDescription": "<<Line 1:>> The weeks in which Merry and Pippin should play, to get the maximum prize money, in the following format:\n\"[[W1]]>[[W2]]>[[W3]]>...>[[Wk]]\""
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\"><strong>Story:</strong><br><br>The Grand Festival has started! Merry and Pippin decide to participate in its competitions. There are a variety of competitions, like archery, swordifighting, hunting, riding, etc.<br>However, they realize that after playing some tournaments consecutively, they need to rest a week. They gather information about the prize money of each competition. 1 competition is held every week.<br>Merry and Pippin decide they will try to get the maximum prize money. For this, they ask Gandalf for help. Help Gandalf choose which tournaments They should play.<br><br>-------------------------------------------------- xxx --------------------------------------------------<br><br><strong>Rules:</strong><br><br>There are <var>N</var> tournaments in all, held from week <const>1</const> to week <const>N</const>.<br>Merry and Pippin can play at most <var>R</var> consecutive tournaments before they have to rest.<br>The prize money for all the tournaments will be given to you.<br>You need to display the tournaments they should play in order to get maximum prize money.<br><br>-------------------------------------------------- xxx --------------------------------------------------<br><br><strong>Example:</strong><br><br>Let there be <const>10</const> tournaments<br>Let Merry and Pippin be able to play <const>4</const> weeks consecutive<br>Let the prize moneys be: <const>15</const>, <const>32</const>, <const>22</const>, <const>29</const>, <const>19</const>, <const>39</const>, <const>20</const>, <const>30</const>, <const>12</const>, <const>47</const><br>To get the maximum they must play in the following weeks: <br><var>1</var>&gt;<var>2</var>&gt;<var>3</var>&gt;<var>4</var>&gt;<var>6</var>&gt;<var>7</var>&gt;<var>8</var>&gt;<var>10</var><br>Your program must display the above output<br><br>-------------------------------------------------- xxx --------------------------------------------------<br><br><strong>Note:</strong><br><br>This is the second in a series of puzzles. The first puzzle required you to display the maximum prize money. This one requires you to display the path. It is recommended to solve the first puzzle before starting this.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> An integer <var>N</var><br><strong>Line 2:</strong> An integer <var>R</var><br><strong>Next <var>N</var> Lines:</strong> An integer <var>PRIZE</var>, the prize for the tournament that week</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>Line 1:</strong> The weeks in which Merry and Pippin should play, to get the maximum prize money, in the following format:<br>&quot;<var>W1</var>&gt;<var>W2</var>&gt;<var>W3</var>&gt;...&gt;<var>Wk</var>&quot;</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\"></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">7\n3\n13\n12\n11\n9\n16\n17\n100</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">1&gt;2&gt;3&gt;5&gt;6&gt;7</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 254193291964,
  "avatar": 57032502077757,
  "commentCount": 13,
  "upVotes": 4,
  "downVotes": 1,
  "validateAction": {
    "actionId": 185035,
    "progress": 1,
    "alreadyDone": false
  },
  "denyAction": {
    "actionId": 185221,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}