{
  "id": 110400,
  "activeVersion": 83,
  "score": 38,
  "votableId": 35457009,
  "codingamerId": 5192217,
  "views": 739,
  "commentableId": 35302329,
  "title": "Tired Pac-Man",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Harry.B.",
  "publicHandle": "110400e725a87f10e3be99500a4d221a29f20c",
  "codingamerHandle": "d926a93cb394ded661b204822965c5fa7122915",
  "lastVersion": {
    "version": 83,
    "autocloseTime": 1758220010800,
    "freezeTime": 1756232810800,
    "data": {
      "title": "Tired Pac-Man",
      "topics": [
        {
          "id": 68,
          "handle": "pathfinding",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Recherche de chemins",
            "2": "Pathfinding"
          },
          "pageTitle": "Pathfinding: exercises and theory",
          "puzzleCount": 50,
          "parentTopicId": 41,
          "contentDetailsId": 69
        },
        {
          "id": 55,
          "handle": "DFS",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Parcours en profondeur",
            "2": "DFS"
          },
          "pageTitle": "DFS: exercises and theory",
          "puzzleCount": 17,
          "parentTopicId": 41,
          "contentDetailsId": 79
        },
        {
          "id": 54,
          "handle": "BFS",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Parcours en largeur",
            "2": "BFS"
          },
          "pageTitle": "BFS: exercises and theory",
          "puzzleCount": 38,
          "parentTopicId": 41,
          "contentDetailsId": 84
        },
        {
          "id": 65,
          "handle": "memoization",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Mémoïsation",
            "2": "Memoization"
          },
          "pageTitle": "Memoization: exercises and theory",
          "puzzleCount": 20,
          "parentTopicId": 41,
          "contentDetailsId": 76
        },
        {
          "id": 71,
          "handle": "recursion",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Récursion",
            "2": "Recursion"
          },
          "pageTitle": "Recursion: exercises and theory",
          "puzzleCount": 54,
          "parentTopicId": 41,
          "contentDetailsId": 77
        }
      ],
      "solution": "# Read dimensions and energy. Also set required variables.\nw, h = [int(i) for i in input().split()]\nenergy = int(input())\nfruits = {\"*\": 5, \")\": 3, \".\": 1}\ndirections = [(-1, 0), (0, 1), (1, 0), (0, -1)]\ngrid = []\npos = (-1, -1)\nfruit_positions = {}\nghosts = []\n\n# Form grid and locate all fruit cells and the starting position.\nfruit_index = 0\nfor i in range(h):\n    grid.append([i for i in input()])\n    for j, char in enumerate(grid[-1]):\n        if char == \"P\":\n            pos = (i, j)\n        elif char == \"G\":\n            ghosts.append((i,j))\n        elif char in fruits:\n            fruit_positions[(i, j)] = fruit_index \n            fruit_index += 1\n\n# Set barrier around each ghosts reach. (Avoids having to check in recursive function)\nfor i,j in ghosts:\n    grid[i][j] = \"#\"\n    for y, x in directions:\n        grid[(i+y)%h][(j+x)%w] = \"#\"\n\n# Find available neighbours for cells.\nneighbours = {}\nfor i in range(h):\n    for j in range(w):\n        if grid[i][j] == \"#\":continue\n        for dy,dx in [[0,1],[-1,0],[0,-1],[1,0]]:\n            ny, nx = i+dy, j+dx\n            ny_wrapped, nx_wrapped = (ny%h) , (nx%w)\n            if 0 <= ny < h and 0 <= nx < w and grid[ny][nx] != \"#\" or grid[ny_wrapped][nx_wrapped] != \"#\":\n                neighbours.setdefault((i,j), [])\n                if ny_wrapped != ny or nx_wrapped != nx:\n                    neighbours[(i,j)].append([ny_wrapped,nx_wrapped,3])\n                else:\n                    neighbours[(i,j)].append([ny,nx,1])\n\n# Recursive DFS function with cache to avoid recomputing.\ncache = {}\nmax_score = [0]\ndef search(i, j, score, remaining_energy, visited):\n    # Check if the current cell has a fruit and hasn't been visited.\n    if (i, j) in fruit_positions:\n        fruit_idx = fruit_positions[(i, j)]\n        if not (visited & (1 << fruit_idx)):  \n            score += fruits[grid[i][j]]  \n            visited |= (1 << fruit_idx)\n    \n    # Check if this state has already been computed.\n    state = (i, j, score, remaining_energy, visited)\n    if state in cache:\n        return \n    cache[state] = score\n\n    if score > max_score[0]:\n        max_score[0] = score\n    if score + 5*remaining_energy <= max_score[0]:\n        return\n\n    # Explore neighbors in cardinal directions.\n    for y, x, cost in neighbours.get((i,j),[]):\n        if remaining_energy-cost >= 0:\n            search(y, x, score, remaining_energy-cost, visited)\n\n# Print max score result from DFS using the initial position, energy and no visited fruits.\nsearch(pos[0], pos[1], 0, energy, 0)\nprint(max_score[0])\n\n\"\"\" Visualiser for the longest path.\nimport sys\nfor key,score in cache.items():\n    if key[2] == max_score[0]:\n        visited = key[-1]\n        print(\"\\nUpdated Path:\" , file = sys.stderr)\n        for i,j in fruit_positions:\n            fruit_idx = fruit_positions[(i, j)]\n            if (visited & (1 << fruit_idx)):\n                grid[i][j] = \"?\"\n        for row in grid:\n            print(\"\".join(row), file = sys.stderr)\n\"\"\"",
      "statement": "Pac-Man has had a long day of eating fruit and avoiding ghosts, so he now only has limited [[energy]]. The objective is to <<maximize the score>> by eating fruit before his [[energy]] runs out.\n\nPac-Man can only move in the <<cardinal directions>> ({{North}}, {{East}}, {{South}}, and {{West}}), and each move costs <<1>> [[energy]]. \n\n<<Pac-Man can also wrap around the edges of the grid:>>\nPac-Man can move off one edge of the grid and appear on the opposite edge in the same row or column.\nMoving from the top edge to the bottom edge, or from the bottom edge to the top edge, costs <<3>> [[energy]].\nMoving from the left edge to the right edge, or from the right edge to the left edge, also costs <<3>> [[energy]].\n\n<<Ghosts:>>\nGhosts are also tired and will not move from their position unless they can eat Pac-Man. A ghost can eat Pac-Man if Pac-Man moves within one square adjacent to the ghost in any of the <<cardinal directions>>. Opposite edges of the grid are considered to be adjacent (e.g. {{East}} of the right edge is the left edge). Pac-Man <<MUST>> avoid being eaten; if he is eaten, the game ends and his score is set to {{0}}.\n\n<<Grid Legend:>>\n{{P}} represents Pac-Man's starting position.\n{{G}} represents a ghost.\n{{#}} represents an impassable barrier.\nA {{space}} represents an empty square.\nFruits are represented as follows:\n{{*}} is worth <<5>> points.\n{{.}} is worth <<1>> point.\n{{)}} is worth <<3>> points.\n\n<<Eating Fruit:>>\nTo eat a fruit and gain that fruit's points, Pac-Man must <<move into>> the square that the fruit occupies. Once a fruit has been eaten, it <<CANNOT>> be eaten again.",
      "testCases": [
        {
          "title": "Basic Grid",
          "isTest": true,
          "testIn": "12 9\n13\n############\n# .     *  #\n# .        #\n# .        #\n#.         #\n# .   )P   #\n# .        #\n# .       *#\n############",
          "testOut": "10",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "12 9\n10\n############\n# .     *  #\n# . P      #\n# .      . #\n#..        #\n# .        #\n# *   .    #\n# .       *#\n############",
          "testOut": "11",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Basic Grid with Barriers",
          "isTest": true,
          "testIn": "12 9\n10\n############\n# . ## #*# #\n# . ## # # #\n# . ## # # #\n#.   # # # #\n# .    P   #\n# . ## # # #\n# . ## # #*#\n############",
          "testOut": "5",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "12 9\n10\n############\n# . ## #*# #\n# . ## # # #\n# . ## # # #\n#.*  # # # #\n# .*   P   #\n# . ## # # #\n# . ## # #*#\n############",
          "testOut": "14",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Ghosts Gatekeeping",
          "isTest": true,
          "testIn": "15 13\n12\n###############\n# .  * *      #\n# .  )        #\n# .  ..*)     #\n#.    *G*     #\n# . G  *  P   #\n# .           #\n# .   )) **   #\n# .   GG*GG*  #\n# .   .. **   #\n# .           #\n# .          *#\n###############",
          "testOut": "18",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "10 13\n10\n##########\n#G  .)  .#\n#G*  *G**#\n#* P  *  #\n#G   )  .#\n#G   )  .#\n#* .   *G#\n#G      )#\n#G      .#\n#G G  . .#\n#G      .#\n#G  **G .#\n##########",
          "testOut": "12",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Ghosts Extreme Gatekeeping",
          "isTest": true,
          "testIn": "29 13\n23\n#############################\n#******G            G*******#\n#*******   *        ********#\n#******G            G*******#\n# G G G               G G G #\n#                           #\n#             P             #\n#                           #\n# G G G               G G G #\n#*******G           G*******#\n#********   .  )    ********#\n#*******G           G*******#\n#############################",
          "testOut": "9",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "20 20\n23\n####################\n#*****        *****#\n#*****G      G*****#\n#******  .   ******#\n#*****G       *****#\n# G  G       G*****#\n#       P    ******#\n# G G         *****#\n#*****G      G*****#\n#******      ******#\n#*****G      G*****#\n#******  )   ******#\n#*****G  )   G*****#\n#*****        *****#\n#*****G      G*****#\n#*****        *****#\n#*****G      G*****#\n#*****        *****#\n#*****G      G*****#\n####################",
          "testOut": "7",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "No Fruit",
          "isTest": true,
          "testIn": "4 4\n25\n####\n#  #\n# P#\n####",
          "testOut": "0",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "12 9\n25\n############\n#          #\n#          #\n#          #\n#    P     #\n#          #\n#          #\n#          #\n############",
          "testOut": "0",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "No Energy",
          "isTest": true,
          "testIn": "47 47\n0\n###############################################\n#.)*#*  *#* .***.))##*.)##* # )  *# #* .  * ###\n#.*)) #.#*# )*)).# # .#. ))).##))*.  ***## ))##\n# ).# *   )#*. )) #*..)*#*)##*.*  )).*.)#)) #*#\n#).) #   * ).*))*)..) #..*#*##).##).#*#..# . .#\n#*..)*## .*#* #.#)#.#)*#* .* #)*.*#)   .*) ##*#\n#*.#.##)**)# # ))*)*#. ##)*) #.*# ** ))*##.) *#\n#)..*.*# **#)..*.##*)..* )*  .))**.)*#* #*#)###\n# *).**# .)) .))#*))#) *#. ##.#)))* )# )). #  #\n# ..)#).#* )*.#.*# .)*))#.*.....#*)**)  ***)#.#\n#   #. )  .) ..#.)# .  ) *)#.)###.#  # #   #) #\n# **#*.* .#)*.)   .*# )#).. **)#.*).*) *)#* *##\n# )).*  #.**.)#)..*  #) *# )*#*.)*.**)#*.**##*#\n#*)*#* ##.)***#).# .#*) .*))  * #*)).#*..#).#.#\n# ..#.) .#*.. ).) #** # . . # )* )*##)*####.#)#\n#)**).. )*)  ##**) *#.  ).)*#*#)*#)))..#.*##) #\n##.)#. .*)#*.***.**..#* )# *..# .**. ))#**)#**#\n#)## ###.)..)))## .)#  . ))*#.)#)).#...) #)***#\n#***. #  *.*#G *.#*.).))** #**)))).*#)##.) #. #\n#. ).).##)..)*)))##)##)*# ##)##  )*##. * #### #\n#. ***#*)##)* .)P.##  ).*)). ..# #.)  .*)# ##)#\n##). **).*.)***. .#. ).. .*.))*)##*.  .# **)).#\n#*))#..#*G*)#*.)##.#** #.# )**#  *. ). # ..*))#\n##*))) *.#..).*  ##*# ) *#)* ).   **..*. #*# )#\n#*) * )...  * *#. )*  ) * .* * **#)*  *# # )..#\n#   *.)))#*).*# *#)##   ).*)  .*). # . )*)##*)#\n#.)*#*))**#)*#** ## *)).*.   . *#).).)##*)).*##\n#)## #).*#)  #.. ).) #  . )*)*.. )*## * *))*.##\n#**)**#.* #.#.   #)#..#*..***)*#)  .)*. #))..##\n#  #)*  #*  *#) .#*)  *.#.*)*)*...*)# #*.*)# .#\n#)#)  )* ) .*. * ))  *.).)* * ###**)*# ))#*. )#\n#*)))#.*)).)))*#. #)#**)#* .# *.#*#  ) .  .)*)#\n#.# .##))#)) * ##)) ) ##)*) ). #.* .#) ).  * G#\n#) *. * #.. *  ))*#*.# .)*).)*) # *#)**.G#*.))#\n###) )#)*#.))#).#.) ))* *.  )** ) #*#.  . .*).#\n#) *****# )*#*)*.***##.#*###).*#.#*# #.  *)).)#\n#)**#  *  *.) ###.))))# #)**) *##)* ) ).)*))# #\n#)*.*  )*#)#.. *#  ###))).*)..).*.)*G*# .**.) #\n# ) .*.#*#).#*  #)*###*#.) *  . *.  )## ).#. )#\n#).* ## *.) #.)**..).#)*)# )*))#).). ***.*.).*#\n#..)#.* .***..#...### *#*).. ).* **  ))). )...#\n#.)*#.. *)# *. *##***#)) ) *#***# *#)))*.# *).#\n#* ))## )#*.)).* ...) # #.)* **# #.*# .** ).# #\n##) *)##  #*#) ) ) ..*#)#.#. ## )* * #)# ))*###\n#. )*#..)# *.) * )*.#).) .   . #  .) ).*) . *.#\n#.. #  )..  .. #.**)## **** # )  *##).***)**. #\n###############################################",
          "testOut": "0",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 6",
          "isTest": false,
          "testIn": "39 39\n0\n#######################################\n#)#).).).#.)  ) ))..*)* )* )))#))*)..##\n#))*) *.#*)#* )*. )))*.)###)#*) ))*## #\n# )..** *# *#)*)*).*#*)#) ..))*. **..*#\n# G.)))).#.)##* .)*)*#*# #).. ##.#)*# #\n##* #.)).** ))) . * )  #*)). #* .# ) ##\n#.# #)#.#)*...*#))**  )))..))...))# ).#\n#  .)).#*# *)..).#  *) .* ) ) # .* #..#\n#)).)##*.*.).  ## )*).**. * *).#.)**).#\n#. ***## )#*#)#.))*)* #*.#*  **)*. #.##\n#.  #.. .#.*.)** #)# *).). ))))))*#)..#\n#*  *.**# .)#*#. )# ).). *  . .*##.).##\n# . **  . *#*###.. .*#.# .# *.)##   ))#\n#)..*)*#.*) ..#    * *).).)   # )* **.#\n# .** ##)#)#*###.  .#.#))*. * )*.#* )##\n##*)#)#**)  ..#*.#**# *)*)).. # * ** ##\n#)*) *..##G  .# *#))) )  # .) #.  # )##\n##*) . * ###**.)##**. . .. .#))#.** .)#\n#.#*) .*** ) *).. ..) #.#).#####).*)**#\n#  )#)*.*.##.*)) *#) # .) **..  .##*. #\n#.##*##*. )## *)) * )#* * ).)* *#)))* #\n#*##))**#  ###*.# #*  * #*#.) ). .#**.#\n#) *..)*   # ###*#. **#) )##)  ## .####\n# *  ..##.*.) ))..)*#)#  )   #) ..*.  #\n#*.. *  *#) *.. #))G)) *))) )#.#)).)))#\n##.).)).*)**  .. #. .)* )*#.#).)...#**#\n#)#  *# #)#***.#* )..*.*. *))*. ..## *#\n##.)). **#**)) *)# *)#*)# #)##.) ).#*##\n#)*# *.*#*..*)*#** . .#*) ...*)#)##*G*#\n# *  #))**)**) *...)#  *) *) .. .##..*#\n#)# )*.)*)** #)#)* ##**)P## .))# #)# .#\n#*#.)  . )#. #)* )#)  ) #)))    #))..)#\n#*)* )# *)*#*#)...** *.*#).*#)    **.*#\n#)***# *#**.#) )  )#))#.#*.#*# *)#.*.)#\n#.* .##..) .).**))#**  ..)))#)#)#.#*# #\n# . *..*  ##*# *##**))# *  .**.*. )#))#\n#. * . #. ) .G.#.#)#)*.#  *)) **#.. #.#\n#G **  . ### .*. .*)*.). ##* #))#. #* #\n#######################################",
          "testOut": "0",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "No Moves",
          "isTest": true,
          "testIn": "54 54\n12\n######################################################\n#* )** #.#*.  )*#### )#**#. .) )G. *##*)***.#)#  .#)G#\n#*.)* )*##)* *. *)## #.  #.**).)* *####.))**###).)##.#\n# *. ))# . **#  **.)#.*..)* )* ....))# *#)** * )*#*).#\n#* ).*#***  ))#)  ))*) # *#.#.)#.  .)*#) #. .## )*#)##\n#*.).*  *. #)*#)#.#. . .**.*..# . #) ))#.#  .))))# ###\n#))*.*.*)))#*# *#) )# #*##))..#*# ..* ). * )*#)*.*#)##\n##*))#.# .)#..*.*) #* #) ).)*))* #..# . .#*).)*).*  .#\n#)#* .. ..)*..*))#. #*)))#.*#.) . **   )#.).. .)*... #\n#   ..#.)  )**)#) .#)#)#) )  )*#))# )# ))..*.)**) # )#\n# ..*) .*. ..*) )*.  ) ## *# *)  )#. *#)  ))#*##* #.*#\n#**# )..) #G*).#*#.*)* .. ).#* *..)* ..#..# )*#.)* . #\n#.)**. #*.))##. * )) . * ##....# .* .))*..)*###   #.)#\n#**. # .#.*) #* ###)) ) ). ))##.).  .*)*))##) #))#. )#\n# *)) *))..*.***.)))#)#*).) .#*).*....#).)...#.#*  #)#\n#. )... ).  *.  G *))).* ).).#* *) *###**.* #  # .#. #\n#*)*#.  )*)). #))#)*)*.)#** ) .)*#). )) )). #)*# ))) #\n#).*#.#.#.#) # ###* . .#***.#..#.*))*) ).  )* #)##)).#\n#  *. ##*.#.***). **..  *#*.*)****#*) * #*##   #)#*.##\n#*#*#.*)### .)# ###*.. .*#))**#))#*  ##*) )**#)**#*.*#\n## *#*).).) ).#.. ***#))**.)##))..G*#*)# # .#.   ). ##\n#.*. ) ).).).)  *. #*)))*) ))#.#)*#.#. .* .  #  .**#*#\n#* ###..#.. #*)) .*)#)#*#)*##  *.*.* #* #. )## *.) #*#\n# )#)*).*)).)#**.) # .*))).)  ). #).* *. .#)**.)).*#*#\n##*))  )  ... ..#.#.)*.. #*.) **)))# ))*#. ...**)*#*.#\n#*  )).*#.# ).).#.#))#  ##.***.   )# *))*. . )#.*...##\n#*   .# * .#)) #). .#)#))).* ...)).#*#) *.##*)..#.)#*#\n#.)##*# # ))*)*  .## ..)*) ..*#) ).).#..   ***) )#). #\n#). .)G*P##   #..)*#. *  *) ## ...*#)#) .) .)#)*)    #\n#**##)) )*#)# # *.  )..# )))..)#*#..).* ).## #*#)#))##\n#   .*#.G#** #).. )*  .)*##*#..*. . .*. )..##**  ).# #\n#*#..###))# # .**#.* )# )##.# ) *  .)#..*.#*))#.).  )#\n###.#.) #..))*..# *) )**#**.).*. ).*)*# ).  *)  **   #\n#)* ))*#.)  .)#  ). .)#).    )..*)#*#.*# #)))  .)#)**#\n## **# )**    *#.)*..).*#).# *#)# .)  ).*#)#)))  ) .)#\n#.)))## ##. )*.)..*.)))*)).#* #** .#. ))##* *#)* * ..#\n#*).)..)*.# **..*#) *)#..*# # *.)#*#*#.#)#*#*) * .#  #\n#**)*.    #..*# **#***  .. # *###**.##.* G  *) #))  ##\n#. #)  .#. )))*.#. .***) # #.#*)))# **. .. #*.*.# )* #\n#***#  .#.*)..#***).).  )*.**#.  )) ..#.. )*)*)).)*)*#\n#) *. *).))# *))**#**#)**.#.*#  )*  ..)). #  ##..)*#.#\n#..#)*.*#  )#)*) )*##*.*#). # *.##)* )#.. *)* ) )##*.#\n#* ..##) #* *#.. *.. #.*.)*** .#).# .. ))##.#. .)) #)#\n### **)).*)*#****.*.. *  )#) **..)#*# ).  **# *)....##\n###) * )) )*#)**)  .#)****#.*#))*    *)*. #*G))). ).##\n#*#*)##**.) .. *.))# ) )**##.  .#)) ) .#.#.* *.*.).. #\n#)#**#.*#)##*.))* ).).) *).#**#))..*# * *)*. )*##*)) #\n#)).* **#.**##).. *.  *.*)#)#.### )#)*.*#*.*#))*..) *#\n#.. *.*)#.)  ))**.)##.##* ) )##)## . #.#*. #)  )..***#\n#)*).) ##*..*#*)#.**.# *.. . # .) .. )*.. .).)# * . )#\n#)*.# )    .##*.**)*.#*)#.# #**.   .).)))..#*#)))#####\n# # *##.))*)##   # *  #  #)).*..##) **))** )* .#... ##\n## ).*#..*))#)).)#. .). ###*..# **#. )).* #  ..* ##  #\n######################################################",
          "testOut": "0",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 7",
          "isTest": false,
          "testIn": "60 60\n10\n *)** )).##*)#*#)..#.) ***.*  .*#*).*...* #. *. #.*#)#)*)#)#\n))*. #..))*))) #*)**#).*.#*G   ) **..).. .#*)#* .#))))).*.*)\n)##))* )))#....#))   ).*#..)).#*#. *) # .##. ..**#)*#*)** # \n*).**# * **#.#)..*####.) ).).)).#.## *   *) #*# )* ..*    #)\n###.)* # *)) .#.)*#).*) )*# .)# #*  #.#)* *). * #)#..*))))#*\n.. #.)# .*.)).*. ) )# *)#.. ) **.*## *) #*#* *#  )*)).. )  *\n .) .#. ))..))) ....#.) .*) *.*#.)**.)   .*.))#)   #. . *#*.\n#)#   #*#*  ..##..*.**#)   #  .) # )).*#. #####.#.*)#)#*#.##\n . * *##.**   )*.# .* **##.*)#.# #. *.))#.# **.)#. *..#*.)*#\n** * )# . #.****  **)*.).*)*.##)*) # .)) .... .# )). * *. * \n.*)*.))#.*) )## )**#*. .. *. #))G*)#.*.##)*.)##.*).)#*#)#.. \n .*#*. # ).**** )**#.)  #*).*#* )*#  #...#.#*** . # .**#). )\n*....### .#) # )#.###* .) *.###*.##.*#.) . *. *##**. *** )#)\n*#.** ..**..**#**).* #)..#####)** *)) .)##.**)*  #)   ** ...\n.))*)*)* ).# .*.##) *###*)*#)** .**##.*) .*...##* # )##G****\n ).# )*)  #*  #*)) *# *. .)  *   ..))#*)))# *))#* ##. * .*)#\n*) .# ...#  ))...#)#* *).*)).*.. )) #* )..#.* )...)))*).))# \n)#*.)#..  ####*  *)) ))##. )  * .#)*..*.# )*.# #..  ) #.*G.#\n)# )*) *)**##* ))...  )##.*)#*)##)*#) )#) .*)#)##)*.#*##.*)*\n)###*.*... #* *##)  .#*#    ).#)*.*#*.  #)#*..* #)* ..**#P G\n#*)) ) .#.. **.* *)*)    #) ## #***)) ).* )##**** ..*.) .#) \n .** #)) ) #.#) G*.#). ).*##  .) .#  #.# .)#***..#)#.)##). *\n #*#.#.   **   *.))# ##.. ))***.  #* **.).#*..#)*. ** #)*)).\n)##*.# *   ..# .#.)#..#)* .)*  #).)# )**))**#*#.**)## )*)  #\n)).)**# )##)### .   )   .#*... )*.#).*.*** #.).*.*). )#. #..\n*)..*#). #)*)*. )*)) #)))#** )#))* .)))##.##*#))##).** ...**\n  *.)..**  ).).) ***)##*#  )*  )* . #..# )# *.)*##)*)).) .*.\n) )#    *##.#  .   #). )#.#*.) .#.#**#*#.#.**. #).))*)# #** \n)# #)).#*).*. .*)* #**)#* .#. #*))## .) )#)).)#))*)..*)).*#*\n...**#.## #.#.)#.*  ) ). )#.))*.# #   #). #*)#**#...* . ##).\n).. ...* *. )* *.)#**. *.**###))#**..)  #.#*).## . )#) #). )\n##)*).##)#. #.*#.* .# . *)) *. ))..) . #*#. *))#))*#   .#))#\n# * .) #***.)  ))*  # #.*#*.) *# )*.*) ) *#)* .#* #*##*.)# #\n*##)#. ).# ..*##)*).#)))))##* ) )* *..#.*  #.#) *####)#* )**\n*#*)*))#)))#.)#.***).#). .).#. ##)#)**#*#*)* )))). )###. ..)\n#.  )# )))*#*#).## ##)* ).  *.)*## *#.  ##) )# ).#G*#.# )*#*\n)## )* .*.#  #**  *.# )* .)  #))*). #*.*.#)) #.* # #)*.#)## \n) ).#**.) #) *.**)))#)*..#**.)*.) *)* #.) **.*###)*..#*#)# *\n))#.#) .) #*  *)#).# )*.) *### . ) ##).*)))*. * )#.)#). ..* \n))**)#) # ).. *.#  . ##.*)*#)))))). ##*#.####))*.## .***#.*.\n## #).**#.*  #) #*##.).#* ) #))## .#.#))   #  ..#* #.*))   .\n##.) #.**#** ) ####*)  ). )..## *.###*#*  ###  .##.. ...).*)\n)... ))*) *# *)*#*  )).  ).))* . . )))# #*)*  . *.#..#**  *#\n#* ).)* #*   ) )*.#..).)#.*)..* )#**#*). ).*# ##. .)) )** *#\n**   ***)* .)*)*) ***#).. ) . ..).  # .*). # #. *  ...) .)*)\n#..). *))  ).# )..# )* ###*)* ).*) )*#.#).#) ..  .#*#*) ##))\n*)##*)#.#).. *.)*#) .##)*.#.G )*# #.#) .  # #*#*.#.* .#.*# .\n # ). #.).# ..#.** .#   *)).*).)))))#  ).*#))# #..*. ..... )\n .#*))* * .#.. .)*  #*##*.. # #*##.#*. #*.). )))#). .*). *.)\n##)*..#* .#* )**#**.).) #* ##*).#  . #)#** ##.*.)) .*#)# .) \n.).. ) *****##*.) #) )..*. *.))#  #.)  ..*)*. . . ) ).  *.)*\n#. *) *#).*.#*) )*)#.##*#)*)) ) *. )# *##*))#.#).)..).  .***\n **)) *)  *)) ) ##)*  #.* .)###*)...#.*)**)  .*))# )##*..)  \n...) #.. ).* ..   ).#). # # #)  )*).*# #*  #  # ))* *..   )#\n .#.### .)*) ## ..   )#) .***##* ..  ).### #)#*) ##)* .*)))#\n*##* .)#*#*)* #)##..* *#) )* **# #)#.. ..*.)# #*)##*.) #).*.\n .* #.)*.)**.. ) *#*).##*.*.##*.) #)#..) .#.#)#  *)#)*. )# *\n * ))#)#))#  .G* ))#.*)#).   .#)#*#)*...)) # *.  #) .))**.*)\n#.** )*.#.# .)) **)# #*.) .))***# #)*) * # #*# .  ))*##)# #*\n) )).**..)). #*G. )).)) )) *#)# *  #)..* *) *#* #  *.#.)#.**",
          "testOut": "0",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Don't Be Greedy",
          "isTest": true,
          "testIn": "35 11\n10\n###################################\n#G     G ###                 G    #\n# ...    ###       *G             #\n# ...    ###      *        *   *  #\n# .).    ###     *          * *   #\n# )))   P *     *            *    #\n# .).    ###     *          * *   #\n# ...    ###      *     G  *   *  #\n# ...    ###       *              #\n#       G###  G           G       #\n###################################",
          "testOut": "17",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 8",
          "isTest": false,
          "testIn": "30 12\n9\n##############################\n#G         G  ###           G#\n#             ###   GG       #\n#             ###            #\n#  *   *      ###            #\n#   * *       * P       ))   #\n#    *        ###            #\n#   * *       ###            #\n#  *   *      ###        G   #\n#             ###            #\n#          G  ###  G        G#\n##############################",
          "testOut": "6",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Basic Wrap",
          "isTest": true,
          "testIn": "12 14\n8\n####### ####\n# .   * *  #\n# .   *    #\n# .        #\n#.         #\n# .        #\n# .        #\n# .        #\n# .        #\n# .        #\n# .        #\n# .        #\n# .    P   #\n####### ####",
          "testOut": "10",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 9",
          "isTest": false,
          "testIn": "13 40\n20\n### #### ####\n#G *   ) *  #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#           #\n#G    ...   #\n#           #\n#.         G#\n#P.      *  #\n### #### ####",
          "testOut": "19",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Empty Grid",
          "isTest": true,
          "testIn": "2 2\n25\n  \n P",
          "testOut": "0",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 10",
          "isTest": false,
          "testIn": "14 14\n10\n              \n              \n              \n  P           \n              \n              \n              \n              \n              \n              \n              \n              \n              \n              ",
          "testOut": "0",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Medium Grid",
          "isTest": true,
          "testIn": "25 25\n22\n#########################\n##. #.## . ## ))##  .  .#\n##)##) )))#* . )  .)G* ##\n# ##  #*.#.#   #)  #** *#\n#.### #.)  ###*  #**)#)##\n##*   #*  #  #*  *#)# ###\n#.#.## #.  #.).#)*#) #*##\n#  #.#.###.   #*# # .)).#\n##   )# # ##)#   # #### #\n#. )*# .. ## *##)).##G###\n####.#   #.### .###) ####\n# #))# .##.## # # .#) ) #\n#.* ##*.*#) ) ##) *# #*)#\n## .)  .##* ##  ####) )##\n#* * ##*)#.*## . # #. *.#\n###G###)* ##) ##  ## #* #\n##*#)  .)G  .####)*  )#.#\n#.# .## #***#   #)# *)  #\n### #  P##). ) ## .     #\n#.*# ##..G * ###.#  *#. #\n# *G ##..*.** G   #.#*  #\n# ###### * # #)#*###*##.#\n#)#  ).  )#  #.#  .* *. #\n#).#. )  ))##  ## )))) ##\n#########################",
          "testOut": "50",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 11",
          "isTest": false,
          "testIn": "25 25\n12\n#########################\n## #.  ## .#..#.## *###.#\n#*)# *.# )  #    ).  .#*#\n#* ))G *)*##  . ) ) G ))#\n#. )#   G*.) .*  #   . )#\n##*)#). .) ))### #G#)##)#\n#).*  #  #*# #) )#))  #.#\n# # . *#  ) #*).##. ##.*#\n# *# #*##*##. .*# ###* ##\n### G. .)) . .###* *#   #\n# ##)  #*## .   #### #..#\n# * ###   .   # .##  *) #\n# ### # #)#   ##))  ###)#\n#  ##* P*   )  .  .## ) #\n##)##G# # . #*#   G#...)#\n#. # ##.. ## #))####* . #\n#     #    ##  ###. .#  #\n#. ##*. )##)# . ### * ..#\n#)###   #. ##* # ##)#.  #\n#  #) ) # #######*# # *)#\n## ).G .    ) ) ## )#   #\n# ###   ### ###)))*# #  #\n#   #)  ###*.#*..### .*##\n#) #)# #   * ).## *    *#\n#########################",
          "testOut": "32",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Dead Ends",
          "isTest": true,
          "testIn": "7 7\n15\n#######\n###.###\n### ###\n#. P *#\n### ###\n###)###\n#######",
          "testOut": "10",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 12",
          "isTest": false,
          "testIn": "7 6\n13\n#######\n###**##\n### ###\n#) P *#\n###.###\n#######",
          "testOut": "19",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Ultimate Wrap",
          "isTest": true,
          "testIn": "14 7\n25\n#*#  # #    ) \nP#    #     **\n#    # #      \n##############\n     # #      \n))    #     ))\n )   # #    ) ",
          "testOut": "36",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 13",
          "isTest": false,
          "testIn": "6 6\n25\n#*##)#\n*.##..\n######\n )##))\n####*#\nP.##.#",
          "testOut": "32",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Complex 1",
          "isTest": true,
          "testIn": "20 20\n11\n.**.*.***..G.***.)))\n*.)*)*)*)..*)..G..).\n*.))).*.))..)..**)..\n**)).))*.*.).)))*).*\n**.*.)...*))......*.\n))....*.)*).*).).).)\n)....)..*..).*.).**)\n..))).*.*))).**.G...\n**....).*..)))P)..).\n*)..*..)..)*).**.)*.\n....*))**)....)))..)\nG)..*.).))).....*..*\n..).**.)))**..*.**..\n))**)).*)).))))..*.)\nGG)...*)*.)...)*.).)\n)).).)))..))..)))**)\n.**.)***..)).*.**.).\n)...))*).*..)*).)).)\n.)..**.))*....*..)..\n).*.)..*.*))*).)G...",
          "testOut": "49",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 14",
          "isTest": false,
          "testIn": "21 21\n12\n.*.*.****)).))*.**.*.\n*.)..***)*).*))***.*)\n...).....).G***)))***\n*)*)).)..*)**G*).*).)\n*..*.)...*.*.G*.))***\n*.*G*).).***)).*.*..)\n*.)*).)...*.*..))**).\n.*)..*)****)...)*)))G\n.))*.*))*)))).*)..)*)\n.**...*)*..)*.)).)..)\n.P....*).)*))****.**.\n*..)*.*)*.*).)).**.).\n.**.G)*)..).***))))..\n).)*..).*.*...))*.*.*\n**..).).**.G*.....)**\n.....*).*)..).**..*).\n)*)).*...)..*).****..\n..*))...*G)**..)).)..\n....*.****.)).).*.)))\n**))).)****..)....*.G\n...)**.)**.*.*.)).)..",
          "testOut": "52",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Complex 2",
          "isTest": true,
          "testIn": "20 20\n14\n).P*..)..))*.).))..)\n.)....*)....).).)**.\n)*G.....))*.))**...*\n.).*..).*.))..)...*.\n)*)).).)G**.*.*)).).\n...))..)*.*)).**..).\n.)..G)*..*.)..)..)..\n..)*).*)**..*).*.**.\n.G)).)..)...*.....)*\n))*G**.*...*..)...).\n.)..))))..*.).).)G).\n.)..).....).))).G*)*\n...)**.*G.**G.)..)..\n..).*)))))*G)*.).*..\n)....)*.*.)..)).).).\n..*...*)....)).)*.).\n.G.*..**).G))).*..).\n*.....G.)......))).*\n)**).G).)....)G..)**\n.)****).)).)).)**).)",
          "testOut": "48",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 15",
          "isTest": false,
          "testIn": "28 28\n13\n..)...))**).*..).)).....**..\n*P...G)))*.)*.)*))*.G*..*)**\n)..).).)*)**)))).*).)*))..).\n.).G....*G)***.*.**).G).....\n...)).....)*)*G)...).).G)G.)\n*..).*))*G...***..*.**.**)*.\n..*).)....*))*.*..))*)..*..*\n*)....).*)).*....*.*).**.G.*\n).*).)..)*)**.*.).*.**))...G\n.).)*)...).*)*...)).).)..).*\n....))*)..*)..).).*...*).***\n.*........)..*.)))..))*..*)*\n))))*)*.**)*..).*))..)*.).)*\n..**)))))..)).*.**.*)).*)*))\n***.G))*.))))..*...)..*..)..\n.**)*)*.*.**)..)..)))..)**))\n)...)*****.**....**.)...G)*.\n.*)..*).*)))..)).G)).*.)*G).\n***.*.***..**))..*.).*..))..\n).))*.*)**.***.**.)*..)).*)*\n).....))...)*.....)..).)**)*\n)*).*.)..)))****))...)*.))..\n.*...*..*)*))*)...)***...*).\n.).)*..)))..*))**.**)).)*...\n).***G***)).)).*.G))).*)*..*\n***...*..**.***).*.*..*****.\n)G)).*..))..**.*.))).*..)*..\n**).**))).).)).))).)..*.)*.)",
          "testOut": "43",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Complex 3",
          "isTest": true,
          "testIn": "30 30\n13\n.*G****.*....*.....G*.G.)G*GGG\n...)).*).***...*...*..*.*****G\n...***.*....)G*...).....*****G\n....)..)*)...)....*...).*****G\n..)........**..)..*.........*.\n***..***).....*.).)..*.))..*..\n..*....*..*..*.).*.)).*.*...)*\n)...........**)...*).......)..\n*.......*..)*.*..*.*)..*...)..\n*.*....*..*.*.))*.......*..)..\n..****...**....*)..........)..\n.....**.....*..)).......)G..**\n.**..)..*.*.....**....*...*...\n...*.**.*).*..*.*......)...)..\n...**).*)..)).*.**..**)*).*G)*\n)..)...*...*...*...)..........\n..........*...*.........*)****\n..*......*...*))**. .*..*.*...\n....*.)*....)*.......).....)..\n...G*.).*....).....*.*....*..*\n..)....*..*.*...*)..........*.\n..*.*...).....*.)....G..*.G...\n..).)*).*.)...)**....*.)......\n.*....*.....).*...*..*......)G\n....)..)..*........).....*....\n.....*.)...........*......G.).\n........*.)...*.*...)...*..).)\n)..)....*...*..G.*.))..).G....\n***).......).**......G*....)P.\n..*))...**.........*.G)....**)",
          "testOut": "35",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 16",
          "isTest": false,
          "testIn": "25 21\n14\n)*# *. **)#........#.***.\n***)...#.)).####...#.. **\n.#.)  ..#  . .  *. .#.. )\n...*)*.**....).....).*.G.\n.).*).)))..*).....*)...*)\n).))*.**).***..)G.#.#)*.)\n.)***))....***..)*.*).)..\n..).**.*..*))*...*.)*...)\n*..***))*..*)*))).*G..)**\n...)*)..*.)..*)).*).*.)..\n...)..).****)**.).).).*.)\n**)*))*.))))*.))*)))*..**\n)..G))**))..)G*..)*)*)*).\n*).)*....*...*).***.)*)))\n*.*)*.)**.)G.))*.)*).*)G.\n)).*)**)*.*)..**).#.*.)..\n.*.)).)..*).)*)).G.*###.*\n*)....))).G..)*).    .)..\n. *.   .).## ##  # . ....\nG****.#*. )*.. .#)# .)).*\n**G))G##)#*#...#.)*G*P...",
          "testOut": "48",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Large Grid",
          "isTest": true,
          "testIn": "60 60\n23\n############################################################\n#*#*   ## ##)###### *  ** #*# #G*#   ** ##)   *# * ##)*#*#.#\n# # **#*##*  #. )# .  .#   # *)  # . )#*#) * * .***. .# *# #\n# )###.##) )#** #) #*.**#) ***)  )# * #*  * ### ##   .  * ##\n##.# # )*)#* #)  *#*  )* # )#****#* *##*###..*.*)##* #*#   #\n### #)*)  )  #  ** *#*.#..* #***#.#*# ## #.## ##*.##.*.## *#\n#. .###)* * ))# ).### #)*##  )*.  ### * ## #*###)* ) **# . #\n# # ####)*## * * * *#**#*#*.##))**#.*##* #) #. G#* #  #### #\n#* #.**.  # *# .#.)###*# #     .* *## #)*)*.#)# #  #  *#. ##\n###*    #*# G) )*   #  *#*#*#.)  . # **#  #* .)#*# *## . # #\n####)## )  .#.)   ##  *..) #**.). *** )#  ##*). )#*).*#  .*#\n# * .#*** G#*# )*)) # ## )*#*) .###.# # #     *#.#.#  . ## #\n#  .  ##)P. *#.. # #*###. * #* #**### . #    . *###)# )#)# #\n#.* . #*##.*)*#)*#** ).* #  #* #*#*) *##* #)*#* #.# *.#*)# #\n##*##  #. **. *#). #*)*##.#* #* )##.*. #  # **)# ## )#**** #\n# ###  )# #. #*))*. .*)# .**)* ###).## ) ##) )#)  .****#* )#\n#*#  ..#G##.  .##.#**#  ..)  . #)#)#. *...*   ###.) #    )##\n#)) #.##  *** ###.)*# * #    # #** )#*#.## # ### #*### #*#*#\n#    ))#  *#*#*#    .*#) *#*#     #.***.###.)## #*##  ##.. #\n#** *)# *#  *)*. #. *#)*  *).#)#*.***###**## ..*  )*.   # .#\n#  *   #*   *####.#***########  )#))*)#)*#) ## . .#) .*.*) #\n# #   .*##  .#.#))..)*)*##)###*.)##.## *## .  )) *#*# #) *##\n#)#* #**.. # #*** *#**#  ).*# ###) ##*)##)** #.#)#).***.  .#\n# ##*####*) #.## *. #    #  # .)   ** ###**  ## )# ##**#*# #\n#..# **###*#  #.  *) . . ) # .##*).)*)**##  **   # ## #.# *#\n#)##.. # # ) # # #* )*   #  **))#)#.   ##) ## *. .* .)*# . #\n# ## # #*##*# ## * ##**#  # #* *#  ###*)*    # #. #)** *)* #\n## )*)  .  #)   #).   )##** #)..##* .  #*# # ### ####   .# #\n#####)***** #   ) . #  ..#**  ***#** # *## )##*#.##  #  #*##\n####)).#  **  )  *)#*. #* *) ..#   *#))*#.  . )##.).##   . #\n#* #### ) .#  * ).#* ##*#  *##.*#*) *.##  #.* # * #*# *## ##\n#   * .*).    #**##. * .## .   ##) #.    #*  ) ## * ..##.. #\n#  #) . . . .***#)## )#)   )#* # # #*.# *  **.)  ##*#*  **##\n#* )# ).##** *# )).  ### *##)# #.##* ###  # #** ## . *####*#\n#) ) *.#. *  ) ### ##).#*)*.##.  #)##.##.#.) ###  )*# *#  ##\n### . #### *..*.* *)))*  ) # *)*# *## **  # ## ##.*   *  *##\n# )*)# ##* *#.###***#*##.## * *#** )#* *###.*# .#.)##**)#)##\n# **# )#*  * .  #*# ) #))#*.##** )## # *  .##* ## #. # *#*##\n##  ## # #*..# )# .#*   .###)# ) .# * ) #.*#)*#. * ) #*#) ##\n## .***#*#)*  #)#*#)##...)*##*# #) )  *.*   *         *  .##\n#)*# .). *#  .#*  ) *)*  .* # .*) *  #* .#  ..##) #* .**#  #\n#.#*##.*##*)# *. )))    . ..**#. *)#.# *)##)##.#*  #  *  # #\n#*)  . #   #.  .##.  ##.#)) #  #*. .*#.G### * .*.##))*##** #\n## #* ** #* )  # ###* ###*# *#)).   ##)#. )#*##**# *) # . ##\n#..#.)#  )**#* #)#   *##***    #* #  ##. # # **# #..## # **#\n##    ..#*.*))) * )#### #* .*..).#..* ##**###)##*    .#)#*)#\n# * . *.G #***  *   #  .*.)*  #))#))    *)# )##  ***)#.*) *#\n# * ##* . G )* ##)#  .*#.* **##**##. ****#.) *  * #   #   *#\n# * *#*#. .# ).)# #* #.*.*)  .* #)*  )). * ) #.. # #. #. .*#\n## .)   *** )*) .#.*##  ##* )# ######*#*. ).#.####..) ) # *#\n# ))**##*.#. *.#*)#.#*) #* #*#* )*)# ## ****#)*#)*#   #*#*##\n##     #) ) .#   # # ..*)   *#*#..### #   #**# *)  # * #*#)#\n#* *#*)*)###)*#G#* *# ## *.. )# )  *#)*#  #  .*).#**#.#.)**#\n#*  *) # ##**)  #)#*  #*##)# )* . *.*###       #**##**##*) #\n## ##*#   *###*####### ##)   *)###)#*# *. # .# * ##.#)#*  ##\n#*  * * * )*# #*.  #)#*) * )  *)###**  # *#.* )***.*#*###) #\n# # )   * ## *#* **)*)*##    * .   *)* * ##.*###** #   ) #)#\n##*#.*  ##.***#) . * )  .#  ##***##*#)#  # #)# *   #****####\n####.#.#)  ** #)* .  ) )#  *)*)G  * * ##)# ## #*# )  ** *###\n############################################################",
          "testOut": "71",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 17",
          "isTest": false,
          "testIn": "60 60\n16\n############################################################\n##))#.) ) ))*  .)****#.#  ) * **.#. )#)#* **#..#) * *.#) #)#\n#*  )#*#..#)#)*. )# *.*)* #*)*)*  *  )** *  ##* *#*#*# )))##\n# **##)#* # ##* *.#)   *#)#*   ##*.#).   *  )#)*. .). # *  #\n##. *) #)#)*   .**# .###))))  G**) .).#.### .**## *  **  **#\n# ).## #..#)*) * # ) ) * **).#) ###..*##.) *# **#*# ) ##)))#\n#     #* **  *#).# )  )  *)#P##)   .**** .**#..*   ##*) )  #\n#  #) *# .)## ) )*))  )#*# *)#.#.#)  *##*#* )*).  * .* )##*#\n##).# )**#)#* )) .) )#  )*))**#* ###) ) *#*)#)#) #*##))   *#\n#.  #*#)## * .) # )* * *G*.   ))*   *)) ....*. *#.#.*)* ##.#\n#*)    )# #*** )) )# * )#  # . )  #) )*# *# .)  * ).#*)#   #\n#)##*##*.* * * **** )) ). ) .  *)**)*#.#)#.*#*#**.).)   *# #\n# . ))  . ) * *#  ).)*)##))* )) ) #  **#.   . ))** . # )# *#\n#.* **)*    ))####*))#)# **##*   *# ..*.) #* **  ) ##**#**.#\n## * ## .#)## #* #)## #  )#* .*)). .)##))#*# ).))#)   #)* ##\n## )  * *# )#*).  # *)*.))*# .# )# .)#)*#)  . ##*# *#. )** #\n#.#))**) )#)##)##. * ##)**   .**#. )  *#* #* #)   **)#))##)#\n# *#** # ))#))##)##.  #)**  .    .#)  *)#*   ..#*.) * )#  ##\n##**  ))*** )). .** * * ##) * )) #**# . * *. ) ) # )#    *)#\n#*#.# .)) #)  * )##) *#* **. *# .  ))# )**.*)   ###)# ))). #\n#)..*# )G#) .# ** *)*    #   )*)) )* ####) ) .))) #*  *)## #\n# ##*#  * # * . #)#) ##  .# ) )).#**    #*# #*#).)*.*****.##\n# #*.. )**.   #* ). )  **)  )  #### #) . * * * )))#  #) * ##\n#. # *.  #).) .).. )) #*# .**.*..#).*#).)* )*  *)  #) #  #)#\n#**  ).  **# #) * .  #  *)  ..#).#* *)#.***# * *  .*).)# ) #\n## ).   .# **)#) ##** # *) ..) #). )) #).*) *.#*.*)* #*  # #\n#* #)*.*#).#)  ).  )) ) *) *)*..*##**) #) ) #* **. ##) #.*##\n#*)#.)*# * *)*)*)).# )) **    . )* ))))#*#.# )*)** ##.*) ))#\n##..)#*#) **..* *)  ###.)##.## ## # #...#)***. #)..  #)) * #\n# ))*)  ). )* .#.#)  * #*#* ).  *  **).##*.#))# * # ##)   *#\n##  *# #*    #)*#.)###*#*## *  )   **. ..#)    # # #** ) *##\n# ) )) *#     **) ).#. *))).)))*#.)**))** ) #.  **  *)** # #\n#)##.. ) ..)*)))#.)#   ))).  *.##)))**     #))*. ) .#*#)* )#\n#  )*) # ##*)#)#  G#*). **))### * *.   .# #*  #  #*.* )**)*#\n###*. #*.)##).*##*** ) . #* * )*.*   *. **. )# ## ## # # *##\n### )# )*  ***#*.)   .#*# #)  ****.)#..*#  ###*# ####))  ))#\n##  ))# #  )*#*# )** )) )#*)*)*.#))  ))#* )##) ***)   . # *#\n#*#####) * #.#.)*   ) **) .#* ) *. ))*#*   .*# #)*  #***)) #\n#))) * )##.) )# *  ))##). #)) .*)).) *  . )  )#* # )))*))) #\n#..* .***# * *) * .* #   . *#) #) * #))  #*G ..*.  * #*# ) #\n#    ##* )  *)) *# **.  .)#)#.))))#..) # *# . ). ..*) #  ) #\n##* ** #..* ** #  )# )#* *)* * ) #.##*. )*   .)) #* *))# **#\n# ***  *# )  *)##)*#)*. )*). ) #   .))) .*   )*# * ##) #). #\n#  *#)) *.*  #  #). ))##.. ** *###*)) )*)*##. #)#)*#  # # ##\n##)#* *)) )))#.#..  #   . ****## ) *)##)*.# *  **# .)))# # #\n#*.) .) )*.))#)*. **##)* ) *.# )## #)  )).  .#) #)*  .)#*###\n#*    # ))).#) .)    #  #  #.))* #))*)..** #.# *  .   ) #)##\n#*.))*).. .*  #   *)).     .#     # )   *     # *. ) ) .# *#\n#** *)#)*    )** *#.#* #.  *# *#.*)))  ***#)# ))*#*#*#)#.###\n##*..))) ))*# **)*)##  .*)  ) *. * #*)#*)#)**.*# **  *.  ) #\n# *#*#  .G*..*** *..*# )*   ..*#)#*    #G* ####G#  .)   * *#\n#*)**).. . .    **#.).# )*#*))) )*)#.)* #  ...#)*  #)) . ) #\n## # # **.*) ).##   * .).  .) ) )##*)  # ##*#* *.*)*)* )  ##\n##* .. #  *#*. ..  # *# #  #))  ) G  #*). #. .)* *#   *.*#)#\n##* *  )  .)# ) **   # #  . #))#  #* ))**.)  )*##  . #*) ) #\n# #. *#).* *##.#**#* ).#. )*)**. .   *. *) # #**))#.  *# )*#\n#*.# )* ) .  #  ## *)*).)* #**##* ## )  ..*)) #* )G  *#*).)#\n#*#**     .#* *.)***..* ##) G #*)  ) #.. #  ). )) # **  * )#\n#*# #))#))*#.  #**#)  )*#* .*)** #).* .# ##)*.*#)##*)   *  #\n############################################################",
          "testOut": "63",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "All Fruits Eaten",
          "isTest": true,
          "testIn": "5 7\n25\n##)##\n# . #\n*...*\n# P #\n*...*\n# . #\n##)##",
          "testOut": "34",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 18",
          "isTest": false,
          "testIn": "10 4\n25\n#*####*#*#\n..      . \n..      . \n#*#*##*#*P",
          "testOut": "41",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "2 ≤ [[w]],[[h]] ≤ 60\n0 ≤ [[energy]] ≤ 25\n0 ≤ Number of fruit in a grid ≤ 900\nThere will always be exactly one Pac-Man.\nGrid contains only the following characters: {{P}}, {{G}}, {{#}}, {{*}}, {{.}}, {{)}} and {{space}}.",
      "coverBinaryId": 132616740898960,
      "stubGenerator": "read w:int h:int\nread energy:int\nloop h read row:string(w)\nwrite score",
      "inputDescription": "<<Line 1 :>> Space separated integers representing the width [[w]] and height [[h]] of the grid.\n<<Line 2: >> Integer representing Pac-Man's [[energy]].\n<<Next [[h]] lines:>> String of length [[w]] representing a row of the grid.",
      "solutionLanguage": "Python3",
      "outputDescription": "<<Integer>> of <<maximum achievable score>> from {{P}} within the given [[energy]] limit."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Pac-Man has had a long day of eating fruit and avoiding ghosts, so he now only has limited <var>energy</var>. The objective is to <strong>maximize the score</strong> by eating fruit before his <var>energy</var> runs out.<br><br>Pac-Man can only move in the <strong>cardinal directions</strong> (<const>North</const>, <const>East</const>, <const>South</const>, and <const>West</const>), and each move costs <strong>1</strong> <var>energy</var>. <br><br><strong>Pac-Man can also wrap around the edges of the grid:</strong><br>Pac-Man can move off one edge of the grid and appear on the opposite edge in the same row or column.<br>Moving from the top edge to the bottom edge, or from the bottom edge to the top edge, costs <strong>3</strong> <var>energy</var>.<br>Moving from the left edge to the right edge, or from the right edge to the left edge, also costs <strong>3</strong> <var>energy</var>.<br><br><strong>Ghosts:</strong><br>Ghosts are also tired and will not move from their position unless they can eat Pac-Man. A ghost can eat Pac-Man if Pac-Man moves within one square adjacent to the ghost in any of the <strong>cardinal directions</strong>. Opposite edges of the grid are considered to be adjacent (e.g. <const>East</const> of the right edge is the left edge). Pac-Man <strong>MUST</strong> avoid being eaten; if he is eaten, the game ends and his score is set to <const>0</const>.<br><br><strong>Grid Legend:</strong><br><const>P</const> represents Pac-Man's starting position.<br><const>G</const> represents a ghost.<br><const>#</const> represents an impassable barrier.<br>A <const>space</const> represents an empty square.<br>Fruits are represented as follows:<br><const>*</const> is worth <strong>5</strong> points.<br><const>.</const> is worth <strong>1</strong> point.<br><const>)</const> is worth <strong>3</strong> points.<br><br><strong>Eating Fruit:</strong><br>To eat a fruit and gain that fruit's points, Pac-Man must <strong>move into</strong> the square that the fruit occupies. Once a fruit has been eaten, it <strong>CANNOT</strong> be eaten again.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1 :</strong> Space separated integers representing the width <var>w</var> and height <var>h</var> of the grid.<br><strong>Line 2: </strong> Integer representing Pac-Man's <var>energy</var>.<br><strong>Next <var>h</var> lines:</strong> String of length <var>w</var> representing a row of the grid.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>Integer</strong> of <strong>maximum achievable score</strong> from <const>P</const> within the given <var>energy</var> limit.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">2 &le; <var>w</var>,<var>h</var> &le; 60<br>0 &le; <var>energy</var> &le; 25<br>0 &le; Number of fruit in a grid &le; 900<br>There will always be exactly one Pac-Man.<br>Grid contains only the following characters: <const>P</const>, <const>G</const>, <const>#</const>, <const>*</const>, <const>.</const>, <const>)</const> and <const>space</const>.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">12 9\n13\n############\n# .     *  #\n# .        #\n# .        #\n#.         #\n# .   )P   #\n# .        #\n# .       *#\n############</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">10</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 13131442150,
  "avatar": 130769403588418,
  "commentCount": 38,
  "upVotes": 38,
  "downVotes": 0,
  "validateAction": {
    "actionId": 1211147,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "REFUSED",
      "date": 1734541537001,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1734541935325,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "REFUSED",
      "date": 1739729137001,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1741338044673,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "REFUSED",
      "date": 1743930337054,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1750167130222,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "REFUSED",
      "date": 1752761137001,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1752761208691,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "ACCEPTED",
      "date": 1757596877489,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}