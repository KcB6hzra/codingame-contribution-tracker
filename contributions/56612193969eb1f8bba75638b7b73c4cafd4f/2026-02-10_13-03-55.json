{
  "id": 56612,
  "activeVersion": 97,
  "score": 16,
  "votableId": 29236432,
  "codingamerId": 4512488,
  "views": 488,
  "commentableId": 29103397,
  "title": "Optical Link Failure Localization",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "csKingBabar",
  "publicHandle": "56612193969eb1f8bba75638b7b73c4cafd4f",
  "codingamerHandle": "719c150a68cd487ae6c24bf5e2ed563a8842154",
  "lastVersion": {
    "version": 97,
    "autocloseTime": 1729690253480,
    "data": {
      "title": "Optical Link Failure Localization",
      "topics": [
        {
          "id": 96,
          "handle": "algebra",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Algebra",
            "2": "Algebra"
          },
          "puzzleCount": 6,
          "parentTopicId": 93
        }
      ],
      "solution": "#include <iostream>\n#include <string.h>\nusing namespace std;\n\nint main()\n{\n    int links;\n    cin >> links; cin.ignore();\n    int mtrails;\n    cin >> mtrails; cin.ignore();\n    int failures;\n    cin >> failures; cin.ignore();\n    string alarm_code;\n    getline(cin, alarm_code);\n    string link_code[links];\n    for (int i = 0; i < links; i++) {\n        getline(cin, link_code[i]);\n    }\n\n    string ret = \"\";\n    // Check single failrues\n    for (int i = 0; i < links; i++)\n        if(alarm_code == link_code[i])\n            ret = (ret.length())?\"AMBIGUOUS\":to_string(i);\n    // Check dual failures\n    if(failures == 2){\n        for (int i = 0; i < links-1; i++){\n            for (int j = i+1; j < links; j++){\n                string dual_link_code = \"\";\n                for(int k = 0; k < mtrails; k++){\n                    if(link_code[i][k] == '1' || link_code[j][k] == '1') dual_link_code += \"1\";\n                    else dual_link_code += \"0\";\n                }\n                if(alarm_code == dual_link_code)\n                    ret = (ret.length())?\"AMBIGUOUS\":(to_string(i) + \" \" + to_string(j));\n            }\n        }\n    }\n    cout << ret << endl;\n}\n",
      "statement": "Monitoring trails (m-trails) can instantaneously detect single and dual link failures in optical communication networks. An m-trail is an optical light-path, i.e., a laser transmits a light beam on a given wavelength at the start node {{S}}, the beam is traversing optical links {{l_i}} while it reaches a photo detector at the end node {{D}} of the m-trail. \n\nThe traversed links {{l_i}} by m-trail {{m_j}} are stored in the <<link code matrix>>: entry ({{i}},{{j}}) is 1 if the m-trail {{m_j}} traverses link {{l_i}}, and 0 otherwise. \n\nAt the photo detector for {{m_j}} we know that: 1) if the light beam arrives all links along {{m_j}} are operational, 2) if there is no light then at least one link failed along the path of {{m_j}}. The photo detector {{j}} generates an alarm signal for {{m_j}} if it does not receive the light. The network manager collects all alarm signals to an <<alarm code vector>>, where 1 denotes an alarm was received from {{m_j}}, otherwise 0.\n\nOur task is to identify the failed links (at most two) from the alarm code vector for a given link code matrix.\n\n<<Example:>>\n\nM-trails:\n{{m_0}}: {{S}} --- {{l_0}} --- {{l_1}} --- {{l_2}} --- {{l_4}} --- {{D}}\n{{m_1}}: {{S}} --- {{l_2}} --- {{l_3}} --- {{l_4}} --- {{D}}\n{{m_2}}: {{S}} --- {{l_1}} --- {{l_4}} --- {{D}}\n\nThe corresponding link code matrix:\n ```    {{m_0}}   {{m_1}}   {{m_2}}\n{{l_0}}  1     0     0\n{{l_1}}  1     0     1\n{{l_2}}  1     1     0\n{{l_3}}  0     1     0\n{{l_4}}  1     1     1\n```\nAlarm code vector: 110\n\nIf there can be only single link failure, from the simultaneous failure of {{m_0}} and {{m_1}} we can unambiguously identify {{l_2}}. However, if dual link failures are also possible, then alarm code vector 110 could mean either the single failure of {{l_2}} , or the dual link failure of {{l_0}},{{l_3}}, or {{l_0}},{{l_2}} or {{l_2}},{{l_3}}; thus, the alarm code is ambiguous in this case.",
      "testCases": [
        {
          "title": "Small network single",
          "isTest": true,
          "testIn": "5\n3\n1\n010\n100\n101\n110\n010\n111",
          "testOut": "3",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Small network single",
          "isTest": false,
          "testIn": "5\n3\n1\n100\n100\n101\n110\n010\n111",
          "testOut": "0",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Medium network single",
          "isTest": true,
          "testIn": "20\n12\n1\n010000100010\n110000000100\n100000001010\n000000001101\n010000011000\n010000100010\n100000110000\n000001000011\n000001010100\n010010000001\n000010000110\n000011100000\n100100000001\n000100100100\n000101001000\n000110010000\n001000010010\n001000100001\n101001000000\n001010001000\n011100000000",
          "testOut": "4",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Medium netwrok single",
          "isTest": false,
          "testIn": "17\n11\n1\n00000011100\n10100000001\n10010000100\n10001001000\n10000110000\n01100001000\n01010000001\n01001100000\n01000010010\n00110010000\n00101000100\n00100100010\n00011000010\n00010101000\n00001010001\n00000100101\n00000011100\n00000001011",
          "testOut": "15",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Ambiguous single",
          "isTest": true,
          "testIn": "13\n10\n1\n0000000111\n0010100100\n0101000001\n0000000111\n1000010100\n0000011010\n1010000010\n0100100010\n1000100001\n0001110000\n1001001000\n0000000111\n0110010000\n0010001001",
          "testOut": "AMBIGUOUS",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Ambiguous single",
          "isTest": false,
          "testIn": "12\n9\n1\n110001000\n110001000\n101010000\n100100100\n100000011\n011100000\n010010010\n010000101\n001001001\n001000110\n000110001\n000101010\n110001000",
          "testOut": "AMBIGUOUS",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Medium network dual",
          "isTest": true,
          "testIn": "17\n11\n2\n10100001011\n10100000001\n10010000100\n10001001000\n10000110000\n01100001000\n01010000001\n01001100000\n01000010010\n00110010000\n00101000100\n00100100010\n00011000010\n00010101000\n00001010001\n00000100101\n00000011100\n00000001011",
          "testOut": "0 16",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Medium network dual",
          "isTest": false,
          "testIn": "20\n12\n2\n100111100001\n110000000100\n100000001010\n000000001101\n010000011000\n010000100010\n100000110000\n000001000011\n000001010100\n010010000001\n000010000110\n000011100000\n100100000001\n000100100100\n000101001000\n000110010000\n001000010010\n001000100001\n101001000000\n001010001000\n011100000000",
          "testOut": "10 11",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Ambiguous dual",
          "isTest": true,
          "testIn": "12\n9\n2\n111111010\n110101000\n101010010\n100100100\n100000011\n011101000\n110010010\n010000101\n001001001\n001000110\n000110001\n000101010\n000011100",
          "testOut": "AMBIGUOUS",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Ambiguous dual",
          "isTest": false,
          "testIn": "13\n10\n2\n0110011111\n0010100100\n0101000001\n0010000111\n1000010100\n0100011110\n1010000010\n0100100010\n1000100001\n0001110000\n1001011000\n0100001100\n0110010000\n0010001001",
          "testOut": "AMBIGUOUS",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Large network dual",
          "isTest": true,
          "testIn": "90\n20\n2\n00001101011100011110\n10000010000100010010\n00000100000011000011\n01010100100000000100\n00001000001100011000\n10000100000000100101\n00010001100001000001\n01001010010000000010\n00000110000000101010\n01010010001000010000\n10000000100101000100\n10001000000001001010\n00101000010011000000\n10010000000010010100\n10010001001000000010\n01000010000010100100\n00000001000110110000\n00000000110010000101\n00011000000010101000\n01001000101001000000\n00000000100011011000\n00101010000000110000\n00100100000010001100\n00000010010110001000\n00000001001011000100\n00001100010000001001\n00000011000000010101\n01000100000101001000\n01010001010010000000\n00000101010000000110\n00110000000101010000\n00000000001000110110\n10100010010000000100\n00100010001001001000\n00000000010001101100\n10001001010000010000\n00011000100000010010\n01000000100000101001\n00001010100000001100\n01101001000000001000\n00010100001001100000\n10100000000100101000\n00110001000000100100\n00001100000001010100\n00000110001100000100\n00110110000000000001\n01100000000001000101\n01010000000100100010\n00000010101000000011\n00010000010000110001\n00010000000100001101\n00000100011010010000\n10001010001010000000\n00001000110100100000\n00000110110001000000\n00001001000000100011\n01000000010100010100\n00000100100100010001\n10000100101000001000\n00000000011101000010\n00010010000001000110\n10010100010100000000\n00001101100010000000\n10000000001001010001\n00001000000110000110\n00100000001010100001\n00100011000010000010\n01000001000001010010\n10000000010010100010\n00011000011000000100\n00000011011000100000\n00100000000000011011\n00100001010100000001\n00100000100001100010\n00011011000100000000\n10100101000001000000\n01001000000010010001\n01100010100100000000\n01100100010000100000\n01000101001000000001\n10010010100000100000\n00010000101110000000\n00100001101000010000\n00101100001000000010\n10101000100000000001\n10000001000010001001\n00000010000101100001\n00010101000000011000\n00000001100100001010\n00110000110000001000\n01000000001010001010",
          "testOut": "3 28",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Large network dual",
          "isTest": false,
          "testIn": "60\n20\n2\n00000000111100000010\n00011100000000000000\n00000011100000000000\n00000000011100000000\n00000000000011100000\n00000000000000011100\n10000000000000000011\n01001000000000100000\n00100100000010000000\n01000101000000000000\n00110000100000000000\n01000000001000000100\n00100000000100010000\n01000000100001000000\n00100010000000100000\n11000000000000001000\n00100000000000000110\n01000000000100000001\n10100000010000000000\n00010010000000001000\n00001001000000000100\n00000100100000010000\n00010001010000000000\n00001000101000000000\n00000110000100000000\n00010000000010000001\n10001000000001000000\n00000100000000100010\n00010000001000010000\n00001000000100001000\n00000100010000000100\n01010000000000000010\n00101000000000000001\n00000010010000000001\n10000001001000000000\n00000000100100000010\n00000010001010000000\n00000001000101000000\n00000000110000100000\n01000010000000010000\n00100001000000001000\n00000010000001000010\n00000001000000100001\n10000000100010000000\n01000000010010000000\n00100000001001000000\n00000000010001010000\n00000000001000101000\n00000000000110000100\n00001000010000000010\n00000100001000000001\n10010000000100000000\n00001000000010010000\n00000100000001001000\n00010000000000100100\n00000000000010001010\n00000000000001000101\n10000000000000110000\n00000001000000010010\n00000000100000001001\n10000010000000000100",
          "testOut": "2 34",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "5 ≤ [[links]] ≤ 90\n3 ≤ [[mtrails]] ≤ 20\n1 ≤ [[failures]] ≤ 2",
      "coverBinaryId": 115243946111055,
      "stubGenerator": "read links:int\nread mtrails:int\nread failures:int\nread alarmcode:string(mtrails)\nloop links read ROW:string(mtrails)\nwrite answer",
      "inputDescription": "<<Line 1:>> An integer [[links]] for the number of optical links.\n<<Line 2:>> An integer [[mtrails]] for the number of m-trails.\n<<Line 3:>> An integer [[failures]] for the maximum number of failures.\n<<Line 4:>> An [[mtrails]]-length strings containing zeros and ones for the alarm code vector.\n<<Next [[links]] lines:>> An [[mtrails]]-length string containing zeros and ones for the link code matrix.",
      "solutionLanguage": "C++",
      "outputDescription": "Link identifier [[k]] of the single failed link [[l_k]], or the identifiers of the dual failed links in ascending order separated with a space (links are numbered from 0 to [[links]]-1). If the failure cannot be unambiguously identified, return {{AMBIGUOUS}}."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Monitoring trails (m-trails) can instantaneously detect single and dual link failures in optical communication networks. An m-trail is an optical light-path, i.e., a laser transmits a light beam on a given wavelength at the start node <const>S</const>, the beam is traversing optical links <const>l_i</const> while it reaches a photo detector at the end node <const>D</const> of the m-trail. <br><br>The traversed links <const>l_i</const> by m-trail <const>m_j</const> are stored in the <strong>link code matrix</strong>: entry (<const>i</const>,<const>j</const>) is 1 if the m-trail <const>m_j</const> traverses link <const>l_i</const>, and 0 otherwise. <br><br>At the photo detector for <const>m_j</const> we know that: 1) if the light beam arrives all links along <const>m_j</const> are operational, 2) if there is no light then at least one link failed along the path of <const>m_j</const>. The photo detector <const>j</const> generates an alarm signal for <const>m_j</const> if it does not receive the light. The network manager collects all alarm signals to an <strong>alarm code vector</strong>, where 1 denotes an alarm was received from <const>m_j</const>, otherwise 0.<br><br>Our task is to identify the failed links (at most two) from the alarm code vector for a given link code matrix.<br><br><strong>Example:</strong><br><br>M-trails:<br><const>m_0</const>: <const>S</const> --- <const>l_0</const> --- <const>l_1</const> --- <const>l_2</const> --- <const>l_4</const> --- <const>D</const><br><const>m_1</const>: <const>S</const> --- <const>l_2</const> --- <const>l_3</const> --- <const>l_4</const> --- <const>D</const><br><const>m_2</const>: <const>S</const> --- <const>l_1</const> --- <const>l_4</const> --- <const>D</const><br><br>The corresponding link code matrix:<br> <pre style=\"font-family: monospace\"></pre><pre style=\"font-family: monospace\">    <const>m_0</const>   <const>m_1</const>   <const>m_2</const><br><const>l_0</const>  1     0     0<br><const>l_1</const>  1     0     1<br><const>l_2</const>  1     1     0<br><const>l_3</const>  0     1     0<br><const>l_4</const>  1     1     1<br></pre><pre style=\"font-family: monospace\"></pre><br>Alarm code vector: 110<br><br>If there can be only single link failure, from the simultaneous failure of <const>m_0</const> and <const>m_1</const> we can unambiguously identify <const>l_2</const>. However, if dual link failures are also possible, then alarm code vector 110 could mean either the single failure of <const>l_2</const> , or the dual link failure of <const>l_0</const>,<const>l_3</const>, or <const>l_0</const>,<const>l_2</const> or <const>l_2</const>,<const>l_3</const>; thus, the alarm code is ambiguous in this case.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> An integer <var>links</var> for the number of optical links.<br><strong>Line 2:</strong> An integer <var>mtrails</var> for the number of m-trails.<br><strong>Line 3:</strong> An integer <var>failures</var> for the maximum number of failures.<br><strong>Line 4:</strong> An <var>mtrails</var>-length strings containing zeros and ones for the alarm code vector.<br><strong>Next <var>links</var> lines:</strong> An <var>mtrails</var>-length string containing zeros and ones for the link code matrix.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">Link identifier <var>k</var> of the single failed link <var>l_k</var>, or the identifiers of the dual failed links in ascending order separated with a space (links are numbered from 0 to <var>links</var>-1). If the failure cannot be unambiguously identified, return <const>AMBIGUOUS</const>.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">5 &le; <var>links</var> &le; 90<br>3 &le; <var>mtrails</var> &le; 20<br>1 &le; <var>failures</var> &le; 2</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">5\n3\n1\n010\n100\n101\n110\n010\n111</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">3</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 41070451124,
  "avatar": 109484386376132,
  "commentCount": 21,
  "upVotes": 17,
  "downVotes": 1,
  "validateAction": {
    "actionId": 1021922,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "REFUSED",
      "date": 1703430337009,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1703432544878,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "REFUSED",
      "date": 1706025937000,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1706197377646,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "REFUSED",
      "date": 1709143537000,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1727098253480,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "ACCEPTED",
      "date": 1729658183135,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}