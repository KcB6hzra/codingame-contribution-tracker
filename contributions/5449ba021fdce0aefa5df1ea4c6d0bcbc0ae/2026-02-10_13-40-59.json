{
  "id": 5449,
  "activeVersion": 42,
  "score": 41,
  "votableId": 15010667,
  "codingamerId": 668954,
  "views": 704,
  "commentableId": 14928274,
  "title": "Flower beds",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Fluxor",
  "publicHandle": "5449ba021fdce0aefa5df1ea4c6d0bcbc0ae",
  "codingamerHandle": "ee22a3a22d16d638aa7e4190bfeda486459866",
  "lastVersion": {
    "version": 42,
    "autocloseTime": 1605255702680,
    "data": {
      "title": "Flower beds",
      "topics": [
        {
          "id": 95,
          "handle": "geometry",
          "labelMap": {
            "1": "Geometry",
            "2": "Geometry"
          },
          "puzzleCount": 7,
          "parentTopicId": 93
        },
        {
          "id": 129,
          "handle": "arithmetic",
          "labelMap": {
            "1": "Arithmetic",
            "2": "Arithmetic"
          },
          "puzzleCount": 1,
          "parentTopicId": 93
        },
        {
          "id": 248,
          "handle": "grid",
          "labelMap": {
            "1": "Grid",
            "2": "Grid"
          },
          "puzzleCount": 1,
          "parentTopicId": 93
        }
      ],
      "solution": "#include <iostream>\n#include <vector>\n#include <numeric>\n#include <cmath>\n\nusing namespace std;\n\ntypedef pair<int, int> Point;\n\nint nbInnerLatticePoints(const vector<Point> &iPolygon)\n{\n    int det = 0;\n    int latticePointsOnBoundary = 0;\n\n    // compute both polygon area and number of lattice points on boundary\n    for (unsigned i = 0; i < iPolygon.size() - 1; i++)\n    {\n        const auto [x1, y1] = iPolygon[i];\n        const auto [x2, y2] = iPolygon[i+1];\n\n        det += (x1 * y2 - x2 * y1);\n        latticePointsOnBoundary += gcd(x2 - x1, y2 - y1); \n    }\n    const double area = fabs(det / 2.0);\n\n    // Pick's theorem: A = i + b/2 - 1\n    return round(area - latticePointsOnBoundary / 2.0 + 1);\n}\n\n\nint main()\n{\n    unsigned N;\n    cin >> N ;\n\n    // read polygon\n    vector<Point> polygon(N);\n    for(Point& p : polygon)\n        cin >> p.first >> p.second;\n    polygon.push_back(polygon.front());\n\n    // solve\n    cout << nbInnerLatticePoints(polygon) << endl;\n};",
      "statement": "In his garden, Lancelot has nice <<polygon-shaped>> flower beds that he would like to fill with flowers at <<evenly-spaced>> intervals. \n\nSo he has hammered poles in the ground and stretched strings <<in a grid pattern>> over each flower bed, to materialize potential planting spots. Lancelot is now ready to put flowers on all planting spots which are <<inside>> flower beds, but there is one question left: <<how many flowers should he buy?>>\n\n<<Examples:>>\nHere is the flower bed in the first test.\n  - flower beds vertices are shown with {{#}} \n  - potential planting spots are shown with {{.}}\n  - flowers are shown with {{o}}\n`  \n   ^  .  .  .  .  .  .  .  .  .\n12 +  .  .  .  .  .  .  .  .  .\n11 +  .  .  #  .  #--#  .  .  .\n10 +  .  . /o\\ . /o  o\\ .  .  .\n 9 +  .  ./ o \\./ o  o \\.  .  .\n 8 +  .  /  o  #  o  o  #  .  .\n 7 +  . /o  o  o  o  o /.  .  .\n 6 +  ./ o  o  o  o  o/ .  .  .\n 5 +  #  o  o  o  o  #  .  .  .\n 4 +  .\\ o  o  o  o  o\\ .  .  .\n 3 +  . \\o  o  o  o  o \\.  .  .\n 2 +  .  #--------------#  .  .\n 1 +  .  .  .  .  .  .  .  .  .\n 0 +--+--+--+--+--+--+--+--+--+-->\n   0  1  2  3  4  5  6  7  8  9\n`\nLancelot needs <<33>> flowers to fill this flower bed. \nSo the output should be: `33`\n\nHere is the example in the second test:\n`\n   ^ . . . . . . . .\n   |\n 8 + . # . . # . . .\n   |  / \\   / \\ \n 7 + # o #-# o # . .\n   | |         |\n 6 + # o # # o # . .\n   |  \\ /| |\\ /\n 5 + . # | | # . . .\n   |     | | \n 4 + . # | | # . . .\n   |  / \\| |/ \\\n 3 + # o # # o # . .\n   | |         |\n 2 + # o #-# o # . .\n   |  \\ /   \\ /\n 1 + . # . . # . . .\n   |\n 0 +-+-+-+-+-+-+-+-+->\n   0 1 2 3 4 5 6 7 8\n`\nLancelot needs only <<8>> flowers to fill this one. \nSo the output should be: `8`\n\n<<Notes:>>\n- flowers cannot be planted on the flower bed boundary\n- flower bed vertices are always on potential planting spots (their coordinates are <<integers>>)\n- flower bed edges do not intersect each others",
      "testCases": [
        {
          "title": "Small with few edges",
          "isTest": true,
          "testIn": "9\n2 2\n7 2\n6 5\n7 8\n6 11\n5 11\n4 8\n3 11\n1 5",
          "testOut": "33",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Small with few edges",
          "isTest": false,
          "testIn": "6\n1 1\n4 0\n8 2\n5 3\n4 5\n2 4",
          "testOut": "15",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Small with many edges",
          "isTest": true,
          "testIn": "24\n3 6\n3 3\n2 4\n1 3\n1 2\n2 1\n3 2\n4 2\n5 1\n6 2\n6 3\n5 4\n4 3\n4 6\n5 5\n6 6\n6 7\n5 8\n4 7\n3 7\n2 8\n1 7\n1 6\n2 5",
          "testOut": "8",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Small with many edges",
          "isTest": false,
          "testIn": "24\n0 2\n1 0\n2 0\n3 3\n4 0\n5 0\n6 2\n5 2\n5 1\n4 2\n6 3\n5 4\n6 6\n5 7\n4 5\n3 6\n2 5\n1 7\n0 6\n1 4\n0 3\n2 2\n1 1\n1 2",
          "testOut": "14",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Big with few edges",
          "isTest": true,
          "testIn": "4\n1012 1032\n5023 1034\n4045 4056\n2067 5078",
          "testOut": "10602196",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Big with few edges",
          "isTest": false,
          "testIn": "4\n1012 0\n2023 1034\n5045 2076\n1067 5078",
          "testOut": "9147052",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Versaille",
          "isTest": true,
          "testIn": "50\n3978 2124\n3910 2364\n3767 2574\n3668 2784\n3575 2999\n3465 3212\n3290 3373\n3104 3519\n2948 3724\n2707 3787\n2471 3835\n2241 3914\n2000 3942\n1772 3801\n1517 3877\n1266 3852\n1096 3643\n836 3602\n747 3333\n538 3209\n431 2995\n239 2828\n219 2578\n99 2362\n78 2120\n78 1879\n193 1655\n119 1388\n310 1204\n347 951\n512 769\n681 596\n893 477\n1076 319\n1286 198\n1527 161\n1755 65\n2000 85\n2249 24\n2462 199\n2708 211\n2883 392\n3065 533\n3261 656\n3425 820\n3621 971\n3731 1185\n3815 1410\n3822 1652\n3967 1876",
          "testOut": "11379341",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Versaille",
          "isTest": false,
          "testIn": "50\n3714 2107\n3627 2310\n3736 2564\n3645 2774\n3373 2871\n3326 3097\n3247 3328\n3051 3446\n2889 3617\n2637 3609\n2401 3561\n2216 3713\n2000 3604\n1772 3802\n1584 3620\n1315 3728\n1088 3658\n887 3531\n769 3310\n741 3041\n435 2992\n314 2792\n226 2576\n357 2313\n149 2116\n266 1890\n247 1665\n322 1454\n364 1230\n629 1130\n761 975\n893 821\n1041 680\n1174 498\n1313 265\n1530 170\n1790 341\n2000 174\n2210 333\n2417 374\n2614 447\n2814 518\n3027 586\n3227 692\n3361 873\n3509 1041\n3518 1285\n3645 1465\n3742 1667\n3859 1883",
          "testOut": "9614533",
          "isValidator": true,
          "needValidation": false
        }
      ],
      "difficulty": "hard",
      "constraints": "3 ≤ [[N]] ≤ 100\n0 ≤ [[x]], [[y]] ≤ 10000\n[[F]] < 2^32",
      "coverBinaryId": 50180587932765,
      "stubGenerator": "read N:int\nloop N read x:int y:int\nwrite 0",
      "inputDescription": "<<Line 1:>> an integer [[N]] the number of vertices of the flower bed\n<<Next [[N]] lines:>> 2 integers [[x]] and [[y]] the coordinates of a vertex",
      "solutionLanguage": "C++",
      "outputDescription": "An integer [[F]] the number of flowers needed to fill the flower bed"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">In his garden, Lancelot has nice <strong>polygon-shaped</strong> flower beds that he would like to fill with flowers at <strong>evenly-spaced</strong> intervals. <br><br>So he has hammered poles in the ground and stretched strings <strong>in a grid pattern</strong> over each flower bed, to materialize potential planting spots. Lancelot is now ready to put flowers on all planting spots which are <strong>inside</strong> flower beds, but there is one question left: <strong>how many flowers should he buy?</strong><br><br><strong>Examples:</strong><br>Here is the flower bed in the first test.<br>  - flower beds vertices are shown with <const>#</const> <br>  - potential planting spots are shown with <const>.</const><br>  - flowers are shown with <const>o</const><br><pre style=\"font-family: monospace\">  <br>   ^  .  .  .  .  .  .  .  .  .<br>12 +  .  .  .  .  .  .  .  .  .<br>11 +  .  .  #  .  #--#  .  .  .<br>10 +  .  . /o\\ . /o  o\\ .  .  .<br> 9 +  .  ./ o \\./ o  o \\.  .  .<br> 8 +  .  /  o  #  o  o  #  .  .<br> 7 +  . /o  o  o  o  o /.  .  .<br> 6 +  ./ o  o  o  o  o/ .  .  .<br> 5 +  #  o  o  o  o  #  .  .  .<br> 4 +  .\\ o  o  o  o  o\\ .  .  .<br> 3 +  . \\o  o  o  o  o \\.  .  .<br> 2 +  .  #--------------#  .  .<br> 1 +  .  .  .  .  .  .  .  .  .<br> 0 +--+--+--+--+--+--+--+--+--+--&gt;<br>   0  1  2  3  4  5  6  7  8  9<br></pre><br>Lancelot needs <strong>33</strong> flowers to fill this flower bed. <br>So the output should be: <pre style=\"font-family: monospace\">33</pre><br><br>Here is the example in the second test:<br><pre style=\"font-family: monospace\"><br>   ^ . . . . . . . .<br>   |<br> 8 + . # . . # . . .<br>   |  / \\   / \\ <br> 7 + # o #-# o # . .<br>   | |         |<br> 6 + # o # # o # . .<br>   |  \\ /| |\\ /<br> 5 + . # | | # . . .<br>   |     | | <br> 4 + . # | | # . . .<br>   |  / \\| |/ \\<br> 3 + # o # # o # . .<br>   | |         |<br> 2 + # o #-# o # . .<br>   |  \\ /   \\ /<br> 1 + . # . . # . . .<br>   |<br> 0 +-+-+-+-+-+-+-+-+-&gt;<br>   0 1 2 3 4 5 6 7 8<br></pre><br>Lancelot needs only <strong>8</strong> flowers to fill this one. <br>So the output should be: <pre style=\"font-family: monospace\">8</pre><br><br><strong>Notes:</strong><br>- flowers cannot be planted on the flower bed boundary<br>- flower bed vertices are always on potential planting spots (their coordinates are <strong>integers</strong>)<br>- flower bed edges do not intersect each others</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> an integer <var>N</var> the number of vertices of the flower bed<br><strong>Next <var>N</var> lines:</strong> 2 integers <var>x</var> and <var>y</var> the coordinates of a vertex</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">An integer <var>F</var> the number of flowers needed to fill the flower bed</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">3 &le; <var>N</var> &le; 100<br>0 &le; <var>x</var>, <var>y</var> &le; 10000<br><var>F</var> &lt; 2^32</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">9\n2 2\n7 2\n6 5\n7 8\n6 11\n5 11\n4 8\n3 11\n1 5</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">33</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 165830569403,
  "avatar": 1832090086325,
  "commentCount": 42,
  "upVotes": 41,
  "downVotes": 0,
  "validateAction": {
    "actionId": 502324,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1604900288703,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}