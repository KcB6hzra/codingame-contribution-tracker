{
  "id": 481,
  "activeVersion": 13,
  "score": 1,
  "votableId": 3874797,
  "codingamerId": 154906,
  "views": 2062,
  "commentableId": 3819797,
  "title": "Bulk Email Generator",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "JBM",
  "publicHandle": "4819b4a814747dc31abe06fdc4384404f7b",
  "codingamerHandle": "0d71f9df5da706f9f77c07c34d12480e609451",
  "lastVersion": {
    "version": 13,
    "data": {
      "title": "Bulk Email Generator",
      "topics": [
        {
          "id": 112,
          "handle": "string-manipulation",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "String manipulation",
            "2": "String manipulation"
          },
          "puzzleCount": 20,
          "parentTopicId": 93
        }
      ],
      "solution": "<>;$/=$_;print<>=~s-\\((.*?)\\)-(split'\\|',$1)[$i++%(1+$1=~y/|//)]-gres",
      "statement": "You're coding on CG, minding your own business, when a notification pops out of nowhere. Some level 6 PHP coder is following you! It's all fine and dandy. You click on the dismiss button and move on.\n\nExcept it doesn't work. The dreaded red popup appears: “Error 492, please send us an email at coders@codingame.com”. Being the disciplined coder you are, you comply.\n\nBut the notification is still there. So you click it again. And read the popup again. And email coders again. But the notification is still there… You can't really send them the same email all the time, that would be boring!\n\n<<It's time for some automation!>>\n\nYou are given a bulk email template. You are to expand it to an actual email by selecting a clause randomly when given a choice.\n\nChoices are indicated by {{(}}parenthesized text{{)}}, with clauses separated by pipe symbols {{|}}.\n\nRandom is defined as using the JBM level-0 twister: “for the [[i]]th choice, pick the [[i]]th clause (modulo the number of clauses)”.",
      "testCases": [
        {
          "title": "Example",
          "isTest": true,
          "testIn": "3\nThis is the (first|second|third) choice.\nThis is the (first|second|third) choice.\nThis is the (first|second|third) choice.",
          "testOut": "This is the first choice.\nThis is the second choice.\nThis is the third choice.",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Counterexample",
          "isTest": false,
          "testIn": "3\nThis is the (third|second|first) choice.\nThis is the (third|second|first) choice.\nThis is the (third|second|first) choice.",
          "testOut": "This is the third choice.\nThis is the second choice.\nThis is the first choice.",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "CG Email",
          "isTest": true,
          "testIn": "7\n(Hello|Hi|Bonjour|Salut|Hey) (les amis|coders|bande de @$%*),\n\nI keep getting an error( 492|) in the notification area.\nAre you aware of that?\n\n(Bye|Ciao|Fsck off|Best regards),\nYour Name Here",
          "testOut": "Hello coders,\n\nI keep getting an error 492 in the notification area.\nAre you aware of that?\n\nBest regards,\nYour Name Here",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "JBM Email",
          "isTest": false,
          "testIn": "13\nDear (JBM|Brian|Charlie|Waldo),\n\nI (wish|would like) to (express|say|utter) that I am sorry for my (surprise|unexpected and)\n(crappy|unethical|stupid) (inappropriate|rude) behavior towards you.  I (wanna|would like to) apologize for such\nbehavior.\nI (regret|am sorry for) what happened (last time|yesterday).  I was bogged down\nwith (personal issues|work pressure) that I did not realize that you were trying\nto (be a prick|help me).  I have realized that it was insulting for you\nas the whole (office|world|crowd) was watching.  I promise you that this act of\nmine won't be repeated again.\n\n-With (regards|pride|hate),\nAnna Nonymous.",
          "testOut": "Dear JBM,\n\nI would like to utter that I am sorry for my unexpected and\nunethical rude behavior towards you.  I wanna apologize for such\nbehavior.\nI am sorry for what happened last time.  I was bogged down\nwith work pressure that I did not realize that you were trying\nto be a prick.  I have realized that it was insulting for you\nas the whole crowd was watching.  I promise you that this act of\nmine won't be repeated again.\n\n-With regards,\nAnna Nonymous.",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Edge Cases",
          "isTest": true,
          "testIn": "7\n(No choice)\n(Empty choice|)\nLotsa (1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|21|22|23|24|25|26|27|28|29|30|31|32|33|34|35|36|37|38|39|40|41|42|43|44|45|46|47|48|49|50|51|52|53|54|55|56|57|58|59|60|61|62|63|64|65|66|67|68|69|70|71|72|73|74|75|76|77|78|79|80|81|82|83|84|85|86|87|88|89|90|91|92|93|94|95|96|97|98|99|100) choices\nDoes it (wrap|unwrap)?\n(Multi\nline|Multi\nline)",
          "testOut": "No choice\n\nLotsa 3 choices\nDoes it unwrap?\nMulti\nline",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Edge Cases",
          "isTest": false,
          "testIn": "7\n(|Empty choice)\n(No hope)\nLotta (1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|21|22|23|24|25|26|27|28|29|30|31|32|33|34|35|36|37|38|39|40|41|42|43|44|45|46|47|48|49|50|51|52|53|54|55|56|57|58|59|60|61|62|63|64|65|66|67|68|69|70|71|72|73|74|75|76|77|78|79|80|81|82|83|84|85|86|87|88|89|90|91|92|93|94|95|96|97|98|99|100) choice\nDoes it (curve|blend)?\n(Lines\nby two|Two\nlines)",
          "testOut": "\nNo hope\nLotta 3 choice\nDoes it blend?\nLines\nby two",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Comment Spam",
          "isTest": true,
          "testIn": "1\n(You must|You need to|You have to|You should) (take advantage of|make the most of|benefit from|take full advantage of) (all the|all of the|each of the|every one of the) software advancements that (happen to be|are actually|are|are generally) (a successful|an effective|an excellent|a prosperous) (Internet marketer|Online marketer|Internet entrepreneur|Affiliate marketer). (If your|In case your|Should your|When your) work (begins to|starts to|actually starts to) suffer, (the competition|your competition|competition|your competitors) could (leave you|make you|create) (in the|within the|inside the|from the) dust. Show (that you are|that you will be|that you are currently|you are) always (on the|around the|in the|about the) (cutting edge|innovative|leading edge|really advanced), (and they will|and they can) (learn to|learn how to|figure out how to|discover how to) trust (you and your|both you and your|you and the|your) products.",
          "testOut": "You must make the most of each of the software advancements that are generally a successful Online marketer. Should your work starts to suffer, the competition could leave you inside the dust. Show you are always on the innovative, and they will discover how to trust you and your products.",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Comment Spam",
          "isTest": false,
          "testIn": "1\n(Heya) (You must|You need to|You have to|You should) (take advantage of|make the most of|benefit from|take full advantage of) (all the|all of the|each of the|every one of the) software advancements that (happen to be|are actually|are|are generally) (a successful|an effective|an excellent|a prosperous) (Internet marketer|Online marketer|Internet entrepreneur|Affiliate marketer). (If your|In case your|Should your|When your) work (begins to|starts to|actually starts to) suffer, (the competition|your competition|competition|your competitors) could (leave you|make you|create) (in the|within the|inside the|from the) dust. Show (that you are|that you will be|that you are currently|you are) always (on the|around the|in the|about the) (cutting edge|innovative|leading edge|really advanced), (and they will|and they can) (learn to|learn how to|figure out how to|discover how to) trust (you and your|both you and your|you and the|your) products.",
          "testOut": "Heya You need to benefit from every one of the software advancements that happen to be an effective Internet entrepreneur. When your work actually starts to suffer, your competition could make you from the dust. Show that you are always around the leading edge, and they can learn to trust both you and your products.",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "More Edge Cases",
          "isTest": true,
          "testIn": "7\n(|Empty choice)\n(No choice)\nLotsa (1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|21|22|23|24|25|26|27|28|29|30|31|32|33|34|35|36|37|38|39|40|41|42|43|44|45|46|47|48|49|50|51|52|53|54|55|56|57|58|59|60|61|62|63|64|65|66|67|68|69|70|71|72|73|74|75|76|77|78|79|80|81|82|83|84|85|86|87|88|89|90|91|92|93|94|95|96|97|98|99|100) choices\nDoes it (curve|blend)?\n(Lines\nby two|Two\nlines)",
          "testOut": "\nNo choice\nLotsa 3 choices\nDoes it blend?\nLines\nby two",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "More Edge Cases",
          "isTest": false,
          "testIn": "7\n(|)\n(The void)\nWhere am (0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|21|22|23|24|25|26|27|28|29|30|31|32|33|34|35|36|37|38|39|40|41|42|43|44|45|46|47|48|49|50|51|52|53|54|55|56|57|58|59|60|61|62|63|64|65|66|67|68|69|70|71|72|73|74|75|76|77|78|79|80|81|82|83|84|85|86|87|88|89|90|91|92|93|94|95|96|97|98|99|100) I\nDoes it (inspire|transpire)?\n(Lines\nby two|Two\nlines)",
          "testOut": "\nThe void\nWhere am 2 I\nDoes it transpire?\nLines\nby two",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "easy",
      "constraints": "N < 10000\nTotal template size is less than 10000 characters as well.\nChoices don't nest.",
      "stubGenerator": "read N:int\nloop N read line:string(10000)\nwrite 42",
      "inputDescription": "<<Line 1:>> the number [[N]] of lines of text to follow\n<<Next [[N]] lines:>> the email template\n\n<<Important:>> the email template is the [[N]] lines as a whole. This is *not* a line-based problem!",
      "solutionLanguage": "Perl",
      "outputDescription": "The expanded email."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">You're coding on CG, minding your own business, when a notification pops out of nowhere. Some level 6 PHP coder is following you! It's all fine and dandy. You click on the dismiss button and move on.<br><br>Except it doesn't work. The dreaded red popup appears: &ldquo;Error 492, please send us an email at coders@codingame.com&rdquo;. Being the disciplined coder you are, you comply.<br><br>But the notification is still there. So you click it again. And read the popup again. And email coders again. But the notification is still there&hellip; You can't really send them the same email all the time, that would be boring!<br><br><strong>It's time for some automation!</strong><br><br>You are given a bulk email template. You are to expand it to an actual email by selecting a clause randomly when given a choice.<br><br>Choices are indicated by <const>(</const>parenthesized text<const>)</const>, with clauses separated by pipe symbols <const>|</const>.<br><br>Random is defined as using the JBM level-0 twister: &ldquo;for the <var>i</var>th choice, pick the <var>i</var>th clause (modulo the number of clauses)&rdquo;.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> the number <var>N</var> of lines of text to follow<br><strong>Next <var>N</var> lines:</strong> the email template<br><br><strong>Important:</strong> the email template is the <var>N</var> lines as a whole. This is *not* a line-based problem!</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">The expanded email.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">N &lt; 10000<br>Total template size is less than 10000 characters as well.<br>Choices don't nest.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">3\nThis is the (first|second|third) choice.\nThis is the (first|second|third) choice.\nThis is the (first|second|third) choice.</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">This is the first choice.\nThis is the second choice.\nThis is the third choice.</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 292454621723,
  "commentCount": 8,
  "upVotes": 4,
  "downVotes": 3,
  "validateAction": {
    "actionId": 39426,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}