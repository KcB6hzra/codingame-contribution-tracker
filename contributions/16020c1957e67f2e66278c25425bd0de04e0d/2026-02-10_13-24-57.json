{
  "id": 16020,
  "activeVersion": 10,
  "score": 21,
  "votableId": 23278629,
  "codingamerId": 276480,
  "views": 793,
  "commentableId": 23164548,
  "title": "Random Time Travel",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Karang",
  "publicHandle": "16020c1957e67f2e66278c25425bd0de04e0d",
  "codingamerHandle": "ea0ed28da0661efb5a46272c43da2ccb084672",
  "lastVersion": {
    "version": 10,
    "autocloseTime": 1656754833633,
    "data": {
      "title": "Random Time Travel",
      "topics": [
        {
          "labelMap": {
            "2": "Seedfinding"
          }
        },
        {
          "labelMap": {
            "2": "Random number generator"
          }
        }
      ],
      "solution": "import java.util.*;\nimport java.io.*;\nimport java.math.*;\n\nclass Solution {\n\n    public static long lcg_steps(long seed, long a, long c, long m, long steps) {\n\t\tlong new_a = 1;\n        long new_c = 0;\n        for (long k = steps; k != 0; k >>>= 1) {\n            if ((k & 1) != 0) {\n            \tnew_a *= a;\n            \tnew_c = a * new_c + c;\n            }\n\n            c = (a + 1) * c;\n            a *= a;\n        }\n        new_a = new_a & (m - 1);\n        new_c = new_c & (m - 1);\n\t\treturn (seed * new_a + new_c) & (m - 1);\n\t}\n\n    public static void main(String args[]) {\n        Scanner in = new Scanner(System.in);\n        long a = in.nextLong();\n        long c = in.nextLong();\n        long m = in.nextLong();\n        long seed = in.nextLong();\n        long steps = in.nextLong();\n\n        System.out.println(lcg_steps(seed, a, c, m, steps));\n    }\n}",
      "statement": "A linear congruential generator (LCG) is a pseudorandom number generator algorithm defined by the recurrence relation:\n`lcg(seed) = (a * seed + c) % m`\nLCGs are notably used by Java's Math.random(). It is sometimes useful to be able to check the value given by the random number generator a number of steps in the future or in the past, given the current internal seed of the LCG.\n\nYou are given the [[seed]], the parameters [[a]], [[c]] and [[m]] of an LCG and the number of [[steps]].\n\nIf [[steps]] is positive you must return the result of the composition of the lcg function [[steps]] times.\n`lcg(lcg(...lcg(seed)))`\nIf [[steps]] is negative you must return the result of the composition of the reverse of the lcg function.\n `lcg^-1(lcg^-1(...lcg^-1(seed)))`\n\nHint: The reverse of an LCG is also an LCG. The composition of two LCGs is also an LCG.",
      "testCases": [
        {
          "title": "Simple forward",
          "isTest": true,
          "testIn": "5 3 8\n0\n1",
          "testOut": "3",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "5 3 8\n3\n1",
          "testOut": "2",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Simple backward",
          "isTest": true,
          "testIn": "5 3 8\n3\n-1",
          "testOut": "0",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "5 3 8\n2\n-1",
          "testOut": "3",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Java Random 10 steps",
          "isTest": true,
          "testIn": "25214903917 11 281474976710656\n123456789\n10",
          "testOut": "265139739725951",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "NRC forward",
          "isTest": false,
          "testIn": "1664525 1013904223 4294967296\n56416741561\n101456",
          "testOut": "1133829513",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Java Random -10 steps",
          "isTest": true,
          "testIn": "25214903917 11 281474976710656\n123456789\n-10",
          "testOut": "41935260626811",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "NRC backward",
          "isTest": false,
          "testIn": "1664525 1013904223 4294967296\n95465457461\n-4561",
          "testOut": "3074731294",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Back to the future",
          "isTest": true,
          "testIn": "25214903917 11 281474976710656\n123456789\n9007199254740990",
          "testOut": "35623234005539",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "A long time ago",
          "isTest": false,
          "testIn": "25214903917 11 281474976710656\n123456789\n-9007199254740991",
          "testOut": "119305093197820",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "0 ≤ [[a]] < 2^64\n0 ≤ [[c]] < 2^64\n1 ≤ [[m]] < 2^64, [[m]] is a power of 2\n0 ≤ [[seed]] < 2^64\n-2^63 <= [[steps]] < 2^63",
      "stubGenerator": "read a:long c:long m:long\nread seed:long\nread steps:long\nwrite newseed",
      "inputDescription": "<<Line 1:>> Three space separated integers [[a]], [[c]] and [[m]] for the LCG parameters.\n<<Line 2:>> An integer [[seed]]\n<<Line 3:>> An integer [[steps]]",
      "solutionLanguage": "Java",
      "outputDescription": "<<Line 1 :>> The output of the LCG, starting at [[seed]] and repeating [[steps]] times."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">A linear congruential generator (LCG) is a pseudorandom number generator algorithm defined by the recurrence relation:<br><pre style=\"font-family: monospace\">lcg(seed) = (a * seed + c) % m</pre><br>LCGs are notably used by Java's Math.random(). It is sometimes useful to be able to check the value given by the random number generator a number of steps in the future or in the past, given the current internal seed of the LCG.<br><br>You are given the <var>seed</var>, the parameters <var>a</var>, <var>c</var> and <var>m</var> of an LCG and the number of <var>steps</var>.<br><br>If <var>steps</var> is positive you must return the result of the composition of the lcg function <var>steps</var> times.<br><pre style=\"font-family: monospace\">lcg(lcg(...lcg(seed)))</pre><br>If <var>steps</var> is negative you must return the result of the composition of the reverse of the lcg function.<br> <pre style=\"font-family: monospace\">lcg^-1(lcg^-1(...lcg^-1(seed)))</pre><br><br>Hint: The reverse of an LCG is also an LCG. The composition of two LCGs is also an LCG.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> Three space separated integers <var>a</var>, <var>c</var> and <var>m</var> for the LCG parameters.<br><strong>Line 2:</strong> An integer <var>seed</var><br><strong>Line 3:</strong> An integer <var>steps</var></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>Line 1 :</strong> The output of the LCG, starting at <var>seed</var> and repeating <var>steps</var> times.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">0 &le; <var>a</var> &lt; 2^64<br>0 &le; <var>c</var> &lt; 2^64<br>1 &le; <var>m</var> &lt; 2^64, <var>m</var> is a power of 2<br>0 &le; <var>seed</var> &lt; 2^64<br>-2^63 &lt;= <var>steps</var> &lt; 2^63</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">5 3 8\n0\n1</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">3</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 115572571480,
  "avatar": 10618014804519,
  "commentCount": 20,
  "upVotes": 24,
  "downVotes": 3,
  "validateAction": {
    "actionId": 669425,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "REFUSED",
      "date": 1654124737001,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1654162833633,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "ACCEPTED",
      "date": 1655157324369,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}