{
  "id": 474,
  "activeVersion": 42,
  "score": 6,
  "votableId": 3785228,
  "codingamerId": 153965,
  "views": 214,
  "commentableId": 3730318,
  "title": "The Burglar's Dilemna",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "[CG]Keelhaul",
  "publicHandle": "47434bf2218c33dfd5258739b738124127b",
  "codingamerHandle": "33ab64bba7b3fbcd014b8bb7a50a4684569351",
  "lastVersion": {
    "version": 42,
    "data": {
      "title": "The Burglar's Dilemna",
      "topics": [],
      "solution": "import sys\nimport math\nimport itertools\n\n# Auto-generated code below aims at helping you parse\n# the standard input according to the problem statement.\n\ndef log(*m):\n    print(*m, file=sys.stderr)\n    \nclass Attempt:\n    def __init__(self, numbers):\n        self.numbers = numbers\n        \n    def __repr__(self):\n        string = ''\n        for num in self.numbers:\n            string += str(num)+' '\n        return string\n        \nclass Number:\n    def __init__(self, number, click):\n        self.num = number\n        self.click = click\n        \n    def __repr__(self):\n        return str(self.num)+':'+self.click\n        \n    def get_possibilities(self, significance):\n        possibilities = set()\n        if significance==0: # good number\n            possibilities.add(self.num)\n        elif significance==1: # close number\n            possibilities.add(self.num+1 if self.num<9 else 0)\n            possibilities.add(self.num-1 if self.num>0 else 9)\n        else: # bad number\n            possibilities = set(range(10))\n            possibilities.remove(self.num)\n            possibilities.remove(self.num+1 if self.num<9 else 0)\n            possibilities.remove(self.num-1 if self.num>0 else 9)\n        \n        return possibilities\n\nATTEMPTS = []\nSIGNIFICANCES = [\n    {'CLICK':0, 'CLACK':1, 'CLUCK':2 },\n    {'CLICK':0, 'CLACK':2, 'CLUCK':1 },\n    {'CLICK':1, 'CLACK':0, 'CLUCK':2 },\n    {'CLICK':1, 'CLACK':2, 'CLUCK':0 },\n    {'CLICK':2, 'CLACK':0, 'CLUCK':1 },\n    {'CLICK':2, 'CLACK':1, 'CLUCK':0 }\n    ]\n    \n\nMOCK = [\n    10,\n    4,\n    '0 0 9 9',\n    '5 4 1 3',\n    '4 8 3 5',\n    '4 9 2 4',\n    '2 3 3 0',\n    '7 2 2 2',\n    '3 4 8 8',\n    '1 1 1 1',\n    '8 7 0 9',\n    '0 0 4 5',\n    'CLICK CLICK CLICK CLICK',\n    'CLICK CLUCK CLICK CLICK',\n    'CLACK CLICK CLICK CLICK',\n    'CLACK CLICK CLICK CLICK',\n    'CLACK CLACK CLICK CLACK',\n    'CLICK CLICK CLICK CLACK',\n    'CLUCK CLUCK CLICK CLICK',\n    'CLICK CLICK CLICK CLUCK',\n    'CLICK CLICK CLICK CLICK',\n    'CLICK CLICK CLICK CLICK'\n    ]\nMOCKED = False\n\nN = int(input()) if not MOCKED else MOCK[0]\nC = int(input()) if not MOCKED else MOCK[1]\ncodes = []\nclicks = []\nfor i in range(N):\n    codes_input = input() if not MOCKED else MOCK[i+2]\n    codes.append([int(n) for n in codes_input.split()])\nfor i in range(N):\n    clicks_input = input() if not MOCKED else MOCK[i+N+2]\n    clicks.append(clicks_input.split())\nfor i in range(N):\n    numbers = []\n    for n in range(C):\n        numbers.append(Number(codes[i][n], clicks[i][n]))\n    ATTEMPTS.append(Attempt(numbers))\n    \nlog('---ATTEMPTS---')\nlog(ATTEMPTS)\n\nall_possibilities = set()\nfor significance in SIGNIFICANCES:\n    hasEmptyPossibility = False\n    hasMultiplePossibilities = False\n    possibilities = [set(range(10)) for i in range(C)]\n    log('------------------------')\n    log('SIG:',significance)\n    for attempt in ATTEMPTS:\n        for i, number in enumerate(attempt.numbers):\n            num_poss = number.get_possibilities(significance[number.click])\n            possibilities[i] = possibilities[i].intersection(num_poss)\n            \n    for possibility in possibilities:\n        if len(possibility)==0:\n            hasEmptyPossibility = True\n            hasMultiplePossibilities = False\n            break\n        elif len(possibility)>1: hasMultiplePossibilities = True\n    \n    if not hasEmptyPossibility:\n        all_possibilities = all_possibilities.union(list(itertools.product(*possibilities)))\n    if hasMultiplePossibilities:\n        log('* MULTIPLE POSSIBILITIES:')\n        log(possibilities)\n    elif hasEmptyPossibility:\n        log('* NO POSSIBILITIES')\n    else:\n        log('* ONE POSSIBILITY:')\n        log(possibilities)\n\nif len(all_possibilities)>1:\n    log('-------ALL MULTIPLE POSSIBILITIES--------')\n    log(all_possibilities)\n    log('-----------------------------------------')\n    print('FLEE')\nelse:\n    log(all_possibilities)\n    print(*all_possibilities.pop())\n",
      "statement": "<<You're a talented burglar attempting to crack a safe combination by listening to the clicks it makes at each of your attempts. Suddenly, the alarm goes off, and you have only time for one last try. Analysing the results of the previous attempts, you must give the correct combination if only one is possible. Otherwise, lacking time to try them all, you must flee.>>\n\nEach previous attempt (which is always a failed one) is represented by a series of numbers between 0 and 9 (inclusive) and their associated sound: {{CLICK}}, {{CLACK}} or {{CLUCK}}.\nDuring a test, each sound has the same meaning and every meaning is different, but you never know which sound is associated with which meaning.\nThe possible meanings of a sound are the following:\n- The number is correct.\n- The number is adjacent to the correct number (note that 0 and 9 are adjacent).\n- The number is incorrect and not adjacent to the correct number.\n\nGiven these information, if only one combination is possible, you must output it. If more than one combination is possible, you must output {{FLEE}}. There is always at least one possibility. \n\n<<### Example: ###>>\nConsidering the following attempts:\n1 2 3 4\n1 2 4 5\n1 2 4 8\nCLICK CLICK CLACK CLUCK\nCLICK CLICK CLUCK CLICK\nCLICK CLICK CLUCK CLACK\n\nLet's make assumptions:\n<<Assumption 1 ->> {{CLICK}} is the sound for a correct number:\nThis means that 1, 2, and the last 5 are correct. Since the 4 of the first line is associated with a {{CLUCK}} and 4 is next to 5, we know that {{CLUCK}} has the adjacent meaning, and {{CLACK}} the failed meaning. From this, considering the 3rd number, we know that 3 is a bad number, and 4 is adjacent, so the 3rd number is 5.\nThis assumption leads to only one possibility: 1 2 5 5. But maybe the next assumptions will also have a different possibility... Let's check.\n\n<<Assumption 2 ->> {{CLACK}} is the sound for a correct number:\nThis means that 3 is the correct third number, and looking at the second and third line, that {{CLUCK}} means adjacent, so {{CLICK}} must mean 'wrong number'. But looking at the fourth number, we guess that 4 is adjacent to the correct number and 8 is the correct number, which is absurd. So this assumption is false.\n\n<<Assumption 3 ->> {{CLUCK}} is the sound for a correct number:\nThis means that 4 is the correct 3rd and 4th number. Looking at the first line, 3 being next to 4, we guess that {{CLACK}} has the adjacent meaning. But looking at the second line, me make the same reasoning with 5 and {{CLICK}}. Since two sounds can't have the same meaning, the assumption is false too.\n\nSince only one assumption makes sense and leads to only one possibility, the correct code is 1 2 5 5.",
      "testCases": [
        {
          "title": "Simple solution",
          "isTest": true,
          "testIn": "3\n4\n1 2 3 4\n1 2 4 5\n1 2 4 8\nCLICK CLICK CLACK CLUCK\nCLICK CLICK CLUCK CLICK\nCLICK CLICK CLUCK CLACK",
          "testOut": "1 2 5 5",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Simple solution",
          "isTest": false,
          "testIn": "3\n4\n2 3 4 5\n2 3 5 6\n2 3 5 1\nCLICK CLICK CLACK CLUCK\nCLICK CLICK CLUCK CLICK\nCLICK CLICK CLUCK CLACK",
          "testOut": "2 3 6 6",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Obvious fleeing",
          "isTest": true,
          "testIn": "1\n4\n1 1 1 1\nCLICK CLACK CLUCK CLICK",
          "testOut": "FLEE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Obvious fleeing",
          "isTest": false,
          "testIn": "1\n4\n2 4 6 8\nCLUCK CLACK CLUCK CLICK",
          "testOut": "FLEE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "More attempts with 0 & 9",
          "isTest": true,
          "testIn": "10\n4\n0 0 9 9\n5 4 1 3\n4 8 3 5\n4 9 2 4\n2 3 3 0\n7 2 2 2\n3 4 8 8\n1 1 1 1\n8 7 0 9\n0 0 4 5\nCLICK CLICK CLICK CLICK\nCLICK CLUCK CLICK CLICK\nCLACK CLICK CLICK CLICK\nCLACK CLICK CLICK CLICK\nCLACK CLACK CLICK CLACK\nCLICK CLICK CLICK CLACK\nCLUCK CLUCK CLICK CLICK\nCLICK CLICK CLICK CLUCK\nCLICK CLICK CLICK CLICK\nCLICK CLICK CLICK CLICK",
          "testOut": "3 4 6 1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "More attempts with 0 & 9",
          "isTest": false,
          "testIn": "10\n4\n3 4 8 8\n5 4 1 3\n4 8 3 5\n0 0 9 9\n4 9 2 4\n2 3 3 0\n7 2 2 2\n0 0 4 5\n1 1 1 1\n8 7 0 9\nCLICK CLUCK CLICK CLICK\nCLICK CLUCK CLICK CLICK\nCLICK CLICK CLICK CLICK\nCLUCK CLICK CLICK CLICK\nCLICK CLICK CLICK CLICK\nCLICK CLACK CLICK CLACK\nCLICK CLICK CLICK CLACK\nCLUCK CLICK CLACK CLICK\nCLACK CLICK CLICK CLUCK\nCLICK CLICK CLICK CLICK",
          "testOut": "0 4 5 1",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Two possibilities",
          "isTest": true,
          "testIn": "5\n4\n1 0 9 8\n5 4 1 3\n5 6 9 0\n9 6 2 3\n0 5 8 4\nCLUCK CLUCK CLICK CLICK\nCLICK CLICK CLICK CLICK\nCLICK CLICK CLICK CLUCK\nCLUCK CLICK CLICK CLICK\nCLACK CLICK CLUCK CLICK",
          "testOut": "FLEE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Two possibilities",
          "isTest": false,
          "testIn": "5\n4\n6 5 2 4\n2 1 0 9\n0 7 3 4\n1 6 9 5\n6 7 0 1\nCLACK CLACK CLACK CLACK\nCLICK CLICK CLACK CLACK\nCLICK CLACK CLACK CLACK\nCLUCK CLACK CLICK CLACK\nCLACK CLACK CLACK CLICK",
          "testOut": "FLEE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Long Code",
          "isTest": true,
          "testIn": "6\n10\n0 1 2 3 4 5 6 7 8 9\n5 5 5 5 5 5 5 5 5 5\n9 8 7 6 5 4 3 2 1 0\n3 1 0 4 8 0 9 8 2 2\n0 0 0 0 0 0 0 0 0 0\n6 5 2 2 9 4 6 7 7 8\nCLUCK CLICK CLICK CLUCK CLUCK CLICK CLUCK CLACK CLUCK CLUCK\nCLICK CLUCK CLUCK CLUCK CLICK CLICK CLUCK CLUCK CLUCK CLUCK\nCLUCK CLUCK CLUCK CLUCK CLICK CLUCK CLUCK CLUCK CLUCK CLUCK\nCLICK CLICK CLICK CLUCK CLUCK CLUCK CLICK CLICK CLICK CLACK\nCLUCK CLUCK CLICK CLICK CLUCK CLUCK CLACK CLUCK CLUCK CLUCK\nCLUCK CLUCK CLICK CLUCK CLUCK CLUCK CLUCK CLACK CLUCK CLUCK",
          "testOut": "4 2 1 9 6 6 0 7 3 2",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Long Code",
          "isTest": false,
          "testIn": "7\n10\n9 8 7 6 5 4 3 2 1 0\n5 4 8 6 3 2 1 9 9 1\n6 6 6 6 6 6 6 6 6 6\n4 2 4 2 4 2 4 2 4 2\n8 6 3 1 3 7 2 0 0 9\n0 1 2 3 4 5 6 7 8 9\n5 8 6 3 1 0 8 1 1 2\nCLACK CLACK CLACK CLACK CLICK CLACK CLACK CLACK CLICK CLICK\nCLUCK CLUCK CLACK CLACK CLACK CLACK CLACK CLACK CLICK CLUCK\nCLICK CLACK CLACK CLACK CLUCK CLACK CLUCK CLUCK CLACK CLACK\nCLICK CLACK CLACK CLICK CLACK CLACK CLACK CLACK CLACK CLICK\nCLACK CLACK CLICK CLACK CLACK CLACK CLACK CLACK CLUCK CLACK\nCLACK CLACK CLUCK CLUCK CLACK CLACK CLUCK CLICK CLACK CLACK\nCLUCK CLACK CLACK CLUCK CLACK CLICK CLACK CLACK CLICK CLICK",
          "testOut": "5 4 2 3 6 9 6 6 0 1",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Short code",
          "isTest": true,
          "testIn": "3\n1\n0\n4\n7\nCLUCK\nCLUCK\nCLUCK",
          "testOut": "2",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Short code",
          "isTest": false,
          "testIn": "3\n1\n3\n6\n9\nCLICK\nCLICK\nCLICK",
          "testOut": "1",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Short code redux",
          "isTest": true,
          "testIn": "4\n1\n4\n6\n0\n9\nCLUCK\nCLUCK\nCLACK\nCLACK",
          "testOut": "5",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Short code redux",
          "isTest": false,
          "testIn": "4\n1\n6\n3\n8\n0\nCLACK\nCLACK\nCLUCK\nCLUCK",
          "testOut": "9",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "hard",
      "constraints": "1 ≤ [[N]] ≤ 10\n1 ≤ [[C]] ≤ 10",
      "stubGenerator": "read N:int\nread C:int\nloop N read numbers:string(1024) \nloop N read clicks:string(1024)\nwrite 0 0 0 0\n",
      "inputDescription": "<<Line 1:>> An integer [[N]] representing the number of attempts.\n<<Line 2:>> An integer [[C]] representing the length of the safe combination.\n<<Next [[N]] lines:>> A line [[NUMBERS]] containing the numbers of each attempt.\n<<Next [[N]] lines:>> A line [[CLICKS]] containing the corresponding clicks.",
      "solutionLanguage": "Python3",
      "outputDescription": "The space separated safe combination if there is only one solution, or {{FLEE}} if more than one combination is possible."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\"><strong>You're a talented burglar attempting to crack a safe combination by listening to the clicks it makes at each of your attempts. Suddenly, the alarm goes off, and you have only time for one last try. Analysing the results of the previous attempts, you must give the correct combination if only one is possible. Otherwise, lacking time to try them all, you must flee.</strong><br><br>Each previous attempt (which is always a failed one) is represented by a series of numbers between 0 and 9 (inclusive) and their associated sound: <const>CLICK</const>, <const>CLACK</const> or <const>CLUCK</const>.<br>During a test, each sound has the same meaning and every meaning is different, but you never know which sound is associated with which meaning.<br>The possible meanings of a sound are the following:<br>- The number is correct.<br>- The number is adjacent to the correct number (note that 0 and 9 are adjacent).<br>- The number is incorrect and not adjacent to the correct number.<br><br>Given these information, if only one combination is possible, you must output it. If more than one combination is possible, you must output <const>FLEE</const>. There is always at least one possibility. <br><br><strong>### Example: ###</strong><br>Considering the following attempts:<br>1 2 3 4<br>1 2 4 5<br>1 2 4 8<br>CLICK CLICK CLACK CLUCK<br>CLICK CLICK CLUCK CLICK<br>CLICK CLICK CLUCK CLACK<br><br>Let's make assumptions:<br><strong>Assumption 1 -</strong> <const>CLICK</const> is the sound for a correct number:<br>This means that 1, 2, and the last 5 are correct. Since the 4 of the first line is associated with a <const>CLUCK</const> and 4 is next to 5, we know that <const>CLUCK</const> has the adjacent meaning, and <const>CLACK</const> the failed meaning. From this, considering the 3rd number, we know that 3 is a bad number, and 4 is adjacent, so the 3rd number is 5.<br>This assumption leads to only one possibility: 1 2 5 5. But maybe the next assumptions will also have a different possibility... Let's check.<br><br><strong>Assumption 2 -</strong> <const>CLACK</const> is the sound for a correct number:<br>This means that 3 is the correct third number, and looking at the second and third line, that <const>CLUCK</const> means adjacent, so <const>CLICK</const> must mean 'wrong number'. But looking at the fourth number, we guess that 4 is adjacent to the correct number and 8 is the correct number, which is absurd. So this assumption is false.<br><br><strong>Assumption 3 -</strong> <const>CLUCK</const> is the sound for a correct number:<br>This means that 4 is the correct 3rd and 4th number. Looking at the first line, 3 being next to 4, we guess that <const>CLACK</const> has the adjacent meaning. But looking at the second line, me make the same reasoning with 5 and <const>CLICK</const>. Since two sounds can't have the same meaning, the assumption is false too.<br><br>Since only one assumption makes sense and leads to only one possibility, the correct code is 1 2 5 5.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> An integer <var>N</var> representing the number of attempts.<br><strong>Line 2:</strong> An integer <var>C</var> representing the length of the safe combination.<br><strong>Next <var>N</var> lines:</strong> A line <var>NUMBERS</var> containing the numbers of each attempt.<br><strong>Next <var>N</var> lines:</strong> A line <var>CLICKS</var> containing the corresponding clicks.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">The space separated safe combination if there is only one solution, or <const>FLEE</const> if more than one combination is possible.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">1 &le; <var>N</var> &le; 10<br>1 &le; <var>C</var> &le; 10</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">3\n4\n1 2 3 4\n1 2 4 5\n1 2 4 8\nCLICK CLICK CLACK CLUCK\nCLICK CLICK CLUCK CLICK\nCLICK CLICK CLUCK CLACK</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">1 2 5 5</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 293221750327,
  "avatar": 4367050238110,
  "commentCount": 9,
  "upVotes": 6,
  "downVotes": 0,
  "validateAction": {
    "actionId": 36413,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}