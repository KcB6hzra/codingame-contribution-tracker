{
  "id": 7734,
  "activeVersion": 19,
  "score": 13,
  "votableId": 21083619,
  "codingamerId": 4081634,
  "views": 315,
  "commentableId": 20977308,
  "title": "Sticky Keyboard",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Wontonimo",
  "publicHandle": "773465d26dc471f793096a83dffac0b7406a",
  "codingamerHandle": "d0699d9a8e4995e142b0a5cf6a16e1934361804",
  "lastVersion": {
    "version": 19,
    "autocloseTime": 1641680857214,
    "data": {
      "title": "Sticky Keyboard",
      "topics": [
        {
          "id": 82,
          "handle": "machine-learning",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Machine learning",
            "2": "Machine learning"
          },
          "pageTitle": "Machine learning: exercises and theory",
          "puzzleCount": 3,
          "parentTopicId": 42,
          "contentDetailsId": 110
        }
      ],
      "solution": "import re\n\ntext = [input() for _ in range(int(input()))]\n\n# read the input and add padding to make parsing easier\ntext = \" \" + \" X \".join(text) + \" \"\n\n\n# extract the words consisting of a-z\nwords = re.sub(\"[^a-z]+\",\" \",text).split(\" \")\n\n\n# get a count of each unique word\ninventory = dict()\nfor word in words:\n    if len(word) > 0:\n        inventory[word] = inventory.get(word,0) + 1\n\n\n# replace problem (like \"itt\") with correction (like \"it\")\n# but only if the problem exists and occurs less then correction\ndef replace(problem, correction):\n    global text\n    global inventory\n    if problem in inventory.keys():\n        if inventory[correction] > inventory[problem]:\n            # replace only full words, not partials\n            text = re.sub( f\"([^a-z]){problem}([^a-z])\", f\"\\\\1{correction}\\\\2\", text)\n\n\n# look for problems and make corrections\nfor word in inventory.keys():\n\n    for i in range(len(word)):\n\n        # remove a letter\n        missing_letter = word[0:i] + word[i+1:]\n        replace(missing_letter, word)\n\n        # add a letter\n        duplicate_letter = word[0:i+1] + word[i:]\n        replace(duplicate_letter, word)\n\n# take care to strip the original padding\n# that was added to make parsing easier\ntext = \"\\n\".join(text.split(\" X \"))\nprint(text[1:-1])",
      "statement": "Oh no, the keyboard is sticky and sometimes keys have repeated twice and sometimes keys haven't been activated after pressed.  Not only that but the problem wasn't discovered until after some documents have been written.\n\nFortunately, the problem isn't too bad and only happens once in a while.  Instead of retyping all the documents you will write a program to correct the issue.\n\nYour program will read a document and use the document as both the source to find correct words and to fix words with missing letters or letters that are duplicated by accident. <<Preserve the placement of all non-letters, like punctuation.>>\n\nFor example the following document\n\n`6\nonce upon a little while,\nthe moon came out and began to smile.\nsmile it-did all night long,\nuntil the sun arose at dawn.\niit-did linger high in broad day light,\nbefore under cloud it dd take flight.`\n\nHere we have two examples of <<'it'>> spelt correctly to fix the one instance of <<'iit'>>\nand two examples of <<'did'>> spelt correctly to fix the one instance of <<'dd'>>\n\nThe incorrect word must have less instances than the number of instances the correct word.  Therefore <<'did'>> is not changed to <<'dd'>>, because <<'did'>> has 2 instances and <<'dd'>> only has 1.\n\nIncorrect words have either 1 letter doubled (like <<'iit'>>) or 1 letter missing (like <<'dd'>>) but not both.  For example 'dii' should not be corrected to 'did' if 'dii' existed in the above document.\n\nDo not use words that are not in the document, for example do not hard code common English words.  There is no guarantee that the words in the documents are English or any Earthly language.  Also, the documents are precisely crafted such that they will only work if the only vocabulary that is used is from the document itself.",
      "testCases": [
        {
          "title": "If it aint broke",
          "isTest": true,
          "testIn": "1\ndont fix it",
          "testOut": "dont fix it",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "if it aint broke",
          "isTest": false,
          "testIn": "1\nit must be a fluke",
          "testOut": "it must be a fluke",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "One repeat letterr",
          "isTest": true,
          "testIn": "1\nif you dont succeed try again, try again, then try agaiin!",
          "testOut": "if you dont succeed try again, try again, then try again!",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "One repeat letterr",
          "isTest": false,
          "testIn": "1\none fish two fish red fish blue fiish.",
          "testOut": "one fish two fish red fish blue fish.",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Repeat earlier",
          "isTest": true,
          "testIn": "2\nif you dont succeed\ntryy try again then try again",
          "testOut": "if you dont succeed\ntry try again then try again",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Repeat earlier",
          "isTest": false,
          "testIn": "2\none fishh two fish\nred fish blue fish",
          "testOut": "one fish two fish\nred fish blue fish",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Dropped letters",
          "isTest": true,
          "testIn": "5\nif you see someting today that you dont\nlike, do the right thing and d nothing.\ngo on and see something you do like.\nmaybe on another day,\nand maybe see another something",
          "testOut": "if you see something today that you dont\nlike, do the right thing and do nothing.\ngo on and see something you do like.\nmaybe on another day,\nand maybe see another something",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Dropped letters",
          "isTest": false,
          "testIn": "5\nwhy, sometimes i beleve as many as six\nimpossible things before breakfast.\nif it is impossible then sometimes\ni dont believe and if it is as possible\nas possible then sometimes i do believe",
          "testOut": "why, sometimes i believe as many as six\nimpossible things before breakfast.\nif it is impossible then sometimes\ni dont believe and if it is as possible\nas possible then sometimes i do believe",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "So much stickiness",
          "isTest": true,
          "testIn": "16\nit was all very well to say \"drink me,\"\nbut th wise little aliice was not going\nto do that in a hurry. \"no, ill look\nfirst,\" she said, \"and see whether it\nis marked poison or not.\" chapter 1,\ndown the rabbit-hole. \"but it is no\nuse now,\" thought poor alice, \"too\npretend to be two people! why,\ntheres hardly enough of me left\nto make one respectable person!\"\nchapter 1, down the rabbit-hole.\n\"curiouser and curiouser!\" cried\nalice (she was so much surprised,\nthat for the moment she quite forgot\nhow to speak good english). chapter 2,\nthe pool of tears",
          "testOut": "it was all very well to say \"drink me,\"\nbut the wise little alice was not going\nto do that in a hurry. \"no, ill look\nfirst,\" she said, \"and see whether it\nis marked poison or not.\" chapter 1,\ndown the rabbit-hole. \"but it is no\nuse now,\" thought poor alice, \"to\npretend to be two people! why,\ntheres hardly enough of me left\nto make one respectable person!\"\nchapter 1, down the rabbit-hole.\n\"curiouser and curiouser!\" cried\nalice (she was so much surprised,\nthat for the moment she quite forgot\nhow to speak good english). chapter 2,\nthe pool of tears",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "So much stickiness",
          "isTest": false,
          "testIn": "13\nit was all very well to say \"drink me,\"\nbut the wise little alice was not going to do that\nin a hurry. \"no, ill look first,\" she said,\n\"and see whether it is marked poison or not.\"\nchapter 1, down the rabbit-hole.\n\"but it is no use now,\" thought poor alce,\n\"to pretend to be two people! why, theres hardly\nenough of me left to make one respectable person!\"\nchappter 1, down the rabbit-hole.\n\"curiouser and curiouser!\" cried alice (she was\nso much surprised, that for the moment she quite\nforgot how to speak good english). chapter 2,\nthe pool of tears",
          "testOut": "it was all very well to say \"drink me,\"\nbut the wise little alice was not going to do that\nin a hurry. \"no, ill look first,\" she said,\n\"and see whether it is marked poison or not.\"\nchapter 1, down the rabbit-hole.\n\"but it is no use now,\" thought poor alice,\n\"to pretend to be two people! why, theres hardly\nenough of me left to make one respectable person!\"\nchapter 1, down the rabbit-hole.\n\"curiouser and curiouser!\" cried alice (she was\nso much surprised, that for the moment she quite\nforgot how to speak good english). chapter 2,\nthe pool of tears",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Zorbishian Alien Language",
          "isTest": true,
          "testIn": "15\nvg jnf nyy irel jryy gb fnl \"qevax zr,\"\nohg gu jvfr yvggyr nyvvpr jnf abg tbvat\ngb qb gung va n uheel. \"ab, vyy ybbx\nsvefg,\" fur fnvq, \"naq frr jurgure vg\nvf znexrq cbvfba be abg.\" puncgre 1,\nqbja gur enoovg-ubyr. \"ohg vg vf ab\nhfr abj,\" gubhtug cbbe nyvpr, \"gbb\ncergraq gb or gjb crbcyr! jul, gurerf\nuneqyl rabhtu bs zr yrsg gb znxr bar\nerfcrpgnoyr crefba!\" puncgre 1, qbja\ngur enoovg-ubyr. \"phevbhfre naq\nphevbhfre!\" pevrq nyvpr (fur jnf fb\nzhpu fhecevfrq, gung sbe gur zbzrag\nfur dhvgr sbetbg ubj gb fcrnx tbbq\nratyvfu). puncgre 2, gur cbby bs grnef",
          "testOut": "vg jnf nyy irel jryy gb fnl \"qevax zr,\"\nohg gur jvfr yvggyr nyvpr jnf abg tbvat\ngb qb gung va n uheel. \"ab, vyy ybbx\nsvefg,\" fur fnvq, \"naq frr jurgure vg\nvf znexrq cbvfba be abg.\" puncgre 1,\nqbja gur enoovg-ubyr. \"ohg vg vf ab\nhfr abj,\" gubhtug cbbe nyvpr, \"gb\ncergraq gb or gjb crbcyr! jul, gurerf\nuneqyl rabhtu bs zr yrsg gb znxr bar\nerfcrpgnoyr crefba!\" puncgre 1, qbja\ngur enoovg-ubyr. \"phevbhfre naq\nphevbhfre!\" pevrq nyvpr (fur jnf fb\nzhpu fhecevfrq, gung sbe gur zbzrag\nfur dhvgr sbetbg ubj gb fcrnx tbbq\nratyvfu). puncgre 2, gur cbby bs grnef",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Zorbishian Alien Language",
          "isTest": false,
          "testIn": "17\nuf ime mxx hqdk iqxx fa emk \"pduzw yq,\"\nngf ftq iueq xuffxq mxuoq ime zaf\nsauzs fa pa ftmf uz m tgddk. \"za,\nuxx xaaw rudef,\" etq emup, \"mzp\neqq itqftqd uf ue ymdwqp baueaz\nad zaf.\" otmbfqd 1, paiz ftq\ndmnnuf-taxq. \"ngf uf ue za geq\nzai,\" ftagstf baad mxoq, \"fa bdqfqzp\nfa nq fia bqabxq! itk, ftqdqe tmdpxk\nqzagst ar yq xqrf fa ymwq azq\ndqebqofmnxq bqdeaz!\" otmbbfqd\n1, paiz ftq dmnnuf-taxq. \"ogduageqd\nmzp ogduageqd!\" oduqp mxuoq (etq ime\nea ygot egdbdueqp, ftmf rad ftq\nyayqzf etq cgufq radsaf tai fa ebqmw\nsaap qzsxuet). otmbfqd 2, ftq baax ar\nfqmde",
          "testOut": "uf ime mxx hqdk iqxx fa emk \"pduzw yq,\"\nngf ftq iueq xuffxq mxuoq ime zaf\nsauzs fa pa ftmf uz m tgddk. \"za,\nuxx xaaw rudef,\" etq emup, \"mzp\neqq itqftqd uf ue ymdwqp baueaz\nad zaf.\" otmbfqd 1, paiz ftq\ndmnnuf-taxq. \"ngf uf ue za geq\nzai,\" ftagstf baad mxuoq, \"fa bdqfqzp\nfa nq fia bqabxq! itk, ftqdqe tmdpxk\nqzagst ar yq xqrf fa ymwq azq\ndqebqofmnxq bqdeaz!\" otmbfqd\n1, paiz ftq dmnnuf-taxq. \"ogduageqd\nmzp ogduageqd!\" oduqp mxuoq (etq ime\nea ygot egdbdueqp, ftmf rad ftq\nyayqzf etq cgufq radsaf tai fa ebqmw\nsaap qzsxuet). otmbfqd 2, ftq baax ar\nfqmde",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Example",
          "isTest": true,
          "testIn": "6\nonce upon a little while,\nthe moon came out and began to smile.\nsmile it did all night long,\nuntil the sun arose at dawn.\niit did linger high in broad day light,\nbefore under cloud it dd take flight.",
          "testOut": "once upon a little while,\nthe moon came out and began to smile.\nsmile it did all night long,\nuntil the sun arose at dawn.\nit did linger high in broad day light,\nbefore under cloud it did take flight.",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Example but different",
          "isTest": false,
          "testIn": "7\nonce upon a little while\nthe moon came out and began to smile\nsmile i did all night long\nuntil the sun arose at dawn\nit didd linger high in broad day light\nbefore under cloud it did take flight\npotato",
          "testOut": "once upon a little while\nthe moon came out and began to smile\nsmile it did all night long\nuntil the sun arose at dawn\nit did linger high in broad day light\nbefore under cloud it did take flight\npotato",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "The document length is less than 20 lines and less than 256 characters per line.  \"Words\" consist only of lower case ascii characters from <<a-z>>.  For example {{isn't}} is considered 2 words {{isn}} and {{t}} because the {{'}} cannot be inside a word for this puzzle.",
      "coverBinaryId": 74416129474139,
      "stubGenerator": "read N:int\nloop N read text:string(2048)\nloop N write dont fix it",
      "inputDescription": "<<line 1 :>> integer [[N]] number of lines\n<<next N lines:>> Document lines",
      "solutionLanguage": "Python3",
      "outputDescription": "<<N lines:>> Corrected document lines"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Oh no, the keyboard is sticky and sometimes keys have repeated twice and sometimes keys haven't been activated after pressed.  Not only that but the problem wasn't discovered until after some documents have been written.<br><br>Fortunately, the problem isn't too bad and only happens once in a while.  Instead of retyping all the documents you will write a program to correct the issue.<br><br>Your program will read a document and use the document as both the source to find correct words and to fix words with missing letters or letters that are duplicated by accident. <strong>Preserve the placement of all non-letters, like punctuation.</strong><br><br>For example the following document<br><br><pre style=\"font-family: monospace\">6<br>once upon a little while,<br>the moon came out and began to smile.<br>smile it-did all night long,<br>until the sun arose at dawn.<br>iit-did linger high in broad day light,<br>before under cloud it dd take flight.</pre><br><br>Here we have two examples of <strong>'it'</strong> spelt correctly to fix the one instance of <strong>'iit'</strong><br>and two examples of <strong>'did'</strong> spelt correctly to fix the one instance of <strong>'dd'</strong><br><br>The incorrect word must have less instances than the number of instances the correct word.  Therefore <strong>'did'</strong> is not changed to <strong>'dd'</strong>, because <strong>'did'</strong> has 2 instances and <strong>'dd'</strong> only has 1.<br><br>Incorrect words have either 1 letter doubled (like <strong>'iit'</strong>) or 1 letter missing (like <strong>'dd'</strong>) but not both.  For example 'dii' should not be corrected to 'did' if 'dii' existed in the above document.<br><br>Do not use words that are not in the document, for example do not hard code common English words.  There is no guarantee that the words in the documents are English or any Earthly language.  Also, the documents are precisely crafted such that they will only work if the only vocabulary that is used is from the document itself.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>line 1 :</strong> integer <var>N</var> number of lines<br><strong>next N lines:</strong> Document lines</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>N lines:</strong> Corrected document lines</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">The document length is less than 20 lines and less than 256 characters per line.  &quot;Words&quot; consist only of lower case ascii characters from <strong>a-z</strong>.  For example <const>isn't</const> is considered 2 words <const>isn</const> and <const>t</const> because the <const>'</const> cannot be inside a word for this puzzle.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">1\ndont fix it</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">dont fix it</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 131129931047,
  "avatar": 54970169109216,
  "commentCount": 16,
  "upVotes": 15,
  "downVotes": 2,
  "validateAction": {
    "actionId": 614445,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1639600272626,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}