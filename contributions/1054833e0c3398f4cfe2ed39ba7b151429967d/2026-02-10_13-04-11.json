{
  "id": 105483,
  "activeVersion": 5,
  "score": 4,
  "votableId": 34962835,
  "codingamerId": 4005503,
  "views": 141,
  "commentableId": 34809837,
  "title": "TBR out of control !!!",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "dexi77",
  "publicHandle": "1054833e0c3398f4cfe2ed39ba7b151429967d",
  "codingamerHandle": "cc8189d5a08d47b8e746e11a0b242b9b3055004",
  "lastVersion": {
    "version": 5,
    "autocloseTime": 1728852217120,
    "freezeTime": 1726865017120,
    "data": {
      "title": "TBR out of control !!!",
      "topics": [
        {
          "id": 50,
          "handle": "lists",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Listes",
            "2": "Lists"
          },
          "pageTitle": "Lists: exercises and theory",
          "puzzleCount": 18,
          "parentTopicId": 40,
          "contentDetailsId": 96
        },
        {
          "id": 142,
          "handle": "sorting",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Sorting",
            "2": "Sorting"
          },
          "puzzleCount": 13,
          "parentTopicId": 93
        },
        {
          "id": 73,
          "handle": "strings",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Chaînes de caractères",
            "2": "Strings"
          },
          "pageTitle": "Strings: exercises and theory",
          "puzzleCount": 65,
          "parentTopicId": 41,
          "contentDetailsId": 73
        }
      ],
      "solution": "b = int(input())\nshelf = [input()for _ in range(b)]\ndup = -1\nd={'0':[],'1':[],'2':[],'3':[],'4':[],'5':[],'6':[],'7':[],'8':[],'9':[],'10':[]}\nn = int(input())\nfor i in range(n):\n    book = input().split()\n    if book[-1]=='None':#TBR, need to stay \n        t = ' '.join(book[:-1])\n        if t not in shelf:shelf.append(t)#avoid duplicate\n    else:\n        t = ' '.join(book[:-1])\n        if t in shelf and dup<int(book[-1]):dup=int(book[-1])#to check if fav is a dupplicate\n        else:d[book[-1]].append(t)#avoid duplicate\n#check if fav is a duplicate and add fav \nz = 10\nwhile d[str(z)]==[] and z>=0:\n    z-=1\nif dup<=z:\n    for j in d[str(z)]:shelf.append(j);z-=1\n#check if bookshelf full\nif len(shelf)==n:\n        shelf = sorted(shelf)\n        for z in shelf:print(z)\n        exit()\n#if too much book\nelif len(shelf)>n:print(\"Your TBR is out of control Clara!\");exit()\nelse:#there is enought space\n    temp = shelf.copy()\n    for i in range(z,-1,-1):\n        for j in d[str(i)]: shelf.append(j) \n        if len(shelf)==n:\n            shelf = sorted(shelf)\n            for z in shelf:print(z)\n            exit()\n        elif len(shelf)>n:\n            shelf = sorted(temp)\n            for z in shelf:print(z)\n            exit()\n        else:temp = shelf.copy()",
      "statement": "Clara loves books but she buys books faster than she can read them. Her bookshelf is filled with books and there is no more space available. \nOn her bookshelf Clara has books she hasn't read yet (her TBR pile: to be read) and books she has already read.\nShe ranks her book from 0 to 10, with 0 meaning she hates the book and 10 meaning she loves the book. If the book is part of her TBR, the rank is {{None}}.\n\nUnfortunately, she has bought a few more books and needs to find a place for them. Write a code to help her !\nBe careful, sometimes Clara forgets she already has a book and gets a duplicate!!! \n\nTo get some space, Clara set some rules:\n - All her new books <<need to find a place on her shelf>> (even if she already has it and doesn't like it)\n - She should <<keep her favorite book(s)>>, the one that has/those that share the <<highest ranking>>\n - She should <<keep her TBR books>>\n - She doesn't want to have duplicates on her bookshelf\nTo do so:\n - She removes her least favorite books first, i.e. <<smallest ranking>> as well as the duplicate(s) on her bookshelf before adding the new books (duplicates included)\n - When she removes a book from her bookshelf, <<all the books with the same ranking will be removed>>! Even if it means after the cleaning her bookshelf has some free space\n\nGiven the titles of the [[b]] books ([[title]]) she bought and the [[N]] books composing her bookshelf ([[name]] [[rank]]), find out if she can fit her new books on her shelf.\n\nIf she can do so, print her bookshelf ordered in alphabetical order.\nIf she can't, print {{Your TBR is out of control Clara!}}\n\nPS: <<We consider all the books the same size>>",
      "testCases": [
        {
          "title": "Simple case",
          "isTest": true,
          "testIn": "2\nA court of thorns and roses\nNotre-Dame de Paris\n5\nPowerless 9\nThe scarlet letter 8\nBabbel None\nYellowface 4\nDivine Rivals 5",
          "testOut": "A court of thorns and roses\nBabbel\nNotre-Dame de Paris\nPowerless\nThe scarlet letter",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "2\nA court of thorns and roses\n1984\n5\nPowerless 9\nThe scarlet letter 8\nBabbel None\nYellowface 4\nDivine Rivals 5",
          "testOut": "1984\nA court of thorns and roses\nBabbel\nPowerless\nThe scarlet letter",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Long TBR",
          "isTest": true,
          "testIn": "3\nA court of thorns and roses\nNotre-Dame de Paris\n1984\n11\nThe scarlet letter 8\nBabbel None\nPowerless 9\nHolly None\nForth Wing None\nYellowface None\nDivine Rivals None\nHunger games 8\nThe villa None\nNinth House None\nMoby-dick None",
          "testOut": "Your TBR is out of control Clara!",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "3\nThrone of glass\nNotre-Dame de Paris\n1984\n11\nThe scarlet letter 9\nBabbel None\nPowerless 8\nHolly None\nForth Wing None\nYellowface None\nDivine Rivals None\nHunger games 8\nThe villa None\nNinth House None\nMoby-dick None",
          "testOut": "Your TBR is out of control Clara!",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Small bookshelf",
          "isTest": true,
          "testIn": "1\nThrone of glass\n1\nShadows and Bone 8",
          "testOut": "Your TBR is out of control Clara!",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "1\nShadows and Bone\n1\nThrone of glass 8",
          "testOut": "Your TBR is out of control Clara!",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Duplicate",
          "isTest": true,
          "testIn": "4\nA court of thorns and roses\nMoby-dick\nNotre-Dame de Paris\n1984\n10\nPowerless 9\nThe scarlet letter 8\nBabbel None\nHolly 6\nForth Wing None\nMoby-dick None\nDivine Rivals None\nHunger games None\nThe villa None\nNinth House 7",
          "testOut": "1984\nA court of thorns and roses\nBabbel\nDivine Rivals\nForth Wing\nHunger games\nMoby-dick\nNotre-Dame de Paris\nPowerless\nThe villa",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "4\nA court of thorns and roses\nHeartless\nNotre-Dame de Paris\n1984\n10\nPowerless 9\nThe scarlet letter 8\nBabbel None\nHolly 6\nForth Wing None\nHeartless None\nDivine Rivals None\nHunger games None\nThe villa None\nNinth House 7",
          "testOut": "1984\nA court of thorns and roses\nBabbel\nDivine Rivals\nForth Wing\nHeartless\nHunger games\nNotre-Dame de Paris\nPowerless\nThe villa",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "New space",
          "isTest": true,
          "testIn": "4\nA court of thorns and roses\nHeartless\nNotre-Dame de Paris\n1984\n10\nPowerless 9\nThe scarlet letter 8\nBabbel 6\nHolly 6\nForth Wing 7\nMoby-dick 3\nDivine Rivals 6\nHunger games None\nThe villa 2\nNinth House 7",
          "testOut": "1984\nA court of thorns and roses\nForth Wing\nHeartless\nHunger games\nNinth House\nNotre-Dame de Paris\nPowerless\nThe scarlet letter",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "3\nHeartless\nNotre-Dame de Paris\n1984\n11\nPowerless 9\nThe scarlet letter 8\nEnola Holmes 7\nBabbel 6\nHolly 6\nForth Wing 7\nMoby-dick 3\nDivine Rivals 6\nHunger games None\nThe villa 2\nNinth House 7",
          "testOut": "1984\nEnola Holmes\nForth Wing\nHeartless\nHunger games\nNinth House\nNotre-Dame de Paris\nPowerless\nThe scarlet letter",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Favorite books",
          "isTest": true,
          "testIn": "2\nHeartless\nNotre-Dame de Paris\n4\nPowerless 9\nThe scarlet letter 8\nForth Wing 9\nHunger games None",
          "testOut": "Your TBR is out of control Clara!",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 6",
          "isTest": false,
          "testIn": "2\nHeartless\nTwilight\n4\nPowerless 9\nThe scarlet letter 8\nForth Wing 9\nHunger games None",
          "testOut": "Your TBR is out of control Clara!",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Duplicate is favorite",
          "isTest": true,
          "testIn": "4\nA court of thorns and roses\nPowerless\nNotre-Dame de Paris\n1984\n10\nPowerless 9\nThe scarlet letter 8\nBabbel None\nHolly 6\nForth Wing None\nMoby-dick None\nDivine Rivals None\nHunger games None\nThe villa None\nNinth House 7",
          "testOut": "1984\nA court of thorns and roses\nBabbel\nDivine Rivals\nForth Wing\nHunger games\nMoby-dick\nNotre-Dame de Paris\nPowerless\nThe villa",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 7",
          "isTest": false,
          "testIn": "4\nA court of thorns and roses\nPowerless\nNotre-Dame de Paris\n1984\n10\nPowerless 9\nThe scarlet letter 8\nBabbel None\nHolly 6\nForth Wing None\nHeartless None\nDivine Rivals None\nHunger games None\nThe villa None\nNinth House 7",
          "testOut": "1984\nA court of thorns and roses\nBabbel\nDivine Rivals\nForth Wing\nHeartless\nHunger games\nNotre-Dame de Paris\nPowerless\nThe villa",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Duplicate again...",
          "isTest": true,
          "testIn": "4\nA court of thorns and roses\nMoby-dick\nNotre-Dame de Paris\n1984\n14\nPowerless 9\nThe scarlet letter 8\nBabbel None\nA court of thorns and roses 7\nHolly 6\nForth Wing 7\nYellowface 4\nDivine Rivals 5\nHunger games 8\nThe villa None\nMoby-dick 3\nNinth House 6\nThe martian 8\nCaptive 1",
          "testOut": "1984\nA court of thorns and roses\nBabbel\nDivine Rivals\nForth Wing\nHolly\nHunger games\nMoby-dick\nNinth House\nNotre-Dame de Paris\nPowerless\nThe martian\nThe scarlet letter\nThe villa",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 8",
          "isTest": false,
          "testIn": "4\nA court of thorns and roses\nMoby-dick\nNotre-Dame de Paris\n1984\n14\nPowerless 9\nThe scarlet letter 8\nBabbel None\nHolly 6\nA court of thorns and roses 7\nForth Wing 6\nYellowface 4\nDivine Rivals 5\nHunger games 8\nThe villa None\n1984 4\nNinth House 7\nThe martian 8\nCaptive 1",
          "testOut": "1984\nA court of thorns and roses\nBabbel\nDivine Rivals\nForth Wing\nHolly\nHunger games\nMoby-dick\nNinth House\nNotre-Dame de Paris\nPowerless\nThe martian\nThe scarlet letter\nThe villa",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 9",
          "isTest": true,
          "testIn": "4\nA court of thorns and roses\nMoby-dick\nNotre-Dame de Paris\n1984\n10\nPowerless 9\nThe scarlet letter 8\nBabbel None\nHolly 6\nForth Wing 7\nYellowface 4\nDivine Rivals 5\nHunger games 8\nThe villa None\nNinth House 6",
          "testOut": "1984\nA court of thorns and roses\nBabbel\nForth Wing\nHunger games\nMoby-dick\nNotre-Dame de Paris\nPowerless\nThe scarlet letter\nThe villa",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 9",
          "isTest": false,
          "testIn": "4\nA court of thorns and roses\nMoby-dick\nNotre-Dame de Paris\n1984\n10\nPowerless 9\nThe scarlet letter 8\nBabbel None\nHolly 6\nForth Wing 6\nYellowface 4\nDivine Rivals 5\nHunger games 8\nThe villa None\nNinth House 7",
          "testOut": "1984\nA court of thorns and roses\nBabbel\nHunger games\nMoby-dick\nNinth House\nNotre-Dame de Paris\nPowerless\nThe scarlet letter\nThe villa",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 10",
          "isTest": true,
          "testIn": "4\nA court of thorns and roses\nMoby-dick\nNotre-Dame de Paris\n1984\n11\nPowerless 9\nThe scarlet letter 8\nBabbel None\nHolly 6\nA court of thorns and roses 9\nForth Wing 7\nYellowface 4\nDivine Rivals 5\nHunger games 8\nThe villa None\nNinth House 6",
          "testOut": "1984\nA court of thorns and roses\nBabbel\nForth Wing\nHunger games\nMoby-dick\nNotre-Dame de Paris\nPowerless\nThe scarlet letter\nThe villa",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 10",
          "isTest": false,
          "testIn": "4\nA court of thorns and roses\nMoby-dick\nNotre-Dame de Paris\n1984\n11\nPowerless 9\nThe scarlet letter 8\nBabbel None\nHolly 6\nForth Wing 6\nYellowface 4\nNotre-Dame de Paris 9\nDivine Rivals 5\nHunger games 8\nThe villa None\nNinth House 7",
          "testOut": "1984\nA court of thorns and roses\nBabbel\nHunger games\nMoby-dick\nNinth House\nNotre-Dame de Paris\nPowerless\nThe scarlet letter\nThe villa",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "easy",
      "constraints": "0<=[[rank]]<=10 or {{None}}",
      "coverBinaryId": 129330067859422,
      "stubGenerator": "read b:int\nloop b read title:string(1024)\nread n:int\nloop n read name:string(1024)\nwrite Your TBR is out of control Clara!",
      "inputDescription": "<<Line 1 :>> An integer [[b]] the number of new books\n<<Next [[b]] lines:>> A string [[title]] the title of one of her new books\n<<Next line :>> An integer [[N]] for the number of books in her bookshelf\n<<Next [[N]] lines :>> a string [[name]] [[rank]] for the name and the rank of a book separated by a space, [[name]]  may contain space characters. [[rank]] is always an integer or {{None}}.",
      "solutionLanguage": "Python3",
      "outputDescription": "<<At most [[N]] lines :>> the books composing her bookshelf ordered by alphabetical order (one book per line)\nor \n<<1 line :>> {{Your TBR is out of control Clara!}}"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Clara loves books but she buys books faster than she can read them. Her bookshelf is filled with books and there is no more space available. <br>On her bookshelf Clara has books she hasn't read yet (her TBR pile: to be read) and books she has already read.<br>She ranks her book from 0 to 10, with 0 meaning she hates the book and 10 meaning she loves the book. If the book is part of her TBR, the rank is <const>None</const>.<br><br>Unfortunately, she has bought a few more books and needs to find a place for them. Write a code to help her !<br>Be careful, sometimes Clara forgets she already has a book and gets a duplicate!!! <br><br>To get some space, Clara set some rules:<br> - All her new books <strong>need to find a place on her shelf</strong> (even if she already has it and doesn't like it)<br> - She should <strong>keep her favorite book(s)</strong>, the one that has/those that share the <strong>highest ranking</strong><br> - She should <strong>keep her TBR books</strong><br> - She doesn't want to have duplicates on her bookshelf<br>To do so:<br> - She removes her least favorite books first, i.e. <strong>smallest ranking</strong> as well as the duplicate(s) on her bookshelf before adding the new books (duplicates included)<br> - When she removes a book from her bookshelf, <strong>all the books with the same ranking will be removed</strong>! Even if it means after the cleaning her bookshelf has some free space<br><br>Given the titles of the <var>b</var> books (<var>title</var>) she bought and the <var>N</var> books composing her bookshelf (<var>name</var> <var>rank</var>), find out if she can fit her new books on her shelf.<br><br>If she can do so, print her bookshelf ordered in alphabetical order.<br>If she can't, print <const>Your TBR is out of control Clara!</const><br><br>PS: <strong>We consider all the books the same size</strong></span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1 :</strong> An integer <var>b</var> the number of new books<br><strong>Next <var>b</var> lines:</strong> A string <var>title</var> the title of one of her new books<br><strong>Next line :</strong> An integer <var>N</var> for the number of books in her bookshelf<br><strong>Next <var>N</var> lines :</strong> a string <var>name</var> <var>rank</var> for the name and the rank of a book separated by a space, <var>name</var>  may contain space characters. <var>rank</var> is always an integer or <const>None</const>.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>At most <var>N</var> lines :</strong> the books composing her bookshelf ordered by alphabetical order (one book per line)<br>or <br><strong>1 line :</strong> <const>Your TBR is out of control Clara!</const></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">0&lt;=<var>rank</var>&lt;=10 or <const>None</const></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">2\nA court of thorns and roses\nNotre-Dame de Paris\n5\nPowerless 9\nThe scarlet letter 8\nBabbel None\nYellowface 4\nDivine Rivals 5</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">A court of thorns and roses\nBabbel\nNotre-Dame de Paris\nPowerless\nThe scarlet letter</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 42687553335,
  "avatar": 124931484168591,
  "commentCount": 10,
  "upVotes": 4,
  "downVotes": 0,
  "validateAction": {
    "actionId": 1003382,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1728041096501,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}