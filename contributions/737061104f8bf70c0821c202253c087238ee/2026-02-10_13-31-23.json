{
  "id": 7370,
  "activeVersion": 11,
  "score": 16,
  "votableId": 20109648,
  "codingamerId": 2923506,
  "views": 505,
  "commentableId": 20006757,
  "title": "Lines Of Action",
  "status": "ACCEPTED",
  "type": "PUZZLE_MULTI",
  "nickname": "darkhorse64",
  "publicHandle": "737061104f8bf70c0821c202253c087238ee",
  "codingamerHandle": "c9ebe76a83b33730956eda0534d6cad86053292",
  "lastVersion": {
    "version": 11,
    "autocloseTime": 1636661777740,
    "data": {
      "title": "Lines Of Action",
      "topics": [
        {
          "id": 83,
          "handle": "minimax",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Minimax",
            "2": "Minimax"
          },
          "pageTitle": "Minimax: exercises and theory",
          "puzzleCount": 26,
          "parentTopicId": 42,
          "contentDetailsId": 93
        },
        {
          "id": 92,
          "handle": "MCTS",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Monte Carlo tree search",
            "2": "Monte Carlo tree search"
          },
          "puzzleCount": 15,
          "parentTopicId": 41
        },
        {
          "id": 89,
          "handle": "neural-network",
          "category": "ADVANCED",
          "labelMap": {
            "1": "RÃ©seau de neurones",
            "2": "Neural network"
          },
          "pageTitle": "Neural network: exercises and theory",
          "puzzleCount": 3,
          "parentTopicId": 42,
          "contentDetailsId": 112
        },
        {
          "id": 213,
          "handle": "bitboarding",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Bitboarding",
            "2": "Bitboarding"
          },
          "puzzleCount": 4,
          "parentTopicId": 93
        }
      ],
      "refereeMd5": "2923506/dd25489a9266fe0b4134b6df31cadfeb",
      "testHandle": "8973751cb7da68c326a23d41aa25ef7dd05233",
      "viewerCode": "var Drawer=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";n.r(e),n.d(e,\"Drawer\",(function(){return Nn}));var r={baseUrl:\"https://cdn-games.codingame.com/community/2923506-1632141571549/\",images:{\"b.png\":\"a2d5dce663ba04e2195521468f8e4adcab457df9cca28a5655c1ad5effe7f9a6.png\",\"w.png\":\"005231192d248e0e4229f956a350b1c29abf6105523e29beb9da844c5b6660ba.png\"},sprites:[],fonts:[]};function o(t,e,n){return t<=e?t+(e-t)*n:e+(t-e)*(1-n)}function i(t,e,n){return Math.min(1,Math.max(0,(n-t)/(e-t)))}function a(t,e,n,r,o){return o=o||0,Math.min(n/(t+o),r/(e+o))}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=[],l=[],s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"listen\",value:function(t){if(\"function\"!=typeof t)throw new TypeError(t+\" is not a function\");l.push(t)}},{key:\"push\",value:function(t){c.push(t),l.forEach((function(e){return e(t)}))}}],null&&u(e.prototype,null),n&&u(e,n),t}();function f(t){return(f=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function y(t){var e=\"function\"==typeof Map?new Map:void 0;return function(t){if(null===t||-1===Function.toString.call(t).indexOf(\"[native code]\"))return t;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return h(t,arguments,b(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,t)}(t)}function h(t,e,n){return(h=p()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&d(r,n.prototype),r}).apply(null,arguments)}function p(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,y(Error));var t=function(t){var e=p();return function(){var n,r=b(t);return function(t,e){if(e&&(\"object\"===f(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=b(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,\"Invalid color token: there is no player at index \".concat(n,\". Make sure to use getColorToken() if you want the color of a specific player.\"))).playerIdx=n,o.cause=r,o.name=\"InvalidPlayerColorTokenError\",o}return e}();function g(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function x(t,e,n){return n<1?t:e}var w={type:Number,lerpMethod:function(t,e,n){return null===e?null:o((t={r:(16711680&t)>>16,g:(65280&t)>>8,b:255&t}).r,(e={r:(16711680&e)>>16,g:(65280&e)>>8,b:255&e}).r,n)<<16|o(t.g,e.g,n)<<8|o(t.b,e.b,n)},convert:function(t,e){var n=-(t+1);try{return t<0?e.players[n].color:t}catch(t){return s.push(new m(n)),16777215}}},E={type:String,lerpMethod:x,convert:T},O={type:Number,lerpMethod:function(t,e,n,r){for(;e>t+Math.PI;)e-=2*Math.PI;for(;e<t-Math.PI;)e+=2*Math.PI;return(n=void 0!==r&&Math.abs(e-t)>r?e:t+(e-t)*n)%(2*Math.PI)},convert:function(t){return t*Math.PI/180}},R={type:Number,lerpMethod:x},S=(n={type:function(t){return\"1\"===t},lerpMethod:x},e={type:Number,lerpMethod:function(t,e,n){return e<t?e:o(t,e,n)}},{default:{type:Number,lerpMethod:o},visible:n,rotation:O,skewX:O,skewY:O,fillColor:w,lineColor:w,strokeColor:w,tint:w,animationProgressTime:e,maxWidth:R,mask:R,baseWidth:R,baseHeight:R,image:E,images:E,scaleMode:E,restarted:{type:String,convert:function(t,e,n,r){return t?{date:n.date+r*n.frameDuration}:null},lerpMethod:x},playing:n,duration:R,blendMode:R,loop:n,text:v(v({},E),{},{convert:function(t,e){t=T(t);for(var n=/\\$(\\d)/g,r=n.exec(t),o=\"\",i=0;r;)r[1]<e.players.length&&(o+=t.substring(i,r.index),o+=e.players[+r[1]].name),i=r.index+r[0].length,r=n.exec(t);return o+t.substring(i)}}),textAlign:v(v({},E),{},{convert:function(t){return{0:\"left\",1:\"center\",2:\"right\"}[t]}}),fontFamily:E,fontWeight:E,children:v(v({},E),{},{convert:function(t){return t?t.split(\",\").map((function(t){return+t})):[]}}),points:v(v({},E),{},{convert:function(t){return t?t.split(\",\").map((function(t){return parseInt(t)})):[]},lerpMethod:function(t,e,n){return t.length===e.length?t.map((function(t,r){return o(t,e[r],n)})):x(t,e,n)}})});function T(t){return(t=t.split(\"\\\\'\").join(\"'\")).includes(\" \")||t.includes(\";\")||t.includes(\"\\n\")?t.slice(1,t.length-1):t}function z(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j(t){return(j=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var M=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.defaultState={x:0,y:0,scaleX:1,scaleY:1,skewX:0,skewY:0,zIndex:0,alpha:1,visible:!1,rotation:0,mask:-1},this.states={}}var e,n,r;return e=t,r=[{key:\"createState\",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return P(P({t:t},e),{},{curve:n})}}],(n=[{key:\"init\",value:function(){this.properties=Object.keys(this.defaultState),this.initDisplay(),this.currentState=Object.assign({},this.defaultState),\"object\"===j(this.graphics)&&this.container.addChild(this.graphics)}},{key:\"setHidden\",value:function(t){this.hide=t,this.container.visible=this.currentState.visible&&!this.hide}},{key:\"addState\",value:function(e,n,r){this.states[r]||(this.states[r]=[]);var o=t.createState(e,n.values,n.curve);(n=this.states[r].find((function(t){return t.t===e})))&&0===Object.keys(o.curve).length&&(o.curve=n.curve),n?(A(o)||A(n)||s.push(new Error(\"Different updates for same t \"+e)),Object.assign(n,o)):this.states[r].push(o)}},{key:\"set\",value:function(t,e,n){this.addState(t,e,n)}},{key:\"render\",value:function(t,e,n){var r=this.states[e.number];this.container.visible=!1;var o,a=null,u=1;if(r&&r.length){for(var c=0;c<r.length-1&&r[c].t<t;)c++;if(a=r[c-1],o=r[c],a)u=i(a.t,o.t,t);else{var l=Object.keys(this.states),s=l.indexOf(e.number.toString())-1;for(-1===s&&(s=l.length-1);0<=s&&l[s]>=e.number;)s--;var f=this.states[l[s]]||[];u=!(a=f[f.length-1])&&t>=o.t?(a=o,1):i(0,o.t,t)}}else{for(var y=Object.keys(this.states),h=y.length-1;0<=h&&y[h]>e.number;)h--;null!=(f=this.states[y[h]])?o=a=f[f.length-1]:Object.assign(this.currentState,this.defaultState)}if(a){var p,d={},b=Object.assign({},this.currentState),m=function(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(this.properties);try{for(m.s();!(p=m.n()).done;){var g=p.value,v=(S[g]||S.default).lerpMethod,x=o.curve[g]||function(t){return t},w=v(a[g],o[g],x(u));w!==this.currentState[g]&&(d[g]=!0,b[g]=w)}}catch(t){m.e(t)}finally{m.f()}this.updateDisplay(b,d,n,e,t),Object.assign(this.currentState,b),this.container.visible=this.container._visible,d.children&&(n.mustResetTree=!0,\"function\"==typeof this.postUpdate&&n.updatedBuffers.push(this)),d.zIndex&&(n.mustResort=!0),d.mask&&(n.maskUpdates[this.id]=b.mask),0!==Object.keys(d).length&&this.parent&&this.parent.notifyChange()}}},{key:\"notifyChange\",value:function(){this.parent&&this.parent.notifyChange()}},{key:\"initDisplay\",value:function(){this.container=new PIXI.Container,this.container.zIndex=this.defaultState.zIndex,this.container.id=this.id,this.container._visible=this.defaultState.visible}},{key:\"updateDisplay\",value:function(t,e,n){this.container.zIndex=t.zIndex,this.container.alpha=t.alpha,(e.x||e.y)&&this.container.position.set(t.x*n.toWorldUnits,t.y*n.toWorldUnits),(e.scaleX||e.scaleY)&&this.container.scale.set(t.scaleX||1e-8,t.scaleY||1e-8),this.container.rotation=t.rotation,this.container._visible=t.visible&&!this.hide,this.container.skew.set(t.skewX,t.skewY)}}])&&F(e.prototype,n),r&&F(e,r),t}();function A(t){return Object.keys(t).length===Object.keys(M.createState()).length}function k(t){return(k=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D(t,e,n){return(D=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Y(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var U=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(o,M);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Y(t);return function(t,e){if(e&&(\"object\"===k(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=Y(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),t=r.call(this),Object.assign(t.defaultState,{fillColor:o.defaultFillColor(),lineWidth:o.defaultLineWidth(),lineColor:o.defaultLineColor(),fillAlpha:o.defaultFillAlpha(),lineAlpha:o.defaultLineAlpha(),blendMode:PIXI.BLEND_MODES.NORMAL}),t}return t=o,n=[{key:\"defaultLineWidth\",value:function(){return 0}},{key:\"defaultFillColor\",value:function(){return 16777215}},{key:\"defaultLineColor\",value:function(){return 0}},{key:\"defaultLineAlpha\",value:function(){return 1}},{key:\"defaultFillAlpha\",value:function(){return 1}}],(e=[{key:\"initDisplay\",value:function(){D(Y(o.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Graphics,this.graphics.lineStyle(this.defaultState.lineWidth,this.defaultState.lineColor,this.defaultState.lineAlpha),null!==this.defaultState.fillColor&&this.graphics.beginFill(this.defaultState.fillColor,this.defaultState.fillAlpha)}},{key:\"updateDisplay\",value:function(t,e,n){D(Y(o.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.blendMode=t.blendMode}}])&&I(t.prototype,e),n&&I(t,n),o}();function K(t){return(K=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function W(t,e,n){return(W=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=L(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var H=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(o,U);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=L(t);return function(t,e){if(e&&(\"object\"===K(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=L(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),(t=r.call(this)).defaultState.radius=o.defaultRadius(),t}return t=o,n=[{key:\"defaultRadius\",value:function(){return 100}}],(e=[{key:\"initDisplay\",value:function(){W(L(o.prototype),\"initDisplay\",this).call(this),this.graphics.drawCircle(0,0,this.defaultState.radius),null!==this.defaultState.fillColor&&this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,e,n){W(L(o.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.radius||e.lineColor||e.lineWidth||e.fillColor||e.fillAlpha||e.lineAlpha)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor),this.graphics.drawCircle(0,0,t.radius*n.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}])&&X(t.prototype,e),n&&X(t,n),o}();function G(t){return(G=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N(t,e,n){return(N=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=J(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function J(t){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Q=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(o,U);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=J(t);return function(t,e){if(e&&(\"object\"===G(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=J(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),(t=r.call(this)).defaultState.x2=o.defaultPosition(),t.defaultState.y2=o.defaultPosition(),t}return t=o,n=[{key:\"defaultPosition\",value:function(){return 100}}],(e=[{key:\"initDisplay\",value:function(){N(J(o.prototype),\"initDisplay\",this).call(this)}},{key:\"updateDisplay\",value:function(t,e,n){N(J(o.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.lineWidth||e.lineColor||e.lineAlpha||e.x2||e.y2||e.x||e.y)&&(this.graphics.clear(),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.moveTo(0,0),this.graphics.lineTo(-this.container.x+t.x2*n.toWorldUnits,-this.container.y+t.y2*n.toWorldUnits))}}])&&V(t.prototype,e),n&&V(t,n),o}();function Z(t){return(Z=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function et(t,e,n){return(et=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ot=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(o,U);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rt(t);return function(t,e){if(e&&(\"object\"===Z(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=rt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),t=r.call(this),Object.assign(t.defaultState,{width:o.defaultSideLength(),height:o.defaultSideLength()}),t}return t=o,n=[{key:\"defaultSideLength\",value:function(){return 100}}],(e=[{key:\"initDisplay\",value:function(){et(rt(o.prototype),\"initDisplay\",this).call(this),this.graphics.drawRect(0,0,this.defaultState.width,this.defaultState.height),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,e,n){et(rt(o.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.lineWidth||e.lineColor||e.width||e.height||e.lineAlpha||e.fillColor)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawRect(0,0,t.width*n.toWorldUnits,t.height*n.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}])&&tt(t.prototype,e),n&&tt(t,n),o}();function it(t){return(it=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ut(t,e,n){return(ut=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function ct(t,e){return(ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lt(t){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var st=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ct(t,e)}(o,M);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=lt(t);return function(t,e){if(e&&(\"object\"===it(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=lt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),t=r.call(this),Object.assign(t.defaultState,{anchorX:o.defaultAnchor(),anchorY:o.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215}),t}return t=o,n=[{key:\"defaultAnchor\",value:function(){return 0}}],(e=[{key:\"initDisplay\",value:function(){ut(lt(o.prototype),\"initDisplay\",this).call(this)}},{key:\"updateDisplay\",value:function(t,e,n){ut(lt(o.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.anchor.set(t.anchorX,t.anchorY),this.graphics.blendMode=t.blendMode,this.graphics.tint=t.tint}}])&&at(t.prototype,e),n&&at(t,n),o}();function ft(t){return(ft=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function yt(t,e,n){return(yt=ht()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&pt(r,n.prototype),r}).apply(null,arguments)}function ht(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function pt(t,e){return(pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dt(t){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pt(t,e)}(e,function(t){var e=\"function\"==typeof Map?new Map:void 0;return function(t){if(null===t||-1===Function.toString.call(t).indexOf(\"[native code]\"))return t;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return yt(t,arguments,dt(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),pt(n,t)}(t)}(Error));var t=function(t){var e=ht();return function(){var n,r=dt(t);return function(t,e){if(e&&(\"object\"===ft(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=dt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,'Could not find image: \"'+n+'\". Make sure it is in your assets folder and is spelled correctly.')).image=n,o.cause=r,o.name=\"MissingImageError\",o}return e}();function mt(t){return(mt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vt(t,e,n){return(vt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function xt(t,e){return(xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wt(t){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Et=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xt(t,e)}(r,st);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wt(t);return function(t,e){if(e&&(\"object\"===mt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=wt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{image:null,baseWidth:null,baseHeight:null,scaleMode:\"LINEAR\"}),t.missingTextures={},t}return t=r,(e=[{key:\"updateDisplay\",value:function(t,e,n){if(vt(wt(r.prototype),\"updateDisplay\",this).call(this,t,e,n),e.image)try{null!==t.image?this.graphics.texture=PIXI.Texture.fromFrame(t.image):this.graphics.texture=PIXI.Texture.EMPTY,this.graphics.texture.baseTexture.scaleMode=PIXI.SCALE_MODES[t.scaleMode]}catch(e){this.missingTextures[t.image]||(this.missingTextures[t.image]=!0,s.push(new bt(t.image,e)))}e.baseWidth&&(this.graphics.width=t.baseWidth),e.baseHeight&&(this.graphics.height=t.baseHeight)}}])&&gt(t.prototype,e),r}();function Ot(t){return(Ot=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function St(t,e,n){return(St=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Tt(t,e){return(Tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zt(t){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Pt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tt(t,e)}(r,Et);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=zt(t);return function(t,e){if(e&&(\"object\"===Ot(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=zt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),n.apply(this,arguments)}return t=r,(e=[{key:\"initDisplay\",value:function(){St(zt(r.prototype),\"initDisplay\",this).call(this),null===this.defaultState.image?this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY):this.graphics=PIXI.Sprite.fromFrame(this.defaultState.image)}}])&&Rt(t.prototype,e),r}();function _t(t,e){if(t.width>e)for(;3<t.text.length&&t.width>e;)t.text=t.text.slice(0,-4)+\"...\"}function jt(t){return(jt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mt(t,e,n){return(Mt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=kt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function At(t,e){return(At=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kt(t){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var It=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&At(t,e)}(r,st);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=kt(t);return function(t,e){if(e&&(\"object\"===jt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=kt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{text:\"\",textAlign:\"left\",strokeColor:0,strokeThickness:0,fillColor:0,fontSize:26,fontFamily:\"Lato\",fontWeight:\"normal\",maxWidth:0}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){Mt(kt(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Text(this.defaultState.text,{align:this.defaultState.textAlign,fontSize:this.defaultState.fontSize+\"px\",fontFamily:this.defaultState.fontFamily,fill:this.defaultState.fillColor})}},{key:\"updateDisplay\",value:function(t,e,n){Mt(kt(r.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.style.align=t.textAlign,this.graphics.style.stroke=t.strokeColor,this.graphics.style.strokeThickness=t.strokeThickness,this.graphics.style.fill=t.fillColor,this.graphics.style.fontSize=t.fontSize||1,this.graphics.style.fontFamily=t.fontFamily,this.graphics.style.fontWeight=t.fontWeight,(e.text||e.strokeThickness||e.fontSize||e.fontFamily||e.fontWeight||e.maxWidth||e.maxWidth)&&(this.graphics.text=t.text,t.maxWidth&&_t(this.graphics,t.maxWidth))}}])&&Ft(t.prototype,e),r}();function Dt(t){return(Dt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Ct(t,e,n){return(Ct=Yt()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&Ut(r,n.prototype),r}).apply(null,arguments)}function Yt(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Ut(t,e){return(Ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kt(t){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ut(t,e)}(e,function(t){var e=\"function\"==typeof Map?new Map:void 0;return function(t){if(null===t||-1===Function.toString.call(t).indexOf(\"[native code]\"))return t;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Ct(t,arguments,Kt(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ut(n,t)}(t)}(Error));var t=function(t){var e=Yt();return function(){var n,r=Kt(t);return function(t,e){if(e&&(\"object\"===Dt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=Kt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,'Could not find font: \"'+n+'\". Make sure it is in your assets folder and is spelled correctly.')).font=n,o.cause=r,o.name=\"MissingBitmapFontError\",o}return e}();function Wt(t){return(Wt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lt(t,e,n){return(Lt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Ht(t,e){return(Ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gt(t){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Vt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ht(t,e)}(r,M);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Gt(t);return function(t,e){if(e&&(\"object\"===Wt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=Gt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{text:\"\",textAlign:\"left\",fontSize:26,fontFamily:null,anchorX:st.defaultAnchor(),anchorY:st.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215,maxWidth:0}),t.missingFonts={},t}return t=r,(e=[{key:\"initDisplay\",value:function(){Lt(Gt(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(t,e,n){Lt(Gt(r.prototype),\"updateDisplay\",this).call(this,t,e,n),null!==t.fontFamily?PIXI.extras.BitmapText.fonts[t.fontFamily]?(0===this.graphics.children.length?(this.displayed=new PIXI.extras.BitmapText(\"\",{font:{size:t.fontSize||1,name:t.fontFamily}}),this.graphics.addChild(this.displayed)):this.displayed.font={size:t.fontSize||1,name:t.fontFamily},this.displayed.anchor.set(t.anchorX,t.anchorY),this.displayed.blendMode=t.blendMode,this.displayed.tint=t.tint,this.displayed.align=t.textAlign,(e.text||e.maxWidth||e.fontSize||e.fontFamily)&&(this.displayed.text=t.text,t.maxWidth&&_t(this.displayed,t.maxWidth))):(this.missingFonts[t.fontFamily]||(this.missingFonts[t.fontFamily]=!0,s.push(new Xt(t.fontFamily))),this.graphics.removeChildren()):this.graphics.removeChildren()}}])&&Bt(t.prototype,e),r}();function Nt(t){return(Nt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function $t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qt(t,e,n){return(qt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Jt(t,e){return(Jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qt(t){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Zt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jt(t,e)}(r,M);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qt(t);return function(t,e){if(e&&(\"object\"===Nt(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=Qt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{children:[]}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){qt(Qt(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(t,e,n){qt(Qt(r.prototype),\"updateDisplay\",this).call(this,t,e,n)}},{key:\"childrenContainer\",get:function(){return this.graphics}}])&&$t(t.prototype,e),r}();function te(t){return(te=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function ee(t,e){return(ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ne(t){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var re=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ee(t,e)}(e,Zt);var t=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ne(t);return function(t,e){if(e&&(\"object\"===te(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=ne(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(e);function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),t.apply(this,arguments)}return e}(),oe=null,ie=[];function ae(t){return(ae=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ce(t,e,n){return(ce=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=se(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function le(t,e){return(le=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function se(t){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fe=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&le(t,e)}(r,Zt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=se(t);return function(t,e){if(e&&(\"object\"===ae(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=se(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),n.apply(this,arguments)}return t=r,(e=[{key:\"initDisplay\",value:function(){ce(se(r.prototype),\"initDisplay\",this).call(this),this.buffer=new PIXI.Container,this.gameTexture=null,this.graphics=new PIXI.Sprite,this.needsRender=!0}},{key:\"postUpdate\",value:function(){var t,e;this.needsRender&&(t=this.buffer.getBounds().width,e=this.buffer.getBounds().height,(null==this.gameTexture||this.gameTexture.width<t||this.gameTexture.height<e)&&(t=Math.min(Math.max(t,512),4096),e=Math.min(Math.max(e,512),4096),this.gameTexture=PIXI.RenderTexture.create(t,e),e=this.gameTexture,ie.push(e),this.graphics.texture=this.gameTexture),oe.render(this.buffer,this.gameTexture),this.needsRender=!1)}},{key:\"childrenContainer\",get:function(){return this.buffer}},{key:\"notifyChange\",value:function(){this.needsRender=!0,this.parent&&this.parent.notifyChange()}}])&&ue(t.prototype,e),r}();function ye(t){return(ye=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function he(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function pe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?he(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function de(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function be(t,e,n){return(be=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ge(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function me(t,e){return(me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ge(t){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ve=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&me(t,e)}(r,st);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ge(t);return function(t,e){if(e&&(\"object\"===ye(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=ge(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{images:\"\",loop:!1,duration:1e3,playing:!0,restarted:null,animationProgress:0,date:0}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){be(ge(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY)}},{key:\"addState\",value:function(t,e,n,o){be(ge(r.prototype),\"addState\",this).call(this,t,e,n),n=this.states[n].find((function(e){return e.t===t})),o=o.date+o.frameDuration*t,n.date=o}},{key:\"updateDisplay\",value:function(t,e,n,o,i){if(be(ge(r.prototype),\"updateDisplay\",this).call(this,t,e,n),t.images){if(n=t.images.split(\",\"),0<=t.animationProgress){i=o.date+o.frameDuration*i,i=pe(pe({},t),{},{date:i}),this.computeAnimationProgressTime(t,i),i=Math.floor(n.length*i.animationProgress),n=t.loop?n[i%n.length]:n[i]||n[n.length-1];try{this.graphics.texture=PIXI.Texture.fromFrame(n)}catch(t){s.push(new bt(n,t))}}}else this.graphics.texture=PIXI.Texture.EMPTY}},{key:\"computeAnimationProgressTime\",value:function(t,e){e.restarted&&e.restarted.date===e.date?e.animationProgress=0:(e.animationProgress=t.animationProgress,t.playing&&(e.animationProgress+=(e.date-t.date)/t.duration))}}])&&de(t.prototype,e),r}();function xe(t){return(xe=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function we(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ee(t,e,n){return(Ee=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Re(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Oe(t,e){return(Oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Re(t){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Se=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oe(t,e)}(o,U);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Re(t);return function(t,e){if(e&&(\"object\"===xe(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=Re(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),t=r.call(this),Object.assign(t.defaultState,{width:o.defaultSideLength(),height:o.defaultSideLength(),radius:o.defaultRadius()}),t}return t=o,n=[{key:\"defaultSideLength\",value:function(){return 100}},{key:\"defaultRadius\",value:function(){return 20}}],(e=[{key:\"initDisplay\",value:function(){Ee(Re(o.prototype),\"initDisplay\",this).call(this),this.graphics.drawRoundedRect(0,0,this.defaultState.width,this.defaultState.height,this.defaultState.radius),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,e,n){Ee(Re(o.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.lineWidth||e.lineColor||e.lineAlpha||e.fillColor||e.radius||e.height||e.width)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawRoundedRect(0,0,t.width*n.toWorldUnits,t.height*n.toWorldUnits,t.radius*n.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}])&&we(t.prototype,e),n&&we(t,n),o}();function Te(t){return(Te=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pe(t,e,n){return(Pe=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=je(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function _e(t,e){return(_e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function je(t){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fe=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_e(t,e)}(r,U);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=je(t);return function(t,e){if(e&&(\"object\"===Te(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=je(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{points:[]}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){Pe(je(r.prototype),\"initDisplay\",this).call(this),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,e,n){Pe(je(r.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.lineWidth||e.lineColor||e.lineAlpha||e.fillColor||e.points)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawPolygon(t.points.map((function(t){return t*n.toWorldUnits}))),null!==t.fillColor&&this.graphics.endFill())}}])&&ze(t.prototype,e),r}();function Me(t){return(Me=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ke(t,e,n){return(ke=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=De(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Ie(t,e){return(Ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function De(t){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ce=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ie(t,e)}(r,Et);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=De(t);return function(t,e){if(e&&(\"object\"===Me(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=De(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{tileX:0,tileY:0,tileScaleX:1,tileScaleY:1}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){ke(De(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.extras.TilingSprite(PIXI.Texture.EMPTY)}},{key:\"updateDisplay\",value:function(t,e,n){ke(De(r.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.tilePosition.x=t.tileX,this.graphics.tilePosition.y=t.tileY,this.graphics.tileScale.x=t.tileScaleX,this.graphics.tileScale.y=t.tileScaleY}}])&&Ae(t.prototype,e),r}();function Ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ue=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"create\",value:function(t){var e={C:H,R:ot,L:Q,S:Pt,T:It,X:Vt,G:re,B:fe,A:ve,K:Se,P:Fe,D:Ce}[t];if(!e)throw new Error(\"Exception: entity type not found: \"+t);return new e}}],null&&Ye(e.prototype,null),n&&Ye(e,n),t}();function Ke(t){var e=1.70158,n=0,r=1;return 0===t?0:1==(t/=1)?1:(n=n||.3,e=r<Math.abs(1)?(r=1,n/4):n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*t)*Math.sin((+t-e)*(2*Math.PI)/n)+1)}function Xe(t){return t<.5?2*t*t:(4-2*t)*t-1}function We(t){return Math.pow(t,3)}function Be(t){return 1+Math.pow(t-1,3)}function Le(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function He(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function Ge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ve(t,e,n){return e&&Ge(t.prototype,e),n&&Ge(t,n),t}var Ne={r:\"rotation\",R:\"radius\",X:\"x2\",Y:\"y2\",w:\"width\",h:\"height\",t:\"tint\",f:\"fillColor\",F:\"fillAlpha\",c:\"lineColor\",W:\"lineWidth\",A:\"lineAlpha\",a:\"alpha\",i:\"image\",S:\"strokeThickness\",sc:\"strokeColor\",ff:\"fontFamily\",s:\"fontSize\",fw:\"fontWeight\",T:\"text\",ta:\"textAlign\",ch:\"children\",sx:\"scaleX\",sy:\"scaleY\",ax:\"anchorX\",ay:\"anchorY\",kx:\"skewX\",ky:\"skewY\",v:\"visible\",z:\"zIndex\",b:\"blendMode\",I:\"images\",rs:\"restarted\",p:\"playing\",l:\"loop\",d:\"duration\",bw:\"baseWidth\",bh:\"baseHeight\",ps:\"points\",tx:\"tileX\",ty:\"tileY\",tsx:\"tileScaleX\",tsy:\"tileScaleY\",sm:\"scaleMode\"};n=function(){function t(e,n){He(this,t),this.id=++n.instanceCount,this.type=e[0]}return Ve(t,[{key:\"apply\",value:function(t){var e=Ue.create(this.type);e.id=this.id,t.set(this.id,e)}}]),t}(),E=function(){function t(e,n){var o=(s=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return Le(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}(e,8))[0],i=(e=s[1],s[2]),a=s[3],u=s[4],c=s[5],l=s[6],s=s[7];He(this,t),this.loader=new PIXI.loaders.Loader,\"0\"===i&&(i=PIXI.utils.TextureCache[e].width),\"0\"===a&&(a=PIXI.utils.TextureCache[e].height);for(var f=0<s?s:l,y={frames:{},meta:{image:(r.baseUrl||\"\")+r.images[e]}},h=0;h<l;h++)y.frames[1<l?o+h:o]={frame:{x:i*c+h%f*i,y:a*u+Math.floor(h/f)*a,w:i,h:a},sourceSize:{w:i,h:a},rotated:!1,trimmed:!1};e=\"data:text/json;charset=UTF-8,\"+JSON.stringify(y),PIXI.utils.TextureCache[e+\"_image\"]||this.loader.add(e,{crossOrigin:!0})}return Ve(t,[{key:\"apply\",value:function(){var t=this;if(0<Object.keys(this.loader.resources).length)return new Promise((function(e){t.loader.load(),t.loader.on(\"complete\",e)}))}}]),t}();function $e(t){return function(t){if(Array.isArray(t))return qe(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return qe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function qe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Qe={C:n,U:function(){function t(e,n,r){He(this,t),this.id=+e[0],this.t=+e[1],this.params={},this.curve={};for(var o=2;o<e.length;){var i=Ne[e[o]]||e[o],a=S[i]||S.default,u=a.type(e[o+1]);\"function\"==typeof a.convert&&(u=a.convert(u,n,r,this.t)),a=t.curves[e[o+2]],this.params[i]=u,o+=2,a&&(this.curve[i]=a,o+=1)}}return Ve(t,[{key:\"apply\",value:function(t,e){(t=t.get(this.id)).addState(this.t,{values:this.params,curve:this.curve},e.number,e),t.stateAdded=!0}}],[{key:\"curves\",get:function(){return{_:function(t){return t<1?0:1},\"â«\":Xe,\"ð\":We,\"ð\":Be,\"~\":Ke,\"Î\":function(t){return 1}}}}]),t}(),L:E};function Ze(t,e){for(var n=[],r=\"\",o=0,i=\"\",a=!1;o<t.length;){var u=t[o++];u===e?a?r+=u:(n.push(r),r=\"\"):\"'\"===u&&\"\\\\\"!==i?(a=!a,r+=u):\"\\\\\"===i?r+=\"'\"===u?\"\\\\'\":\"\\\\\"+u:\"\\\\\"!==u&&(r+=u),i=u}return n.push(r),n}var tn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"parse\",value:function(t,e,n){var r,o=[],i=Ze(t,\"\\n\");for(r in i){var a=Qe[i[r][0]];if(!a)throw new Error(\"Unrecognised command : \"+i[r][0]);o=[].concat($e(o),$e(function(t,e,n,r){e=Ze(e,\";\");var o=[];return e.forEach((function(e){return o.push(new t(Ze(e,\" \"),n,r))})),o}(a,i[r].slice(1),e,n)))}return o}}],null&&Je(e.prototype,null),n&&Je(e,n),t}(),en=1920;function nn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function on(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rn(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function an(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var un={};E=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.entities=new Map,this.frames=[],this.loadingAssets=0,this.extrapolationMap={},this.globalData={toWorldUnits:1,mustResetTree:!0,mustResort:!0,maskUpdates:{},updatedBuffers:[],players:[],instanceCount:0},un.entities=this.entities}var e,n,r;return e=t,r=[{key:\"name\",get:function(){return\"entitymodule\"}}],(n=[{key:\"handleFrameData\",value:function(t,e){var n=this;!e||(r=tn.parse(e,this.globalData,t))&&r.forEach((function(e){(e=e.apply(n.entities,t))&&(n.loadingAssets++,e.then((function(){n.loadingAssets--})))}));var r=on({},t);return r.previous=this.frames[this.frames.length-1]||r,this.extrapolate(r),r!==r.previous&&(r.previous.next=r),this.frames.push(r),r}},{key:\"lastElementOf\",value:function(t){return t[t.length-1]}},{key:\"extrapolate\",value:function(t){var e=this,n=t.number,r=t.previous.number;this.entities.forEach((function(o){var i,a;o.stateAdded&&(o.stateAdded=!1,o.states[n]||(o.states[n]=[]),e.extrapolationMap[o.id]||(e.extrapolationMap[o.id]=on({},o.defaultState)),(i=o.states[n]).sort((function(t,e){return t.t-e.t})),i.length&&1===e.lastElementOf(i).t||o.addState(1,{},n,t),a=e.extrapolationMap[o.id],o.states[r]&&r!==n&&(a=o.states[r][o.states[r].length-1]),o.states[n]=i.map((function(t){return t=e.extrapolationMap[o.id]=on(on({},e.extrapolationMap[o.id]),t),\"function\"==typeof o.computeAnimationProgressTime&&o.computeAnimationProgressTime(a,t),a=t})))}))}},{key:\"reinitScene\",value:function(t,e){this.globalData.toPixel=en/e.width*e.oversampling,this.globalData.mustResetTree=!0,un.container=this.container=t,this.entities.forEach((function(t){t.init()}))}},{key:\"sortChildren\",value:function(t){t.children.sort((function(t,e){return t.zIndex===e.zIndex?t.id-e.id:t.zIndex-e.zIndex}))}},{key:\"stillLoading\",value:function(){return 0<this.loadingAssets}},{key:\"updateScene\",value:function(t,e,n){var r=this;if(!this.stillLoading()){for(var o in this.entities.forEach((function(t){return t.render(n,e,r.globalData)})),this.globalData.mustResetTree&&(this.reconstructTree(),this.globalData.mustResetTree=!1,this.globalData.mustResort=!0),this.globalData.mustResort&&(this.resortTree(),this.globalData.mustResort=!1),this.globalData.maskUpdates){var i=this.entities.get(+o);o=this.globalData.maskUpdates[o];i.container.mask=-1===o?null:this.entities.get(o).graphics}var a,u=function(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return nn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nn(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(this.globalData.updatedBuffers);try{for(u.s();!(a=u.n()).done;)a.value.postUpdate()}catch(t){u.e(t)}finally{u.f()}this.globalData.maskUpdates={}}}},{key:\"resortTree\",value:function(){var t=this;this.entities.forEach((function(e){e instanceof Zt&&t.sortChildren(e.childrenContainer)})),this.sortChildren(this.container)}},{key:\"reconstructTree\",value:function(){var t=this;this.container.removeChildren(),this.entities.forEach((function(e){e instanceof Zt&&(e.childrenContainer.removeChildren(),e.currentState.children.forEach((function(n){n=t.entities.get(n),e.childrenContainer.addChild(n.container),n.parent=e})))})),this.entities.forEach((function(e){e.container.parent||t.container.addChild(e.container)}))}},{key:\"handleGlobalData\",value:function(t,e){this.globalData.players=t,t=e.width,e=e.height,this.globalData.toWorldUnits=a(t,e,en,1080),un.toWorldUnits=this.globalData.toWorldUnits,un.hasOwnProperty(\"coeff\")||Object.defineProperty(un,\"coeff\",{get:function(){var t='The \"coeff\" property of GraphicEntityModule\\'s API is deprecated, please use \"toWorldUnits\" instead',e=(new Error).stack;return console.groupCollapsed?(console.groupCollapsed(\"%cDeprecation Warning: %c%s\",\"color:#614108;background:#fffbe6\",\"font-weight:normal;color:#614108;background:#fffbe6\",t),console.warn(e),console.groupEnd()):console.warn(\"Deprecation Warning: \",t),un.toWorldUnits}})}}])&&an(e.prototype,n),r&&an(e,r),t}();function cn(t){return(cn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function ln(t,e,n){return(ln=sn()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&fn(r,n.prototype),r}).apply(null,arguments)}function sn(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function fn(t,e){return(fn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yn(t){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hn=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fn(t,e)}(e,function(t){var e=\"function\"==typeof Map?new Map:void 0;return function(t){if(null===t||-1===Function.toString.call(t).indexOf(\"[native code]\"))return t;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return ln(t,arguments,yn(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),fn(n,t)}(t)}(Error));var t=function(t){var e=sn();return function(){var n,r=yn(t);return function(t,e){if(e&&(\"object\"===cn(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=yn(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,'Could not find toggle: \"'+n+'\". Make sure it is set up correctly in your config.js.')).toggle=n,o.cause=r,o.name=\"MissingToggleError\",o}return e}();function pn(t){return(pn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function dn(t,e,n){return(dn=bn()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&mn(r,n.prototype),r}).apply(null,arguments)}function bn(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function mn(t,e){return(mn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gn(t){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vn=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mn(t,e)}(e,function(t){var e=\"function\"==typeof Map?new Map:void 0;return function(t){if(null===t||-1===Function.toString.call(t).indexOf(\"[native code]\"))return t;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return dn(t,arguments,gn(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),mn(n,t)}(t)}(Error));var t=function(t){var e=bn();return function(){var n,r=gn(t);return function(t,e){if(e&&(\"object\"===pn(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=gn(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(e);function e(n,r,o){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(r=t.call(this,\"(\"+r.keys.toString()+\") have the same value '\"+r.value+\"' in toggle \\\"\"+n+'\". Avoid those duplicates in your config.js.')).toggle=n,r.cause=o,r.name=\"DuplicateToggleValueError\",r}return e}();function xn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function wn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xn(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function En(t,e){if(t){if(\"string\"==typeof t)return On(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?On(t,e):void 0}}function On(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Sn=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.previousFrame={},this.missingToggles={},t.refreshContent=function(){if(n.currentFrame)for(var e in n.currentFrame.registered){var r=un.entities.get(parseInt(e)),o=n.currentFrame.registered[e];null!=(e=t.toggles[o.name])||n.missingToggles[o.name]||(s.push(new hn(o.name)),n.missingToggles[o.name]=!0),r.setHidden(e!==o.state)}},function(){for(var t in Sn.optionValues){var e,n=function(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=En(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(Sn.optionValues[t]);try{for(n.s();!(e=n.n()).done;){var r=e.value;1<r.keys.length&&s.push(new vn(t,r))}}catch(t){n.e(t)}finally{n.f()}}}()}var e,n,r;return e=t,r=[{key:\"refreshContent\",value:function(){}},{key:\"defineToggle\",value:function(e){return function(t){for(var e in Sn.optionValues[t.toggle]=[],t.values)!function(e){var n=t.values[e],r=Sn.optionValues[t.toggle].find((function(t){return t.value===n}));r||Sn.optionValues[t.toggle].push(r={keys:[],value:n}),r.keys.push(e)}(e)}(e),t.toggles[e.toggle]=e.default,e.get=function(){return t.toggles[e.toggle]},e.set=function(n){t.toggles[e.toggle]=n,t.refreshContent()},e}},{key:\"name\",get:function(){return\"toggles\"}}],(n=[{key:\"updateScene\",value:function(e,n,r){this.currentFrame=n,this.currentProgress=r,t.refreshContent()}},{key:\"handleFrameData\",value:function(t,e){var n={};return e&&Object.entries(e).forEach((function(t){var e=(t=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||En(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}(t,2))[0];t[1].match(/\\d+./g).forEach((function(t){var r=t.slice(0,-1);t=\"+\"===t.slice(-1);n[r]={name:e,state:t}}))})),t={registered:wn(wn({},this.previousFrame.registered),n),number:t.number},this.previousFrame=t}},{key:\"reinitScene\",value:function(e,n){t.refreshContent()}}])&&Rn(e.prototype,n),r&&Rn(e,r),t}();function Tn(t){return(Tn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function zn(t,e,n){return(zn=Pn()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&_n(r,n.prototype),r}).apply(null,arguments)}function Pn(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _n(t,e){return(_n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jn(t){return(jn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Sn.toggles={},Sn.optionValues={};var Fn=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_n(t,e)}(e,function(t){var e=\"function\"==typeof Map?new Map:void 0;return function(t){if(null===t||-1===Function.toString.call(t).indexOf(\"[native code]\"))return t;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return zn(t,arguments,jn(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_n(n,t)}(t)}(Error));var t=function(t){var e=Pn();return function(){var n,r=jn(t);return function(t,e){if(e&&(\"object\"===Tn(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=jn(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,'Could not find image: \"'+n+'\". Make sure it is in your assets folder and is spelled correctly.')).image=n,o.cause=r,o.name=\"MissingImageError\",o}return e}();function Mn(t){return function(t){if(Array.isArray(t))return An(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return An(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?An(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function An(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var In=[E,Sn,function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.states=[],this.scores=[],this.globalData={},this.atEnd=!1}var e,n,r;return e=t,r=[{key:\"name\",get:function(){return\"endScreen\"}}],(n=[{key:\"updateScene\",value:function(t,e,n){e.scores&&1===n?this.atEnd=!0:this.atEnd=!1}},{key:\"handleFrameData\",value:function(t,e){var n=null,r=null,o=null;return e&&(n=e[0],r=e[1],o=e[2]),t={number:t.number,scores:n,spriteName:r,displayedText:o},n&&(this.scores=n),r&&(this.spriteName=r),o&&(this.displayedText=o),this.states.push(t),t}},{key:\"reinitScene\",value:function(t,e){this.container=t,this.endLayer=this.createEndScene(this),this.atEnd&&this.initEndScene(),this.container.addChild(this.endLayer)}},{key:\"animateScene\",value:function(t){t=Math.min(32,t),this.atEnd?this.animationEnded||this.renderEndScene(t):(0<this.endTime&&this.destroyEndScene(),this.endTime=0)}},{key:\"destroyEndScene\",value:function(){this.animationEnded=!1,this.endLayer.visible=!1}},{key:\"initEndScene\",value:function(){this.animationEnded=!1,this.endLayer.visible=!0}},{key:\"renderEndScene\",value:function(t){0===this.endTime&&this.initEndScene();var e=i(0,400,this.endTime);this.endLayer.backgroundRanking.alpha=.9*e,e=i(400,1e3,this.endTime),this.endLayer.titleRanking.scale.x=this.endLayer.titleRanking.scale.y=.001+o(10,.8,e),this.endLayer.titleRanking.visible=!!e;for(var n=0;n<this.finishers.length;++n){var r=i(1e3+300*n,1e3+300*n+300,this.endTime);this.finishers[n].alpha=r}this.endTime+=t,1e4<=this.endTime&&(this.animationEnded=!0)}},{key:\"handleGlobalData\",value:function(t,e){this.globalData={players:t,playerCount:t.length}}},{key:\"fitTextInWidth\",value:function(t,e){for(var n=t.text;t.width>e;)n=n.slice(0,-1),t.text=n+\"...\"}},{key:\"generateText\",value:function(t,e,n,r){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;return(r=new PIXI.Text(t,{fontSize:Math.round(e/1.2)+\"px\",fontFamily:\"Lato\",fontWeight:\"bold\",fill:r})).lineHeight=Math.round(e/1.2),\"right\"===n?r.anchor.x=1:\"center\"===n&&(r.anchor.x=.5),null!==o&&this.fitTextInWidth(r,o),r}},{key:\"createFinisher\",value:function(t){var e=new PIXI.Container,n=new PIXI.Container;n.y=0,n.x=0;var r=new PIXI.Graphics;r.beginFill(16777215),r.alpha=.1,r.drawRect(0,0,240,120),n.addChild(r);var o=new PIXI.Graphics;o.lineStyle(1,16777215),o.alpha=.5,o.drawRect(0,0,120,120),n.addChild(o);var i=new PIXI.Sprite(t.player.avatar);return i.width=i.height=120,(r=this.generateText(t.rank.toString(),76,\"center\",t.player.color)).anchor.y=.5,r.position.x=160,r.position.y=56,n.addChild(r),o=\"TH\",t.rank<4&&(o=[\"ST\",\"ND\",\"RD\"][t.rank-1]),(r=this.generateText(o.toString(),34,\"left\",t.player.color)).position.x=184,r.position.y=32,n.addChild(r),(o=new PIXI.Container).addChild(i),n.addChild(o),r=this.globalData.playerCount<=4?1500:500,i=this.generateText(t.player.name.toUpperCase(),50,\"left\",t.player.color,r),o=t.text||(0<=t.score?t.score.toString()+\" points\":\"-\"),r=this.generateText(o,64,\"left\",t.player.color,r),i.x=330,i.y=-4,r.x=330,r.y=50,e.addChild(n),e.addChild(i),e.addChild(r),e}},{key:\"createEndScene\",value:function(){var t=new PIXI.Container,e=new PIXI.Graphics;e.beginFill(0,.85),e.drawRect(0,0,en,1080),e.endFill(),t.backgroundRanking=e;var n=this.spriteName;(n=PIXI.utils.TextureCache[n]?PIXI.Sprite.fromFrame(n):(s.push(new Fn(n)),new PIXI.Sprite(PIXI.Texture.EMPTY))).anchor.x=n.anchor.y=.5,(t.titleRanking=n).position.x=960,n.position.y=230;for(var r=[],o=0;o<this.globalData.playerCount;++o)r.push({score:this.scores[o],text:this.displayedText?this.displayedText[o]:null,player:this.globalData.players[o],rank:0});r.sort((function(t,e){return e.score-t.score})),this.finishers=[];var i,a=new PIXI.Container;for(o=0;o<r.length;++o)r[o].rank=r.filter((function(t){return t.score>r[o].score})).length+1,i=this.createFinisher(r[o]),a.addChild(i),this.finishers.push(i);if(this.finishers.length<=4){var u=Math.max.apply(Math,Mn(this.finishers.map((function(t){return t.width}))));for(o=0;o<this.finishers.length;++o)this.finishers[o].position.x=(en-u)/2,this.finishers[o].position.y=150*o}else{var c=Math.ceil(this.finishers.length/2),l=Math.max.apply(Math,Mn(this.finishers.slice(0,c).map((function(t){return t.width}))));for(o=0;o<this.finishers.length;++o)this.finishers[o].position.x=o<c?960-(l+50):1010,this.finishers[o].position.y=o%c*150}return a.y=400,t.addChild(e),t.addChild(n),t.addChild(a),t.visible=!1,t}}])&&kn(e.prototype,n),r&&kn(e,r),t}()],Dn=[Sn.defineToggle({toggle:\"debugToggle\",title:\"DEBUG\",values:{ON:!0,OFF:!1},default:!0})],Cn={views:['KEY_FRAME 0\\n{\"global\":{\"entitymodule\":{\"width\":1920,\"height\":1080}},\"frame\":{\"duration\":1800,\"entitymodule\":\"CR;R;T;T;R;T;R;T;R;T;R;T;R;T;R;T;R;T;R;T;R;R;R;R;R;R;R;R;T;R;R;R;R;R;R;R;R;T;R;R;R;R;R;R;R;R;T;R;R;R;R;R;R;R;R;T;R;R;R;R;R;R;R;R;T;R;R;R;R;R;R;R;R;T;R;R;R;R;R;R;R;L;L;L;L;L;L;L;L;L;L;L;L;L;L;L;L;L;L;R;R;R;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;K;T;S;S;T;T;K;T;S;S;T;T\\\\nU72 0.4 f 11572851 v 1 w 120 x 1320 y 160 z 1 h 120;11 0.4 f 11572851 v 1 w 120 x 960 y 880 z 1 h 120;17 0.4 f 11572851 v 1 w 120 x 1320 y 880 z 1 h 120;21 0.4 f 13812392 v 1 w 120 x 600 y 760 z 1 h 120;23 0.4 f 13812392 v 1 w 120 x 840 y 760 z 1 h 120;31 0.4 f 13812392 v 1 w 120 x 720 y 640 z 1 h 120;114 0.4 bw 100 i w.png v 1 x 1330 y 530 bh 100;66 0.4 f 13812392 v 1 w 120 x 600 y 160 z 1 h 120;124 0.4 bw 100 i b.png v 1 x 1210 y 50 bh 100;40 0.4 f 13812392 v 1 w 120 x 720 y 520 z 1 h 120;119 0.4 bw 100 i b.png v 1 x 1090 y 890 bh 100;125 0.4 bw 100 i w.png v 1 x 490 y 170 bh 100;33 0.4 f 13812392 v 1 w 120 x 960 y 640 z 1 h 120;13 0.4 f 11572851 v 1 w 120 x 1080 y 880 z 1 h 120;43 0.4 f 13812392 v 1 w 120 x 1080 y 520 z 1 h 120;46 0.4 f 11572851 v 1 w 120 x 480 y 400 z 1 h 120;62 0.4 f 13812392 v 1 w 120 x 1200 y 280 z 1 h 120;111 0.4 bw 100 i b.png v 1 x 850 y 890 bh 100;121 0.4 bw 100 i w.png v 1 x 490 y 290 bh 100;34 0.4 f 13812392 v 1 w 120 x 1080 y 640 z 1 h 120;24 0.4 f 13812392 v 1 w 120 x 960 y 760 z 1 h 120;75 0.4 f 11572851 v 1 w 120 x 600 y 40 z 1 h 120;19 0.4 f 11572851 v 1 w 120 x 480 y 760 z 1 h 120;126 0.4 bw 100 i w.png v 1 x 1330 y 170 bh 100;115 0.4 bw 100 i b.png v 1 x 970 y 890 bh 100;41 0.4 f 13812392 v 1 w 120 x 840 y 520 z 1 h 120;108 0.4 bw 100 i b.png v 1 x 730 y 50 bh 100;30 0.4 f 13812392 v 1 w 120 x 600 y 640 z 1 h 120;64 0.4 f 11572851 v 1 w 120 x 480 y 160 z 1 h 120;77 0.4 f 11572851 v 1 w 120 x 840 y 40 z 1 h 120;104 0.4 bw 100 i b.png v 1 x 610 y 50 bh 100;9 0.4 f 11572851 v 1 w 120 x 840 y 880 z 1 h 120;48 0.4 f 13812392 v 1 w 120 x 600 y 400 z 1 h 120;52 0.4 f 13812392 v 1 w 120 x 1080 y 400 z 1 h 120;49 0.4 f 13812392 v 1 w 120 x 720 y 400 z 1 h 120;79 0.4 f 11572851 v 1 w 120 x 1080 y 40 z 1 h 120;39 0.4 f 13812392 v 1 w 120 x 600 y 520 z 1 h 120;5 0.4 f 11572851 v 1 w 120 x 600 y 880 z 1 h 120;57 0.4 f 13812392 v 1 w 120 x 600 y 280 z 1 h 120;81 0.4 f 11572851 v 1 w 120 x 1320 y 40 z 1 h 120;27 0.4 f 11572851 v 1 w 120 x 1320 y 760 z 1 h 120;78 0.4 f 11572851 v 1 w 120 x 960 y 40 z 1 h 120;32 0.4 f 13812392 v 1 w 120 x 840 y 640 z 1 h 120;112 0.4 bw 100 i b.png v 1 x 850 y 50 bh 100;68 0.4 f 13812392 v 1 w 120 x 840 y 160 z 1 h 120;60 0.4 f 13812392 v 1 w 120 x 960 y 280 z 1 h 120;106 0.4 bw 100 i w.png v 1 x 1330 y 770 bh 100;120 0.4 bw 100 i b.png v 1 x 1090 y 50 bh 100;123 0.4 bw 100 i b.png v 1 x 1210 y 890 bh 100;59 0.4 f 13812392 v 1 w 120 x 840 y 280 z 1 h 120;103 0.4 bw 100 i b.png v 1 x 610 y 890 bh 100;70 0.4 f 13812392 v 1 w 120 x 1080 y 160 z 1 h 120;69 0.4 f 13812392 v 1 w 120 x 960 y 160 z 1 h 120;73 0.4 f 11572851 v 1 w 120 x 480 y 40 z 1 h 120;2 0.4 f 11572851 v 1 w 120 x 480 y 880 z 1 h 120;109 0.4 bw 100 i w.png v 1 x 490 y 650 bh 100;122 0.4 bw 100 i w.png v 1 x 1330 y 290 bh 100;118 0.4 bw 100 i w.png v 1 x 1330 y 410 bh 100;25 0.4 f 13812392 v 1 w 120 x 1080 y 760 z 1 h 120;26 0.4 f 13812392 v 1 w 120 x 1200 y 760 z 1 h 120;50 0.4 f 13812392 v 1 w 120 x 840 y 400 z 1 h 120;55 0.4 f 11572851 v 1 w 120 x 480 y 280 z 1 h 120;51 0.4 f 13812392 v 1 w 120 x 960 y 400 z 1 h 120;28 0.4 f 11572851 v 1 w 120 x 480 y 640 z 1 h 120;37 0.4 f 11572851 v 1 w 120 x 480 y 520 z 1 h 120;110 0.4 bw 100 i w.png v 1 x 1330 y 650 bh 100;22 0.4 f 13812392 v 1 w 120 x 720 y 760 z 1 h 120;71 0.4 f 13812392 v 1 w 120 x 1200 y 160 z 1 h 120;116 0.4 bw 100 i b.png v 1 x 970 y 50 bh 100;58 0.4 f 13812392 v 1 w 120 x 720 y 280 z 1 h 120;36 0.4 f 11572851 v 1 w 120 x 1320 y 640 z 1 h 120;117 0.4 bw 100 i w.png v 1 x 490 y 410 bh 100;80 0.4 f 11572851 v 1 w 120 x 1200 y 40 z 1 h 120;44 0.4 f 13812392 v 1 w 120 x 1200 y 520 z 1 h 120;54 0.4 f 11572851 v 1 w 120 x 1320 y 400 z 1 h 120;53 0.4 f 13812392 v 1 w 120 x 1200 y 400 z 1 h 120;63 0.4 f 11572851 v 1 w 120 x 1320 y 280 z 1 h 120;15 0.4 f 11572851 v 1 w 120 x 1200 y 880 z 1 h 120;67 0.4 f 13812392 v 1 w 120 x 720 y 160 z 1 h 120;61 0.4 f 13812392 v 1 w 120 x 1080 y 280 z 1 h 120;42 0.4 f 13812392 v 1 w 120 x 960 y 520 z 1 h 120;113 0.4 bw 100 i w.png v 1 x 490 y 530 bh 100;35 0.4 f 13812392 v 1 w 120 x 1200 y 640 z 1 h 120;76 0.4 f 11572851 v 1 w 120 x 720 y 40 z 1 h 120;105 0.4 bw 100 i w.png v 1 x 490 y 770 bh 100;107 0.4 bw 100 i b.png v 1 x 730 y 890 bh 100;7 0.4 f 11572851 v 1 w 120 x 720 y 880 z 1 h 120;45 0.4 f 11572851 v 1 w 120 x 1320 y 520 z 1 h 120;126 0.8 z 3;106 0.8 z 3;115 0.8 z 3;120 0.8 z 3;123 0.8 z 3;117 0.8 z 3;108 0.8 z 3;103 0.8 z 3;114 0.8 z 3;113 0.8 z 3;124 0.8 z 3;104 0.8 z 3;109 0.8 z 3;119 0.8 z 3;125 0.8 z 3;105 0.8 z 3;122 0.8 z 3;118 0.8 z 3;107 0.8 z 3;111 0.8 z 3;121 0.8 z 3;110 0.8 z 3;112 0.8 z 3;116 0.8 z 3;18 1 f 16711422 v 1 ff Verdana x 1370 y 1010 s 40 T h;137 1 f 16777215 v 1 ax 0.5 x 1720 y 590 s 40 T ;6 1 f 16711422 v 1 ff Verdana x 650 y 1010 s 40 T b;47 1 f 16711422 v 1 ff Verdana x 420 y 440 s 40 T 5;93 1 f 0 v 1 x 720 y 40 Y 1000 X 720 W 3 z 3;87 1 f 0 v 1 x 480 y 640 Y 640 X 1440 W 3 z 3;132 1 f 16777215 v 1 ax 0.5 x 200 y 660 s 36 T ;136 1 bw 100 i w.png v 1 x 1670 y 470 bh 100;129 1 bw 100 i $0 v 1 ax 0.5 x 200 y 320 bh 100;94 1 f 0 v 1 x 840 y 40 Y 1000 X 840 W 3 z 3;127 1 f 16777215 v 1 a 0.15 w 300 x 50 y 200 W 4 h 600;20 1 f 16711422 v 1 ff Verdana x 420 y 800 s 40 T 2;56 1 f 16711422 v 1 ff Verdana x 420 y 320 s 40 T 6;98 1 f 0 v 1 x 1320 y 40 Y 1000 X 1320 W 3 z 3;100 1 f 8298178 v 1 w 120 x -120 Î y -120 F 0.75 h 120 z 2;14 1 f 16711422 v 1 ff Verdana x 1130 y 1010 s 40 T f;130 1 bw 100 i b.png v 1 x 150 y 470 bh 100;133 1 f 16777215 v 1 a 0.15 w 300 x 1570 y 200 W 4 h 600;84 1 f 0 v 1 x 480 y 280 Y 280 X 1440 W 3 z 3;85 1 f 0 v 1 x 480 y 400 Y 400 X 1440 W 3 z 3;134 1 f 16777215 v 1 ax 0.5 x 1720 y 210 s 42 T $1;99 1 f 0 v 1 x 1440 y 40 Y 1000 X 1440 W 3 z 3;4 1 f 16711422 v 1 ff Verdana x 530 y 1010 s 40 T a;74 1 f 16711422 v 1 ff Verdana x 420 y 80 s 40 T 8;97 1 f 0 v 1 x 1200 y 40 Y 1000 X 1200 W 3 z 3;86 1 f 0 v 1 x 480 y 520 Y 520 X 1440 W 3 z 3;89 1 f 0 v 1 x 480 y 880 Y 880 X 1440 W 3 z 3;65 1 f 16711422 v 1 ff Verdana x 420 y 200 s 40 T 7;135 1 bw 100 i $1 v 1 ax 0.5 x 1720 y 320 bh 100;82 1 f 0 v 1 x 480 y 40 Y 40 X 1440 W 3 z 3;128 1 f 16777215 v 1 ax 0.5 x 200 y 210 s 42 T $0;38 1 f 16711422 v 1 ff Verdana x 420 y 560 s 40 T 4;29 1 f 16711422 v 1 ff Verdana x 420 y 680 s 40 T 3;138 1 f 16777215 v 1 ax 0.5 x 1720 y 660 s 36 T ;3 1 f 16711422 v 1 ff Verdana x 420 y 920 s 40 T 1;8 1 f 16711422 v 1 ff Verdana x 770 y 1010 s 40 T c;131 1 f 16777215 v 1 ax 0.5 x 200 y 590 s 40 T ;91 1 f 0 v 1 x 480 y 40 Y 1000 X 480 W 3 z 3;12 1 f 16711422 v 1 ff Verdana x 1010 y 1010 s 40 T e;16 1 f 16711422 v 1 ff Verdana x 1250 y 1010 s 40 T g;92 1 f 0 v 1 x 600 y 40 Y 1000 X 600 W 3 z 3;90 1 f 0 v 1 x 480 y 1000 Y 1000 X 1440 W 3 z 3;10 1 f 16711422 v 1 ff Verdana x 890 y 1010 s 40 T d;83 1 f 0 v 1 x 480 y 160 Y 160 X 1440 W 3 z 3;96 1 f 0 v 1 x 1080 y 40 Y 1000 X 1080 W 3 z 3;88 1 f 0 v 1 x 480 y 760 Y 760 X 1440 W 3 z 3;102 1 f 16711680 v 1 w 120 x -120 Î y -120 F 0.45 h 120 z 2;1 1 f 8355711 w 1920 v 1 h 1080;95 1 f 0 v 1 x 960 y 40 Y 1000 X 960 W 3 z 3;101 1 f 8298178 v 1 w 120 x -120 Î y -120 F 0.75 h 120 z 2\",\"toggles\":{\"debugToggle\":\"100+101+102+\"}}}\\n','KEY_FRAME 1\\n{\"duration\":956,\"entitymodule\":\"U132 0;131 0 T d8f6;112 0 z 4;100 1 x 840 Î y 40 Î;112 1 x 1090 y 290 z 3;101 1 x 1080 Î y 280 Î\"}\\n','KEY_FRAME 2\\n{\"entitymodule\":\"U137 0 T a4c6;113 0 z 4;138 0;100 1 x 480 Î y 520 Î;113 1 x 730 y 290 z 3;101 1 x 720 Î\"}\\n','KEY_FRAME 3\\n{\"entitymodule\":\"U132 0;131 0 T e8e6;116 0 z 4;100 1 x 960 Î y 40 Î;116 1 y 290 z 3;101 1 x 960 Î\"}\\n','KEY_FRAME 4\\n{\"entitymodule\":\"U137 0 T a3c3;109 0 z 4;138 0;100 1 x 480 Î y 640 Î;109 1 x 730 z 3;101 1 x 720 Î y 640 Î\"}\\n','KEY_FRAME 5\\n{\"duration\":1147,\"entitymodule\":\"U132 0;131 0 T e6h3;116 0 z 4;100 1 x 960 Î y 280 Î;110 1 v 0;116 1 x 1330 y 650 z 3;101 1 x 1320 Î\"}\\n','KEY_FRAME 6\\n{\"duration\":956,\"entitymodule\":\"U137 0 T c3a1;109 0 z 4;138 0;100 1 x 720 Î y 640 Î;109 1 x 490 y 890 z 3;101 1 x 480 Î y 880 Î\"}\\n','KEY_FRAME 7\\n{\"entitymodule\":\"U108 0 z 4;132 0;131 0 T c8a6;100 1 y 40 Î;121 1 v 0;108 1 x 490 y 290 z 3;101 1 y 280 Î\"}\\n','KEY_FRAME 8\\n{\"duration\":700,\"entitymodule\":\"U137 0 T c6b7;113 0 z 4;138 0;100 1 y 280 Î;113 1 x 610 y 170 z 3;101 1 x 600 Î y 160 Î\"}\\n','KEY_FRAME 9\\n{\"duration\":956,\"entitymodule\":\"U132 0;131 0 T f6h4;112 0 z 4;100 1 x 1080 Î;114 1 v 0;112 1 x 1330 y 530 z 3;101 1 x 1320 Î y 520 Î\"}\\n','KEY_FRAME 10\\n{\"entitymodule\":\"U117 0 z 4;137 0 T a5c5;138 0;100 1 x 480 Î y 400 Î;117 1 x 730 z 3;101 1 x 720 Î y 400 Î\"}\\n','KEY_FRAME 11\\n{\"entitymodule\":\"U119 0 z 4;132 0;131 0 T f1f3;119 1 y 650 z 3;100 1 x 1080 Î y 880 Î;101 1 x 1080 Î y 640 Î\"}\\n','KEY_FRAME 12\\n{\"duration\":1306,\"entitymodule\":\"U137 0 T a1a5;109 0 z 4;138 0;100 1 x 480 Î;109 1 y 410 z 3;101 1 x 480 Î y 400 Î\"}\\n','KEY_FRAME 13\\n{\"duration\":956,\"entitymodule\":\"U132 0;131 0 T g8g6;124 0 z 4;100 1 x 1200 Î y 40 Î;124 1 y 290 z 3;101 1 x 1200 Î y 280 Î\"}\\n','KEY_FRAME 14\\n{\"duration\":1147,\"entitymodule\":\"U126 0 z 4;137 0 T h7e7;138 0;126 1 x 970 z 3;100 1 x 1320 Î y 160 Î;101 1 x 960 Î y 160 Î\"}\\n','KEY_FRAME 15\\n{\"duration\":1444,\"entitymodule\":\"U107 0 z 4;132 0;131 0 T c1h1;100 1 x 720 Î y 880 Î;107 1 x 1330 z 3;101 1 x 1320 Î y 880 Î\"}\\n','KEY_FRAME 16\\n{\"duration\":956,\"entitymodule\":\"U106 0 z 4;137 0 T h2f2;138 0;106 1 x 1090 z 3;100 1 x 1320 Î y 760 Î;101 1 x 1080 Î y 760 Î\"}\\n','KEY_FRAME 17\\n{\"duration\":1147,\"entitymodule\":\"U111 0 z 4;132 0;131 0 T d1g4;100 1 x 840 Î y 880 Î;111 1 x 1210 y 530 z 3;101 1 x 1200 Î y 520 Î\"}\\n','KEY_FRAME 18\\n{\"duration\":1306,\"entitymodule\":\"U105 0 z 4;137 0 T a2a6;138 0;105 1 y 290 z 3;100 1 x 480 Î y 760 Î;108 1 v 0;101 1 x 480 Î y 280 Î\"}\\n','KEY_FRAME 19\\n{\"duration\":1147,\"entitymodule\":\"U107 0 z 4;132 0;131 0 T h1e4;100 1 x 1320 Î y 880 Î;107 1 x 970 y 530 z 3;101 1 x 960 Î y 520 Î\"}\\n','KEY_FRAME 20\\n{\"entitymodule\":\"U126 0 z 4;137 0 T e7b4;138 0;126 1 x 610 y 530 z 3;100 1 x 960 Î y 160 Î;101 1 x 600 Î\"}\\n','KEY_FRAME 21\\n{\"entitymodule\":\"U132 0;131 0 T g6g3;124 0 z 4;100 1 x 1200 Î y 280 Î;124 1 y 650 z 3;101 1 x 1200 Î y 640 Î\"}\\n','KEY_FRAME 22\\n{\"duration\":956,\"entitymodule\":\"U122 0 z 4;137 0 T h6f6;138 0;122 1 x 1090 z 3;100 1 x 1320 Î;101 1 x 1080 Î y 280 Î\"}\\n','KEY_FRAME 23\\n{\"duration\":700,\"entitymodule\":\"U123 0 z 4;132 0;131 0 T g1h2;123 1 x 1330 y 770 z 3;100 1 x 1200 Î y 880 Î;101 1 x 1320 Î y 760 Î\"}\\n','KEY_FRAME 24\\n{\"duration\":956,\"entitymodule\":\"U106 0 z 4;137 0 T f2d2;138 0;106 1 x 850 z 3;100 1 x 1080 Î y 760 Î;101 1 x 840 Î\"}\\n','KEY_FRAME 25\\n{\"entitymodule\":\"U103 0 z 4;132 0;131 0 T b1d1;100 1 x 600 Î y 880 Î;103 1 x 850 z 3;101 1 y 880 Î\"}\\n','KEY_FRAME 26\\n{\"duration\":700,\"entitymodule\":\"U106 0 z 4;137 0 T d2c1;138 0;106 1 x 730 y 890 z 3;100 1 x 840 Î y 760 Î;101 1 x 720 Î\"}\\n','KEY_FRAME 27\\n{\"duration\":1147,\"entitymodule\":\"U132 0;131 0 T g3d3;124 0 z 4;100 1 x 1200 Î y 640 Î;124 1 x 850 z 3;101 1 x 840 Î y 640 Î\"}\\n','KEY_FRAME 28\\n{\"duration\":956,\"entitymodule\":\"U105 0 z 4;137 0 T a6c4;138 0;105 1 x 730 y 530 z 3;100 1 x 480 Î y 280 Î;101 1 x 720 Î y 520 Î\"}\\n','KEY_FRAME 29\\n{\"duration\":1147,\"entitymodule\":\"U132 0;131 0 T d3g3;124 0 z 4;100 1 x 840 Î y 640 Î;124 1 x 1210 z 3;101 1 x 1200 Î y 640 Î\"}\\n','KEY_FRAME 30\\n{\"duration\":700,\"entitymodule\":\"U105 0 z 4;137 0 T c4b5;138 0;105 1 x 610 y 410 z 3;100 1 x 720 Î y 520 Î;101 1 x 600 Î y 400 Î\"}\\n','KEY_FRAME 31\\n{\"duration\":1147,\"entitymodule\":\"U115 0 z 4;132 0;131 0 T e1b4;126 1 v 0;115 1 x 610 y 530 z 3;100 1 x 960 Î y 880 Î;101 1 y 520 Î\"}\\n','KEY_FRAME 32\\n{\"duration\":700,\"entitymodule\":\"U105 0 z 4;137 0 T b5c4;138 0;105 1 x 730 y 530 z 3;100 1 x 600 Î y 400 Î;101 1 x 720 Î\"}\\n','KEY_FRAME 33\\n{\"duration\":956,\"entitymodule\":\"U115 0 z 4;132 0;131 0 T b4d2;115 1 x 850 y 770 z 3;100 1 y 520 Î;101 1 x 840 Î y 760 Î\"}\\n','KEY_FRAME 34\\n{\"duration\":1147,\"entitymodule\":\"U137 0 T a5d5;109 0 z 4;138 0;100 1 x 480 Î y 400 Î;109 1 x 850 z 3;101 1 y 400 Î\"}\\n','KEY_FRAME 35\\n{\"duration\":956,\"entitymodule\":\"U111 0 z 4;132 0;131 0 T g4g6;100 1 x 1200 Î y 520 Î;111 1 y 290 z 3;101 1 x 1200 Î y 280 Î\"}\\n','KEY_FRAME 36\\n{\"duration\":1147,\"entitymodule\":\"U137 0 T d5d2;109 0 z 4;138 0;115 1 v 0;100 1 x 840 Î y 400 Î;109 1 y 770 z 3;101 1 x 840 Î y 760 Î\"}\\n','KEY_FRAME 37\\n{\"entitymodule\":\"U107 0 z 4;132 0;131 0 T e4h1;100 1 x 960 Î y 520 Î;107 1 x 1330 y 890 z 3;101 1 x 1320 Î y 880 Î\"}\\n','KEY_FRAME 38\\n{\"duration\":956,\"entitymodule\":\"U122 0 z 4;137 0 T f6d8;138 0;122 1 x 850 y 50 z 3;100 1 x 1080 Î y 280 Î;101 1 x 840 Î y 40 Î\"}\\n','KEY_FRAME 39\\n{\"duration\":1147,\"entitymodule\":\"U103 0 z 4;132 0;131 0 T d1g4;100 1 x 840 Î y 880 Î;103 1 x 1210 y 530 z 3;101 1 x 1200 Î y 520 Î\"}\\n','KEY_FRAME 40\\n{\"duration\":956,\"entitymodule\":\"U137 0 T d2f4;109 0 z 4;138 0;100 1 y 760 Î;109 1 x 1090 y 530 z 3;101 1 x 1080 Î\"}\\n','KEY_FRAME 41\\n{\"duration\":1147,\"entitymodule\":\"U119 0 z 4;132 0;131 0 T f3c6;119 1 x 730 y 290 z 3;100 1 x 1080 Î y 640 Î;101 1 x 720 Î y 280 Î\"}\\n','KEY_FRAME 42\\n{\"duration\":956,\"entitymodule\":\"U137 0 T f4f6;109 0 z 4;138 0;100 1 y 520 Î;109 1 y 290 z 3;101 1 x 1080 Î\"}\\n','KEY_FRAME 43\\n{\"duration\":700,\"entitymodule\":\"U119 0 z 4;132 0;131 0 T c6d7;119 1 x 850 y 170 z 3;100 1 x 720 Î y 280 Î;101 1 x 840 Î y 160 Î\"}\\n','KEY_FRAME 44\\n{\"entitymodule\":\"U137 0 T b7c8;113 0 z 4;138 0;100 1 x 600 Î y 160 Î;113 1 x 730 y 50 z 3;101 1 x 720 Î y 40 Î\"}\\n','KEY_FRAME 45\\n{\"duration\":956,\"entitymodule\":\"U119 0 z 4;132 0;131 0 T d7d5;119 1 y 410 z 3;100 1 x 840 Î;101 1 x 840 Î y 400 Î\"}\\n','KEY_FRAME 46\\n{\"duration\":700,\"entitymodule\":\"U106 0 z 4;137 0 T c1d2;138 0;106 1 x 850 y 770 z 3;100 1 x 720 Î y 880 Î;101 1 y 760 Î\"}\\n','KEY_FRAME 47\\n{\"duration\":956,\"entitymodule\":\"U119 0 z 4;132 0;131 0 T d5f7;119 1 x 1090 y 170 z 3;100 1 x 840 Î y 400 Î;101 1 x 1080 Î y 160 Î\"}\\n','KEY_FRAME 48\\n{\"duration\":700,\"entitymodule\":\"U105 0 z 4;137 0 T c4b5;138 0;105 1 x 610 y 410 z 3;100 1 x 720 Î y 520 Î;101 1 x 600 Î y 400 Î\"}\\n','KEY_FRAME 49\\n{\"duration\":956,\"entitymodule\":\"U132 0;131 0 T h4f2;112 0 z 4;100 1 x 1320 Î;112 1 x 1090 y 770 z 3;101 1 x 1080 Î y 760 Î\"}\\n','KEY_FRAME 50\\n{\"duration\":1306,\"entitymodule\":\"U137 0 T f6f2;109 0 z 4;138 0;100 1 x 1080 Î y 280 Î;112 1 v 0;109 1 y 770 z 3\"}\\n','KEY_FRAME 51\\n{\"duration\":1147,\"entitymodule\":\"U120 0 z 4;132 0;131 0 T f8f5;120 1 y 410 z 3;100 1 y 40 Î;101 1 y 400 Î\"}\\n','KEY_FRAME 52\\n{\"duration\":700,\"entitymodule\":\"U105 0 z 4;137 0 T b5c4;138 0;105 1 x 730 y 530 z 3;100 1 x 600 Î y 400 Î;101 1 x 720 Î y 520 Î\"}\\n','KEY_FRAME 53\\n{\"entitymodule\":\"U111 0 z 4;132 0;131 0 T g6h6;100 1 x 1200 Î y 280 Î;111 1 x 1330 z 3;101 1 x 1320 Î y 280 Î\"}\\n','KEY_FRAME 54\\n{\"duration\":1147,\"entitymodule\":\"U122 0 z 4;137 0 T d8g8;138 0;122 1 x 1210 z 3;100 1 x 840 Î y 40 Î;101 1 x 1200 Î y 40 Î\"}\\n','KEY_FRAME 55\\n{\"entitymodule\":\"U103 0 z 4;132 0;131 0 T g4g1;100 1 x 1200 Î y 520 Î;103 1 y 890 z 3;101 1 y 880 Î\"}\\n','KEY_FRAME 56\\n{\"entitymodule\":\"U137 0 T f2f5;109 0 z 4;138 0;120 1 v 0;100 1 x 1080 Î y 760 Î;109 1 y 410 z 3;101 1 x 1080 Î y 400 Î\"}\\n','KEY_FRAME 57\\n{\"entitymodule\":\"U132 0;131 0 T g3d6;124 0 z 4;100 1 x 1200 Î y 640 Î;124 1 x 850 y 290 z 3;101 1 x 840 Î y 280 Î\"}\\n','KEY_FRAME 58\\n{\"duration\":956,\"entitymodule\":\"U106 0 z 4;137 0 T d2b2;138 0;106 1 x 610 z 3;100 1 x 840 Î y 760 Î;101 1 x 600 Î y 760 Î\"}\\n','KEY_FRAME 59\\n{\"entitymodule\":\"U132 0;131 0 T d6f6;124 0 z 4;100 1 y 280 Î;124 1 x 1090 z 3;101 1 x 1080 Î y 280 Î\"}\\n','KEY_FRAME 60\\n{\"duration\":700,\"entitymodule\":\"U137 0 T f5e4;109 0 z 4;138 0;100 1 x 1080 Î y 400 Î;109 1 x 970 y 530 z 3;101 1 x 960 Î y 520 Î\"}\\n','KEY_FRAME 61\\n{\"duration\":956,\"entitymodule\":\"U132 0;131 0 T f6d4;124 0 z 4;100 1 y 280 Î;124 1 x 850 y 530 z 3;101 1 x 840 Î\"}\\n','KEY_FRAME 62\\n{\"entitymodule\":\"U106 0 z 4;137 0 T b2d2;138 0;106 1 x 850 z 3;100 1 x 600 Î y 760 Î;101 1 y 760 Î\"}\\n','KEY_FRAME 63\\n{\"entitymodule\":\"U103 0 z 4;132 0;131 0 T g1e1;100 1 x 1200 Î y 880 Î;103 1 x 970 z 3;101 1 x 960 Î y 880 Î\"}\\n','KEY_FRAME 64\\n{\"entitymodule\":\"U118 0 z 4;137 0 T h5f5;138 0;100 1 x 1320 Î y 400 Î;118 1 x 1090 z 3;101 1 x 1080 Î y 400 Î\"}\\n','KEY_FRAME 65\\n{\"duration\":1147,\"entitymodule\":\"U119 0 z 4;132 0;131 0 T f7c4;119 1 x 730 y 530 z 3;105 1 v 0;100 1 x 1080 Î y 160 Î;101 1 x 720 Î y 520 Î\"}\\n','KEY_FRAME 66\\n{\"duration\":700,\"entitymodule\":\"U125 0 z 4;137 0 T a7b7;138 0;125 1 x 610 z 3;100 1 x 480 Î;101 1 x 600 Î y 160 Î\"}\\n','KEY_FRAME 67\\n{\"duration\":956,\"entitymodule\":\"U132 0;131 0 T b8d6;104 0 z 4;100 1 x 600 Î y 40 Î;104 1 x 850 y 290 z 3;101 1 x 840 Î y 280 Î\"}\\n','KEY_FRAME 68\\n{\"entitymodule\":\"U118 0 z 4;137 0 T f5h5;138 0;100 1 x 1080 Î y 400 Î;118 1 x 1330 z 3;101 1 x 1320 Î y 400 Î\"}\\n','KEY_FRAME 69\\n{\"entitymodule\":\"U103 0 z 4;132 0;131 0 T e1e3;100 1 x 960 Î y 880 Î;103 1 y 650 z 3;101 1 x 960 Î y 640 Î\"}\\n','KEY_FRAME 70\\n{\"duration\":700,\"entitymodule\":\"U125 0 z 4;137 0 T b7c7;138 0;125 1 x 730 z 3;100 1 x 600 Î y 160 Î;101 1 x 720 Î y 160 Î\"}\\n','KEY_FRAME 71\\n{\"entitymodule\":\"U119 0 z 4;132 0;131 0 T c4b5;119 1 x 610 y 410 z 3;100 1 x 720 Î y 520 Î;101 1 x 600 Î y 400 Î\"}\\n','KEY_FRAME 72\\n{\"duration\":956,\"entitymodule\":\"U117 0 z 4;137 0 T c5a3;138 0;100 1 y 400 Î;117 1 x 490 y 650 z 3;101 1 x 480 Î y 640 Î\"}\\n','KEY_FRAME 73\\n{\"duration\":700,\"entitymodule\":\"U119 0 z 4;132 0;131 0 T b5a6;119 1 x 490 y 290 z 3;100 1 x 600 Î;101 1 y 280 Î\"}\\n','KEY_FRAME 74\\n{\"duration\":956,\"entitymodule\":\"U117 0 z 4;137 0 T a3c5;138 0;100 1 x 480 Î y 640 Î;117 1 x 730 y 410 z 3;101 1 x 720 Î y 400 Î\"}\\n','KEY_FRAME 75\\n{\"duration\":1147,\"entitymodule\":\"U132 0;131 0 T d6g6;104 0 z 4;100 1 x 840 Î y 280 Î;104 1 x 1210 z 3;101 1 x 1200 Î y 280 Î\"}\\n','KEY_FRAME 76\\n{\"duration\":956,\"entitymodule\":\"U122 0 z 4;137 0 T g8e8;138 0;122 1 x 970 z 3;100 1 x 1200 Î y 40 Î;101 1 x 960 Î y 40 Î\"}\\n','KEY_FRAME 77\\n{\"duration\":700,\"entitymodule\":\"U123 0 z 4;132 0;131 0 T h2g1;123 1 x 1210 y 890 z 3;100 1 x 1320 Î y 760 Î;101 1 x 1200 Î y 880 Î\"}\\n','KEY_FRAME 78\\n{\"duration\":956,\"entitymodule\":\"U122 0 z 4;137 0 T e8g8;138 0;122 1 x 1210 z 3;100 1 x 960 Î y 40 Î;101 1 y 40 Î\"}\\n','KEY_FRAME 79\\n{\"duration\":700,\"entitymodule\":\"U132 0;131 0 T d4e5;124 0 z 4;100 1 x 840 Î y 520 Î;124 1 x 970 y 410 z 3;101 1 x 960 Î y 400 Î\"}\\n','KEY_FRAME 80\\n{\"entitymodule\":\"U106 0 z 4;137 0 T d2e1;138 0;106 1 x 970 y 890 z 3;100 1 y 760 Î;101 1 y 880 Î\"}\\n','KEY_FRAME 81\\n{\"duration\":956,\"entitymodule\":\"U111 0 z 4;132 0;131 0 T h6f4;100 1 x 1320 Î y 280 Î;111 1 x 1090 y 530 z 3;101 1 x 1080 Î y 520 Î\"}\\n','KEY_FRAME 82\\n{\"entitymodule\":\"U137 0 T c8a6;113 0 z 4;138 0;119 1 v 0;100 1 x 720 Î y 40 Î;113 1 x 490 y 290 z 3;101 1 x 480 Î y 280 Î\"}\\n','KEY_FRAME 83\\n{\"entitymodule\":\"U103 0 z 4;132 0;131 0 T e3g5;100 1 x 960 Î y 640 Î;103 1 x 1210 y 410 z 3;101 1 x 1200 Î y 400 Î\"}\\n','KEY_FRAME 84\\n{\"duration\":700,\"entitymodule\":\"U122 0 z 4;137 0 T g8h8;138 0;122 1 x 1330 z 3;100 1 x 1200 Î y 40 Î;101 1 x 1320 Î y 40 Î\"}\\n','KEY_FRAME 85\\n{\"duration\":956,\"entitymodule\":\"U111 0 z 4;132 0;131 0 T f4d2;100 1 x 1080 Î y 520 Î;111 1 x 850 y 770 z 3;101 1 x 840 Î y 760 Î\"}\\n','KEY_FRAME 86\\n{\"entitymodule\":\"U122 0 z 4;137 0 T h8f6;138 0;122 1 x 1090 y 290 z 3;100 1 x 1320 Î y 40 Î;101 1 x 1080 Î y 280 Î\"}\\n','KEY_FRAME 87\\n{\"entitymodule\":\"U111 0 z 4;132 0;131 0 T d2f4;100 1 x 840 Î y 760 Î;111 1 x 1090 y 530 z 3;101 1 y 520 Î\"}\\n','KEY_FRAME 88\\n{\"entitymodule\":\"U117 0 z 4;137 0 T c5c3;138 0;100 1 x 720 Î y 400 Î;117 1 y 650 z 3;101 1 x 720 Î y 640 Î\"}\\n','KEY_FRAME 89\\n{\"duration\":700,\"entitymodule\":\"U132 0;131 0 T h3g4;116 0 z 4;100 1 x 1320 Î y 640 Î;116 1 x 1210 y 530 z 3;101 1 x 1200 Î y 520 Î\"}\\n','KEY_FRAME 90\\n{\"entitymodule\":\"U125 0 z 4;137 0 T c7d7;138 0;125 1 x 850 z 3;100 1 x 720 Î y 160 Î;101 1 x 840 Î y 160 Î\"}\\n','KEY_FRAME 91\\n{\"duration\":956,\"entitymodule\":\"U111 0 z 4;132 0;131 0 T f4f2;100 1 x 1080 Î y 520 Î;111 1 y 770 z 3;101 1 x 1080 Î y 760 Î\"}\\n','KEY_FRAME 92\\n{\"duration\":700,\"entitymodule\":\"U137 0 T a6a7;113 0 z 4;138 0;100 1 x 480 Î y 280 Î;113 1 y 170 z 3;101 1 x 480 Î y 160 Î\"}\\n','KEY_FRAME 93\\n{\"duration\":956,\"entitymodule\":\"U107 0 z 4;132 0;131 0 T h1h3;100 1 x 1320 Î y 880 Î;107 1 y 650 z 3;101 1 x 1320 Î y 640 Î\"}\\n','KEY_FRAME 94\\n{\"duration\":1147,\"entitymodule\":\"U125 0 z 4;137 0 T d7g4;138 0;125 1 x 1210 y 530 z 3;100 1 x 840 Î y 160 Î;116 1 v 0;101 1 x 1200 Î y 520 Î\"}\\n','KEY_FRAME 95\\n{\"duration\":700,\"entitymodule\":\"U103 0 z 4;132 0;131 0 T g5h6;100 1 x 1200 Î y 400 Î;103 1 x 1330 y 290 z 3;101 1 x 1320 Î y 280 Î\"}\\n','KEY_FRAME 96\\n{\"entitymodule\":\"U137 0 T a7a6;113 0 z 4;138 0;100 1 x 480 Î y 160 Î;113 1 y 290 z 3;101 1 x 480 Î\"}\\n','KEY_FRAME 97\\n{\"duration\":956,\"entitymodule\":\"U132 0;131 0 T e5g5;124 0 z 4;100 1 x 960 Î y 400 Î;124 1 x 1210 z 3;101 1 x 1200 Î y 400 Î\"}\\n','KEY_FRAME 98\\n{\"duration\":1306,\"entitymodule\":\"U137 0 T a6e6;113 0 z 4;138 0;100 1 x 480 Î y 280 Î;113 1 x 970 z 3;101 1 x 960 Î y 280 Î\"}\\n','KEY_FRAME 99\\n{\"duration\":700,\"entitymodule\":\"U103 0 z 4;132 0;131 0 T h6g7;100 1 x 1320 Î;103 1 x 1210 y 170 z 3;101 1 x 1200 Î y 160 Î\"}\\n','KEY_FRAME 100\\n{\"duration\":1147,\"entitymodule\":\"U122 0 z 4;137 0 T f6c6;138 0;122 1 x 730 z 3;100 1 x 1080 Î;101 1 x 720 Î y 280 Î\"}\\n','KEY_FRAME 101\\n{\"duration\":956,\"entitymodule\":\"U132 0;131 0 T g6e4;104 0 z 4;100 1 x 1200 Î;104 1 x 970 y 530 z 3;109 1 v 0;101 1 x 960 Î y 520 Î\"}\\n','KEY_FRAME 102\\n{\"entitymodule\":\"U122 0 z 4;137 0 T c6a6;138 0;122 1 x 490 z 3;100 1 x 720 Î;101 1 x 480 Î y 280 Î\"}\\n','KEY_FRAME 103\\n{\"entitymodule\":\"U132 0;131 0 T g5e5;124 0 z 4;100 1 x 1200 Î y 400 Î;124 1 x 970 z 3;101 1 x 960 Î y 400 Î\"}\\n','KEY_FRAME 104\\n{\"duration\":1147,\"entitymodule\":\"U125 0 z 4;137 0 T g4d7;138 0;125 1 x 850 y 170 z 3;100 1 y 520 Î;101 1 x 840 Î y 160 Î\"}\\n','KEY_FRAME 105\\n{\"duration\":700,\"entitymodule\":\"U132 0;131 0 T e4f5;104 0 z 4;100 1 x 960 Î;104 1 x 1090 y 410 z 3;101 1 x 1080 Î y 400 Î\"}\\n','KEY_FRAME 106\\n{\"duration\":956,\"entitymodule\":\"U117 0 z 4;137 0 T c3a3;138 0;100 1 x 720 Î y 640 Î;117 1 x 490 z 3;101 1 x 480 Î y 640 Î\"}\\n','KEY_FRAME 107\\n{\"entitymodule\":\"U123 0 z 4;132 0;131 0 T g1e1;106 1 v 0;123 1 x 970 z 3;100 1 x 1200 Î y 880 Î;101 1 x 960 Î y 880 Î\"}\\n','KEY_FRAME 108\\n{\"entitymodule\":\"U122 0 z 4;137 0 T a6a4;138 0;122 1 y 530 z 3;100 1 x 480 Î y 280 Î;101 1 x 480 Î y 520 Î\"}\\n','KEY_FRAME 109\\n{\"entitymodule\":\"U132 0;131 0 T f5f7;104 0 z 4;100 1 x 1080 Î y 400 Î;104 1 y 170 z 3;101 1 x 1080 Î y 160 Î\"}\\n','KEY_FRAME 110\\n{\"entitymodule\":\"U118 0 z 4;137 0 T h5f5;138 0;100 1 x 1320 Î;118 1 x 1090 z 3;101 1 y 400 Î\"}\\n','KEY_FRAME 111\\n{\"duration\":700,\"entitymodule\":\"U111 0 z 4;132 0;131 0 T f2e3;100 1 x 1080 Î y 760 Î;111 1 x 970 y 650 z 3;101 1 x 960 Î y 640 Î\"}\\n','KEY_FRAME 112\\n{\"duration\":1147,\"entitymodule\":\"U117 0 z 4;137 0 T a3d3;138 0;100 1 x 480 Î y 640 Î;117 1 x 850 z 3;101 1 x 840 Î\"}\\n','KEY_FRAME 113\\n{\"duration\":700,\"entitymodule\":\"U103 0 z 4;132 0;131 0 T g7g8;100 1 x 1200 Î y 160 Î;103 1 y 50 z 3;101 1 x 1200 Î y 40 Î\"}\\n','KEY_FRAME 114\\n{\"entitymodule\":\"U122 0 z 4;137 0 T a4a3;138 0;122 1 y 650 z 3;100 1 x 480 Î y 520 Î;101 1 x 480 Î y 640 Î\"}\\n','KEY_FRAME 115\\n{\"duration\":956,\"entitymodule\":\"U132 0;131 0 T e5c5;124 0 z 4;100 1 x 960 Î y 400 Î;124 1 x 730 z 3;101 1 x 720 Î y 400 Î\"}\\n','KEY_FRAME 116\\n{\"duration\":700,\"entitymodule\":\"U137 0 T e6f6;113 0 z 4;138 0;100 1 y 280 Î;113 1 x 1090 z 3;101 1 x 1080 Î y 280 Î\"}\\n','KEY_FRAME 117\\n{\"duration\":956,\"entitymodule\":\"U132 0;131 0 T c5a3;124 0 z 4;122 1 v 0;100 1 x 720 Î y 400 Î;124 1 x 490 y 650 z 3;101 1 x 480 Î y 640 Î\"}\\n','KEY_FRAME 118\\n{\"duration\":1147,\"entitymodule\":\"U118 0 z 4;137 0 T f5c8;138 0;100 1 x 1080 Î;118 1 x 730 y 50 z 3;101 1 x 720 Î y 40 Î\"}\\n','KEY_FRAME 119\\n{\"duration\":700,\"entitymodule\":\"U132 0;131 0 T f7g6;104 0 z 4;100 1 y 160 Î;104 1 x 1210 y 290 z 3;101 1 x 1200 Î y 280 Î\"}\\n','KEY_FRAME 120\\n{\"duration\":1147,\"entitymodule\":\"U118 0 z 4;137 0 T c8f5;138 0;100 1 x 720 Î y 40 Î;118 1 x 1090 y 410 z 3;101 1 x 1080 Î y 400 Î\"}\\n','KEY_FRAME 121\\n{\"duration\":700,\"entitymodule\":\"U103 0 z 4;132 0;131 0 T g8h7;100 1 x 1200 Î;103 1 x 1330 y 170 z 3;101 1 x 1320 Î y 160 Î\"}\\n','KEY_FRAME 122\\n{\"entitymodule\":\"U118 0 z 4;137 0 T f5g5;138 0;100 1 x 1080 Î y 400 Î;118 1 x 1210 z 3;101 1 x 1200 Î y 400 Î\"}\\n','KEY_FRAME 123\\n{\"duration\":956,\"entitymodule\":\"U111 0 z 4;132 0;131 0 T e3c1;100 1 x 960 Î y 640 Î;111 1 x 730 y 890 z 3;101 1 x 720 Î y 880 Î\"}\\n','KEY_FRAME 124\\n{\"duration\":700,\"entitymodule\":\"U125 0 z 4;137 0 T d7c6;138 0;125 1 x 730 y 290 z 3;100 1 x 840 Î y 160 Î;101 1 y 280 Î\"}\\n','KEY_FRAME 125\\n{\"entitymodule\":\"U123 0 z 4;132 0;131 0 T e1f2;123 1 x 1090 y 770 z 3;100 1 x 960 Î y 880 Î;101 1 x 1080 Î y 760 Î\"}\\n','KEY_FRAME 126\\n{\"entitymodule\":\"U118 0 z 4;137 0 T g5h5;138 0;100 1 x 1200 Î y 400 Î;118 1 x 1330 z 3;101 1 x 1320 Î y 400 Î\"}\\n','KEY_FRAME 127\\n{\"entitymodule\":\"U132 0;131 0 T a3b4;124 0 z 4;100 1 x 480 Î y 640 Î;124 1 x 610 y 530 z 3;101 1 x 600 Î y 520 Î\"}\\n','KEY_FRAME 128\\n{\"entitymodule\":\"U137 0 T f6e5;113 0 z 4;138 0;100 1 x 1080 Î y 280 Î;113 1 x 970 y 410 z 3;101 1 x 960 Î y 400 Î\"}\\n','KEY_FRAME 129\\n{\"entitymodule\":\"U132 0;131 0 T b4a4;124 0 z 4;100 1 x 600 Î y 520 Î;124 1 x 490 z 3;101 1 x 480 Î y 520 Î\"}\\n','KEY_FRAME 130\\n{\"duration\":1147,\"entitymodule\":\"U117 0 z 4;137 0 T d3g6;138 0;100 1 x 840 Î y 640 Î;117 1 x 1210 y 290 z 3;104 1 v 0;101 1 x 1200 Î y 280 Î\"}\\n','KEY_FRAME 131\\n{\"duration\":700,\"entitymodule\":\"U132 0;131 0 T a4b4;124 0 z 4;100 1 x 480 Î y 520 Î;124 1 x 610 z 3;101 1 x 600 Î y 520 Î\"}\\n','KEY_FRAME 132\\n{\"entitymodule\":\"U117 0 z 4;137 0 T g6g5;138 0;100 1 x 1200 Î y 280 Î;117 1 y 410 z 3;101 1 x 1200 Î y 400 Î\"}\\n','KEY_FRAME 133\\n{\"entitymodule\":\"U111 0 z 4;132 0;131 0 T c1b1;100 1 x 720 Î y 880 Î;111 1 x 610 z 3;101 1 x 600 Î y 880 Î\"}\\n','KEY_FRAME 134\\n{\"entitymodule\":\"U125 0 z 4;137 0 T c6c5;138 0;125 1 y 410 z 3;100 1 y 280 Î;101 1 x 720 Î y 400 Î\"}\\n','KEY_FRAME 135\\n{\"entitymodule\":\"U111 0 z 4;132 0;131 0 T b1c1;100 1 x 600 Î y 880 Î;111 1 x 730 z 3;101 1 y 880 Î\"}\\n','KEY_FRAME 136\\n{\"duration\":1306,\"entitymodule\":\"U137 0 T e5a5;113 0 z 4;138 0;100 1 x 960 Î y 400 Î;113 1 x 490 z 3;101 1 x 480 Î y 400 Î\"}\\n','KEY_FRAME 137\\n{\"duration\":700,\"entitymodule\":\"U123 0 z 4;132 0;131 0 T f2g3;123 1 x 1210 y 650 z 3;100 1 x 1080 Î y 760 Î;101 1 x 1200 Î y 640 Î\"}\\n','KEY_FRAME 138\\n{\"duration\":956,\"entitymodule\":\"U117 0 z 4;137 0 T g5g7;138 0;100 1 x 1200 Î y 400 Î;117 1 y 170 z 3;101 1 y 160 Î\"}\\n','KEY_FRAME 139\\n{\"duration\":700,\"entitymodule\":\"U123 0 z 4;132 0;131 0 T g3h4;123 1 x 1330 y 530 z 3;100 1 y 640 Î;101 1 x 1320 Î y 520 Î\"}\\n','KEY_FRAME 140\\n{\"entitymodule\":\"U137 0 T a5b6;113 0 z 4;138 0;100 1 x 480 Î y 400 Î;113 1 x 610 y 290 z 3;101 1 x 600 Î y 280 Î\"}\\n','KEY_FRAME 141\\n{\"entitymodule\":\"U111 0 z 4;132 0;131 0 T c1d2;100 1 x 720 Î y 880 Î;111 1 x 850 y 770 z 3;101 1 x 840 Î y 760 Î\"}\\n','KEY_FRAME 142\\n{\"duration\":956,\"entitymodule\":\"U118 0 z 4;137 0 T h5f5;138 0;100 1 x 1320 Î y 400 Î;118 1 x 1090 z 3;101 1 x 1080 Î y 400 Î\"}\\n','KEY_FRAME 143\\n{\"duration\":700,\"entitymodule\":\"U107 0 z 4;132 0;131 0 T h3g3;100 1 y 640 Î;107 1 x 1210 z 3;101 1 x 1200 Î y 640 Î\"}\\n','KEY_FRAME 144\\n{\"entitymodule\":\"U137 0 T b6c7;113 0 z 4;138 0;100 1 x 600 Î y 280 Î;113 1 x 730 y 170 z 3;101 1 x 720 Î y 160 Î\"}\\n','KEY_FRAME 145\\n{\"entitymodule\":\"U107 0 z 4;132 0;131 0 T g3f3;100 1 x 1200 Î y 640 Î;107 1 x 1090 z 3;101 1 x 1080 Î y 640 Î\"}\\n','KEY_FRAME 146\\n{\"duration\":956,\"entitymodule\":\"U118 0 z 4;137 0 T f5h7;138 0;100 1 x 1080 Î y 400 Î;118 1 x 1330 y 170 z 3;103 1 v 0;101 1 x 1320 Î y 160 Î\"}\\n','KEY_FRAME 147\\n{\"duration\":700,\"entitymodule\":\"U107 0 z 4;132 0;131 0 T f3e3;100 1 y 640 Î;107 1 x 970 z 3;101 1 x 960 Î y 640 Î\"}\\n','KEY_FRAME 148\\n{\"duration\":956,\"entitymodule\":\"U125 0 z 4;137 0 T c5e3;138 0;125 1 x 970 y 650 z 3;100 1 x 720 Î y 400 Î;107 1 v 0\"}\\n','KEY_FRAME 149\\n{\"duration\":700,\"entitymodule\":\"U111 0 z 4;132 0;131 0 T d2d1;100 1 x 840 Î y 760 Î;111 1 y 890 z 3;101 1 x 840 Î y 880 Î\"}\\n','KEY_FRAME 150\\n{\"entitymodule\":\"U125 0 z 4;137 0 T e3e2;138 0;125 1 y 770 z 3;100 1 x 960 Î y 640 Î;101 1 x 960 Î y 760 Î\",\"endScreen\":[[0,0],\"logo.png\",[\"Draw\",\"Draw\"]]}\\n'],agents:[{index:0,name:\"Player 0\",avatar:\"https://static.codingame.com/servlet/fileservlet?id=16085734516701&format=viewer_avatar\",agentId:0},{index:1,name:\"Player 1\",avatar:\"https://static.codingame.com/servlet/fileservlet?id=16085846089817&format=viewer_avatar\",agentId:1}]};function Yn(t){return(Yn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Un(t,e,n){return(Un=Kn()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&Xn(r,n.prototype),r}).apply(null,arguments)}function Kn(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Xn(t,e){return(Xn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wn(t){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bn=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xn(t,e)}(e,function(t){var e=\"function\"==typeof Map?new Map:void 0;return function(t){if(null===t||-1===Function.toString.call(t).indexOf(\"[native code]\"))return t;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Un(t,arguments,Wn(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Xn(n,t)}(t)}(Error));var t=function(t){var e=Kn();return function(){var n,r=Wn(t);return function(t,e){if(e&&(\"object\"===Yn(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t)}(this,e?(n=Wn(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(e);function e(n,r){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(n=t.call(this,'<Error in module \"'+n+'\">')).cause=r,n.name=\"ModuleError\",n}return e}();function Ln(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Hn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ln(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Gn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Nn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.toDestroy=[],this.stepByStepAnimateSpeed=null;var n=e||Cn;n?(e=n.views,n=n.agents,this.demo={playerCount:n.length,logo:\"logo.png\",overlayAlpha:.2,agents:n,frames:e},this.demo.agents.forEach((function(e){e.color=t.playerColors[e.index]}))):this.demo=void 0}var e,n,o;return e=t,o=[{key:\"requirements\",get:function(){return{PIXI:\"PIXI4\"}}},{key:\"VERSION\",get:function(){return 2}},{key:\"WIDTH\",get:function(){return en}},{key:\"HEIGHT\",get:function(){return 1080}},{key:\"getGameRatio\",value:function(){return t.WIDTH/t.HEIGHT}},{key:\"playerColors\",get:function(){return[\"#ff1d5c\",\"#22a1e4\",\"#ff8f16\",\"#6ac371\",\"#9975e2\",\"#3ac5ca\",\"#de6ddf\",\"#ff0000\"]}},{key:\"SDK_GAME\",get:function(){return!0}},{key:\"RenderTimeout\",get:function(){return\"localhost\"===window.location.hostname?1/0:2e4}}],(n=[{key:\"getDefaultOverSampling\",value:function(){return 2}},{key:\"handleModuleError\",value:function(t,e){s.push(new Bn(t,e)),console.error(e),s.push({message:'<Module \"'.concat(t,'\" disabled>\\n')}),delete this.modules[t]}},{key:\"instantiateModules\",value:function(){this.modules={};var t,e=function(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return Gn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gn(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(In);try{for(e.s();!(t=e.n()).done;){var n=t.value;try{this.modules[n.name]=new n(r)}catch(t){this.handleModuleError(n.name,t)}}}catch(t){e.e(t)}finally{e.f()}}},{key:\"destroy\",value:function(){this.alreadyLoaded&&(this.renderer.destroy(),this.endCallback=null),this.destroyed=!0}},{key:\"destroyScene\",value:function(t){!function(){for(var t=0,e=ie.length;t<e;++t)ie[t].destroy(!0);ie=[]}()}},{key:\"getGameName\",value:function(){}},{key:\"canSwapPlayers\",value:function(){return!1}},{key:\"addErrorListener\",value:function(t){s.listen(t)}},{key:\"getResources\",value:function(){return Object.assign({baseUrl:\"\",images:{},spines:{},sprites:[],fonts:[],others:[]},r)}},{key:\"getOptions\",value:function(){return Dn?Dn.map((function(t){return Hn({},t)})):[]}},{key:\"setDebug\",value:function(e){this.asyncRenderingTime=t.RenderTimeout}},{key:\"initPreload\",value:function(t,e,n,r,o){t.canvasWidth=r,t.canvasHeight=o,t.loaderProgress=new PIXI.Text(\"100\",{fontSize:.117*o||30,fontFamily:\"Lato\",fontWeight:\"900\",fill:\"white\",align:\"center\"}),t.loaderProgress.anchor.y=1,t.loaderProgress.anchor.x=1.3,t.progress=t.realProgress=n,t.loaderProgress.position.y=o,t.progressBar=new PIXI.Graphics,e.addChild(t.progressBar),e.addChild(t.loaderProgress)}},{key:\"preload\",value:function(t,e,n,r,o,i){t.progress=n}},{key:\"renderPreloadScene\",value:function(t,e){return e=Math.pow(.998,e),t.realProgress=e*t.realProgress+(1-e)*t.progress,t.loaderProgress.text=(100*t.realProgress).toFixed(0),t.loaderProgress.position.x=t.realProgress*t.canvasWidth,t.progressBar.clear(),t.progressBar.beginFill(0,1),t.progressBar.drawRect(0,0,t.canvasWidth*t.realProgress+1,t.canvasHeight),t.progressBar.endFill(),t.progressBar.beginFill(4146246,1),t.progressBar.drawRect(t.canvasWidth*t.realProgress,0,t.canvasWidth,t.canvasHeight),t.progressBar.endFill(),!0}},{key:\"initDefaultScene\",value:function(e,n,r,o){var i=new PIXI.Container;if(e.drawer=this,e.time=0,this.demo){if(this.demo.logo)try{var u=PIXI.Sprite.fromFrame(this.demo.logo);u.position.set(t.WIDTH/2,t.HEIGHT/2),u.anchor.set(.5),u.baseScale=a(u.texture.width,u.texture.height,2*t.WIDTH/3,t.HEIGHT/2,0),i.addChild(u),e.logo=u}catch(n){s.push({cause:n,message:'Missing \"logo.png\" to complete replay.'}),e.logo=new PIXI.Container,e.logo.baseScale=1,i.addChild(e.logo),e.missingLogo=!0}var c=new PIXI.Graphics;e.missingLogo||(c.beginFill(0,this.demo.overlayAlpha||0),c.drawRect(0,0,t.WIDTH+20,t.HEIGHT+20),c.endFill(),c.x-=10,c.y-=10),u=new PIXI.Container;try{this.initDefaultFrames(this.demo.playerCount,this.demo.frames,this.demo.agents),this.preconstructScene(this.scope,n,this.initWidth,this.initHeight),this.initScene(this.scope,u,this.frames,!0),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)}catch(n){s.push({cause:n,message:\"Cannot load demo, you might want to reset the demo\"})}e.demo=u,e.demotime=0,this.currentFrame=-1,n.addChild(u),n.addChild(c),n.addChild(i)}e.updateTime=0,e.frameTime=0}},{key:\"initDefaultFrames\",value:function(e,n,r){var o=this;this.instantiateModules(),this.playerInfo=r.map((function(t,e){return{name:t.name||\"Anonymous\",color:t.color?o.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:t.avatarTexture}})),this.instantiateModules(),this._frames=n.map((function(t){var e,n=t.split(\"\\n\");t=n[0].split(\" \");try{e=JSON.parse(n.slice(1).join(\"\\n\"))}catch(t){e={}}return Hn(Hn({},e),{},{key:\"KEY_FRAME\"===t[0]})})).filter((function(t){return t.key})),this.parseGlobalData(this._frames[0].global),this.playerCount=e,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1,(e=this._frames[0].frame).key=this._frames[0].key,this.frames.push(this.parseFrame(e,this.frames));for(var i=1;i<this._frames.length;++i)this.frames.push(this.parseFrame(this._frames[i],this.frames));this.asyncRenderingTime=t.RenderTimeout}},{key:\"renderDefaultScene\",value:function(t,e){if(e=Math.min(80,e),void 0===this.demo)return!1;this.currentFrame=this.currentFrameTemp||0,t.frameTime+=e,t.updateTime+=e,t.demotime+=e/1e3;var n=Math.max(0,Math.min(1,(t.demotime-1)/.5));t.logo&&(t.logo.alpha=n,t.logo.scale.x=t.logo.scale.y=(3-2*n)*t.logo.baseScale),!t.missingLogo&&1.5<t.demotime&&t.demotime<=2.2?(r=15*Math.max(0,1-(t.demotime-1.5)/.7),t.demo.x=(2*Math.random()-1)*r,t.demo.y=(2*Math.random()-1)*r):t.demo.x=t.demo.y=0;var r=this.getFrameDuration(this.currentFrame);return 30<=t.updateTime&&(t.updateTime-=30,0===this.currentFrame?this.progress=1:this.progress=i(0,r,t.frameTime),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)),t.frameTime>=r&&(t.frameTime-=r,this.currentFrame=(this.currentFrame+1)%this.frames.length),this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],e,!0),this.currentFrameTemp=this.currentFrame,this.currentFrame=-1,!0}},{key:\"endDefaultScene\",value:function(t,e){return!0}},{key:\"parseGlobalData\",value:function(t){for(var e in this.modules){var n=this.modules[e];\"function\"==typeof n.handleGlobalData&&n.handleGlobalData(this.playerInfo,t[e])}}},{key:\"parseFrame\",value:function(t,e){var n,r={data:{},frameInfo:{number:e.length}};if(r.previous=e[e.length-1]||r,r!==r.previous&&(r.previous.next=r),!t.key)return r.previous;for(n in t.duration&&(this.currentFrameDuration=t.duration),r.frameInfo.frameDuration=this.currentFrameDuration,r===r.previous?(r.frameInfo.date=0,r.frameInfo.frameDuration=0):r.frameInfo.date=r.previous.frameInfo.date+r.previous.frameInfo.frameDuration,this.modules){var o=this.modules[n];\"function\"==typeof o.handleFrameData&&(r.data[n]=o.handleFrameData(r.frameInfo,t[n]))}return r}},{key:\"preconstructScene\",value:function(e,n,r,o){e.canvasHeight=o,e.canvasWidth=r,e.time=0,e.endTime=0,e.playerInfo=this.playerInfo,n.scale.x=r/t.WIDTH,n.scale.y=o/t.HEIGHT}},{key:\"initScene\",value:function(t,e,n){for(var r in this.modules){var o=this.modules[r],i=new PIXI.Container;try{o.reinitScene(i,{width:t.canvasWidth,height:t.canvasHeight,oversampling:this.oversampling})}catch(t){this.handleModuleError(r,t)}e.addChild(i)}}},{key:\"updateScene\",value:function(t,e,n,r,o,i,a,u,c){var l,s=n[r];if(!c&&this.stepByStepAnimateSpeed){if(this.checkSteppedToNextFrame(t,s,o))return void this.startAsynchronousAnimation(t,s);if(this.checkSteppedToPreviousFrame(t,s,o))return void this.startAsynchronousAnimation(t,t.currentFrame,!0);t.targetProgress=null}for(l in t.currentFrame=s,t.currentProgress=o,t.reason=a,this.modules){var f=this.modules[l];if(s.data.hasOwnProperty(l))try{f.updateScene(s.previous.data[l],s.data[l],o,i)}catch(t){this.handleModuleError(l,t)}}}},{key:\"startAsynchronousAnimation\",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];t.targetProgress=n?0:1,n||1!==t.currentProgress||(t.currentProgress=0),t.currentFrame=e,t.reverseAsynchronousAnimation=n}},{key:\"checkStepped\",value:function(t,e,n){return t.currentFrame&&0===this.speed&&1===n}},{key:\"checkSteppedToNextFrame\",value:function(t,e,n){return this.checkStepped(t,e,n)&&(t.currentFrame===e.previous&&t.currentFrame!==e||t.currentFrame===e&&t.currentProgress!==n)}},{key:\"checkSteppedToPreviousFrame\",value:function(t,e,n){return this.checkStepped(t,e,n)&&t.currentFrame.previous===e&&t.currentFrame!==e}},{key:\"initEndScene\",value:function(t,e){t.endSceneViewed=!1}},{key:\"destroyEndScene\",value:function(t){}},{key:\"renderEndScene\",value:function(t,e,n){0===t.endTime&&this.initEndScene(t,n),t.endTime+=e,void 0<=t.endTime&&!t.endSceneViewed&&(this.endCallback&&this.endCallback(),t.endSceneViewed=!0)}},{key:\"renderScene\",value:function(t,e,n,r,o,i,a,u){var c,l;for(l in u=Math.min(80,u),this.debugMode||r!==n.length-1||1!==o?(0<t.endTime&&this.destroyEndScene(t),t.endTime=0):this.renderEndScene(t,u,\"Win\"!==a),this.stepByStepAnimateSpeed&&this.isAsynchronousAnimationOngoing(t)&&(o=this.currentFrame,t.reverseAsynchronousAnimation&&o++,a=u/200*this.getFrameSpeed(o)*this.stepByStepAnimateSpeed,t.reverseAsynchronousAnimation?(c=t.currentProgress-a)<=0&&(o=this.currentFrame,t.targetProgress=c=1):(c=t.currentProgress+a,c=Math.min(t.targetProgress,c)),this.updateScene(this.scope,this.question,this.frames,o,c,this.speed,this.reasons[o],!1,!0)),this.modules){var s=this.modules[l];if(\"function\"==typeof s.animateScene)try{s.animateScene(u)}catch(t){this.handleModuleError(l,t)}}return!0}},{key:\"isAsynchronousAnimationOngoing\",value:function(t){return null!=t.targetProgress&&t.currentProgress!==t.targetProgress}},{key:\"getFrameSpeed\",value:function(t){return 500/this.getFrameDuration(t)}},{key:\"getFrameDuration\",value:function(t){return this.frames&&this.frames[t]&&this.frames[t].frameInfo.frameDuration||1e3}},{key:\"enableAsyncRendering\",value:function(e){this.asyncRendering=e,this.asyncRenderingTime=t.RenderTimeout}},{key:\"purge\",value:function(){this.scope={},this.changed=!0,this.container.interactiveChildren=!1,this.container.destroy({texture:!1,children:!0}),delete this.container,this.container=new PIXI.Container}},{key:\"reinitScene\",value:function(){1<=this.loaded&&(this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.preconstructScene(this.scope,this.container,this.initWidth,this.initHeight),this.initScene(this.scope,this.container,this.frames),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame]),this.changed=!0)}},{key:\"reinitDefaultScene\",value:function(){1<=this.loaded&&(this.intro=!0,this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initDefaultScene(this.scope,this.container,this.initWidth,this.initHeight),this.changed=!0)}},{key:\"reinitLoadingScene\",value:function(){this.loaded<1&&(this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initPreload(this.scope,this.container,this.loaded,this.initWidth,this.initHeight))}},{key:\"reinit\",value:function(t){1<=this.loaded&&!this.loading?0<=this.currentFrame&&!this.intro?this.reinitScene():this.intro&&!t||this.reinitDefaultScene():this.reinitLoadingScene()}},{key:\"animate\",value:function(t){var e;this.destroyed||(this.lastRenderTime||(this.lastRenderTime=t),e=t-this.lastRenderTime,this.asynchronousStep&&(e=this.asynchronousStep),this.onBeforeRender&&this.onBeforeRender(),this.loading||(this.loaded<1?this.changed|=this.renderPreloadScene(this.scope,e):(this.changed||this.asyncRendering&&0<this.asyncRenderingTime||this.isAsynchronousAnimationOngoing(this.scope))&&(this.currentFrame<0?this.changed|=this.renderDefaultScene(this.scope,e):this.intro?(this.changed=!0,this.endDefaultScene(this.scope,e)&&(this.intro=!1,this.reinit(!0))):this.changed|=this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame],e)),this.changed&&(this.renderer.render(this.container),this.changed=!1)),this.onAfterRender&&this.onAfterRender(),this.lastRenderTime=t,this.destroyed||requestAnimationFrame(this.animate.bind(this)),this.asyncRenderingTime-=e)}},{key:\"_initFrames\",value:function(t,e){this.instantiateModules(),this._frames=e.map((function(t){var e,n=t[0].split(\" \");try{e=JSON.parse(t.slice(1).join(\"\\n\"))}catch(t){e={}}return Hn(Hn({},e),{},{key:\"KEY_FRAME\"===n[0]})})),this.parseGlobalData(this._frames[0].global),this.playerCount=t,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1,(t=this._frames[0].frame).key=this._frames[0].key,this.frames.push(this.parseFrame(t,this.frames));for(var n=1;n<this._frames.length;++n)this.frames.push(this.parseFrame(this._frames[n],this.frames))}},{key:\"isTurnBasedGame\",value:function(){return!1}},{key:\"initFrames\",value:function(t,e){this.playerInfo&&this.playerInfo.forEach((function(t){t.avatar&&t.avatar.destroy(!0)}));var n=this,r=new PIXI.loaders.Loader(window.location.origin);function o(){n._initFrames(e.length,t),n.loading=!1,n.reinit(!1),i=!0}this.playerInfo=e.map((function(t,e){var o={name:t.name||\"Anonymous\",color:t.color?n.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:null};return null!=t.avatar&&r.add(\"avatar\"+e,t.avatar,{loadType:2,crossOrigin:!0},(function(t){o.avatar=t.texture,PIXI.Texture.addToCache(t.texture,\"$\"+o.index)})),o}));var i=!(this.loading=!0);r.on(\"complete\",o),r.on(\"error\",(function(t){console.warn(t),i||o()})),r.load()}},{key:\"update\",value:function(e,n,r){0<=this.currentFrame&&(this.asyncRenderingTime=t.RenderTimeout,this.changed=!0,this.speed=r,this.currentFrame=e,this.progress=n,1<=this.loaded&&!this.intro&&this.updateScene(this.scope,this.question,this.frames,e,n,this.speed,this.reasons[this.currentFrame]))}},{key:\"parseColor\",value:function(t){if(Array.isArray(t)){for(var e=[],n=0;n<t.length;++n)e.push(this.parseColor(t[n]));return e}return parseInt(t.substring(1),16)}},{key:\"init\",value:function(e,n,r,o,i,a,u){var c,l=this;window.PIXI=t.PIXI||window.PIXI,this.oversampling=i||1,i=function(){0<=l.currentFrame&&(l.changed=!0)},this.canvas=$(e),this.canvas.off(\"mousemove\"),this.canvas.off(\"wheel\"),this.canvas.bind(\"wheel\",i),this.canvas.mousemove(i),o&&(this.colors=this.parseColor(o)),\"ide\"===u&&(this.debugModeSetByUser||(this.debugMode=!0),s.listen((function(t){return console.error(t.cause||t)}))),this.asyncRendering=!0,this.asyncRenderingTime=0,this.destroyed=!1,this.asynchronousStep=null;var f=this;if(this.initWidth=0|n,this.initHeight=0|r,this.endCallback=a||this.endCallback,this.alreadyLoaded)this.changed=!0,this.renderer.resize(this.initWidth,this.initHeight),this.reinit(!0);else{this.alreadyLoaded=!0,this.question=null,this.scope=null,this.currentFrame=-1,this.loaded=0,this.container=new PIXI.Container;var y=this.getResources();this.renderer=this.createRenderer(this.initWidth,this.initHeight,e),a=this.renderer,oe=a;var h,p=new PIXI.loaders.Loader(y.baseUrl);for(c in y.images)p.add(c,y.images[c],{crossOrigin:!0});for(h=0;h<y.sprites.length;++h)p.add(y.sprites[h],{crossOrigin:!0});for(h=0;h<y.fonts.length;++h)p.add(y.fonts[h],{crossOrigin:!0});for(c in y.spines)p.add(c,y.spines[c],{crossOrigin:!0});for(h=0;h<y.others.length;++h)p.add(y.others[h],{crossOrigin:!0});this.demo&&this.demo.agents.forEach((function(t){p.add(\"avatar\"+t.index,t.avatar,{loadType:2,crossOrigin:!0},(function(e){t.avatarTexture=e.texture,PIXI.Texture.addToCache(e.texture,\"$\"+t.index)}))})),f.scope={},e=function(t,e){requestAnimationFrame(f.animate.bind(f)),f.initPreload(f.scope,f.container,f.loaded=0,f.initWidth,f.initHeight)},p.on(\"start\",e),p.on(\"progress\",(function(t,e){t.progress<100&&f.preload(f.scope,f.container,f.loaded=t.progress/100,f.initWidth,f.initHeight,e)})),a=function(){for(var t in y.images)y.images.hasOwnProperty(t)&&p.resources[t].texture&&PIXI.Texture.addToCache(p.resources[t].texture,t);for(t in y.spines)y.spines.hasOwnProperty(t)&&(PIXI.AnimCache[t]=PIXI.AnimCache[y.baseUrl+y.spines[t]]);f.loaded=1,f.reinit(!0),f.changed=!0},p.on(\"complete\",a),p.on(\"error\",(function(t){console.warn(t)})),Object.keys(p.resources).length?p.load():(e(),a())}}},{key:\"createRenderer\",value:function(t,e,n){return PIXI.autoDetectRenderer(t,e,{view:n,clearBeforeRender:!0,preserveDrawingBuffer:!1})}},{key:\"isReady\",value:function(){return 1<=this.loaded}}])&&Vn(e.prototype,n),o&&Vn(e,o),t}()}]).Drawer;",
      "levelParams": {
        "0": {
          "aiCode": "//\r\n// Lines Of Action boss\r\n//\r\n\r\n#pragma GCC optimize(\"O3,inline,omit-frame-pointer,unroll-loops\",\"unsafe-math-optimizations\",\"no-trapping-math\")\r\n#pragma GCC option(\"arch=native\",\"tune=native\",\"no-zero-upper\")\r\n\r\n#include <iostream>\r\n#include <string>\r\n#include <vector>\r\n#include <algorithm>\r\n#include <chrono>\r\n#include <cstring>\r\n\r\nusing namespace std;\r\n\r\n// Timer\r\n\r\nclass Timer\r\n{\r\npublic:\r\n\tvoid start ()\r\n\t{\r\n\t\tstartTime = chrono::high_resolution_clock::now ();\r\n\t}\r\n\tbool isElapsed (int milliseconds) const\r\n\t{\r\n\t\tchrono::milliseconds time_span = chrono::duration_cast<chrono::milliseconds>(chrono::high_resolution_clock::now () - startTime);\r\n\t\treturn time_span.count () >= milliseconds;\r\n\t}\r\n\tfriend ostream& operator<< (ostream& stream, Timer& timer)\r\n\t{\r\n\t\tchrono::milliseconds time_span = chrono::duration_cast<chrono::milliseconds>(chrono::high_resolution_clock::now () - timer.startTime);\r\n\t\tstream << time_span.count ();\r\n\t\treturn stream;\r\n\t}\r\nprivate:\r\n\tchrono::high_resolution_clock::time_point startTime;\r\n};\r\n\r\nconst int boardSize = 8;\r\nconst int Black = 0;\r\nconst int White = 1;\r\nconst int None = 2;\r\nconst int maxScore = 10000;\r\n\r\nbool debug = false;\r\nstruct Cell\r\n{\r\n\tint x, y;\r\n\tint owner;\r\n\tmutable bool visited;\r\n\tvector<Cell*> neighbours;\r\n};\r\n\r\nstruct Move\r\n{\r\n\tMove () {}\r\n\tMove (Cell* start, Cell* end, bool capture) : start (start), end (end), capture (capture) {}\r\n\tbool operator==(const Move& move) const\r\n\t{\r\n\t\treturn start == move.start && end == move.end;\r\n\t}\r\n\tfriend std::ostream& operator<< (std::ostream& stream, const Move& b)\r\n\t{\r\n\t\tstream << (char)('a' + b.start->x) << (char)('1' + 7 - b.start->y) << (char)('a' + b.end->x) << (char)('1' + 7 - b.end->y);\r\n\t\treturn stream;\r\n\t}\r\n\tCell* start;\r\n\tCell* end;\r\n\tbool capture;\r\n};\r\n\r\nclass Game\r\n{\r\npublic:\r\n\r\n\tCell board[boardSize][boardSize];\r\n\tvector<vector<Cell*>> linesOfAction;\r\n\r\n\tvoid start ();\r\n\r\n\tvoid playMove (unsigned int player, const Move& move)\r\n\t{\r\n\t\tmove.start->owner = None;\r\n\t\tmove.end->owner = player;\r\n\t}\r\n\r\n\tvoid undoMove (unsigned int player, const Move& move)\r\n\t{\r\n\t\tmove.start->owner = player;\r\n\t\tmove.end->owner = move.capture ? player ^ 1 : None;\r\n\t}\r\n\r\n\tbool isInside (int x, int y)\r\n\t{\r\n\t\treturn x >= 0 && x < boardSize&& y >= 0 && y < boardSize;\r\n\t}\r\n\r\n\tunsigned int getMoves (unsigned int player, Move moves[]) const;\r\n\tbool hasWon (unsigned int player) const;\r\n\tint evaluate (unsigned int player) const;\r\nprivate:\r\n\tvoid getMoves (const vector<Cell*>& lineOfAction, unsigned int player, Move moves[], unsigned int& moveCount) const;\r\n\tbool isValidMove (const vector<Cell*>& lineOfAction, unsigned int player, int start, int end) const;\r\n\tint value (unsigned int player) const;\r\n\tint area (unsigned int player) const;\r\n\tint connectedness (unsigned int player) const;\r\n};\r\n\r\nvoid Game::start ()\r\n{\r\n\t// Precompute neighbours\r\n\tfor (int y = 0; y < boardSize; ++y)\r\n\t{\r\n\t\tfor (int x = 0; x < boardSize; ++x)\r\n\t\t{\r\n\t\t\tauto& cell = board[y][x];\r\n\t\t\tcell.y = y;\r\n\t\t\tcell.x = x;\r\n\t\t\tif (isInside (y - 1, x - 1)) cell.neighbours.push_back (&board[y - 1][x - 1]);\r\n\t\t\tif (isInside (y - 1, x)) cell.neighbours.push_back (&board[y - 1][x]);\r\n\t\t\tif (isInside (y - 1, x + 1)) cell.neighbours.push_back (&board[y - 1][x + 1]);\r\n\t\t\tif (isInside (y, x - 1)) cell.neighbours.push_back (&board[y][x - 1]);\r\n\t\t\tif (isInside (y, x + 1)) cell.neighbours.push_back (&board[y][x + 1]);\r\n\t\t\tif (isInside (y + 1, x - 1)) cell.neighbours.push_back (&board[y + 1][x - 1]);\r\n\t\t\tif (isInside (y + 1, x)) cell.neighbours.push_back (&board[y + 1][x]);\r\n\t\t\tif (isInside (y + 1, x + 1)) cell.neighbours.push_back (&board[y + 1][x + 1]);\r\n\t\t}\r\n\t}\r\n\t// Precompute alignments\r\n\t// Rows\r\n\tfor (int y = 0; y < boardSize; ++y)\r\n\t{\r\n\t\tvector<Cell*> lineOfAction;\r\n\t\tfor (int x = 0; x < boardSize; ++x)\r\n\t\t\tlineOfAction.push_back (&board[y][x]);\r\n\t\tlinesOfAction.push_back (lineOfAction);\r\n\t}\r\n\t// Columns\r\n\tfor (int x = 0; x < boardSize; ++x)\r\n\t{\r\n\t\tvector<Cell*> lineOfAction;\r\n\t\tfor (int y = 0; y < boardSize; ++y)\r\n\t\t\tlineOfAction.push_back (&board[y][x]);\r\n\t\tlinesOfAction.push_back (lineOfAction);\r\n\t}\r\n\t// Diagonals\r\n\tfor (int y = 1; y < boardSize; ++y)\r\n\t{\r\n\t\tvector<Cell*> lineOfAction;\r\n\t\tfor (int x = 0; x <= y; ++x)\r\n\t\t\tlineOfAction.push_back (&board[y - x][x]);\r\n\t\tlinesOfAction.push_back (lineOfAction);\r\n\t}\r\n\tfor (int x = 1; x < boardSize - 1; ++x)\r\n\t{\r\n\t\tvector<Cell*> lineOfAction;\r\n\t\tfor (int y = x; y < boardSize; ++y)\r\n\t\t\tlineOfAction.push_back (&board[y][boardSize - 1 - y + x]);\r\n\t\tlinesOfAction.push_back (lineOfAction);\r\n\t}\r\n\tfor (int y = 0; y < boardSize - 1; ++y)\r\n\t{\r\n\t\tvector<Cell*> lineOfAction;\r\n\t\tfor (int x = 0; x < boardSize - y; ++x)\r\n\t\t\tlineOfAction.push_back (&board[y + x][x]);\r\n\t\tlinesOfAction.push_back (lineOfAction);\r\n\t}\r\n\tfor (int x = 1; x < boardSize - 1; ++x)\r\n\t{\r\n\t\tvector<Cell*> lineOfAction;\r\n\t\tfor (int y = 0; y < boardSize - x; ++y)\r\n\t\t\tlineOfAction.push_back (&board[y][y + x]);\r\n\t\tlinesOfAction.push_back (lineOfAction);\r\n\t}\r\n}\r\n\r\nunsigned int Game::getMoves (unsigned int player, Move moves[]) const\r\n{\r\n\tunsigned int moveCount = 0;\r\n\tfor (auto& lineOfAction : linesOfAction)\r\n\t\tgetMoves (lineOfAction, player, moves, moveCount);\r\n\treturn moveCount;\r\n}\r\n\r\nvoid Game::getMoves (const vector<Cell*>& lineOfAction, unsigned int player, Move moves[], unsigned int& moveCount) const\r\n{\r\n\tint numUnits = 0;\r\n\tfor (auto cell : lineOfAction)\r\n\t\tif (cell->owner != None) numUnits++;\r\n\r\n\tunsigned int opp = player ^ 1;\r\n\r\n\tfor (int i = 0; i < lineOfAction.size (); i++)\r\n\t{\r\n\t\tif (lineOfAction[i]->owner != player) continue;\r\n\t\tint start = i;\r\n\t\tint end;\r\n\t\t// Backwards\r\n\t\tend = start - numUnits;\r\n\t\tif (end >= 0 && isValidMove (lineOfAction, player, start, end))\r\n\t\t\tmoves[moveCount++] = Move (lineOfAction[start], lineOfAction[end], lineOfAction[end]->owner == opp);\r\n\t\t// Forwards\r\n\t\tend = start + numUnits;\r\n\t\tif (end < lineOfAction.size () && isValidMove (lineOfAction, player, start, end))\r\n\t\t\tmoves[moveCount++] = Move (lineOfAction[start], lineOfAction[end], lineOfAction[end]->owner == opp);\r\n\t}\r\n}\r\n\r\nbool Game::isValidMove (const vector<Cell*>& lineOfAction, unsigned int player, int start, int end) const\r\n{\r\n\tunsigned int opp = player ^ 1;\r\n\tif (end < start)\r\n\t{\r\n\t\tfor (int i = start - 1; i > end; --i)\r\n\t\t{\r\n\t\t\tif (lineOfAction[i]->owner == opp)\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\telse\r\n\t{\r\n\t\tfor (int i = start + 1; i < end; ++i)\r\n\t\t{\r\n\t\t\tif (lineOfAction[i]->owner == opp)\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\tif (lineOfAction[end]->owner == player)\r\n\t\treturn false;\r\n\treturn true;\r\n}\r\n\r\nbool Game::hasWon (unsigned int player) const\r\n{\r\n\t// Count my units, find a starting point, restart bfs\r\n\tunsigned int numUnits = 0;\r\n\tconst Cell* start = nullptr;\r\n\tfor (int y = 0; y < boardSize; ++y)\r\n\t{\r\n\t\tfor (int x = 0; x < boardSize; ++x)\r\n\t\t{\r\n\t\t\tauto& cell = board[y][x];\r\n\t\t\tcell.visited = false;\r\n\t\t\tif (cell.owner == player)\r\n\t\t\t{\r\n\t\t\t\tstart = &cell;\r\n\t\t\t\tnumUnits++;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst Cell* queue[boardSize * boardSize];\r\n\tunsigned int visited = 0;\r\n\tqueue[visited++] = start;\r\n\tstart->visited = true;\r\n\t// Floodfill\r\n\tfor (int i = 0; i < visited; ++i)\r\n\t{\r\n\t\tauto current = queue[i];\r\n\t\tfor (auto neighbour : current->neighbours)\r\n\t\t{\r\n\t\t\tif (!neighbour->visited && neighbour->owner == player)\r\n\t\t\t{\r\n\t\t\t\tqueue[visited++] = neighbour;\r\n\t\t\t\tneighbour->visited = true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn visited == numUnits;\r\n}\r\n\r\nint Game::value (unsigned int player) const\r\n{\r\n\tstatic int pieceSquareTable[boardSize][boardSize] =\r\n\t{\r\n\t\t{-80, -25, -20, -20, -20, -20, -25, -80},\r\n\t\t{-25,  10,  10,  10,  10,  10,  10,  -25},\r\n\t\t{-20,  10,  20,  20,  20,  20,  10,  -20},\r\n\t\t{-20,  10,  20,  40,  40,  20,  10,  -20},\r\n\t\t{-20,  10,  20,  40,  40,  20,  10,  -20},\r\n\t\t{-20,  10,  20,  20,  20,  20,  10,  -20},\r\n\t\t{-25,  10,  10,  10,  10,  10,  10,  -25},\r\n\t\t{-80, -25, -20, -20, -20, -20, -25, -80}\r\n\t};\r\n\r\n\tint sum = 0;\r\n\tfor (int y = 0; y < boardSize; ++y)\r\n\t{\r\n\t\tfor (int x = 0; x < boardSize; ++x)\r\n\t\t\tif (board[y][x].owner == player)\r\n\t\t\t\tsum += pieceSquareTable[y][x];\r\n\t}\r\n\treturn sum;\r\n}\r\n\r\nint Game::area (unsigned int player) const\r\n{\r\n\tint minX = 7;\r\n\tint maxX = 0;\r\n\tint minY = 7;\r\n\tint maxY = 0;\r\n\tfor (int y = 0; y < boardSize; ++y)\r\n\t{\r\n\t\tfor (int x = 0; x < boardSize; ++x)\r\n\t\t\tif (board[y][x].owner == player)\r\n\t\t\t{\r\n\t\t\t\tminX = min (x, minX);\r\n\t\t\t\tmaxX = max (x, maxX);\r\n\t\t\t\tminY = min (x, minY);\r\n\t\t\t\tmaxY = max (x, maxY);\r\n\t\t\t}\r\n\t}\r\n\treturn 64 - (maxX - minX + 1) * (maxY - minY + 1);\r\n}\r\n\r\nint Game::connectedness (unsigned int player) const\r\n{\r\n\tint sum = 0;\r\n\tfor (int y = 0; y < boardSize; ++y)\r\n\t{\r\n\t\tfor (int x = 0; x < boardSize; ++x)\r\n\t\t{\r\n\t\t\tauto& cell = board[y][x];\r\n\t\t\tif (cell.owner != player) continue;\r\n\t\t\tfor (auto neighbour : cell.neighbours)\r\n\t\t\t\tif (neighbour->owner == player)\r\n\t\t\t\t\tsum++;\r\n\t\t}\r\n\t}\r\n\treturn sum;\r\n}\r\n\r\nint Game::evaluate (unsigned int player) const\r\n{\r\n\treturn 2 * value (player)\r\n\t\t+ 10 * area (player)\r\n\t\t+ 15 * connectedness (player);\r\n}\r\n\r\nclass MiniMax\r\n{\r\npublic:\r\n\r\n\tvoid search (Game& game, unsigned int player);\r\n\tint search (Game& game, int alpha, int beta, int depth, unsigned int player);\r\n\tMove bestMove;\r\n};\r\n\r\nvoid MiniMax::search (Game& game, unsigned int player)\r\n{\r\n\tMove moves[96];\r\n\tunsigned int moveCount = game.getMoves (player, moves);\r\n\r\n\tint depth = 4;\r\n\r\n\tint alpha = -numeric_limits<int>::max ();\r\n\tint beta = numeric_limits<int>::max ();\r\n\r\n\tint bestScore = -numeric_limits<int>::max ();\r\n\tfor (int i = 0; i < moveCount; i++)\r\n\t{\r\n\t\tgame.playMove (player, moves[i]);\r\n\t\tint result = -search (game, -beta, -alpha, depth - 1, player ^ 1);\r\n\t\tif (result > bestScore)\r\n\t\t{\r\n\t\t\tbestScore = result;\r\n\t\t\tbestMove = moves[i];\r\n\t\t}\r\n\t\talpha = std::max (bestScore, alpha);\r\n\t\tgame.undoMove (player, moves[i]);\r\n\t\tif (alpha >= beta) break;\r\n\t}\r\n}\r\n\r\nint MiniMax::search (Game& game, int alpha, int beta, int depth, unsigned int player)\r\n{\r\n\tif (game.hasWon (player))\r\n\t\treturn maxScore + depth;\r\n\tif (game.hasWon (player ^ 1))\r\n\t\treturn -(maxScore + depth);\r\n\r\n\tif (depth == 0) return game.evaluate (player);\r\n\r\n\tMove moves[96];\r\n\tunsigned int moveCount = game.getMoves (player, moves);\r\n\r\n\tint bestScore = -numeric_limits<int>::max ();\r\n\tfor (int i = 0; i < moveCount; i++)\r\n\t{\r\n\t\tgame.playMove (player, moves[i]);\r\n\t\tint result = -search (game, -beta, -alpha, depth - 1, player ^ 1);\r\n\t\tbestScore = std::max (bestScore, result);\r\n\t\talpha = std::max (bestScore, alpha);\r\n\t\tgame.undoMove (player, moves[i]);\r\n\t\tif (alpha >= beta) break;\r\n\t}\r\n\treturn bestScore;\r\n}\r\n\r\n//#define DEBUG\r\nclass Agent\r\n{\r\npublic:\r\n\tvoid start ();\r\n\tvoid read ();\r\n\tvoid think ();\r\n\tvoid write ();\r\n\r\n\tGame game;\r\n\tMiniMax mm;\r\n\tunsigned int player;\r\n#ifdef DEBUG\r\n\tTimer timer;\r\n#endif\r\n};\r\n\r\nvoid Agent::start ()\r\n{\r\n\tgame.start ();\r\n\r\n\tstring color; // current color of your pieces (\"w\" or \"b\")\r\n\tcin >> color; cin.ignore ();\r\n#ifdef DEBUG\r\n\tcerr << color << endl;\r\n#endif\r\n\tplayer = color[0] == 'w' ? White : Black;\r\n}\r\n\r\nvoid Agent::read ()\r\n{\r\n\tfor (int i = 0; i < boardSize; i++)\r\n\t{\r\n\t\tstring line; // horizontal row\r\n\t\tcin >> line; cin.ignore ();\r\n#ifdef DEBUG\r\n\t\tcerr << line << endl;\r\n#endif\r\n\t\tfor (int j = 0; j < boardSize; j++)\r\n\t\t{\r\n\t\t\tif (line[j] == 'w')\r\n\t\t\t\tgame.board[i][j].owner = White;\r\n\t\t\telse if (line[j] == 'b')\r\n\t\t\t\tgame.board[i][j].owner = Black;\r\n\t\t\telse\r\n\t\t\t\tgame.board[i][j].owner = None;\r\n\t\t}\r\n\t}\r\n\r\n\t// TL;DR\r\n\tstring lastMove; // last move made by the opponent (\"null\" if it's the first turn)\r\n\tcin >> lastMove; cin.ignore ();\r\n#ifdef DEBUG\r\n\tcerr << lastMove << endl;\r\n#endif\r\n\tint moveCount; // number of legal moves\r\n\tcin >> moveCount; cin.ignore ();\r\n#ifdef DEBUG\r\n\tcerr << moveCount << endl;\r\n#endif\r\n\tfor (int i = 0; i < moveCount; i++)\r\n\t{\r\n\t\tstring move; // a legal move\r\n\t\tcin >> move; cin.ignore ();\r\n#ifdef DEBUG\r\n\t\tcerr << move << endl;\r\n#endif\r\n\t}\r\n}\r\n\r\nvoid Agent::think ()\r\n{\r\n#ifdef DEBUG\r\n\ttimer.start ();\r\n#endif\r\n\tmm.search (game, player);\r\n}\r\n\r\nvoid Agent::write ()\r\n{\r\n#ifdef DEBUG\r\n\tcerr << timer << endl;\r\n#endif\r\n\tcout << mm.bestMove << endl;\r\n}\r\n\r\nint main ()\r\n{\r\n\tAgent agent;\r\n\r\n\tagent.start ();\r\n\t// game loop\r\n\twhile (1)\r\n\t{\r\n\t\tagent.read ();\r\n\t\tagent.think ();\r\n\t\tagent.write ();\r\n\t}\r\n}",
          "testCases": [],
          "maxPlayers": 2,
          "minPlayers": 2,
          "statements": {
            "1": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\r\n  <div class=\"statement-body\">\r\n    <!-- GOAL -->\r\n    <div class=\"statement-section statement-goal\">\r\n      <h1>\r\n        <span class=\"icon icon-goal\">&nbsp;</span>\r\n        <span>PrÃ©sentation du jeu</span>\r\n      </h1>\r\n      <div class=\"statement-goal-content\">\r\n        <p>Ce jeu est une implÃ©mentation du jeu de plateau <a href=\"https://fr.wikipedia.org/wiki/Lines_of_Action\">Lines Of Action</a>.</p>\r\n        <p>Le code source est accessible <a href=\"https://github.com/darkhorse64/CG_LinesOfAction\">ici</a>.</p>\r\n      </div>\r\n    </div>\r\n    <!-- RULES -->\r\n    <div class=\"statement-section statement-rules\">\r\n      <h1>\r\n          <span class=\"icon icon-rules\">&nbsp;</span>\r\n          <span>RÃ¨gles</span>\r\n      </h1>\r\n      <div class=\"statement-rules-content\">\r\n          <p>Le jeu se dÃ©roule sur un Ã©chiquier de 8x8 cases avec deux joueurs. Chaque joueur dispose de douze pions. La position initiale des pions est illustrÃ©e dans l'image suivante</p>\r\n          <p style=\"text-align: center;\"><img src=https://github.com/darkhorse64/CG_LinesOfAction/raw/main/config/board.png\" alt=\"Img: LOA initial position\" style=\"height: 350px; width: auto;\"></img></p>\r\n          <p>Le but du jeu est de connecter tous vos pions ensemble. Les pions peuvent Ãªtre connectÃ©s verticalement, horizontalement ou diagonalement.</p>\r\n          <strong>Comment jouer: </strong>\r\n          <p></p>\r\n          Les Noirs commencent la partie. Les pions se dÃ©placent horizontalement, verticalement ou en diagonale.\r\n          <ul>\r\n              <li>Un pion se dÃ©place exactement d'autant de cases qu'il y a de pions (les siens ou ceux de l'adversaire) sur sa ligne de dÃ©placement.</li>\r\n              <li>Un pion ne peut pas sauter par dessus un pion de l'adversaire.</li>\r\n              <li>Un pion peut sauter par dessus ses propres pions.</li>\r\n              <li>Un pion atterrit soit sur une case vide soit sur un case occupÃ©e par un pion adverse. Dans ce cas, le pion adverse est capturÃ© et retirÃ© du jeu.</li>\r\n          </ul>\r\n          <p>La partie se termine quand un joueur a connectÃ© tous ses pions ou si <const>150</const> coups ont Ã©tÃ© jouÃ©s sans parvenir Ã  un rÃ©sultat dÃ©cisif.</p> \r\n          <strong>Fin d'un tour de jeu: </strong>\r\n          <ul>\r\n            <li>Le robot doit communiquer les coordonnÃ©es du pion qu'il a choisi suivi des coordonnÃ©es de sa destination. Les coordonnÃ©es sont exprimÃ©es en notation Ã©chiquÃ©enne, par exemple \"<const>e2e3</const>\".</li>\r\n          </ul>\r\n          <strong>En cas de coup erronÃ© d'un joueur: </strong><br>\r\n          <ul>\r\n              <li>Si les positions de dÃ©part ou d'arrivÃ©e sont en dehors du plateau,</li>\r\n              <li>Si la case de dÃ©part est occupÃ©e par un pion adverse,</li>\r\n              <li>Si la case d'arrivÃ©e est occupÃ©e par un de ses propres pions,</li>\r\n              <li>Si un pion adverse se trouve entre les cases de dÃ©part et d'arrivÃ©e du pion,</li>\r\n              <li>Si le pion ne se dÃ©place pas exactement d'autant de cases qu'il y a de pions (les siens ou ceux de l'adversaire) sur sa ligne de dÃ©placement,</li>\r\n          </ul>\r\n          <p>la partie se termine et le joueur perd.</p>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- EXPERT RULES -->\r\n  <div class=\"statement-section statement-expertrules\">\r\n    <h1>\r\n      <span class=\"icon icon-expertrules\">&nbsp;</span>\r\n      <span>RÃ¨gles pour les experts</span>\r\n    </h1>\r\n    <div class=\"statement-expert-rules-content\">\r\n      <li>Si votre dernier coup connecte simultanÃ©ment vos pions et les pions adverses, vous remportez la victoire.</li>\r\n      <li>Dans de trÃ¨s rares cas, un joueur n'a plus aucun coup jouable. Ce n'est pas considÃ©rÃ© comme une dÃ©faite et le joueur Ã©met \"<const>pass</const>\" pour passer son tour et continuer la partie.</li>\r\n    </div>\r\n  </div>\r\n  \r\n  <!-- Victory conditions -->\r\n  <div class=\"statement-victory-conditions\">\r\n      <div class=\"icon victory\"></div>\r\n      <div class=\"blk\">\r\n          <div class=\"title\">Conditions de victoire</div>\r\n          <div class=\"text\">\r\n              <ul style=\"padding-bottom: 0;\">\r\n                  <li>Connecter en premier ses pions.</li>\r\n              </ul>\r\n          </div>\r\n      </div>\r\n  </div>\r\n\r\n  <!-- Lose conditions -->\r\n  <div class=\"statement-lose-conditions\">\r\n      <div class=\"icon lose\"></div>\r\n      <div class=\"blk\">\r\n          <div class=\"title\">Conditions de dÃ©faite</div>\r\n          <div class=\"text\">\r\n              <ul style=\"padding-bottom: 0;\">\r\n                  <li>Ne pas connecter ses pions avant ceux de l'adversaire.</li>\r\n                  <li>Ne pas rÃ©pondre dans le temps imparti ou envoyer une sortie erronÃ©e.</li>\r\n              </ul>\r\n          </div>\r\n      </div>\r\n  </div>\r\n\r\n  <!-- PROTOCOL -->\r\n  <div class=\"statement-section statement-protocol\">\r\n      <h1>\r\n      <span class=\"icon icon-protocol\">&nbsp;</span>\r\n      <span>EntrÃ©es/sorties du jeu</span>\r\n  </h1>\r\n\r\n    <!-- Protocol block -->\r\n    <div class=\"blk\">\r\n      <div class=\"title\">EntrÃ©es initiales</div>\r\n      <div class=\"text\">\r\n          <span class=\"statement-lineno\">Une ligne: <var>color</var></span>: la couleur de vos pions (<const>w</const>: blancs, <const>b</const>:noirs).\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"blk\">\r\n      <div class=\"title\">EntrÃ©es pour chaque tour de jeu</div>\r\n      <div class=\"text\">\r\n        <span class=\"statement-lineno\"><var>8</var> premiÃ¨res lignes</span>: <var>line</var>: une chaÃ®ne de caractÃ¨res reprÃ©sentant une ligne du plateau, de haut en bas. (<const>.</const>: vide, <const>w</const>: pion blanc, <const>b</const>: pion noir).\r\n        <br>\r\n        <span class=\"statement-lineno\">Ligne suivante</span>: <var>lastAction</var>: le dernier coup jouÃ© par l'adversaire (\"<const>null</const>\" si c'est le premier tour).\r\n        </br>\r\n        <br>\r\n         <span class=\"statement-lineno\">Ligne suivante</span>: <var>moveCount</var>: le nombre de coups lÃ©gaux pour ce tour.\r\n        </br>\r\n        <br>\r\n          <span class=\"statement-lineno\"><var>moveCount</var> lignes suivantes</span>: <var>move</var>: une chaÃ®ne de caractÃ¨res reprÃ©sentant un coup lÃ©gal.\r\n        </br>      \r\n      </div>\r\n    </div>\r\n\r\n    <!-- Protocol block -->\r\n    <div class=\"blk\">\r\n      <div class=\"title\">Sorties</div>\r\n      <div class=\"text\">\r\n         <span class=\"statement-lineno\">Une seule ligne</span> contenant les coordonnÃ©es de dÃ©part et d'arrivÃ©e du pion jouÃ©, par exemple \"<const>e2e3</const>\" or \"<const>pass</const>\" seulement si vous n'avez aucun coup disponible.<br>\r\n          <ul>\r\n              <li>Vous pouvez afficher un (court) message dans le cartouche de votre joueur en ajoutant un espace aprÃ¨s le coup suivi du texte de votre message, par exemple \"<const>e2e3 message</const>\".</li>\r\n              <li>Vous pouvez jouer un coup alÃ©atoirement en Ã©crivant \"<const>random</const>\" Ã  la place de votre coup. Ca n'a vraiment d'utilitÃ© que pour crÃ©er facilement un robot fonctionnel Ã  l'aide du gÃ©nÃ©rateur de code.</li>\r\n          </ul>\r\n        <br>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Protocol block -->\r\n    <div class=\"blk\">\r\n      <div class=\"title\">Contraintes</div>\r\n        Le temps de rÃ©ponse au premier tour est â¤\r\n        <const>1000</const> ms.\r\n        <br>Le temps de rÃ©ponse pour les tours suivants est â¤\r\n        <const>150</const> ms.\r\n      </div>\r\n  </div>\r\n</div>",
            "2": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\r\n  <div class=\"statement-body\">\r\n    <!-- GOAL -->\r\n    <div class=\"statement-section statement-goal\">\r\n      <h1>\r\n        <span class=\"icon icon-goal\">&nbsp;</span>\r\n        <span>The Game</span>\r\n      </h1>\r\n      <div class=\"statement-goal-content\">\r\n        <p>This is a port of the board game <a href=\"https://en.wikipedia.org/wiki/Lines_of_Action\">Lines Of Action</a>.</p>\r\n        <p>Click <a href=\"https://github.com/darkhorse64/CG_LinesOfAction\">here</a> for the referee.</p>\r\n      </div>\r\n    </div>\r\n    <!-- RULES -->\r\n    <div class=\"statement-section statement-rules\">\r\n      <h1>\r\n          <span class=\"icon icon-rules\">&nbsp;</span>\r\n          <span>Rules</span>\r\n      </h1>\r\n      <div class=\"statement-rules-content\">\r\n          <p>The game is played on a 8x8 board with two players. Each player has 12 checkers.</p>\r\n          <p>The initial position of checkers is shown in the following picture:</p>\r\n          <p style=\"text-align: center;\"><img src=https://github.com/darkhorse64/CG_LinesOfAction/raw/main/config/board.png\" alt=\"Img: LOA initial position\" style=\"height: 350px; width: auto;\"></img></p>\r\n          <p>The goal of the game is to bring all of your own checkers together into a single connected group. Checkers can be connected vertically, horizontally or diagonally.</p>\r\n          <strong>How to play: </strong>\r\n          <p></p>\r\n          <p>Black starts the game. Checkers move horizontally, vertically, or diagonally.</p>\r\n          <ul>\r\n              <li>A checker moves exactly as many spaces as there are checkers (both friendly and opponent) on the line in which it is moving.</li>\r\n              <li>A checker may not jump over an opponent checker.</li>\r\n              <li>A checker may jump over friendly checkers.</li>\r\n              <li>A checker may land on an empty square or a square occupied by an opponent checker, resulting in the latter's capture and removal from the game.</li>\r\n          </ul>\r\n          <p>The game ends when one player has connected all his checkers or when <const>150</const> moves have been performed without victory from any player. In that case, the game is a draw.</p>\r\n          <strong>Ending a turn: </strong>\r\n          <ul>\r\n            <li>A bot must output the coordinates of the piece he wants to move followed by its destination coordinates. Coordinates are expressed in chess notation e.g. \"<const>e2e3</const>\"</li>\r\n          </ul>\r\n          <strong>Wrong output: </strong><br>\r\n          <ul>\r\n              <li>If the starting or destination coordinates are outside of the board,</li>\r\n              <li>If the starting square is occupied by an opponent checker,</li>\r\n              <li>If the destination square is occupied by an own checker,</li>\r\n              <li>If the checker path is blocked by one or more opponent checkers,</li>\r\n              <li>If the checker does not move exactly as many spaces as there are checkers (both friendly and opponent) on the line in which it is moving,</li>\r\n          </ul>\r\n          <p>the game will end and the other player will win.</p>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- EXPERT RULES -->\r\n  <div class=\"statement-section statement-expertrules\">\r\n    <h1>\r\n      <span class=\"icon icon-expertrules\">&nbsp;</span>\r\n      <span>Expert Rules</span>\r\n    </h1>\r\n    <div class=\"statement-expert-rules-content\">\r\n      <li>If your last move connects simultaneously your checkers and the opponent checkers, it is considered as a win for you.</li>\r\n      <li>In very rare occurences, a player will not have any legal moves left. This is not considered as a losing position for the player and he must issue a \"<const>pass</const>\" move to continue the game.</li>\r\n    </div>\r\n  </div>\r\n  \r\n  <!-- Victory conditions -->\r\n  <div class=\"statement-victory-conditions\">\r\n      <div class=\"icon victory\"></div>\r\n      <div class=\"blk\">\r\n          <div class=\"title\">Victory Conditions</div>\r\n          <div class=\"text\">\r\n              <ul style=\"padding-bottom: 0;\">\r\n                  <li>Connect first all your checkers.</li>\r\n              </ul>\r\n          </div>\r\n      </div>\r\n  </div>\r\n\r\n  <!-- Lose conditions -->\r\n  <div class=\"statement-lose-conditions\">\r\n      <div class=\"icon lose\"></div>\r\n      <div class=\"blk\">\r\n          <div class=\"title\">Loss Conditions</div>\r\n          <div class=\"text\">\r\n              <ul style=\"padding-bottom: 0;\">\r\n                  <li>You fail to connnect your checkers before the opponent.</li>\r\n                  <li>You do not respond in time or output an unrecognized command.</li>\r\n              </ul>\r\n          </div>\r\n      </div>\r\n  </div>\r\n\r\n  <!-- PROTOCOL -->\r\n  <div class=\"statement-section statement-protocol\">\r\n      <h1>\r\n      <span class=\"icon icon-protocol\">&nbsp;</span>\r\n      <span>Game Input/Output</span>\r\n  </h1>\r\n\r\n    <!-- Protocol block -->\r\n    <div class=\"blk\">\r\n      <div class=\"title\">Initial input</div>\r\n      <div class=\"text\">\r\n          <span class=\"statement-lineno\">One line</span>: <var>color</var></span>: the color of your checkers (<const>w</const>: white, <const>b</const>: black).\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"blk\">\r\n      <div class=\"title\">Input for one game turn</div>\r\n      <div class=\"text\">\r\n        <span class=\"statement-lineno\">First <const>8</const> lines</span>: <var>line</var>: a string of characters representing one horizontal row of the grid, top to bottom. (<const>.</const>: empty, <const>w</const>: white, <const>b</const>: black).\r\n        <br>\r\n        <span class=\"statement-lineno\">Next line: <var>lastMove</var></span>: the last move by the opponent (\"<const>null</const>\" if it's the first turn).\r\n        </br>\r\n        <br>\r\n         <span class=\"statement-lineno\">Next line: <var>moveCount</var></span>: the number of legal moves for this turn.\r\n        </br>\r\n        <br>\r\n          <span class=\"statement-lineno\">Next <var>moveCount</var> lines</span>: <var>move</var>: a string of characters representing a legal move.\r\n        </br>      \r\n          </div>\r\n    </div>\r\n\r\n    <!-- Protocol block -->\r\n    <div class=\"blk\">\r\n      <div class=\"title\">Output</div>\r\n      <div class=\"text\">\r\n         <span class=\"statement-lineno\">A single line</span> containing the coordinates where you want to move from, to, e.g. \"<const>e2e3</const>\" or \"<const>pass</const>\" only if you have no legal moves left.<br>\r\n          <ul>\r\n              <li>You can display a (short) comment in the viewer by adding a space after the move and writing its content, e.g. \"<const>e2e3 message</const>\".</li>\r\n              <li>You can play a random move by outputting \"<const>random</const>\" instead of a move. This is admittedly only useful for stub code generation.</li>\r\n          </ul>\r\n        <br>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Protocol block -->\r\n    <div class=\"blk\">\r\n      <div class=\"title\">Constraints</div>\r\n        Response time first turn is â¤\r\n        <const>1000</const> ms.\r\n        <br>Response time per turn is â¤\r\n        <const>150</const> ms.\r\n      </div>\r\n  </div>\r\n</div>"
          },
          "questionType": "multi",
          "stubGenerator": "read color:word(1)\n\ngameloop\nloop 8 read line:word(8)\nread lastMove:word(4)\nread moveCount:int\nloop moveCount read move:word(4)\nwrite random\n\nINPUT\ncolor: current color of your pieces (\"w\" or \"b\")\nline: horizontal row\nlastMove: last move made by the opponent (\"null\" if it's the first turn)\nmoveCount: number of legal moves\nmove: a legal move\n\nOUTPUT\ne.g. e2e3 (move piece at e2 to e3) or random",
          "welcomePopups": {},
          "aiCodeExtension": "cpp",
          "criteriaLanguageMap": {}
        },
        "1": {
          "aiCode": "//\r\n// Lines Of Action boss\r\n//\r\n\r\n#pragma GCC optimize(\"O3,inline,omit-frame-pointer,unroll-loops\",\"unsafe-math-optimizations\",\"no-trapping-math\")\r\n#pragma GCC option(\"arch=native\",\"tune=native\",\"no-zero-upper\")\r\n\r\n#include <iostream>\r\n#include <string>\r\n#include <vector>\r\n#include <algorithm>\r\n#include <chrono>\r\n#include <cstring>\r\n\r\nusing namespace std;\r\n\r\n// Timer\r\n\r\nclass Timer\r\n{\r\npublic:\r\n\tvoid start ()\r\n\t{\r\n\t\tstartTime = chrono::high_resolution_clock::now ();\r\n\t}\r\n\tbool isElapsed (int milliseconds) const\r\n\t{\r\n\t\tchrono::milliseconds time_span = chrono::duration_cast<chrono::milliseconds>(chrono::high_resolution_clock::now () - startTime);\r\n\t\treturn time_span.count () >= milliseconds;\r\n\t}\r\n\tfriend ostream& operator<< (ostream& stream, Timer& timer)\r\n\t{\r\n\t\tchrono::milliseconds time_span = chrono::duration_cast<chrono::milliseconds>(chrono::high_resolution_clock::now () - timer.startTime);\r\n\t\tstream << time_span.count ();\r\n\t\treturn stream;\r\n\t}\r\nprivate:\r\n\tchrono::high_resolution_clock::time_point startTime;\r\n};\r\n\r\nconst int boardSize = 8;\r\nconst int Black = 0;\r\nconst int White = 1;\r\nconst int None = 2;\r\nconst int maxScore = 10000;\r\n\r\nbool debug = false;\r\nstruct Cell\r\n{\r\n\tint x, y;\r\n\tint owner;\r\n\tmutable bool visited;\r\n\tvector<Cell*> neighbours;\r\n};\r\n\r\nstruct Move\r\n{\r\n\tMove () {}\r\n\tMove (Cell* start, Cell* end, bool capture) : start (start), end (end), capture (capture) {}\r\n\tbool operator==(const Move& move) const\r\n\t{\r\n\t\treturn start == move.start && end == move.end;\r\n\t}\r\n\tfriend std::ostream& operator<< (std::ostream& stream, const Move& b)\r\n\t{\r\n\t\tstream << (char)('a' + b.start->x) << (char)('1' + 7 - b.start->y) << (char)('a' + b.end->x) << (char)('1' + 7 - b.end->y);\r\n\t\treturn stream;\r\n\t}\r\n\tCell* start;\r\n\tCell* end;\r\n\tbool capture;\r\n};\r\n\r\nclass Game\r\n{\r\npublic:\r\n\r\n\tCell board[boardSize][boardSize];\r\n\tvector<vector<Cell*>> linesOfAction;\r\n\r\n\tvoid start ();\r\n\r\n\tvoid playMove (unsigned int player, const Move& move)\r\n\t{\r\n\t\tmove.start->owner = None;\r\n\t\tmove.end->owner = player;\r\n\t}\r\n\r\n\tvoid undoMove (unsigned int player, const Move& move)\r\n\t{\r\n\t\tmove.start->owner = player;\r\n\t\tmove.end->owner = move.capture ? player ^ 1 : None;\r\n\t}\r\n\r\n\tbool isInside (int x, int y)\r\n\t{\r\n\t\treturn x >= 0 && x < boardSize&& y >= 0 && y < boardSize;\r\n\t}\r\n\r\n\tunsigned int getMoves (unsigned int player, Move moves[]) const;\r\n\tbool hasWon (unsigned int player) const;\r\n\tint evaluate (unsigned int player) const;\r\nprivate:\r\n\tvoid getMoves (const vector<Cell*>& lineOfAction, unsigned int player, Move moves[], unsigned int& moveCount) const;\r\n\tbool isValidMove (const vector<Cell*>& lineOfAction, unsigned int player, int start, int end) const;\r\n\tint value (unsigned int player) const;\r\n\tint area (unsigned int player) const;\r\n\tint connectedness (unsigned int player) const;\r\n};\r\n\r\nvoid Game::start ()\r\n{\r\n\t// Precompute neighbours\r\n\tfor (int y = 0; y < boardSize; ++y)\r\n\t{\r\n\t\tfor (int x = 0; x < boardSize; ++x)\r\n\t\t{\r\n\t\t\tauto& cell = board[y][x];\r\n\t\t\tcell.y = y;\r\n\t\t\tcell.x = x;\r\n\t\t\tif (isInside (y - 1, x - 1)) cell.neighbours.push_back (&board[y - 1][x - 1]);\r\n\t\t\tif (isInside (y - 1, x)) cell.neighbours.push_back (&board[y - 1][x]);\r\n\t\t\tif (isInside (y - 1, x + 1)) cell.neighbours.push_back (&board[y - 1][x + 1]);\r\n\t\t\tif (isInside (y, x - 1)) cell.neighbours.push_back (&board[y][x - 1]);\r\n\t\t\tif (isInside (y, x + 1)) cell.neighbours.push_back (&board[y][x + 1]);\r\n\t\t\tif (isInside (y + 1, x - 1)) cell.neighbours.push_back (&board[y + 1][x - 1]);\r\n\t\t\tif (isInside (y + 1, x)) cell.neighbours.push_back (&board[y + 1][x]);\r\n\t\t\tif (isInside (y + 1, x + 1)) cell.neighbours.push_back (&board[y + 1][x + 1]);\r\n\t\t}\r\n\t}\r\n\t// Precompute alignments\r\n\t// Rows\r\n\tfor (int y = 0; y < boardSize; ++y)\r\n\t{\r\n\t\tvector<Cell*> lineOfAction;\r\n\t\tfor (int x = 0; x < boardSize; ++x)\r\n\t\t\tlineOfAction.push_back (&board[y][x]);\r\n\t\tlinesOfAction.push_back (lineOfAction);\r\n\t}\r\n\t// Columns\r\n\tfor (int x = 0; x < boardSize; ++x)\r\n\t{\r\n\t\tvector<Cell*> lineOfAction;\r\n\t\tfor (int y = 0; y < boardSize; ++y)\r\n\t\t\tlineOfAction.push_back (&board[y][x]);\r\n\t\tlinesOfAction.push_back (lineOfAction);\r\n\t}\r\n\t// Diagonals\r\n\tfor (int y = 1; y < boardSize; ++y)\r\n\t{\r\n\t\tvector<Cell*> lineOfAction;\r\n\t\tfor (int x = 0; x <= y; ++x)\r\n\t\t\tlineOfAction.push_back (&board[y - x][x]);\r\n\t\tlinesOfAction.push_back (lineOfAction);\r\n\t}\r\n\tfor (int x = 1; x < boardSize - 1; ++x)\r\n\t{\r\n\t\tvector<Cell*> lineOfAction;\r\n\t\tfor (int y = x; y < boardSize; ++y)\r\n\t\t\tlineOfAction.push_back (&board[y][boardSize - 1 - y + x]);\r\n\t\tlinesOfAction.push_back (lineOfAction);\r\n\t}\r\n\tfor (int y = 0; y < boardSize - 1; ++y)\r\n\t{\r\n\t\tvector<Cell*> lineOfAction;\r\n\t\tfor (int x = 0; x < boardSize - y; ++x)\r\n\t\t\tlineOfAction.push_back (&board[y + x][x]);\r\n\t\tlinesOfAction.push_back (lineOfAction);\r\n\t}\r\n\tfor (int x = 1; x < boardSize - 1; ++x)\r\n\t{\r\n\t\tvector<Cell*> lineOfAction;\r\n\t\tfor (int y = 0; y < boardSize - x; ++y)\r\n\t\t\tlineOfAction.push_back (&board[y][y + x]);\r\n\t\tlinesOfAction.push_back (lineOfAction);\r\n\t}\r\n}\r\n\r\nunsigned int Game::getMoves (unsigned int player, Move moves[]) const\r\n{\r\n\tunsigned int moveCount = 0;\r\n\tfor (auto& lineOfAction : linesOfAction)\r\n\t\tgetMoves (lineOfAction, player, moves, moveCount);\r\n\treturn moveCount;\r\n}\r\n\r\nvoid Game::getMoves (const vector<Cell*>& lineOfAction, unsigned int player, Move moves[], unsigned int& moveCount) const\r\n{\r\n\tint numUnits = 0;\r\n\tfor (auto cell : lineOfAction)\r\n\t\tif (cell->owner != None) numUnits++;\r\n\r\n\tunsigned int opp = player ^ 1;\r\n\r\n\tfor (int i = 0; i < lineOfAction.size (); i++)\r\n\t{\r\n\t\tif (lineOfAction[i]->owner != player) continue;\r\n\t\tint start = i;\r\n\t\tint end;\r\n\t\t// Backwards\r\n\t\tend = start - numUnits;\r\n\t\tif (end >= 0 && isValidMove (lineOfAction, player, start, end))\r\n\t\t\tmoves[moveCount++] = Move (lineOfAction[start], lineOfAction[end], lineOfAction[end]->owner == opp);\r\n\t\t// Forwards\r\n\t\tend = start + numUnits;\r\n\t\tif (end < lineOfAction.size () && isValidMove (lineOfAction, player, start, end))\r\n\t\t\tmoves[moveCount++] = Move (lineOfAction[start], lineOfAction[end], lineOfAction[end]->owner == opp);\r\n\t}\r\n}\r\n\r\nbool Game::isValidMove (const vector<Cell*>& lineOfAction, unsigned int player, int start, int end) const\r\n{\r\n\tunsigned int opp = player ^ 1;\r\n\tif (end < start)\r\n\t{\r\n\t\tfor (int i = start - 1; i > end; --i)\r\n\t\t{\r\n\t\t\tif (lineOfAction[i]->owner == opp)\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\telse\r\n\t{\r\n\t\tfor (int i = start + 1; i < end; ++i)\r\n\t\t{\r\n\t\t\tif (lineOfAction[i]->owner == opp)\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\tif (lineOfAction[end]->owner == player)\r\n\t\treturn false;\r\n\treturn true;\r\n}\r\n\r\nbool Game::hasWon (unsigned int player) const\r\n{\r\n\t// Count my units, find a starting point, restart bfs\r\n\tunsigned int numUnits = 0;\r\n\tconst Cell* start = nullptr;\r\n\tfor (int y = 0; y < boardSize; ++y)\r\n\t{\r\n\t\tfor (int x = 0; x < boardSize; ++x)\r\n\t\t{\r\n\t\t\tauto& cell = board[y][x];\r\n\t\t\tcell.visited = false;\r\n\t\t\tif (cell.owner == player)\r\n\t\t\t{\r\n\t\t\t\tstart = &cell;\r\n\t\t\t\tnumUnits++;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst Cell* queue[boardSize * boardSize];\r\n\tunsigned int visited = 0;\r\n\tqueue[visited++] = start;\r\n\tstart->visited = true;\r\n\t// Floodfill\r\n\tfor (int i = 0; i < visited; ++i)\r\n\t{\r\n\t\tauto current = queue[i];\r\n\t\tfor (auto neighbour : current->neighbours)\r\n\t\t{\r\n\t\t\tif (!neighbour->visited && neighbour->owner == player)\r\n\t\t\t{\r\n\t\t\t\tqueue[visited++] = neighbour;\r\n\t\t\t\tneighbour->visited = true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn visited == numUnits;\r\n}\r\n\r\nint Game::value (unsigned int player) const\r\n{\r\n\tstatic int pieceSquareTable[boardSize][boardSize] =\r\n\t{\r\n\t\t{-80, -25, -20, -20, -20, -20, -25, -80},\r\n\t\t{-25,  10,  10,  10,  10,  10,  10,  -25},\r\n\t\t{-20,  10,  20,  20,  20,  20,  10,  -20},\r\n\t\t{-20,  10,  20,  40,  40,  20,  10,  -20},\r\n\t\t{-20,  10,  20,  40,  40,  20,  10,  -20},\r\n\t\t{-20,  10,  20,  20,  20,  20,  10,  -20},\r\n\t\t{-25,  10,  10,  10,  10,  10,  10,  -25},\r\n\t\t{-80, -25, -20, -20, -20, -20, -25, -80}\r\n\t};\r\n\r\n\tint sum = 0;\r\n\tfor (int y = 0; y < boardSize; ++y)\r\n\t{\r\n\t\tfor (int x = 0; x < boardSize; ++x)\r\n\t\t\tif (board[y][x].owner == player)\r\n\t\t\t\tsum += pieceSquareTable[y][x];\r\n\t}\r\n\treturn sum;\r\n}\r\n\r\nint Game::area (unsigned int player) const\r\n{\r\n\tint minX = 7;\r\n\tint maxX = 0;\r\n\tint minY = 7;\r\n\tint maxY = 0;\r\n\tfor (int y = 0; y < boardSize; ++y)\r\n\t{\r\n\t\tfor (int x = 0; x < boardSize; ++x)\r\n\t\t\tif (board[y][x].owner == player)\r\n\t\t\t{\r\n\t\t\t\tminX = min (x, minX);\r\n\t\t\t\tmaxX = max (x, maxX);\r\n\t\t\t\tminY = min (x, minY);\r\n\t\t\t\tmaxY = max (x, maxY);\r\n\t\t\t}\r\n\t}\r\n\treturn 64 - (maxX - minX + 1) * (maxY - minY + 1);\r\n}\r\n\r\nint Game::connectedness (unsigned int player) const\r\n{\r\n\tint sum = 0;\r\n\tfor (int y = 0; y < boardSize; ++y)\r\n\t{\r\n\t\tfor (int x = 0; x < boardSize; ++x)\r\n\t\t{\r\n\t\t\tauto& cell = board[y][x];\r\n\t\t\tif (cell.owner != player) continue;\r\n\t\t\tfor (auto neighbour : cell.neighbours)\r\n\t\t\t\tif (neighbour->owner == player)\r\n\t\t\t\t\tsum++;\r\n\t\t}\r\n\t}\r\n\treturn sum;\r\n}\r\n\r\nint Game::evaluate (unsigned int player) const\r\n{\r\n\treturn 2 * value (player)\r\n\t\t+ 10 * area (player)\r\n\t\t+ 15 * connectedness (player);\r\n}\r\n\r\nclass MiniMax\r\n{\r\npublic:\r\n\r\n\tvoid search (Game& game, unsigned int player);\r\n\tint search (Game& game, int alpha, int beta, int depth, unsigned int player);\r\n\tMove bestMove;\r\n};\r\n\r\nvoid MiniMax::search (Game& game, unsigned int player)\r\n{\r\n\tMove moves[96];\r\n\tunsigned int moveCount = game.getMoves (player, moves);\r\n\r\n\tint depth = 4;\r\n\r\n\tint alpha = -numeric_limits<int>::max ();\r\n\tint beta = numeric_limits<int>::max ();\r\n\r\n\tint bestScore = -numeric_limits<int>::max ();\r\n\tfor (int i = 0; i < moveCount; i++)\r\n\t{\r\n\t\tgame.playMove (player, moves[i]);\r\n\t\tint result = -search (game, -beta, -alpha, depth - 1, player ^ 1);\r\n\t\tif (result > bestScore)\r\n\t\t{\r\n\t\t\tbestScore = result;\r\n\t\t\tbestMove = moves[i];\r\n\t\t}\r\n\t\talpha = std::max (bestScore, alpha);\r\n\t\tgame.undoMove (player, moves[i]);\r\n\t\tif (alpha >= beta) break;\r\n\t}\r\n}\r\n\r\nint MiniMax::search (Game& game, int alpha, int beta, int depth, unsigned int player)\r\n{\r\n\tif (game.hasWon (player))\r\n\t\treturn maxScore + depth;\r\n\tif (game.hasWon (player ^ 1))\r\n\t\treturn -(maxScore + depth);\r\n\r\n\tif (depth == 0) return game.evaluate (player);\r\n\r\n\tMove moves[96];\r\n\tunsigned int moveCount = game.getMoves (player, moves);\r\n\r\n\tint bestScore = -numeric_limits<int>::max ();\r\n\tfor (int i = 0; i < moveCount; i++)\r\n\t{\r\n\t\tgame.playMove (player, moves[i]);\r\n\t\tint result = -search (game, -beta, -alpha, depth - 1, player ^ 1);\r\n\t\tbestScore = std::max (bestScore, result);\r\n\t\talpha = std::max (bestScore, alpha);\r\n\t\tgame.undoMove (player, moves[i]);\r\n\t\tif (alpha >= beta) break;\r\n\t}\r\n\treturn bestScore;\r\n}\r\n\r\n//#define DEBUG\r\nclass Agent\r\n{\r\npublic:\r\n\tvoid start ();\r\n\tvoid read ();\r\n\tvoid think ();\r\n\tvoid write ();\r\n\r\n\tGame game;\r\n\tMiniMax mm;\r\n\tunsigned int player;\r\n#ifdef DEBUG\r\n\tTimer timer;\r\n#endif\r\n};\r\n\r\nvoid Agent::start ()\r\n{\r\n\tgame.start ();\r\n\r\n\tstring color; // current color of your pieces (\"w\" or \"b\")\r\n\tcin >> color; cin.ignore ();\r\n#ifdef DEBUG\r\n\tcerr << color << endl;\r\n#endif\r\n\tplayer = color[0] == 'w' ? White : Black;\r\n}\r\n\r\nvoid Agent::read ()\r\n{\r\n\tfor (int i = 0; i < boardSize; i++)\r\n\t{\r\n\t\tstring line; // horizontal row\r\n\t\tcin >> line; cin.ignore ();\r\n#ifdef DEBUG\r\n\t\tcerr << line << endl;\r\n#endif\r\n\t\tfor (int j = 0; j < boardSize; j++)\r\n\t\t{\r\n\t\t\tif (line[j] == 'w')\r\n\t\t\t\tgame.board[i][j].owner = White;\r\n\t\t\telse if (line[j] == 'b')\r\n\t\t\t\tgame.board[i][j].owner = Black;\r\n\t\t\telse\r\n\t\t\t\tgame.board[i][j].owner = None;\r\n\t\t}\r\n\t}\r\n\r\n\t// TL;DR\r\n\tstring lastMove; // last move made by the opponent (\"null\" if it's the first turn)\r\n\tcin >> lastMove; cin.ignore ();\r\n#ifdef DEBUG\r\n\tcerr << lastMove << endl;\r\n#endif\r\n\tint moveCount; // number of legal moves\r\n\tcin >> moveCount; cin.ignore ();\r\n#ifdef DEBUG\r\n\tcerr << moveCount << endl;\r\n#endif\r\n\tfor (int i = 0; i < moveCount; i++)\r\n\t{\r\n\t\tstring move; // a legal move\r\n\t\tcin >> move; cin.ignore ();\r\n#ifdef DEBUG\r\n\t\tcerr << move << endl;\r\n#endif\r\n\t}\r\n}\r\n\r\nvoid Agent::think ()\r\n{\r\n#ifdef DEBUG\r\n\ttimer.start ();\r\n#endif\r\n\tmm.search (game, player);\r\n}\r\n\r\nvoid Agent::write ()\r\n{\r\n#ifdef DEBUG\r\n\tcerr << timer << endl;\r\n#endif\r\n\tcout << mm.bestMove << endl;\r\n}\r\n\r\nint main ()\r\n{\r\n\tAgent agent;\r\n\r\n\tagent.start ();\r\n\t// game loop\r\n\twhile (1)\r\n\t{\r\n\t\tagent.read ();\r\n\t\tagent.think ();\r\n\t\tagent.write ();\r\n\t}\r\n}",
          "testCases": [],
          "maxPlayers": 2,
          "minPlayers": 2,
          "statements": {
            "1": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\r\n  <div class=\"statement-body\">\r\n    <!-- GOAL -->\r\n    <div class=\"statement-section statement-goal\">\r\n      <h1>\r\n        <span class=\"icon icon-goal\">&nbsp;</span>\r\n        <span>PrÃ©sentation du jeu</span>\r\n      </h1>\r\n      <div class=\"statement-goal-content\">\r\n        <p>Ce jeu est une implÃ©mentation du jeu de plateau <a href=\"https://fr.wikipedia.org/wiki/Lines_of_Action\">Lines Of Action</a>.</p>\r\n        <p>Le code source est accessible <a href=\"https://github.com/darkhorse64/CG_LinesOfAction\">ici</a>.</p>\r\n      </div>\r\n    </div>\r\n    <!-- RULES -->\r\n    <div class=\"statement-section statement-rules\">\r\n      <h1>\r\n          <span class=\"icon icon-rules\">&nbsp;</span>\r\n          <span>RÃ¨gles</span>\r\n      </h1>\r\n      <div class=\"statement-rules-content\">\r\n          <p>Le jeu se dÃ©roule sur un Ã©chiquier de 8x8 cases avec deux joueurs. Chaque joueur dispose de douze pions. La position initiale des pions est illustrÃ©e dans l'image suivante</p>\r\n          <p style=\"text-align: center;\"><img src=https://github.com/darkhorse64/CG_LinesOfAction/raw/main/config/board.png\" alt=\"Img: LOA initial position\" style=\"height: 350px; width: auto;\"></img></p>\r\n          <p>Le but du jeu est de connecter tous vos pions ensemble. Les pions peuvent Ãªtre connectÃ©s verticalement, horizontalement ou diagonalement.</p>\r\n          <strong>Comment jouer: </strong>\r\n          <p></p>\r\n          Les Noirs commencent la partie. Les pions se dÃ©placent horizontalement, verticalement ou en diagonale.\r\n          <ul>\r\n              <li>Un pion se dÃ©place exactement d'autant de cases qu'il y a de pions (les siens ou ceux de l'adversaire) sur sa ligne de dÃ©placement.</li>\r\n              <li>Un pion ne peut pas sauter par dessus un pion de l'adversaire.</li>\r\n              <li>Un pion peut sauter par dessus ses propres pions.</li>\r\n              <li>Un pion atterrit soit sur une case vide soit sur un case occupÃ©e par un pion adverse. Dans ce cas, le pion adverse est capturÃ© et retirÃ© du jeu.</li>\r\n          </ul>\r\n          <p>La partie se termine quand un joueur a connectÃ© tous ses pions ou si <const>150</const> coups ont Ã©tÃ© jouÃ©s sans parvenir Ã  un rÃ©sultat dÃ©cisif.</p> \r\n          <strong>Fin d'un tour de jeu: </strong>\r\n          <ul>\r\n            <li>Le robot doit communiquer les coordonnÃ©es du pion qu'il a choisi suivi des coordonnÃ©es de sa destination. Les coordonnÃ©es sont exprimÃ©es en notation Ã©chiquÃ©enne, par exemple \"<const>e2e3</const>\".</li>\r\n          </ul>\r\n          <strong>En cas de coup erronÃ© d'un joueur: </strong><br>\r\n          <ul>\r\n              <li>Si les positions de dÃ©part ou d'arrivÃ©e sont en dehors du plateau,</li>\r\n              <li>Si la case de dÃ©part est occupÃ©e par un pion adverse,</li>\r\n              <li>Si la case d'arrivÃ©e est occupÃ©e par un de ses propres pions,</li>\r\n              <li>Si un pion adverse se trouve entre les cases de dÃ©part et d'arrivÃ©e du pion,</li>\r\n              <li>Si le pion ne se dÃ©place pas exactement d'autant de cases qu'il y a de pions (les siens ou ceux de l'adversaire) sur sa ligne de dÃ©placement,</li>\r\n          </ul>\r\n          <p>la partie se termine et le joueur perd.</p>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- EXPERT RULES -->\r\n  <div class=\"statement-section statement-expertrules\">\r\n    <h1>\r\n      <span class=\"icon icon-expertrules\">&nbsp;</span>\r\n      <span>RÃ¨gles pour les experts</span>\r\n    </h1>\r\n    <div class=\"statement-expert-rules-content\">\r\n      <li>Si votre dernier coup connecte simultanÃ©ment vos pions et les pions adverses, vous remportez la victoire.</li>\r\n      <li>Dans de trÃ¨s rares cas, un joueur n'a plus aucun coup jouable. Ce n'est pas considÃ©rÃ© comme une dÃ©faite et le joueur Ã©met \"<const>pass</const>\" pour passer son tour et continuer la partie.</li>\r\n    </div>\r\n  </div>\r\n  \r\n  <!-- Victory conditions -->\r\n  <div class=\"statement-victory-conditions\">\r\n      <div class=\"icon victory\"></div>\r\n      <div class=\"blk\">\r\n          <div class=\"title\">Conditions de victoire</div>\r\n          <div class=\"text\">\r\n              <ul style=\"padding-bottom: 0;\">\r\n                  <li>Connecter en premier ses pions.</li>\r\n              </ul>\r\n          </div>\r\n      </div>\r\n  </div>\r\n\r\n  <!-- Lose conditions -->\r\n  <div class=\"statement-lose-conditions\">\r\n      <div class=\"icon lose\"></div>\r\n      <div class=\"blk\">\r\n          <div class=\"title\">Conditions de dÃ©faite</div>\r\n          <div class=\"text\">\r\n              <ul style=\"padding-bottom: 0;\">\r\n                  <li>Ne pas connecter ses pions avant ceux de l'adversaire.</li>\r\n                  <li>Ne pas rÃ©pondre dans le temps imparti ou envoyer une sortie erronÃ©e.</li>\r\n              </ul>\r\n          </div>\r\n      </div>\r\n  </div>\r\n\r\n  <!-- PROTOCOL -->\r\n  <div class=\"statement-section statement-protocol\">\r\n      <h1>\r\n      <span class=\"icon icon-protocol\">&nbsp;</span>\r\n      <span>EntrÃ©es/sorties du jeu</span>\r\n  </h1>\r\n\r\n    <!-- Protocol block -->\r\n    <div class=\"blk\">\r\n      <div class=\"title\">EntrÃ©es initiales</div>\r\n      <div class=\"text\">\r\n          <span class=\"statement-lineno\">Une ligne: <var>color</var></span>: la couleur de vos pions (<const>w</const>: blancs, <const>b</const>:noirs).\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"blk\">\r\n      <div class=\"title\">EntrÃ©es pour chaque tour de jeu</div>\r\n      <div class=\"text\">\r\n        <span class=\"statement-lineno\"><var>8</var> premiÃ¨res lignes</span>: <var>line</var>: une chaÃ®ne de caractÃ¨res reprÃ©sentant une ligne du plateau, de haut en bas. (<const>.</const>: vide, <const>w</const>: pion blanc, <const>b</const>: pion noir).\r\n        <br>\r\n        <span class=\"statement-lineno\">Ligne suivante</span>: <var>lastAction</var>: le dernier coup jouÃ© par l'adversaire (\"<const>null</const>\" si c'est le premier tour).\r\n        </br>\r\n        <br>\r\n         <span class=\"statement-lineno\">Ligne suivante</span>: <var>moveCount</var>: le nombre de coups lÃ©gaux pour ce tour.\r\n        </br>\r\n        <br>\r\n          <span class=\"statement-lineno\"><var>moveCount</var> lignes suivantes</span>: <var>move</var>: une chaÃ®ne de caractÃ¨res reprÃ©sentant un coup lÃ©gal.\r\n        </br>      \r\n      </div>\r\n    </div>\r\n\r\n    <!-- Protocol block -->\r\n    <div class=\"blk\">\r\n      <div class=\"title\">Sorties</div>\r\n      <div class=\"text\">\r\n         <span class=\"statement-lineno\">Une seule ligne</span> contenant les coordonnÃ©es de dÃ©part et d'arrivÃ©e du pion jouÃ©, par exemple \"<const>e2e3</const>\" or \"<const>pass</const>\" seulement si vous n'avez aucun coup disponible.<br>\r\n          <ul>\r\n              <li>Vous pouvez afficher un (court) message dans le cartouche de votre joueur en ajoutant un espace aprÃ¨s le coup suivi du texte de votre message, par exemple \"<const>e2e3 message</const>\".</li>\r\n              <li>Vous pouvez jouer un coup alÃ©atoirement en Ã©crivant \"<const>random</const>\" Ã  la place de votre coup. Ca n'a vraiment d'utilitÃ© que pour crÃ©er facilement un robot fonctionnel Ã  l'aide du gÃ©nÃ©rateur de code.</li>\r\n          </ul>\r\n        <br>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Protocol block -->\r\n    <div class=\"blk\">\r\n      <div class=\"title\">Contraintes</div>\r\n        Le temps de rÃ©ponse au premier tour est â¤\r\n        <const>1000</const> ms.\r\n        <br>Le temps de rÃ©ponse pour les tours suivants est â¤\r\n        <const>150</const> ms.\r\n      </div>\r\n  </div>\r\n</div>",
            "2": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\r\n  <div class=\"statement-body\">\r\n    <!-- GOAL -->\r\n    <div class=\"statement-section statement-goal\">\r\n      <h1>\r\n        <span class=\"icon icon-goal\">&nbsp;</span>\r\n        <span>The Game</span>\r\n      </h1>\r\n      <div class=\"statement-goal-content\">\r\n        <p>This is a port of the board game <a href=\"https://en.wikipedia.org/wiki/Lines_of_Action\">Lines Of Action</a>.</p>\r\n        <p>Click <a href=\"https://github.com/darkhorse64/CG_LinesOfAction\">here</a> for the referee.</p>\r\n      </div>\r\n    </div>\r\n    <!-- RULES -->\r\n    <div class=\"statement-section statement-rules\">\r\n      <h1>\r\n          <span class=\"icon icon-rules\">&nbsp;</span>\r\n          <span>Rules</span>\r\n      </h1>\r\n      <div class=\"statement-rules-content\">\r\n          <p>The game is played on a 8x8 board with two players. Each player has 12 checkers.</p>\r\n          <p>The initial position of checkers is shown in the following picture:</p>\r\n          <p style=\"text-align: center;\"><img src=https://github.com/darkhorse64/CG_LinesOfAction/raw/main/config/board.png\" alt=\"Img: LOA initial position\" style=\"height: 350px; width: auto;\"></img></p>\r\n          <p>The goal of the game is to bring all of your own checkers together into a single connected group. Checkers can be connected vertically, horizontally or diagonally.</p>\r\n          <strong>How to play: </strong>\r\n          <p></p>\r\n          <p>Black starts the game. Checkers move horizontally, vertically, or diagonally.</p>\r\n          <ul>\r\n              <li>A checker moves exactly as many spaces as there are checkers (both friendly and opponent) on the line in which it is moving.</li>\r\n              <li>A checker may not jump over an opponent checker.</li>\r\n              <li>A checker may jump over friendly checkers.</li>\r\n              <li>A checker may land on an empty square or a square occupied by an opponent checker, resulting in the latter's capture and removal from the game.</li>\r\n          </ul>\r\n          <p>The game ends when one player has connected all his checkers or when <const>150</const> moves have been performed without victory from any player. In that case, the game is a draw.</p>\r\n          <strong>Ending a turn: </strong>\r\n          <ul>\r\n            <li>A bot must output the coordinates of the piece he wants to move followed by its destination coordinates. Coordinates are expressed in chess notation e.g. \"<const>e2e3</const>\"</li>\r\n          </ul>\r\n          <strong>Wrong output: </strong><br>\r\n          <ul>\r\n              <li>If the starting or destination coordinates are outside of the board,</li>\r\n              <li>If the starting square is occupied by an opponent checker,</li>\r\n              <li>If the destination square is occupied by an own checker,</li>\r\n              <li>If the checker path is blocked by one or more opponent checkers,</li>\r\n              <li>If the checker does not move exactly as many spaces as there are checkers (both friendly and opponent) on the line in which it is moving,</li>\r\n          </ul>\r\n          <p>the game will end and the other player will win.</p>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- EXPERT RULES -->\r\n  <div class=\"statement-section statement-expertrules\">\r\n    <h1>\r\n      <span class=\"icon icon-expertrules\">&nbsp;</span>\r\n      <span>Expert Rules</span>\r\n    </h1>\r\n    <div class=\"statement-expert-rules-content\">\r\n      <li>If your last move connects simultaneously your checkers and the opponent checkers, it is considered as a win for you.</li>\r\n      <li>In very rare occurences, a player will not have any legal moves left. This is not considered as a losing position for the player and he must issue a \"<const>pass</const>\" move to continue the game.</li>\r\n    </div>\r\n  </div>\r\n  \r\n  <!-- Victory conditions -->\r\n  <div class=\"statement-victory-conditions\">\r\n      <div class=\"icon victory\"></div>\r\n      <div class=\"blk\">\r\n          <div class=\"title\">Victory Conditions</div>\r\n          <div class=\"text\">\r\n              <ul style=\"padding-bottom: 0;\">\r\n                  <li>Connect first all your checkers.</li>\r\n              </ul>\r\n          </div>\r\n      </div>\r\n  </div>\r\n\r\n  <!-- Lose conditions -->\r\n  <div class=\"statement-lose-conditions\">\r\n      <div class=\"icon lose\"></div>\r\n      <div class=\"blk\">\r\n          <div class=\"title\">Loss Conditions</div>\r\n          <div class=\"text\">\r\n              <ul style=\"padding-bottom: 0;\">\r\n                  <li>You fail to connnect your checkers before the opponent.</li>\r\n                  <li>You do not respond in time or output an unrecognized command.</li>\r\n              </ul>\r\n          </div>\r\n      </div>\r\n  </div>\r\n\r\n  <!-- PROTOCOL -->\r\n  <div class=\"statement-section statement-protocol\">\r\n      <h1>\r\n      <span class=\"icon icon-protocol\">&nbsp;</span>\r\n      <span>Game Input/Output</span>\r\n  </h1>\r\n\r\n    <!-- Protocol block -->\r\n    <div class=\"blk\">\r\n      <div class=\"title\">Initial input</div>\r\n      <div class=\"text\">\r\n          <span class=\"statement-lineno\">One line</span>: <var>color</var></span>: the color of your checkers (<const>w</const>: white, <const>b</const>: black).\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"blk\">\r\n      <div class=\"title\">Input for one game turn</div>\r\n      <div class=\"text\">\r\n        <span class=\"statement-lineno\">First <const>8</const> lines</span>: <var>line</var>: a string of characters representing one horizontal row of the grid, top to bottom. (<const>.</const>: empty, <const>w</const>: white, <const>b</const>: black).\r\n        <br>\r\n        <span class=\"statement-lineno\">Next line: <var>lastMove</var></span>: the last move by the opponent (\"<const>null</const>\" if it's the first turn).\r\n        </br>\r\n        <br>\r\n         <span class=\"statement-lineno\">Next line: <var>moveCount</var></span>: the number of legal moves for this turn.\r\n        </br>\r\n        <br>\r\n          <span class=\"statement-lineno\">Next <var>moveCount</var> lines</span>: <var>move</var>: a string of characters representing a legal move.\r\n        </br>      \r\n          </div>\r\n    </div>\r\n\r\n    <!-- Protocol block -->\r\n    <div class=\"blk\">\r\n      <div class=\"title\">Output</div>\r\n      <div class=\"text\">\r\n         <span class=\"statement-lineno\">A single line</span> containing the coordinates where you want to move from, to, e.g. \"<const>e2e3</const>\" or \"<const>pass</const>\" only if you have no legal moves left.<br>\r\n          <ul>\r\n              <li>You can display a (short) comment in the viewer by adding a space after the move and writing its content, e.g. \"<const>e2e3 message</const>\".</li>\r\n              <li>You can play a random move by outputting \"<const>random</const>\" instead of a move. This is admittedly only useful for stub code generation.</li>\r\n          </ul>\r\n        <br>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Protocol block -->\r\n    <div class=\"blk\">\r\n      <div class=\"title\">Constraints</div>\r\n        Response time first turn is â¤\r\n        <const>1000</const> ms.\r\n        <br>Response time per turn is â¤\r\n        <const>150</const> ms.\r\n      </div>\r\n  </div>\r\n</div>"
          },
          "questionType": "multi",
          "stubGenerator": "read color:word(1)\n\ngameloop\nloop 8 read line:word(8)\nread lastMove:word(4)\nread moveCount:int\nloop moveCount read move:word(4)\nwrite random\n\nINPUT\ncolor: current color of your pieces (\"w\" or \"b\")\nline: horizontal row\nlastMove: last move made by the opponent (\"null\" if it's the first turn)\nmoveCount: number of legal moves\nmove: a legal move\n\nOUTPUT\ne.g. e2e3 (move piece at e2 to e3) or random",
          "welcomePopups": {
            "1": "<div style=\"text-align:center\">\r\n  <h2>Vous venez d&#39;atteindre la ligue supÃ©rieure.</h2>\r\n  Les rÃ¨gles n&#39;ont pas changÃ© mais vos adversaires sont plus coriaces\r\n</div>",
            "2": "<div style=\"text-align:center\">\r\n  <h2>You&#39;ve made it to the next league.</h2>\r\n  There are no rule changes but opponents are tougher\r\n</div>"
          },
          "aiCodeExtension": "cpp",
          "criteriaLanguageMap": {}
        }
      },
      "directoryPrefix": "community/2923506-1632141571549",
      "allowSourceDownload": false
    },
    "draft": false,
    "readyForModeration": true
  },
  "validatedFor": 136580048435,
  "avatar": 23496414257567,
  "commentCount": 11,
  "upVotes": 16,
  "downVotes": 0,
  "validateAction": {
    "actionId": 598071,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1634150233564,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}