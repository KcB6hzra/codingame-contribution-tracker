{
  "id": 130398,
  "activeVersion": 16,
  "score": 23,
  "votableId": 37656433,
  "codingamerId": 3276896,
  "views": 526,
  "commentableId": 37494103,
  "title": "Integer pairs of AB/(A+B)",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "kozuechan",
  "publicHandle": "130398c2525a6fd19b0fa1fb5924c375cb1ff6",
  "codingamerHandle": "00ff9c85fcc84fd753d84c98ec18ca0a6986723",
  "lastVersion": {
    "version": 16,
    "autocloseTime": 1761258471854,
    "freezeTime": 1754002157256,
    "data": {
      "title": "Integer pairs of AB/(A+B)",
      "topics": [
        {
          "id": 94,
          "handle": "mathematics",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Mathematics",
            "2": "Mathematics"
          },
          "puzzleCount": 72,
          "parentTopicId": 93
        },
        {
          "id": 172,
          "handle": "number-theory",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Number theory",
            "2": "Number theory"
          },
          "puzzleCount": 17,
          "parentTopicId": 93
        }
      ],
      "solution": "n = int(input())\nassert 1 <= n <= 10 ** 14\n\n'''\nStart with the given equation AB / (A + B) = N.\n  AB = NA + NB\n  AB - AN - BN + N^2 = N^2\n  (A - N)(B - N) = N^2\n\nTo simplify the problem, introduce new variables x = A - N and y = B - N.\nThis converts the original problem into finding pairs of integers (x, y) whose product is N^2.\nFor every integer divisor x of N^2, there is a unique corresponding integer y = N^2 / x.\nEach such pair (x, y) gives a unique solution (A, B) for AB = N(A + B), where A = x + N and B = y + N.\n\nThe original equation, AB / (A + B) = N, is undefined when the denominator A + B is zero.\nYou must exclude any solution pairs that lead to this condition.\n\nSet A + B = 0.\n  (x + N) + (y + N) = 0\n  x + 2N + y = 0\n  x + 2N + N^2 / x = 0\n  x^2 + 2xN + N^2 = 0 \n  (x + N)^2 = 0\n\nThis equation holds true only when x = -N.\nAmong all the divisor pairs (x, y) of N^2, you must exclude the single pair where x = -N.\n\nIn conclusion, to find the number of valid integer solutions, you need to:\n\n1. Count all integer divisors of N^2.\n2. Subtract one for the single invalid case where x = -N.\n\nThe overall time complexity is O(sqrt(N)).\n'''\n\npositive_divisor_count = 1\ndivisor = 2\nwhile divisor * divisor <= n:\n  if n % divisor == 0:\n    exponent = 0\n    while n % divisor == 0:\n      exponent += 1\n      n //= divisor\n    positive_divisor_count *= 2 * exponent + 1\n  divisor += 1\nif n > 1:\n  positive_divisor_count *= 3\nprint(positive_divisor_count * 2 - 1)\n\n'''\nThe code below is an O(N) solution.\nThis solution does not score 100% under the given constraints on N.\n'''\n\n# m = n * n\n# positive_divisor_count = 1\n# divisor = 2\n# while divisor * divisor <= m:\n#   if m % divisor == 0:\n#     exponent = 0\n#     while m % divisor == 0:\n#       exponent += 1\n#       m //= divisor\n#     positive_divisor_count *= exponent + 1\n#   divisor += 1\n# print(positive_divisor_count * 2 - 1)\n\n'''\nThe code below is an O(N^2) brute-force solution.\nThis solution does not score 100% under the given constraints on N.\n\nThe largest integer divisor x of N^2 is N^2 itself.\nTherefore, max(x) = N^2, which leads to max(A) = max(x) + N = N^2 + N.\nA similar reasoning yields a lower bound for A.\n'''\n\n# count = 0\n# for a in range(-n * n + n, n * n + n + 1):\n#   '''\n#   Solve AB / (A + B) = N for B.\n#     AB = NA + NB\n#     (A - N)B = NA\n#     B = NA / (A - N)\n#   '''\n#   if a - n != 0 and (n * a) % (a - n) == 0:\n#     b = (n * a) // (a - n)\n#     if a + b != 0:\n#       count += 1\n# print(count)\n\n'''\nThe code below is an O(N^4) brute-force solution.\nThis solution does not score 100% under the given constraints on N.\n'''\n\n# count = 0\n# for a in range(-n * n + n, n * n + n + 1):\n#   for b in range(-n * n + n, n * n + n + 1):\n#     if a + b != 0 and a * b == n * (a + b):\n#       count += 1\n# print(count)\n",
      "statement": "Given an integer [[N]], find the number of pairs of integers (A, B) that satisfies (A*B)/(A+B)=[[N]].\n\n<<Example:>>\nIf [[N]]=2, the integer solutions (A, B) to the equation (A*B)/(A+B)=[[N]] are (-2, 1), (1, -2), (3, 6), (4, 4) and (6, 3). Thus, the output is 5.",
      "testCases": [
        {
          "title": "Example",
          "isTest": true,
          "testIn": "2",
          "testOut": "5",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "10",
          "testOut": "17",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Small Prime",
          "isTest": true,
          "testIn": "7",
          "testOut": "5",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "5",
          "testOut": "5",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Small Composite",
          "isTest": true,
          "testIn": "8",
          "testOut": "13",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "9",
          "testOut": "9",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Neither Prime nor Composite",
          "isTest": true,
          "testIn": "1",
          "testOut": "1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "1",
          "testOut": "1",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "p^2",
          "isTest": true,
          "testIn": "4",
          "testOut": "9",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "25",
          "testOut": "9",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "pq",
          "isTest": true,
          "testIn": "6",
          "testOut": "17",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 6",
          "isTest": false,
          "testIn": "15",
          "testOut": "17",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "p^2q",
          "isTest": true,
          "testIn": "12",
          "testOut": "29",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 7",
          "isTest": false,
          "testIn": "28",
          "testOut": "29",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Medium Prime",
          "isTest": true,
          "testIn": "991",
          "testOut": "5",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 8",
          "isTest": false,
          "testIn": "977",
          "testOut": "5",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Medium Highly Composite",
          "isTest": true,
          "testIn": "840",
          "testOut": "377",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 9",
          "isTest": false,
          "testIn": "720",
          "testOut": "269",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "p^2q^2",
          "isTest": true,
          "testIn": "36",
          "testOut": "49",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 10",
          "isTest": false,
          "testIn": "225",
          "testOut": "49",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "pqr",
          "isTest": true,
          "testIn": "30",
          "testOut": "53",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 11",
          "isTest": false,
          "testIn": "195",
          "testOut": "53",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Large Prime",
          "isTest": true,
          "testIn": "9794321",
          "testOut": "5",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 12",
          "isTest": false,
          "testIn": "9547669",
          "testOut": "5",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Large Highly Composite",
          "isTest": true,
          "testIn": "9185400",
          "testOut": "3569",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 13",
          "isTest": false,
          "testIn": "7348320",
          "testOut": "3365",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Very Large Prime",
          "isTest": true,
          "testIn": "99999999999973",
          "testOut": "5",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 14",
          "isTest": false,
          "testIn": "99999999980389",
          "testOut": "5",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Very Large Highly Composite",
          "isTest": true,
          "testIn": "27109095552000",
          "testOut": "171989",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 15",
          "isTest": false,
          "testIn": "96818198400000",
          "testOut": "210209",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Many Unique Prime Factors",
          "isTest": true,
          "testIn": "74207381348100",
          "testOut": "2952449",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 16",
          "isTest": false,
          "testIn": "50382906283710",
          "testOut": "1771469",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Largest",
          "isTest": true,
          "testIn": "100000000000000",
          "testOut": "1681",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 17",
          "isTest": false,
          "testIn": "99999999999999",
          "testOut": "809",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "1 ≤ [[N]] ≤ 10^14",
      "coverBinaryId": 147714707723360,
      "stubGenerator": "read N:long\nwrite answer",
      "inputDescription": "An integer [[N]].",
      "solutionLanguage": "Python3",
      "outputDescription": "An integer for the number of pairs of integers."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Given an integer <var>N</var>, find the number of pairs of integers (A, B) that satisfies (A*B)/(A+B)=<var>N</var>.<br><br><strong>Example:</strong><br>If <var>N</var>=2, the integer solutions (A, B) to the equation (A*B)/(A+B)=<var>N</var> are (-2, 1), (1, -2), (3, 6), (4, 4) and (6, 3). Thus, the output is 5.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\">An integer <var>N</var>.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">An integer for the number of pairs of integers.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">1 &le; <var>N</var> &le; 10^14</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">2</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">5</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 11220285167,
  "avatar": 26189736775264,
  "commentCount": 19,
  "upVotes": 24,
  "downVotes": 1,
  "validateAction": {
    "actionId": 1224427,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "REFUSED",
      "date": 1755990337106,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1756062872418,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "REFUSED",
      "date": 1758657937002,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1758666471854,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "ACCEPTED",
      "date": 1759508018464,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}