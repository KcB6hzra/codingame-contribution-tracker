{
  "id": 135381,
  "activeVersion": 12,
  "score": 3,
  "votableId": 38272165,
  "codingamerId": 3232421,
  "views": 152,
  "commentableId": 38107739,
  "title": "nᵀᴴ Ramanujan Prime",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "User123",
  "publicHandle": "13538180538b8dcc444c99a90de1d19fceaf32",
  "codingamerHandle": "c3b956997f0e142fcaa109d71c0ecd431242323",
  "lastVersion": {
    "version": 12,
    "autocloseTime": 1763119639488,
    "freezeTime": 1761132439488,
    "data": {
      "title": "nᵀᴴ Ramanujan Prime",
      "topics": [
        {
          "id": 172,
          "handle": "number-theory",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Number theory",
            "2": "Number theory"
          },
          "puzzleCount": 19,
          "parentTopicId": 93
        },
        {
          "id": 143,
          "handle": "primes",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Primes",
            "2": "Primes"
          },
          "puzzleCount": 9,
          "parentTopicId": 93
        },
        {
          "id": 66,
          "handle": "optimization",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Optimisation",
            "2": "Optimization"
          },
          "pageTitle": "Optimization: exercises and theory",
          "puzzleCount": 27,
          "parentTopicId": 41,
          "contentDetailsId": 87
        }
      ],
      "solution": "from bisect import bisect_left\nfrom math import floor, log, sqrt\n\n\"\"\"Find R_N such that there are at least N primes in (x/2, x] for all x >= R_N\"\"\"\nn = int(input())\n\n# R_N exists in range 2Nln(2N) < R_N < 4Nln(4N)\nlo = floor(2 * n * log(2 * n))\nhi = floor(4 * n * log(4 * n))\n\n# find primes in range [lo/2, hi] via sieve of erathosthenes\nprime_cands = [True] * (hi + 1)\nfor num in range(2, floor(sqrt(hi)) + 1):\n    if not prime_cands[num]:\n        continue\n    for coprime in range(num * num, hi + 1, num):\n        prime_cands[coprime] = False\nprimes = [cand for cand, is_prime in enumerate(prime_cands[lo // 2:], start=lo // 2) if is_prime]\nk = len(primes)\n\n# find largest candidate that satisfies the inequality\ncand = hi\nhi_i = hi_j = k\nfor r_n in range(hi - 1, lo, -1):\n    i = bisect_left(primes, r_n // 2 + 1, lo=0, hi=hi_i)\n    j = bisect_left(primes, r_n, lo=i + 1, hi=hi_j)\n    if j - i + (j < k and primes[j] == r_n) < n:\n        break\n    cand = r_n\n    hi_i = i\n    hi_j = j\nprint(cand)\n",
      "statement": "The [[n]]ᵀᴴ Ramanujan prime is the <<smallest positive integer>> Rₙ such that there are at least [[n]] prime numbers in the range (x/2, x] for all x ≥ Rₙ.\n\nThe first few Ramanujan primes are:\n```2, 11, 17, 29, 41, 47, 59, 67, 71, 97, ...```\n<<Your task is to find Rₙ for a given [[n]].>>\n\nIt is known that, for all [[n]] ≥ 1, Rₙ must lie within the range:\n```2n⋅ln(2n) < Rₙ < 4n⋅ln(4n)```",
      "testCases": [
        {
          "title": "Test 1",
          "isTest": true,
          "testIn": "3",
          "testOut": "17",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "1",
          "testOut": "2",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 2",
          "isTest": true,
          "testIn": "10",
          "testOut": "97",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "9",
          "testOut": "71",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 3",
          "isTest": true,
          "testIn": "50",
          "testOut": "641",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "62",
          "testOut": "821",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 4",
          "isTest": true,
          "testIn": "100",
          "testOut": "1439",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "150",
          "testOut": "2281",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 5",
          "isTest": true,
          "testIn": "3482",
          "testOut": "76261",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "5391",
          "testOut": "123479",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 6",
          "isTest": true,
          "testIn": "10932",
          "testOut": "266933",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 6",
          "isTest": false,
          "testIn": "19285",
          "testOut": "494269",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 7",
          "isTest": true,
          "testIn": "69275",
          "testOut": "1964791",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 7",
          "isTest": false,
          "testIn": "58290",
          "testOut": "1632647",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 8",
          "isTest": true,
          "testIn": "100000",
          "testOut": "2916539",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 8",
          "isTest": false,
          "testIn": "93819",
          "testOut": "2722469",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "hard",
      "constraints": "1 ≤ [[n]] ≤ 10⁵",
      "coverBinaryId": 150942425496119,
      "stubGenerator": "read n:int\nwrite nth ramanujan prime",
      "inputDescription": "A single positive integer [[n]].",
      "solutionLanguage": "Python3",
      "outputDescription": "A single positive integer Rₙ."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">The <var>n</var>ᵀᴴ Ramanujan prime is the <strong>smallest positive integer</strong> Rₙ such that there are at least <var>n</var> prime numbers in the range (x/2, x] for all x &ge; Rₙ.<br><br>The first few Ramanujan primes are:<br><pre style=\"font-family: monospace\"></pre><pre style=\"font-family: monospace\">2, 11, 17, 29, 41, 47, 59, 67, 71, 97, ...</pre><pre style=\"font-family: monospace\"></pre><br><strong>Your task is to find Rₙ for a given <var>n</var>.</strong><br><br>It is known that, for all <var>n</var> &ge; 1, Rₙ must lie within the range:<br><pre style=\"font-family: monospace\"></pre><pre style=\"font-family: monospace\">2n&sdot;ln(2n) &lt; Rₙ &lt; 4n&sdot;ln(4n)</pre><pre style=\"font-family: monospace\"></pre></span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\">A single positive integer <var>n</var>.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">A single positive integer Rₙ.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">1 &le; <var>n</var> &le; 10⁵</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">3</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">17</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 8057660384,
  "avatar": 143871801993425,
  "commentCount": 12,
  "upVotes": 4,
  "downVotes": 1,
  "validateAction": {
    "actionId": 1237462,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1762670617218,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}