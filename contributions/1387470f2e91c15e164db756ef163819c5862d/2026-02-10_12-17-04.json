{
  "id": 138747,
  "activeVersion": 9,
  "score": 19,
  "votableId": 38733342,
  "codingamerId": 3276896,
  "views": 421,
  "commentableId": 38567508,
  "title": "Long Palindromic Path",
  "status": "PENDING",
  "type": "PUZZLE_SOLO",
  "nickname": "kozuechan",
  "publicHandle": "1387470f2e91c15e164db756ef163819c5862d",
  "codingamerHandle": "00ff9c85fcc84fd753d84c98ec18ca0a6986723",
  "lastVersion": {
    "version": 9,
    "autocloseTime": 1772782650400,
    "data": {
      "title": "Long Palindromic Path",
      "topics": [
        {
          "id": 167,
          "handle": "palindrome",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Palindrome",
            "2": "Palindrome"
          },
          "puzzleCount": 5,
          "parentTopicId": 93
        },
        {
          "id": 68,
          "handle": "pathfinding",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Recherche de chemins",
            "2": "Pathfinding"
          },
          "pageTitle": "Pathfinding: exercises and theory",
          "puzzleCount": 61,
          "parentTopicId": 41,
          "contentDetailsId": 69
        }
      ],
      "difficulty": "hard",
      "refereeMd5": "3276896/65bdb47261bd3084a5cd6c63c5397d55",
      "testHandle": "1388153bbb67f7913a252618d39625b8022e52b",
      "viewerCode": "var Drawer;(()=>{\"use strict\";var t={d:(e,i)=>{for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})}};t.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||new Function(\"return this\")()}catch(t){if(\"object\"==typeof window)return window}}(),t.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t.r=t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var e={};(()=>{t.d(e,{Drawer:()=>_e});var i={};function n(t){return n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},n(t)}function r(t){var e=function(t,e){if(\"object\"!=n(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||\"default\");if(\"object\"!=n(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==n(e)?e:e+\"\"}function s(t,e,i){return(e=r(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,r(n.key),n)}}function h(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),Object.defineProperty(t,\"prototype\",{writable:!1}),t}t.r(i),t.d(i,{a:()=>Ae,f:()=>Re});var l={baseUrl:\"https://cdn-games.codingame.com/community/3276896-1764930573929/\",images:{\"cell.png\":\"6a84a20fb4319bcf163297eda445b5ea465aa60ca925dc2fa2102deb61c28ce0.png\",\"logo.png\":\"85126f0965c48c8b924ba1a8bb7844d4d547baf639dcbca112fb41061d3b2bd9.png\",\"vegur_font.png\":\"ffbf6a14a9e46e44159ad3d1b8cd9b35085b584995f59d57ba8b210b0ebc72a6.png\",\"vegur_font_license_info.txt\":\"20f22f682a64a3aaa561299c8ff2cea414f6b009b33fb36cf07b2a23211ae3d2.txt\",\"piece.png\":\"7bea2a1233294adcc8beb12f4b7690f4d59384ee099c4d6db4dad3d0bae1baa1.png\",\"background.png\":\"3b2e5fd49cf1440307ea6a67602244529b578a8852f388cdc5189b6e98581d74.png\",\"start.png\":\"7688a02376dafd5eb7a9d67d75bc82dbfd998cad5b3fb9e9fb63f4f7b179e8cc.png\",\"fail.png\":\"0f68132dacd85f817769c23b226f2f29c30c3ea8402dcb91dd89ba60de1d8aa4.png\",\"success.png\":\"8a59672c6e946d647709b982afcb66f670278751ffc268ae7ece2d45fb67e8cc.png\",\"goal.png\":\"5335c9dc13186c71e568beacdf478ad4bc72c5863dca207f1f2442f3205301b4.png\"},sprites:[],fonts:[\"f37d894051fbd805b3fb789c41fb78854ed07a8073f66873993c293e82f419b3.fnt\"]};function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}function c(t,e){if(t){if(\"string\"==typeof t)return u(t,e);var i={}.toString.call(t).slice(8,-1);return\"Object\"===i&&t.constructor&&(i=t.constructor.name),\"Map\"===i||\"Set\"===i?Array.from(t):\"Arguments\"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?u(t,e):void 0}}function p(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||c(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(null!=i){var n,r,s,o,a=[],h=!0,l=!1;try{if(s=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;h=!1}else for(;!(h=(n=s.call(i)).done)&&(a.push(n.value),a.length!==e);h=!0);}catch(t){l=!0,r=t}finally{try{if(!h&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(l)throw r}}return a}}(t,e)||c(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function d(t,e,i){return t<=e?t+(e-t)*i:e+(t-e)*(1-i)}function y(t,e,i){return Math.min(1,Math.max(0,function(t,e,i){return(i-t)/(e-t)}(t,e,i)))}function v(t,e,i,n,r){return r=r||0,Math.min(i/(t+r),n/(e+r))}var g=[],m=[],w=function(){return h(function t(){o(this,t)},null,[{key:\"listen\",value:function(t){if(\"function\"!=typeof t)throw new TypeError(t+\" is not a function\");m.push(t)}},{key:\"push\",value:function(t){g.push(t),m.forEach(function(e){return e(t)})}}])}();function b(t,e){if(e&&(\"object\"==n(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}function S(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&k(t,e)}function O(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(O=function(){return!!t})()}function I(t){var e=\"function\"==typeof Map?new Map:void 0;return I=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf(\"[native code]\")}catch(e){return\"function\"==typeof t}}(t))return t;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return function(t,e,i){if(O())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var r=new(t.bind.apply(t,n));return i&&k(r,i.prototype),r}(t,arguments,x(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),k(i,t)},I(t)}function M(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(M=function(){return!!t})()}var P=function(t){function e(t,i){var n,r,s,a;return o(this,e),r=this,s=e,a=[\"Invalid color token: there is no player at index \".concat(t,\". Make sure to use getColorToken() if you want the color of a specific player.\")],s=x(s),(n=b(r,M()?Reflect.construct(s,a||[],x(r).constructor):s.apply(r,a))).playerIdx=t,n.cause=i,n.name=\"InvalidPlayerColorTokenError\",n}return S(e,t),h(e)}(I(Error));function C(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function W(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?C(Object(i),!0).forEach(function(e){s(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):C(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var D=function(t,e,i){return i<1?t:e},A={type:Number,lerpMethod:function(t,e,i){if(null===e)return null;var n={r:(16711680&t)>>16,g:(65280&t)>>8,b:255&t},r={r:(16711680&e)>>16,g:(65280&e)>>8,b:255&e};return d(n.r,r.r,i)<<16|d(n.g,r.g,i)<<8|d(n.b,r.b,i)},convert:function(t,e){var i=-(t+1);try{return t<0?e.players[i].color:t}catch(t){return w.push(new P(i)),16777215}}},R={type:String,lerpMethod:D,convert:function(t){return H(t)}},T={type:Number,lerpMethod:function(t,e,i,n){for(;e>t+Math.PI;)e-=2*Math.PI;for(;e<t-Math.PI;)e+=2*Math.PI;return(void 0!==n&&Math.abs(e-t)>n?e:t+(e-t)*i)%(2*Math.PI)},convert:function(t){return t*Math.PI/180}},E={type:Number,lerpMethod:D},F={type:function(t){return\"1\"===t},lerpMethod:D},z={type:Number,lerpMethod:function(t,e,i){return e<t?e:d(t,e,i)}},j={default:{type:Number,lerpMethod:d},visible:F,rotation:T,skewX:T,skewY:T,fillColor:A,lineColor:A,strokeColor:A,tint:A,animationProgressTime:z,maxWidth:E,mask:E,baseWidth:E,baseHeight:E,image:R,images:R,scaleMode:R,restarted:{type:String,convert:function(t,e,i,n){return t?{date:i.date+n*i.frameDuration}:null},lerpMethod:D},playing:F,duration:E,blendMode:E,loop:F,text:W(W({},R),{},{convert:function(t,e){t=H(t);for(var i=/\\$(\\d)/g,n=i.exec(t),r=\"\",s=0;n;)n[1]<e.players.length&&(r+=t.substring(s,n.index),r+=e.players[+n[1]].name),s=n.index+n[0].length,n=i.exec(t);return r+=t.substring(s)}}),textAlign:W(W({},R),{},{convert:function(t){return{0:\"left\",1:\"center\",2:\"right\"}[t]}}),fontFamily:R,fontWeight:R,children:W(W({},R),{},{convert:function(t){return t?t.split(\",\").map(function(t){return+t}):[]}}),points:W(W({},R),{},{convert:function(t){return t?t.split(\",\").map(function(t){return parseInt(t)}):[]},lerpMethod:function(t,e,i){return t.length===e.length?t.map(function(t,n){return d(t,e[n],i)}):D(t,e,i)}})};function H(t){var e=t.split(\"\\\\'\").join(\"'\");return e.includes(\" \")||e.includes(\";\")||e.includes(\"\\n\")?e.slice(1,e.length-1):e}function X(){return X=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:i):r.value}},X.apply(null,arguments)}function _(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function B(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?_(Object(i),!0).forEach(function(e){s(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function Y(t,e){var i=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(t){if(\"string\"==typeof t)return U(t,e);var i={}.toString.call(t).slice(8,-1);return\"Object\"===i&&t.constructor&&(i=t.constructor.name),\"Map\"===i||\"Set\"===i?Array.from(t):\"Arguments\"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?U(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var s,o=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw s}}}}function U(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}var L=function(){function t(){o(this,t),this.defaultState={x:0,y:0,scaleX:1,scaleY:1,skewX:0,skewY:0,zIndex:0,alpha:1,visible:!1,rotation:0,mask:-1},this.states={}}return h(t,[{key:\"init\",value:function(){this.properties=Object.keys(this.defaultState),this.initDisplay(),this.currentState=Object.assign({},this.defaultState),\"object\"===n(this.graphics)&&this.container.addChild(this.graphics)}},{key:\"setHidden\",value:function(t){this.hide=t,this.container.visible=this.currentState.visible&&!this.hide}},{key:\"addState\",value:function(e,i,n){this.states[n]||(this.states[n]=[]);var r=t.createState(e,i.values,i.curve),s=this.states[n].find(function(t){return t.t===e});s&&0===Object.keys(r.curve).length&&(r.curve=s.curve),s?(V(r)||V(s)||w.push(new Error(\"Different updates for same t \"+e)),Object.assign(s,r)):this.states[n].push(r)}},{key:\"set\",value:function(t,e,i){this.addState(t,e,i)}},{key:\"render\",value:function(t,e,i){var n=this.states[e.number];this.container.visible=!1;var r,s=null,o=1;if(n&&n.length){for(var a=0;a<n.length-1&&n[a].t<t;)a++;if(s=n[a-1],r=n[a],s)o=y(s.t,r.t,t);else{var h=Object.keys(this.states),l=h.indexOf(e.number.toString())-1;for(-1===l&&(l=h.length-1);l>=0&&h[l]>=e.number;)l--;var u=this.states[h[l]]||[];!(s=u[u.length-1])&&t>=r.t?(s=r,o=1):o=y(0,r.t,t)}}else{for(var c=Object.keys(this.states),p=c.length-1;p>=0&&c[p]>e.number;)p--;var f=this.states[c[p]];null!=f?r=s=f[f.length-1]:Object.assign(this.currentState,this.defaultState)}if(s){var d,v={},g=Object.assign({},this.currentState),m=Y(this.properties);try{for(m.s();!(d=m.n()).done;){var w=d.value,b=(j[w]||j.default).lerpMethod,x=r.curve[w]||function(t){return t},k=b(s[w],r[w],x(o));k!==this.currentState[w]&&(v[w]=!0,g[w]=k)}}catch(t){m.e(t)}finally{m.f()}this.updateDisplay(g,v,i,e,t),Object.assign(this.currentState,g),this.container.visible=this.container._visible,v.children&&(i.mustResetTree=!0,\"function\"==typeof this.postUpdate&&i.updatedBuffers.push(this)),v.mask&&(i.maskUpdates[this.id]=g.mask),0!==Object.keys(v).length&&this.parent&&this.parent.notifyChange()}}},{key:\"notifyChange\",value:function(){this.parent&&this.parent.notifyChange()}},{key:\"initDisplay\",value:function(){this.container=new PIXI.Container,this.container.zIndex=this.defaultState.zIndex,this.container.id=this.id,this.container._visible=this.defaultState.visible}},{key:\"updateDisplay\",value:function(t,e,i){this.container.zIndex=t.zIndex,this.container.alpha=t.alpha,(e.x||e.y)&&this.container.position.set(t.x*i.toWorldUnits,t.y*i.toWorldUnits),(e.scaleX||e.scaleY)&&this.container.scale.set(t.scaleX||1e-8,t.scaleY||1e-8),this.container.rotation=t.rotation,this.container._visible=t.visible&&!this.hide,this.container.skew.set(t.skewX,t.skewY)}}],[{key:\"createState\",value:function(){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return B(B({t:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),{},{curve:t})}}])}();function V(t){return Object.keys(t).length===Object.keys(L.createState()).length}function G(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(G=function(){return!!t})()}function N(t,e,i,n){var r=X(x(1&n?t.prototype:t),e,i);return 2&n&&\"function\"==typeof r?function(t){return r.apply(i,t)}:r}var q=function(t){function e(){var t,i,n,r;return o(this,e),i=this,n=x(n=e),t=b(i,G()?Reflect.construct(n,r||[],x(i).constructor):n.apply(i,r)),Object.assign(t.defaultState,{fillColor:e.defaultFillColor(),lineWidth:e.defaultLineWidth(),lineColor:e.defaultLineColor(),fillAlpha:e.defaultFillAlpha(),lineAlpha:e.defaultLineAlpha(),blendMode:PIXI.BLEND_MODES.NORMAL}),t}return S(e,t),h(e,[{key:\"initDisplay\",value:function(){N(e,\"initDisplay\",this,3)([]),this.graphics=new PIXI.Graphics,this.graphics.lineStyle(this.defaultState.lineWidth,this.defaultState.lineColor,this.defaultState.lineAlpha),null!==this.defaultState.fillColor&&this.graphics.beginFill(this.defaultState.fillColor,this.defaultState.fillAlpha)}},{key:\"updateDisplay\",value:function(t,i,n){N(e,\"updateDisplay\",this,3)([t,i,n]),this.graphics.blendMode=t.blendMode}}],[{key:\"defaultLineWidth\",value:function(){return 0}},{key:\"defaultFillColor\",value:function(){return 16777215}},{key:\"defaultLineColor\",value:function(){return 0}},{key:\"defaultLineAlpha\",value:function(){return 1}},{key:\"defaultFillAlpha\",value:function(){return 1}}])}(L);function K(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(K=function(){return!!t})()}function Q(t,e,i,n){var r=X(x(1&n?t.prototype:t),e,i);return 2&n&&\"function\"==typeof r?function(t){return r.apply(i,t)}:r}var Z=function(t){function e(){var t,i,n,r;return o(this,e),i=this,n=x(n=e),(t=b(i,K()?Reflect.construct(n,r||[],x(i).constructor):n.apply(i,r))).defaultState.radius=e.defaultRadius(),t}return S(e,t),h(e,[{key:\"initDisplay\",value:function(){Q(e,\"initDisplay\",this,3)([]),this.graphics.drawCircle(0,0,this.defaultState.radius),null!==this.defaultState.fillColor&&this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,i,n){Q(e,\"updateDisplay\",this,3)([t,i,n]),(i.radius||i.lineColor||i.lineWidth||i.fillColor||i.fillAlpha||i.lineAlpha)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor),this.graphics.drawCircle(0,0,t.radius*n.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}],[{key:\"defaultRadius\",value:function(){return 100}}])}(q);function J(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(J=function(){return!!t})()}function tt(t,e,i,n){var r=X(x(1&n?t.prototype:t),e,i);return 2&n&&\"function\"==typeof r?function(t){return r.apply(i,t)}:r}var et=function(t){function e(){var t,i,n,r;return o(this,e),i=this,n=x(n=e),(t=b(i,J()?Reflect.construct(n,r||[],x(i).constructor):n.apply(i,r))).defaultState.x2=e.defaultPosition(),t.defaultState.y2=e.defaultPosition(),t}return S(e,t),h(e,[{key:\"initDisplay\",value:function(){tt(e,\"initDisplay\",this,3)([])}},{key:\"updateDisplay\",value:function(t,i,n){tt(e,\"updateDisplay\",this,3)([t,i,n]),(i.lineWidth||i.lineColor||i.lineAlpha||i.x2||i.y2||i.x||i.y)&&(this.graphics.clear(),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.moveTo(0,0),this.graphics.lineTo(-this.container.x+t.x2*n.toWorldUnits,-this.container.y+t.y2*n.toWorldUnits))}}],[{key:\"defaultPosition\",value:function(){return 100}}])}(q);function it(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(it=function(){return!!t})()}function nt(t,e,i,n){var r=X(x(1&n?t.prototype:t),e,i);return 2&n&&\"function\"==typeof r?function(t){return r.apply(i,t)}:r}var rt=function(t){function e(){var t,i,n,r;return o(this,e),i=this,n=x(n=e),t=b(i,it()?Reflect.construct(n,r||[],x(i).constructor):n.apply(i,r)),Object.assign(t.defaultState,{width:e.defaultSideLength(),height:e.defaultSideLength()}),t}return S(e,t),h(e,[{key:\"initDisplay\",value:function(){nt(e,\"initDisplay\",this,3)([]),this.graphics.drawRect(0,0,this.defaultState.width,this.defaultState.height),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,i,n){nt(e,\"updateDisplay\",this,3)([t,i,n]),(i.lineWidth||i.lineColor||i.width||i.height||i.lineAlpha||i.fillColor)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawRect(0,0,t.width*n.toWorldUnits,t.height*n.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}],[{key:\"defaultSideLength\",value:function(){return 100}}])}(q);function st(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(st=function(){return!!t})()}function ot(t,e,i,n){var r=X(x(1&n?t.prototype:t),e,i);return 2&n&&\"function\"==typeof r?function(t){return r.apply(i,t)}:r}var at=function(t){function e(){var t,i,n,r;return o(this,e),i=this,n=x(n=e),t=b(i,st()?Reflect.construct(n,r||[],x(i).constructor):n.apply(i,r)),Object.assign(t.defaultState,{anchorX:e.defaultAnchor(),anchorY:e.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215}),t}return S(e,t),h(e,[{key:\"initDisplay\",value:function(){ot(e,\"initDisplay\",this,3)([])}},{key:\"updateDisplay\",value:function(t,i,n){ot(e,\"updateDisplay\",this,3)([t,i,n]),this.graphics.anchor.set(t.anchorX,t.anchorY),this.graphics.blendMode=t.blendMode,this.graphics.tint=t.tint}}],[{key:\"defaultAnchor\",value:function(){return 0}}])}(L);function ht(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ht=function(){return!!t})()}var lt=function(t){function e(t,i){var n,r,s,a;return o(this,e),r=this,a=['Could not find image: \"'+t+'\". Make sure it is in your assets folder and is spelled correctly.'],s=x(s=e),(n=b(r,ht()?Reflect.construct(s,a||[],x(r).constructor):s.apply(r,a))).image=t,n.cause=i,n.name=\"MissingImageError\",n}return S(e,t),h(e)}(I(Error));function ut(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ut=function(){return!!t})()}var ct=function(t){function e(){var t,i,n,r;return o(this,e),i=this,n=x(n=e),t=b(i,ut()?Reflect.construct(n,r||[],x(i).constructor):n.apply(i,r)),Object.assign(t.defaultState,{image:null,baseWidth:null,baseHeight:null,scaleMode:\"LINEAR\"}),t.missingTextures={},t}return S(e,t),h(e,[{key:\"updateDisplay\",value:function(t,i,n){var r,s,o,a,h;if((r=e,s=\"updateDisplay\",o=this,h=X(x(1&(a=3)?r.prototype:r),s,o),2&a&&\"function\"==typeof h?function(t){return h.apply(o,t)}:h)([t,i,n]),i.image)try{null!==t.image?this.graphics.texture=PIXI.Texture.from(t.image):this.graphics.texture=PIXI.Texture.EMPTY,this.graphics.texture.baseTexture.scaleMode=PIXI.SCALE_MODES[t.scaleMode]}catch(e){this.missingTextures[t.image]||(this.missingTextures[t.image]=!0,w.push(new lt(t.image,e)))}i.baseWidth&&(this.graphics.width=t.baseWidth),i.baseHeight&&(this.graphics.height=t.baseHeight)}}])}(at);function pt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(pt=function(){return!!t})()}var ft=function(t){function e(){return o(this,e),t=this,n=arguments,i=x(i=e),b(t,pt()?Reflect.construct(i,n||[],x(t).constructor):i.apply(t,n));var t,i,n}return S(e,t),h(e,[{key:\"initDisplay\",value:function(){var t,i,n,r,s;(t=e,i=\"initDisplay\",n=this,s=X(x(1&(r=3)?t.prototype:t),i,n),2&r&&\"function\"==typeof s?function(t){return s.apply(n,t)}:s)([]),null===this.defaultState.image?this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY):this.graphics=PIXI.Sprite.from(this.defaultState.image)}}])}(ct);function dt(t,e){if(t.width>e)for(;t.text.length>3&&t.width>e;)t.text=t.text.slice(0,-4)+\"...\"}function yt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(yt=function(){return!!t})()}function vt(t,e,i,n){var r=X(x(1&n?t.prototype:t),e,i);return 2&n&&\"function\"==typeof r?function(t){return r.apply(i,t)}:r}var gt=function(t){function e(){var t,i,n,r;return o(this,e),i=this,n=x(n=e),t=b(i,yt()?Reflect.construct(n,r||[],x(i).constructor):n.apply(i,r)),Object.assign(t.defaultState,{text:\"\",textAlign:\"left\",strokeColor:0,strokeThickness:0,fillColor:0,fontSize:26,fontFamily:\"Lato\",fontWeight:\"normal\",maxWidth:0}),t}return S(e,t),h(e,[{key:\"initDisplay\",value:function(){vt(e,\"initDisplay\",this,3)([]),this.graphics=new PIXI.Text(this.defaultState.text,{align:this.defaultState.textAlign,fontSize:this.defaultState.fontSize+\"px\",fontFamily:this.defaultState.fontFamily,fill:this.defaultState.fillColor})}},{key:\"updateDisplay\",value:function(t,i,n){vt(e,\"updateDisplay\",this,3)([t,i,n]),this.graphics.style.align=t.textAlign,this.graphics.style.stroke=t.strokeColor,this.graphics.style.strokeThickness=t.strokeThickness,this.graphics.style.fill=t.fillColor,this.graphics.style.fontSize=t.fontSize||1,this.graphics.style.fontFamily=t.fontFamily,this.graphics.style.fontWeight=t.fontWeight,(i.text||i.strokeThickness||i.fontSize||i.fontFamily||i.fontWeight||i.maxWidth||i.maxWidth)&&(this.graphics.text=t.text,t.maxWidth&&dt(this.graphics,t.maxWidth))}}])}(at);function mt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(mt=function(){return!!t})()}var wt=function(t){function e(t,i){var n,r,s,a;return o(this,e),r=this,a=['Could not find font: \"'+t+'\". Make sure it is in your assets folder and is spelled correctly.'],s=x(s=e),(n=b(r,mt()?Reflect.construct(s,a||[],x(r).constructor):s.apply(r,a))).font=t,n.cause=i,n.name=\"MissingBitmapFontError\",n}return S(e,t),h(e)}(I(Error));function bt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(bt=function(){return!!t})()}function xt(t,e,i,n){var r=X(x(1&n?t.prototype:t),e,i);return 2&n&&\"function\"==typeof r?function(t){return r.apply(i,t)}:r}var kt=function(t){function e(){var t,i,n,r;return o(this,e),i=this,n=x(n=e),t=b(i,bt()?Reflect.construct(n,r||[],x(i).constructor):n.apply(i,r)),Object.assign(t.defaultState,{text:\"\",textAlign:\"left\",fontSize:26,fontFamily:null,anchorX:at.defaultAnchor(),anchorY:at.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215,maxWidth:0}),t.missingFonts={},t}return S(e,t),h(e,[{key:\"initDisplay\",value:function(){xt(e,\"initDisplay\",this,3)([]),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(t,i,n){xt(e,\"updateDisplay\",this,3)([t,i,n]),null!==t.fontFamily?PIXI.BitmapFont.available[t.fontFamily]?(0===this.graphics.children.length?(this.displayed=new PIXI.BitmapText(\"\",{fontSize:t.fontSize||1,fontName:t.fontFamily}),this.graphics.addChild(this.displayed)):(this.displayed.fontName=t.fontFamily,this.displayed.fontSize=t.fontSize||1),this.displayed.anchor.set(t.anchorX,t.anchorY),this.displayed.blendMode=t.blendMode,this.displayed.tint=t.tint,this.displayed.align=t.textAlign,(i.text||i.maxWidth||i.fontSize||i.fontFamily)&&(this.displayed.text=t.text,t.maxWidth&&dt(this.displayed,t.maxWidth))):(this.missingFonts[t.fontFamily]||(this.missingFonts[t.fontFamily]=!0,w.push(new wt(t.fontFamily))),this.graphics.removeChildren()):this.graphics.removeChildren()}}])}(L);function St(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(St=function(){return!!t})()}function Ot(t,e,i,n){var r=X(x(1&n?t.prototype:t),e,i);return 2&n&&\"function\"==typeof r?function(t){return r.apply(i,t)}:r}var It=function(t){function e(){var t,i,n,r;return o(this,e),i=this,n=x(n=e),t=b(i,St()?Reflect.construct(n,r||[],x(i).constructor):n.apply(i,r)),Object.assign(t.defaultState,{children:[]}),t}return S(e,t),h(e,[{key:\"initDisplay\",value:function(){Ot(e,\"initDisplay\",this,3)([]),this.graphics=new PIXI.Container,this.graphics.sortableChildren=!0}},{key:\"updateDisplay\",value:function(t,i,n){Ot(e,\"updateDisplay\",this,3)([t,i,n])}},{key:\"childrenContainer\",get:function(){return this.graphics}}])}(L);function Mt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Mt=function(){return!!t})()}var Pt=function(t){function e(){return o(this,e),t=this,n=arguments,i=x(i=e),b(t,Mt()?Reflect.construct(i,n||[],x(t).constructor):i.apply(t,n));var t,i,n}return S(e,t),h(e)}(It),Ct=null,Wt=[];function Dt(){return Ct}function At(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(At=function(){return!!t})()}var Rt=function(t){function e(){return o(this,e),t=this,n=arguments,i=x(i=e),b(t,At()?Reflect.construct(i,n||[],x(t).constructor):i.apply(t,n));var t,i,n}return S(e,t),h(e,[{key:\"initDisplay\",value:function(){var t,i,n,r,s;(t=e,i=\"initDisplay\",n=this,s=X(x(1&(r=3)?t.prototype:t),i,n),2&r&&\"function\"==typeof s?function(t){return s.apply(n,t)}:s)([]),this.buffer=new PIXI.Container,this.buffer.sortableChildren=!0,this.gameTexture=null,this.graphics=new PIXI.Sprite,this.needsRender=!0}},{key:\"postUpdate\",value:function(){if(this.needsRender){var t=this.buffer.getBounds().width,e=this.buffer.getBounds().height;if(null==this.gameTexture||this.gameTexture.width<t||this.gameTexture.height<e){var i=Math.min(Math.max(t,512),4096),n=Math.min(Math.max(e,512),4096);this.gameTexture=PIXI.RenderTexture.create(i,n),r=this.gameTexture,Wt.push(r),this.graphics.texture=this.gameTexture}Dt().render(this.buffer,this.gameTexture),this.needsRender=!1}var r}},{key:\"childrenContainer\",get:function(){return this.buffer}},{key:\"notifyChange\",value:function(){this.needsRender=!0,this.parent&&this.parent.notifyChange()}}])}(It);function Tt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function Et(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Tt(Object(i),!0).forEach(function(e){s(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Tt(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function Ft(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ft=function(){return!!t})()}function zt(t,e,i,n){var r=X(x(1&n?t.prototype:t),e,i);return 2&n&&\"function\"==typeof r?function(t){return r.apply(i,t)}:r}var jt=function(t){function e(){var t,i,n,r;return o(this,e),i=this,n=x(n=e),t=b(i,Ft()?Reflect.construct(n,r||[],x(i).constructor):n.apply(i,r)),Object.assign(t.defaultState,{images:\"\",loop:!1,duration:1e3,playing:!0,restarted:null,animationProgress:0,date:0}),t}return S(e,t),h(e,[{key:\"initDisplay\",value:function(){zt(e,\"initDisplay\",this,3)([]),this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY)}},{key:\"addState\",value:function(t,i,n,r){zt(e,\"addState\",this,3)([t,i,n]);var s=this.states[n].find(function(e){return e.t===t}),o=r.date+r.frameDuration*t;s.date=o}},{key:\"updateDisplay\",value:function(t,i,n,r,s){if(zt(e,\"updateDisplay\",this,3)([t,i,n]),t.images){var o=t.images.split(\",\");if(t.animationProgress>=0){var a=r.date+r.frameDuration*s,h=Et(Et({},t),{},{date:a});this.computeAnimationProgressTime(t,h);var l=Math.floor(o.length*h.animationProgress),u=t.loop?o[l%o.length]:o[l]||o[o.length-1];try{this.graphics.texture=PIXI.Texture.from(u)}catch(t){w.push(new lt(u,t))}}}else this.graphics.texture=PIXI.Texture.EMPTY}},{key:\"computeAnimationProgressTime\",value:function(t,e){e.restarted&&e.restarted.date===e.date?e.animationProgress=0:(e.animationProgress=t.animationProgress,t.playing&&(e.animationProgress+=(e.date-t.date)/t.duration))}}])}(at);function Ht(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ht=function(){return!!t})()}function Xt(t,e,i,n){var r=X(x(1&n?t.prototype:t),e,i);return 2&n&&\"function\"==typeof r?function(t){return r.apply(i,t)}:r}var _t=function(t){function e(){var t,i,n,r;return o(this,e),i=this,n=x(n=e),t=b(i,Ht()?Reflect.construct(n,r||[],x(i).constructor):n.apply(i,r)),Object.assign(t.defaultState,{width:e.defaultSideLength(),height:e.defaultSideLength(),radius:e.defaultRadius()}),t}return S(e,t),h(e,[{key:\"initDisplay\",value:function(){Xt(e,\"initDisplay\",this,3)([]),this.graphics.drawRoundedRect(0,0,this.defaultState.width,this.defaultState.height,this.defaultState.radius),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,i,n){Xt(e,\"updateDisplay\",this,3)([t,i,n]),(i.lineWidth||i.lineColor||i.lineAlpha||i.fillColor||i.radius||i.height||i.width)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawRoundedRect(0,0,t.width*n.toWorldUnits,t.height*n.toWorldUnits,t.radius*n.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}],[{key:\"defaultSideLength\",value:function(){return 100}},{key:\"defaultRadius\",value:function(){return 20}}])}(q);function Bt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Bt=function(){return!!t})()}function Yt(t,e,i,n){var r=X(x(1&n?t.prototype:t),e,i);return 2&n&&\"function\"==typeof r?function(t){return r.apply(i,t)}:r}var Ut=function(t){function e(){var t,i,n,r;return o(this,e),i=this,n=x(n=e),t=b(i,Bt()?Reflect.construct(n,r||[],x(i).constructor):n.apply(i,r)),Object.assign(t.defaultState,{points:[]}),t}return S(e,t),h(e,[{key:\"initDisplay\",value:function(){Yt(e,\"initDisplay\",this,3)([]),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,i,n){Yt(e,\"updateDisplay\",this,3)([t,i,n]),(i.lineWidth||i.lineColor||i.lineAlpha||i.fillColor||i.points)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawPolygon(t.points.map(function(t){return t*n.toWorldUnits})),null!==t.fillColor&&this.graphics.endFill())}}])}(q);function Lt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Lt=function(){return!!t})()}function Vt(t,e,i,n){var r=X(x(1&n?t.prototype:t),e,i);return 2&n&&\"function\"==typeof r?function(t){return r.apply(i,t)}:r}var Gt=function(t){function e(){var t,i,n,r;return o(this,e),i=this,n=x(n=e),t=b(i,Lt()?Reflect.construct(n,r||[],x(i).constructor):n.apply(i,r)),Object.assign(t.defaultState,{tileX:0,tileY:0,tileScaleX:1,tileScaleY:1}),t}return S(e,t),h(e,[{key:\"initDisplay\",value:function(){Vt(e,\"initDisplay\",this,3)([]),this.graphics=new PIXI.TilingSprite(PIXI.Texture.EMPTY)}},{key:\"updateDisplay\",value:function(t,i,n){Vt(e,\"updateDisplay\",this,3)([t,i,n]),this.graphics.tilePosition.x=t.tileX,this.graphics.tilePosition.y=t.tileY,this.graphics.tileScale.x=t.tileScaleX,this.graphics.tileScale.y=t.tileScaleY}}])}(ct),Nt=function(){return h(function t(){o(this,t)},null,[{key:\"create\",value:function(t){var e={C:Z,R:rt,L:et,S:ft,T:gt,X:kt,G:Pt,B:Rt,A:jt,K:_t,P:Ut,D:Gt}[t];if(!e)throw new Error(\"Exception: entity type not found: \"+t);return new e}}])}();function qt(t){var e=1.70158,i=0,n=1;return 0===t?0:1==(t/=1)?1:(i||(i=.3),n<Math.abs(1)?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*t)*Math.sin((1*t-e)*(2*Math.PI)/i)+1+0)}function Kt(t){return t<.5?2*t*t:(4-2*t)*t-1}var $t=function(t){return Math.pow(t,3)},Qt=function(t){return 1+Math.pow(t-1,3)},Zt={r:\"rotation\",R:\"radius\",X:\"x2\",Y:\"y2\",w:\"width\",h:\"height\",t:\"tint\",f:\"fillColor\",F:\"fillAlpha\",c:\"lineColor\",W:\"lineWidth\",A:\"lineAlpha\",a:\"alpha\",i:\"image\",S:\"strokeThickness\",sc:\"strokeColor\",ff:\"fontFamily\",s:\"fontSize\",fw:\"fontWeight\",T:\"text\",ta:\"textAlign\",ch:\"children\",sx:\"scaleX\",sy:\"scaleY\",ax:\"anchorX\",ay:\"anchorY\",kx:\"skewX\",ky:\"skewY\",v:\"visible\",z:\"zIndex\",b:\"blendMode\",I:\"images\",rs:\"restarted\",p:\"playing\",l:\"loop\",d:\"duration\",bw:\"baseWidth\",bh:\"baseHeight\",ps:\"points\",tx:\"tileX\",ty:\"tileY\",tsx:\"tileScaleX\",tsy:\"tileScaleY\",sm:\"scaleMode\"},Jt=function(){return h(function t(e,i){o(this,t),this.id=++i.instanceCount,this.type=e[0]},[{key:\"apply\",value:function(t){var e=Nt.create(this.type);e.id=this.id,t.set(this.id,e)}}])}(),te=function(){return h(function t(e,i){var n=f(e,8),r=n[0],s=n[1],a=n[2],h=n[3],u=n[4],c=n[5],p=n[6],d=n[7];o(this,t),this.loader=new PIXI.Loader,\"0\"===a&&(a=PIXI.utils.TextureCache[s].width),\"0\"===h&&(h=PIXI.utils.TextureCache[s].height);for(var y=d>0?d:p,v={frames:{},meta:{image:(l.baseUrl?l.baseUrl:\"\")+l.images[s]}},g=0;g<p;g++){var m=p>1?r+g:r;v.frames[m]={frame:{x:a*c+g%y*a,y:h*u+Math.floor(g/y)*h,w:a,h},sourceSize:{w:a,h},rotated:!1,trimmed:!1}}var w=\"data:text/json;charset=UTF-8,\"+JSON.stringify(v);PIXI.utils.TextureCache[w+\"_image\"]||this.loader.add(w,{crossOrigin:!0})},[{key:\"apply\",value:function(){var t=this;if(Object.keys(this.loader.resources).length>0)return new Promise(function(e){t.loader.load(),t.loader.onComplete.add(e)})}}])}(),ee={C:Jt,U:function(){return h(function t(e,i,n){o(this,t),this.id=+e[0],this.t=+e[1],this.params={},this.curve={};for(var r=2;r<e.length;){var s=Zt[e[r]]||e[r],a=j[s]||j.default,h=a.type(e[r+1]);\"function\"==typeof a.convert&&(h=a.convert(h,i,n,this.t));var l=t.curves[e[r+2]];this.params[s]=h,r+=2,l&&(this.curve[s]=l,r+=1)}},[{key:\"apply\",value:function(t,e){var i=t.get(this.id);i.addState(this.t,{values:this.params,curve:this.curve},e.number,e),i.stateAdded=!0}}],[{key:\"curves\",get:function(){return{_:function(t){return t<1?0:1},\"âˆ«\":Kt,\"ðŸ™–\":$t,\"ðŸ™’\":Qt,\"~\":qt,Î“:function(t){return 1}}}}])}(),L:te};function ie(t,e){for(var i=[],n=\"\",r=0,s=\"\",o=!1;r<t.length;){var a=t[r++];a===e?o?n+=a:(i.push(n),n=\"\"):\"'\"===a&&\"\\\\\"!==s?(o=!o,n+=a):\"\\\\\"===s?n+=\"'\"===a?\"\\\\'\":\"\\\\\"+a:\"\\\\\"!==a&&(n+=a),s=a}return i.push(n),i}function ne(t,e,i,n){var r=ie(e,\";\"),s=[];return r.forEach(function(e){return s.push(new t(ie(e,\" \"),i,n))}),s}var re=function(){return h(function t(){o(this,t)},null,[{key:\"parse\",value:function(t,e,i){var n=[],r=ie(t,\"\\n\");for(var s in r){var o=ee[r[s][0]];if(!o)throw new Error(\"Unrecognised command : \"+r[s][0]);n=[].concat(p(n),p(ne(o,r[s].slice(1),e,i)))}return n}}])}(),se=1920,oe=1080;function ae(t,e){var i=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(t){if(\"string\"==typeof t)return he(t,e);var i={}.toString.call(t).slice(8,-1);return\"Object\"===i&&t.constructor&&(i=t.constructor.name),\"Map\"===i||\"Set\"===i?Array.from(t):\"Arguments\"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?he(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var s,o=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw s}}}}function he(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}function le(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function ue(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?le(Object(i),!0).forEach(function(e){s(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):le(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var ce={},pe=function(){return h(function t(e){o(this,t),this.entities=new Map,this.frames=[],this.loadingAssets=0,this.extrapolationMap={},this.globalData={toWorldUnits:1,mustResetTree:!0,maskUpdates:{},updatedBuffers:[],players:[],instanceCount:0},ce.entities=this.entities},[{key:\"handleFrameData\",value:function(t,e){var i=this;if(e){var n=re.parse(e,this.globalData,t);n&&n.forEach(function(e){var n=e.apply(i.entities,t);n&&(i.loadingAssets++,n.then(function(){i.loadingAssets--}))})}var r=ue({},t);return r.previous=this.frames[this.frames.length-1]||r,this.extrapolate(r),r!==r.previous&&(r.previous.next=r),this.frames.push(r),r}},{key:\"lastElementOf\",value:function(t){return t[t.length-1]}},{key:\"extrapolate\",value:function(t){var e=this,i=t.number,n=t.previous.number;this.entities.forEach(function(r){if(r.stateAdded){r.stateAdded=!1,r.states[i]||(r.states[i]=[]),e.extrapolationMap[r.id]||(e.extrapolationMap[r.id]=ue({},r.defaultState));var s=r.states[i];s.sort(function(t,e){return t.t-e.t}),s.length&&1===e.lastElementOf(s).t||r.addState(1,{},i,t);var o=e.extrapolationMap[r.id];r.states[n]&&n!==i&&(o=r.states[n][r.states[n].length-1]),r.states[i]=s.map(function(t){var i=e.extrapolationMap[r.id]=ue(ue({},e.extrapolationMap[r.id]),t);return\"function\"==typeof r.computeAnimationProgressTime&&r.computeAnimationProgressTime(o,i),o=i,i})}})}},{key:\"reinitScene\",value:function(t,e){this.globalData.toPixel=se/e.width*e.oversampling,this.globalData.mustResetTree=!0,ce.container=this.container=t,t.sortableChildren=!0,this.entities.forEach(function(t){t.init()})}},{key:\"stillLoading\",value:function(){return this.loadingAssets>0}},{key:\"updateScene\",value:function(t,e,i){var n=this;if(!this.stillLoading()){for(var r in this.entities.forEach(function(t){return t.render(i,e,n.globalData)}),this.globalData.mustResetTree&&(this.reconstructTree(),this.globalData.mustResetTree=!1),this.globalData.maskUpdates){var s=this.entities.get(+r),o=this.globalData.maskUpdates[r];s.container.mask=-1===o?null:this.entities.get(o).graphics}var a,h=ae(this.globalData.updatedBuffers);try{for(h.s();!(a=h.n()).done;){a.value.postUpdate()}}catch(t){h.e(t)}finally{h.f()}this.globalData.maskUpdates={}}}},{key:\"reconstructTree\",value:function(){var t=this;this.container.removeChildren(),this.entities.forEach(function(e){e instanceof It&&(e.childrenContainer.removeChildren(),e.currentState.children.forEach(function(i){var n=t.entities.get(i);e.childrenContainer.addChild(n.container),n.parent=e}),e.notifyChange())}),this.entities.forEach(function(e){e.container.parent||t.container.addChild(e.container)})}},{key:\"handleGlobalData\",value:function(t,e){this.globalData.players=t;var i=e.width,n=e.height;this.globalData.toWorldUnits=v(i,n,se,oe),ce.toWorldUnits=this.globalData.toWorldUnits,ce.hasOwnProperty(\"coeff\")||Object.defineProperty(ce,\"coeff\",{get:function(){var t='The \"coeff\" property of GraphicEntityModule\\'s API is deprecated, please use \"toWorldUnits\" instead',e=(new Error).stack;return console.groupCollapsed?(console.groupCollapsed(\"%cDeprecation Warning: %c%s\",\"color:#614108;background:#fffbe6\",\"font-weight:normal;color:#614108;background:#fffbe6\",t),console.warn(e),console.groupEnd()):console.warn(\"Deprecation Warning: \",t),ce.toWorldUnits}})}}],[{key:\"name\",get:function(){return\"entitymodule\"}}])}();function fe(t,e,i,n){var r=X(x(1&n?t.prototype:t),e,i);return 2&n&&\"function\"==typeof r?function(t){return r.apply(i,t)}:r}function de(t,e,i){return e=x(e),b(t,ye()?Reflect.construct(e,i||[],x(t).constructor):e.apply(t,i))}function ye(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ye=function(){return!!t})()}function ve(t,e){var i=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(t){if(\"string\"==typeof t)return ge(t,e);var i={}.toString.call(t).slice(8,-1);return\"Object\"===i&&t.constructor&&(i=t.constructor.name),\"Map\"===i||\"Set\"===i?Array.from(t):\"Arguments\"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ge(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var s,o=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw s}}}}function ge(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}const me=function(){var e,i=PIXI,n=i.Rectangle,r=i.Point,s=i.Container,a=i.VERSION,l=function(){return h(function t(e){o(this,t),this.viewport=e,this.touches=[],this.addListeners()},[{key:\"addListeners\",value:function(){var t=this;this.viewport.interactive=!0,this.viewport.forceHitArea||(this.viewport.hitArea=new n(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on(\"pointerdown\",this.down,this),this.viewport.on(\"pointermove\",this.move,this),this.viewport.on(\"pointerup\",this.up,this),this.viewport.on(\"pointerupoutside\",this.up,this),this.viewport.on(\"pointercancel\",this.up,this),this.viewport.on(\"pointerout\",this.up,this),this.wheelFunction=function(e){return t.handleWheel(e)},this.viewport.options.divWheel.addEventListener(\"wheel\",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}},{key:\"destroy\",value:function(){this.viewport.options.divWheel.removeEventListener(\"wheel\",this.wheelFunction)}},{key:\"down\",value:function(t){if(!this.viewport.pause&&this.viewport.worldVisible){if(\"mouse\"===t.data.pointerType?this.isMouseDown=!0:this.get(t.data.pointerId)||this.touches.push({id:t.data.pointerId,last:null}),1===this.count()){this.last=t.data.global.clone();var e=this.viewport.plugins.get(\"decelerate\"),i=this.viewport.plugins.get(\"bounce\");e&&e.isActive()||i&&i.isActive()?this.clickedAvailable=!1:this.clickedAvailable=!0}else this.clickedAvailable=!1;this.viewport.plugins.down(t)&&this.viewport.options.stopPropagation&&t.stopPropagation()}}},{key:\"checkThreshold\",value:function(t){return Math.abs(t)>=this.viewport.threshold}},{key:\"move\",value:function(t){if(!this.viewport.pause&&this.viewport.worldVisible){var e=this.viewport.plugins.move(t);if(this.clickedAvailable){var i=t.data.global.x-this.last.x,n=t.data.global.y-this.last.y;(this.checkThreshold(i)||this.checkThreshold(n))&&(this.clickedAvailable=!1)}e&&this.viewport.options.stopPropagation&&t.stopPropagation()}}},{key:\"up\",value:function(t){if(!this.viewport.pause&&this.viewport.worldVisible){\"mouse\"===t.data.pointerType&&(this.isMouseDown=!1),\"mouse\"!==t.data.pointerType&&this.remove(t.data.pointerId);var e=this.viewport.plugins.up(t);this.clickedAvailable&&0===this.count()&&(this.viewport.emit(\"clicked\",{screen:this.last,world:this.viewport.toWorld(this.last),viewport:this}),this.clickedAvailable=!1),e&&this.viewport.options.stopPropagation&&t.stopPropagation()}}},{key:\"getPointerPosition\",value:function(t){var e=new r;return this.viewport.options.interaction?this.viewport.options.interaction.mapPositionToPoint(e,t.clientX,t.clientY):(e.x=t.clientX,e.y=t.clientY),e}},{key:\"handleWheel\",value:function(t){if(!this.viewport.pause&&this.viewport.worldVisible){var e=this.viewport.toLocal(this.getPointerPosition(t));return this.viewport.left<=e.x&&e.x<=this.viewport.right&&this.viewport.top<=e.y&&e.y<=this.viewport.bottom?this.viewport.plugins.wheel(t):void 0}}},{key:\"pause\",value:function(){this.touches=[],this.isMouseDown=!1}},{key:\"get\",value:function(t){var e,i=ve(this.touches);try{for(i.s();!(e=i.n()).done;){var n=e.value;if(n.id===t)return n}}catch(t){i.e(t)}finally{i.f()}return null}},{key:\"remove\",value:function(t){for(var e=0;e<this.touches.length;e++)if(this.touches[e].id===t)return void this.touches.splice(e,1)}},{key:\"count\",value:function(){return(this.isMouseDown?1:0)+this.touches.length}}])}(),u=[\"drag\",\"pinch\",\"wheel\",\"follow\",\"mouse-edges\",\"decelerate\",\"bounce\",\"snap-zoom\",\"clamp-zoom\",\"snap\",\"clamp\"],c=function(){return h(function t(e){o(this,t),this.viewport=e,this.list=[],this.plugins={}},[{key:\"add\",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.length;this.plugins[t]=e;var n=u.indexOf(t);-1!==n&&u.splice(n,1),u.splice(i,0,t),this.sort()}},{key:\"get\",value:function(t){return this.plugins[t]}},{key:\"update\",value:function(t){var e,i=ve(this.list);try{for(i.s();!(e=i.n()).done;){e.value.update(t)}}catch(t){i.e(t)}finally{i.f()}}},{key:\"resize\",value:function(){var t,e=ve(this.list);try{for(e.s();!(t=e.n()).done;){t.value.resize()}}catch(t){e.e(t)}finally{e.f()}}},{key:\"reset\",value:function(){this.plugins.bounce&&(this.plugins.bounce.reset(),this.plugins.bounce.bounce()),this.plugins.decelerate&&this.plugins.decelerate.reset(),this.plugins.snap&&this.plugins.snap.reset(),this.plugins.clamp&&this.plugins.clamp.update(),this.plugins[\"clamp-zoom\"]&&this.plugins[\"clamp-zoom\"].clamp()}},{key:\"remove\",value:function(t){this.plugins[t]&&(this.plugins[t]=null,this.viewport.emit(t+\"-remove\"),this.sort())}},{key:\"pause\",value:function(t){this.plugins[t]&&this.plugins[t].pause()}},{key:\"resume\",value:function(t){this.plugins[t]&&this.plugins[t].resume()}},{key:\"sort\",value:function(){this.list=[];for(var t=0,e=u;t<e.length;t++){var i=e[t];this.plugins[i]&&this.list.push(this.plugins[i])}}},{key:\"down\",value:function(t){var e,i=!1,n=ve(this.list);try{for(n.s();!(e=n.n()).done;){e.value.down(t)&&(i=!0)}}catch(t){n.e(t)}finally{n.f()}return i}},{key:\"move\",value:function(t){var e,i=!1,n=ve(this.viewport.plugins.list);try{for(n.s();!(e=n.n()).done;){e.value.move(t)&&(i=!0)}}catch(t){n.e(t)}finally{n.f()}return i}},{key:\"up\",value:function(t){var e,i=!1,n=ve(this.list);try{for(n.s();!(e=n.n()).done;){e.value.up(t)&&(i=!0)}}catch(t){n.e(t)}finally{n.f()}return i}},{key:\"wheel\",value:function(t){var e,i=!1,n=ve(this.list);try{for(n.s();!(e=n.n()).done;){e.value.wheel(t)&&(i=!0)}}catch(t){n.e(t)}finally{n.f()}return i}}])}(),p=function(){return h(function t(e){o(this,t),this.parent=e,this.paused=!1},[{key:\"destroy\",value:function(){}},{key:\"down\",value:function(){return!1}},{key:\"move\",value:function(){return!1}},{key:\"up\",value:function(){return!1}},{key:\"wheel\",value:function(){return!1}},{key:\"update\",value:function(){}},{key:\"resize\",value:function(){}},{key:\"reset\",value:function(){}},{key:\"pause\",value:function(){this.paused=!0}},{key:\"resume\",value:function(){this.paused=!1}}])}(),f={direction:\"all\",wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:\"center\",factor:1,mouseButtons:\"all\"},d=function(t){function e(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(this,e),(i=de(this,e,[t])).options=Object.assign({},f,n),i.moved=!1,i.reverse=i.options.reverse?1:-1,i.xDirection=!i.options.direction||\"all\"===i.options.direction||\"x\"===i.options.direction,i.yDirection=!i.options.direction||\"all\"===i.options.direction||\"y\"===i.options.direction,i.parseUnderflow(),i.mouseButtons(i.options.mouseButtons),i}return S(e,t),h(e,[{key:\"mouseButtons\",value:function(t){this.mouse=t&&\"all\"!==t?[-1!==t.indexOf(\"left\"),-1!==t.indexOf(\"middle\"),-1!==t.indexOf(\"right\")]:[!0,!0,!0]}},{key:\"parseUnderflow\",value:function(){var t=this.options.underflow.toLowerCase();\"center\"===t?(this.underflowX=0,this.underflowY=0):(this.underflowX=-1!==t.indexOf(\"left\")?-1:-1!==t.indexOf(\"right\")?1:0,this.underflowY=-1!==t.indexOf(\"top\")?-1:-1!==t.indexOf(\"bottom\")?1:0)}},{key:\"checkButtons\",value:function(t){var e=\"mouse\"===t.data.pointerType,i=this.parent.input.count();return!(!(1===i||i>1&&!this.parent.plugins.get(\"pinch\"))||e&&!this.mouse[t.data.button])}},{key:\"down\",value:function(t){if(!this.paused)return this.checkButtons(t)?(this.last={x:t.data.global.x,y:t.data.global.y},this.current=t.data.pointerId,!0):void(this.last=null)}},{key:\"active\",get:function(){return this.moved}},{key:\"move\",value:function(t){if(!this.paused&&this.last&&this.current===t.data.pointerId){var e=t.data.global.x,i=t.data.global.y,n=this.parent.input.count();if(1===n||n>1&&!this.parent.plugins.get(\"pinch\")){var s=e-this.last.x,o=i-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(s)||this.yDirection&&this.parent.input.checkThreshold(o)){var a={x:e,y:i};return this.xDirection&&(this.parent.x+=(a.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(a.y-this.last.y)*this.options.factor),this.last=a,this.moved||this.parent.emit(\"drag-start\",{screen:new r(this.last.x,this.last.y),world:this.parent.toWorld(new r(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit(\"moved\",{viewport:this.parent,type:\"drag\"}),!0}}else this.moved=!1}}},{key:\"up\",value:function(){var t=this.parent.input.touches;if(1===t.length){var e=t[0];return e.last&&(this.last={x:e.last.x,y:e.last.y},this.current=e.id),this.moved=!1,!0}if(this.last&&this.moved){var i=new r(this.last.x,this.last.y);return this.parent.emit(\"drag-end\",{screen:i,world:this.parent.toWorld(i),viewport:this.parent}),this.last=null,this.moved=!1,!0}}},{key:\"wheel\",value:function(t){if(!this.paused&&(this.options.wheel&&!this.parent.plugins.get(\"wheel\")))return this.xDirection&&(this.parent.x+=t.deltaX*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=t.deltaY*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit(\"wheel-scroll\",this.parent),this.parent.emit(\"moved\",this.parent),this.parent.options.passiveWheel||t.preventDefault(),!0}},{key:\"resume\",value:function(){this.last=null,this.paused=!1}},{key:\"clamp\",value:function(){var t=this.parent.plugins.get(\"decelerate\")||{};if(\"y\"!==this.options.clampWheel)if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,t.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,t.x=0);if(\"x\"!==this.options.clampWheel)if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,t.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,t.y=0)}}])}(p),y={noDrag:!1,percent:1,center:null},v=function(t){function e(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(this,e),(i=de(this,e,[t])).options=Object.assign({},y,n),i}return S(e,t),h(e,[{key:\"down\",value:function(){if(this.parent.input.count()>=2)return this.active=!0,!0}},{key:\"move\",value:function(t){if(!this.paused&&this.active){var e=t.data.global.x,i=t.data.global.y,n=this.parent.input.touches;if(n.length>=2){var r=n[0],s=n[1],o=r.last&&s.last?Math.sqrt(Math.pow(s.last.x-r.last.x,2)+Math.pow(s.last.y-r.last.y,2)):null;if(r.id===t.data.pointerId?r.last={x:e,y:i,data:t.data}:s.id===t.data.pointerId&&(s.last={x:e,y:i,data:t.data}),o){var a,h={x:r.last.x+(s.last.x-r.last.x)/2,y:r.last.y+(s.last.y-r.last.y)/2};this.options.center||(a=this.parent.toLocal(h));var l=(Math.sqrt(Math.pow(s.last.x-r.last.x,2)+Math.pow(s.last.y-r.last.y,2))-o)/this.parent.screenWidth*this.parent.scale.x*this.options.percent;this.parent.scale.x+=l,this.parent.scale.y+=l,this.parent.emit(\"zoomed\",{viewport:this.parent,type:\"pinch\"});var u=this.parent.plugins.get(\"clamp-zoom\");if(u&&u.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{var c=this.parent.toGlobal(a);this.parent.x+=h.x-c.x,this.parent.y+=h.y-c.y,this.parent.emit(\"moved\",{viewport:this.parent,type:\"pinch\"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=h.x-this.lastCenter.x,this.parent.y+=h.y-this.lastCenter.y,this.parent.emit(\"moved\",{viewport:this.parent,type:\"pinch\"})),this.lastCenter=h,this.moved=!0}else this.pinching||(this.parent.emit(\"pinch-start\",this.parent),this.pinching=!0);return!0}}}},{key:\"up\",value:function(){if(this.pinching&&this.parent.input.touches.length<=1)return this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit(\"pinch-end\",this.parent),!0}}])}(p),g={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:\"center\"},m=function(t){function e(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(this,e),(i=de(this,e,[t])).options=Object.assign({},g,n),i.options.direction&&(i.options.left=\"x\"===i.options.direction||\"all\"===i.options.direction||null,i.options.right=\"x\"===i.options.direction||\"all\"===i.options.direction||null,i.options.top=\"y\"===i.options.direction||\"all\"===i.options.direction||null,i.options.bottom=\"y\"===i.options.direction||\"all\"===i.options.direction||null),i.parseUnderflow(),i.update(),i}return S(e,t),h(e,[{key:\"parseUnderflow\",value:function(){var t=this.options.underflow.toLowerCase();\"none\"===t?this.noUnderflow=!0:\"center\"===t?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=-1!==t.indexOf(\"left\")?-1:-1!==t.indexOf(\"right\")?1:0,this.underflowY=-1!==t.indexOf(\"top\")?-1:-1!==t.indexOf(\"bottom\")?1:0,this.noUnderflow=!1)}},{key:\"move\",value:function(){return this.update(),!1}},{key:\"update\",value:function(){if(!this.paused){var t={x:this.parent.x,y:this.parent.y},e=this.parent.plugins.decelerate||{};if(null!==this.options.left||null!==this.options.right){var i=!1;if(this.parent.screenWorldWidth<this.parent.screenWidth){if(!this.noUnderflow)switch(this.underflowX){case-1:0!==this.parent.x&&(this.parent.x=0,i=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,i=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,i=!0)}}else null!==this.options.left&&this.parent.left<(!0===this.options.left?0:this.options.left)&&(this.parent.x=-(!0===this.options.left?0:this.options.left)*this.parent.scale.x,e.x=0,i=!0),null!==this.options.right&&this.parent.right>(!0===this.options.right?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(!0===this.options.right?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,e.x=0,i=!0);i&&this.parent.emit(\"moved\",{viewport:this.parent,original:t,type:\"clamp-x\"})}if(null!==this.options.top||null!==this.options.bottom){var n=!1;if(this.parent.screenWorldHeight<this.parent.screenHeight){if(!this.noUnderflow)switch(this.underflowY){case-1:0!==this.parent.y&&(this.parent.y=0,n=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,n=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,n=!0)}}else null!==this.options.top&&this.parent.top<(!0===this.options.top?0:this.options.top)&&(this.parent.y=-(!0===this.options.top?0:this.options.top)*this.parent.scale.y,e.y=0,n=!0),null!==this.options.bottom&&this.parent.bottom>(!0===this.options.bottom?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(!0===this.options.bottom?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,e.y=0,n=!0);n&&this.parent.emit(\"moved\",{viewport:this.parent,original:t,type:\"clamp-y\"})}}}}])}(p),w={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null},b=function(t){function e(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(this,e),(i=de(this,e,[t])).options=Object.assign({},w,n),i.clamp(),i}return S(e,t),h(e,[{key:\"resize\",value:function(){this.clamp()}},{key:\"clamp\",value:function(){if(!this.paused){var t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight;if(null!==this.options.minWidth&&t<this.options.minWidth){var i=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/i,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit(\"zoomed\",{viewport:this.parent,type:\"clamp-zoom\"})}if(null!==this.options.maxWidth&&t>this.options.maxWidth){var n=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/n,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit(\"zoomed\",{viewport:this.parent,type:\"clamp-zoom\"})}if(null!==this.options.minHeight&&e<this.options.minHeight){var r=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit(\"zoomed\",{viewport:this.parent,type:\"clamp-zoom\"})}if(null!==this.options.maxHeight&&e>this.options.maxHeight){var s=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/s,this.parent.emit(\"zoomed\",{viewport:this.parent,type:\"clamp-zoom\"})}}}}])}(p),x={friction:.95,bounce:.8,minSpeed:.01},k=function(t){function e(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(this,e),(i=de(this,e,[t])).options=Object.assign({},x,n),i.saved=[],i.reset(),i.parent.on(\"moved\",function(t){return i.moved(t)}),i}return S(e,t),h(e,[{key:\"destroy\",value:function(){this.parent}},{key:\"down\",value:function(){this.saved=[],this.x=this.y=!1}},{key:\"isActive\",value:function(){return this.x||this.y}},{key:\"move\",value:function(){if(!this.paused){var t=this.parent.input.count();(1===t||t>1&&!this.parent.plugins.get(\"pinch\"))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30))}}},{key:\"moved\",value:function(t){if(this.saved.length){var e=this.saved[this.saved.length-1];\"clamp-x\"===t.type?e.x===t.original.x&&(e.x=this.parent.x):\"clamp-y\"===t.type&&e.y===t.original.y&&(e.y=this.parent.y)}}},{key:\"up\",value:function(){if(0===this.parent.input.count()&&this.saved.length){var t,e=performance.now(),i=ve(this.saved);try{for(i.s();!(t=i.n()).done;){var n=t.value;if(n.time>=e-100){var r=e-n.time;this.x=(this.parent.x-n.x)/r,this.y=(this.parent.y-n.y)/r,this.percentChangeX=this.percentChangeY=this.options.friction;break}}}catch(t){i.e(t)}finally{i.f()}}}},{key:\"activate\",value:function(t){void 0!==(t=t||{}).x&&(this.x=t.x,this.percentChangeX=this.options.friction),void 0!==t.y&&(this.y=t.y,this.percentChangeY=this.options.friction)}},{key:\"update\",value:function(t){var e;this.paused||(this.x&&(this.parent.x+=this.x*t,this.x*=this.percentChangeX,Math.abs(this.x)<this.minSpeed&&(this.x=0),e=!0),this.y&&(this.parent.y+=this.y*t,this.y*=this.percentChangeY,Math.abs(this.y)<this.minSpeed&&(this.y=0),e=!0),e&&this.parent.emit(\"moved\",{viewport:this.parent,type:\"decelerate\"}))}},{key:\"reset\",value:function(){this.x=this.y=null}}])}(p),O=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:void 0!==t.g?t.g:\"undefined\"!=typeof self?self:{},I=(function(t,e){(function(){var e,i;i=e={linear:function(t,e,i,n){return i*t/n+e},easeInQuad:function(t,e,i,n){return i*(t/=n)*t+e},easeOutQuad:function(t,e,i,n){return-i*(t/=n)*(t-2)+e},easeInOutQuad:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,i,n){return i*(t/=n)*t*t+e},easeOutCubic:function(t,e,i,n){return i*((t=t/n-1)*t*t+1)+e},easeInOutCubic:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,i,n){return i*(t/=n)*t*t*t+e},easeOutQuart:function(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,i,n){return i*(t/=n)*t*t*t*t+e},easeOutQuint:function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e},easeOutSine:function(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e},easeInOutSine:function(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e},easeInExpo:function(t,e,i,n){return 0===t?e:i*Math.pow(2,10*(t/n-1))+e},easeOutExpo:function(t,e,i,n){return t===n?e+i:i*(1-Math.pow(2,-10*t/n))+e},easeInOutExpo:function(t,e,i,n){return(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+e},easeOutCirc:function(t,e,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+e},easeInOutCirc:function(t,e,i,n){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,i,n){var r,s,o;return o=1.70158,0===t||(t/=n),(s=0)||(s=.3*n),(r=i)<Math.abs(i)?(r=i,o=s/4):o=s/(2*Math.PI)*Math.asin(i/r),-r*Math.pow(2,10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/s)+e},easeOutElastic:function(t,e,i,n){var r,s,o;return o=1.70158,0===t||(t/=n),(s=0)||(s=.3*n),(r=i)<Math.abs(i)?(r=i,o=s/4):o=s/(2*Math.PI)*Math.asin(i/r),r*Math.pow(2,-10*t)*Math.sin((t*n-o)*(2*Math.PI)/s)+i+e},easeInOutElastic:function(t,e,i,n){var r,s,o;return o=1.70158,0===t||(t/=n/2),(s=0)||(s=n*(.3*1.5)),(r=i)<Math.abs(i)?(r=i,o=s/4):o=s/(2*Math.PI)*Math.asin(i/r),t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/s)*-.5+e:r*Math.pow(2,-10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/s)*.5+i+e},easeInBack:function(t,e,i,n,r){return void 0===r&&(r=1.70158),i*(t/=n)*t*((r+1)*t-r)+e},easeOutBack:function(t,e,i,n,r){return void 0===r&&(r=1.70158),i*((t=t/n-1)*t*((r+1)*t+r)+1)+e},easeInOutBack:function(t,e,i,n,r){return void 0===r&&(r=1.70158),(t/=n/2)<1?i/2*(t*t*((1+(r*=1.525))*t-r))+e:i/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},easeInBounce:function(t,i,n,r){return n-e.easeOutBounce(r-t,0,n,r)+i},easeOutBounce:function(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,i,n,r){return t<r/2?.5*e.easeInBounce(2*t,0,n,r)+i:.5*e.easeOutBounce(2*t-r,0,n,r)+.5*n+i}},t.exports=i}).call(O)}(e={exports:{}},e.exports),e.exports);function M(t,e){return t?\"function\"==typeof t?t:\"string\"==typeof t?I[t]:void 0:I[e]}var P={sides:\"all\",friction:.5,time:150,ease:\"easeInOutSine\",underflow:\"center\"},C=function(t){function e(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(this,e),(i=de(this,e,[t])).options=Object.assign({},P,n),i.ease=M(i.options.ease,\"easeInOutSine\"),i.options.sides&&(\"all\"===i.options.sides?i.top=i.bottom=i.left=i.right=!0:\"horizontal\"===i.options.sides?i.right=i.left=!0:\"vertical\"===i.options.sides?i.top=i.bottom=!0:(i.top=-1!==i.options.sides.indexOf(\"top\"),i.bottom=-1!==i.options.sides.indexOf(\"bottom\"),i.left=-1!==i.options.sides.indexOf(\"left\"),i.right=-1!==i.options.sides.indexOf(\"right\"))),i.parseUnderflow(),i.last={},i.reset(),i}return S(e,t),h(e,[{key:\"parseUnderflow\",value:function(){var t=this.options.underflow.toLowerCase();\"center\"===t?(this.underflowX=0,this.underflowY=0):(this.underflowX=-1!==t.indexOf(\"left\")?-1:-1!==t.indexOf(\"right\")?1:0,this.underflowY=-1!==t.indexOf(\"top\")?-1:-1!==t.indexOf(\"bottom\")?1:0)}},{key:\"isActive\",value:function(){return null!==this.toX||null!==this.toY}},{key:\"down\",value:function(){this.toX=this.toY=null}},{key:\"up\",value:function(){this.bounce()}},{key:\"update\",value:function(t){if(!this.paused){if(this.bounce(),this.toX){var e=this.toX;e.time+=t,this.parent.emit(\"moved\",{viewport:this.parent,type:\"bounce-x\"}),e.time>=this.options.time?(this.parent.x=e.end,this.toX=null,this.parent.emit(\"bounce-x-end\",this.parent)):this.parent.x=this.ease(e.time,e.start,e.delta,this.options.time)}if(this.toY){var i=this.toY;i.time+=t,this.parent.emit(\"moved\",{viewport:this.parent,type:\"bounce-y\"}),i.time>=this.options.time?(this.parent.y=i.end,this.toY=null,this.parent.emit(\"bounce-y-end\",this.parent)):this.parent.y=this.ease(i.time,i.start,i.delta,this.options.time)}}}},{key:\"calcUnderflowX\",value:function(){var t;switch(this.underflowX){case-1:t=0;break;case 1:t=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:t=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return t}},{key:\"calcUnderflowY\",value:function(){var t;switch(this.underflowY){case-1:t=0;break;case 1:t=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:t=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return t}},{key:\"bounce\",value:function(){if(!this.paused){var t,e=this.parent.plugins.get(\"decelerate\");e&&(e.x||e.y)&&(e.x&&e.percentChangeX===e.options.friction||e.y&&e.percentChangeY===e.options.friction)&&(((t=this.parent.OOB()).left&&this.left||t.right&&this.right)&&(e.percentChangeX=this.options.friction),(t.top&&this.top||t.bottom&&this.bottom)&&(e.percentChangeY=this.options.friction));var i=this.parent.plugins.get(\"drag\")||{},n=this.parent.plugins.get(\"pinch\")||{};if(e=e||{},!(i.active||n.active||this.toX&&this.toY||e.x&&e.y)){var r=(t=t||this.parent.OOB()).cornerPoint;if(!this.toX&&!e.x){var s=null;t.left&&this.left?s=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():0:t.right&&this.right&&(s=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-r.x),null!==s&&this.parent.x!==s&&(this.toX={time:0,start:this.parent.x,delta:s-this.parent.x,end:s},this.parent.emit(\"bounce-x-start\",this.parent))}if(!this.toY&&!e.y){var o=null;t.top&&this.top?o=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():0:t.bottom&&this.bottom&&(o=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-r.y),null!==o&&this.parent.y!==o&&(this.toY={time:0,start:this.parent.y,delta:o-this.parent.y,end:o},this.parent.emit(\"bounce-y-start\",this.parent))}}}}},{key:\"reset\",value:function(){this.toX=this.toY=null}}])}(p),W={topLeft:!1,friction:.8,time:1e3,ease:\"easeInOutSine\",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1},D=function(t){function e(t,i,n){var r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o(this,e),(r=de(this,e,[t])).options=Object.assign({},W,s),r.ease=M(s.ease,\"easeInOutSine\"),r.x=i,r.y=n,r.options.forceStart&&r.startEase(),r}return S(e,t),h(e,[{key:\"snapStart\",value:function(){this.percent=0,this.snapping={time:0};var t=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-t.x,this.deltaY=this.y-t.y,this.startX=t.x,this.startY=t.y,this.parent.emit(\"snap-start\",this.parent)}},{key:\"wheel\",value:function(){this.options.removeOnInterrupt&&this.parent.plugins.remove(\"snap\")}},{key:\"down\",value:function(){this.options.removeOnInterrupt?this.parent.plugins.remove(\"snap\"):this.options.interrupt&&(this.snapping=null)}},{key:\"up\",value:function(){if(0===this.parent.input.count()){var t=this.parent.plugins.get(\"decelerate\");t&&(t.x||t.y)&&(t.percentChangeX=t.percentChangeY=this.options.friction)}}},{key:\"update\",value:function(t){if(!(this.paused||this.options.interrupt&&0!==this.parent.input.count()))if(this.snapping){var e,i,n,r=this.snapping;if(r.time+=t,r.time>this.options.time)e=!0,i=this.startX+this.deltaX,n=this.startY+this.deltaY;else{var s=this.ease(r.time,0,1,this.options.time);i=this.startX+this.deltaX*s,n=this.startY+this.deltaY*s}this.options.topLeft?this.parent.moveCorner(i,n):this.parent.moveCenter(i,n),this.parent.emit(\"moved\",{viewport:this.parent,type:\"snap\"}),e&&(this.options.removeOnComplete&&this.parent.plugins.remove(\"snap\"),this.parent.emit(\"snap-end\",this.parent),this.snapping=null)}else{var o=this.options.topLeft?this.parent.corner:this.parent.center;o.x===this.x&&o.y===this.y||this.snapStart()}}}])}(p),A={width:0,height:0,time:1e3,ease:\"easeInOutSine\",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupts:!1,forceStart:!1,noMove:!1},R=function(t){function e(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(this,e),(i=de(this,e,[t])).options=Object.assign({},A,n),i.options.width>0&&(i.x_scale=t.screenWidth/i.options.width),i.options.height>0&&(i.y_scale=t.screenHeight/i.options.height),i.xIndependent=!!i.x_scale,i.yIndependent=!!i.y_scale,i.x_scale=i.xIndependent?i.x_scale:i.y_scale,i.y_scale=i.yIndependent?i.y_scale:i.x_scale,0===i.options.time?(t.container.scale.x=i.x_scale,t.container.scale.y=i.y_scale,i.options.removeOnComplete&&i.parent.plugins.remove(\"snap-zoom\")):n.forceStart&&i.createSnapping(),i}return S(e,t),h(e,[{key:\"createSnapping\",value:function(){var t=this.parent.scale;this.snapping={time:0,startX:t.x,startY:t.y,deltaX:this.x_scale-t.x,deltaY:this.y_scale-t.y},this.parent.emit(\"snap-zoom-start\",this.parent)}},{key:\"resize\",value:function(){this.snapping=null,this.options.width>0&&(this.x_scale=this.parent._screenWidth/this.options.width),this.options.height>0&&(this.y_scale=this.parent._screenHeight/this.options.height),this.x_scale=this.xIndependent?this.x_scale:this.y_scale,this.y_scale=this.yIndependent?this.y_scale:this.x_scale}},{key:\"reset\",value:function(){this.snapping=null}},{key:\"wheel\",value:function(){this.options.removeOnInterrupt&&this.parent.plugins.remove(\"snap-zoom\")}},{key:\"down\",value:function(){this.options.removeOnInterrupt?this.parent.plugins.remove(\"snap-zoom\"):this.options.interrupt&&(this.snapping=null)}},{key:\"update\",value:function(t){var e;if(!this.paused&&(!this.options.interrupt||0===this.parent.input.count()))if(this.options.center||this.options.noMove||(e=this.parent.center),this.snapping){if(this.snapping){var i=this.snapping;if(i.time+=t,i.time>=this.options.time)this.parent.scale.set(this.x_scale,this.y_scale),this.options.removeOnComplete&&this.parent.plugins.remove(\"snap-zoom\"),this.parent.emit(\"snap-zoom-end\",this.parent),this.snapping=null;else{var n=this.snapping;this.parent.scale.x=M(n.time,n.startX,n.deltaX,this.options.time),this.parent.scale.y=M(n.time,n.startY,n.deltaY,this.options.time)}var r=this.parent.plugins.get(\"clamp-zoom\");r&&r.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(e))}}else this.parent.scale.x===this.x_scale&&this.parent.scale.y===this.y_scale||this.createSnapping()}},{key:\"resume\",value:function(){this.snapping=null,fe(e,\"resume\",this,3)([])}}])}(p),T={speed:0,acceleration:null,radius:null},E=function(t){function e(t,i){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o(this,e),(n=de(this,e,[t])).target=i,n.options=Object.assign({},T,r),n.velocity={x:0,y:0},n}return S(e,t),h(e,[{key:\"update\",value:function(t){if(!this.paused){var e=this.parent.center,i=this.target.x,n=this.target.y;if(this.options.radius){if(!(Math.sqrt(Math.pow(this.target.y-e.y,2)+Math.pow(this.target.x-e.x,2))>this.options.radius))return;var r=Math.atan2(this.target.y-e.y,this.target.x-e.x);i=this.target.x-Math.cos(r)*this.options.radius,n=this.target.y-Math.sin(r)*this.options.radius}var s=i-e.x,o=n-e.y;if(s||o)if(this.options.speed)if(this.options.acceleration){var a=Math.atan2(n-e.y,i-e.x),h=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));if(h){var l=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);this.velocity=h>l?{x:Math.min(this.velocity.x+this.options.acceleration*t,this.options.speed),y:Math.min(this.velocity.y+this.options.acceleration*t,this.options.speed)}:{x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};var u=Math.cos(a)*this.velocity.x,c=Math.sin(a)*this.velocity.y,p=Math.abs(u)>Math.abs(s)?i:e.x+u,f=Math.abs(c)>Math.abs(o)?n:e.y+c;this.parent.moveCenter(p,f),this.parent.emit(\"moved\",{viewport:this.parent,type:\"follow\"})}}else{var d=Math.atan2(n-e.y,i-e.x),y=Math.cos(d)*this.options.speed,v=Math.sin(d)*this.options.speed,g=Math.abs(y)>Math.abs(s)?i:e.x+y,m=Math.abs(v)>Math.abs(o)?n:e.y+v;this.parent.moveCenter(g,m),this.parent.emit(\"moved\",{viewport:this.parent,type:\"follow\"})}else this.parent.moveCenter(i,n),this.parent.emit(\"moved\",{viewport:this.parent,type:\"follow\"})}}}])}(p),F={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null},z=function(t){function e(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(this,e),(i=de(this,e,[t])).options=Object.assign({},F,n),i}return S(e,t),h(e,[{key:\"down\",value:function(){this.options.interrupt&&(this.smoothing=null)}},{key:\"update\",value:function(){if(this.smoothing){var t,e=this.smoothingCenter,i=this.smoothing;this.options.center||(t=this.parent.toLocal(e)),this.parent.scale.x+=i.x,this.parent.scale.y+=i.y,this.parent.emit(\"zoomed\",{viewport:this.parent,type:\"wheel\"});var n=this.parent.plugins.get(\"clamp-zoom\");if(n&&n.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{var r=this.parent.toGlobal(t);this.parent.x+=e.x-r.x,this.parent.y+=e.y-r.y}this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}},{key:\"wheel\",value:function(t){if(!this.paused){var e=this.parent.input.getPointerPosition(t),i=(this.options.reverse?-1:1)*-t.deltaY*(t.deltaMode?120:1)/500,n=Math.pow(2,(1+this.options.percent)*i);if(this.options.smooth){var r={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+r.x)*n-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+r.y)*n-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=e}else{var s;this.options.center||(s=this.parent.toLocal(e)),this.parent.scale.x*=n,this.parent.scale.y*=n,this.parent.emit(\"zoomed\",{viewport:this.parent,type:\"wheel\"});var o=this.parent.plugins.get(\"clamp-zoom\");if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{var a=this.parent.toGlobal(s);this.parent.x+=e.x-a.x,this.parent.y+=e.y-a.y}}this.parent.emit(\"moved\",{viewport:this.parent,type:\"wheel\"}),this.parent.emit(\"wheel\",{wheel:{dx:t.deltaX,dy:t.deltaY,dz:t.deltaZ},event:t,viewport:this.parent}),this.parent.options.passiveWheel||t.preventDefault()}}}])}(p),j={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1},H=function(t){function e(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(this,e),(i=de(this,e,[t])).options=Object.assign({},j,n),i.reverse=i.options.reverse?1:-1,i.radiusSquared=Math.pow(i.options.radius,2),i.resize(),i}return S(e,t),h(e,[{key:\"resize\",value:function(){var t=this.options.distance;null!==t?(this.left=t,this.top=t,this.right=window.innerWidth-t,this.bottom=window.innerHeight-t):this.radius||(this.left=this.options.left,this.top=this.options.top,this.right=null===this.options.right?null:window.innerWidth-this.options.right,this.bottom=null===this.options.bottom?null:window.innerHeight-this.options.bottom)}},{key:\"down\",value:function(){this.options.allowButtons||(this.horizontal=this.vertical=null)}},{key:\"move\",value:function(t){if(!(\"mouse\"!==t.data.pointerType&&1!==t.data.identifier||!this.options.allowButtons&&0!==t.data.buttons)){var e=t.data.global.x,i=t.data.global.y;if(this.radiusSquared){var n=this.parent.toScreen(this.parent.center);if(Math.pow(n.x-e,2)+Math.pow(n.y-i,2)>=this.radiusSquared){var r=Math.atan2(n.y-i,n.x-e);this.options.linear?(this.horizontal=Math.round(Math.cos(r))*this.options.speed*this.reverse*.06,this.vertical=Math.round(Math.sin(r))*this.options.speed*this.reverse*.06):(this.horizontal=Math.cos(r)*this.options.speed*this.reverse*.06,this.vertical=Math.sin(r)*this.options.speed*this.reverse*.06)}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else null!==this.left&&e<this.left?this.horizontal=1*this.reverse*this.options.speed*.06:null!==this.right&&e>this.right?this.horizontal=-1*this.reverse*this.options.speed*.06:(this.decelerateHorizontal(),this.horizontal=0),null!==this.top&&i<this.top?this.vertical=1*this.reverse*this.options.speed*.06:null!==this.bottom&&i>this.bottom?this.vertical=-1*this.reverse*this.options.speed*.06:(this.decelerateVertical(),this.vertical=0)}}},{key:\"decelerateHorizontal\",value:function(){var t=this.parent.plugins.get(\"decelerate\");this.horizontal&&t&&!this.options.noDecelerate&&t.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}},{key:\"decelerateVertical\",value:function(){var t=this.parent.plugins.get(\"decelerate\");this.vertical&&t&&!this.options.noDecelerate&&t.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}},{key:\"up\",value:function(){this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null}},{key:\"update\",value:function(){if(!this.paused&&(this.horizontal||this.vertical)){var t=this.parent.center;this.horizontal&&(t.x+=this.horizontal*this.options.speed),this.vertical&&(t.y+=this.vertical*this.options.speed),this.parent.moveCenter(t),this.parent.emit(\"moved\",{viewport:this.parent,type:\"mouse-edges\"})}}}])}(p),X={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,interaction:null,noOnContextMenu:!1},_=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o(this,e),(t=de(this,e)).options=Object.assign({},X,i),i.ticker)t.options.ticker=i.ticker;else{var n,r=PIXI;n=parseInt(/^(\\d+)\\./.exec(a)[1])<5?r.ticker.shared:r.Ticker.shared,t.options.ticker=i.ticker||n}return t.screenWidth=t.options.screenWidth,t.screenHeight=t.options.screenHeight,t._worldWidth=t.options.worldWidth,t._worldHeight=t.options.worldHeight,t.forceHitArea=t.options.forceHitArea,t.threshold=t.options.threshold,t.options.divWheel=t.options.divWheel||document.body,t.options.noOnContextMenu||(t.options.divWheel.oncontextmenu=function(t){return t.preventDefault()}),t.options.noTicker||(t.tickerFunction=function(){return t.update(t.options.ticker.elapsedMS)},t.options.ticker.add(t.tickerFunction)),t.input=new l(t),t.plugins=new c(t),t}return S(e,t),h(e,[{key:\"destroy\",value:function(t){this.options.ticker.remove(this.tickerFunction),this.input.destroy(),fe(e,\"destroy\",this,3)([t])}},{key:\"update\",value:function(t){this.pause||(this.plugins.update(t),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit(\"moved-end\",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit(\"zoomed-end\",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new n(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y})}},{key:\"resize\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.innerWidth,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.innerHeight,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.screenWidth=t,this.screenHeight=e,void 0!==i&&(this._worldWidth=i),void 0!==n&&(this._worldHeight=n),this.plugins.resize()}},{key:\"worldWidth\",get:function(){return this._worldWidth?this._worldWidth:this.width/this.scale.x},set:function(t){this._worldWidth=t,this.plugins.resize()}},{key:\"worldHeight\",get:function(){return this._worldHeight?this._worldHeight:this.height/this.scale.y},set:function(t){this._worldHeight=t,this.plugins.resize()}},{key:\"getVisibleBounds\",value:function(){return new n(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}},{key:\"toWorld\",value:function(t,e){return 2===arguments.length?this.toLocal(new r(t,e)):this.toLocal(t)}},{key:\"toScreen\",value:function(t,e){return 2===arguments.length?this.toGlobal(new r(t,e)):this.toGlobal(t)}},{key:\"worldScreenWidth\",get:function(){return this.screenWidth/this.scale.x}},{key:\"worldScreenHeight\",get:function(){return this.screenHeight/this.scale.y}},{key:\"screenWorldWidth\",get:function(){return this.worldWidth*this.scale.x}},{key:\"screenWorldHeight\",get:function(){return this.worldHeight*this.scale.y}},{key:\"center\",get:function(){return new r(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)},set:function(t){this.moveCenter(t)}},{key:\"moveCenter\",value:function(){var t,e;return isNaN(arguments[0])?(t=arguments[0].x,e=arguments[0].y):(t=arguments[0],e=arguments[1]),this.position.set((this.worldScreenWidth/2-t)*this.scale.x,(this.worldScreenHeight/2-e)*this.scale.y),this.plugins.reset(),this.dirty=!0,this}},{key:\"corner\",get:function(){return new r(-this.x/this.scale.x,-this.y/this.scale.y)},set:function(t){this.moveCorner(t)}},{key:\"moveCorner\",value:function(t,e){return 1===arguments.length?this.position.set(-t.x*this.scale.x,-t.y*this.scale.y):this.position.set(-t*this.scale.x,-e*this.scale.y),this.plugins.reset(),this}},{key:\"fitWidth\",value:function(t,e){var i,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;e&&(i=this.center),this.scale.x=this.screenWidth/t,n&&(this.scale.y=this.scale.x);var s=this.plugins.get(\"clamp-zoom\");return!r&&s&&s.clamp(),e&&this.moveCenter(i),this}},{key:\"fitHeight\",value:function(t,e){var i,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;e&&(i=this.center),this.scale.y=this.screenHeight/t,n&&(this.scale.x=this.scale.y);var s=this.plugins.get(\"clamp-zoom\");return!r&&s&&s.clamp(),e&&this.moveCenter(i),this}},{key:\"fitWorld\",value:function(t){var e;t&&(e=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;var i=this.plugins.get(\"clamp-zoom\");return i&&i.clamp(),t&&this.moveCenter(e),this}},{key:\"fit\",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.worldWidth,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.worldHeight;t&&(e=this.center),this.scale.x=this.screenWidth/i,this.scale.y=this.screenHeight/n,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;var r=this.plugins.get(\"clamp-zoom\");return r&&r.clamp(),t&&this.moveCenter(e),this}},{key:\"setZoom\",value:function(t,e){var i;e&&(i=this.center),this.scale.set(t);var n=this.plugins.get(\"clamp-zoom\");return n&&n.clamp(),e&&this.moveCenter(i),this}},{key:\"zoomPercent\",value:function(t,e){return this.setZoom(this.scale.x+this.scale.x*t,e)}},{key:\"zoom\",value:function(t,e){return this.fitWidth(t+this.worldScreenWidth,e),this}},{key:\"snapZoom\",value:function(t){return this.plugins.add(\"snap-zoom\",new R(this,t)),this}},{key:\"OOB\",value:function(){return{left:this.left<0,right:this.right>this._worldWidth,top:this.top<0,bottom:this.bottom>this._worldHeight,cornerPoint:new r(this._worldWidth*this.scale.x-this.screenWidth,this._worldHeight*this.scale.y-this.screenHeight)}}},{key:\"right\",get:function(){return-this.x/this.scale.x+this.worldScreenWidth},set:function(t){this.x=-t*this.scale.x+this.screenWidth,this.plugins.reset()}},{key:\"left\",get:function(){return-this.x/this.scale.x},set:function(t){this.x=-t*this.scale.x,this.plugins.reset()}},{key:\"top\",get:function(){return-this.y/this.scale.y},set:function(t){this.y=-t*this.scale.y,this.plugins.reset()}},{key:\"bottom\",get:function(){return-this.y/this.scale.y+this.worldScreenHeight},set:function(t){this.y=-t*this.scale.y+this.screenHeight,this.plugins.reset()}},{key:\"dirty\",get:function(){return this._dirty},set:function(t){this._dirty=t}},{key:\"forceHitArea\",get:function(){return this._forceHitArea},set:function(t){t?(this._forceHitArea=t,this.hitArea=t):(this._forceHitArea=null,this.hitArea=new n(0,0,this.worldWidth,this.worldHeight))}},{key:\"drag\",value:function(t){return this.plugins.add(\"drag\",new d(this,t)),this}},{key:\"clamp\",value:function(t){return this.plugins.add(\"clamp\",new m(this,t)),this}},{key:\"decelerate\",value:function(t){return this.plugins.add(\"decelerate\",new k(this,t)),this}},{key:\"bounce\",value:function(t){return this.plugins.add(\"bounce\",new C(this,t)),this}},{key:\"pinch\",value:function(t){return this.plugins.add(\"pinch\",new v(this,t)),this}},{key:\"snap\",value:function(t,e,i){return this.plugins.add(\"snap\",new D(this,t,e,i)),this}},{key:\"follow\",value:function(t,e){return this.plugins.add(\"follow\",new E(this,t,e)),this}},{key:\"wheel\",value:function(t){return this.plugins.add(\"wheel\",new z(this,t)),this}},{key:\"clampZoom\",value:function(t){return this.plugins.add(\"clamp-zoom\",new b(this,t)),this}},{key:\"mouseEdges\",value:function(t){return this.plugins.add(\"mouse-edges\",new H(this,t)),this}},{key:\"pause\",get:function(){return this._pause},set:function(t){this._pause=t,this.lastViewport=null,this.moving=!1,this.zooming=!1,t&&this.input.pause()}},{key:\"ensureVisible\",value:function(t,e,i,n){t<this.left?this.left=t:t+i>this.right&&(this.right=t+i),e<this.top?this.top=e:e+n>this.bottom&&(this.bottom=e+n)}}])}(s);return{Plugin:p,Viewport:_}};var we=function(){return h(function t(){o(this,t),s(this,\"entityIds\",[])},[{key:\"handleFrameData\",value:function(t,e){var i=e;return this.entityIds=[].concat(p(this.entityIds),p(i)),{frameInfo:t,frameData:e}}},{key:\"reinitScene\",value:function(t,e){var i=this;null==this.vp&&(this.vp=me()),this.entityIds.forEach(function(t){i._initViewPort(t)})}},{key:\"_initViewPort\",value:function(t){var e=ce.entities.get(t),i=new this.vp.Viewport({screenWidth:se,screenHeight:oe,worldWidth:se,worldHeight:oe,interaction:Dt().plugins.interaction,divWheel:Dt().view,passiveWheel:!1,stopPropagation:!0});i.drag().wheel(),i.fitWorld(),i.interactiveChildren=!1,Object.defineProperty(i,\"cursor\",{get:function(){return i.input.isMouseDown?\"grabbing\":\"grab\"}}),e.container.removeChildren(),i.addChild(e.graphics);var n=e.container.parent;n&&n.removeChild(e.container),e.container=i,n&&n.addChild(e.container)}},{key:\"updateScene\",value:function(t,e,i,n){}}],[{key:\"name\",get:function(){return\"viewport\"}}])}();function be(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(be=function(){return!!t})()}var xe=function(t){function e(t,i){var n,r,s,a;return o(this,e),r=this,a=['Could not find toggle: \"'+t+'\". Make sure it is set up correctly in your config.js.'],s=x(s=e),(n=b(r,be()?Reflect.construct(s,a||[],x(r).constructor):s.apply(r,a))).toggle=t,n.cause=i,n.name=\"MissingToggleError\",n}return S(e,t),h(e)}(I(Error));function ke(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ke=function(){return!!t})()}var Se=function(t){function e(t,i,n){var r,s,a,h;return o(this,e),s=this,a=e,h=[\"(\"+i.keys.toString()+\") have the same value '\"+i.value+\"' in toggle \\\"\"+t+'\". Avoid those duplicates in your config.js.'],a=x(a),(r=b(s,ke()?Reflect.construct(a,h||[],x(s).constructor):a.apply(s,h))).toggle=t,r.cause=n,r.name=\"DuplicateToggleValueError\",r}return S(e,t),h(e)}(I(Error));function Oe(t,e){var i=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(t){if(\"string\"==typeof t)return Ie(t,e);var i={}.toString.call(t).slice(8,-1);return\"Object\"===i&&t.constructor&&(i=t.constructor.name),\"Map\"===i||\"Set\"===i?Array.from(t):\"Arguments\"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ie(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var s,o=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw s}}}}function Ie(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}function Me(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function Pe(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Me(Object(i),!0).forEach(function(e){s(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Me(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var Ce=function(){function t(e){var i=this;o(this,t),this.previousFrame={},this.missingToggles={},t.refreshContent=function(){if(i.currentFrame)for(var e in i.currentFrame.registered){var n=ce.entities.get(parseInt(e)),r=i.currentFrame.registered[e],s=t.toggles[r.name];null!=s||i.missingToggles[r.name]||(w.push(new xe(r.name)),i.missingToggles[r.name]=!0),n.setHidden(s!==r.state)}},De()}return h(t,[{key:\"updateScene\",value:function(e,i,n){this.currentFrame=i,this.currentProgress=n,t.refreshContent()}},{key:\"handleFrameData\",value:function(t,e){var i={};e&&Object.entries(e).forEach(function(t){var e=f(t,2),n=e[0];e[1].match(/\\d+./g).forEach(function(t){var e=t.slice(0,-1),r=\"+\"===t.slice(-1);i[e]={name:n,state:r}})});var n={registered:Pe(Pe({},this.previousFrame.registered),i),number:t.number};return this.previousFrame=n,n}},{key:\"reinitScene\",value:function(e,i){t.refreshContent()}}],[{key:\"refreshContent\",value:function(){}},{key:\"defineToggle\",value:function(e){return We(e),t.toggles[e.toggle]=e.default,e.get=function(){return t.toggles[e.toggle]},e.set=function(i){t.toggles[e.toggle]=i,t.refreshContent()},e}},{key:\"name\",get:function(){return\"toggles\"}}])}();function We(t){Ce.optionValues[t.toggle]=[];var e=function(){var e=t.values[i],n=Ce.optionValues[t.toggle].find(function(t){return t.value===e});n||(n={keys:[],value:e},Ce.optionValues[t.toggle].push(n)),n.keys.push(i)};for(var i in t.values)e()}function De(){for(var t in Ce.optionValues){var e,i=Oe(Ce.optionValues[t]);try{for(i.s();!(e=i.n()).done;){var n=e.value;n.keys.length>1&&w.push(new Se(t,n))}}catch(t){i.e(t)}finally{i.f()}}}Ce.toggles={},Ce.optionValues={};var Ae=[pe,we,Ce],Re=[Ce.defineToggle({toggle:\"trail\",title:\"TRAIL\",values:{SHOW:!0,HIDE:!1},default:!0})],Te={views:['KEY_FRAME 0\\n{\"global\":{\"entitymodule\":{\"width\":1920,\"height\":1080}},\"frame\":{\"entitymodule\":\"CS;G;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;G;S;G\\\\nU1 1 i background.png v 1 z 0;8 1 x 256 i cell.png y 256 v 1 z 0;9 1 x 512 i cell.png y 256 v 1 z 0;13 1 x 512 i cell.png y 512 v 1 z 0;11 1 x 0 i cell.png y 512 v 1 z 0;5 1 x 512 i cell.png y 0 v 1 z 0;6 1 x 768 i cell.png y 0 v 1 z 0;15 1 x 0 i cell.png y 768 v 1 z 0;12 1 x 256 i cell.png y 512 v 1 z 0;2 1 sx 1 sy 1 v 1 ch 8,9,13,11,5,6,15,12,7,14,18,21,16,19,3,4,10,17,20 x 448 y 28 z 1;7 1 x 0 i cell.png y 256 v 1 z 0;14 1 x 768 i cell.png y 512 v 1 z 0;18 1 x 768 i cell.png y 768 v 1 z 0;21 1 x 0 i piece.png y 0 v 1 z 4;22 1 ch  v 1 z 2;16 1 x 256 i cell.png y 768 v 1 z 0;19 1 x -2 i start.png y -2 v 1 z 1;3 1 x 0 i cell.png y 0 v 1 z 0;4 1 x 256 i cell.png y 0 v 1 z 0;10 1 x 768 i cell.png y 256 v 1 z 0;17 1 x 512 i cell.png y 768 v 1 z 0;20 1 ch  v 1 z 3\",\"viewport\":[2],\"toggles\":{\"trail\":\"20+\"}}}\\n','KEY_FRAME 1\\n{\"entitymodule\":\"CS;X;X;X;X\\\\nU27 1 v 1 ff Vegur x 64 y 760 s 80 T gfab z 2;25 1 v 1 ff Vegur x 64 y 248 s 80 T hgfe z 2;24 1 v 1 ff Vegur x 64 y -8 s 80 T abcd z 2;23 1 x 510 i goal.png y 766 v 1 z 1;26 1 v 1 ff Vegur x 64 y 504 s 80 T hedc z 2;2 1 ch 8,9,13,11,27,5,6,15,24,12,23,26,7,14,18,21,25,16,19,3,4,10,17,20\",\"viewport\":[]}\\n','KEY_FRAME 2\\n{\"entitymodule\":\"CR;R\\\\nU29 0 f 16767488 v 1 x 120 w 0 y 120 z 1 h 16;28 0 f 7481856 v 1 x 112 w 0 y 112 z 0 h 32;20 0 ch 29,28;29 1 w 264;28 1 w 272;21 1 x 256\",\"viewport\":[]}\\n','KEY_FRAME 3\\n{\"entitymodule\":\"CR;R\\\\nU30 0 f 7481856 v 1 x 368 w 0 y 112 z 0 h 32;31 0 f 16767488 v 1 x 376 w 0 y 120 z 1 h 16;20 0 ch 29,30,31,28;30 1 w 272;31 1 w 264;21 1 x 512\",\"viewport\":[]}\\n','KEY_FRAME 4\\n{\"entitymodule\":\"CR;R\\\\nU32 0 f 7481856 v 1 x 624 w 0 y 112 z 0 h 32;33 0 f 16767488 v 1 x 632 w 0 y 120 z 1 h 16;20 0 ch 29,32,33,30,31,28;32 1 w 272;33 1 w 264;21 1 x 768\",\"viewport\":[]}\\n','KEY_FRAME 5\\n{\"entitymodule\":\"CR;R\\\\nU34 0 f 7481856 v 1 x 880 w 32 y 112 z 0 h 0;35 0 f 16767488 v 1 x 888 w 16 y 120 z 1 h 0;20 0 ch 29,34,35,32,33,30,31,28;34 1 h 272;35 1 h 264;21 1 y 256\",\"viewport\":[]}\\n','KEY_FRAME 6\\n{\"entitymodule\":\"CR;R\\\\nU36 0 f 7481856 v 1 x 912 w 0 y 368 z 0 h 32;37 0 f 16767488 v 1 x 904 w 0 y 376 z 1 h 16;20 0 ch 36,29,34,37,35,32,33,30,31,28;36 1 w -272;37 1 w -264;21 1 x 512\",\"viewport\":[]}\\n','KEY_FRAME 7\\n{\"entitymodule\":\"CR;R\\\\nU38 0 f 7481856 v 1 x 656 w 0 y 368 z 0 h 32;39 0 f 16767488 v 1 x 648 w 0 y 376 z 1 h 16;20 0 ch 36,29,34,37,35,32,33,30,31,38,28,39;38 1 w -272;39 1 w -264;21 1 x 256\",\"viewport\":[]}\\n','KEY_FRAME 8\\n{\"entitymodule\":\"CR;R\\\\nU40 0 f 7481856 v 1 x 400 w 0 y 368 z 0 h 32;41 0 f 16767488 v 1 x 392 w 0 y 376 z 1 h 16;20 0 ch 40,29,37,35,32,33,31,38,39,36,41,34,30,28;40 1 w -272;41 1 w -264;21 1 x 0\",\"viewport\":[]}\\n','KEY_FRAME 9\\n{\"entitymodule\":\"CR;R\\\\nU43 0 f 16767488 v 1 x 120 w 16 y 376 z 1 h 0;42 0 f 7481856 v 1 x 112 w 32 y 368 z 0 h 0;20 0 ch 40,29,43,42,37,35,32,33,31,38,39,36,41,34,30,28;43 1 h 264;42 1 h 272;21 1 y 512\",\"viewport\":[]}\\n','KEY_FRAME 10\\n{\"entitymodule\":\"CR;R\\\\nU45 0 f 16767488 v 1 x 120 w 16 y 632 z 1 h 0;44 0 f 7481856 v 1 x 112 w 32 y 624 z 0 h 0;20 0 ch 40,29,43,42,37,35,32,33,31,38,39,36,41,34,45,44,30,28;45 1 h 264;44 1 h 272;21 1 y 768\",\"viewport\":[]}\\n','KEY_FRAME 11\\n{\"entitymodule\":\"CR;R\\\\nU46 0 f 7481856 v 1 x 112 w 0 y 880 z 0 h 32;47 0 f 16767488 v 1 x 120 w 0 y 888 z 1 h 16;20 0 ch 40,29,43,42,37,35,32,33,31,38,39,36,46,41,34,45,44,47,30,28;46 1 w 272;47 1 w 264;21 1 x 256\",\"viewport\":[]}\\n','KEY_FRAME 12\\n{\"entitymodule\":\"CR;R\\\\nU48 0 f 7481856 v 1 x 368 w 32 y 912 z 0 h 0;49 0 f 16767488 v 1 x 376 w 16 y 904 z 1 h 0;20 0 ch 40,29,43,42,37,35,32,33,48,31,38,39,36,46,41,34,45,44,47,30,49,28;48 1 h -272;49 1 h -264;21 1 y 512\",\"viewport\":[]}\\n','KEY_FRAME 13\\n{\"entitymodule\":\"CR;R\\\\nU51 0 f 16767488 v 1 x 376 w 0 y 632 z 1 h 16;50 0 f 7481856 v 1 x 368 w 0 y 624 z 0 h 32;20 0 ch 40,29,43,42,37,35,32,33,48,31,38,51,39,50,36,46,41,34,45,44,47,30,49,28;51 1 w 264;50 1 w 272;21 1 x 512\",\"viewport\":[]}\\n','KEY_FRAME 14\\n{\"entitymodule\":\"CR;R\\\\nU53 0 f 16767488 v 1 x 632 w 0 y 632 z 1 h 16;52 0 f 7481856 v 1 x 624 w 0 y 624 z 0 h 32;20 0 ch 43,42,35,32,33,38,51,50,53,41,34,44,30,28,40,29,37,48,31,39,36,46,45,47,49,52;53 1 w 264;52 1 w 272;21 1 x 768\",\"viewport\":[]}\\n','KEY_FRAME 15\\n{\"entitymodule\":\"CR;R\\\\nU54 0 f 7481856 v 1 x 880 w 32 y 624 z 0 h 0;55 0 f 16767488 v 1 x 888 w 16 y 632 z 1 h 0;20 0 ch 43,42,35,32,33,54,38,51,50,53,41,34,44,30,28,40,29,37,48,31,39,55,36,46,45,47,49,52;54 1 h 272;55 1 h 264;21 1 y 768\",\"viewport\":[]}\\n','KEY_FRAME 16\\n{\"entitymodule\":\"CR;R\\\\nU56 0 f 7481856 v 1 x 912 w 0 y 880 z 0 h 32;57 0 f 16767488 v 1 x 904 w 0 y 888 z 1 h 16;20 0 ch 43,42,35,32,33,54,38,51,50,53,41,34,44,30,28,40,56,29,37,48,31,57,39,55,36,46,45,47,49,52;56 1 w -272;57 1 w -264;21 1 x 512\",\"viewport\":[]}\\n','KEY_FRAME 17\\n{\"entitymodule\":\"CR;S\\\\nU59 0 x 330 i success.png y 320 v 1 a 0 z 1;58 0 f 0 v 1 a 0 w 1920 x 0 y 0 z 0 h 1080;22 0 ch 59,58;59 1 a 1;58 1 a 0.5\",\"viewport\":[]}\\n'],agents:[{index:0,name:\"Player 0\",avatar:\"https://static.codingame.com/servlet/fileservlet?id=16085734516701&format=viewer_avatar\",agentId:0}]};function Ee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ee=function(){return!!t})()}var Fe=function(t){function e(t,i){var n,r,s,a;return o(this,e),r=this,a=['<Error in module \"'+t+'\">'],s=x(s=e),(n=b(r,Ee()?Reflect.construct(s,a||[],x(r).constructor):s.apply(r,a))).cause=i,n.name=\"ModuleError\",n}return S(e,t),h(e)}(I(Error));function ze(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function je(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ze(Object(i),!0).forEach(function(e){s(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ze(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function He(t,e){var i=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(t){if(\"string\"==typeof t)return Xe(t,e);var i={}.toString.call(t).slice(8,-1);return\"Object\"===i&&t.constructor&&(i=t.constructor.name),\"Map\"===i||\"Set\"===i?Array.from(t):\"Arguments\"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Xe(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var s,o=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw s}}}}function Xe(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}var _e=function(){function t(e){o(this,t),PIXI.settings.STRICT_TEXTURE_CACHE=!0,this.toDestroy=[],this.stepByStepAnimateSpeed=i.stepByStepAnimateSpeed||null;var n=e||Te;if(n){var r=n.views,s=n.agents;this.demo={playerCount:s.length,logo:\"logo.png\",overlayAlpha:.2,agents:s,frames:r},(i.overlayAlpha||0===i.overlayAlpha)&&(this.demo.overlayAlpha=i.overlayAlpha),this.demo.agents.forEach(function(e){e.color=t.playerColors[e.index]})}else this.demo=i.demo}return h(t,[{key:\"getDefaultOverSampling\",value:function(){return i.defaultOverSampling||2}},{key:\"handleModuleError\",value:function(t,e){w.push(new Fe(t,e)),console.error(e),w.push({message:'<Module \"'.concat(t,'\" disabled>\\n')}),delete this.modules[t]}},{key:\"instantiateModules\",value:function(){this.modules={};var t,e=He(Ae);try{for(e.s();!(t=e.n()).done;){var i=t.value;try{this.modules[i.moduleName||i.name]=new i(l)}catch(t){this.handleModuleError(i.moduleName||i.name,t)}}}catch(t){e.e(t)}finally{e.f()}}},{key:\"destroy\",value:function(){this.alreadyLoaded&&(this.renderer.destroy(),this.endCallback=null),this.destroyed=!0}},{key:\"destroyScene\",value:function(t){!function(){for(var t=0,e=Wt.length;t<e;++t)Wt[t].destroy(!0);Wt=[]}()}},{key:\"getGameName\",value:function(){return i.gameName}},{key:\"canSwapPlayers\",value:function(){return!1}},{key:\"addErrorListener\",value:function(t){w.listen(t)}},{key:\"getResources\",value:function(){return Object.assign({baseUrl:\"\",images:{},spines:{},sprites:[],fonts:[],others:[]},l)}},{key:\"getOptions\",value:function(){return Re?Re.map(function(t){return je({},t)}):[]}},{key:\"setDebug\",value:function(e){this.asyncRenderingTime=t.RenderTimeout}},{key:\"initPreload\",value:function(t,e,i,n,r){t.canvasWidth=n,t.canvasHeight=r,t.loaderProgress=new PIXI.Text(\"100\",{fontSize:.117*r||30,fontFamily:\"Lato\",fontWeight:\"900\",fill:\"white\",align:\"center\"}),t.loaderProgress.anchor.y=1,t.loaderProgress.anchor.x=1.3,t.progress=t.realProgress=i,t.loaderProgress.position.y=r,t.progressBar=new PIXI.Graphics,e.addChild(t.progressBar),e.addChild(t.loaderProgress)}},{key:\"preload\",value:function(t,e,i,n,r,s){t.progress=i}},{key:\"renderPreloadScene\",value:function(t,e){var i=Math.pow(.998,e);return t.realProgress=i*t.realProgress+(1-i)*t.progress,t.loaderProgress.text=(100*t.realProgress).toFixed(0),t.loaderProgress.position.x=t.realProgress*t.canvasWidth,t.progressBar.clear(),t.progressBar.beginFill(0,1),t.progressBar.drawRect(0,0,t.canvasWidth*t.realProgress+1,t.canvasHeight),t.progressBar.endFill(),t.progressBar.beginFill(4146246,1),t.progressBar.drawRect(t.canvasWidth*t.realProgress,0,t.canvasWidth,t.canvasHeight),t.progressBar.endFill(),!0}},{key:\"initDefaultScene\",value:function(e,i,n,r){var s=new PIXI.Container;if(e.drawer=this,e.time=0,this.demo){if(this.demo.logo)try{var o=PIXI.Sprite.from(this.demo.logo);o.position.set(t.WIDTH/2,t.HEIGHT/2),o.anchor.set(.5),o.baseScale=v(o.texture.width,o.texture.height,2*t.WIDTH/3,t.HEIGHT/2,0),s.addChild(o),e.logo=o}catch(t){w.push({cause:t,message:'Missing \"logo.png\" to complete replay.'}),e.logo=new PIXI.Container,e.logo.baseScale=1,s.addChild(e.logo),e.missingLogo=!0}var a=new PIXI.Graphics;e.missingLogo||(a.beginFill(0,this.demo.overlayAlpha||0),a.drawRect(0,0,t.WIDTH+20,t.HEIGHT+20),a.endFill(),a.x-=10,a.y-=10);var h=new PIXI.Container;try{this.initDefaultFrames(this.demo.playerCount,this.demo.frames,this.demo.agents),this.preconstructScene(this.scope,i,this.initWidth,this.initHeight),this.initScene(this.scope,h,this.frames,!0),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)}catch(t){w.push({cause:t,message:\"Cannot load demo, you might want to reset the demo\"})}e.demo=h,e.demotime=0,this.currentFrame=-1,i.addChild(h),i.addChild(a),i.addChild(s)}e.updateTime=0,e.frameTime=0}},{key:\"initDefaultFrames\",value:function(e,i,n){var r=this;this.instantiateModules(),this.playerInfo=n.map(function(t,e){return{name:t.name||\"Anonymous\",color:t.color?r.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:t.avatarTexture}}),this.instantiateModules(),this._frames=i.map(function(t){var e,i=t.split(\"\\n\"),n=i[0].split(\" \");try{e=JSON.parse(i.slice(1).join(\"\\n\"))}catch(t){e={}}return je(je({},e),{},{key:\"KEY_FRAME\"===n[0]})}).filter(function(t){return t.key}),this.parseGlobalData(this._frames[0].global),this.playerCount=e,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1;var s=this._frames[0].frame;s.key=this._frames[0].key,this.frames.push(this.parseFrame(s,this.frames));for(var o=1;o<this._frames.length;++o)this.frames.push(this.parseFrame(this._frames[o],this.frames));this.asyncRenderingTime=t.RenderTimeout}},{key:\"renderDefaultScene\",value:function(t,e){if(e=Math.min(80,e),void 0===this.demo)return!1;this.currentFrame=this.currentFrameTemp||0,t.frameTime+=e,t.updateTime+=e,t.demotime+=e/1e3;var i=Math.max(0,Math.min(1,(t.demotime-1)/.5));if(t.logo&&(t.logo.alpha=i,t.logo.scale.x=t.logo.scale.y=(3-2*i)*t.logo.baseScale),!t.missingLogo&&t.demotime>1.5&&t.demotime<=2.2){var n=15*Math.max(0,1-(t.demotime-1.5)/.7);t.demo.x=(2*Math.random()-1)*n,t.demo.y=(2*Math.random()-1)*n}else t.demo.x=t.demo.y=0;var r=this.getFrameDuration(this.currentFrame);return t.updateTime>=30&&(t.updateTime-=30,0===this.currentFrame?this.progress=1:this.progress=y(0,r,t.frameTime),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)),t.frameTime>=r&&(t.frameTime-=r,this.currentFrame=(this.currentFrame+1)%this.frames.length),this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],e,!0),this.currentFrameTemp=this.currentFrame,this.currentFrame=-1,!0}},{key:\"endDefaultScene\",value:function(t,e){return!0}},{key:\"parseGlobalData\",value:function(t){for(var e in this.modules){var i=this.modules[e];\"function\"==typeof i.handleGlobalData&&i.handleGlobalData(this.playerInfo,t[e])}}},{key:\"parseFrame\",value:function(t,e){var i={data:{},frameInfo:{number:e.length}};if(i.previous=e[e.length-1]||i,i!==i.previous&&(i.previous.next=i),!t.key)return i.previous;for(var n in t.duration&&(this.currentFrameDuration=t.duration),i.frameInfo.frameDuration=this.currentFrameDuration,i===i.previous?(i.frameInfo.date=0,i.frameInfo.frameDuration=0):i.frameInfo.date=i.previous.frameInfo.date+i.previous.frameInfo.frameDuration,this.modules){var r=this.modules[n];\"function\"==typeof r.handleFrameData&&(i.data[n]=r.handleFrameData(i.frameInfo,t[n]))}return i}},{key:\"preconstructScene\",value:function(e,i,n,r){e.canvasHeight=r,e.canvasWidth=n,e.time=0,e.endTime=0,e.playerInfo=this.playerInfo,i.scale.x=n/t.WIDTH,i.scale.y=r/t.HEIGHT}},{key:\"initScene\",value:function(t,e,i){for(var n in this.modules){var r=this.modules[n],s=new PIXI.Container;try{r.reinitScene(s,{width:t.canvasWidth,height:t.canvasHeight,oversampling:this.oversampling})}catch(t){this.handleModuleError(n,t)}e.addChild(s)}}},{key:\"updateScene\",value:function(t,e,i,n,r,s,o,a,h){var l=i[n];if(!h&&this.stepByStepAnimateSpeed){if(this.checkSteppedToNextFrame(t,l,r))return void this.startAsynchronousAnimation(t,l);if(this.checkSteppedToPreviousFrame(t,l,r)){return void this.startAsynchronousAnimation(t,t.currentFrame,!0)}t.targetProgress=null}for(var u in t.currentFrame=l,t.currentProgress=r,t.reason=o,this.modules){var c=this.modules[u];if(l.data.hasOwnProperty(u))try{c.updateScene(l.previous.data[u],l.data[u],r,s)}catch(t){this.handleModuleError(u,t)}}}},{key:\"startAsynchronousAnimation\",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.targetProgress=i?0:1,i||1!==t.currentProgress||(t.currentProgress=0),t.currentFrame=e,t.reverseAsynchronousAnimation=i}},{key:\"checkStepped\",value:function(t,e,i){return t.currentFrame&&0===this.speed&&1===i}},{key:\"checkSteppedToNextFrame\",value:function(t,e,i){return this.checkStepped(t,e,i)&&(t.currentFrame===e.previous&&t.currentFrame!==e||t.currentFrame===e&&t.currentProgress!==i)}},{key:\"checkSteppedToPreviousFrame\",value:function(t,e,i){return this.checkStepped(t,e,i)&&t.currentFrame.previous===e&&t.currentFrame!==e}},{key:\"initEndScene\",value:function(t,e){t.endSceneViewed=!1}},{key:\"destroyEndScene\",value:function(t){}},{key:\"renderEndScene\",value:function(t,e,i){0===t.endTime&&this.initEndScene(t,i),t.endTime+=e,t.endTime>=void 0&&!t.endSceneViewed&&(this.endCallback&&this.endCallback(),t.endSceneViewed=!0)}},{key:\"renderScene\",value:function(t,e,i,n,r,s,o,a){if(a=Math.min(80,a),!this.debugMode&&n===i.length-1&&1===r?this.renderEndScene(t,a,\"Win\"!==o):(t.endTime>0&&this.destroyEndScene(t),t.endTime=0),this.stepByStepAnimateSpeed&&this.isAsynchronousAnimationOngoing(t)){var h,l=this.currentFrame;t.reverseAsynchronousAnimation&&l++;var u=a/200*this.getFrameSpeed(l)*this.stepByStepAnimateSpeed;t.reverseAsynchronousAnimation?(h=t.currentProgress-u)<=0&&(l=this.currentFrame,h=1,t.targetProgress=1):(h=t.currentProgress+u,h=Math.min(t.targetProgress,h)),this.updateScene(this.scope,this.question,this.frames,l,h,this.speed,this.reasons[l],!1,!0)}for(var c in this.modules){var p=this.modules[c];if(\"function\"==typeof p.animateScene)try{p.animateScene(a)}catch(t){this.handleModuleError(c,t)}}return!0}},{key:\"isAsynchronousAnimationOngoing\",value:function(t){return null!=t.targetProgress&&t.currentProgress!==t.targetProgress}},{key:\"getFrameSpeed\",value:function(t){return 500/this.getFrameDuration(t)}},{key:\"getFrameDuration\",value:function(t){return this.frames&&this.frames[t]&&this.frames[t].frameInfo.frameDuration||1e3}},{key:\"enableAsyncRendering\",value:function(e){this.asyncRendering=e,this.asyncRenderingTime=t.RenderTimeout}},{key:\"purge\",value:function(){this.scope={},this.changed=!0,this.container.interactiveChildren=!1,this.container.destroy({texture:!1,children:!0}),delete this.container,this.container=new PIXI.Container}},{key:\"reinitScene\",value:function(){this.loaded>=1&&(this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.preconstructScene(this.scope,this.container,this.initWidth,this.initHeight),this.initScene(this.scope,this.container,this.frames),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame]),this.changed=!0)}},{key:\"reinitDefaultScene\",value:function(){this.loaded>=1&&(this.intro=!0,this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initDefaultScene(this.scope,this.container,this.initWidth,this.initHeight),this.changed=!0)}},{key:\"reinitLoadingScene\",value:function(){this.loaded<1&&(this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initPreload(this.scope,this.container,this.loaded,this.initWidth,this.initHeight))}},{key:\"reinit\",value:function(t){this.loaded>=1&&!this.loading?this.currentFrame>=0&&!this.intro?this.reinitScene():this.intro&&!t||this.reinitDefaultScene():this.reinitLoadingScene()}},{key:\"animate\",value:function(t){if(!this.destroyed){this.lastRenderTime||(this.lastRenderTime=t);var e=t-this.lastRenderTime;this.asynchronousStep&&(e=this.asynchronousStep),this.onBeforeRender&&this.onBeforeRender(),this.loading||(this.loaded<1?this.changed|=this.renderPreloadScene(this.scope,e):(this.changed||this.asyncRendering&&this.asyncRenderingTime>0||this.isAsynchronousAnimationOngoing(this.scope))&&(this.currentFrame<0?this.changed|=this.renderDefaultScene(this.scope,e):this.intro?(this.changed=!0,this.endDefaultScene(this.scope,e)&&(this.intro=!1,this.reinit(!0))):this.changed|=this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame],e)),this.changed&&(this.renderer.render(this.container),this.changed=!1)),this.onAfterRender&&this.onAfterRender(),this.lastRenderTime=t,this.destroyed||requestAnimationFrame(this.animate.bind(this)),this.asyncRenderingTime-=e}}},{key:\"_initFrames\",value:function(t,e){this.instantiateModules(),this._frames=e.map(function(t){var e,i=t[0].split(\" \");try{e=JSON.parse(t.slice(1).join(\"\\n\"))}catch(t){e={}}return je(je({},e),{},{key:\"KEY_FRAME\"===i[0]})}),this.parseGlobalData(this._frames[0].global),this.playerCount=t,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1;var i=this._frames[0].frame;i.key=this._frames[0].key,this.frames.push(this.parseFrame(i,this.frames));for(var n=1;n<this._frames.length;++n)this.frames.push(this.parseFrame(this._frames[n],this.frames))}},{key:\"isTurnBasedGame\",value:function(){return!1}},{key:\"initFrames\",value:function(t,e){this.playerInfo&&this.playerInfo.forEach(function(t){t.avatar&&t.avatar.destroy(!0)});var i=this,n=new PIXI.Loader(window.location.origin);this.playerInfo=e.map(function(t,e){var r={name:t.name||\"Anonymous\",color:t.color?i.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:null};return null!=t.avatar&&n.add(\"avatar\"+e,t.avatar,{loadType:2,crossOrigin:!0},function(t){r.avatar=t.texture,PIXI.Texture.addToCache(t.texture,\"$\"+r.index)}),r}),this.loading=!0;var r=!1,s=function(){i._initFrames(e.length,t),i.loading=!1,i.reinit(!1),r=!0};n.onComplete.add(s),n.onError.add(function(t){console.warn(t),r||s()}),n.load()}},{key:\"update\",value:function(e,i,n){this.currentFrame>=0&&(this.asyncRenderingTime=t.RenderTimeout,this.changed=!0,this.speed=n,this.currentFrame=e,this.progress=i,this.loaded>=1&&!this.intro&&this.updateScene(this.scope,this.question,this.frames,e,i,this.speed,this.reasons[this.currentFrame]))}},{key:\"parseColor\",value:function(t){if(Array.isArray(t)){var e,i=[];for(e=0;e<t.length;++e)i.push(this.parseColor(t[e]));return i}return parseInt(t.substring(1),16)}},{key:\"init\",value:function(e,i,n,r,s,o,a){var h,l=this;window.PIXI=t.PIXI||window.PIXI,this.oversampling=s||1;var u=function(){l.currentFrame>=0&&(l.changed=!0)};this.canvas=$(e),this.canvas.off(\"mousemove\"),this.canvas.off(\"wheel\"),this.canvas.bind(\"wheel\",u),this.canvas.mousemove(u),r&&(this.colors=this.parseColor(r)),\"ide\"===a&&(this.debugModeSetByUser||(this.debugMode=!0),w.listen(function(t){return console.error(t.cause?t.cause:t)})),this.asyncRendering=!0,this.asyncRenderingTime=0,this.destroyed=!1,this.asynchronousStep=null;var c,p=this;if(this.initWidth=0|i,this.initHeight=0|n,this.endCallback=o||this.endCallback,this.alreadyLoaded)this.changed=!0,this.renderer.resize(this.initWidth,this.initHeight),this.reinit(!0);else{this.alreadyLoaded=!0,this.question=null,this.scope=null,this.currentFrame=-1,this.loaded=0,this.container=new PIXI.Container;var f=this.getResources();this.renderer=this.createRenderer(this.initWidth,this.initHeight,e),c=this.renderer,Ct=c;var d,y=new PIXI.Loader(f.baseUrl);for(h in f.images)y.add(h,f.images[h],{crossOrigin:!0});for(d=0;d<f.sprites.length;++d)y.add(f.sprites[d],{crossOrigin:!0});for(d=0;d<f.fonts.length;++d)y.add(f.fonts[d],{crossOrigin:!0});for(h in f.spines)y.add(h,f.spines[h],{crossOrigin:!0});for(d=0;d<f.others.length;++d)y.add(f.others[d],{crossOrigin:!0});this.demo&&this.demo.agents.forEach(function(t){y.add(\"avatar\"+t.index,t.avatar,{loadType:2,crossOrigin:!0},function(e){t.avatarTexture=e.texture,PIXI.Texture.addToCache(e.texture,\"$\"+t.index)})}),p.scope={};var v=function(t,e){requestAnimationFrame(p.animate.bind(p)),p.initPreload(p.scope,p.container,p.loaded=0,p.initWidth,p.initHeight)};y.onStart.add(v),y.onProgress.add(function(t,e){t.progress<100&&p.preload(p.scope,p.container,p.loaded=t.progress/100,p.initWidth,p.initHeight,e)});var g=function(){var t;for(t in f.spines)f.spines.hasOwnProperty(t)&&(PIXI.AnimCache[t]=PIXI.AnimCache[f.baseUrl+f.spines[t]]);p.loaded=1,p.reinit(!0),p.changed=!0};y.onComplete.add(g),y.onError.add(function(t){console.warn(t)}),Object.keys(y.resources).length?y.load():(v(),g())}}},{key:\"createRenderer\",value:function(t,e,i){return PIXI.autoDetectRenderer({width:t,height:e,view:i,clearBeforeRender:!0,preserveDrawingBuffer:!1})}},{key:\"isReady\",value:function(){return this.loaded>=1}}],[{key:\"requirements\",get:function(){return{PIXI:\"PIXI6\"}}},{key:\"VERSION\",get:function(){return 2}},{key:\"WIDTH\",get:function(){return se}},{key:\"HEIGHT\",get:function(){return oe}},{key:\"getGameRatio\",value:function(){return t.WIDTH/t.HEIGHT}},{key:\"playerColors\",get:function(){return i.playerColors||[\"#ff1d5c\",\"#22a1e4\",\"#ff8f16\",\"#6ac371\",\"#9975e2\",\"#3ac5ca\",\"#de6ddf\",\"#ff0000\"]}},{key:\"SDK_GAME\",get:function(){return!0}},{key:\"RenderTimeout\",get:function(){return\"localhost\"===window.location.hostname?1/0:2e4}}])}()})(),Drawer=e.Drawer})();",
      "levelParams": {
        "0": {
          "testCases": [
            {
              "title": {
                "1": "",
                "2": "[Example 1] N=4, (startR, startC)=(1, 1)"
              },
              "isTest": true,
              "testIn": "4\n1 1",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "Example 1"
              },
              "isTest": false,
              "testIn": "4\n1 4",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "[Example 2] N=4, (startR, startC)=(1, 2)"
              },
              "isTest": true,
              "testIn": "4\n1 2",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "Example 2"
              },
              "isTest": false,
              "testIn": "4\n3 1",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=4, One Diagonal Inward From Corner"
              },
              "isTest": true,
              "testIn": "4\n3 3",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=4, One Diagonal Inward From Corner"
              },
              "isTest": false,
              "testIn": "4\n2 2",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=5, Corner"
              },
              "isTest": true,
              "testIn": "5\n1 1",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=5, Corner"
              },
              "isTest": false,
              "testIn": "5\n5 5",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=5, Edge"
              },
              "isTest": true,
              "testIn": "5\n4 5",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=5, Edge"
              },
              "isTest": false,
              "testIn": "5\n2 5",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=5, Edge 2"
              },
              "isTest": true,
              "testIn": "5\n3 5",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=5, Edge 2"
              },
              "isTest": false,
              "testIn": "5\n1 3",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=5, One Diagonal Inward From Corner"
              },
              "isTest": true,
              "testIn": "5\n2 4",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=5, One Diagonal Inward From Corner"
              },
              "isTest": false,
              "testIn": "5\n4 2",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=5, Near Center"
              },
              "isTest": true,
              "testIn": "5\n3 2",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=5, Near Center"
              },
              "isTest": false,
              "testIn": "5\n4 3",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=5, Center"
              },
              "isTest": true,
              "testIn": "5\n3 3",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=5, Center"
              },
              "isTest": false,
              "testIn": "5\n3 3",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=6, Edge"
              },
              "isTest": true,
              "testIn": "6\n6 2",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=6, Edge"
              },
              "isTest": false,
              "testIn": "6\n4 1",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=6, One Diagonal Inward From Corner"
              },
              "isTest": true,
              "testIn": "6\n2 5",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=6, One Diagonal Inward From Corner"
              },
              "isTest": false,
              "testIn": "6\n5 2",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=7, Corner"
              },
              "isTest": true,
              "testIn": "7\n7 1",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=7, Corner"
              },
              "isTest": false,
              "testIn": "7\n1 7",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=7, Edge"
              },
              "isTest": true,
              "testIn": "7\n1 5",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=7, Edge"
              },
              "isTest": false,
              "testIn": "7\n7 6",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=7, Near Center"
              },
              "isTest": true,
              "testIn": "7\n3 5",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=7, Near Center"
              },
              "isTest": false,
              "testIn": "7\n5 3",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=7, Center"
              },
              "isTest": true,
              "testIn": "7\n4 4",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=7, Center"
              },
              "isTest": false,
              "testIn": "7\n4 4",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=7, One Diagonal Inward From Corner"
              },
              "isTest": true,
              "testIn": "7\n6 6",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=7, One Diagonal Inward From Corner"
              },
              "isTest": false,
              "testIn": "7\n2 2",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=8, Corner"
              },
              "isTest": true,
              "testIn": "8\n8 1",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=8, Corner"
              },
              "isTest": false,
              "testIn": "8\n1 8",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=8, Edge"
              },
              "isTest": true,
              "testIn": "8\n1 7",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=8, Edge"
              },
              "isTest": false,
              "testIn": "8\n4 1",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=8, Near Center"
              },
              "isTest": true,
              "testIn": "8\n3 5",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=8, Near Center"
              },
              "isTest": false,
              "testIn": "8\n5 6",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=8, Center"
              },
              "isTest": true,
              "testIn": "8\n5 4",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=8, Center"
              },
              "isTest": false,
              "testIn": "8\n4 5",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=8, One Diagonal Inward From Corner"
              },
              "isTest": true,
              "testIn": "8\n7 2",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=8, One Diagonal Inward From Corner"
              },
              "isTest": false,
              "testIn": "8\n7 7",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=9, Center"
              },
              "isTest": true,
              "testIn": "9\n5 5",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=9, Center"
              },
              "isTest": false,
              "testIn": "9\n5 5",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=10, Center"
              },
              "isTest": true,
              "testIn": "10\n6 6",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=10, Center"
              },
              "isTest": false,
              "testIn": "10\n6 5",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=11, Edge"
              },
              "isTest": true,
              "testIn": "11\n11 5",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=11, Edge"
              },
              "isTest": false,
              "testIn": "11\n3 1",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=12, Edge"
              },
              "isTest": true,
              "testIn": "12\n7 12",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=12, Edge"
              },
              "isTest": false,
              "testIn": "12\n2 1",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=12, Near Center"
              },
              "isTest": true,
              "testIn": "12\n8 6",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=12, Near Center"
              },
              "isTest": false,
              "testIn": "12\n6 5",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=13, Near Center"
              },
              "isTest": true,
              "testIn": "13\n8 8",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=13, Near Center"
              },
              "isTest": false,
              "testIn": "13\n6 6",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=13, Corner"
              },
              "isTest": true,
              "testIn": "13\n13 13",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=13, Corner"
              },
              "isTest": false,
              "testIn": "13\n1 13",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=14, Corner"
              },
              "isTest": true,
              "testIn": "14\n1 14",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=14, Corner"
              },
              "isTest": false,
              "testIn": "14\n14 1",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=14, Center"
              },
              "isTest": true,
              "testIn": "14\n7 8",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=14, Center"
              },
              "isTest": false,
              "testIn": "14\n8 8",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=15, Center"
              },
              "isTest": true,
              "testIn": "15\n8 8",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=15, Center"
              },
              "isTest": false,
              "testIn": "15\n8 8",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=15, Edge"
              },
              "isTest": true,
              "testIn": "15\n1 5",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=15, Edge"
              },
              "isTest": false,
              "testIn": "15\n7 15",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=16, Edge"
              },
              "isTest": true,
              "testIn": "16\n12 1",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=16, Edge"
              },
              "isTest": false,
              "testIn": "16\n10 1",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=16, Near Center"
              },
              "isTest": true,
              "testIn": "16\n7 10",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=16, Near Center"
              },
              "isTest": false,
              "testIn": "16\n9 7",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=17, Near Center"
              },
              "isTest": true,
              "testIn": "17\n8 10",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=17, Near Center"
              },
              "isTest": false,
              "testIn": "17\n8 8",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=17, Corner"
              },
              "isTest": true,
              "testIn": "17\n1 1",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=17, Corner"
              },
              "isTest": false,
              "testIn": "17\n1 17",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=18, Corner"
              },
              "isTest": true,
              "testIn": "18\n1 18",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=18, Corner"
              },
              "isTest": false,
              "testIn": "18\n18 18",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=18, Center"
              },
              "isTest": true,
              "testIn": "18\n10 10",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=18, Center"
              },
              "isTest": false,
              "testIn": "18\n9 10",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=19, Corner"
              },
              "isTest": true,
              "testIn": "19\n1 19",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=19, Corner"
              },
              "isTest": false,
              "testIn": "19\n1 1",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=19, Edge"
              },
              "isTest": true,
              "testIn": "19\n11 1",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=19, Edge"
              },
              "isTest": false,
              "testIn": "19\n19 15",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=19, Near Edge"
              },
              "isTest": true,
              "testIn": "19\n2 14",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=19, Near Edge"
              },
              "isTest": false,
              "testIn": "19\n12 18",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=19, Random"
              },
              "isTest": true,
              "testIn": "19\n16 6",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=19, Random"
              },
              "isTest": false,
              "testIn": "19\n4 16",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=19, Near Center"
              },
              "isTest": true,
              "testIn": "19\n11 9",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=19, Near Center"
              },
              "isTest": false,
              "testIn": "19\n9 11",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=19, Center"
              },
              "isTest": true,
              "testIn": "19\n10 10",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=19, Center"
              },
              "isTest": false,
              "testIn": "19\n10 10",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=20, Corner"
              },
              "isTest": true,
              "testIn": "20\n20 1",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=20, Corner"
              },
              "isTest": false,
              "testIn": "20\n1 1",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=20, Edge"
              },
              "isTest": true,
              "testIn": "20\n19 1",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=20, Edge"
              },
              "isTest": false,
              "testIn": "20\n1 11",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=20, Near Edge"
              },
              "isTest": true,
              "testIn": "20\n19 9",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=20, Near Edge"
              },
              "isTest": false,
              "testIn": "20\n2 10",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=20, Random"
              },
              "isTest": true,
              "testIn": "20\n4 5",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=20, Random"
              },
              "isTest": false,
              "testIn": "20\n17 4",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=20, Near Center"
              },
              "isTest": true,
              "testIn": "20\n12 9",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=20, Near Center"
              },
              "isTest": false,
              "testIn": "20\n10 9",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "N=20, Center"
              },
              "isTest": true,
              "testIn": "20\n10 11",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "N=20, Center"
              },
              "isTest": false,
              "testIn": "20\n11 11",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            }
          ],
          "maxPlayers": 1,
          "minPlayers": 1,
          "statements": {
            "1": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      <p>You are given the size <var>N</var> of a grid, a start cell (<var>startR</var>, <var>startC</var>). All coordinates use the format (row, column) and are 1-indexed.</p>\n      <p>A path is said to be palindromic if the concatenated string along the path is a palindrome.</p>\n      <p>Construct an <var>N</var>x<var>N</var> grid by assigning a single character to each cell and choose a goal cell (<var>goalR</var>, <var>goalC</var>) such that the following five conditions are satisfied:</p>\n      <ul>\n        <li>The grid contains only lowercase English letters.</li>\n        <li>1 â‰¤ <var>goalR</var>, <var>goalC</var> â‰¤ <var>N</var>\n        <li>(<var>startR</var>, <var>startC</var>) â‰  (<var>goalR</var>, <var>goalC</var>)</li>\n        <li>A palindromic path from the start to the goal exists.</li>\n        <li>The minimum length of a palindromic path from the start to the goal is exactly <var>N</var>^2.</li>\n      </ul>\n      <p>Note that not every cell in the grid must be used (as shown in Example 2).</p>\n      <p>Under the given constraints, it can be proved that a valid grid always exists.</p>\n    </div>\n  </div>\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Path Rules</span>\n    </h1>\n    <div class=\"statement-rules-content\">\n      <ul>\n        <li>The path length is the total number of cells in the path, including the start cell and the goal cell.</li>\n        <li>Movement is restricted to 4-adjacent cells (up, down, left, right).</li>\n        <li>The path does not have to be simple, meaning that it can visit the same cell more than once, subject to the self-loop rule below.</li>\n        <li>No self-loops are allowed, meaning that the path may not visit the same cell twice (or more) consecutively.</li>\n      </ul>\n    </div>\n  </div>\n  <div class=\"statement-section statement-examples\">\n    <h1>\n      <span class=\"icon icon-example\">&nbsp;</span>\n      <span>Example 1</span>\n    </h1>\n    <div class=\"statement-examples-text\">\n      <p>The following 4x4 grid is a valid grid for <var>N</var>=4, (<var>startR</var>, <var>startC</var>)=(1, 1). The chosen goal is (4, 3).</p>\n      <p><code>abcd<br>\nhgfe<br>\nhedc<br>\ngfab</code></p>\n      <p>The path (1, 1) â†’ (1, 2) â†’ (1, 3) â†’ (1, 4) â†’ (2, 4) â†’ (2, 3) â†’ (2, 2) â†’ (2, 1) â†’ (3, 1) â†’ (4, 1) â†’ (4, 2) â†’ (3, 2) â†’ (3, 3) â†’ (3, 4) â†’ (4, 4) â†’ (4, 3) forms a palindrome \"abcdefghhgfedcba\". This path has length 16 and is the shortest palindromic path from the start to the goal.</p>\n    </div>\n    <h1>\n      <span class=\"icon icon-example\">&nbsp;</span>\n      <span>Example 2</span>\n    </h1>\n    <div class=\"statement-examples-text\">\n      <p>The following 4x4 grid is a valid grid for <var>N</var>=4, (<var>startR</var>, <var>startC</var>)=(1, 2). The chosen goal is (3, 1).</p>\n      <p><code>aaac<br>\ncbca<br>\naabb<br>\ncaaa</code></p>\n      <p>A shortest palindromic path is <strong>(1, 2)</strong> â†’ (1, 1) â†’ <strong>(1, 2)</strong> â†’ (1, 3) â†’ <strong>(1, 2)</strong> â†’ (2, 2) â†’ (3, 2) â†’ (3, 3) â†’ (3, 4) â†’ (4, 4) â†’ (3, 4) â†’ (4, 4) â†’ (4, 3) â†’ (4, 2) â†’ (3, 2) â†’ (3, 1). This path forms a palindrome \"aaaaababbabaaaaa\". In this case, the cell (1, 2) is counted three times. Similarly, other cells are counted multiple times if they are visited multiple times. Note that you cannot move from (1, 2) to (1, 2) as self-loops are not allowed.</p>\n    </div>\n  </div>\n    <div class=\"statement-section statement-note\">\n    <h1>\n      <span>Note</span>\n    </h1>\n    <div class=\"statement-note-content\">\n      <ul>\n        <li>This puzzle tasks you with generating specific test cases for the <a href=\"https://www.codingame.com/training/medium/shortest-palindromic-path\">Shortest Palindromic Path</a> puzzle. It is recommended to solve that puzzle first. Please feel free to reuse your code.</li>\n        <li>You can hide trails in the settings panel.</li>\n      </ul>\n    </div>\n  </div>\n  <div class=\"statement-section statement-protocol\">\n    <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"text\">\n        <div><strong>Line 1:</strong> An integer <var>N</var>, representing the size of the grid.</div>\n        <div><strong>Line 2:</strong> Two space-separated integers <var>startR</var> and <var>startC</var>, representing the coordinates of the start cell.</div>\n      </div>\n    </div>\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <div><strong>Line 1:</strong> Two space-separated integers <var>goalR</var> and <var>goalC</var>, representing the coordinates of the goal cell.</div>\n        <strong>Next <var>N</var> lines:</strong> A string of length <var>N</var>, representing each row of the grid.\n      </div>\n    </div>\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\">\n        <ul>\n          <li>4 â‰¤ <var>N</var> â‰¤ 20</li>\n          <li>1 â‰¤ <var>startR</var>, <var>startC</var> â‰¤ <var>N</var></li>\n          <li>For <var>N</var> â‰¥ 9, (<var>startR</var>, <var>startC</var>) is none of (2, 2), (2, <var>N</var> - 1), (<var>N</var> - 1, 2), or (<var>N</var> - 1, <var>N</var> - 1).</li>\n          <li>For odd <var>N</var> â‰¥ 9, <var>startR</var> + <var>startC</var> is even.</li>\n          <li>The execution time limit is 25 seconds.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n",
            "2": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      <p>You are given the size <var>N</var> of a grid, a start cell (<var>startR</var>, <var>startC</var>). All coordinates use the format (row, column) and are 1-indexed.</p>\n      <p>A path is said to be palindromic if the concatenated string along the path is a palindrome.</p>\n      <p>Construct an <var>N</var>x<var>N</var> grid by assigning a single character to each cell and choose a goal cell (<var>goalR</var>, <var>goalC</var>) such that the following five conditions are satisfied:</p>\n      <ul>\n        <li>The grid contains only lowercase English letters.</li>\n        <li>1 â‰¤ <var>goalR</var>, <var>goalC</var> â‰¤ <var>N</var>\n        <li>(<var>startR</var>, <var>startC</var>) â‰  (<var>goalR</var>, <var>goalC</var>)</li>\n        <li>A palindromic path from the start to the goal exists.</li>\n        <li>The minimum length of a palindromic path from the start to the goal is exactly <var>N</var>^2.</li>\n      </ul>\n      <p>Note that not every cell in the grid must be used (as shown in Example 2).</p>\n      <p>Under the given constraints, it can be proved that a valid grid always exists.</p>\n    </div>\n  </div>\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Path Rules</span>\n    </h1>\n    <div class=\"statement-rules-content\">\n      <ul>\n        <li>The path length is the total number of cells in the path, including the start cell and the goal cell.</li>\n        <li>Movement is restricted to 4-adjacent cells (up, down, left, right).</li>\n        <li>The path does not have to be simple, meaning that it can visit the same cell more than once, subject to the self-loop rule below.</li>\n        <li>No self-loops are allowed, meaning that the path may not visit the same cell twice (or more) consecutively.</li>\n      </ul>\n    </div>\n  </div>\n  <div class=\"statement-section statement-examples\">\n    <h1>\n      <span class=\"icon icon-example\">&nbsp;</span>\n      <span>Example 1</span>\n    </h1>\n    <div class=\"statement-examples-text\">\n      <p>The following 4x4 grid is a valid grid for <var>N</var>=4, (<var>startR</var>, <var>startC</var>)=(1, 1). The chosen goal is (4, 3).</p>\n      <p><code>abcd<br>\nhgfe<br>\nhedc<br>\ngfab</code></p>\n      <p>The path (1, 1) â†’ (1, 2) â†’ (1, 3) â†’ (1, 4) â†’ (2, 4) â†’ (2, 3) â†’ (2, 2) â†’ (2, 1) â†’ (3, 1) â†’ (4, 1) â†’ (4, 2) â†’ (3, 2) â†’ (3, 3) â†’ (3, 4) â†’ (4, 4) â†’ (4, 3) forms a palindrome \"abcdefghhgfedcba\". This path has length 16 and is the shortest palindromic path from the start to the goal.</p>\n    </div>\n    <h1>\n      <span class=\"icon icon-example\">&nbsp;</span>\n      <span>Example 2</span>\n    </h1>\n    <div class=\"statement-examples-text\">\n      <p>The following 4x4 grid is a valid grid for <var>N</var>=4, (<var>startR</var>, <var>startC</var>)=(1, 2). The chosen goal is (3, 1).</p>\n      <p><code>aaac<br>\ncbca<br>\naabb<br>\ncaaa</code></p>\n      <p>A shortest palindromic path is <strong>(1, 2)</strong> â†’ (1, 1) â†’ <strong>(1, 2)</strong> â†’ (1, 3) â†’ <strong>(1, 2)</strong> â†’ (2, 2) â†’ (3, 2) â†’ (3, 3) â†’ (3, 4) â†’ (4, 4) â†’ (3, 4) â†’ (4, 4) â†’ (4, 3) â†’ (4, 2) â†’ (3, 2) â†’ (3, 1). This path forms a palindrome \"aaaaababbabaaaaa\". In this case, the cell (1, 2) is counted three times. Similarly, other cells are counted multiple times if they are visited multiple times. Note that you cannot move from (1, 2) to (1, 2) as self-loops are not allowed.</p>\n    </div>\n  </div>\n    <div class=\"statement-section statement-note\">\n    <h1>\n      <span>Note</span>\n    </h1>\n    <div class=\"statement-note-content\">\n      <ul>\n        <li>This puzzle tasks you with generating specific test cases for the <a href=\"https://www.codingame.com/training/medium/shortest-palindromic-path\">Shortest Palindromic Path</a> puzzle. It is recommended to solve that puzzle first. Please feel free to reuse your code.</li>\n        <li>You can hide trails in the settings panel.</li>\n      </ul>\n    </div>\n  </div>\n  <div class=\"statement-section statement-protocol\">\n    <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"text\">\n        <div><strong>Line 1:</strong> An integer <var>N</var>, representing the size of the grid.</div>\n        <div><strong>Line 2:</strong> Two space-separated integers <var>startR</var> and <var>startC</var>, representing the coordinates of the start cell.</div>\n      </div>\n    </div>\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <div><strong>Line 1:</strong> Two space-separated integers <var>goalR</var> and <var>goalC</var>, representing the coordinates of the goal cell.</div>\n        <strong>Next <var>N</var> lines:</strong> A string of length <var>N</var>, representing each row of the grid.\n      </div>\n    </div>\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\">\n        <ul>\n          <li>4 â‰¤ <var>N</var> â‰¤ 20</li>\n          <li>1 â‰¤ <var>startR</var>, <var>startC</var> â‰¤ <var>N</var></li>\n          <li>For <var>N</var> â‰¥ 9, (<var>startR</var>, <var>startC</var>) is none of (2, 2), (2, <var>N</var> - 1), (<var>N</var> - 1, 2), or (<var>N</var> - 1, <var>N</var> - 1).</li>\n          <li>For odd <var>N</var> â‰¥ 9, <var>startR</var> + <var>startC</var> is even.</li>\n          <li>The execution time limit is 25 seconds.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n"
          },
          "questionType": "solo",
          "stubGenerator": "read N:int\r\nread startR:int startC:int\r\nwrite 4 3\r\nabcd\r\nhgfe\r\nhedc\r\ngfab",
          "welcomePopups": {},
          "criteriaLanguageMap": {}
        }
      },
      "coverBinaryId": 154061287464295,
      "directoryPrefix": "community/3276896-1764930573929",
      "allowSourceDownload": true,
      "originalArchiveBinaryId": 157657884780349
    },
    "draft": false,
    "readyForModeration": false
  },
  "avatar": 26189736775264,
  "commentCount": 24,
  "upVotes": 19,
  "downVotes": 0,
  "statusHistory": [
    {
      "status": "REFUSED",
      "date": 1767524737001,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1767541551415,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "REFUSED",
      "date": 1770134737003,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1770190473057,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": false
}