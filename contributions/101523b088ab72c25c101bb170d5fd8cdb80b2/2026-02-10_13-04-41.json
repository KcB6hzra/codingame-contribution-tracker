{
  "id": 101523,
  "activeVersion": 5,
  "score": 7,
  "votableId": 34569927,
  "codingamerId": 5082325,
  "views": 148,
  "commentableId": 34418187,
  "title": "Finish the Eight Queens",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Ondra77",
  "publicHandle": "101523b088ab72c25c101bb170d5fd8cdb80b2",
  "codingamerHandle": "9b94383a2f784aded15c4244a1ed02eb5232805",
  "lastVersion": {
    "version": 5,
    "autocloseTime": 1727703395184,
    "freezeTime": 1722859345381,
    "data": {
      "title": "Finish the Eight Queens",
      "topics": [
        {
          "id": 56,
          "handle": "backtracking",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Retour sur trace",
            "2": "Backtracking"
          },
          "pageTitle": "Backtracking: exercises and theory",
          "puzzleCount": 23,
          "parentTopicId": 41,
          "contentDetailsId": 80
        },
        {
          "id": 137,
          "handle": "chess",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Ã‰checs",
            "2": "Chess"
          },
          "puzzleCount": 12,
          "parentTopicId": 107
        }
      ],
      "solution": "#include <stdlib.h>\n#include <stdio.h>\n\nvoid markGrid(int grid[8][8], int i, int j, int m);\nint solve(int grid[8][8], int r, int q);\n\nint main() {\n    int grid[8][8] = {}, queens = 0;\n\n    for (int i=0; i<8; i++) {\n        char row[9];\n        scanf(\"%s\", row);\n\n        for (int j=0; j<8; j++) {\n            if (row[j] == 'Q') {\n                markGrid(grid, i, j, 1);\n                queens++;\n                break;\n            }\n        }\n    }\n\n    solve(grid, 0, queens);\n\n    for (int i=0; i<8; i++) {\n        for (int j=0; j<8; j++) {\n            printf(grid[i][j] == -1 ? \"Q\":\".\");\n        }\n        printf(\"\\n\");\n    }\n\n    return 0;\n}\n\nvoid markGrid(int grid[8][8], int i, int j, int m) {\n    for (int k=0; k<8; k++) {\n        grid[i][k] += m;\n        grid[k][j] += m;\n        if (i-k>=0 && j-k>=0) grid[i-k][j-k] += m;\n        if (i-k>=0 && j+k< 8) grid[i-k][j+k] += m;\n        if (i+k< 8 && j-k>=0) grid[i+k][j-k] += m;\n        if (i+k< 8 && j+k< 8) grid[i+k][j+k] += m;\n    }\n\n    grid[i][j] = (m==1)? -1:0;\n}\n\nint solve(int grid[8][8], int r, int q) {\n    int i=0;\n    while (r<8 && grid[r][i])\n        (i==7)? i=0, r++ : i++;\n    \n    if (r==8)\n        return q==8;\n\n    for (; i<8; i++) {\n        if (!grid[r][i]) {\n            markGrid(grid, r, i, 1);\n            if (solve(grid, r+1, q+1))\n                return 1;\n            markGrid(grid, r, i, -1);\n        }\n    }\n\n    return 0;\n}",
      "statement": "The Eight Queens Puzzle is a chess puzzle, where the goal is to arrange 8 queens on a standard 8x8 Chess board such that no queen threatens another one by standard Chess rules (i.e. no two queens may be in the same row, column, or diagonal).\n\nYou'll be given a Chess board where some of the queens are already placed. Your task is then to place the remaining queens, finishing the puzzle.",
      "testCases": [
        {
          "title": "Test 1",
          "isTest": true,
          "testIn": "Q.......\n........\n...Q....\n........\n.......Q\n.Q......\n........\n........",
          "testOut": "Q.......\n......Q.\n...Q....\n.....Q..\n.......Q\n.Q......\n....Q...\n..Q.....",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "........\n........\nQ.......\n.....Q..\n........\n........\n........\n......Q.",
          "testOut": "....Q...\n..Q.....\nQ.......\n.....Q..\n.......Q\n.Q......\n...Q....\n......Q.",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 2",
          "isTest": true,
          "testIn": "........\n..Q.....\n....Q...\n......Q.\n........\n........\n........\n........",
          "testOut": ".....Q..\n..Q.....\n....Q...\n......Q.\nQ.......\n...Q....\n.Q......\n.......Q",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": ".....Q..\n.Q......\n........\n........\n........\n........\n....Q...\n........",
          "testOut": ".....Q..\n.Q......\n......Q.\nQ.......\n...Q....\n.......Q\n....Q...\n..Q.....",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 3",
          "isTest": true,
          "testIn": "........\n........\n.......Q\nQ.......\n........\n......Q.\n....Q...\n........",
          "testOut": "..Q.....\n.....Q..\n.......Q\nQ.......\n...Q....\n......Q.\n....Q...\n.Q......",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "........\n........\n...Q....\nQ.......\n........\n....Q...\n........\n.Q......",
          "testOut": "..Q.....\n.....Q..\n...Q....\nQ.......\n.......Q\n....Q...\n......Q.\n.Q......",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 4",
          "isTest": true,
          "testIn": "...Q....\n........\n........\n........\n......Q.\n........\n........\n....Q...",
          "testOut": "...Q....\n.....Q..\n.......Q\n.Q......\n......Q.\nQ.......\n..Q.....\n....Q...",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "........\n........\n...Q....\n........\n..Q.....\n.....Q..\n........\n........",
          "testOut": "....Q...\n.......Q\n...Q....\nQ.......\n..Q.....\n.....Q..\n.Q......\n......Q.",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "There's only one solution each time.",
      "coverBinaryId": 127245345428863,
      "stubGenerator": "loop 8 read row:word(8)\nloop 8 write row",
      "inputDescription": "<<8 lines:>> 8 characters, either a {{.}} indicating a free square, or a {{Q}} indicating a queen.",
      "solutionLanguage": "C",
      "outputDescription": "The final board in the same format (8 lines of 8 characters)."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">The Eight Queens Puzzle is a chess puzzle, where the goal is to arrange 8 queens on a standard 8x8 Chess board such that no queen threatens another one by standard Chess rules (i.e. no two queens may be in the same row, column, or diagonal).<br><br>You'll be given a Chess board where some of the queens are already placed. Your task is then to place the remaining queens, finishing the puzzle.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>8 lines:</strong> 8 characters, either a <const>.</const> indicating a free square, or a <const>Q</const> indicating a queen.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">The final board in the same format (8 lines of 8 characters).</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">There's only one solution each time.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">Q.......\n........\n...Q....\n........\n.......Q\n.Q......\n........\n........</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">Q.......\n......Q.\n...Q....\n.....Q..\n.......Q\n.Q......\n....Q...\n..Q.....</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 44645774953,
  "commentCount": 17,
  "upVotes": 7,
  "downVotes": 0,
  "validateAction": {
    "actionId": 993052,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "REFUSED",
      "date": 1724846737001,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1725111395184,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "ACCEPTED",
      "date": 1726082904855,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}