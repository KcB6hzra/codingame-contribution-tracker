{
  "id": 5285,
  "activeVersion": 8,
  "score": 20,
  "votableId": 14613120,
  "codingamerId": 1489865,
  "views": 521,
  "commentableId": 14533120,
  "title": "Dots and Boxes",
  "status": "ACCEPTED",
  "type": "PUZZLE_MULTI",
  "nickname": "EricSMSO",
  "publicHandle": "5285585ecb0aad8027cac613283f0353caa0",
  "codingamerHandle": "f5f8fd68a484329ecd629d610c8d05755689841",
  "lastVersion": {
    "version": 8,
    "autocloseTime": 1599337872419,
    "data": {
      "title": "Dots and Boxes",
      "topics": [
        {
          "id": 107,
          "handle": "classic-board-games",
          "labelMap": {
            "1": "Classic board games",
            "2": "Classic board games"
          },
          "puzzleCount": 10,
          "parentTopicId": 93
        },
        {
          "id": 83,
          "handle": "minimax",
          "labelMap": {
            "1": "Minimax",
            "2": "Minimax"
          },
          "pageTitle": "Minimax: exercises and theory",
          "puzzleCount": 16,
          "parentTopicId": 42,
          "contentDetailsId": 93
        }
      ],
      "refereeMd5": "1489865/ae9a836563f29c7bab788b44891827e6",
      "testHandle": "8490185d2a11c2df1dfdbd1d9dd0c08d56ad11",
      "viewerCode": "var Drawer=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";n.r(e),n.d(e,\"Drawer\",(function(){return Cn}));var r={baseUrl:\"https://cdn-games.codingame.com/community/1489865-1596742550734/\",images:{\"logo.png\":\"3e3ccef30a7715c8eff49e09723961d7cb854469782c3990cd9b89dc0eb0de20.png\"},sprites:[],fonts:[]};function o(t,e,n){return t<=e?t+(e-t)*n:e+(t-e)*(1-n)}function i(t,e,n){return Math.min(1,Math.max(0,(n-(r=t))/(e-r)));var r}function a(t,e,n,r,o){return o=o||0,Math.min(n/(t+o),r/(e+o))}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=[],s=[],l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"listen\",value:function(t){if(\"function\"!=typeof t)throw new TypeError(t+\" is not a function\");s.push(t)}},{key:\"push\",value:function(t){c.push(t),s.forEach((function(e){return e(t)}))}}],null&&u(e.prototype,null),n&&u(e,n),t}();function f(t){return(f=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function p(t){var e=d();return function(){var n,r,o,i=m(t);return r=this,!(o=e?(n=m(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments))||\"object\"!==f(o)&&\"function\"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):o}}function h(t){var e=\"function\"==typeof Map?new Map:void 0;return(h=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return y(t,arguments,m(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),b(r,t)})(t)}function y(t,e,n){return(y=d()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&b(o,n.prototype),o}).apply(null,arguments)}function d(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,h(Error));var t=p(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,\"Invalid color token: there is no player at index \".concat(n,\". Make sure to use getColorToken() if you want the color of a specific player.\"))).playerIdx=n,o.cause=r,o.name=\"InvalidPlayerColorTokenError\",o}return e}();function v(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){var r,o,i;r=t,i=n[o=e],o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t,e,n){return n<1?t:e}var S={type:Number,lerpMethod:function(t,e,n){if(null===e)return null;var r={r:(16711680&t)>>16,g:(65280&t)>>8,b:255&t},i={r:(16711680&e)>>16,g:(65280&e)>>8,b:255&e};return o(r.r,i.r,n)<<16|o(r.g,i.g,n)<<8|o(r.b,i.b,n)},convert:function(t,e){var n=-(t+1);try{return t<0?e.players[n].color:t}catch(t){return l.push(new g(n)),16777215}}},P={type:String,lerpMethod:w,convert:D},j={type:Number,lerpMethod:function(t,e,n,r){for(;e>t+Math.PI;)e-=2*Math.PI;for(;e<t-Math.PI;)e+=2*Math.PI;return(void 0!==r&&Math.abs(e-t)>r?e:t+(e-t)*n)%(2*Math.PI)},convert:function(t){return t*Math.PI/180}},x={type:Number,lerpMethod:w},R={type:function(t){return\"1\"===t},lerpMethod:w},k={type:Number,lerpMethod:function(t,e,n){return e<t?e:o(t,e,n)}},T={default:{type:Number,lerpMethod:o},visible:R,rotation:j,skewX:j,skewY:j,fillColor:S,lineColor:S,strokeColor:S,tint:S,animationProgressTime:k,maxWidth:x,mask:x,baseWidth:x,baseHeight:x,image:P,images:P,scaleMode:P,restarted:{type:String,convert:function(t,e,n,r){return t?{date:n.date+r*n.frameDuration}:null},lerpMethod:w},playing:R,duration:x,blendMode:x,loop:R,text:O(O({},P),{},{convert:function(t,e){t=D(t);for(var n=/\\$(\\d)/g,r=n.exec(t),o=\"\",i=0;r;)r[1]<e.players.length&&(o+=t.substring(i,r.index),o+=e.players[+r[1]].name),i=r.index+r[0].length,r=n.exec(t);return o+t.substring(i)}}),textAlign:O(O({},P),{},{convert:function(t){return{0:\"left\",1:\"center\",2:\"right\"}[t]}}),fontFamily:P,fontWeight:P,children:O(O({},P),{},{convert:function(t){return t?t.split(\",\").map((function(t){return+t})):[]}}),points:O(O({},P),{},{convert:function(t){return t?t.split(\",\").map((function(t){return parseInt(t)})):[]},lerpMethod:function(t,e,n){return t.length===e.length?t.map((function(t,r){return o(t,e[r],n)})):w(t,e,n)}})};function D(t){var e=t.split(\"\\\\'\").join(\"'\");return e.includes(\" \")||e.includes(\";\")||e.includes(\"\\n\")?e.slice(1,e.length-1):e}function _(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){var r,o,i;r=t,i=n[o=e],o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C(t){return(C=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var F=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.defaultState={x:0,y:0,scaleX:1,scaleY:1,skewX:0,skewY:0,zIndex:0,alpha:1,visible:!1,rotation:0,mask:-1},this.states={}}var e,n,r;return e=t,r=[{key:\"createState\",value:function(t,e,n){var r=2<arguments.length&&void 0!==n?n:{};return E(E({t:0<arguments.length&&void 0!==t?t:1},1<arguments.length&&void 0!==e?e:{}),{},{curve:r})}}],(n=[{key:\"init\",value:function(){this.properties=Object.keys(this.defaultState),this.initDisplay(),this.currentState=Object.assign({},this.defaultState),\"object\"===C(this.graphics)&&this.container.addChild(this.graphics)}},{key:\"setHidden\",value:function(t){this.hide=t,this.container.visible=this.currentState.visible&&!this.hide}},{key:\"addState\",value:function(e,n,r){this.states[r]||(this.states[r]=[]);var o=t.createState(e,n.values,n.curve),i=this.states[r].find((function(t){return t.t===e}));i&&0===Object.keys(o.curve).length&&(o.curve=i.curve),i?(M(o)||M(i)||l.push(new Error(\"Different updates for same t \"+e)),Object.assign(i,o)):this.states[r].push(o)}},{key:\"set\",value:function(t,e,n){this.addState(t,e,n)}},{key:\"render\",value:function(t,e,n){var r=this.states[e.number];this.container.visible=!1;var o,a=null,u=1;if(r&&r.length){for(var c=0;c<r.length-1&&r[c].t<t;)c++;if(a=r[c-1],o=r[c],a)u=i(a.t,o.t,t);else{var s=Object.keys(this.states),l=s.indexOf(e.number.toString())-1;for(-1===l&&(l=s.length-1);0<=l&&s[l]>=e.number;)l--;var f=this.states[s[l]]||[];u=!(a=f[f.length-1])&&t>=o.t?(a=o,1):i(0,o.t,t)}}else{for(var p=Object.keys(this.states),h=p.length-1;0<=h&&p[h]>e.number;)h--;var y=this.states[p[h]];null!=y?o=a=y[y.length-1]:Object.assign(this.currentState,this.defaultState)}if(a){var d,b={},m=Object.assign({},this.currentState),g=function(t,e){var n;if(\"undefined\"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(this.properties);try{for(g.s();!(d=g.n()).done;){var v=d.value,O=(T[v]||T.default).lerpMethod,w=o.curve[v]||function(t){return t},S=O(a[v],o[v],w(u));S!==this.currentState[v]&&(b[v]=!0,m[v]=S)}}catch(t){g.e(t)}finally{g.f()}this.updateDisplay(m,b,n,e,t),Object.assign(this.currentState,m),this.container.visible=this.container._visible,b.children&&(n.mustResetTree=!0,\"function\"==typeof this.postUpdate&&n.updatedBuffers.push(this)),b.zIndex&&(n.mustResort=!0),b.mask&&(n.maskUpdates[this.id]=m.mask),0!==Object.keys(b).length&&this.parent&&this.parent.notifyChange()}}},{key:\"notifyChange\",value:function(){this.parent&&this.parent.notifyChange()}},{key:\"initDisplay\",value:function(){this.container=new PIXI.Container,this.container.zIndex=this.defaultState.zIndex,this.container.id=this.id,this.container._visible=this.defaultState.visible}},{key:\"updateDisplay\",value:function(t,e,n){this.container.zIndex=t.zIndex,this.container.alpha=t.alpha,(e.x||e.y)&&this.container.position.set(t.x*n.toWorldUnits,t.y*n.toWorldUnits),(e.scaleX||e.scaleY)&&this.container.scale.set(t.scaleX||1e-8,t.scaleY||1e-8),this.container.rotation=t.rotation,this.container._visible=t.visible&&!this.hide,this.container.skew.set(t.skewX,t.skewY)}}])&&A(e.prototype,n),r&&A(e,r),t}();function M(t){return Object.keys(t).length===Object.keys(F.createState()).length}function W(t){return(W=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function X(t,e,n){return(X=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Y(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function z(t,e,n){return e&&L(t.prototype,e),n&&L(t,n),t}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var H=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(e,F);var t=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r,o,i=Y(t);return r=this,!(o=e?(n=Y(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments))||\"object\"!==W(o)&&\"function\"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):o}}(e);function e(){var n;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),n=t.call(this),Object.assign(n.defaultState,{fillColor:e.defaultFillColor(),lineWidth:e.defaultLineWidth(),lineColor:e.defaultLineColor(),fillAlpha:e.defaultFillAlpha(),lineAlpha:e.defaultLineAlpha(),blendMode:PIXI.BLEND_MODES.NORMAL}),n}return z(e,null,[{key:\"defaultLineWidth\",value:function(){return 0}},{key:\"defaultFillColor\",value:function(){return 16777215}},{key:\"defaultLineColor\",value:function(){return 0}},{key:\"defaultLineAlpha\",value:function(){return 1}},{key:\"defaultFillAlpha\",value:function(){return 1}}]),z(e,[{key:\"initDisplay\",value:function(){X(Y(e.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Graphics,this.graphics.lineStyle(this.defaultState.lineWidth,this.defaultState.lineColor,this.defaultState.lineAlpha),null!==this.defaultState.fillColor&&this.graphics.beginFill(this.defaultState.fillColor,this.defaultState.fillAlpha)}},{key:\"updateDisplay\",value:function(t,n,r){X(Y(e.prototype),\"updateDisplay\",this).call(this,t,n,r),this.graphics.blendMode=t.blendMode}}]),e}();function B(t){return(B=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function G(t,e,n){return(G=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=V(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N(t,e,n){return e&&K(t.prototype,e),n&&K(t,n),t}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var J=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(e,H);var t=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r,o,i=V(t);return r=this,!(o=e?(n=V(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments))||\"object\"!==B(o)&&\"function\"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):o}}(e);function e(){var n;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(n=t.call(this)).defaultState.radius=e.defaultRadius(),n}return N(e,null,[{key:\"defaultRadius\",value:function(){return 100}}]),N(e,[{key:\"initDisplay\",value:function(){G(V(e.prototype),\"initDisplay\",this).call(this),this.graphics.drawCircle(0,0,this.defaultState.radius),null!==this.defaultState.fillColor&&this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,n,r){G(V(e.prototype),\"updateDisplay\",this).call(this,t,n,r),(n.radius||n.lineColor||n.lineWidth||n.fillColor||n.fillAlpha||n.lineAlpha)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor),this.graphics.drawCircle(0,0,t.radius*r.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}]),e}();function Q(t){return(Q=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Z(t,e,n){return(Z=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function et(t,e,n){return e&&tt(t.prototype,e),n&&tt(t,n),t}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ot=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(e,H);var t=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r,o,i=rt(t);return r=this,!(o=e?(n=rt(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments))||\"object\"!==Q(o)&&\"function\"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):o}}(e);function e(){var n;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(n=t.call(this)).defaultState.x2=e.defaultPosition(),n.defaultState.y2=e.defaultPosition(),n}return et(e,null,[{key:\"defaultPosition\",value:function(){return 100}}]),et(e,[{key:\"initDisplay\",value:function(){Z(rt(e.prototype),\"initDisplay\",this).call(this)}},{key:\"updateDisplay\",value:function(t,n,r){Z(rt(e.prototype),\"updateDisplay\",this).call(this,t,n,r),(n.lineWidth||n.lineColor||n.lineAlpha||n.x2||n.y2||n.x||n.y)&&(this.graphics.clear(),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.moveTo(0,0),this.graphics.lineTo(-this.container.x+t.x2*r.toWorldUnits,-this.container.y+t.y2*r.toWorldUnits))}}]),e}();function it(t){return(it=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function at(t,e,n){return(at=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ct(t,e,n){return e&&ut(t.prototype,e),n&&ut(t,n),t}function st(t,e){return(st=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lt(t){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ft=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&st(t,e)}(e,H);var t=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r,o,i=lt(t);return r=this,!(o=e?(n=lt(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments))||\"object\"!==it(o)&&\"function\"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):o}}(e);function e(){var n;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),n=t.call(this),Object.assign(n.defaultState,{width:e.defaultSideLength(),height:e.defaultSideLength()}),n}return ct(e,null,[{key:\"defaultSideLength\",value:function(){return 100}}]),ct(e,[{key:\"initDisplay\",value:function(){at(lt(e.prototype),\"initDisplay\",this).call(this),this.graphics.drawRect(0,0,this.defaultState.width,this.defaultState.height),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,n,r){at(lt(e.prototype),\"updateDisplay\",this).call(this,t,n,r),(n.lineWidth||n.lineColor||n.width||n.height||n.lineAlpha||n.fillColor)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawRect(0,0,t.width*r.toWorldUnits,t.height*r.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}]),e}();function pt(t){return(pt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function ht(t,e,n){return(ht=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dt(t,e,n){return e&&yt(t.prototype,e),n&&yt(t,n),t}function bt(t,e){return(bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bt(t,e)}(e,F);var t=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r,o,i=mt(t);return r=this,!(o=e?(n=mt(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments))||\"object\"!==pt(o)&&\"function\"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):o}}(e);function e(){var n;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),n=t.call(this),Object.assign(n.defaultState,{anchorX:e.defaultAnchor(),anchorY:e.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215}),n}return dt(e,null,[{key:\"defaultAnchor\",value:function(){return 0}}]),dt(e,[{key:\"initDisplay\",value:function(){ht(mt(e.prototype),\"initDisplay\",this).call(this)}},{key:\"updateDisplay\",value:function(t,n,r){ht(mt(e.prototype),\"updateDisplay\",this).call(this,t,n,r),this.graphics.anchor.set(t.anchorX,t.anchorY),this.graphics.blendMode=t.blendMode,this.graphics.tint=t.tint}}]),e}();function vt(t){return(vt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Ot(t){var e=\"function\"==typeof Map?new Map:void 0;return(Ot=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return wt(t,arguments,jt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Pt(r,t)})(t)}function wt(t,e,n){return(wt=St()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Pt(o,n.prototype),o}).apply(null,arguments)}function St(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jt(t){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(e,Ot(Error));var t=function(t){var e=St();return function(){var n,r,o,i=jt(t);return r=this,!(o=e?(n=jt(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments))||\"object\"!==vt(o)&&\"function\"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):o}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,'Could not find image: \"'+n+'\". Make sure it is in your assets folder and is spelled correctly.')).image=n,o.cause=r,o.name=\"MissingImageError\",o}return e}();function Rt(t){return(Rt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tt(t,e,n){return(Tt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_t(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Dt(t,e){return(Dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _t(t){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Et=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dt(t,e)}(r,gt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r,o,i=_t(t);return r=this,!(o=e?(n=_t(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments))||\"object\"!==Rt(o)&&\"function\"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):o}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{image:null,baseWidth:null,baseHeight:null,scaleMode:\"LINEAR\"}),t.missingTextures={},t}return t=r,(e=[{key:\"updateDisplay\",value:function(t,e,n){if(Tt(_t(r.prototype),\"updateDisplay\",this).call(this,t,e,n),e.image)try{null!==t.image?this.graphics.texture=PIXI.Texture.fromFrame(t.image):this.graphics.texture=PIXI.Texture.EMPTY,this.graphics.texture.baseTexture.scaleMode=PIXI.SCALE_MODES[t.scaleMode]}catch(e){this.missingTextures[t.image]||(this.missingTextures[t.image]=!0,l.push(new xt(t.image,e)))}e.baseWidth&&(this.graphics.width=t.baseWidth),e.baseHeight&&(this.graphics.height=t.baseHeight)}}])&&kt(t.prototype,e),r}();function It(t){return(It=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function At(t,e,n){return(At=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ft(t,e){return(Ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mt(t){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ft(t,e)}(r,Et);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r,o,i=Mt(t);return r=this,!(o=e?(n=Mt(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments))||\"object\"!==It(o)&&\"function\"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):o}}(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),n.apply(this,arguments)}return t=r,(e=[{key:\"initDisplay\",value:function(){At(Mt(r.prototype),\"initDisplay\",this).call(this),null===this.defaultState.image?this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY):this.graphics=PIXI.Sprite.fromFrame(this.defaultState.image)}}])&&Ct(t.prototype,e),r}();function Xt(t,e){if(t.width>e)for(;3<t.text.length&&t.width>e;)t.text=t.text.slice(0,-4)+\"...\"}function Lt(t){return(Lt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ut(t,e,n){return(Ut=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ht(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Yt(t,e){return(Yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ht(t){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yt(t,e)}(r,gt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r,o,i=Ht(t);return r=this,!(o=e?(n=Ht(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments))||\"object\"!==Lt(o)&&\"function\"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):o}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{text:\"\",textAlign:\"left\",strokeColor:0,strokeThickness:0,fillColor:0,fontSize:26,fontFamily:\"Lato\",fontWeight:\"normal\",maxWidth:0}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){Ut(Ht(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Text(this.defaultState.text,{align:this.defaultState.textAlign,fontSize:this.defaultState.fontSize+\"px\",fontFamily:this.defaultState.fontFamily,fill:this.defaultState.fillColor})}},{key:\"updateDisplay\",value:function(t,e,n){Ut(Ht(r.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.style.align=t.textAlign,this.graphics.style.stroke=t.strokeColor,this.graphics.style.strokeThickness=t.strokeThickness,this.graphics.style.fill=t.fillColor,this.graphics.style.fontSize=t.fontSize||1,this.graphics.style.fontFamily=t.fontFamily,this.graphics.style.fontWeight=t.fontWeight,(e.text||e.strokeThickness||e.fontSize||e.fontFamily||e.fontWeight||e.maxWidth||e.maxWidth)&&(this.graphics.text=t.text,t.maxWidth&&Xt(this.graphics,t.maxWidth))}}])&&zt(t.prototype,e),r}();function Gt(t){return(Gt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Kt(t){var e=\"function\"==typeof Map?new Map:void 0;return(Kt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Nt(t,arguments,Vt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),qt(r,t)})(t)}function Nt(t,e,n){return(Nt=$t()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&qt(o,n.prototype),o}).apply(null,arguments)}function $t(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function qt(t,e){return(qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vt(t){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Jt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qt(t,e)}(e,Kt(Error));var t=function(t){var e=$t();return function(){var n,r,o,i=Vt(t);return r=this,!(o=e?(n=Vt(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments))||\"object\"!==Gt(o)&&\"function\"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):o}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,'Could not find font: \"'+n+'\". Make sure it is in your assets folder and is spelled correctly.')).font=n,o.cause=r,o.name=\"MissingBitmapFontError\",o}return e}();function Qt(t){return(Qt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function te(t,e,n){return(te=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ne(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ee(t,e){return(ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ne(t){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var re=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ee(t,e)}(r,F);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r,o,i=ne(t);return r=this,!(o=e?(n=ne(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments))||\"object\"!==Qt(o)&&\"function\"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):o}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{text:\"\",textAlign:\"left\",fontSize:26,fontFamily:null,anchorX:gt.defaultAnchor(),anchorY:gt.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215,maxWidth:0}),t.missingFonts={},t}return t=r,(e=[{key:\"initDisplay\",value:function(){te(ne(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(t,e,n){te(ne(r.prototype),\"updateDisplay\",this).call(this,t,e,n),null!==t.fontFamily?PIXI.extras.BitmapText.fonts[t.fontFamily]?(0===this.graphics.children.length?(this.displayed=new PIXI.extras.BitmapText(\"\",{font:{size:t.fontSize||1,name:t.fontFamily}}),this.graphics.addChild(this.displayed)):this.displayed.font={size:t.fontSize||1,name:t.fontFamily},this.displayed.anchor.set(t.anchorX,t.anchorY),this.displayed.blendMode=t.blendMode,this.displayed.tint=t.tint,this.displayed.align=t.textAlign,(e.text||e.maxWidth||e.fontSize||e.fontFamily)&&(this.displayed.text=t.text,t.maxWidth&&Xt(this.displayed,t.maxWidth))):(this.missingFonts[t.fontFamily]||(this.missingFonts[t.fontFamily]=!0,l.push(new Jt(t.fontFamily))),this.graphics.removeChildren()):this.graphics.removeChildren()}}])&&Zt(t.prototype,e),r}();function oe(t){return(oe=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ae(t,e,n){return(ae=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ce(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ue(t,e){return(ue=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ce(t){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var se=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ue(t,e)}(r,F);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r,o,i=ce(t);return r=this,!(o=e?(n=ce(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments))||\"object\"!==oe(o)&&\"function\"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):o}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{children:[]}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){ae(ce(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(t,e,n){ae(ce(r.prototype),\"updateDisplay\",this).call(this,t,e,n)}},{key:\"childrenContainer\",get:function(){return this.graphics}}])&&ie(t.prototype,e),r}();function le(t){return(le=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function fe(t,e){return(fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pe(t){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var he=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fe(t,e)}(e,se);var t=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r,o,i=pe(t);return r=this,!(o=e?(n=pe(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments))||\"object\"!==le(o)&&\"function\"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):o}}(e);function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),t.apply(this,arguments)}return e}(),ye=null,de=[];function be(t){return(be=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ge(t,e,n){return(ge=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Oe(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ve(t,e){return(ve=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Oe(t){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var we=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ve(t,e)}(r,se);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r,o,i=Oe(t);return r=this,!(o=e?(n=Oe(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments))||\"object\"!==be(o)&&\"function\"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):o}}(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),n.apply(this,arguments)}return t=r,(e=[{key:\"initDisplay\",value:function(){var t;ge(Oe(r.prototype),\"initDisplay\",this).call(this),this.gameTexture=PIXI.RenderTexture.create(1920,1080),t=this.gameTexture,de.push(t),this.graphics=new PIXI.Sprite(this.gameTexture),this.buffer=new PIXI.Container,this.needsRender=!0}},{key:\"postUpdate\",value:function(){this.needsRender&&(ye.render(this.buffer,this.gameTexture),this.needsRender=!1)}},{key:\"notifyChange\",value:function(){this.needsRender=!0,this.parent&&this.parent.notifyChange()}},{key:\"childrenContainer\",get:function(){return this.buffer}}])&&me(t.prototype,e),r}();function Se(t){return(Se=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Pe(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function je(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pe(Object(n),!0).forEach((function(e){var r,o,i;r=t,i=n[o=e],o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Re(t,e,n){return(Re=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Te(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ke(t,e){return(ke=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Te(t){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var De=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ke(t,e)}(r,gt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r,o,i=Te(t);return r=this,!(o=e?(n=Te(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments))||\"object\"!==Se(o)&&\"function\"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):o}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{images:\"\",loop:!1,duration:1e3,playing:!0,restarted:null,animationProgress:0,date:0}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){Re(Te(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY)}},{key:\"addState\",value:function(t,e,n,o){Re(Te(r.prototype),\"addState\",this).call(this,t,e,n);var i=this.states[n].find((function(e){return e.t===t})),a=o.date+o.frameDuration*t;i.date=a}},{key:\"updateDisplay\",value:function(t,e,n,o,i){if(Re(Te(r.prototype),\"updateDisplay\",this).call(this,t,e,n),t.images){var a=t.images.split(\",\");if(0<=t.animationProgress){var u=o.date+o.frameDuration*i,c=je(je({},t),{},{date:u});this.computeAnimationProgressTime(t,c);var s=Math.floor(a.length*c.animationProgress),f=t.loop?a[s%a.length]:a[s]||a[a.length-1];try{this.graphics.texture=PIXI.Texture.fromFrame(f)}catch(t){l.push(new xt(f,t))}}}else this.graphics.texture=PIXI.Texture.EMPTY}},{key:\"computeAnimationProgressTime\",value:function(t,e){e.restarted&&e.restarted.date===e.date?e.animationProgress=0:(e.animationProgress=t.animationProgress,t.playing&&(e.animationProgress+=(e.date-t.date)/t.duration))}}])&&xe(t.prototype,e),r}();function _e(t){return(_e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Ee(t,e,n){return(Ee=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Fe(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ce(t,e,n){return e&&Ie(t.prototype,e),n&&Ie(t,n),t}function Ae(t,e){return(Ae=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fe(t){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Me=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ae(t,e)}(e,H);var t=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r,o,i=Fe(t);return r=this,!(o=e?(n=Fe(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments))||\"object\"!==_e(o)&&\"function\"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):o}}(e);function e(){var n;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),n=t.call(this),Object.assign(n.defaultState,{width:e.defaultSideLength(),height:e.defaultSideLength(),radius:e.defaultRadius()}),n}return Ce(e,null,[{key:\"defaultSideLength\",value:function(){return 100}},{key:\"defaultRadius\",value:function(){return 20}}]),Ce(e,[{key:\"initDisplay\",value:function(){Ee(Fe(e.prototype),\"initDisplay\",this).call(this),this.graphics.drawRoundedRect(0,0,this.defaultState.width,this.defaultState.height,this.defaultState.radius),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,n,r){Ee(Fe(e.prototype),\"updateDisplay\",this).call(this,t,n,r),(n.lineWidth||n.lineColor||n.lineAlpha||n.fillColor||n.radius||n.height||n.width)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawRoundedRect(0,0,t.width*r.toWorldUnits,t.height*r.toWorldUnits,t.radius*r.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}]),e}();function We(t){return(We=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Le(t,e,n){return(Le=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ue(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ze(t,e){return(ze=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ue(t){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ye=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ze(t,e)}(r,H);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r,o,i=Ue(t);return r=this,!(o=e?(n=Ue(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments))||\"object\"!==We(o)&&\"function\"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):o}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{points:[]}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){Le(Ue(r.prototype),\"initDisplay\",this).call(this),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,e,n){Le(Ue(r.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.lineWidth||e.lineColor||e.lineAlpha||e.fillColor||e.points)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawPolygon(t.points.map((function(t){return t*n.toWorldUnits}))),null!==t.fillColor&&this.graphics.endFill())}}])&&Xe(t.prototype,e),r}();function He(t){return(He=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ge(t,e,n){return(Ge=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ne(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ke(t,e){return(Ke=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ne(t){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $e=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ke(t,e)}(r,Et);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r,o,i=Ne(t);return r=this,!(o=e?(n=Ne(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments))||\"object\"!==He(o)&&\"function\"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):o}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{tileX:0,tileY:0,tileScaleX:1,tileScaleY:1}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){Ge(Ne(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.extras.TilingSprite(PIXI.Texture.EMPTY)}},{key:\"updateDisplay\",value:function(t,e,n){Ge(Ne(r.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.tilePosition.x=t.tileX,this.graphics.tilePosition.y=t.tileY,this.graphics.tileScale.x=t.tileScaleX,this.graphics.tileScale.y=t.tileScaleY}}])&&Be(t.prototype,e),r}();function qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ve=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"create\",value:function(t){var e={C:J,R:ft,L:ot,S:Wt,T:Bt,X:re,G:he,B:we,A:De,K:Me,P:Ye,D:$e}[t];if(!e)throw new Error(\"Exception: entity type not found: \"+t);return new e}}],null&&qe(e.prototype,null),n&&qe(e,n),t}();function Je(t){var e=1.70158,n=0,r=1;return 0===t?0:1==(t/=1)?1:(n=n||.3,e=r<Math.abs(1)?(r=1,n/4):n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)}function Qe(t){return t<.5?2*t*t:(4-2*t)*t-1}function Ze(t){return Math.pow(t,3)}function tn(t){return 1+Math.pow(t-1,3)}function en(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nn(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function rn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function on(t,e,n){return e&&rn(t.prototype,e),n&&rn(t,n),t}var an={r:\"rotation\",R:\"radius\",X:\"x2\",Y:\"y2\",w:\"width\",h:\"height\",t:\"tint\",f:\"fillColor\",F:\"fillAlpha\",c:\"lineColor\",W:\"lineWidth\",A:\"lineAlpha\",a:\"alpha\",i:\"image\",S:\"strokeThickness\",sc:\"strokeColor\",ff:\"fontFamily\",s:\"fontSize\",fw:\"fontWeight\",T:\"text\",ta:\"textAlign\",ch:\"children\",sx:\"scaleX\",sy:\"scaleY\",ax:\"anchorX\",ay:\"anchorY\",kx:\"skewX\",ky:\"skewY\",v:\"visible\",z:\"zIndex\",b:\"blendMode\",I:\"images\",rs:\"restarted\",p:\"playing\",l:\"loop\",d:\"duration\",bw:\"baseWidth\",bh:\"baseHeight\",ps:\"points\",tx:\"tileX\",ty:\"tileY\",tsx:\"tileScaleX\",tsy:\"tileScaleY\",sm:\"scaleMode\"},un=function(){function t(e,n){nn(this,t),this.id=++n.instanceCount,this.type=e[0]}return on(t,[{key:\"apply\",value:function(t){var e=Ve.create(this.type);e.id=this.id,t.set(this.id,e)}}]),t}(),cn=function(){function t(e,n){var o=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return en(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}(e,8),i=o[0],a=o[1],u=o[2],c=o[3],s=o[4],l=o[5],f=o[6],p=o[7];nn(this,t),this.loader=new PIXI.loaders.Loader,\"0\"===u&&(u=PIXI.utils.TextureCache[a].width),\"0\"===c&&(c=PIXI.utils.TextureCache[a].height);for(var h=0<p?p:f,y={frames:{},meta:{image:(r.baseUrl?r.baseUrl:\"\")+r.images[a]}},d=0;d<f;d++){var b=1<f?i+d:i;y.frames[b]={frame:{x:u*l+d%h*u,y:c*s+Math.floor(d/h)*c,w:u,h:c},sourceSize:{w:u,h:c},rotated:!1,trimmed:!1}}var m=\"data:text/json;charset=UTF-8,\"+JSON.stringify(y);PIXI.utils.TextureCache[m+\"_image\"]||this.loader.add(m,{crossOrigin:!0})}return on(t,[{key:\"apply\",value:function(){var t=this;if(0<Object.keys(this.loader.resources).length)return new Promise((function(e){t.loader.load(),t.loader.on(\"complete\",e)}))}}]),t}();function sn(t){return function(t){if(Array.isArray(t))return ln(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return ln(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ln(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function ln(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var pn={C:un,U:function(){function t(e,n,r){nn(this,t),this.id=+e[0],this.t=+e[1],this.params={},this.curve={};for(var o=2;o<e.length;){var i=an[e[o]]||e[o],a=T[i]||T.default,u=a.type(e[o+1]);\"function\"==typeof a.convert&&(u=a.convert(u,n,r,this.t));var c=t.curves[e[o+2]];this.params[i]=u,o+=2,c&&(this.curve[i]=c,o+=1)}}return on(t,null,[{key:\"curves\",get:function(){return{_:function(t){return t<1?0:1},\"\":Qe,\"\":Ze,\"\":tn,\"~\":Je,\"\":function(){return 1}}}}]),on(t,[{key:\"apply\",value:function(t,e){var n=t.get(this.id);n.addState(this.t,{values:this.params,curve:this.curve},e.number,e),n.stateAdded=!0}}]),t}(),L:cn};function hn(t,e){for(var n=[],r=\"\",o=0,i=\"\",a=!1;o<t.length;){var u=t[o++];u===e?a?r+=u:(n.push(r),r=\"\"):\"'\"===u&&\"\\\\\"!==i?(a=!a,r+=u):\"\\\\\"===i?r+=\"'\"===u?\"\\\\'\":\"\\\\\"+u:\"\\\\\"!==u&&(r+=u),i=u}return n.push(r),n}var yn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"parse\",value:function(t,e,n){var r,o=[],i=hn(t,\"\\n\");for(r in i){var a=pn[i[r][0]];if(!a)throw new Error(\"Unrecognised command : \"+i[r][0]);o=[].concat(sn(o),sn(function(t,e,n,r){var o=hn(e,\";\"),i=[];return o.forEach((function(e){return i.push(new t(hn(e,\" \"),n,r))})),i}(a,i[r].slice(1),e,n)))}return o}}],null&&fn(e.prototype,null),n&&fn(e,n),t}();function dn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function mn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bn(Object(n),!0).forEach((function(e){var r,o,i;r=t,i=n[o=e],o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var vn={},On=[function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.entities=new Map,this.frames=[],this.loadingAssets=0,this.extrapolationMap={},this.globalData={toWorldUnits:1,mustResetTree:!0,mustResort:!0,maskUpdates:{},updatedBuffers:[],players:[],instanceCount:0},vn.entities=this.entities}var e,n,r;return e=t,r=[{key:\"name\",get:function(){return\"entitymodule\"}}],(n=[{key:\"handleFrameData\",value:function(t,e){var n,r=this;!e||(n=yn.parse(e,this.globalData,t))&&n.forEach((function(e){var n=e.apply(r.entities,t);n&&(r.loadingAssets++,n.then((function(){r.loadingAssets--})))}));var o=mn({},t);return o.previous=this.frames[this.frames.length-1]||o,this.extrapolate(o),o!==o.previous&&(o.previous.next=o),this.frames.push(o),o}},{key:\"lastElementOf\",value:function(t){return t[t.length-1]}},{key:\"extrapolate\",value:function(t){var e=this,n=t.number,r=t.previous.number;this.entities.forEach((function(o){var i,a;o.stateAdded&&(o.stateAdded=!1,o.states[n]||(o.states[n]=[]),e.extrapolationMap[o.id]||(e.extrapolationMap[o.id]=mn({},o.defaultState)),(i=o.states[n]).sort((function(t,e){return t.t-e.t})),i.length&&1===e.lastElementOf(i).t||o.addState(1,{},n,t),a=e.extrapolationMap[o.id],o.states[r]&&r!==n&&(a=o.states[r][o.states[r].length-1]),o.states[n]=i.map((function(t){var n=e.extrapolationMap[o.id]=mn(mn({},e.extrapolationMap[o.id]),t);return\"function\"==typeof o.computeAnimationProgressTime&&o.computeAnimationProgressTime(a,n),a=n})))}))}},{key:\"reinitScene\",value:function(t,e){this.globalData.toPixel=1920/e.width*e.oversampling,this.globalData.mustResetTree=!0,vn.container=this.container=t,this.entities.forEach((function(t){t.init()}))}},{key:\"sortChildren\",value:function(t){t.children.sort((function(t,e){return t.zIndex===e.zIndex?t.id-e.id:t.zIndex-e.zIndex}))}},{key:\"stillLoading\",value:function(){return 0<this.loadingAssets}},{key:\"updateScene\",value:function(t,e,n){var r=this;if(!this.stillLoading()){for(var o in this.entities.forEach((function(t){return t.render(n,e,r.globalData)})),this.globalData.mustResetTree&&(this.reconstructTree(),this.globalData.mustResetTree=!1,this.globalData.mustResort=!0),this.globalData.mustResort&&(this.resortTree(),this.globalData.mustResort=!1),this.globalData.maskUpdates){var i=this.entities.get(+o),a=this.globalData.maskUpdates[o];i.container.mask=-1===a?null:this.entities.get(a).graphics}var u,c=function(t,e){var n;if(\"undefined\"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return dn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dn(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(this.globalData.updatedBuffers);try{for(c.s();!(u=c.n()).done;)u.value.postUpdate()}catch(t){c.e(t)}finally{c.f()}this.globalData.maskUpdates={}}}},{key:\"resortTree\",value:function(){var t=this;this.entities.forEach((function(e){e instanceof se&&t.sortChildren(e.childrenContainer)})),this.sortChildren(this.container)}},{key:\"reconstructTree\",value:function(){var t=this;this.container.removeChildren(),this.entities.forEach((function(e){e instanceof se&&(e.childrenContainer.removeChildren(),e.currentState.children.forEach((function(n){var r=t.entities.get(n);e.childrenContainer.addChild(r.container),r.parent=e})))})),this.entities.forEach((function(e){e.container.parent||t.container.addChild(e.container)}))}},{key:\"handleGlobalData\",value:function(t,e){this.globalData.players=t;var n=e.width,r=e.height;this.globalData.toWorldUnits=a(n,r,1920,1080),vn.toWorldUnits=this.globalData.toWorldUnits,vn.hasOwnProperty(\"coeff\")||Object.defineProperty(vn,\"coeff\",{get:function(){var t='The \"coeff\" property of GraphicEntityModule\\'s API is deprecated, please use \"toWorldUnits\" instead',e=(new Error).stack;return console.groupCollapsed?(console.groupCollapsed(\"%cDeprecation Warning: %c%s\",\"color:#614108;background:#fffbe6\",\"font-weight:normal;color:#614108;background:#fffbe6\",t),console.warn(e),console.groupEnd()):console.warn(\"Deprecation Warning: \",t),vn.toWorldUnits}})}}])&&gn(e.prototype,n),r&&gn(e,r),t}()],wn={views:['KEY_FRAME 0\\n{\"global\":{\"entitymodule\":{\"width\":1920,\"height\":1080}},\"frame\":{\"entitymodule\":\"CK;C;C;C;C;C;C;C;C;C;T;T;T;T;T;T;T;T;L;L;L;L;L;L;L;L;L;L;L;L;R;R;T;S;T;T;R;R;T;S;T;T\\\\nU7 1 f 16365312 v 1 x 1350 y 540 c 16365312 R 8 z 1;33 1 f 16777215 ay 0.5 v 1 ax 0.5 x 220 y 340 s 40 T $0 z 20;41 1 f 16777215 ay 0.5 v 1 ax 0.5 x 1700 y 420 s 40 T  z 20;22 1 v 1 x 570 y 150 Y 540 X 570 c 8421504 W 5;28 1 v 1 x 960 y 150 Y 540 X 960 c 8421504 W 5;14 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1155 y 100 s 40 T B fw bold;9 1 f 16365312 v 1 x 960 y 150 c 16365312 R 8 z 1;10 1 f 16365312 v 1 x 1350 y 150 c 16365312 R 8 z 1;26 1 v 1 x 1350 y 540 Y 930 X 1350 c 8421504 W 5;18 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1400 y 345 s 40 T 2 fw bold;20 1 v 1 x 570 y 540 Y 540 X 960 c 8421504 W 5;29 1 v 1 x 960 y 150 Y 150 X 1350 c 8421504 W 5;8 1 f 16365312 v 1 x 1350 y 930 c 16365312 R 8 z 1;36 1 f 16776960 ay 0.5 v 1 ax 0.5 x 220 y 500 s 60 T  fw bold z 20;4 1 f 16365312 v 1 x 570 y 150 c 16365312 R 8 z 1;31 1 f -1 v 1 w 140 x 150 y 150 W 0 h 140;34 1 bw 116 i $0 ay 0.5 v 1 ax 0.5 x 220 y 220 bh 116 z 20;39 1 f 16777215 ay 0.5 v 1 ax 0.5 x 1700 y 340 s 40 T $1 z 20;23 1 v 1 x 570 y 150 Y 150 X 960 c 8421504 W 5;30 1 v 1 x 1350 y 150 Y 540 X 1350 c 8421504 W 5;37 1 f -2 v 1 w 140 x 1630 y 150 W 0 h 140;6 1 f 16365312 v 1 x 960 y 930 c 16365312 R 8 z 1;21 1 v 1 x 570 y 930 Y 930 X 960 c 8421504 W 5;40 1 bw 116 i $1 ay 0.5 v 1 ax 0.5 x 1700 y 220 bh 116 z 20;19 1 v 1 x 570 y 540 Y 930 X 570 c 8421504 W 5;2 1 f 16365312 v 1 x 570 y 540 c 16365312 R 8 z 1;24 1 v 1 x 960 y 540 Y 930 X 960 c 8421504 W 5;25 1 v 1 x 960 y 540 Y 540 X 1350 c 8421504 W 5;1 1 f 0 v 1 w 980 x 470 y 50 c 16777215 W 15 h 980 z 0;32 1 f 16777215 v 1 w 120 x 160 y 160 W 0 h 120;42 1 f 16776960 ay 0.5 v 1 ax 0.5 x 1700 y 500 s 60 T  fw bold z 20;5 1 f 16365312 v 1 x 960 y 540 c 16365312 R 8 z 1;11 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 765 y 980 s 40 T A fw bold;17 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 520 y 345 s 40 T 2 fw bold;27 1 v 1 x 960 y 930 Y 930 X 1350 c 8421504 W 5;12 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 765 y 100 s 40 T A fw bold;3 1 f 16365312 v 1 x 570 y 930 c 16365312 R 8 z 1;13 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1155 y 980 s 40 T B fw bold;35 1 f 16777215 ay 0.5 v 1 ax 0.5 x 220 y 420 s 40 T  z 20;16 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 1400 y 735 s 40 T 1 fw bold;38 1 f 16777215 v 1 w 120 x 1640 y 160 W 0 h 120;15 1 f 8421504 ay 0.5 v 1 ff Lato ax 0.5 x 520 y 735 s 40 T 1 fw bold\"}}\\n','KEY_FRAME 1\\n{\"entitymodule\":\"U23 0 c -1;42 1 T 0;23 1 W 15;36 1 T 0;35 1 T \\'bla bla bla!\\'\"}\\n','KEY_FRAME 2\\n{\"entitymodule\":\"U27 0 c -2;41 1 T 12345678901234567890;27 1 W 15\"}\\n','KEY_FRAME 3\\n{\"entitymodule\":\"U29 0 c -1;29 1 W 15;35 1 T \"}\\n','KEY_FRAME 4\\n{\"entitymodule\":\"U21 0 c -2;41 1 T ;21 1 W 15\"}\\n','KEY_FRAME 5\\n{\"entitymodule\":\"U22 0 c -1;22 1 W 15\"}\\n','KEY_FRAME 6\\n{\"entitymodule\":\"U26 0 c -2;26 1 W 15\"}\\n','KEY_FRAME 7\\n{\"entitymodule\":\"U20 0 c -1;20 1 W 15\"}\\n','KEY_FRAME 8\\n{\"entitymodule\":\"CK;T\\\\nU28 0 c -2;44 1 f 16777215 ay 0.5 v 1 ff Lato ax 0.5 x 765 y 345 s 175 T B fw bold z 0;42 1 T 1;28 1 W 15;43 1 f -2 v 1 w 351 x 590 y 170 c -2 W 1 h 351 z 0\"}\\n','KEY_FRAME 9\\n{\"entitymodule\":\"U25 0 c -2;41 1 T Damn!;25 1 W 15\"}\\n','KEY_FRAME 10\\n{\"entitymodule\":\"CK;T\\\\nU30 0 c -1;45 1 f -1 v 1 w 351 x 980 y 170 c -1 W 1 h 351 z 0;30 1 W 15;36 1 T 1;46 1 f 16777215 ay 0.5 v 1 ff Lato ax 0.5 x 1155 y 345 s 175 T A fw bold z 0\"}\\n','KEY_FRAME 11\\n{\"entitymodule\":\"CK;T\\\\nU24 0 c -1;47 1 f -1 v 1 w 351 x 980 y 560 c -1 W 1 h 351 z 0;36 1 T 2;24 1 W 15;48 1 f 16777215 ay 0.5 v 1 ff Lato ax 0.5 x 1155 y 735 s 175 T A fw bold z 0\"}\\n','KEY_FRAME 12\\n{\"entitymodule\":\"CK;T\\\\nU19 0 c -1;49 1 f -1 v 1 w 351 x 590 y 560 c -1 W 1 h 351 z 0;50 1 f 16777215 ay 0.5 v 1 ff Lato ax 0.5 x 765 y 735 s 175 T A fw bold z 0;19 1 W 15;36 1 T \\'3 - WIN\\';35 1 T Yeah!\"}\\n'],agents:[{index:0,name:\"Player 0\",avatar:\"https://static.codingame.com/servlet/fileservlet?id=16085734516701&format=viewer_avatar\",agentId:0},{index:1,name:\"Player 1\",avatar:\"https://static.codingame.com/servlet/fileservlet?id=16085846089817&format=viewer_avatar\",agentId:1}]};function Sn(t){return(Sn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Pn(t){var e=\"function\"==typeof Map?new Map:void 0;return(Pn=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return jn(t,arguments,kn(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Rn(r,t)})(t)}function jn(t,e,n){return(jn=xn()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Rn(o,n.prototype),o}).apply(null,arguments)}function xn(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Rn(t,e){return(Rn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kn(t){return(kn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Tn=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rn(t,e)}(e,Pn(Error));var t=function(t){var e=xn();return function(){var n,r,o,i=kn(t);return r=this,!(o=e?(n=kn(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments))||\"object\"!==Sn(o)&&\"function\"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):o}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,'<Error in module \"'+n+'\">')).cause=r,o.name=\"ModuleError\",o}return e}();function Dn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function _n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dn(Object(n),!0).forEach((function(e){var r,o,i;r=t,i=n[o=e],o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function En(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function In(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Cn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.toDestroy=[],this.stepByStepAnimateSpeed=null;var n,r,o=e||wn;o?(n=o.views,r=o.agents,this.demo={playerCount:r.length,logo:\"logo.png\",overlayAlpha:.2,agents:r,frames:n},this.demo.agents.forEach((function(e){e.color=t.playerColors[e.index]}))):this.demo=void 0}var e,n,o;return e=t,o=[{key:\"getGameRatio\",value:function(){return t.WIDTH/t.HEIGHT}},{key:\"requirements\",get:function(){return{PIXI:\"PIXI4\"}}},{key:\"VERSION\",get:function(){return 2}},{key:\"WIDTH\",get:function(){return 1920}},{key:\"HEIGHT\",get:function(){return 1080}},{key:\"playerColors\",get:function(){return[\"#ff1d5c\",\"#22a1e4\",\"#ff8f16\",\"#6ac371\",\"#9975e2\",\"#3ac5ca\",\"#de6ddf\",\"#ff0000\"]}},{key:\"SDK_GAME\",get:function(){return!0}},{key:\"RenderTimeout\",get:function(){return\"localhost\"===window.location.hostname?1/0:2e4}}],(n=[{key:\"getDefaultOverSampling\",value:function(){return 2}},{key:\"handleModuleError\",value:function(t,e){l.push(new Tn(t,e)),console.error(e),l.push({message:'<Module \"'.concat(t,'\" disabled>\\n')}),delete this.modules[t]}},{key:\"instantiateModules\",value:function(){this.modules={};var t,e=function(t,e){var n;if(\"undefined\"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return En(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?En(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(On);try{for(e.s();!(t=e.n()).done;){var n=t.value;try{this.modules[n.name]=new n(r)}catch(t){this.handleModuleError(n.name,t)}}}catch(t){e.e(t)}finally{e.f()}}},{key:\"destroy\",value:function(){this.alreadyLoaded&&(this.renderer.destroy(),this.endCallback=null),this.destroyed=!0}},{key:\"destroyScene\",value:function(){!function(){for(var t=0,e=de.length;t<e;++t)de[t].destroy(!0);de=[]}()}},{key:\"getGameName\",value:function(){return\"TwixtPP\"}},{key:\"canSwapPlayers\",value:function(){return!1}},{key:\"addErrorListener\",value:function(t){l.listen(t)}},{key:\"getResources\",value:function(){return Object.assign({baseUrl:\"\",images:{},spines:{},sprites:[],fonts:[],others:[]},r)}},{key:\"getOptions\",value:function(){return[]}},{key:\"setDebug\",value:function(){this.asyncRenderingTime=t.RenderTimeout}},{key:\"initPreload\",value:function(t,e,n,r,o){t.canvasWidth=r,t.canvasHeight=o,t.loaderProgress=new PIXI.Text(\"100\",{fontSize:.117*o||30,fontFamily:\"Lato\",fontWeight:\"900\",fill:\"white\",align:\"center\"}),t.loaderProgress.anchor.y=1,t.loaderProgress.anchor.x=1.3,t.progress=t.realProgress=n,t.loaderProgress.position.y=o,t.progressBar=new PIXI.Graphics,e.addChild(t.progressBar),e.addChild(t.loaderProgress)}},{key:\"preload\",value:function(t,e,n){t.progress=n}},{key:\"renderPreloadScene\",value:function(t,e){var n=Math.pow(.998,e);return t.realProgress=n*t.realProgress+(1-n)*t.progress,t.loaderProgress.text=(100*t.realProgress).toFixed(0),t.loaderProgress.position.x=t.realProgress*t.canvasWidth,t.progressBar.clear(),t.progressBar.beginFill(0,1),t.progressBar.drawRect(0,0,t.canvasWidth*t.realProgress+1,t.canvasHeight),t.progressBar.endFill(),t.progressBar.beginFill(4146246,1),t.progressBar.drawRect(t.canvasWidth*t.realProgress,0,t.canvasWidth,t.canvasHeight),t.progressBar.endFill(),!0}},{key:\"initDefaultScene\",value:function(e,n){var r=new PIXI.Container;if(e.drawer=this,e.time=0,this.demo){if(this.demo.logo)try{var o=PIXI.Sprite.fromFrame(this.demo.logo);o.position.set(t.WIDTH/2,t.HEIGHT/2),o.anchor.set(.5),o.baseScale=a(o.texture.width,o.texture.height,2*t.WIDTH/3,t.HEIGHT/2,0),r.addChild(o),e.logo=o}catch(n){l.push({cause:n,message:'Missing \"logo.png\" to complete replay.'}),e.logo=new PIXI.Container,e.logo.baseScale=1,r.addChild(e.logo),e.missingLogo=!0}var i=new PIXI.Graphics;e.missingLogo||(i.beginFill(0,this.demo.overlayAlpha||0),i.drawRect(0,0,t.WIDTH+20,t.HEIGHT+20),i.endFill(),i.x-=10,i.y-=10);var u=new PIXI.Container;try{this.initDefaultFrames(this.demo.playerCount,this.demo.frames,this.demo.agents),this.preconstructScene(this.scope,n,this.initWidth,this.initHeight),this.initScene(this.scope,u,this.frames,!0),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)}catch(n){l.push({cause:n,message:\"Cannot load demo, you might want to reset the demo\"})}e.demo=u,e.demotime=0,this.currentFrame=-1,n.addChild(u),n.addChild(i),n.addChild(r)}e.updateTime=0,e.frameTime=0}},{key:\"initDefaultFrames\",value:function(e,n,r){var o=this;this.instantiateModules(),this.playerInfo=r.map((function(t,e){return{name:t.name||\"Anonymous\",color:t.color?o.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:t.avatarTexture}})),this.instantiateModules(),this._frames=n.map((function(t){var e,n=t.split(\"\\n\"),r=n[0].split(\" \");try{e=JSON.parse(n.slice(1).join(\"\\n\"))}catch(t){e={}}return _n(_n({},e),{},{key:\"KEY_FRAME\"===r[0]})})).filter((function(t){return t.key})),this.parseGlobalData(this._frames[0].global),this.playerCount=e,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1;var i=this._frames[0].frame;i.key=this._frames[0].key,this.frames.push(this.parseFrame(i,this.frames));for(var a=1;a<this._frames.length;++a)this.frames.push(this.parseFrame(this._frames[a],this.frames));this.asyncRenderingTime=t.RenderTimeout}},{key:\"renderDefaultScene\",value:function(t,e){if(e=Math.min(80,e),void 0===this.demo)return!1;this.currentFrame=this.currentFrameTemp||0,t.frameTime+=e,t.updateTime+=e,t.demotime+=e/1e3;var n,r=Math.max(0,Math.min(1,(t.demotime-1)/.5));t.logo&&(t.logo.alpha=r,t.logo.scale.x=t.logo.scale.y=(3-2*r)*t.logo.baseScale),!t.missingLogo&&1.5<t.demotime&&t.demotime<=2.2?(n=15*Math.max(0,1-(t.demotime-1.5)/.7),t.demo.x=(2*Math.random()-1)*n,t.demo.y=(2*Math.random()-1)*n):t.demo.x=t.demo.y=0;var o=this.getFrameDuration(this.currentFrame);return 30<=t.updateTime&&(t.updateTime-=30,0===this.currentFrame?this.progress=1:this.progress=i(0,o,t.frameTime),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)),t.frameTime>=o&&(t.frameTime-=o,this.currentFrame=(this.currentFrame+1)%this.frames.length),this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],e,!0),this.currentFrameTemp=this.currentFrame,this.currentFrame=-1,!0}},{key:\"endDefaultScene\",value:function(){return!0}},{key:\"parseGlobalData\",value:function(t){for(var e in this.modules){var n=this.modules[e];\"function\"==typeof n.handleGlobalData&&n.handleGlobalData(this.playerInfo,t[e])}}},{key:\"parseFrame\",value:function(t,e){var n,r={data:{},frameInfo:{number:e.length}};if(r.previous=e[e.length-1]||r,r!==r.previous&&(r.previous.next=r),!t.key)return r.previous;for(n in t.duration&&(this.currentFrameDuration=t.duration),r.frameInfo.frameDuration=this.currentFrameDuration,r===r.previous?(r.frameInfo.date=0,r.frameInfo.frameDuration=0):r.frameInfo.date=r.previous.frameInfo.date+r.previous.frameInfo.frameDuration,this.modules){var o=this.modules[n];\"function\"==typeof o.handleFrameData&&(r.data[n]=o.handleFrameData(r.frameInfo,t[n]))}return r}},{key:\"preconstructScene\",value:function(e,n,r,o){e.canvasHeight=o,e.canvasWidth=r,e.time=0,e.endTime=0,e.playerInfo=this.playerInfo,n.scale.x=r/t.WIDTH,n.scale.y=o/t.HEIGHT}},{key:\"initScene\",value:function(t,e){for(var n in this.modules){var r=this.modules[n],o=new PIXI.Container;try{r.reinitScene(o,{width:t.canvasWidth,height:t.canvasHeight,oversampling:this.oversampling})}catch(t){this.handleModuleError(n,t)}e.addChild(o)}}},{key:\"updateScene\",value:function(t,e,n,r,o,i,a,u,c){var s,l=n[r];if(!c&&this.stepByStepAnimateSpeed){if(this.checkSteppedToNextFrame(t,l,o))return void this.startAsynchronousAnimation(t,l);if(this.checkSteppedToPreviousFrame(t,l,o))return void this.startAsynchronousAnimation(t,t.currentFrame,!0);t.targetProgress=null}for(s in t.currentFrame=l,t.currentProgress=o,t.reason=a,this.modules){var f=this.modules[s];if(l.data.hasOwnProperty(s))try{f.updateScene(l.previous.data[s],l.data[s],o,i)}catch(t){this.handleModuleError(s,t)}}}},{key:\"startAsynchronousAnimation\",value:function(t,e,n){var r=2<arguments.length&&void 0!==n&&n;t.targetProgress=r?0:1,r||1!==t.currentProgress||(t.currentProgress=0),t.currentFrame=e,t.reverseAsynchronousAnimation=r}},{key:\"checkStepped\",value:function(t,e,n){return t.currentFrame&&0===this.speed&&1===n}},{key:\"checkSteppedToNextFrame\",value:function(t,e,n){return this.checkStepped(t,e,n)&&(t.currentFrame===e.previous&&t.currentFrame!==e||t.currentFrame===e&&t.currentProgress!==n)}},{key:\"checkSteppedToPreviousFrame\",value:function(t,e,n){return this.checkStepped(t,e,n)&&t.currentFrame.previous===e&&t.currentFrame!==e}},{key:\"initEndScene\",value:function(t){t.endSceneViewed=!1}},{key:\"destroyEndScene\",value:function(){}},{key:\"renderEndScene\",value:function(t,e,n){0===t.endTime&&this.initEndScene(t,n),t.endTime+=e,void 0<=t.endTime&&!t.endSceneViewed&&(this.endCallback&&this.endCallback(),t.endSceneViewed=!0)}},{key:\"renderScene\",value:function(t,e,n,r,o,i,a,u){u=Math.min(80,u);var c,s,l,f,p=!this.debugMode&&r===n.length-1&&1===o;for(f in p?this.renderEndScene(t,u,\"Win\"!==a):(0<t.endTime&&this.destroyEndScene(t),t.endTime=0),this.stepByStepAnimateSpeed&&this.isAsynchronousAnimationOngoing(t)&&(c=this.currentFrame,t.reverseAsynchronousAnimation&&c++,l=u/200*this.getFrameSpeed(c)*this.stepByStepAnimateSpeed,t.reverseAsynchronousAnimation?(s=t.currentProgress-l)<=0&&(c=this.currentFrame,s=1,t.targetProgress=1):(s=t.currentProgress+l,s=Math.min(t.targetProgress,s)),this.updateScene(this.scope,this.question,this.frames,c,s,this.speed,this.reasons[c],!1,!0)),this.modules){var h=this.modules[f];if(\"function\"==typeof h.animateScene)try{h.animateScene(u)}catch(t){this.handleModuleError(f,t)}}return!0}},{key:\"isAsynchronousAnimationOngoing\",value:function(t){return null!=t.targetProgress&&t.currentProgress!==t.targetProgress}},{key:\"getFrameSpeed\",value:function(t){return 500/this.getFrameDuration(t)}},{key:\"getFrameDuration\",value:function(t){return this.frames&&this.frames[t]&&this.frames[t].frameInfo.frameDuration||1e3}},{key:\"enableAsyncRendering\",value:function(e){this.asyncRendering=e,this.asyncRenderingTime=t.RenderTimeout}},{key:\"purge\",value:function(){this.scope={},this.changed=!0,this.container.interactiveChildren=!1,this.container.destroy({texture:!1,children:!0}),delete this.container,this.container=new PIXI.Container}},{key:\"reinitScene\",value:function(){1<=this.loaded&&(this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.preconstructScene(this.scope,this.container,this.initWidth,this.initHeight),this.initScene(this.scope,this.container,this.frames),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame]),this.changed=!0)}},{key:\"reinitDefaultScene\",value:function(){1<=this.loaded&&(this.intro=!0,this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initDefaultScene(this.scope,this.container,this.initWidth,this.initHeight),this.changed=!0)}},{key:\"reinitLoadingScene\",value:function(){this.loaded<1&&(this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initPreload(this.scope,this.container,this.loaded,this.initWidth,this.initHeight))}},{key:\"reinit\",value:function(t){1<=this.loaded?0<=this.currentFrame&&!this.intro?this.reinitScene():this.intro&&!t||this.reinitDefaultScene():this.reinitLoadingScene()}},{key:\"animate\",value:function(t){var e;this.destroyed||(this.lastRenderTime||(this.lastRenderTime=t),e=t-this.lastRenderTime,this.asynchronousStep&&(e=this.asynchronousStep),this.onBeforeRender&&this.onBeforeRender(),this.loading||(this.loaded<1?this.changed|=this.renderPreloadScene(this.scope,e):(this.changed||this.asyncRendering&&0<this.asyncRenderingTime||this.isAsynchronousAnimationOngoing(this.scope))&&(this.currentFrame<0?this.changed|=this.renderDefaultScene(this.scope,e):this.intro?(this.changed=!0,this.endDefaultScene(this.scope,e)&&(this.intro=!1,this.reinit(!0))):this.changed|=this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame],e)),this.changed&&(this.renderer.render(this.container),this.changed=!1)),this.onAfterRender&&this.onAfterRender(),this.lastRenderTime=t,this.destroyed||requestAnimationFrame(this.animate.bind(this)),this.asyncRenderingTime-=e)}},{key:\"_initFrames\",value:function(t,e){this.instantiateModules(),this._frames=e.map((function(t){var e,n=t[0].split(\" \");try{e=JSON.parse(t.slice(1).join(\"\\n\"))}catch(t){e={}}return _n(_n({},e),{},{key:\"KEY_FRAME\"===n[0]})})),this.parseGlobalData(this._frames[0].global),this.playerCount=t,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1;var n=this._frames[0].frame;n.key=this._frames[0].key,this.frames.push(this.parseFrame(n,this.frames));for(var r=1;r<this._frames.length;++r)this.frames.push(this.parseFrame(this._frames[r],this.frames))}},{key:\"isTurnBasedGame\",value:function(){return!1}},{key:\"initFrames\",value:function(t,e){this.playerInfo&&this.playerInfo.forEach((function(t){t.avatar&&t.avatar.destroy(!0)}));var n=this,r=new PIXI.loaders.Loader(window.location.origin);function o(){n._initFrames(e.length,t),n.loading=!1,n.reinit(!1),i=!0}this.playerInfo=e.map((function(t,e){var o={name:t.name||\"Anonymous\",color:t.color?n.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:null};return null!=t.avatar&&r.add(\"avatar\"+e,t.avatar,{loadType:2,crossOrigin:!0},(function(t){o.avatar=t.texture,PIXI.Texture.addToCache(t.texture,\"$\"+o.index)})),o}));var i=!(this.loading=!0);r.on(\"complete\",o),r.on(\"error\",(function(t){console.warn(t),i||o()})),r.load()}},{key:\"update\",value:function(e,n,r){0<=this.currentFrame&&(this.asyncRenderingTime=t.RenderTimeout,this.changed=!0,this.speed=r,this.currentFrame=e,this.progress=n,1<=this.loaded&&!this.intro&&this.updateScene(this.scope,this.question,this.frames,e,n,this.speed,this.reasons[this.currentFrame]))}},{key:\"parseColor\",value:function(t){if(Array.isArray(t)){for(var e=[],n=0;n<t.length;++n)e.push(this.parseColor(t[n]));return e}return parseInt(t.substring(1),16)}},{key:\"init\",value:function(e,n,r,o,i,a,u){var c,s=this;function f(){0<=s.currentFrame&&(s.changed=!0)}window.PIXI=t.PIXI||window.PIXI,this.oversampling=i||1,this.canvas=$(e),this.canvas.off(\"mousemove\"),this.canvas.off(\"wheel\"),this.canvas.bind(\"wheel\",f),this.canvas.mousemove(f),o&&(this.colors=this.parseColor(o)),\"ide\"===u&&(this.debugModeSetByUser||(this.debugMode=!0),l.listen((function(t){return console.error(t.cause?t.cause:t)}))),this.asyncRendering=!0,this.asyncRenderingTime=0,this.destroyed=!1,this.asynchronousStep=null;var p,h=this;if(this.initWidth=0|n,this.initHeight=0|r,this.endCallback=a||this.endCallback,this.alreadyLoaded)this.changed=!0,this.renderer.resize(this.initWidth,this.initHeight),this.reinit(!0);else{this.alreadyLoaded=!0,this.question=null,this.scope=null,this.currentFrame=-1,this.loaded=0,this.container=new PIXI.Container;var y=this.getResources();this.renderer=this.createRenderer(this.initWidth,this.initHeight,e),p=this.renderer,ye=p;var d,b=new PIXI.loaders.Loader(y.baseUrl);for(c in y.images)b.add(c,y.images[c],{crossOrigin:!0});for(d=0;d<y.sprites.length;++d)b.add(y.sprites[d],{crossOrigin:!0});for(d=0;d<y.fonts.length;++d)b.add(y.fonts[d],{crossOrigin:!0});for(c in y.spines)b.add(c,y.spines[c],{crossOrigin:!0});for(d=0;d<y.others.length;++d)b.add(y.others[d],{crossOrigin:!0});this.demo&&this.demo.agents.forEach((function(t){b.add(\"avatar\"+t.index,t.avatar,{loadType:2,crossOrigin:!0},(function(e){t.avatarTexture=e.texture,PIXI.Texture.addToCache(e.texture,\"$\"+t.index)}))})),h.scope={};var m=function(){requestAnimationFrame(h.animate.bind(h)),h.initPreload(h.scope,h.container,h.loaded=0,h.initWidth,h.initHeight)};b.on(\"start\",m),b.on(\"progress\",(function(t,e){t.progress<100&&h.preload(h.scope,h.container,h.loaded=t.progress/100,h.initWidth,h.initHeight,e)}));var g=function(){for(var t in y.images)y.images.hasOwnProperty(t)&&b.resources[t].texture&&PIXI.Texture.addToCache(b.resources[t].texture,t);for(t in y.spines)y.spines.hasOwnProperty(t)&&(PIXI.AnimCache[t]=PIXI.AnimCache[y.baseUrl+y.spines[t]]);h.loaded=1,h.reinit(!0),h.changed=!0};b.on(\"complete\",g),b.on(\"error\",(function(t){console.warn(t)})),Object.keys(b.resources).length?b.load():(m(),g())}}},{key:\"createRenderer\",value:function(t,e,n){return PIXI.autoDetectRenderer(t,e,{view:n,clearBeforeRender:!0,preserveDrawingBuffer:!1})}},{key:\"isReady\",value:function(){return 1<=this.loaded}}])&&In(e.prototype,n),o&&In(e,o),t}()}]).Drawer;",
      "levelParams": {
        "0": {
          "aiCode": "import sys\nimport math\nimport random\n\n# Own more boxes than your opponent!\n\nboard_size = int(input())  # The size of the board.\nplayer_id = input()  # The ID of the player. 0=first player, 1=second player.\n\nclass BoxAndSides:\n    def __init__(self, box, sides):\n        self.box = box\n        self.sides = sides\n    def numSides(self):\n        return len(self.sides)      \n\n# game loop\nwhile True:\n    # player_score: The player's score.\n    # opponent_score: The opponent's score.\n    player_score, opponent_score = [int(i) for i in input().split()]\n    num_boxes = int(input())  # The number of playable boxes.\n    lOfMoves = []\n    for i in range(num_boxes):\n        # box: The ID of the playable box.\n        # sides: Playable sides of the box.\n        box, sides = input().split()\n        lOfMoves.append(BoxAndSides(box,sides))\n\n    # Write an answer using print\n    # To debug: print(\"Debug messages...\", file=sys.stderr)\n    \n    lOfTakes = [e for e in lOfMoves if e.numSides() == 1]\n    if lOfTakes:\n        lOfMoves = lOfTakes\n    \n    b = random.choice(lOfMoves)\n    box = b.box\n    side = random.choice(b.sides)\n    \n    # <box> <side> [MSG Optional message]\n    print(\"{} {}\".format(box, side))\n",
          "testCases": [],
          "maxPlayers": 2,
          "minPlayers": 2,
          "statements": {
            "1": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      Dots and Boxes is a classic pencil-and-paper game for two players. The game\n      starts on a square grid of empty boxes. Each player in turn draws a free\n      box side. The player that draws the fourth (last) side of a box gains\n      ownership of that box. The goal of the game is to own more boxes than your\n      opponent. \n      <br>\n      <br>\n      Dots and Boxes was first published in the 19th century by French mathematician \n      douard Lucas, who called it \"la pipopipette\" which you will agree is a very \n      pleasant name. Thanks to <a href=\"https://en.wikipedia.org/wiki/Dots_and_Boxes\">Wikipedia</a>\n      for this valuable information.\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        <p>In the first league the board is a 2x2 square grid of boxes.</p>\n        <p>The two players are named 'A' and 'B'. Player 'A' plays first.</p>\n        <p>The boxes are named with a one letter column and a one number row, for\n        example 'A1'. A is the leftmost column 1 is the downmost row.</p>\n        <p>Each box has 4 sides named 'L'=left, 'T'=top, 'R'=right and 'B'=bottom.\n        Note that most sides are shared by two boxes. For example A1 R and B1 L designate\n        the same box side.</p>\n        <ul>\n          <li>Player 'A' plays first.</li>\n          <li>Each player in turn draws a free box side (not already drawn by him or his opponent). </li>\n          <li>If the box side closes one or two boxes the player gains ownership \n          of these boxes and the same player plays the next turn. And so on until\n          the player does not close a box.</li>\n          <li>The game terminates when there are no more vacant box side to be drawn.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  <!-- Victory conditions -->\n  <div class=\"statement-victory-conditions\">\n      <div class=\"icon victory\"></div>\n      <div class=\"blk\">\n          <div class=\"title\">Victory Conditions</div>\n          <div class=\"text\">\n              <ul style=\"padding-bottom: 0;\">\n                  <li>Own more boxes than your opponent.</li>\n                  <li>Note that a draw is not feasible if the total number of boxes is odd.</li>\n              </ul>\n          </div>\n      </div>\n  </div>\n  <!-- Loss conditions -->\n  <div class=\"statement-lose-conditions\">\n      <div class=\"icon lose\"></div>\n      <div class=\"blk\">\n          <div class=\"title\">Loss Conditions</div>\n          <div class=\"text\">\n              <ul style=\"padding-bottom: 0;\">\n                  <li>Own less boxes than your opponent.</li>\n                  <li>You do not respond in due time or output an invalid command.</li>\n              </ul>\n          </div>\n      </div>\n  </div>\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n    </h1>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"text\">The program must first read the game state input data from standard input. \n      Then, provide to the standard output one line with the player's move.</div>\n    </div>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Initial input</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">First line</span>: <var>boardSize</var>: the number of rows and columns on the board.\n        <br>\n        <span class=\"statement-lineno\">Second line</span>: <var>playerId</var>: the ID of the player. 'A' or 'B'.\n    </div>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input per turn</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">First line: </span><var>playerScore</var> <var>opponentScore</var>:\n        the number of boxes that you and your opponent actually own.</p>\n        <p><span class=\"statement-lineno\">Second line: </span><var>numBoxes</var>:\n        the number of playable boxes.</p>\n        <p><span class=\"statement-lineno\">Next <var>numBoxes</var> lines: </span>\n        <var>box</var> <var>sides</var>: two string. The first string is the box name, for example \"A1\". \n        The second string lists the playable sides for that box. \"LTRB\" for example if the four sides\n        of the box are free .</p>\n      </div>\n    </div>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">A single line: </span> \n        the box name and side to draw. This can be followed by an optional\n        message to display introduced by the 'MSG' keyword. Example: \"A1 R MSG Hello\".        \n      </div>\n    </div>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\">Allotted response time to output\n        is 1 s for the first turn, then 100 ms for the other turns.</div>\n    </div>\n  </div>\n</div>",
            "2": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      Dots and Boxes is a classic pencil-and-paper game for two players. The game\n      starts on a square grid of empty boxes. Each player in turn draws a free\n      box side. The player that draws the fourth (last) side of a box gains\n      ownership of that box. The goal of the game is to own more boxes than your\n      opponent. \n      <br>\n      <br>\n      Dots and Boxes was first published in the 19th century by French mathematician \n      douard Lucas, who called it \"la pipopipette\" which you will agree is a very \n      pleasant name. Thanks to <a href=\"https://en.wikipedia.org/wiki/Dots_and_Boxes\">Wikipedia</a>\n      for this valuable information.\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        <p>In the first league the board is a 2x2 square grid of boxes.</p>\n        <p>The two players are named 'A' and 'B'. Player 'A' plays first.</p>\n        <p>The boxes are named with a one letter column and a one number row, for\n        example 'A1'. A is the leftmost column 1 is the downmost row.</p>\n        <p>Each box has 4 sides named 'L'=left, 'T'=top, 'R'=right and 'B'=bottom.\n        Note that most sides are shared by two boxes. For example A1 R and B1 L designate\n        the same box side.</p>\n        <ul>\n          <li>Player 'A' plays first.</li>\n          <li>Each player in turn draws a free box side (not already drawn by him or his opponent). </li>\n          <li>If the box side closes one or two boxes the player gains ownership \n          of these boxes and the same player plays the next turn. And so on until\n          the player does not close a box.</li>\n          <li>The game terminates when there are no more vacant box side to be drawn.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  <!-- Victory conditions -->\n  <div class=\"statement-victory-conditions\">\n      <div class=\"icon victory\"></div>\n      <div class=\"blk\">\n          <div class=\"title\">Victory Conditions</div>\n          <div class=\"text\">\n              <ul style=\"padding-bottom: 0;\">\n                  <li>Own more boxes than your opponent.</li>\n                  <li>Note that a draw is not feasible if the total number of boxes is odd.</li>\n              </ul>\n          </div>\n      </div>\n  </div>\n  <!-- Loss conditions -->\n  <div class=\"statement-lose-conditions\">\n      <div class=\"icon lose\"></div>\n      <div class=\"blk\">\n          <div class=\"title\">Loss Conditions</div>\n          <div class=\"text\">\n              <ul style=\"padding-bottom: 0;\">\n                  <li>Own less boxes than your opponent.</li>\n                  <li>You do not respond in due time or output an invalid command.</li>\n              </ul>\n          </div>\n      </div>\n  </div>\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n    </h1>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"text\">The program must first read the game state input data from standard input. \n      Then, provide to the standard output one line with the player's move.</div>\n    </div>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Initial input</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">First line</span>: <var>boardSize</var>: the number of rows and columns on the board.\n        <br>\n        <span class=\"statement-lineno\">Second line</span>: <var>playerId</var>: the ID of the player. 'A' or 'B'.\n    </div>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input per turn</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">First line: </span><var>playerScore</var> <var>opponentScore</var>:\n        the number of boxes that you and your opponent actually own.</p>\n        <p><span class=\"statement-lineno\">Second line: </span><var>numBoxes</var>:\n        the number of playable boxes.</p>\n        <p><span class=\"statement-lineno\">Next <var>numBoxes</var> lines: </span>\n        <var>box</var> <var>sides</var>: two string. The first string is the box name, for example \"A1\". \n        The second string lists the playable sides for that box. \"LTRB\" for example if the four sides\n        of the box are free .</p>\n      </div>\n    </div>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">A single line: </span> \n        the box name and side to draw. This can be followed by an optional\n        message to display introduced by the 'MSG' keyword. Example: \"A1 R MSG Hello\".        \n      </div>\n    </div>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\">Allotted response time to output\n        is 1 s for the first turn, then 100 ms for the other turns.</div>\n    </div>\n  </div>\n</div>"
          },
          "questionType": "multi",
          "stubGenerator": "read boardSize:int\nread playerId:word(1)\n\ngameloop\nread playerScore:int opponentScore:int\nread numBoxes:int\nloop numBoxes read box:word(2) sides:word(4)\nwrite A1 B MSG bla bla bla...\n\nSTATEMENT\nOwn more boxes than your opponent!\n\nINPUT\nboardSize: The size of the board.\nplayerId: The ID of the player. 'A'=first player, 'B'=second player.\nplayerScore: The player's score.\nopponentScore: The opponent's score.\nnumBoxes: The number of playable boxes.\nbox: The ID of the playable box.\nsides: Playable sides of the box.\n\nOUTPUT\n<box> <side> [MSG Optional message]",
          "welcomePopups": {},
          "aiCodeExtension": "py3",
          "criteriaLanguageMap": {}
        },
        "1": {
          "aiCode": "import sys\nimport math\nimport random\n\n# Own more boxes than your opponent!\n\nboard_size = int(input())  # The size of the board.\nplayer_id = input()  # The ID of the player. 0=first player, 1=second player.\n\nclass BoxAndSides:\n    def __init__(self, box, sides):\n        self.box = box\n        self.sides = sides\n    def numSides(self):\n        return len(self.sides)      \n\n# game loop\nwhile True:\n    # player_score: The player's score.\n    # opponent_score: The opponent's score.\n    player_score, opponent_score = [int(i) for i in input().split()]\n    num_boxes = int(input())  # The number of playable boxes.\n    lOfMoves = []\n    for i in range(num_boxes):\n        # box: The ID of the playable box.\n        # sides: Playable sides of the box.\n        box, sides = input().split()\n        lOfMoves.append(BoxAndSides(box,sides))\n\n    # Write an answer using print\n    # To debug: print(\"Debug messages...\", file=sys.stderr)\n    \n    lOfTakes = [e for e in lOfMoves if e.numSides() == 1]\n    if lOfTakes:\n        lOfMoves = lOfTakes\n    \n    b = random.choice(lOfMoves)\n    box = b.box\n    side = random.choice(b.sides)\n    \n    # <box> <side> [MSG Optional message]\n    print(\"{} {}\".format(box, side))\n",
          "testCases": [],
          "maxPlayers": 2,
          "minPlayers": 2,
          "statements": {
            "1": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <!-- LEAGUE ALERT -->\n  <div style=\"color: #7cc576; \n    background-color: rgba(124, 197, 118,.1);\n    padding: 20px;\n    margin-right: 15px;\n    margin-left: 15px;\n    margin-bottom: 10px;\n    text-align: left;\">\n      <div style=\"text-align: center; margin-bottom: 6px\">\n        <img src=\"//cdn.codingame.com/smash-the-code/statement/league_wood_04.png\" />\n      </div>\n      <span class=\"statement-league-alert-content\">\n        Congratulations, you have reached the upper league. Now the game board is\n        a 7x7 square grid of boxes. Enjoy!\n      </span>\n  </div> \n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      Dots and Boxes is a classic pencil-and-paper game for two players. The game\n      starts on a square grid of empty boxes. Each player in turn draws a free\n      box side. The player that draws the fourth (last) side of a box gains\n      ownership of that box. The goal of the game is to own more boxes than your\n      opponent. \n      <br>\n      <br>\n      Dots and Boxes was first published in the 19th century by French mathematician \n      douard Lucas, who called it \"la pipopipette\" which you will agree is a very \n      pleasant name. Thanks to <a href=\"https://en.wikipedia.org/wiki/Dots_and_Boxes\">Wikipedia</a>\n      for this valuable information.\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        <p>In the first league the board is a 2x2 square grid of boxes.</p>\n        <p>The two players are named 'A' and 'B'. Player 'A' plays first.</p>\n        <p>The boxes are named with a one letter column and a one number row, for\n        example 'A1'. A is the leftmost column 1 is the downmost row.</p>\n        <p>Each box has 4 sides named 'L'=left, 'T'=top, 'R'=right and 'B'=bottom.\n        Note that most sides are shared by two boxes. For example A1 R and B1 L designate\n        the same box side.</p>\n        <ul>\n          <li>Player 'A' plays first.</li>\n          <li>Each player in turn draws a free box side (not already drawn by him or his opponent). </li>\n          <li>If the box side closes one or two boxes the player gains ownership \n          of these boxes and the same player plays the next turn. And so on until\n          the player does not close a box.</li>\n          <li>The game terminates when there are no more vacant box side to be drawn.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  <!-- Victory conditions -->\n  <div class=\"statement-victory-conditions\">\n      <div class=\"icon victory\"></div>\n      <div class=\"blk\">\n          <div class=\"title\">Victory Conditions</div>\n          <div class=\"text\">\n              <ul style=\"padding-bottom: 0;\">\n                  <li>Own more boxes than your opponent.</li>\n                  <li>Note that a draw is not feasible if the total number of boxes is odd.</li>\n              </ul>\n          </div>\n      </div>\n  </div>\n  <!-- Loss conditions -->\n  <div class=\"statement-lose-conditions\">\n      <div class=\"icon lose\"></div>\n      <div class=\"blk\">\n          <div class=\"title\">Loss Conditions</div>\n          <div class=\"text\">\n              <ul style=\"padding-bottom: 0;\">\n                  <li>Own less boxes than your opponent.</li>\n                  <li>You do not respond in due time or output an invalid command.</li>\n              </ul>\n          </div>\n      </div>\n  </div>\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n    </h1>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"text\">The program must first read the game state input data from standard input. \n      Then, provide to the standard output one line with the player's move.</div>\n    </div>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Initial input</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">First line</span>: <var>boardSize</var>: the number of rows and columns on the board.\n        <br>\n        <span class=\"statement-lineno\">Second line</span>: <var>playerId</var>: the ID of the player. 'A' or 'B'.\n    </div>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input per turn</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">First line: </span><var>playerScore</var> <var>opponentScore</var>:\n        the number of boxes that you and your opponent actually own.</p>\n        <p><span class=\"statement-lineno\">Second line: </span><var>numBoxes</var>:\n        the number of playable boxes.</p>\n        <p><span class=\"statement-lineno\">Next <var>numBoxes</var> lines: </span>\n        <var>box</var> <var>sides</var>: two string. The first string is the box name, for example \"A1\". \n        The second string lists the playable sides for that box. \"LTRB\" for example if the four sides\n        of the box are free .</p>\n      </div>\n    </div>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">A single line: </span> \n        the box name and side to draw. This can be followed by an optional\n        message to display introduced by the 'MSG' keyword. Example: \"A1 R MSG Hello\".        \n      </div>\n    </div>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\">Allotted response time to output\n        is 1 s for the first turn, then 100 ms for the other turns.</div>\n    </div>\n  </div>\n</div>",
            "2": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <!-- LEAGUE ALERT -->\n  <div style=\"color: #7cc576; \n    background-color: rgba(124, 197, 118,.1);\n    padding: 20px;\n    margin-right: 15px;\n    margin-left: 15px;\n    margin-bottom: 10px;\n    text-align: left;\">\n      <div style=\"text-align: center; margin-bottom: 6px\">\n        <img src=\"//cdn.codingame.com/smash-the-code/statement/league_wood_04.png\" />\n      </div>\n      <span class=\"statement-league-alert-content\">\n        Congratulations, you have reached the upper league. Now the game board is\n        a 7x7 square grid of boxes. Enjoy!\n      </span>\n  </div> \n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      Dots and Boxes is a classic pencil-and-paper game for two players. The game\n      starts on a square grid of empty boxes. Each player in turn draws a free\n      box side. The player that draws the fourth (last) side of a box gains\n      ownership of that box. The goal of the game is to own more boxes than your\n      opponent. \n      <br>\n      <br>\n      Dots and Boxes was first published in the 19th century by French mathematician \n      douard Lucas, who called it \"la pipopipette\" which you will agree is a very \n      pleasant name. Thanks to <a href=\"https://en.wikipedia.org/wiki/Dots_and_Boxes\">Wikipedia</a>\n      for this valuable information.\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        <p>In the first league the board is a 2x2 square grid of boxes.</p>\n        <p>The two players are named 'A' and 'B'. Player 'A' plays first.</p>\n        <p>The boxes are named with a one letter column and a one number row, for\n        example 'A1'. A is the leftmost column 1 is the downmost row.</p>\n        <p>Each box has 4 sides named 'L'=left, 'T'=top, 'R'=right and 'B'=bottom.\n        Note that most sides are shared by two boxes. For example A1 R and B1 L designate\n        the same box side.</p>\n        <ul>\n          <li>Player 'A' plays first.</li>\n          <li>Each player in turn draws a free box side (not already drawn by him or his opponent). </li>\n          <li>If the box side closes one or two boxes the player gains ownership \n          of these boxes and the same player plays the next turn. And so on until\n          the player does not close a box.</li>\n          <li>The game terminates when there are no more vacant box side to be drawn.</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  <!-- Victory conditions -->\n  <div class=\"statement-victory-conditions\">\n      <div class=\"icon victory\"></div>\n      <div class=\"blk\">\n          <div class=\"title\">Victory Conditions</div>\n          <div class=\"text\">\n              <ul style=\"padding-bottom: 0;\">\n                  <li>Own more boxes than your opponent.</li>\n                  <li>Note that a draw is not feasible if the total number of boxes is odd.</li>\n              </ul>\n          </div>\n      </div>\n  </div>\n  <!-- Loss conditions -->\n  <div class=\"statement-lose-conditions\">\n      <div class=\"icon lose\"></div>\n      <div class=\"blk\">\n          <div class=\"title\">Loss Conditions</div>\n          <div class=\"text\">\n              <ul style=\"padding-bottom: 0;\">\n                  <li>Own less boxes than your opponent.</li>\n                  <li>You do not respond in due time or output an invalid command.</li>\n              </ul>\n          </div>\n      </div>\n  </div>\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n    </h1>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"text\">The program must first read the game state input data from standard input. \n      Then, provide to the standard output one line with the player's move.</div>\n    </div>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Initial input</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">First line</span>: <var>boardSize</var>: the number of rows and columns on the board.\n        <br>\n        <span class=\"statement-lineno\">Second line</span>: <var>playerId</var>: the ID of the player. 'A' or 'B'.\n    </div>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input per turn</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">First line: </span><var>playerScore</var> <var>opponentScore</var>:\n        the number of boxes that you and your opponent actually own.</p>\n        <p><span class=\"statement-lineno\">Second line: </span><var>numBoxes</var>:\n        the number of playable boxes.</p>\n        <p><span class=\"statement-lineno\">Next <var>numBoxes</var> lines: </span>\n        <var>box</var> <var>sides</var>: two string. The first string is the box name, for example \"A1\". \n        The second string lists the playable sides for that box. \"LTRB\" for example if the four sides\n        of the box are free .</p>\n      </div>\n    </div>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">A single line: </span> \n        the box name and side to draw. This can be followed by an optional\n        message to display introduced by the 'MSG' keyword. Example: \"A1 R MSG Hello\".        \n      </div>\n    </div>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\">Allotted response time to output\n        is 1 s for the first turn, then 100 ms for the other turns.</div>\n    </div>\n  </div>\n</div>"
          },
          "questionType": "multi",
          "stubGenerator": "read boardSize:int\nread playerId:word(1)\n\ngameloop\nread playerScore:int opponentScore:int\nread numBoxes:int\nloop numBoxes read box:word(2) sides:word(4)\nwrite A1 B MSG bla bla bla...\n\nSTATEMENT\nOwn more boxes than your opponent!\n\nINPUT\nboardSize: The size of the board.\nplayerId: The ID of the player. 'A'=first player, 'B'=second player.\nplayerScore: The player's score.\nopponentScore: The opponent's score.\nnumBoxes: The number of playable boxes.\nbox: The ID of the playable box.\nsides: Playable sides of the box.\n\nOUTPUT\n<box> <side> [MSG Optional message]",
          "welcomePopups": {},
          "aiCodeExtension": "py3",
          "criteriaLanguageMap": {}
        }
      },
      "coverBinaryId": 48418685455019,
      "directoryPrefix": "community/1489865-1596742550734",
      "allowSourceDownload": true,
      "originalArchiveBinaryId": 50048765928448
    },
    "draft": false,
    "readyForModeration": true
  },
  "validatedFor": 173045842832,
  "avatar": 10005277870281,
  "commentCount": 29,
  "upVotes": 20,
  "downVotes": 0,
  "validateAction": {
    "actionId": 484579,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1597685144558,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}