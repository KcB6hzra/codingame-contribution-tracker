{
  "id": 570,
  "activeVersion": 16,
  "score": 7,
  "votableId": 4194033,
  "codingamerId": 1174714,
  "views": 184,
  "commentableId": 4138047,
  "title": "Cards castle",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Shoko84",
  "publicHandle": "570b52950dde66db0b363d9d15f4b9d5b47",
  "codingamerHandle": "b23e9b2c3708c21e0a0221b1d6c0a9eb4174711",
  "lastVersion": {
    "version": 16,
    "data": {
      "title": "Cards castle",
      "topics": [
        {
          "id": 128,
          "handle": "ascii-art",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Ascii Art",
            "2": "Ascii Art"
          },
          "puzzleCount": 9,
          "parentTopicId": 93
        },
        {
          "id": 154,
          "handle": "physics",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Physics",
            "2": "Physics"
          },
          "puzzleCount": 7,
          "parentTopicId": 93
        }
      ],
      "solution": "function reverseLineCastle(line) {\n    var modifiedLine = line;\n    modifiedLine = modifiedLine.replace(/\\\\/g, \"t\")\n    modifiedLine = modifiedLine.replace(/\\//g, \"\\\\\")\n    modifiedLine = modifiedLine.replace(/t/g, \"/\")\n    \n    return modifiedLine;\n}\n\nvar H = parseInt(readline());\nvar map = [];\nvar isStable = true;\nfor (var i = 0; i < H; i++) {\n    map.push(readline());\n}\n\nmap[H - 1] = reverseLineCastle(map[H - 1])\n\nvar depth = 1;\nfor (var i = map.length - 2; i >= 0 && isStable; i--, depth++) {\n    printErr(map.join(\"\\n\"))\n    var firstCard = false;\n    for (var j = 0; j < depth; j++) {\n        if (map[i][j] != \".\") {\n            isStable = false;\n            break;\n        }\n    }\n    for (var j = depth; j < map[i].length - depth; j++) {\n        if (map[i][j] != '.' && map[i][j] != map[i + 1][j]) {\n            isStable = false;\n            break;\n        } else {\n            if (!firstCard) {\n                if (map[i][j] == \"/\") {\n                    firstCard = true;\n                } else if (map[i][j] == \"\\\\\") {\n                    isStable = false;\n                    break;\n                }\n            } else {\n                if (map[i][j] == \"\\\\\") {\n                    firstCard = false;\n                } else {\n                    isStable = false;\n                    break;\n                }\n            }\n        }\n    }\n    for (var j = map[i].length - depth; j < map[i].length; j++) {\n        if (map[i][j] != \".\") {\n            isStable = false;\n            printErr(i, j)\n            break;\n        }\n    }\n    map[i] = reverseLineCastle(map[i]);\n}\nprintErr(map.join(\"\\n\"))\n\nprint((isStable) ? (\"STABLE\") : (\"UNSTABLE\"))",
      "statement": "Your goal is to determine if a card castle structure is stable or not.\nYou're given a 2D map composed of \".\" (dots), \"/\" and \"\\\",  representing a card castle of height [[H]] and width {{H * 2}}.\n\nA card castle is unstable if :\n- a \"/\" card is missing before a \"\\\" card (\".\\\" is {{UNSTABLE}})\n- a \"\\\" card is missing after a \"/\" card (\"/.\" is {{UNSTABLE}})\n- two cards side by side have the same orientation (\"//\\\" or \"/\\\\\" is {{UNSTABLE}})\n- neither another card nor the ground are below (aka. a \"flying card\")\n- the card below has the same orientation\n\nThe structure is {{STABLE}} if and only if all cards are {{STABLE}}.",
      "testCases": [
        {
          "title": "Example",
          "isTest": true,
          "testIn": "4\n.../\\...\n../\\/\\..\n./\\/\\/\\.\n/\\/\\/\\/\\",
          "testOut": "STABLE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Example",
          "isTest": false,
          "testIn": "4\n.../\\...\n../\\/\\..\n./\\/\\/\\.\n/\\/\\/\\/\\",
          "testOut": "STABLE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Little castle",
          "isTest": true,
          "testIn": "2\n./\\.\n/\\/\\",
          "testOut": "STABLE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Little castle Validator",
          "isTest": false,
          "testIn": "3\n../\\..\n./\\/\\.\n/\\/\\/\\",
          "testOut": "STABLE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Little fallen castle",
          "isTest": true,
          "testIn": "2\n./\\.\n/./\\",
          "testOut": "UNSTABLE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Little fallen castle Validator",
          "isTest": false,
          "testIn": "3\n../\\..\n./\\.\\.\n/\\/\\/\\",
          "testOut": "UNSTABLE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Fortress",
          "isTest": true,
          "testIn": "6\n...../\\.....\n..../\\/\\....\n.../\\/\\/\\...\n../\\/\\/\\/\\..\n./\\/\\/\\/\\/\\.\n/\\/\\/\\/\\/\\/\\",
          "testOut": "STABLE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Fortress Validator",
          "isTest": false,
          "testIn": "10\n........./\\.........\n......../\\/\\........\n......./\\/\\/\\.......\n....../\\/\\/\\/\\......\n...../\\/\\/\\/\\/\\.....\n..../\\/\\/\\/\\/\\/\\....\n.../\\/\\/\\/\\/\\/\\/\\...\n../\\/\\/\\/\\/\\/\\/\\/\\..\n./\\/\\/\\/\\/\\/\\/\\/\\/\\.\n/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\",
          "testOut": "STABLE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Fallen fortress",
          "isTest": true,
          "testIn": "5\n..../\\....\n.../\\/\\...\n../\\/./\\..\n./\\.\\/\\/\\.\n/\\/\\/\\/\\/\\",
          "testOut": "UNSTABLE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Fallen fortress Validator",
          "isTest": false,
          "testIn": "8\n......./\\.......\n....../\\/\\......\n...../\\/\\/\\.....\n..../\\/\\/\\/\\....\n.../\\/\\/\\/\\/\\...\n../\\/\\/./\\/\\/\\..\n./\\/\\/\\/\\/\\.\\/\\.\n/\\/\\/\\/\\/\\/\\/\\/\\",
          "testOut": "UNSTABLE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Cards are missing ?",
          "isTest": true,
          "testIn": "4\n........\n../\\/\\..\n./\\/\\/\\.\n/\\/\\/\\/\\",
          "testOut": "STABLE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Cards are missing ? Validator",
          "isTest": false,
          "testIn": "6\n............\n..../\\/\\....\n.../\\/\\/\\...\n../\\/\\/\\/\\..\n./\\/\\/\\/\\/\\.\n/\\/\\/\\/\\/\\/\\",
          "testOut": "STABLE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "A lot of cards are missing ?!",
          "isTest": true,
          "testIn": "4\n........\n../\\....\n./\\/\\...\n/\\/\\/\\/\\",
          "testOut": "STABLE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "A lot of cards are missing ?! Validator",
          "isTest": false,
          "testIn": "6\n............\n............\n......./\\...\n..../\\/\\/\\..\n./\\/\\/\\/\\/\\.\n/\\/\\/\\/\\/\\/\\",
          "testOut": "STABLE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Unstable single card",
          "isTest": true,
          "testIn": "7\n..............\n...../\\/......\n..../\\/\\/\\....\n.../\\/\\/\\/\\...\n../\\/\\/\\/\\/\\..\n./\\/\\/\\/\\/\\/\\.\n/\\/\\/\\/\\/\\/\\/\\",
          "testOut": "UNSTABLE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Unstable single card Validator",
          "isTest": false,
          "testIn": "5\n..........\n...../\\...\n.././\\/\\..\n./\\/\\/\\/\\.\n/\\/\\/\\/\\/\\",
          "testOut": "UNSTABLE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Flying cards",
          "isTest": true,
          "testIn": "4\n.../\\.\\/\n\\./\\/\\./\n./\\/\\/\\.\n/\\/\\/\\/\\",
          "testOut": "UNSTABLE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Flying cards Validator",
          "isTest": false,
          "testIn": "5\n.\\../\\.../\n\\/./\\/\\...\n/./\\/\\/\\.\\\n./\\/\\/\\/\\.\n/\\/\\/\\/\\/\\",
          "testOut": "UNSTABLE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Reversed cards",
          "isTest": true,
          "testIn": "5\n..........\n....\\/....\n../\\/\\/\\..\n./\\/\\/\\/\\.\n/\\/\\/\\/\\/\\",
          "testOut": "UNSTABLE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Reversed cards Validator",
          "isTest": false,
          "testIn": "6\n............\n............\n............\n...\\/..\\/...\n./\\/\\/\\/\\/\\.\n/\\/\\/\\/\\/\\/\\",
          "testOut": "UNSTABLE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Few floors",
          "isTest": true,
          "testIn": "8\n................\n................\n................\n................\n................\n................\n...../\\../\\.....\n/\\/\\/\\/\\/\\/\\/\\/\\",
          "testOut": "STABLE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Few floors Validator",
          "isTest": false,
          "testIn": "10\n....................\n....................\n....................\n....................\n....................\n....................\n....................\n....../\\../\\../\\....\n./\\/\\/\\/\\/\\/\\/\\/\\/\\.\n/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\",
          "testOut": "STABLE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "On the gap",
          "isTest": true,
          "testIn": "7\n..............\n..............\n..../\\./\\.....\n.../\\/\\/\\/\\...\n../\\/\\/\\/\\/\\..\n./\\/\\/\\/\\/\\/\\.\n/\\/\\/\\/\\/\\/\\/\\",
          "testOut": "UNSTABLE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "On the gap Validator",
          "isTest": false,
          "testIn": "7\n..............\n..............\n..............\n....../\\/\\....\n../\\/\\/\\/\\....\n./\\/\\/\\/\\/\\/\\.\n/\\/\\/\\/\\/\\/\\/\\",
          "testOut": "UNSTABLE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Starting on",
          "isTest": true,
          "testIn": "5\n..........\n..........\n..........\n./\\..../\\.\n/\\/\\../\\/\\",
          "testOut": "STABLE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Starting on Validator",
          "isTest": false,
          "testIn": "6\n............\n............\n............\n............\n........./\\.\n/\\..../\\/\\/\\",
          "testOut": "STABLE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Shifted",
          "isTest": true,
          "testIn": "5\n..........\n..........\n..........\n../\\......\n./\\/\\.../\\",
          "testOut": "STABLE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Shifted Validator",
          "isTest": false,
          "testIn": "6\n............\n............\n............\n............\n..../\\.../\\.\n.../\\/\\./\\/\\",
          "testOut": "STABLE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Flying castle cards",
          "isTest": true,
          "testIn": "7\n....../\\......\n...../\\/\\.....\n..............\n.../\\/\\/\\/\\...\n../\\/\\/\\/\\/\\..\n./\\/\\/\\/\\/\\/\\.\n/\\/\\/\\/\\/\\/\\/\\",
          "testOut": "UNSTABLE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Flying castle cards Validator",
          "isTest": false,
          "testIn": "6\n./\\.........\n/\\/\\........\n....../\\....\n.../\\/\\/\\...\n../\\/\\/\\/\\..\n/\\/\\/\\/\\/\\/\\",
          "testOut": "UNSTABLE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Same card side by side",
          "isTest": true,
          "testIn": "5\n..........\n....//\\...\n../\\/\\/\\..\n./\\/\\/\\/\\.\n/\\/\\/\\/\\/\\",
          "testOut": "UNSTABLE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Same card side by side Validator",
          "isTest": false,
          "testIn": "6\n............\n............\n...../\\\\....\n../\\/\\/\\/\\..\n./\\/\\/\\/\\/\\.\n/\\/\\/\\/\\/\\/\\",
          "testOut": "UNSTABLE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Same flying card side by side",
          "isTest": true,
          "testIn": "5\n..........\n..//\\.....\n../\\/\\/\\..\n./\\/\\/\\/\\.\n/\\/\\/\\/\\/\\",
          "testOut": "UNSTABLE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Same flying card side by side Validator",
          "isTest": false,
          "testIn": "6\n............\n............\n......./\\\\..\n../\\/\\/\\/\\..\n./\\/\\/\\/\\/\\.\n/\\/\\/\\/\\/\\/\\",
          "testOut": "UNSTABLE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Flying reversed card side by side",
          "isTest": true,
          "testIn": "6\n............\n............\n..\\/\\.......\n../\\/\\/\\/\\..\n./\\/\\/\\/\\/\\.\n/\\/\\/\\/\\/\\/\\",
          "testOut": "UNSTABLE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Flying reversed card side by side Validator",
          "isTest": false,
          "testIn": "7\n..............\n..............\n..............\n........./\\/..\n../\\/\\/\\/\\/\\..\n./\\/\\/\\/\\/\\/\\.\n/\\/\\/\\/\\/\\/\\/\\",
          "testOut": "UNSTABLE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "The shifted unique one",
          "isTest": true,
          "testIn": "3\n......\n......\n.../\\.",
          "testOut": "STABLE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "The shifted unique one Validator",
          "isTest": false,
          "testIn": "6\n............\n............\n............\n............\n............\n./\\.........",
          "testOut": "STABLE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Lost cards",
          "isTest": true,
          "testIn": "4\n........\n........\n........\n........",
          "testOut": "STABLE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Lost cards Validator",
          "isTest": false,
          "testIn": "9\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................",
          "testOut": "STABLE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Complex",
          "isTest": true,
          "testIn": "15\n..............................\n..............................\n..............................\n..............................\n..............................\n..............................\n..............................\n..............................\n..............................\n..............................\n....../\\......../\\............\n...../\\/\\..../\\/\\/\\....../\\...\n..../\\/\\/\\../\\/\\/\\/\\/\\../\\/\\..\n./\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\.\n/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\",
          "testOut": "STABLE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Complex Validator",
          "isTest": false,
          "testIn": "15\n..............................\n..............................\n..............................\n..............................\n..............................\n..............................\n..............................\n..............................\n..............................\n..............................\n..............................\n.../\\/\\......../\\.............\n../\\/\\/\\....../\\/\\..../\\......\n./\\/\\/\\/\\../\\/\\/\\/\\../\\/\\.....\n/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\../\\",
          "testOut": "STABLE",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "0 < [[H]] <= 30",
      "stubGenerator": "read H:int\nloop H read S:string(128)\nwrite UNSTABLE",
      "inputDescription": "<<Line 1:>> An integer [[H]], the number of lines in the map\n<<[[H]] next lines:>> Each line of the map as a string",
      "solutionLanguage": "Javascript",
      "outputDescription": "<<Line 1:>> {{STABLE}} if the structure is stable, {{UNSTABLE}} otherwise"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Your goal is to determine if a card castle structure is stable or not.<br>You're given a 2D map composed of &quot;.&quot; (dots), &quot;/&quot; and &quot;\\&quot;,  representing a card castle of height <var>H</var> and width <const>H * 2</const>.<br><br>A card castle is unstable if :<br>- a &quot;/&quot; card is missing before a &quot;\\&quot; card (&quot;.\\&quot; is <const>UNSTABLE</const>)<br>- a &quot;\\&quot; card is missing after a &quot;/&quot; card (&quot;/.&quot; is <const>UNSTABLE</const>)<br>- two cards side by side have the same orientation (&quot;//\\&quot; or &quot;/\\\\&quot; is <const>UNSTABLE</const>)<br>- neither another card nor the ground are below (aka. a &quot;flying card&quot;)<br>- the card below has the same orientation<br><br>The structure is <const>STABLE</const> if and only if all cards are <const>STABLE</const>.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> An integer <var>H</var>, the number of lines in the map<br><strong><var>H</var> next lines:</strong> Each line of the map as a string</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>Line 1:</strong> <const>STABLE</const> if the structure is stable, <const>UNSTABLE</const> otherwise</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">0 &lt; <var>H</var> &lt;= 30</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">4\n.../\\...\n../\\/\\..\n./\\/\\/\\.\n/\\/\\/\\/\\</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">STABLE</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 289508113237,
  "avatar": 9552765056380,
  "commentCount": 12,
  "upVotes": 7,
  "downVotes": 0,
  "validateAction": {
    "actionId": 61554,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}