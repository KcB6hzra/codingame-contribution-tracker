{
  "id": 8096,
  "activeVersion": 65,
  "score": 4,
  "votableId": 21915649,
  "codingamerId": 4279862,
  "views": 331,
  "commentableId": 21806181,
  "title": "Tricky  Number Verifier",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "slogslog",
  "publicHandle": "80968a5f68fca68f8584b11254fc572773c6",
  "codingamerHandle": "e78bdf28fd12d207ee44aa3d143abf992689724",
  "lastVersion": {
    "version": 65,
    "autocloseTime": 1647108014481,
    "data": {
      "title": "Tricky  Number Verifier",
      "topics": [
        {
          "id": 112,
          "handle": "string-manipulation",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "String manipulation",
            "2": "String manipulation"
          },
          "puzzleCount": 33,
          "parentTopicId": 93
        },
        {
          "id": 114,
          "handle": "check-digit",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Check-digit",
            "2": "Check-digit"
          },
          "puzzleCount": 3,
          "parentTopicId": 93
        }
      ],
      "solution": "import datetime\n\nn = int(input())\nfor i in range(n):\n    number = input()\n    if len(number) != 10 or not number.isdecimal() or number[0] == '0':\n        print('INVALID SYNTAX')\n    else:\n        try:\n            datetime.datetime(int('20'+number[8:]), int(number[6:8]), int(number[4:6]))\n            w = '379584216'\n            x = ''\n            id = number[:3]\n            date = number[4:]\n            while len(x) != 1:\n                s = id + date\n                x = str(sum(int(si)*int(wi) for si,wi in zip(s, w)) % 11)\n                if x == number[3]:\n                    print('OK')\n                elif len(x) == 1:\n                    print(id + x + date)\n                else:\n                    id = str(int(id)+1)\n\n        except ValueError:\n            print('INVALID DATE')\n\n",
      "statement": "Social insurance numbers in Austria (Europe) are 10 digits long: LLLxDDMMYY\n\n- The rightmost 6 digits represent the person's birthday [[DDMMYY]]. \n- The leftmost 3 digits [[LLL]] represent a unique identifier starting with 100. Therefore the very first digit is never 0.\n- The fourth digit is a check digit [[x]] which is computed from [[LLL]] and [[DDMMYY]] by a specific algorithm.\n\nA string supposed to contain a social insurance number could be invalid for four reasons:\n\n1. The check digit [[x]] is incorrect.\n2. The length of the string is inappropriate.\n3. The string contains invalid or misplaced characters.\n4. The birthday [[DDMMYYYY]] is an invalid date. Consider that dates like the 31st of April or the 29th February 2002 do not exist. It is assumed that [[YY]] = 00 represents 2000 rather than 1900. This might be important since 1900 was no leap year while 2000 was one. ;-)\n\nFor a valid identifier and a valid birthdate, the check digit [[x]] is computed according the following algorithm:\n\n<<1.>> Multiply each digit of the identifier and the birthday with an individual factor.\n[[LLL]]: The 1st digit is multiplied by 3, the 2nd digit by 7 and the 3rd digit by 9.\n[[DDMMYY]]: Multiply the 1st digit by 5, the 2nd by 8, ... and so on by 4, 2, 1, and 6.\n\n<<2.>> Sum up all the results of step 1.\n\n<<3.>> Now the check digit [[x]] is the remainder obtained by dividing the sum by 11. If the result is 10, the identifier [[LLL]] is dismissed. The rejected [[LLL]] is increased by 1 and the social number is recalculated by starting at step 1.\n\n\n\n<<Sample 1>>: identifier = 123, birthday = 21st January 2006 -> <<123>>x<<210106>>\n\n<<1.>>\n<<1>>*3   <<2>>*7    <<3>>*9    <<2>>*5    <<1>>*8    <<0>>*4    <<1>>*2    <<0>>*1    <<6>>*6\n\n3   14   27   10   8   0   2   0   36\n\n<<2.>> \n3 + 14 + 27 + 10 + 8 + 0 + 2 + 0 + 36 -> 100\n\n<<3.>>\n100 mod 11 -> check digit [[x]] = 1\n\nThe social insurance number is 1231210106.\n\n\n<<Sample 2>>: identifier = 536, birthday = 24th December 1998 -> <<536>>x<<241298>>\n\n<<1.>>\n<<5>>*3    <<3>>*7    <<6>>*9    <<2>>*5    <<4>>*8    <<1>>*4    <<2>>*2    <<9>>*1    <<8>>*6\n\n15   21   54   10   32   4   4   9   48\n\n<<2.>> \n15 + 21 + 54 + 10 + 32 + 4 + 4 + 9 + 48 -> 197\n\n<<3.>>\n197 mod 11 -> 10\n\nThe identifier cannot be used. So increment 536 to 537 and rerun the algorithm again.\n\n537x241298 -> sum = 206 -> check digit [[x]] = 8\n\nThe social insurance number is 5378241298.\n\nYour task is to read strings from the input and to check each social insurance number's validity, to correct it or to write a specific error to the output.",
      "testCases": [
        {
          "title": "Valid Numbers",
          "isTest": true,
          "testIn": "3\n1231210106\n5378241298\n3872231176",
          "testOut": "OK\nOK\nOK",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "4\n1002150568\n8230010876\n5928121208\n2325310321",
          "testOut": "OK\nOK\nOK\nOK",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Syntax Errors",
          "isTest": true,
          "testIn": "5\n124210106\n32851710765\n123A210106\n123421 106\n0375010205",
          "testOut": "INVALID SYNTAX\nINVALID SYNTAX\nINVALID SYNTAX\nINVALID SYNTAX\nINVALID SYNTAX",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "5\n111111010 6\n107008026\n106?080260\n10700802602\n0165080272",
          "testOut": "INVALID SYNTAX\nINVALID SYNTAX\nINVALID SYNTAX\nINVALID SYNTAX\nINVALID SYNTAX",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Invalid Dates",
          "isTest": true,
          "testIn": "5\n1234310406\n1334101308\n9873290202\n1334100008\n1334001298",
          "testOut": "INVALID DATE\nINVALID DATE\nINVALID DATE\nINVALID DATE\nINVALID DATE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "3\n1234300206\n1334151412\n9873290215",
          "testOut": "INVALID DATE\nINVALID DATE\nINVALID DATE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "29th February",
          "isTest": true,
          "testIn": "7\n1230290204\n4543290205\n5555290200\n8035290200\n5555290201\n1457290220\n1003290208",
          "testOut": "OK\nINVALID DATE\nOK\nOK\nINVALID DATE\n1468290220\n1005290208",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "4\n4543290219\n5555290200\n3349290200\n1460290216",
          "testOut": "INVALID DATE\nOK\nOK\n1478290216",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "10 Consecutive Numbers",
          "isTest": true,
          "testIn": "10\n2000010489\n2001010489\n2002010489\n2003010489\n2004010489\n2005010489\n2006010489\n2007010489\n2008010489\n2009010489",
          "testOut": "2007010489\n2007010489\n2007010489\n2007010489\n2007010489\n2007010489\n2007010489\nOK\n2007010489\n2007010489",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "10\n5360041298\n5361041298\n5362041298\n5363041298\n5364041298\n5365041298\n5366041298\n5367041298\n5368041298\n5369041298",
          "testOut": "OK\n5360041298\n5360041298\n5360041298\n5360041298\n5360041298\n5360041298\n5360041298\n5360041298\n5360041298",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Rejected Identifier",
          "isTest": true,
          "testIn": "3\n5364241298\n3981270998\n8085010819",
          "testOut": "5378241298\n3998270998\n8098010819",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 6",
          "isTest": false,
          "testIn": "2\n3994290909\n7180121212",
          "testOut": "4001290909\n7198121212",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "easy",
      "constraints": "0 ≤ [[N]] ≤ 1000",
      "coverBinaryId": 78320606447247,
      "stubGenerator": "read N:int\nloop N read NUMBER:string(1024)\nloop N write answer",
      "inputDescription": "<<Line 1:>> An integer [[N]] for the number of social insurance numbers.\n<<Next [[N]] lines:>> One line for each social insurance number to be verified.",
      "solutionLanguage": "Python3",
      "outputDescription": "<<[[N]]>> lines: For each string, write one of the four outputs:\n\n1. {{OK}}: If the input string is a valid social insurance number.\n2. The corrected social insurance number if the input string was not a valid social insurance number.\n3. {{INVALID SYNTAX}}: If the input string has an incorrect length or contains an invalid character.\n4. {{INVALID DATE}}: The input string contains an invalid birth date. \n\nNote: The test cases do not address the issue of an identifier overflow at 999."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Social insurance numbers in Austria (Europe) are 10 digits long: LLLxDDMMYY<br><br>- The rightmost 6 digits represent the person's birthday <var>DDMMYY</var>. <br>- The leftmost 3 digits <var>LLL</var> represent a unique identifier starting with 100. Therefore the very first digit is never 0.<br>- The fourth digit is a check digit <var>x</var> which is computed from <var>LLL</var> and <var>DDMMYY</var> by a specific algorithm.<br><br>A string supposed to contain a social insurance number could be invalid for four reasons:<br><br>1. The check digit <var>x</var> is incorrect.<br>2. The length of the string is inappropriate.<br>3. The string contains invalid or misplaced characters.<br>4. The birthday <var>DDMMYYYY</var> is an invalid date. Consider that dates like the 31st of April or the 29th February 2002 do not exist. It is assumed that <var>YY</var> = 00 represents 2000 rather than 1900. This might be important since 1900 was no leap year while 2000 was one. ;-)<br><br>For a valid identifier and a valid birthdate, the check digit <var>x</var> is computed according the following algorithm:<br><br><strong>1.</strong> Multiply each digit of the identifier and the birthday with an individual factor.<br><var>LLL</var>: The 1st digit is multiplied by 3, the 2nd digit by 7 and the 3rd digit by 9.<br><var>DDMMYY</var>: Multiply the 1st digit by 5, the 2nd by 8, ... and so on by 4, 2, 1, and 6.<br><br><strong>2.</strong> Sum up all the results of step 1.<br><br><strong>3.</strong> Now the check digit <var>x</var> is the remainder obtained by dividing the sum by 11. If the result is 10, the identifier <var>LLL</var> is dismissed. The rejected <var>LLL</var> is increased by 1 and the social number is recalculated by starting at step 1.<br><br><br><br><strong>Sample 1</strong>: identifier = 123, birthday = 21st January 2006 -&gt; <strong>123</strong>x<strong>210106</strong><br><br><strong>1.</strong><br><strong>1</strong>*3   <strong>2</strong>*7    <strong>3</strong>*9    <strong>2</strong>*5    <strong>1</strong>*8    <strong>0</strong>*4    <strong>1</strong>*2    <strong>0</strong>*1    <strong>6</strong>*6<br><br>3   14   27   10   8   0   2   0   36<br><br><strong>2.</strong> <br>3 + 14 + 27 + 10 + 8 + 0 + 2 + 0 + 36 -&gt; 100<br><br><strong>3.</strong><br>100 mod 11 -&gt; check digit <var>x</var> = 1<br><br>The social insurance number is 1231210106.<br><br><br><strong>Sample 2</strong>: identifier = 536, birthday = 24th December 1998 -&gt; <strong>536</strong>x<strong>241298</strong><br><br><strong>1.</strong><br><strong>5</strong>*3    <strong>3</strong>*7    <strong>6</strong>*9    <strong>2</strong>*5    <strong>4</strong>*8    <strong>1</strong>*4    <strong>2</strong>*2    <strong>9</strong>*1    <strong>8</strong>*6<br><br>15   21   54   10   32   4   4   9   48<br><br><strong>2.</strong> <br>15 + 21 + 54 + 10 + 32 + 4 + 4 + 9 + 48 -&gt; 197<br><br><strong>3.</strong><br>197 mod 11 -&gt; 10<br><br>The identifier cannot be used. So increment 536 to 537 and rerun the algorithm again.<br><br>537x241298 -&gt; sum = 206 -&gt; check digit <var>x</var> = 8<br><br>The social insurance number is 5378241298.<br><br>Your task is to read strings from the input and to check each social insurance number's validity, to correct it or to write a specific error to the output.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> An integer <var>N</var> for the number of social insurance numbers.<br><strong>Next <var>N</var> lines:</strong> One line for each social insurance number to be verified.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong><var>N</var></strong> lines: For each string, write one of the four outputs:<br><br>1. <const>OK</const>: If the input string is a valid social insurance number.<br>2. The corrected social insurance number if the input string was not a valid social insurance number.<br>3. <const>INVALID SYNTAX</const>: If the input string has an incorrect length or contains an invalid character.<br>4. <const>INVALID DATE</const>: The input string contains an invalid birth date. <br><br>Note: The test cases do not address the issue of an identifier overflow at 999.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">0 &le; <var>N</var> &le; 1000</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">3\n1231210106\n5378241298\n3872231176</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">OK\nOK\nOK</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 124133595123,
  "avatar": 77934649187930,
  "commentCount": 17,
  "upVotes": 7,
  "downVotes": 3,
  "validateAction": {
    "actionId": 634407,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1646596484004,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}