{
  "id": 116,
  "activeVersion": 13,
  "score": 4,
  "votableId": 180,
  "codingamerId": 878974,
  "views": 1022,
  "commentableId": 110,
  "title": "Reverse Polish Notation",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "nicola",
  "publicHandle": "116d0fa94976711d074284d72c2ce3991d4",
  "codingamerHandle": "21bf42f790de293c3aef398f18cd2627479878",
  "lastVersion": {
    "version": 13,
    "data": {
      "title": "Reverse Polish Notation",
      "topics": [
        {
          "labelMap": {
            "2": "Reverse Polish Notation"
          }
        },
        {
          "id": 199,
          "handle": "stack",
          "labelMap": {
            "1": "Stack",
            "2": "Stack"
          },
          "puzzleCount": 2,
          "parentTopicId": 93
        },
        {
          "id": 235,
          "handle": "interpreter",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "interpreter",
            "2": "Interpreters"
          },
          "puzzleCount": 2,
          "parentTopicId": 93
        }
      ],
      "solution": "_=raw_input()\ninstructions=raw_input().split()\npile=[]\n\nwhile instructions:\n    inst=instructions.pop(0)\n    try:\n        pile.append(int(inst))\n    except ValueError:\n        try:\n            if inst==\"POP\":\n                pile.pop()\n            elif inst==\"SWP\":\n                a,b=pile.pop(),pile.pop()\n                pile+=[a,b]\n            elif inst==\"DUP\":\n                pile.append(pile[-1])\n            elif inst==\"ROL\":\n                n=pile.pop()\n                v=pile.pop(-n)\n                pile+=[v]\n            elif inst==\"ADD\":\n                a,b=pile.pop(),pile.pop()\n                pile+=[a+b]\n            elif inst==\"MUL\":\n                a,b=pile.pop(),pile.pop()\n                pile+=[a*b]\n            elif inst==\"SUB\":\n                a,b=pile.pop(),pile.pop()\n                pile+=[b-a]\n            elif inst==\"DIV\":\n                a,b=pile.pop(),pile.pop()\n                pile+=[b/a]\n            elif inst==\"MOD\":\n                a,b=pile.pop(),pile.pop()\n                pile+=[b%a]\n        except IndexError:\n            pile.append(\"ERROR\")\n            break\n        except ZeroDivisionError:\n            pile.append(\"ERROR\")\n            break\n\nprint(\" \".join(str(i) for i in pile))",
      "statement": "You have to correctly interpret [[RPN]] (Reverse Polish Notation) instructions and print the stack when the instruction line has been read (from left to right).\nIf the instruction is a {{number}}, simply put in on top of the stack (on the right).\nThe operations ([[ADD]], [[SUB]], [[MUL]], [[DIV]], [[MOD]]) pop the last two numbers out of the stack and push back on top the result. You can safely assume that the numbers are all integers.\nFor example after, [[2 5 SUB 8]], the stack is [[-3 8]].\n[[DIV]] is the integer quotient and [[MOD]] the remainder of the division.\nThere are also operators that act on the stack itself:\n[[POP]] removes the top number.\n[[DUP]] duplicates the top number.\n[[SWP]] swaps the two top numbers. [[4 5 SWP 6]] swaps {{4}} and {{5}} then pushes {{6}} on top, the stack is [[5 4 6]].\n[[3 ROL]] pops the top number (here itâ€™s {{3}}) then brings to the top the third number of the stack. For example, if the stack is [[1 2 3 4]], [[3 ROL]] changes it in [[1 3 4 2]].",
      "testCases": [
        {
          "title": "Simple operation",
          "isTest": true,
          "testIn": "3\n1 3 ADD",
          "testOut": "4",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "4\n2 40 ADD 12",
          "testOut": "42 12",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "More operations",
          "isTest": true,
          "testIn": "6\n2 4 ADD 5 MUL -4",
          "testOut": "30 -4",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "9\n-3 6 5 MUL ADD 6 SUB 3 DIV",
          "testOut": "7",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Playing with the stack",
          "isTest": true,
          "testIn": "5\n2 5 7 6 SWP",
          "testOut": "2 5 6 7",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "9\n-4 7 10 6 3 ROL 4 SWP DUP",
          "testOut": "-4 10 6 4 7 7",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Stack underflow",
          "isTest": true,
          "testIn": "2\n4 ADD",
          "testOut": "ERROR",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Stack underflow",
          "isTest": false,
          "testIn": "2\n1 SUB",
          "testOut": "ERROR",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "ROL",
          "isTest": true,
          "testIn": "6\n1 2 3 4 3 ROL",
          "testOut": "1 3 4 2",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "ROL",
          "isTest": false,
          "testIn": "6\n1 2 3 4 3 ROL",
          "testOut": "1 3 4 2",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Divide by zero",
          "isTest": true,
          "testIn": "3\n1 0 DIV",
          "testOut": "ERROR",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Divide by zero",
          "isTest": false,
          "testIn": "3\n1 0 DIV",
          "testOut": "ERROR",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Error In Progress",
          "isTest": true,
          "testIn": "4\n1 1 0 DIV",
          "testOut": "1 ERROR",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Error In Progress",
          "isTest": false,
          "testIn": "6\n5 1 0 8 MUL DIV",
          "testOut": "5 ERROR",
          "isValidator": true,
          "needValidation": false
        }
      ],
      "difficulty": "medium",
      "constraints": "0 < N < 100",
      "coverBinaryId": 42866085198943,
      "stubGenerator": "read N:int\nloopline N instruction:word(10)\nwrite answer",
      "inputDescription": "The first line is the number of instructions on the second line.\nThe last line is the instructions line.\n\n6\n2 4 ADD 5 MUL -4",
      "solutionLanguage": "Python",
      "outputDescription": "You must print the stack, the top on the right.\nIf an instruction has fewer operands than needed or if we try to divide by 0, stop everything and print [[ERROR]] after the current stack. The popped values before the crash are still popped. For example if the stack is [[1 2 3 0]] and we try [[MOD]], the stack will be [[1 2]] and you have to print [[1 2 ERROR]].\n\n30 -4"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">You have to correctly interpret <var>RPN</var> (Reverse Polish Notation) instructions and print the stack when the instruction line has been read (from left to right).<br>If the instruction is a <const>number</const>, simply put in on top of the stack (on the right).<br>The operations (<var>ADD</var>, <var>SUB</var>, <var>MUL</var>, <var>DIV</var>, <var>MOD</var>) pop the last two numbers out of the stack and push back on top the result. You can safely assume that the numbers are all integers.<br>For example after, <var>2 5 SUB 8</var>, the stack is <var>-3 8</var>.<br><var>DIV</var> is the integer quotient and <var>MOD</var> the remainder of the division.<br>There are also operators that act on the stack itself:<br><var>POP</var> removes the top number.<br><var>DUP</var> duplicates the top number.<br><var>SWP</var> swaps the two top numbers. <var>4 5 SWP 6</var> swaps <const>4</const> and <const>5</const> then pushes <const>6</const> on top, the stack is <var>5 4 6</var>.<br><var>3 ROL</var> pops the top number (here it&rsquo;s <const>3</const>) then brings to the top the third number of the stack. For example, if the stack is <var>1 2 3 4</var>, <var>3 ROL</var> changes it in <var>1 3 4 2</var>.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\">The first line is the number of instructions on the second line.<br>The last line is the instructions line.<br><br>6<br>2 4 ADD 5 MUL -4</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">You must print the stack, the top on the right.<br>If an instruction has fewer operands than needed or if we try to divide by 0, stop everything and print <var>ERROR</var> after the current stack. The popped values before the crash are still popped. For example if the stack is <var>1 2 3 0</var> and we try <var>MOD</var>, the stack will be <var>1 2</var> and you have to print <var>1 2 ERROR</var>.<br><br>30 -4</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">0 &lt; N &lt; 100</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">3\n1 3 ADD</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">4</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "avatar": 26090852120005,
  "commentCount": 9,
  "upVotes": 6,
  "downVotes": 2,
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}