{
  "id": 6315,
  "activeVersion": 2,
  "score": 8,
  "votableId": 17145889,
  "codingamerId": 3981543,
  "views": 233,
  "commentableId": 17054498,
  "title": "Is the King In Check? (Part 1)",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "DrQuarius",
  "publicHandle": "6315485fe9cf9caf1ca92a435bc291d74c92",
  "codingamerHandle": "15f542cbada8c7d47242ab3377e62d9a3451893",
  "lastVersion": {
    "version": 2,
    "autocloseTime": 1616539199167,
    "data": {
      "title": "Is the King In Check? (Part 1)",
      "topics": [
        {
          "id": 137,
          "handle": "chess",
          "labelMap": {
            "1": "Échecs",
            "2": "Chess"
          },
          "puzzleCount": 5,
          "parentTopicId": 107
        },
        {
          "id": 248,
          "handle": "grid",
          "labelMap": {
            "1": "Grid",
            "2": "Grid"
          },
          "puzzleCount": 3,
          "parentTopicId": 93
        },
        {
          "id": 45,
          "handle": "conditions",
          "labelMap": {
            "1": "Conditions",
            "2": "Conditions"
          },
          "pageTitle": "Conditions: exercises and theory",
          "puzzleCount": 30,
          "parentTopicId": 39,
          "contentDetailsId": 68
        }
      ],
      "solution": "board = (1..8).map{gets.split}\nking_xy = board.map.with_index{ |row,i| row.include?(\"K\")? [row.index(\"K\"), i] : nil }.flatten.compact\nenemy = board.join.scan(/[BNRQ]/).first\nenemy_xy = board.map.with_index{ |row,i| row.include?(enemy)? [\"BNRQ\".chars.map{|e| row.index(e) }.compact , i] : nil }.flatten.compact\nrook = king_xy.zip(enemy_xy).any?{ |a,b| a == b }\nbishop = king_xy.zip(enemy_xy).map{ |a,b| (a - b).abs }.uniq.size == 1\nqueen = rook || bishop\nknight = !queen && king_xy.zip(enemy_xy).map{ |a,b| (a - b).abs }.max < 3\nif enemy == \"R\"\n    ans = rook ? \"Check\" : \"No Check\"\nelsif enemy == \"B\"\n    ans = bishop ? \"Check\" : \"No Check\"\nelsif enemy == \"Q\"\n    ans = queen ? \"Check\" : \"No Check\"\nelsif enemy == \"N\"\n    ans = knight ? \"Check\" : \"No Check\"\nend\nputs ans",
      "statement": "8 x 8 space-separated character rows of <<a chessboard with only two pieces on the board>>. Your King and some enemy piece. Print \"Check\" or \"No Check\" depending on whether the enemy piece is able to attack your king on the next turn.\n\nThe King will be a {{K}} character. The enemy piece will be Bishop ({{B}}), Knight ({{N}}), Rook ({{R}}) or Queen ({{Q}}). The empty positions will be {{_}} in the input. The only two non-{{_}} characters will be {{K}} and one of either {{B}}/{{N}}/{{R}}/{{Q}}.\n\n<<Bishops>> ({{B}}): Attack diagonally in all four directions.\n<<Rooks>> ({{R}}): Attack horizontally/verically in all four directions (can attack along same row or column)\n<<Queens>> ({{Q}}): Attack in all eight of the above directions.\n\n<<Knights>> ({{N}}): Attack in <<L-shapes>> - squares that are two rows and one column away (L), or one row and two columns away (∟). (These happen to be the only eight squares in a 5x5 sub-grid that a Queen can't attack from the same spot).\n\n<<Diagram for the squares a Knight can attack>> (NB: <<x>> is used here to indicate these squares, will never be in the game input):\n\n_ _ _ _ _ _ _ _\n_ _ x _ x _ _ _\n_ x _ _ _ x _ _\n_ _ _ N _ _ _ _\n_ x _ _ _ x _ _\n_ _ x _ x _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n\nIf a King is in any of those <<x>> positions relative to the Knight on the input diagram, then the answer is \"Check\", otherwise \"No Check\".",
      "testCases": [
        {
          "title": "R vs K",
          "isTest": true,
          "testIn": "_ _ R _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ K _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _",
          "testOut": "Check",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ K _ _ _\n_ _ _ _ _ R _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _",
          "testOut": "No Check",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "B vs K",
          "isTest": true,
          "testIn": "_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ K _ _ _ _ _\n_ _ B _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _",
          "testOut": "No Check",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\nK _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ B _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _",
          "testOut": "Check",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Q vs K",
          "isTest": true,
          "testIn": "Q _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ K _\n_ _ _ _ _ _ _ _",
          "testOut": "Check",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ K _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ Q _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _",
          "testOut": "No Check",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "N vs K",
          "isTest": true,
          "testIn": "_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ N _ K _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _",
          "testOut": "No Check",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ K _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ N _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _",
          "testOut": "Check",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 5",
          "isTest": true,
          "testIn": "_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ N _ _\n_ _ _ _ _ _ _ K",
          "testOut": "Check",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "_ _ _ _ _ _ _ Q\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ K",
          "testOut": "Check",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "easy",
      "constraints": "Only two pieces on the board. Only non-space characters in input are {{_}}, one {{K}} and one of {{B}}/{{N}}/{{R}}/{{Q}}. Always an 8x8 size board, always two pieces.",
      "stubGenerator": "loop 8 read chessRow:string(15)\nwrite Check/No Check",
      "inputDescription": "<<8 lines of :>> 8 space-separated characters, mostly underscores with exactly one {{K}} and one of {{B}}/{{N}}/{{R}}/{{Q}}.",
      "solutionLanguage": "Ruby",
      "outputDescription": "<<1 line :>> \"Check\" if the King is in check or \"No Check\" if not."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">8 x 8 space-separated character rows of <strong>a chessboard with only two pieces on the board</strong>. Your King and some enemy piece. Print &quot;Check&quot; or &quot;No Check&quot; depending on whether the enemy piece is able to attack your king on the next turn.<br><br>The King will be a <const>K</const> character. The enemy piece will be Bishop (<const>B</const>), Knight (<const>N</const>), Rook (<const>R</const>) or Queen (<const>Q</const>). The empty positions will be <const>_</const> in the input. The only two non-<const>_</const> characters will be <const>K</const> and one of either <const>B</const>/<const>N</const>/<const>R</const>/<const>Q</const>.<br><br><strong>Bishops</strong> (<const>B</const>): Attack diagonally in all four directions.<br><strong>Rooks</strong> (<const>R</const>): Attack horizontally/verically in all four directions (can attack along same row or column)<br><strong>Queens</strong> (<const>Q</const>): Attack in all eight of the above directions.<br><br><strong>Knights</strong> (<const>N</const>): Attack in <strong>L-shapes</strong> - squares that are two rows and one column away (L), or one row and two columns away (∟). (These happen to be the only eight squares in a 5x5 sub-grid that a Queen can't attack from the same spot).<br><br><strong>Diagram for the squares a Knight can attack</strong> (NB: <strong>x</strong> is used here to indicate these squares, will never be in the game input):<br><br>_ _ _ _ _ _ _ _<br>_ _ x _ x _ _ _<br>_ x _ _ _ x _ _<br>_ _ _ N _ _ _ _<br>_ x _ _ _ x _ _<br>_ _ x _ x _ _ _<br>_ _ _ _ _ _ _ _<br>_ _ _ _ _ _ _ _<br><br>If a King is in any of those <strong>x</strong> positions relative to the Knight on the input diagram, then the answer is &quot;Check&quot;, otherwise &quot;No Check&quot;.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>8 lines of :</strong> 8 space-separated characters, mostly underscores with exactly one <const>K</const> and one of <const>B</const>/<const>N</const>/<const>R</const>/<const>Q</const>.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>1 line :</strong> &quot;Check&quot; if the King is in check or &quot;No Check&quot; if not.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">Only two pieces on the board. Only non-space characters in input are <const>_</const>, one <const>K</const> and one of <const>B</const>/<const>N</const>/<const>R</const>/<const>Q</const>. Always an 8x8 size board, always two pieces.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">_ _ R _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ K _ _ _ _ _\n_ _ _ _ _ _ _ _\n_ _ _ _ _ _ _ _</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">Check</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 155072712794,
  "avatar": 50556106957921,
  "commentCount": 8,
  "upVotes": 9,
  "downVotes": 1,
  "validateAction": {
    "actionId": 535398,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1615657944257,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}