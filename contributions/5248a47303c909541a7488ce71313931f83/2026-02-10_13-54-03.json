{
  "id": 524,
  "activeVersion": 27,
  "score": 4,
  "votableId": 4052801,
  "codingamerId": 153965,
  "views": 128,
  "commentableId": 3997245,
  "title": "Inertia ride",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "[CG]Keelhaul",
  "publicHandle": "5248a47303c909541a7488ce71313931f83",
  "codingamerHandle": "33ab64bba7b3fbcd014b8bb7a50a4684569351",
  "lastVersion": {
    "version": 27,
    "data": {
      "title": "Inertia ride",
      "solution": "import sys\nimport math\n\n# Auto-generated code below aims at helping you parse\n# the standard input according to the problem statement.\ndef log(*m):\n    print(*m, file=sys.stderr)\n\nTRACKS_INERTIA = {\n    '_': -1,\n    '\\\\': 9,\n    '/':-10\n    }\n    \nTRACKS_INERTIA_REVERSE = {\n    '_': -1,\n    '\\\\': -10,\n    '/': 9\n    }\n\ninertia = int(input())\nW, H = [int(i) for i in input().split()]\n\ntracks = ['.'] * W\nfor h in range(H):\n    row = input()\n    log(row)\n    for track_type in TRACKS_INERTIA:\n        for i, char in enumerate(row):\n            if track_type == char: tracks[i] = track_type\n        \nlog('--------------')        \nlog(tracks)\n\ncol = 0\nmaxcol = 0\nreverse = False\nwhile True:\n    track = tracks[col]\n    d_inertia = TRACKS_INERTIA[track] if not reverse else TRACKS_INERTIA_REVERSE[track]\n    inertia += d_inertia\n    \n    if inertia==0 and track=='_': # stuck on horizontal track\n        break\n    \n    if inertia<0: # reverse direction\n        reverse = not reverse\n        inertia *= -1\n    \n    if inertia!=0: # move\n        col += 1 if not reverse else -1\n        if col>maxcol: maxcol = col\n    \n    if col==0 or col==W-1: # back to the start or went to finish \n        break\n\nlog('Inertia left :', inertia)\nlog('max col :', maxcol)\nprint(col)",
      "statement": "<<You're riding a roller coaster track, starting on the left and stopping on the right… or somewhere in the middle, if you run out of inertia !>>\n\nA roller coaster is composed of several tracks in an ASCII form :  horizontal tracks (underscores {{_}}), descending slopes (backslashes {{\\}}), and ascending slopes (slashes {{/}}). Every part that is not a track is represented by a dot {{.}}\nIn this puzzle, every roller coaster is well formed :\n- It starts and ends with a horizontal track.\n- It is not broken, i.e. every ascii column has one and only one track, and tracks are correctly aligned.\n- It has no V-sink {{\\/}} : a descending track cannot be followed by an ascending one.\n\nYour goal is to tell in which position your wagon will stop (counted from  {{0}} for the leftmost track element), given the following rules :\n\n• Your wagon starts on the first track with a given starting inertia.\n• At the beginning of each turn, your inertia will change depending on the track your wagon is on :\n - A horizontal track {{_}} decreases your inertia by {{1}}.\n - A descending track {{\\}} increases your inertia by {{9}}.\n - An ascending track {{/}} decreases your inertia by {{10}}.\n• If your inertia goes negative, your wagon changes direction (switching back your inertia to its absolute value and reversing ascending and descending tracks).\n• After the inertia update, your wagon will move to the next track in its current direction. Null inertia implies staying in place.\n• If your wagon reaches the last track or comes back to the first one, it stops there immediately.\n• A wagon on a horizontal track with an inertia of {{0}} will stop.\n\nKeep in mind that if your wagon's inertia reaches {{0}} on a slope, it is not finally stopped.\n\n<<Example 0:>>\nYour wagon enters a fully-horizontal track on position {{0}} with an inertia of {{2}}. Its inertia decreases to {{1}}, which is positive, so it moves right. Its inertia decreases to {{0}}, so it doesn't move. Since it's stopped on flat tracks, it won't move again, so its final position is {{1}}.\n\n<<Example 1 :>>\nYour wagon is on an ascending track {{/}} with an inertia of {{11}}. The inertia is decreased to {{1}} and then your wagon move to the next track, which is a horizontal track {{_}}. Your inertia then falls down to {{0}} and your wagon stops.\n\n<<Example 2 :>>\nYour wagon is on an ascending track {{/}} with an inertia of {{8}}. The inertia is decreased to {{-2}} so your wagon changes direction and move to the previous track with an inertia of {{2}}.\n\n<<Example 3 :>>\nYour wagon is on an ascending track {{/}} with an inertia of {{10}}. The inertia is decreased to {{0}} so your wagon doesn't move. It is not stopped however, since in the next turn, the inertia will be decreased again to {{-10}}. Your wagon will then change direction and move to the previous track with an inertia of {{10}}.",
      "testCases": [
        {
          "title": "Basic roller coaster",
          "isTest": true,
          "testIn": "2\n8 4\n_.......\n.\\....._\n..\\.../.\n...\\_/..",
          "testOut": "7",
          "isValidator": false
        },
        {
          "title": "Basic roller coaster",
          "isTest": false,
          "testIn": "2\n7 4\n_......\n.\\.....\n..\\..._\n...\\_/.",
          "testOut": "6",
          "isValidator": true
        },
        {
          "title": "Not enough inertia",
          "isTest": true,
          "testIn": "2\n9 4\n_......._\n.\\...../.\n..\\.../..\n...\\_/...",
          "testOut": "4",
          "isValidator": false
        },
        {
          "title": "Not enough inertia",
          "isTest": false,
          "testIn": "2\n8 4\n......._\n_...../.\n.\\.../..\n..\\_/...",
          "testOut": "3",
          "isValidator": true
        },
        {
          "title": "Failed start",
          "isTest": true,
          "testIn": "1\n4 3\n_...\n.\\..\n..\\_",
          "testOut": "0",
          "isValidator": false
        },
        {
          "title": "Failed start",
          "isTest": false,
          "testIn": "1\n6 4\n_.....\n.\\....\n..\\_..\n....\\_",
          "testOut": "0",
          "isValidator": true
        },
        {
          "title": "Back to the start",
          "isTest": true,
          "testIn": "30\n10 6\n........._\n......../.\n......./..\n_...../...\n.\\.../....\n..\\_/.....",
          "testOut": "0",
          "isValidator": false
        },
        {
          "title": "Back to the start",
          "isTest": false,
          "testIn": "20\n7 4\n......_\n...../.\n_.../..\n.\\_/...",
          "testOut": "0",
          "isValidator": true
        },
        {
          "title": "Ups and downs",
          "isTest": true,
          "testIn": "23\n22 7\n....................._\n_.................../.\n.\\................./..\n..\\...._/\\......../...\n...\\__/...\\....._/....\n...........\\.../......\n............\\_/.......",
          "testOut": "4",
          "isValidator": false
        },
        {
          "title": "Ups and downs",
          "isTest": false,
          "testIn": "10\n24 6\n......................._\n_...................../.\n.\\........_........../..\n..\\_...._/.\\......../...\n....\\__/....\\....../....\n.............\\_/\\_/.....",
          "testOut": "14",
          "isValidator": true
        },
        {
          "title": "Good roller coaster",
          "isTest": true,
          "testIn": "15\n39 11\n_......................................\n.\\...................................._\n..\\................................../.\n...\\................................/..\n....\\........._..._................/...\n.....\\......./.\\_/.\\............../....\n......\\...../.......\\..........._/.....\n.......\\.../.........\\........./.......\n........\\_/...........\\......./........\n.......................\\...../.........\n........................\\___/..........",
          "testOut": "38",
          "isValidator": false
        },
        {
          "title": "Good roller coaster",
          "isTest": false,
          "testIn": "5\n40 10\n_.......................................\n.\\......................................\n..\\...................................._\n...\\................................../.\n....\\............_.................../..\n.....\\........../.\\................./...\n......\\......../...\\_...../\\......./....\n.......\\....../......\\.../..\\...../.....\n........\\..../........\\_/....\\.../......\n.........\\__/.................\\_/.......",
          "testOut": "39",
          "isValidator": true
        },
        {
          "title": "Unstable balance",
          "isTest": true,
          "testIn": "7\n16 5\n_........._.....\n.\\......./.\\....\n..\\...../...\\...\n...\\.../.....\\..\n....\\_/.......\\_",
          "testOut": "10",
          "isValidator": false
        },
        {
          "title": "Unstable balance",
          "isTest": false,
          "testIn": "10\n21 5\n_............_.......\n.\\........../.\\......\n..\\_......./...\\.....\n....\\...__/.....\\..._\n.....\\_/.........\\_/.",
          "testOut": "13",
          "isValidator": true
        },
        {
          "title": "Huge roller coaster",
          "isTest": true,
          "testIn": "22\n67 15\n_................................................................._\n.\\.............................................................../.\n..\\....................................................._......./..\n...\\..............................................__.../.\\...../...\n....\\................._........................../..\\_/...\\.../....\n.....\\.............../.\\......................../..........\\_/.....\n......\\............./...\\_...................../...................\n.......\\.........__/......\\_................../....................\n........\\......./...........\\_.............../.....................\n.........\\...../..............\\............./......................\n..........\\.../................\\.........../.......................\n...........\\_/..................\\........./........................\n.................................\\......./.........................\n..................................\\...../..........................\n...................................\\___/...........................",
          "testOut": "18",
          "isValidator": false
        },
        {
          "title": "Huge roller coaster",
          "isTest": false,
          "testIn": "23\n68 15\n_.................................................................._\n.\\................................................................/.\n..\\......................................................_......./..\n...\\...............................................__.../.\\...../...\n....\\.................._........................../..\\_/...\\.../....\n.....\\................/.\\......................../..........\\_/.....\n......\\............../...\\_...................../...................\n.......\\..........__/......\\_................../....................\n........\\......../...........\\_.............../.....................\n.........\\....../..............\\............./......................\n..........\\..../................\\.........../.......................\n...........\\__/..................\\........./........................\n..................................\\......./.........................\n...................................\\...../..........................\n....................................\\___/...........................",
          "testOut": "12",
          "isValidator": true
        }
      ],
      "constraints": "0 < [[inertia]] < 100\n0 < [[W]], [[H]] < 100",
      "stubGenerator": "read inertia:int\nread W:int H:int\nloop H read row:string(128)\n\nwrite answer",
      "inputDescription": "[[inertia]] : the starting inertia of your wagon\n[[W]] [[H]] : the width and height of the roller coaster\nNext [[H]] lines : the ASCII roller coaster",
      "solutionLanguage": "Python3",
      "outputDescription": "An integer [[i]] giving the {{0}}-based track position where your wagon will stop."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h1><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h1>\n   <span class=\"question-statement\"><strong>You're riding a roller coaster track, starting on the left and stopping on the right&hellip; or somewhere in the middle, if you run out of inertia !</strong><br><br>A roller coaster is composed of several tracks in an ASCII form :  horizontal tracks (underscores <const>_</const>), descending slopes (backslashes <const>\\</const>), and ascending slopes (slashes <const>/</const>). Every part that is not a track is represented by a dot <const>.</const><br>In this puzzle, every roller coaster is well formed&nbsp;:<br>- It starts and ends with a horizontal track.<br>- It is not broken, i.e. every ascii column has one and only one track, and tracks are correctly aligned.<br>- It has no V-sink <const>\\/</const>&nbsp;: a descending track cannot be followed by an ascending one.<br><br>Your goal is to tell in which position your wagon will stop (counted from  <const>0</const> for the leftmost track element), given the following rules&nbsp;:<br><br>&bull; Your wagon starts on the first track with a given starting inertia.<br>&bull; At the beginning of each turn, your inertia will change depending on the track your wagon is on&nbsp;:<br> - A horizontal track <const>_</const> decreases your inertia by <const>1</const>.<br> - A descending track <const>\\</const> increases your inertia by <const>9</const>.<br> - An ascending track <const>/</const> decreases your inertia by <const>10</const>.<br>&bull; If your inertia goes negative, your wagon changes direction (switching back your inertia to its absolute value and reversing ascending and descending tracks).<br>&bull; After the inertia update, your wagon will move to the next track in its current direction. Null inertia implies staying in place.<br>&bull; If your wagon reaches the last track or comes back to the first one, it stops there immediately.<br>&bull; A wagon on a horizontal track with an inertia of <const>0</const> will stop.<br><br>Keep in mind that if your wagon's inertia reaches <const>0</const> on a slope, it is not finally stopped.<br><br><strong>Example 0:</strong><br>Your wagon enters a fully-horizontal track on position <const>0</const> with an inertia of <const>2</const>. Its inertia decreases to <const>1</const>, which is positive, so it moves right. Its inertia decreases to <const>0</const>, so it doesn't move. Since it's stopped on flat tracks, it won't move again, so its final position is <const>1</const>.<br><br><strong>Example 1&nbsp;:</strong><br>Your wagon is on an ascending track <const>/</const> with an inertia of <const>11</const>. The inertia is decreased to <const>1</const> and then your wagon move to the next track, which is a horizontal track <const>_</const>. Your inertia then falls down to <const>0</const> and your wagon stops.<br><br><strong>Example 2&nbsp;:</strong><br>Your wagon is on an ascending track <const>/</const> with an inertia of <const>8</const>. The inertia is decreased to <const>-2</const> so your wagon changes direction and move to the previous track with an inertia of <const>2</const>.<br><br><strong>Example 3&nbsp;:</strong><br>Your wagon is on an ascending track <const>/</const> with an inertia of <const>10</const>. The inertia is decreased to <const>0</const> so your wagon doesn't move. It is not stopped however, since in the next turn, the inertia will be decreased again to <const>-10</const>. Your wagon will then change direction and move to the previous track with an inertia of <const>10</const>.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><var>inertia</var>&nbsp;: the starting inertia of your wagon<br><var>W</var> <var>H</var>&nbsp;: the width and height of the roller coaster<br>Next <var>H</var> lines&nbsp;: the ASCII roller coaster</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">An integer <var>i</var> giving the <const>0</const>-based track position where your wagon will stop.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">0 &lt; <var>inertia</var> &lt; 100<br>0 &lt; <var>W</var>, <var>H</var> &lt; 100</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">2\n8 4\n_.......\n.\\....._\n..\\.../.\n...\\_/..</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">7</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 292353296499,
  "avatar": 4367050238110,
  "commentCount": 9,
  "upVotes": 4,
  "downVotes": 0,
  "validateAction": {
    "actionId": 45164,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}