{
  "id": 110532,
  "activeVersion": 15,
  "score": 5,
  "votableId": 35484458,
  "codingamerId": 6143448,
  "views": 152,
  "commentableId": 35329688,
  "title": "Reverse Polish Notation Calculator",
  "status": "ACCEPTED",
  "type": "CLASHOFCODE",
  "nickname": "Elidath",
  "publicHandle": "110532f3ac8b15e267c487c2d0dd8aa5341d6e",
  "codingamerHandle": "30f00c0099af45bbd4f54920cdf63d558443416",
  "lastVersion": {
    "version": 15,
    "autocloseTime": 1733538651548,
    "freezeTime": 1731551451548,
    "data": {
      "title": "Reverse Polish Notation Calculator",
      "topics": [],
      "fastest": true,
      "reverse": false,
      "shortest": true,
      "solution": "using System;\nusing System.Collections.Generic;\n\n\nclass Solution\n{\n    static void Main(string[] args)\n    {\n        string formula = Console.ReadLine();\n        Stack<int> stack = new();\n\n        foreach(var str in formula.Split())\n        {\n            if(str == \"add\")\n            {\n                var a = stack.Pop();\n                var b = stack.Pop();\n                stack.Push(a + b);\n            }\n            else if(str == \"neg\")\n            {\n                var a = stack.Pop();\n                stack.Push(-a);\n            }\n            else if(str == \"acc\")\n            {\n                var a = stack.Pop();\n                var acc = 0;\n                for(int i = 0; i < a; i++)\n                    acc += stack.Pop();\n                stack.Push(acc);\n            }\n            else\n            {\n                stack.Push(int.Parse(str));\n            }\n        }\n        Console.WriteLine(stack.Pop());\n    }\n}",
      "statement": "Write a calculator program to evaluate a [[formula]] written in the reverse Polish notation.\nIn the reverse Polish notation the operators follow their operands, e.g. : \"1 + 2 + 3\" => \"1 2 add 3 add\"\nTo evaluate the [[formula]] a stack is required to store the operands. \nAn operator consumes the stack of as many operands as required and push the result on the top of the stack.\n{{a}} : First value in stack\n{{b}} : Second value in stack\nThe calculator can only evaluate the following <<operators>> : \n   - {{add}} : Add, {{a}} + {{b}}\n   - {{neg}} : Negate, {{-a}}\n   - {{acc}} : Accumulate, sum of the next {{a}} values in the stack",
      "testCases": [
        {
          "title": "Add : (10) + (-12)",
          "isTest": true,
          "testIn": "-12 10 add",
          "testOut": "-2",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator Add : (-5) + (2)",
          "isTest": false,
          "testIn": "2 -5 add",
          "testOut": "-3",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Negate : -(-20)",
          "isTest": true,
          "testIn": "-20 neg",
          "testOut": "20",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator Negate : -(21)",
          "isTest": false,
          "testIn": "21 neg",
          "testOut": "-21",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Accumulate : sum(9..1)",
          "isTest": true,
          "testIn": "1 2 3 4 5 6 7 8 9 9 acc",
          "testOut": "45",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator Accumulate : sum(-9..1)",
          "isTest": false,
          "testIn": "-1 -2 -3 -4 -5 -6 -7 -8 -9 9 acc",
          "testOut": "-45",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Add negate : -( (-11) + (10) )",
          "isTest": true,
          "testIn": "10 -11 add neg",
          "testOut": "1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator Add negate : -( (99) + (-21) )",
          "isTest": false,
          "testIn": "-21 99 add neg",
          "testOut": "-78",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "All 3 in one",
          "isTest": true,
          "testIn": "-101 66 21 3 acc neg -5 add",
          "testOut": "9",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator all 3 in one",
          "isTest": false,
          "testIn": "-5 -76 33 3 acc neg 99 add",
          "testOut": "147",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Long formula",
          "isTest": true,
          "testIn": "1 2 neg add 7 -10 88 neg 100 98 neg 4 acc add add",
          "testOut": "-90",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator long formula",
          "isTest": false,
          "testIn": "1 99 neg add 7 -10 88 neg -100 98 neg 4 acc add add",
          "testOut": "-387",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Long formula, zero accumulate",
          "isTest": true,
          "testIn": "1 2 neg add 7 -10 88 neg 100 98 neg 0 acc add add add add add neg add",
          "testOut": "88",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator long formula, zero accumulate",
          "isTest": false,
          "testIn": "-56 99 neg add 19 20 -8 neg -101 74 neg 0 acc add add add add add neg add",
          "testOut": "-27",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "constraints": "[[formula]] : Contains only valid operators and operand values\n{{a}}, {{b}} are integers.\n-1000 ≤ {{a}}, {{b}} ≤ 1000 \nFor the operation {{acc}}, its operand {{a}} is only positive : 0 ≤ {{a}}",
      "stubGenerator": "read formula:string(1024)\nwrite result",
      "inputDescription": "<<One Line  :>> A string [[formula]] that always produces a valid output",
      "solutionLanguage": "C#",
      "outputDescription": "<<One line :>> the [[result]] of [[formula]]"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Write a calculator program to evaluate a <var>formula</var> written in the reverse Polish notation.<br>In the reverse Polish notation the operators follow their operands, e.g. : &quot;1 + 2 + 3&quot; =&gt; &quot;1 2 add 3 add&quot;<br>To evaluate the <var>formula</var> a stack is required to store the operands. <br>An operator consumes the stack of as many operands as required and push the result on the top of the stack.<br><const>a</const> : First value in stack<br><const>b</const> : Second value in stack<br>The calculator can only evaluate the following <strong>operators</strong> : <br>   - <const>add</const> : Add, <const>a</const> + <const>b</const><br>   - <const>neg</const> : Negate, <const>-a</const><br>   - <const>acc</const> : Accumulate, sum of the next <const>a</const> values in the stack</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>One Line  :</strong> A string <var>formula</var> that always produces a valid output</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>One line :</strong> the <var>result</var> of <var>formula</var></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\"><var>formula</var> : Contains only valid operators and operand values<br><const>a</const>, <const>b</const> are integers.<br>-1000 &le; <const>a</const>, <const>b</const> &le; 1000 <br>For the operation <const>acc</const>, its operand <const>a</const> is only positive : 0 &le; <const>a</const></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">-12 10 add</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">-2</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 37285559145,
  "avatar": 131486540019440,
  "commentCount": 23,
  "upVotes": 7,
  "downVotes": 2,
  "validateAction": {
    "actionId": 1040312,
    "progress": 1,
    "alreadyDone": false
  },
  "denyAction": {
    "actionId": 1038470,
    "progress": 0.3333333333333333,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1733443034799,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}