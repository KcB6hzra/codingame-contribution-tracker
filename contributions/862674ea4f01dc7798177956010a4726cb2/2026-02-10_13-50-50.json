{
  "id": 862,
  "activeVersion": 9,
  "score": 6,
  "votableId": 6073851,
  "codingamerId": 1448831,
  "views": 234,
  "commentableId": 6014841,
  "title": "Bulgarian solitaire",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "cubomedusae",
  "publicHandle": "862674ea4f01dc7798177956010a4726cb2",
  "codingamerHandle": "13b9690eb13ed618990d5470e6d41f3c1388441",
  "lastVersion": {
    "version": 9,
    "autocloseTime": 1532016703560,
    "data": {
      "title": "Bulgarian solitaire",
      "topics": [
        {
          "id": 46,
          "handle": "loops",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Boucles",
            "2": "Loops"
          },
          "pageTitle": "Loops: exercises and theory",
          "puzzleCount": 42,
          "parentTopicId": 39,
          "contentDetailsId": 71
        },
        {
          "id": 116,
          "handle": "cycle-detection",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Cycle detection",
            "2": "Cycle detection"
          },
          "puzzleCount": 2,
          "parentTopicId": 93
        }
      ],
      "solution": "# This Bulgarian solitaire problem can be solved faster using its triangular number property.\n# This is a more 'bruteforce' approach.\n\nn = int(input())\npile = [int(i) for i in input().split()]\n\npile = [i for i in pile if i > 0]  # remove empty piles\npile.sort()  # sort piles\n\nstate = []  # save game states\n\nwhile True:\n    state.append(pile)\n    pile_length = len(pile)\n    pile = [i-1 for i in pile if i > 1]\n    pile.append(pile_length)\n    pile.sort()\n    \n    if pile in state:\n        state.append(pile)\n        break\n        \nprint (len(state) - state.index(state[-1]) - 1)\n",
      "statement": "In Bulgarian solitaire you are given piles of cards. In each turn you do 2 steps:\n<<Step 1:>> Take a card from each pile. Piles with no cards are ignored.\n<<Step 2:>> Make a new pile with the cards taken in Step 1.\n\nYou repeat the steps until you find a <<loop>>, meaning a configuration which has appeared previously. Again, piles with no cards are ignored. Also, ordering is not important, e.g. 1 card in the first pile and 2 cards in the second pile is considered the same as 2 cards in the first and 1 card in the second.\n\nCard values are irrelevant.\n\nThe goal of this puzzle is to find the [[length]] of the loop (there is always a loop).\n\nIn the examples below, Turn 0 refers to the starting number of cards in each pile, and the other Turns refer to the number of cards in each pile (including a newly created pile) after each turn.\n\n<<Example 1:>>\n\n`Turn 0 | 3\nTurn 1 | 2 1\nTurn 2 | 1 0 2`\nIgnoring ordering and piles with no cards, Turn 1 and Turn 2 show the same configuration of 1 2. The [[length]] of the loop is 1.\n\n<<Example 2:>>\n\n`Turn 0 | 1 3 3 4\nTurn 1 | 0 2 2 3 4\nTurn 2 | 0 1 1 2 3 4\nTurn 3 | 0 0 0 1 2 3 5\nTurn 4 | 0 0 0 0 1 2 4 4\nTurn 5 | 0 0 0 0 0 1 3 3 4`\nIgnoring ordering and piles with no cards, Turn 0 and Turn 5 show the same configuration of 1 3 3 4. The [[length]] of the loop is 5.\n\n<<Example 3:>>\n\n`Turn 0 | 1 0 5 1\nTurn 1 | 0 0 4 0 3\nTurn 2 | 0 0 3 0 2 2\nTurn 3 | 0 0 2 0 1 1 3\nTurn 4 | 0 0 1 0 0 0 2 4\nTurn 5 | 0 0 0 0 0 0 1 3 3\nTurn 6 | 0 0 0 0 0 0 0 2 2 3`\nIgnoring ordering and piles with no cards, Turn 2 and Turn 6 show the same configuration of 2 2 3. The [[length]] of the loop is 4.\n\n\nReference: https://en.wikipedia.org/wiki/Bulgarian_solitaire",
      "testCases": [
        {
          "title": "1 pile",
          "isTest": true,
          "testIn": "1\n3",
          "testOut": "1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "1 pile",
          "isTest": false,
          "testIn": "1\n4",
          "testOut": "3",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "3 piles",
          "isTest": true,
          "testIn": "3\n5 4 2",
          "testOut": "5",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "3 piles",
          "isTest": false,
          "testIn": "3\n8 11 3",
          "testOut": "7",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Large piles",
          "isTest": true,
          "testIn": "2\n1000 950",
          "testOut": "62",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Large piles",
          "isTest": false,
          "testIn": "5\n999 421 998 777 972",
          "testOut": "91",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Empty piles",
          "isTest": true,
          "testIn": "7\n0 0 7 421 0 0 7",
          "testOut": "1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Empty piles",
          "isTest": false,
          "testIn": "13\n0 8 75 996 0 21 0 5 98 24 743 219 0",
          "testOut": "66",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Many piles",
          "isTest": true,
          "testIn": "30\n149 173 180 166 33 100 164 78 94 17 27 151 53 93 20 188 101 197 70 159 69 15 185 76 82 171 70 180 129 155",
          "testOut": "82",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Many piles",
          "isTest": false,
          "testIn": "25\n111 84 51 158 83 1 42 184 34 51 89 192 46 7 94 100 166 156 176 154 81 84 3 145 151",
          "testOut": "70",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "1 ≤ [[N]] ≤ 100",
      "stubGenerator": "read N:int\nloopline N C:int\nwrite 1",
      "inputDescription": "<<Line 1:>> An integer [[N]] for the initial number of piles.\n<<Line 2:>> [[N]] space-separated integers [[C]] representing the initial number of cards in each pile.",
      "solutionLanguage": "Python3",
      "outputDescription": "<<Line 1:>> An integer representing the [[length]] of the loop."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">In Bulgarian solitaire you are given piles of cards. In each turn you do 2 steps:<br><strong>Step 1:</strong> Take a card from each pile. Piles with no cards are ignored.<br><strong>Step 2:</strong> Make a new pile with the cards taken in Step 1.<br><br>You repeat the steps until you find a <strong>loop</strong>, meaning a configuration which has appeared previously. Again, piles with no cards are ignored. Also, ordering is not important, e.g. 1 card in the first pile and 2 cards in the second pile is considered the same as 2 cards in the first and 1 card in the second.<br><br>Card values are irrelevant.<br><br>The goal of this puzzle is to find the <var>length</var> of the loop (there is always a loop).<br><br>In the examples below, Turn 0 refers to the starting number of cards in each pile, and the other Turns refer to the number of cards in each pile (including a newly created pile) after each turn.<br><br><strong>Example 1:</strong><br><br><pre style=\"font-family: monospace\">Turn 0 | 3<br>Turn 1 | 2 1<br>Turn 2 | 1 0 2</pre><br>Ignoring ordering and piles with no cards, Turn 1 and Turn 2 show the same configuration of 1 2. The <var>length</var> of the loop is 1.<br><br><strong>Example 2:</strong><br><br><pre style=\"font-family: monospace\">Turn 0 | 1 3 3 4<br>Turn 1 | 0 2 2 3 4<br>Turn 2 | 0 1 1 2 3 4<br>Turn 3 | 0 0 0 1 2 3 5<br>Turn 4 | 0 0 0 0 1 2 4 4<br>Turn 5 | 0 0 0 0 0 1 3 3 4</pre><br>Ignoring ordering and piles with no cards, Turn 0 and Turn 5 show the same configuration of 1 3 3 4. The <var>length</var> of the loop is 5.<br><br><strong>Example 3:</strong><br><br><pre style=\"font-family: monospace\">Turn 0 | 1 0 5 1<br>Turn 1 | 0 0 4 0 3<br>Turn 2 | 0 0 3 0 2 2<br>Turn 3 | 0 0 2 0 1 1 3<br>Turn 4 | 0 0 1 0 0 0 2 4<br>Turn 5 | 0 0 0 0 0 0 1 3 3<br>Turn 6 | 0 0 0 0 0 0 0 2 2 3</pre><br>Ignoring ordering and piles with no cards, Turn 2 and Turn 6 show the same configuration of 2 2 3. The <var>length</var> of the loop is 4.<br><br><br>Reference: https://en.wikipedia.org/wiki/Bulgarian_solitaire</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> An integer <var>N</var> for the initial number of piles.<br><strong>Line 2:</strong> <var>N</var> space-separated integers <var>C</var> representing the initial number of cards in each pile.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>Line 1:</strong> An integer representing the <var>length</var> of the loop.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">1 &le; <var>N</var> &le; 100</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">1\n3</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">1</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 240719047418,
  "avatar": 13299201749477,
  "commentCount": 6,
  "upVotes": 6,
  "downVotes": 0,
  "validateAction": {
    "actionId": 238127,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}