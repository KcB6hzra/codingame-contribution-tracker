{
  "id": 5942,
  "activeVersion": 36,
  "score": 23,
  "votableId": 16425858,
  "codingamerId": 3354337,
  "views": 986,
  "commentableId": 16338069,
  "title": "5D Chests",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Westicles",
  "publicHandle": "594260c73701c441f17acd586a15d3e159e3",
  "codingamerHandle": "613b8dd7e3f3f21da489c27a933e15d67334533",
  "lastVersion": {
    "version": 36,
    "autocloseTime": 1616315019621,
    "data": {
      "title": "5D Chests",
      "topics": [
        {
          "id": 62,
          "handle": "flood-fill",
          "labelMap": {
            "1": "Remplissage par diffusion",
            "2": "Flood fill"
          },
          "pageTitle": "Flood fill: exercises and theory",
          "puzzleCount": 13,
          "parentTopicId": 41,
          "contentDetailsId": 81
        }
      ],
      "solution": "#include <bits/stdc++.h>\nusing namespace std;\nint N,C,sz,A[20][20][20][20][20];\nvector<int> P;\nint isprime(int n){\n  for(int i=3;(i*i)<=n;i+=2){\n    if(n%i==0)return 0;}\n  return 1;}\nvoid flood(int x,int y,int z,int w,int v){\n  if(A[x][y][z][w][v]%2==0)return;\n  A[x][y][z][w][v]=P[1+((x+1)*(y+1)*(z+1)*(w+1)*(v+1))%C];\n  if(A[x][y][z][w][v]==0)return;\n  sz++;\n  A[x][y][z][w][v]=2;\n  if(x<N-1)flood(x+1,y,z,w,v);\n  if(x>0)flood(x-1,y,z,w,v);\n  if(y<N-1)flood(x,y+1,z,w,v);\n  if(y>0)flood(x,y-1,z,w,v);\n  if(z<N-1)flood(x,y,z+1,w,v);\n  if(z>0)flood(x,y,z-1,w,v);\n  if(w<N-1)flood(x,y,z,w+1,v);\n  if(w>0)flood(x,y,z,w-1,v);\n  if(v<N-1)flood(x,y,z,w,v+1);\n  if(v>0)flood(x,y,z,w,v-1);}\nint main(){\n  memset(A,-1,sizeof(A));\n  cin>>N>>C; \n  P.resize(C+3,0);\n  P[2]=1;\n  for(int i=3;i<C+3;i+=2)if(isprime(i))P[i]=1;\n  int num_rooms=0,big_room=0,chests_total=0;\n  //0=barrier, 1=gold, 2=gold already found\n  for(int x=0;x<N;x++){\n    for(int y=0;y<N;y++){\n      for(int z=0;z<N;z++){\n        for(int w=0;w<N;w++){\n          for(int v=0;v<N;v++){\n            if(A[x][y][z][w][v]%2==0)continue;\n            A[x][y][z][w][v]=P[1+((x+1)*(y+1)*(z+1)*(w+1)*(v+1))%C];\n            if(A[x][y][z][w][v]==0)continue;\n            num_rooms++;\n            sz=0;\n            flood(x,y,z,w,v);\n            chests_total+=sz;\n            if(sz>big_room)big_room=sz;}}}}}\n  cout<<chests_total<<endl;\n  cout<<num_rooms<<endl;\n  cout<<big_room;}",
      "statement": "Pirx the Pilot is flying his spaceship through hyperspace in search of gold.  Given a 5D realm with all dimensions ranging from 1 to N, each location (x,y,z,w,v) is either a chest of gold (1) or a barrier (0) as determined by the function:\n\nf(x,y,z,w,v)=isprime(1+ mod(x*y*z*w*v,C)) \n\nThe barriers form rooms in hyperspace (Pirx can only move along the five dimensions, no diagonals). Help Pirx search every room and find all the gold.",
      "testCases": [
        {
          "title": "N=5",
          "isTest": true,
          "testIn": "5\n8",
          "testOut": "1141\n236\n216",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "N=5",
          "isTest": false,
          "testIn": "5\n23",
          "testOut": "1382\n74\n651",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "N=10",
          "isTest": true,
          "testIn": "10\n77",
          "testOut": "29552\n3064\n9090",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "N=10",
          "isTest": false,
          "testIn": "10\n7777",
          "testOut": "32251\n3562\n23325",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "N=15",
          "isTest": true,
          "testIn": "15\n11",
          "testOut": "268939\n1611\n49408",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "N=15",
          "isTest": false,
          "testIn": "15\n1111",
          "testOut": "145380\n38105\n22030",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "N=20",
          "isTest": true,
          "testIn": "20\n9",
          "testOut": "653072\n143339\n271",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "N=20",
          "isTest": false,
          "testIn": "20\n99",
          "testOut": "891383\n137353\n182225",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "3 ≤ [[N]] ≤ 20\n2 ≤ [[C]] ≤ 10,000",
      "coverBinaryId": 56086728277501,
      "stubGenerator": "read N:int\nread C:int\nwrite number of gold chests\nnumber of rooms that contain at least one chest\nlargest number of gold chests in one room",
      "inputDescription": "<<First line:>>  The size [[N]] of each dimension.\n<<Second line:>>  The constant [[C]] for terrain generation.",
      "solutionLanguage": "C++",
      "outputDescription": "<<First line:>>  The total number of gold chests.\n<<Second line:>>  The number of rooms that contain at least one chest.\n<<Third line:>>  The largest number of gold chests in one room."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Pirx the Pilot is flying his spaceship through hyperspace in search of gold.  Given a 5D realm with all dimensions ranging from 1 to N, each location (x,y,z,w,v) is either a chest of gold (1) or a barrier (0) as determined by the function:<br><br>f(x,y,z,w,v)=isprime(1+ mod(x*y*z*w*v,C)) <br><br>The barriers form rooms in hyperspace (Pirx can only move along the five dimensions, no diagonals). Help Pirx search every room and find all the gold.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>First line:</strong>  The size <var>N</var> of each dimension.<br><strong>Second line:</strong>  The constant <var>C</var> for terrain generation.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>First line:</strong>  The total number of gold chests.<br><strong>Second line:</strong>  The number of rooms that contain at least one chest.<br><strong>Third line:</strong>  The largest number of gold chests in one room.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">3 &le; <var>N</var> &le; 20<br>2 &le; <var>C</var> &le; 10,000</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">5\n8</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">1141\n236\n216</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 156130858579,
  "avatar": 79146641399080,
  "commentCount": 31,
  "upVotes": 33,
  "downVotes": 10,
  "validateAction": {
    "actionId": 526173,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1614599810967,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}