{
  "id": 187,
  "activeVersion": 6,
  "score": 4,
  "votableId": 552,
  "codingamerId": 1201783,
  "views": 225,
  "commentableId": 181,
  "title": "Electrical grid",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "qsantos",
  "publicHandle": "18704d8e44870da4b22e6af77a60ef27fdb",
  "codingamerHandle": "9f252c61454ad1a933ee71419c83cfff3871021",
  "lastVersion": {
    "version": 6,
    "data": {
      "title": "Electrical grid",
      "topics": [],
      "solution": "import collections\nimport heapq\n\n# input\nn_nodes, n_edges = map(int, input().split())\nedges = collections.defaultdict(set)\nfor _ in range(n_edges):\n    node_a, node_b, cost = edge = tuple(map(int, input().split()))\n    edges[node_a].add((cost, node_b, edge))\n    edges[node_b].add((cost, node_a, edge))\n\n# Prim's algorithm\nstarting_node = 1\nq = list(edges[starting_node])\nselected_edges = set()\nheapq.heapify(q)\nspanned = {starting_node}\nwhile q:\n    _, node, edge = heapq.heappop(q)\n\n    if node not in spanned:\n        spanned.add(node)\n        selected_edges.add(edge)\n\n        for x in edges[node]:\n            heapq.heappush(q, x)\n\n# output\ntotal_cost = sum(x[2] for x in selected_edges)\nprint(len(selected_edges), total_cost)\nfor edge in sorted(selected_edges):\n    print(*edge)",
      "statement": "Edison is bringing electricity to [[N]] houses. He has already set up a power generator in house 1 and wants to connect it to the other houses. There are [[M]] pairs of houses that can be connected together, and we know how much making a link between each pair costs. Your job is to find which houses to link so that all the houses are connected to house 1 (directly or through other houses), while minimizing the total cost.\n\n* **there is always a solution that connects all houses**\n* **the total distance from the generator to a house does not matter, as long as there is a path between them**",
      "testCases": [
        {
          "title": "Triangle",
          "isTest": true,
          "testIn": "3 3\n1 2 1\n2 3 99\n1 3 7",
          "testOut": "2 8\n1 2 1\n1 3 7",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Triangle",
          "isTest": false,
          "testIn": "3 3\n1 2 76\n2 3 2\n1 3 21",
          "testOut": "2 23\n1 3 21\n2 3 2",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Some houses",
          "isTest": true,
          "testIn": "10 17\n1 6 2\n6 7 7\n1 2 3\n6 5 1\n7 5 6\n7 8 15\n2 4 16\n4 5 11\n5 8 5\n2 3 17\n4 3 8\n4 9 4\n5 9 10\n8 9 12\n3 9 18\n9 10 9\n8 10 13",
          "testOut": "9 48\n1 2 3\n1 6 2\n4 3 8\n4 9 4\n5 8 5\n5 9 10\n6 5 1\n7 5 6\n9 10 9",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Some houses",
          "isTest": false,
          "testIn": "10 21\n6 4 6\n5 4 4\n6 5 3\n5 3 2\n4 3 2\n6 9 9\n5 9 9\n2 9 8\n5 2 9\n3 2 8\n4 7 9\n2 7 7\n9 8 18\n7 10 5\n7 1 4\n1 10 1\n10 8 3\n1 8 4\n2 10 9\n2 8 10\n3 7 9",
          "testOut": "9 38\n1 10 1\n2 7 7\n2 9 8\n3 2 8\n4 3 2\n5 3 2\n6 5 3\n7 1 4\n10 8 3",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Lonely house",
          "isTest": true,
          "testIn": "1 0",
          "testOut": "0 0",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Lonely house",
          "isTest": false,
          "testIn": "1 0",
          "testOut": "0 0",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Fully connectable",
          "isTest": true,
          "testIn": "4 6\n1 2 45\n1 3 23\n1 4 5\n2 3 73\n2 4 91\n3 4 90",
          "testOut": "3 73\n1 2 45\n1 3 23\n1 4 5",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Fully connectable",
          "isTest": false,
          "testIn": "5 10\n5 4 35\n5 3 353\n5 2 920\n5 1 592\n4 3 277\n4 2 268\n4 1 751\n3 2 653\n3 1 1\n2 1 763",
          "testOut": "4 581\n3 1 1\n4 2 268\n4 3 277\n5 4 35",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "hard",
      "constraints": "1 ≤ [[N]] ≤ 5000\n0 ≤ [[M]] ≤ 50000\n1 ≤ [[House1]], [[House2]], ≤ [[N]]",
      "stubGenerator": "read N:int M:int\nloop M read House1:int House2:int Cost:int\nwrite number of connections and total cost\nk lines: house1 house2",
      "inputDescription": "<<Line 1:>> two integers, [[N]] and [[M]], respectively the number of houses, and the number of connectable pairs\n<< Next [[M]] lines >> three integers [[House1]], [[House2]] and [[Cost]] representing a possible connection between two houses",
      "solutionLanguage": "Python3",
      "outputDescription": "<<Line 1:>> two integers, [[K]] and [[C]], respectively the number of connections to make, and the total cost\n<<Next [[K]] lines:>> the connections, as given, numerically sorted (on House1, then on House2)"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Edison is bringing electricity to <var>N</var> houses. He has already set up a power generator in house 1 and wants to connect it to the other houses. There are <var>M</var> pairs of houses that can be connected together, and we know how much making a link between each pair costs. Your job is to find which houses to link so that all the houses are connected to house 1 (directly or through other houses), while minimizing the total cost.<br><br>* **there is always a solution that connects all houses**<br>* **the total distance from the generator to a house does not matter, as long as there is a path between them**</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> two integers, <var>N</var> and <var>M</var>, respectively the number of houses, and the number of connectable pairs<br><strong> Next <var>M</var> lines </strong> three integers <var>House1</var>, <var>House2</var> and <var>Cost</var> representing a possible connection between two houses</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>Line 1:</strong> two integers, <var>K</var> and <var>C</var>, respectively the number of connections to make, and the total cost<br><strong>Next <var>K</var> lines:</strong> the connections, as given, numerically sorted (on House1, then on House2)</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">1 &le; <var>N</var> &le; 5000<br>0 &le; <var>M</var> &le; 50000<br>1 &le; <var>House1</var>, <var>House2</var>, &le; <var>N</var></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">3 3\n1 2 1\n2 3 99\n1 3 7</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">2 8\n1 2 1\n1 3 7</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 312082329681,
  "avatar": 3181778176261,
  "commentCount": 7,
  "upVotes": 4,
  "downVotes": 0,
  "validateAction": {
    "actionId": 167,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}