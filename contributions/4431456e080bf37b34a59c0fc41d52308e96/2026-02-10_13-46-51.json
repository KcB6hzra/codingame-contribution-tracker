{
  "id": 4431,
  "activeVersion": 3,
  "score": 3,
  "votableId": 11012559,
  "codingamerId": 154906,
  "views": 168,
  "commentableId": 10941101,
  "title": "Smooth Factory",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "JBM",
  "publicHandle": "4431456e080bf37b34a59c0fc41d52308e96",
  "codingamerHandle": "0d71f9df5da706f9f77c07c34d12480e609451",
  "lastVersion": {
    "version": 3,
    "autocloseTime": 1565373693106,
    "data": {
      "title": "Smooth Factory",
      "topics": [
        {
          "id": 183,
          "handle": "smooth",
          "labelMap": {
            "1": "Smooth",
            "2": "Smooth"
          },
          "puzzleCount": 1,
          "parentTopicId": 93
        },
        {
          "id": 184,
          "handle": "fruit",
          "labelMap": {
            "1": "Fruit",
            "2": "Fruit"
          },
          "puzzleCount": 1,
          "parentTopicId": 93
        },
        {
          "labelMap": {
            "2": "Streams"
          }
        },
        {
          "id": 172,
          "handle": "number-theory",
          "labelMap": {
            "1": "Number theory",
            "2": "Number theory"
          },
          "puzzleCount": 4,
          "parentTopicId": 93
        },
        {
          "id": 257,
          "handle": "reading-the-statement",
          "labelMap": {
            "1": "Reading the statement",
            "2": "Reading the statement"
          },
          "puzzleCount": 2,
          "parentTopicId": 93
        }
      ],
      "solution": "minghams = 1 : merge (map (*2) minghams)\n                     (merge (map (*3) minghams)\n                            (map (*5) minghams))\nmerge as@(a:as') bs@(b:bs') | a  < b = a : merge as' bs\n                            | a  > b = b : merge as  bs'\n                            | a == b = a : merge as' bs'\nmain = interact $ show . sum . flip take minghams . read",
      "statement": "Edsger is Ming and Ham's teacher. He's quite fond of them playing Smoothie Reduction, as their grades have kept improving since they started, for some reason.\n\nEdsger is a man of influence. He's willing to pull some strings so that the next bulk shipments all result in victories for Ming and Ham. Edsger is also lean. He'll want the shipments to be as little as possible. Edsger strives to be a good teacher, so he'll also ensure no two shipments are the same size. For the learning experience.\n\nHow many pieces of fruit will he have to schedule over the following weeks to ensure Ming and Ham enjoy at least [[V]] victories?\n\nThis is a harder take on easy puzzle “Smooth!”. You may want to solve that one first. In any case, here's a reminder of the game.\n\n<<Smoothie Reduction>>\n\nMing and Ham like smoothies. To make smoothies, you need a lot of fruit. Every now and then, they'll play a little game. They'll buy a lot of fruit in bulk, and then take turns at “reducing” it.\n\nA turn of reducing works as follows:\n• Ming will neatly arrange the fruit in a first line, with the pieces evenly spread\n• Ham will pick a fruit type from stock, and arrange them in a second line, evenly spread, such that each one matches a bundle of exactly [[n]] pieces in the first line, with [[n]] depending on the fruit type (see table below)\n• if any fruit in the first line is left unmatched with fruit from the second line, Ming eats it and the game finishes in defeat\n• else they scoop all fruit from the first line to the blender, swap roles and repeat\n\nThey have the following fruit types in stock:\n• apples, that spread one for every bundle of [[n]] = two\n• oranges, that spread one for every bundle of [[n]] = three\n• bananas, that spread one for every bundle of [[n]] = five\n• watermelons, that spread one for every bundle of [[n]] = one\n\nThe game ends in a victory if the second row ever gets reduced to a single watermelon at the end of a turn.\n\n<<Example>>\n\nIf Edsger wants to ensure {{5}} victories, he'll need to schedule:\n• a size-{{1}} “bulk” fruit arrival on week {{1}}\n• a size-{{2}} bulk fruit arrival on week {{2}}\n• a size-{{3}} bulk fruit arrival on week {{3}}\n• a size-{{4}} bulk fruit arrival on week {{4}}\n• a size-{{5}} bulk fruit arrival on week {{5}}\n…for a total of {{15}} pieces of fruit.",
      "testCases": [
        {
          "title": "Example",
          "isTest": true,
          "testIn": "5",
          "testOut": "15",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Small",
          "isTest": false,
          "testIn": "4",
          "testOut": "10",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Reading Comprehension",
          "isTest": true,
          "testIn": "9",
          "testOut": "48",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Medium",
          "isTest": false,
          "testIn": "40",
          "testOut": "2018",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Medium Figures",
          "isTest": true,
          "testIn": "250",
          "testOut": "2048552",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Large",
          "isTest": false,
          "testIn": "400",
          "testOut": "22827524",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Large Figures",
          "isTest": true,
          "testIn": "4500",
          "testOut": "6398507456756325",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Huge",
          "isTest": false,
          "testIn": "4000",
          "testOut": "1715099263033600",
          "isValidator": true,
          "needValidation": false
        }
      ],
      "difficulty": "medium",
      "constraints": "[[V]] ≤ 4500",
      "stubGenerator": "read V:int\nwrite 15",
      "inputDescription": "<<Line 1:>> [[V]] number of victories",
      "solutionLanguage": "Haskell",
      "outputDescription": "<<One line:>> [[F]] amount of fruit to schedule"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Edsger is Ming and Ham's teacher. He's quite fond of them playing Smoothie Reduction, as their grades have kept improving since they started, for some reason.<br><br>Edsger is a man of influence. He's willing to pull some strings so that the next bulk shipments all result in victories for Ming and Ham. Edsger is also lean. He'll want the shipments to be as little as possible. Edsger strives to be a good teacher, so he'll also ensure no two shipments are the same size. For the learning experience.<br><br>How many pieces of fruit will he have to schedule over the following weeks to ensure Ming and Ham enjoy at least <var>V</var> victories?<br><br>This is a harder take on easy puzzle &ldquo;Smooth!&rdquo;. You may want to solve that one first. In any case, here's a reminder of the game.<br><br><strong>Smoothie Reduction</strong><br><br>Ming and Ham like smoothies. To make smoothies, you need a lot of fruit. Every now and then, they'll play a little game. They'll buy a lot of fruit in bulk, and then take turns at &ldquo;reducing&rdquo; it.<br><br>A turn of reducing works as follows:<br>&bull; Ming will neatly arrange the fruit in a first line, with the pieces evenly spread<br>&bull; Ham will pick a fruit type from stock, and arrange them in a second line, evenly spread, such that each one matches a bundle of exactly <var>n</var> pieces in the first line, with <var>n</var> depending on the fruit type (see table below)<br>&bull; if any fruit in the first line is left unmatched with fruit from the second line, Ming eats it and the game finishes in defeat<br>&bull; else they scoop all fruit from the first line to the blender, swap roles and repeat<br><br>They have the following fruit types in stock:<br>&bull; apples, that spread one for every bundle of <var>n</var> = two<br>&bull; oranges, that spread one for every bundle of <var>n</var> = three<br>&bull; bananas, that spread one for every bundle of <var>n</var> = five<br>&bull; watermelons, that spread one for every bundle of <var>n</var> = one<br><br>The game ends in a victory if the second row ever gets reduced to a single watermelon at the end of a turn.<br><br><strong>Example</strong><br><br>If Edsger wants to ensure <const>5</const> victories, he'll need to schedule:<br>&bull; a size-<const>1</const> &ldquo;bulk&rdquo; fruit arrival on week <const>1</const><br>&bull; a size-<const>2</const> bulk fruit arrival on week <const>2</const><br>&bull; a size-<const>3</const> bulk fruit arrival on week <const>3</const><br>&bull; a size-<const>4</const> bulk fruit arrival on week <const>4</const><br>&bull; a size-<const>5</const> bulk fruit arrival on week <const>5</const><br>&hellip;for a total of <const>15</const> pieces of fruit.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> <var>V</var> number of victories</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>One line:</strong> <var>F</var> amount of fruit to schedule</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\"><var>V</var> &le; 4500</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">5</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">15</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 207896009368,
  "commentCount": 4,
  "upVotes": 7,
  "downVotes": 4,
  "validateAction": {
    "actionId": 362812,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}