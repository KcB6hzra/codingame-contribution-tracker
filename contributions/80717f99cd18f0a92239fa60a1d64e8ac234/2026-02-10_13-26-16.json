{
  "id": 8071,
  "activeVersion": 14,
  "score": 35,
  "votableId": 21846692,
  "codingamerId": 878974,
  "views": 582,
  "commentableId": 21737533,
  "title": "Holey Times",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "nicola",
  "publicHandle": "80717f99cd18f0a92239fa60a1d64e8ac234",
  "codingamerHandle": "21bf42f790de293c3aef398f18cd2627479878",
  "lastVersion": {
    "version": 14,
    "autocloseTime": 1652017719922,
    "data": {
      "title": "Holey Times",
      "topics": [
        {
          "id": 129,
          "handle": "arithmetic",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Arithmetic",
            "2": "Arithmetic"
          },
          "puzzleCount": 21,
          "parentTopicId": 93
        },
        {
          "id": 98,
          "handle": "regular-expressions",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Regular expressions",
            "2": "Regular expressions"
          },
          "puzzleCount": 5,
          "parentTopicId": 93
        },
        {
          "id": 128,
          "handle": "ascii-art",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Ascii Art",
            "2": "Ascii Art"
          },
          "puzzleCount": 18,
          "parentTopicId": 93
        }
      ],
      "solution": "from itertools import product\ndef ok(n1,n2):\n  if len(n1)!=len(n2):\n      return False\n  for e1,e2 in zip(n1,n2):\n    if e1!=e2 and \"*\" not in e1+e2:\n      return False\n  return True\n\nn=int(input())\nO=[input() for _ in range(n)]\no=\"\\n\".join(O)\nn=O[0].count(\"*\")+O[1].count(\"*\")\nfor l in product(range(10),repeat=n):\n  p=o\n  for e in l:\n    p=p.replace(\"*\",str(e),1)\n  p=p.split(\"\\n\")\n  n1=p[0].split()[-1]\n  if n1.startswith(\"0\"):\n    continue\n  n2=p[1].split()[-1]\n  if n2.startswith(\"0\"):\n    continue\n  L=[(P.split()[-1]+\" \")[:-1-i] for i,P in enumerate(p[3:-2])][::-1]\n  R=p[-1].split()[-1]\n  r=str(int(n2)*int(n1))\n  if ok(r,R) and all(ok(E,str(int(n1)*int(e))) for e,E in zip(n2,L)):\n    for i in range(3):\n      print(p[i])\n    for i,e in enumerate(map(int,n2[::-1])):\n      print((str(e*int(n1))+i*\"0\").rjust(len(p[2])))\n    print(p[-2])\n    print(r.rjust(len(p[2])))",
      "statement": "You have to fill in <<all>> the unknown digits in a multiplication.\nThese unknown digits are marked as stars {{*}} in the operation.\nNote that the numbers involved never begin with a zero, excepted when a line is null.\n* For example, 234 is possible everywhere.\n* 00 is accepted but only as a full line in a partial result.\n* 0234 is not possible, neither as operand, partial result or result.\n\nThe multiplication symbol is an x.\nThe stars may appear everywhere in the operation:\n* In the operands, in the partial results or in the result.\n* In only one of the three, in two or three of them.\n\nIn the partial results, the first line has got no trailing zeroes (but might end by zero if you multiply 5×48). The second line has got one trailing zero, the second line has got two trailing zeroes, and so on. Why?\nBecause if you calculate 907×757, in fact, the operation is shown as 907×(7+50+700)=907×7 [first line] + 907×50 [second line] + 907×700 [third line]. Thus, the operation must be shown as:\n`   907\nx  757\n------\n  6349 → 7×907\n 45350 → 50×907\n634900 → 700×907\n------\n686599`\nAnd not as:\n`   907\nx  757\n------\n  6350 → 50×907\n 45349 → 7×907\n634900 → 700×907\n------\n686599`",
      "testCases": [
        {
          "title": "One missing digit in the operand",
          "isTest": true,
          "testIn": "6\n  25\nx  *\n----\n 175\n----\n 175",
          "testOut": "  25\nx  7\n----\n 175\n----\n 175",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "One missing digit in the operand",
          "isTest": false,
          "testIn": "6\n  45\nx  *\n----\n 405\n----\n 405",
          "testOut": "  45\nx  9\n----\n 405\n----\n 405",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Missing digits in the operands",
          "isTest": true,
          "testIn": "7\n  **\nx **\n----\n 534\n 890\n----\n1424",
          "testOut": "  89\nx 16\n----\n 534\n 890\n----\n1424",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Missing digits in the operands",
          "isTest": false,
          "testIn": "7\n **8\nx **\n----\n1424\n3560\n----\n4984",
          "testOut": " 178\nx 28\n----\n1424\n3560\n----\n4984",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Missing digits in the partial results",
          "isTest": true,
          "testIn": "7\n 145\nx 57\n----\n****\n****\n----\n8265",
          "testOut": " 145\nx 57\n----\n1015\n7250\n----\n8265",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Missing digits in the partial results",
          "isTest": false,
          "testIn": "7\n  789\nx  36\n-----\n ****\n*****\n-----\n28404",
          "testOut": "  789\nx  36\n-----\n 4734\n23670\n-----\n28404",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Missing digits in the result",
          "isTest": true,
          "testIn": "8\n  1478\nx  125\n------\n  7390\n 29560\n147800\n------\n******",
          "testOut": "  1478\nx  125\n------\n  7390\n 29560\n147800\n------\n184750",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Missing digits in the result",
          "isTest": false,
          "testIn": "8\n  1478\nx  125\n------\n  7390\n 29560\n147800\n------\n******",
          "testOut": "  1478\nx  125\n------\n  7390\n 29560\n147800\n------\n184750",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Missing digits everywhere",
          "isTest": true,
          "testIn": "7\n  **9\nx  8*\n-----\n 2**6\n**3**\n-----\n5283*",
          "testOut": "  629\nx  84\n-----\n 2516\n50320\n-----\n52836",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Missing digits everywhere",
          "isTest": false,
          "testIn": "7\n  3**8\nx   *9\n------\n 3*2**\n14312*\n------\n1*5*2*",
          "testOut": "  3578\nx   49\n------\n 32202\n143120\n------\n175322",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "No leading zeros",
          "isTest": true,
          "testIn": "8\n   ***\nx  **7\n------\n  ***1\n 2***0\n***200\n------\n24*151",
          "testOut": "   543\nx  457\n------\n  3801\n 27150\n217200\n------\n248151",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "No leading zeros",
          "isTest": false,
          "testIn": "7\n  ***\nx  **\n-----\n 2*9*\n ***0\n-----\n1147*",
          "testOut": "  459\nx  25\n-----\n 2295\n 9180\n-----\n11475",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Mind the hole",
          "isTest": true,
          "testIn": "8\n   **\nx 7*5\n-----\n  415\n   **\n58100\n-----\n*****",
          "testOut": "   83\nx 705\n-----\n  415\n   00\n58100\n-----\n58515",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Mind the hole",
          "isTest": false,
          "testIn": "7\n ***\nx 1*\n----\n   *\n****\n----\n8960",
          "testOut": " 896\nx 10\n----\n   0\n8960\n----\n8960",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "The tough one",
          "isTest": true,
          "testIn": "8\n   ***\nx  ***\n------\n  ****\n *****\n******\n------\n686599",
          "testOut": "   907\nx  757\n------\n  6349\n 45350\n634900\n------\n686599",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "The tough one",
          "isTest": false,
          "testIn": "8\n   ***\nx  ***\n------\n  ****\n    **\n******\n------\n686599",
          "testOut": "   757\nx  907\n------\n  5299\n    00\n681300\n------\n686599",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "There is only one solution.",
      "coverBinaryId": 78160429586305,
      "stubGenerator": "read n:int\nloop n read s:string(8)\nwrite operation",
      "inputDescription": "<<Line 1>>: The number {{n}} of lines of the operation\n<<Next {{n}} lines>>: The holey multiplication",
      "solutionLanguage": "Python3",
      "outputDescription": "Write the input but with the stars replaced with digits.\nNo star shall be left."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">You have to fill in <strong>all</strong> the unknown digits in a multiplication.<br>These unknown digits are marked as stars <const>*</const> in the operation.<br>Note that the numbers involved never begin with a zero, excepted when a line is null.<br>* For example, 234 is possible everywhere.<br>* 00 is accepted but only as a full line in a partial result.<br>* 0234 is not possible, neither as operand, partial result or result.<br><br>The multiplication symbol is an x.<br>The stars may appear everywhere in the operation:<br>* In the operands, in the partial results or in the result.<br>* In only one of the three, in two or three of them.<br><br>In the partial results, the first line has got no trailing zeroes (but might end by zero if you multiply 5&times;48). The second line has got one trailing zero, the second line has got two trailing zeroes, and so on. Why?<br>Because if you calculate 907&times;757, in fact, the operation is shown as 907&times;(7+50+700)=907&times;7 [first line] + 907&times;50 [second line] + 907&times;700 [third line]. Thus, the operation must be shown as:<br><pre style=\"font-family: monospace\">   907<br>x  757<br>------<br>  6349 &rarr; 7&times;907<br> 45350 &rarr; 50&times;907<br>634900 &rarr; 700&times;907<br>------<br>686599</pre><br>And not as:<br><pre style=\"font-family: monospace\">   907<br>x  757<br>------<br>  6350 &rarr; 50&times;907<br> 45349 &rarr; 7&times;907<br>634900 &rarr; 700&times;907<br>------<br>686599</pre></span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1</strong>: The number <const>n</const> of lines of the operation<br><strong>Next <const>n</const> lines</strong>: The holey multiplication</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">Write the input but with the stars replaced with digits.<br>No star shall be left.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">There is only one solution.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">6\n  25\nx  *\n----\n 175\n----\n 175</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">  25\nx  7\n----\n 175\n----\n 175</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 119160400219,
  "avatar": 26090852120005,
  "commentCount": 22,
  "upVotes": 37,
  "downVotes": 2,
  "validateAction": {
    "actionId": 658993,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "REFUSED",
      "date": 1646661937002,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1649425719922,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "ACCEPTED",
      "date": 1651569574870,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}