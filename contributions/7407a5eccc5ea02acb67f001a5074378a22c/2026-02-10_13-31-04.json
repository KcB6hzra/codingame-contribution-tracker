{
  "id": 7407,
  "activeVersion": 22,
  "score": 10,
  "votableId": 20236105,
  "codingamerId": 865548,
  "views": 206,
  "commentableId": 20132896,
  "title": "Simple auto-scaling",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Kktus",
  "publicHandle": "7407a5eccc5ea02acb67f001a5074378a22c",
  "codingamerHandle": "25b78958aaaad332af0c5cee21722c5e845568",
  "lastVersion": {
    "version": 22,
    "autocloseTime": 1635602513468,
    "data": {
      "title": "Simple auto-scaling",
      "topics": [
        {
          "labelMap": {
            "2": "Autoscaling"
          }
        },
        {
          "id": 46,
          "handle": "loops",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Boucles",
            "2": "Loops"
          },
          "pageTitle": "Loops: exercises and theory",
          "puzzleCount": 56,
          "parentTopicId": 39,
          "contentDetailsId": 71
        }
      ],
      "solution": "import math\n\ns, m = [int(i) for i in input().split()]\nloads = [int(i) for i in input().split()]\n\n# Initial number of service, nothing is up at start\nservices = [0 for i in range(s)]\n\nfor _ in range(m):\n\n    results = []\n    clients = [int(i) for i in input().split()]\n\n    for j in range(s):\n        new_service_num = math.ceil(clients[j] / loads[j])\n        results.append(new_service_num - services[j])\n        services[j] = new_service_num\n\n    print(*results)",
      "statement": "In this exercice you will implement a simple auto-scaling system: https://en.wikipedia.org/wiki/Autoscaling\n\nYou have different services [[S]] across the datacenter. Each instance of a service can handle a maximum number of clients.\n\nYou will receive a sequence of metrics [[M]] corresponding with the number of clients connected to each service, and you will need to scale your services in real time by providing the number of instances of services to start or to stop to handle the new load.\n\nPositive value indicates that you want to start new instances of a service, negative value means that you want to stop instances of a service.\n\nInstances number are rounded up; if you have 10 clients connected to a service that can handle 8 clients per instance, you will need 2 running instances of the service to handle the load: ceil(10/8) == ceil(1.25) == 2.\n\nAt the beginning no instances of services are running.",
      "testCases": [
        {
          "title": "Example",
          "isTest": true,
          "testIn": "4 3\n5 10 4 3\n20 5 10 7\n25 3 14 16\n15 4 20 10",
          "testOut": "4 1 3 3\n1 0 1 3\n-2 0 1 -2",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Example (Validator)",
          "isTest": false,
          "testIn": "5 4\n4 7 8 10 20\n20 5 10 7 10\n25 3 14 16 16\n15 4 20 10 10\n45 17 25 30 30",
          "testOut": "5 1 2 1 1\n2 0 0 1 0\n-3 0 1 -1 0\n8 2 1 2 1",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Slow Start",
          "isTest": true,
          "testIn": "5 5\n8 10 5 47 20\n0 0 0 0 0\n1 2 1 1 2\n4 5 4 7 8\n10 15 30 40 50\n20 40 5 60 70",
          "testOut": "0 0 0 0 0\n1 1 1 1 1\n0 0 0 0 0\n1 1 5 0 2\n1 2 -5 1 1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Slow Start (Validator)",
          "isTest": false,
          "testIn": "3 5\n5 10 15\n0 0 0\n3 2 1\n4 3 2\n10 15 30\n20 40 5",
          "testOut": "0 0 0\n1 1 1\n0 0 0\n1 1 1\n2 2 -1",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Medium",
          "isTest": true,
          "testIn": "10 10\n72 120 782 55 682 962 604 547 900 695\n346 697 471 901 520 294 346 935 928 274\n456 281 789 625 459 952 360 830 183 191\n519 653 110 67 111 293 510 168 79 901\n72 120 782 55 682 962 604 547 900 695\n785 38 768 62 304 204 924 334 143 53\n722 9 133 388 678 547 552 742 935 800\n697 664 666 404 277 924 363 224 909 896\n281 849 239 954 403 73 216 264 632 270\n976 481 651 700 315 445 747 685 32 924\n116 512 554 651 643 772 246 259 874 349",
          "testOut": "5 6 1 17 1 1 1 2 2 1\n2 -3 1 -5 0 0 0 0 -1 0\n1 3 -1 -10 0 0 0 -1 0 1\n-7 -5 0 -1 0 0 0 0 0 -1\n10 0 0 1 0 0 1 0 0 0\n0 0 0 6 0 0 -1 1 1 1\n-1 5 0 0 0 0 0 -1 0 0\n-6 2 0 10 0 0 0 0 -1 -1\n10 -3 0 -5 0 0 1 1 0 1\n-12 0 0 -1 0 0 -1 -1 0 -1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Medium (Validator)",
          "isTest": false,
          "testIn": "10 10\n15 60 50 49 35 79 58 36 73 68\n761 999 382 921 870 914 908 130 468 100\n392 620 100 16 245 991 206 847 89 832\n949 788 266 473 940 202 929 652 471 378\n571 474 674 336 827 278 170 298 818 822\n960 363 439 530 398 678 200 718 827 174\n676 258 715 488 365 694 546 332 76 136\n467 424 606 949 82 764 806 36 649 259\n382 582 18 169 431 264 636 857 604 894\n158 988 419 51 526 347 413 36 279 917\n388 925 104 205 104 496 268 692 816 626",
          "testOut": "51 17 8 19 25 12 16 4 7 2\n-24 -6 -6 -18 -18 1 -12 20 -5 11\n37 3 4 9 20 -10 13 -5 5 -7\n-25 -6 8 -3 -3 1 -14 -10 5 7\n25 -1 -5 4 -12 5 1 11 0 -10\n-18 -2 6 -1 -1 0 6 -10 -10 -1\n-14 3 -2 10 -8 1 4 -9 7 2\n-6 2 -12 -16 10 -6 -3 23 0 10\n-15 7 8 -2 3 1 -3 -23 -5 0\n15 -1 -6 3 -13 2 -3 19 8 -4",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Lot of services",
          "isTest": true,
          "testIn": "50 7\n63 130 269 91 264 95 37 91 103 81 249 182 223 50 91 270 80 124 126 94 40 28 238 245 203 65 263 224 127 52 197 226 15 154 92 288 29 236 14 20 226 253 263 135 64 149 92 61 269 272\n654 487 189 116 761 928 879 775 452 866 316 476 353 689 837 177 194 231 766 298 12 339 667 260 530 883 289 571 68 836 996 950 488 832 847 305 290 413 412 255 566 166 673 138 166 903 317 391 194 92\n184 606 957 374 50 397 692 833 623 330 676 164 546 94 609 299 765 651 55 178 830 157 632 816 68 563 885 346 684 406 293 240 655 549 75 665 916 781 8 505 326 36 160 478 396 201 404 164 46 496\n642 564 35 321 914 537 652 538 92 245 274 384 194 898 563 122 80 458 850 235 772 619 674 718 988 917 40 386 456 602 32 362 986 251 649 750 825 379 634 87 689 162 764 92 553 300 649 98 476 434\n575 201 5 263 988 446 593 195 342 603 701 951 447 7 592 512 129 932 860 235 142 220 978 174 206 494 22 138 752 337 677 265 815 423 640 289 387 309 745 473 166 545 830 265 160 452 729 63 347 433\n862 106 84 218 706 277 746 772 564 659 654 497 848 892 868 591 625 737 92 95 764 42 137 644 194 335 355 134 93 772 216 415 277 692 121 602 163 442 105 551 358 434 863 506 575 611 993 660 852 799\n694 794 560 222 477 350 279 72 214 465 807 882 169 846 771 85 767 75 845 722 891 690 807 116 928 279 693 386 294 857 31 869 462 765 740 473 179 649 480 433 592 410 174 483 843 498 129 32 719 538\n312 135 687 347 863 412 653 247 328 91 749 494 497 426 617 416 613 201 600 42 443 250 7 484 937 307 908 873 685 300 287 866 167 868 986 978 503 281 312 284 126 191 589 181 108 194 914 672 121 900",
          "testOut": "11 4 1 2 3 10 24 9 5 11 2 3 2 14 10 1 3 2 7 4 1 13 3 2 3 14 2 3 1 17 6 5 33 6 10 2 10 2 30 13 3 1 3 2 3 7 4 7 1 1\n-8 1 3 3 -2 -5 -5 1 2 -6 1 -2 1 -12 -3 1 7 4 -6 -2 20 -7 0 2 -2 -5 2 -1 5 -9 -4 -3 11 -2 -9 1 22 2 -29 13 -1 0 -2 2 4 -5 1 -4 0 1\n8 0 -3 -1 3 1 -1 -4 -6 -1 -1 2 -2 16 0 -1 -9 -2 6 1 -1 17 0 -1 4 6 -3 0 -2 4 -1 0 22 -2 7 0 -3 -2 45 -21 2 0 2 -3 2 1 3 -1 1 0\n-1 -3 0 -1 0 -1 -1 -3 3 4 1 3 2 -17 0 1 1 4 0 0 -16 -15 2 -2 -3 -7 0 -1 2 -5 3 0 -11 1 -1 -1 -15 0 8 19 -3 2 1 1 -6 1 0 0 0 0\n4 -1 0 0 -1 -2 4 6 2 1 0 -3 1 17 3 1 6 -2 -6 -1 16 -6 -4 2 -1 -2 1 0 -5 8 -2 0 -36 2 -5 1 -8 0 -46 4 1 -1 0 2 6 1 3 9 2 1\n-2 6 2 0 -1 1 -13 -8 -3 -3 1 2 -3 -1 -1 -2 2 -5 6 6 3 23 3 -2 4 -1 1 1 2 2 -1 2 12 0 7 -1 1 1 27 -6 1 0 -3 0 5 -1 -9 -10 -1 -1\n-7 -5 0 1 2 1 10 2 1 -4 0 -2 2 -8 -2 1 -2 1 -2 -7 -11 -16 -3 1 0 0 1 2 3 -11 1 0 -19 1 2 2 11 -1 -12 -7 -2 -1 2 -2 -12 -2 8 11 -2 2",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Lot of services (Validator)",
          "isTest": false,
          "testIn": "50 7\n59 38 93 74 96 73 41 81 41 73 57 69 35 18 70 55 61 37 69 99 96 18 82 30 95 12 35 30 27 55 15 5 47 99 87 27 100 46 90 25 38 36 28 86 18 36 77 15 66 49\n492 111 940 116 373 828 436 403 576 17 66 906 864 868 555 613 199 836 402 908 552 432 509 36 166 524 761 691 548 420 998 595 207 659 95 704 248 792 260 985 379 942 149 724 835 152 961 175 219 158\n999 148 535 924 43 783 410 425 995 786 327 418 797 20 455 90 88 771 637 657 667 813 960 739 737 689 210 26 542 590 893 406 363 258 851 758 380 657 514 369 176 909 467 853 225 628 622 711 331 237\n274 871 27 361 834 141 274 160 766 758 145 219 688 434 321 127 997 651 719 656 450 405 209 653 201 781 137 559 280 204 20 460 360 474 831 916 205 729 694 765 592 567 712 131 614 978 235 744 983 75\n202 479 795 61 415 377 644 625 732 188 339 686 165 103 822 81 410 664 79 152 847 932 151 760 454 635 832 555 961 547 509 977 621 848 207 729 16 255 993 392 487 592 608 363 742 845 83 674 38 471\n666 126 487 392 372 897 369 28 896 946 473 35 548 82 370 52 441 147 444 676 610 403 777 814 451 578 988 966 951 589 388 448 669 84 67 984 640 538 847 553 744 541 675 210 471 915 399 921 785 370\n839 202 19 656 362 150 884 966 678 150 688 387 675 54 417 775 296 462 4 978 685 177 515 738 186 226 6 84 218 159 375 537 35 64 766 339 728 485 74 964 206 716 419 904 451 575 466 975 974 338\n545 44 496 917 575 65 247 265 945 424 157 748 750 335 831 24 876 343 21 394 580 59 134 612 877 686 387 526 180 503 261 237 235 404 480 982 240 289 217 404 180 140 11 352 539 489 612 250 127 501",
          "testOut": "9 3 11 2 4 12 11 5 15 1 2 14 25 49 8 12 4 23 6 10 6 24 7 2 2 44 22 24 21 8 67 119 5 7 2 27 3 18 3 40 10 27 6 9 47 5 13 12 4 4\n8 1 -5 11 -3 -1 -1 1 10 10 4 -7 -2 -47 -1 -10 -2 -2 4 -3 1 22 5 23 6 14 -16 -23 0 3 -7 -37 3 -4 8 2 1 -3 3 -25 -5 -1 11 1 -34 13 -4 36 2 1\n-12 19 -5 -8 8 -9 -3 -4 -6 0 -3 -3 -3 23 -2 1 15 -3 1 0 -2 -23 -9 -3 -5 8 -2 18 -10 -7 -58 10 0 2 0 5 -1 1 2 16 11 -10 9 -8 22 10 -5 2 9 -3\n-1 -10 8 -4 -4 4 9 6 -1 -8 3 6 -15 -19 7 -1 -10 0 -9 -5 4 29 -1 4 2 -13 20 0 25 6 32 104 6 4 -7 -7 -2 -10 4 -15 -3 1 -4 3 7 -4 -2 -5 -14 8\n8 -9 -3 5 -1 7 -7 -7 4 10 3 -9 11 -1 -6 -1 1 -14 5 5 -2 -29 8 2 0 -4 5 14 0 1 -8 -106 1 -8 -2 10 6 6 -2 7 7 -1 3 -2 -15 2 4 17 11 -2\n3 2 -5 3 0 -10 13 11 -5 -10 4 5 4 -2 0 14 -3 9 -6 3 1 -13 -3 -3 -3 -30 -28 -30 -27 -8 -1 18 -14 0 8 -24 1 -1 -9 16 -14 4 -10 8 -1 -10 1 3 3 -1\n-5 -4 5 4 2 -2 -15 -8 7 3 -10 5 2 16 6 -14 10 -3 0 -6 -1 -6 -5 -4 8 39 11 15 -2 7 -7 -60 4 4 -3 24 -5 -4 2 -22 -1 -16 -14 -6 4 -2 1 -48 -13 4",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "One service",
          "isTest": true,
          "testIn": "1 5\n3\n5\n9\n4\n3\n2",
          "testOut": "2\n1\n-1\n-1\n0",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "One service (Validator)",
          "isTest": false,
          "testIn": "1 3\n8\n16\n5\n10",
          "testOut": "2\n-1\n1",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "easy",
      "constraints": "0 < [[S]] ≤ 50\n0 < [[M]] ≤ 100\nServices can handle at least 1 client",
      "stubGenerator": "read S:int M:int\nloopline S maxclients:int\nloop M loopline S clients:int\nloop M write Number of services to start / stop",
      "inputDescription": "Line 1: [[S]] and [[M]], the number of services and the number of lines metrics\nLine 2: [[S]] values, the number of clients that each service can handle\nLine from 2 to 2+[[M]]: sequence of metrics representing number of clients connected to each service",
      "solutionLanguage": "Python3",
      "outputDescription": "Line from 1 to [[M]]: The number of instances of service to start / stop for each line of metrics received"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">In this exercice you will implement a simple auto-scaling system: https://en.wikipedia.org/wiki/Autoscaling<br><br>You have different services <var>S</var> across the datacenter. Each instance of a service can handle a maximum number of clients.<br><br>You will receive a sequence of metrics <var>M</var> corresponding with the number of clients connected to each service, and you will need to scale your services in real time by providing the number of instances of services to start or to stop to handle the new load.<br><br>Positive value indicates that you want to start new instances of a service, negative value means that you want to stop instances of a service.<br><br>Instances number are rounded up; if you have 10 clients connected to a service that can handle 8 clients per instance, you will need 2 running instances of the service to handle the load: ceil(10/8) == ceil(1.25) == 2.<br><br>At the beginning no instances of services are running.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\">Line 1: <var>S</var> and <var>M</var>, the number of services and the number of lines metrics<br>Line 2: <var>S</var> values, the number of clients that each service can handle<br>Line from 2 to 2+<var>M</var>: sequence of metrics representing number of clients connected to each service</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">Line from 1 to <var>M</var>: The number of instances of service to start / stop for each line of metrics received</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">0 &lt; <var>S</var> &le; 50<br>0 &lt; <var>M</var> &le; 100<br>Services can handle at least 1 client</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">4 3\n5 10 4 3\n20 5 10 7\n25 3 14 16\n15 4 20 10</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">4 1 3 3\n1 0 1 3\n-2 0 1 -2</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 135261743314,
  "avatar": 95659128943351,
  "commentCount": 12,
  "upVotes": 11,
  "downVotes": 1,
  "validateAction": {
    "actionId": 601737,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1635468519769,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}