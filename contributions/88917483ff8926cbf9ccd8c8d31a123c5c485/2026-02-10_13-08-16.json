{
  "id": 88917,
  "activeVersion": 58,
  "score": 9,
  "votableId": 33171051,
  "codingamerId": 4471038,
  "views": 231,
  "commentableId": 33024887,
  "title": "Number of triangles enclosing X",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "nguyen.lam",
  "publicHandle": "88917483ff8926cbf9ccd8c8d31a123c5c485",
  "codingamerHandle": "a9fd64833d93b2840c44b26d9d84493e8301744",
  "lastVersion": {
    "version": 58,
    "autocloseTime": 1714036109163,
    "data": {
      "title": "Number of triangles enclosing X",
      "topics": [
        {
          "id": 81,
          "handle": "trigonometry",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Trigonom√©trie",
            "2": "Trigonometry"
          },
          "pageTitle": "Trigonometry: exercises and theory",
          "puzzleCount": 15,
          "parentTopicId": 43,
          "contentDetailsId": 74
        }
      ],
      "solution": "import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.time.Duration;\nimport java.time.LocalDateTime;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Scanner;\nimport java.util.StringTokenizer;\nimport java.util.List;\nimport java.util.Map;\nclass Point{\n\tString name;\n\tfloat x;\n\tfloat y;\n\t\n\tpublic Point(String name, float x, float y) {\n\t\tsuper();\n\t\tthis.name = name;\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t}\n\n\t@Override\n\tpublic String toString() {\n\t\t\n\t\treturn name;\n\t}\t\n}\nclass Triangle{\n\tPoint A,B,C;\n\n\tpublic Triangle(Point a, Point b, Point c) {\n\t\tsuper();\n\t\tA = a;\n\t\tB = b;\n\t\tC = c;\n\t}\n\n\t@Override\n\tpublic String toString() {\n\t\treturn \"T[\" + A + \",\" + B + \",\" + C + \"]\\n\";\n\t}\n\n   \tpublic String affiche(Point X) {\n\t\treturn \"T[\" + A + \",\" + B + \",\" + C + \"]\" + isInside(X)+ \"\\n\";\n\t}\n\n\t\n\tpublic String getFullName() {\n\t\tList<String> names = new ArrayList<>();\n\t\tnames.add(A.name);\n\t\tnames.add(B.name);\n\t\tnames.add(C.name);\n\t\tnames.sort(null);\t\t\n\t\treturn names.toString();\n\t}\n\tpublic boolean isInScope(Point x) {\n\t\treturn (\n\t\t\t\t(x.x < B.x && x.x < C.x && x.x < A.x) ||\n\t\t\t\t(x.x > B.x && x.x > C.x && x.x > A.x) ||\n\t\t\t\t(x.y < B.y && x.y < C.y && x.y < A.y) ||\n\t\t\t\t(x.y > B.y && x.y > C.y && x.y > A.y) \n\t\t\t\t)?false:true;\n\t}\npublic boolean isInside(Point x) {\t\t\n\t\tfloat[] lineAB = lineEquation(A,B);\n\t\tfloat[] lineBC = lineEquation(B,C);\n\t\tfloat[] lineCA = lineEquation(C,A);\t\t\n\t\t\n\t\tif( lineAB == null ) \n\t\t\tif(( x.x < B.x && C.x > B.x) || ( x.x > B.x && C.x < B.x) ) return false;\t\t\t\t\n\t\t\n\t\tif( lineBC == null ) \n\t\t\tif(( x.x < B.x && A.x > B.x) || ( x.x > B.x && A.x < B.x) ) return false;\t\t\t\t\n\t\n\t\tif( lineCA == null ) \n\t\t\tif(( x.x < A.x && B.x > A.x) || ( x.x > A.x && B.x < A.x) ) return false;\n\t\t\t\n\t\tif( lineAB != null) {\n\t\t\tfloat YcAB = C.x * lineAB[0] + lineAB[1];\n\t\t\tfloat YxAB = x.x * lineAB[0] + lineAB[1];\n\t\t\tif( (YcAB<C.y && YxAB>x.y) || (YcAB>C.y && YxAB<x.y)) return false;\n\t\t}\n\t\t\n\t\tif( lineCA != null) {\n\t\t\tfloat YbCA = B.x * lineCA[0] + lineCA[1];\n\t\t\tfloat YxCA = x.x * lineCA[0] + lineCA[1];\n\t\t\tif( (YbCA<B.y && YxCA>x.y) || (YbCA>B.y && YxCA<x.y)) return false;\n\t\t}\n\n\t\tif( lineBC != null) {\n\t\t\tfloat YaBC = A.x * lineBC[0] + lineBC[1];\n\t\t\tfloat YxBC = x.x * lineBC[0] + lineBC[1];\n\t\t\tif( (YaBC<A.y && YxBC>x.y) || (YaBC>A.y && YxBC<x.y)) return false;\n\t\t}\n\t\treturn true;\n\t}\n\n\t // Y = aX  + b\n\tpublic float[] lineEquation(Point p1, Point p2) {\n\t\tif (p1.x == p2.x) return null;\n\t\tfloat a = (p2.y-p1.y) / (p2.x-p1.x);\n\t\tfloat b = p1.y - a * p1.x;\n\t\treturn new float[] { a, b };\n\t}\n}\n\npublic class Solution {\n\tpublic static void main(String args[]) {\t\t\n       /* Scanner in = null;\n\t\ttry {\n\t\t\tin = new Scanner(new File(\"C:\\\\nguyen\\\\workspace\\\\insidetriangle\\\\src\\\\test02.txt\"));\n\t\t} catch (FileNotFoundException e) {\t\t\t\n\t\t\te.printStackTrace();\n\t\t}*/\n\t\tScanner in = new Scanner(System.in);\n\t\tString xst = in.nextLine();\n\t\txst = xst.replace(\";\", \" \");\n\t\tStringTokenizer xSt = new StringTokenizer(xst);\n\t\tPoint x = new Point(xSt.nextToken(),Float.valueOf(xSt.nextToken()),Float.valueOf(xSt.nextToken()));\n\t\t//System.out.println(\"X = \"+x);\n\t\tint H = in.nextInt();\n        if (in.hasNextLine())in.nextLine();        \n        List<Point> points = new ArrayList<>();\n        for (int i = 0; i < H; i++) {\n        \tString ROW = in.nextLine();\n        \tROW = ROW.replace(\";\",\" \");\n        \tStringTokenizer st = new StringTokenizer(ROW);\n        \tpoints.add(new Point(st.nextToken(),Float.valueOf(st.nextToken()),Float.valueOf(st.nextToken())));        \t\n        } \n\n       Map<String,Triangle> triangles = new HashMap();\n        LocalDateTime debut = LocalDateTime.now();\n        for(int i=0;i<H;i++) {\n        \tfor(int k=1;k<H;k++) {\n\t        \tif(i==k)continue;\n        \t\tfor(int j=2;j<H;j++) {\n\t        \t\tif(i == j || j==k)continue;\n\t        \t\tPoint a = points.get(i);\n\t            \tPoint b = points.get(j);\n\t            \tPoint c = points.get(k);\n\t            \tTriangle triangle = new Triangle(a,b,c);\n\t            \tboolean add=true;\n\t            \tif(!triangle.isInScope(x))continue;\n\t            \t/*\n\t            \tfor(Triangle t: triangles) if(t.getFullName().compareTo(triangle.getFullName()) ==0 )add=false;\n\t            \tif( add ) triangles.add(triangle);\n\t            \t*/\n\t            \tif( triangles.get(triangle.getFullName()) == null)\n\t            \t\ttriangles.put(triangle.getFullName(), triangle);\n\t            \t\n\t        \t}  \n        \t}\n        }        \n        LocalDateTime fin = LocalDateTime.now();\n       // System.out.println(\"il y a en tout: \" + triangles.size() + \" triangles valides sur \"+ H*(H-1)*(H-2)/6 + \" possibles\");//+triangles);\n        int count=0;\n        \n        for(Triangle t: triangles.values()) {\n        \tif(t.isInside(x)) {\n        \t\tcount++;\n        //\t\tSystem.out.println(t);\n        \t}\n        }\n      //  System.out.println(triangles);\n        Duration duration = Duration.between(debut,fin);\n        \n        long seconds = duration.toMillis();\n        \n        //System.out.println(seconds);\n        //System.out.println(\"x est dans : \"+count+\" triangles\");        \n        System.out.println(count);\n\t}\n}",
      "statement": "Given a point X in an orthonormal coordinate system, you must find the number of triangles formed by the other given points in which X is inside.\n`\n\nExample 1\nINPUT  REPRESENTATION  OUTPUT  COMMENT\nX 2;3  B(1;5)          1       X is inside the triangle ABC\n3      |\\\nA 1;1  | \\\nB 1;5  |  \\\nC 5;1  | x(2;3)\n       |    \\\n       |_____\\\n       A(1;1) C(5;1)\n\n\nExample 2\nINPUT  REPRESENTATION  OUTPUT  COMMENT\nX 2;3  B(1;5)  D(5;5)  2       X is inside the triangles ABC and ABD\n        _____\n4      |\\    /|\nA 1;1  | \\  / |\nB 1;5  |  \\/  |\nC 5;1  | x(2;3)\nD 5;5  | /  \\ |\n       |/____\\|\n       A(1;1) C(5;1)\n\n`",
      "testCases": [
        {
          "title": "1) Example",
          "isTest": true,
          "testIn": "X 2;3\n3\nA 1;1\nB 1;5\nC 5;1",
          "testOut": "1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "1) example Val",
          "isTest": false,
          "testIn": "X 2;2\n3\nA 1;1\nB 1;5\nC 5;1",
          "testOut": "1",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "2) X is outside",
          "isTest": true,
          "testIn": "X 3;4\n3\nA 1;1\nB 1;5\nC 5;1",
          "testOut": "0",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "2) X is outside Val",
          "isTest": false,
          "testIn": "X 3;5\n3\nA 1;1\nB 1;5\nC 5;1",
          "testOut": "0",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "3) 4 points",
          "isTest": true,
          "testIn": "X 3;4\n4\nA 1;1\nB 1;5\nC 5;1\nD 5;5",
          "testOut": "2",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "3) 4 points Val",
          "isTest": false,
          "testIn": "X 4;3\n4\nA 1;1\nB 1;5\nC 5;1\nD 5;5",
          "testOut": "2",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "4) 4 points different X",
          "isTest": true,
          "testIn": "X 2;3\n4\nA 1;1\nB 1;5\nC 5;1\nD 5;5",
          "testOut": "2",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "4) 4 points different X Val",
          "isTest": false,
          "testIn": "X 3;2\n4\nA 1;1\nB 1;5\nC 5;1\nD 5;5",
          "testOut": "2",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "5) X in the center of the square",
          "isTest": true,
          "testIn": "X 3;3\n4\nA 1;1\nB 5;1\nC 5;5\nD 1;5",
          "testOut": "4",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "5) X in the center of the square Val",
          "isTest": false,
          "testIn": "X 5;5\n4\nA 1;1\nB 9;1\nC 9;9\nD 1;9",
          "testOut": "4",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "6) outside the Halo of points",
          "isTest": true,
          "testIn": "X 83;21\n10\nAZ 10;10\nDE 2;2\nEZ 3;50\nRE 6;5\nGT 9;10\nAS 11;20\nWQ 2;6\nLO 80;25\nOF 84;20\nME 82;22",
          "testOut": "15",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "6) outside the Halo of points VAL",
          "isTest": false,
          "testIn": "X 12;50\n10\nAZ 10;10\nDE 2;2\nEZ 3;50\nRE 6;5\nGT 9;10\nAS 11;20\nWQ 2;6\nLO 11;51\nOF 63;20\nME 13;5",
          "testOut": "8",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "7) with decimals",
          "isTest": true,
          "testIn": "X 10;10\n10\nAZ 10.8;10.6\nDE 2;2.2\nEZ 3.845;50.1\nRE 6;5.5\nGT 9.9;10.5\nAS 11.63;20.9\nWQ 2;6.95\nLO 11.8;51.48\nOF 63.6;20.62\nME 13;5.58",
          "testOut": "36",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "7) with decimals  Val",
          "isTest": false,
          "testIn": "X 10;10\n12\nAZ 17.8;10.6\nDE 2;5.2\nEZ 3.85;50.1\nRE 56;5.5\nGT 19.9;10.5\nAS 1.63;20.9\nWQ 20;6.95\nLO 1.8;51.48\nOF 6.6;20.62\nME 13;5.5\nLT 11.8;5.48\nJF 63.6;20.62",
          "testOut": "42",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "8) many data few output",
          "isTest": true,
          "testIn": "X -1;1\n30\nAA 3.845;50.1\nAB 10.8;10.6\nAC 2;2.2\nAD 6;5.5\nAE 9.9;10.5\nAF 2;6.95\nAG 31.8;51.48\nAH 63.6;20.62\nAI 213;5.58\nAJ 310.8;10.6\nAK 52;2.2\nAL 36.845;50.1\nAM 6;65.5\nAN 9.96;10.5\nAO 511.63;20.9\nAP 25;6.95\nAQ 115.8;51.48\nAR 63.56;20.62\nAS 13;55.58\nAT 10.8;510.6\nAU 2;2.25\nAV 3.845;550.1\nAX -6;-0.56\nAY 9.9;106.5\nAZ 11.63;260.9\nBC 2;6.958\nBD 21.8;518.48\nBE 63.6;201.62\nBF 13;5.518\nBG 11.63;20.9",
          "testOut": "154",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "8 many data few output Val",
          "isTest": false,
          "testIn": "X 0;1\n30\nAA 10.8;10.6\nAB 2;2.2\nAC 3.5;50.1\nAD 6;5.5\nAE 9.9;10.5\nAF 11.63;20.9\nAG 2;6.95\nAH 1.8;51.48\nAI 63.6;20.62\nAJ 23;5.58\nAK 310.8;10.6\nAL 52;2.2\nAM 36.845;50.1\nAN 6;65.5\nAO 9.96;10.5\nAP 51.63;20.9\nAQ 25;6.95\nAR 115.8;51.48\nAS 63.56;20.62\nAT 13;55.58\nAU 10.8;510.6\nAV 2;2.25\nAW 3.85;550.1\nAX -6.36;-0.56\nAY 9.92;106.5\nAZ 11.623;260.9\nBB 2;6.9\nBC 15.18;5.48\nBD 63.26;201.62\nBE 13;5.518",
          "testOut": "100",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "9) many data many output",
          "isTest": true,
          "testIn": "X 10;10\n30\nAAAA 10.8;10.6\nABAB 2;2.2\nACSS 3.845;50.1\nADRE 6;5.5\nAEGT 19.9;10.5\nAFAS 11.63;20.9\nAGWQ 2;6.95\nAHKZ 31.8;51.48\nAIOF 63.6;20.62\nAJME 213;5.58\nAKrZ 310.8;10.6\nALrE 52;2.2\nAMtZ 36.845;50.1\nANhE 6;65.5\nAOyT 9.96;10.5\nAPuS 511.63;20.9\nAQiQ 25;6.95\nARoO 115.8;51.48\nASoF 63.56;20.62\nATlE 13;55.58\nAUjZ 10.8;510.6\nAVhE 2;2.25\nAWgZ 3.845;550.1\nAXtE 6;5.56\nAYuT 9.9;106.5\nAZAS 11.63;260.9\nBBWQ 2;6.958\nBCLW 14.448;518.48\nBDOi 63.6;201.62\nBEMi 13;5.518",
          "testOut": "858",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "9) many data many output Val",
          "isTest": false,
          "testIn": "X 9;9\n30\nAA 10.8;10.6\nAB 2;2.2\nAC 3.85;50.1\nAD 6;5.5\nAE 9.9;10.5\nAF 11.63;20.9\nAG 2;6.95\nAH 2;2.21\nAI 3.845;550.1\nAJ 6;5.56\nAK 9.9;106.5\nAL 11.63;260.9\nAM -2;6.958\nAN 41.8;5.48\nAO 63.6;21.62\nAP 13;5.18\nAQ 11.8;5.48\nAR 63.6;20.62\nAS 213;5.58\nAT 310.8;10.6\nAU 52;2.2\nAV 36.84;50.1\nAW 6;65.5\nAX 9.96;10.5\nAY 511.63;20.9\nAZ 25;6.95\nBB 115;51.48\nBC 63.56;20.62\nBD 13;55.58\nBE 10.8;510.6",
          "testOut": "874",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "The triangles ABC, CBA, BCA... are considered as the same triangle.\nAll points are unique: they have different names and coordinates.\n[[n]] <= {{ 100}}",
      "coverBinaryId": 121059325077692,
      "stubGenerator": "read V:string(100)\nread N:int\nloop N read FNAME:string(500)\nwrite answer",
      "inputDescription": "<<Line 1:>> {{X}} [[x]]{{;}}[[y]] string for the coordinates of point X. [[x]] and [[y]] are floats.\n<<Line 2:>> an integer [[n]] for the number of points to read.\n<<Next [[n]] Lines>> [[p]] [[x]]{{;}}[[y]] for the points with their coordinates used to build triangles, [[x]] and [[y]] are floats.",
      "solutionLanguage": "Java",
      "outputDescription": "[[c]] Number of triangles where X is inside."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Given a point X in an orthonormal coordinate system, you must find the number of triangles formed by the other given points in which X is inside.<br><pre style=\"font-family: monospace\"><br><br>Example 1<br>INPUT  REPRESENTATION  OUTPUT  COMMENT<br>X 2;3  B(1;5)          1       X is inside the triangle ABC<br>3      |\\<br>A 1;1  | \\<br>B 1;5  |  \\<br>C 5;1  | x(2;3)<br>       |    \\<br>       |_____\\<br>       A(1;1) C(5;1)<br><br><br>Example 2<br>INPUT  REPRESENTATION  OUTPUT  COMMENT<br>X 2;3  B(1;5)  D(5;5)  2       X is inside the triangles ABC and ABD<br>        _____<br>4      |\\    /|<br>A 1;1  | \\  / |<br>B 1;5  |  \\/  |<br>C 5;1  | x(2;3)<br>D 5;5  | /  \\ |<br>       |/____\\|<br>       A(1;1) C(5;1)<br><br></pre></span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> <const>X</const> <var>x</var><const>;</const><var>y</var> string for the coordinates of point X. <var>x</var> and <var>y</var> are floats.<br><strong>Line 2:</strong> an integer <var>n</var> for the number of points to read.<br><strong>Next <var>n</var> Lines</strong> <var>p</var> <var>x</var><const>;</const><var>y</var> for the points with their coordinates used to build triangles, <var>x</var> and <var>y</var> are floats.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><var>c</var> Number of triangles where X is inside.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">The triangles ABC, CBA, BCA... are considered as the same triangle.<br>All points are unique: they have different names and coordinates.<br><var>n</var> &lt;= <const> 100</const></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">X 2;3\n3\nA 1;1\nB 1;5\nC 5;1</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">1</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 56859710120,
  "avatar": 115730569738380,
  "commentCount": 33,
  "upVotes": 10,
  "downVotes": 1,
  "validateAction": {
    "actionId": 944733,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1713869185035,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}