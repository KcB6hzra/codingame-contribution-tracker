{
  "id": 127197,
  "activeVersion": 15,
  "score": 4,
  "votableId": 37375323,
  "codingamerId": 6098116,
  "views": 242,
  "commentableId": 37214228,
  "title": "City Lights Part 2",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Delicious31415",
  "publicHandle": "127197ad85ee44865c2ef7066eddaf68b858d7",
  "codingamerHandle": "6fc5bad6d87584d4100190a570f4e37c6118906",
  "lastVersion": {
    "version": 15,
    "autocloseTime": 1755129266636,
    "freezeTime": 1750530192533,
    "data": {
      "title": "City Lights Part 2",
      "topics": [
        {
          "labelMap": {
            "2": "3D array"
          }
        },
        {
          "id": 75,
          "handle": "distance",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Distances",
            "2": "Distances"
          },
          "pageTitle": "Distances: exercises and theory",
          "puzzleCount": 28,
          "parentTopicId": 43,
          "contentDetailsId": 70
        }
      ],
      "solution": "import math\nimport sys\n\nl = int(input())\nw = int(input())\nh = int(input())\nn = int(input())\n\nlines = [input() for _ in range(n)]\n\ngrid = []\nlayer = []\nfor line in lines:\n    if line == \"\":\n        grid.append(layer)\n        layer = []\n    else:\n        layer.append(line)\ngrid.append(layer)\n\nbrightness = [[[0 for _ in range(l)] for _ in range(w)] for _ in range(h)]\n\ndef char_to_val(c):\n    if c == '.': return None\n    if '0' <= c <= '9': return int(c)\n    return 10 + ord(c) - ord('A')\n\ndef val_to_char(v):\n    if v <= 9: return str(v)\n    if v >= 35: return 'Z'\n    return chr(ord('A') + v - 10)\n\nfor z0 in range(h):\n    for y0 in range(w):\n        for x0 in range(l):\n            c = grid[z0][y0][x0]\n            r = char_to_val(c)\n            if r is None:\n                continue\n            for z1 in range(h):\n                for y1 in range(w):\n                    for x1 in range(l):\n                        dx = x1 - x0\n                        dy = y1 - y0\n                        dz = z1 - z0\n                        d = round(math.sqrt(dx*dx + dy*dy + dz*dz))\n                        b = r - d\n                        if b > 0:\n                            brightness[z1][y1][x1] += b\n\nfor z in range(h):\n    for y in range(w):\n        line = ''.join(val_to_char(brightness[z][y][x]) for x in range(l))\n        print(line)\n    if z != h - 1:\n        print()\n",
      "statement": "Great news! Bob from Bobville discovered the 4th Dimension and found a way to move there!\nBobville can be displayed as a 3D grid with length [[l]], width [[w]], and depth [[d]], viewed from the sky.\nThe grid from both the input and output is a 2D grid with length (horizontally) and width (vertically) repeated depth times, with a line break between each 2D grid.\nSo length = 3, width = 4, depth = 2 would look like this:\n###\n###\n###\n###\n\n###\n###\n###\n###\n\nEach cell from the 3D grid contains either a {{.}} or a single character representing a light source radius:\n- 1 to 9 represent radius 1 to 9\n- A to Z represent radius 10 to 35 (A=10, B=11, ..., Z=35)\n\nIf lit, the brightness from that source on the cell is:\n\n[[brightness]] = [[radius]] - [[d]]\n\nwhere [[d]] is the (3D) Euclidean distance from the source cell center to the target cell center, rounded to the nearest integer.\n\nIf multiple sources light a cell, add their brightness values.\nIf no source lights a cell, its brightness is 0.\nIf the brightness calculated using the formula results in a negative value, it should be treated as 0.\n\nOutput the full grid of Bobville showing the brightness of each cell, using:\n- {{0–9}} for brightness {{0–9}}\n- {{A–Z}} for brightness {{10–35}}\n\nNote: For a value above Z (like 36), it is still Z.\nNote: The brightness applies uniformly to a whole cell.",
      "testCases": [
        {
          "title": "Simple",
          "isTest": true,
          "testIn": "3\n4\n2\n9\n...\n.3.\n...\n...\n\n...\n...\n...\n.2.",
          "testOut": "222\n232\n232\n222\n\n121\n222\n232\n232",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Simple.1",
          "isTest": false,
          "testIn": "3\n3\n3\n11\n...\n...\n...\n\n...\n2..\n...\n\n...\n...\n...",
          "testOut": "100\n110\n100\n\n110\n210\n110\n\n100\n110\n100",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Simple Again",
          "isTest": true,
          "testIn": "4\n2\n4\n11\n....\n.2..\n\n....\n....\n\n....\n....\n\n..3.\n....",
          "testOut": "1110\n1210\n\n0211\n1221\n\n1222\n1121\n\n1232\n1222",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Simple Again.1",
          "isTest": false,
          "testIn": "3\n3\n3\n11\n...\n...\n...\n\n...\n.2.\n...\n\n...\n...\n...",
          "testOut": "010\n111\n010\n\n111\n121\n111\n\n010\n111\n010",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "More Towns",
          "isTest": true,
          "testIn": "4\n5\n4\n23\n.2..\n....\n....\n...1\n....\n\n....\n....\n.4..\n....\n....\n\n....\n...2\n....\n....\n11..\n\n....\n....\n..1.\n..1.\n...2",
          "testOut": "3431\n3432\n3332\n2323\n2221\n\n3332\n3443\n3433\n3332\n2221\n\n2232\n2334\n3343\n2323\n3332\n\n1112\n2232\n2232\n2242\n1123",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "More Towns.1",
          "isTest": false,
          "testIn": "3\n4\n5\n24\n...\n.4.\n...\n...\n\n2..\n...\n.1.\n...\n\n...\n...\n...\n..2\n\n...\n...\n11.\n...\n\n...\n..1\n..1\n...",
          "testOut": "443\n443\n333\n222\n\n442\n443\n243\n233\n\n332\n322\n233\n123\n\n111\n111\n222\n011\n\n000\n001\n001\n000",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Rural",
          "isTest": true,
          "testIn": "5\n4\n6\n29\n.....\n.....\n...1.\n.....\n\n...22\n.....\n.....\n.....\n\n.....\n..1..\n.....\n...11\n\n.....\n.....\n...1.\n...1.\n\n.....\n.....\n..3..\n.....\n\n....1\n.....\n..1..\n.....",
          "testOut": "00122\n00011\n00010\n00000\n\n00133\n00122\n00000\n00000\n\n00122\n01221\n01110\n01121\n\n01110\n11211\n12231\n11221\n\n01110\n12221\n12321\n12221\n\n01111\n11211\n12321\n11211",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Rural.1",
          "isTest": false,
          "testIn": "5\n7\n2\n15\n.....\n...1.\n...11\n.....\n.....\n...3.\n.....\n\n1....\n.....\n..22.\n.....\n.....\n...1.\n...1.",
          "testOut": "00000\n00120\n01232\n00221\n01222\n01232\n01222\n\n10000\n01221\n01331\n01332\n01121\n01232\n01131",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Urban",
          "isTest": true,
          "testIn": "7\n4\n8\n39\n......4\n.......\n......2\n.......\n\n.3.....\n.......\n.......\n.......\n\n.......\n22.....\n.......\n..5....\n\n.......\n.......\n11.....\n.......\n\n.......\n...1...\n...1...\n.......\n\n2......\n.......\n.......\n......3\n\n.......\n.......\n.......\n.......\n\n.......\n...3...\n...3...\n.......",
          "testOut": "3333334\n3434454\n3443344\n2333233\n\n4644343\n6765434\n5553454\n3444333\n\n5653232\n6854333\n6764432\n3454321\n\n3432121\n5653221\n5543332\n3444332\n\n2211100\n3223221\n2334322\n2333333\n\n2222100\n2233311\n1244432\n1233333\n\n1223210\n1244331\n0345432\n1234432\n\n0133310\n0245420\n0245431\n0133321",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Urban.1",
          "isTest": false,
          "testIn": "7\n9\n4\n39\n.......\n..3....\n.......\n......3\n.2.....\n.......\n.......\n...3...\n.......\n\n.......\n....2..\n.......\n.......\n.......\n.2...2.\n.......\n3......\n.....11\n\n.......\n...3...\n...3...\n.......\n.......\n....6..\n.......\n....1..\n.......\n\n2......\n...1...\n.......\n.......\n.......\n...3...\n.......\n.......\n...1.1.",
          "testOut": "1234410\n1366632\n2366744\n2465556\n2544575\n5565665\n3566663\n3566543\n3354432\n\n1256531\n1569862\n2579974\n1568775\n4586967\n4777886\n5787865\n4566653\n3545453\n\n1355521\n1479752\n1579863\n2378864\n2568785\n4677975\n4678774\n4466743\n3344432\n\n2234321\n1447541\n1457652\n1368753\n2477854\n2468764\n3566754\n2345543\n2324342",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "TOO MUCH LIGHT",
          "isTest": true,
          "testIn": "6\n7\n5\n39\n......\n.....5\n......\n.....2\n......\n3....5\n......\n\n2.....\n......\n......\n..5...\n......\n......\n.....2\n\n.....1\n.....1\n......\n3.....\n......\n.2.2..\n......\n\n......\n...6..\n......\n......\n......\n...4..\n......\n\n......\n.....2\n......\n.3....\n..5...\n......\n...1..",
          "testOut": "467887\n568AA9\n67BADB\n6B9BCC\n89CBEA\n589A99\n357676\n\n578988\n6AABB9\n8ADDDC\n9DEEFE\n9DFFDD\n8CDDDA\n479A98\n\n578989\n8AABBA\nBCEEEB\nBEHHFB\nDFHGFB\n9EEFDA\n69ABB9\n\n468887\n8ABBB9\nADFEDA\nBEGFD9\nBFGGEA\nACFDD9\n489A96\n\n466776\n689998\n9CCCA8\n9EEDA9\nADEDA8\n79BBA6\n377965",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "TOO MUCH LIGHT.1",
          "isTest": false,
          "testIn": "7\n5\n6\n35\n.....5.\n.......\n.......\n..3....\n....2..\n\n.......\n.2.....\n.......\n....5..\n.......\n\n.3.....\n.5.....\n.......\n.......\n...11..\n\n.......\n.......\n......3\n......2\n.......\n\n2......\n.3.....\n.1.....\n1......\n.......\n\n.......\n.......\n...5...\n.......\n.......",
          "testOut": "4777775\n58A9886\n5999966\n469A975\n3568854\n\n699A875\n7BCC996\n7ACBBA7\n57AAB76\n4578864\n\n7CA9885\n9BDBB98\n8BDBB99\n579A998\n3677765\n\n8BA9775\n9BDBA97\n6AABAA8\n6798998\n3566675\n\n9998653\n9BA8776\n7AA9886\n6778776\n2456554\n\n5765421\n7786643\n5778653\n4576554\n2344431",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "im blind",
          "isTest": true,
          "testIn": "6\n6\n6\n41\n..3...\n..6...\n......\n....11\n......\n.1....\n\n......\n....8.\n......\n...A..\n......\n......\n\n...2..\n...F..\n......\n......\n...3..\n......\n\n......\n......\n...2..\n.....4\n......\n......\n\n......\n......\n.....2\n.....2\n......\n...22.\n\n...F..\n......\n......\n...2..\n......\n...4..",
          "testOut": "ZZZZZZ\nZZZZZZ\nZZZZZZ\nWZZZZZ\nUYZZZZ\nRVWYXU\n\nZZZZZZ\nZZZZZZ\nZZZZZZ\nYZZZZZ\nWZZZZZ\nRVZZZW\n\nZZZZZZ\nZZZZZZ\nZZZZZZ\nYZZZZZ\nWZZZZZ\nRWZZZZ\n\nXZZZZZ\nZZZZZZ\nYZZZZZ\nWZZZZZ\nVZZZZZ\nSWZZZY\n\nWZZZZZ\nXZZZZZ\nWZZZZZ\nWYZZZZ\nUXZZZZ\nRUYZZY\n\nUXZZZX\nVXZZZZ\nUWZZZZ\nSXZZZZ\nSUZZZY\nPTVZXV",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "im blind.1",
          "isTest": false,
          "testIn": "6\n6\n5\n34\n.2....\n......\n...3..\n......\n...A..\n......\n\n......\n...2..\n......\n.....6\n......\n......\n\n......\n......\n...D..\n......\n.2.2..\n....11\n\n......\n..1...\n..1...\n.3....\n......\n...54.\n\n..9...\n......\n......\n...D..\n......\n....22",
          "testOut": "RWXXXV\nTWZZZX\nSWZZZZ\nTZZZZZ\nTWZZZZ\nRUXZZX\n\nSVZZZV\nUZZZZZ\nWZZZZZ\nXZZZZZ\nXZZZZZ\nTYZZZZ\n\nSWYZYW\nWZZZZZ\nYZZZZZ\nZZZZZZ\nXZZZZZ\nWZZZZZ\n\nTXZZZW\nWZZZZZ\nZZZZZZ\nZZZZZZ\nZZZZZZ\nVZZZZZ\n\nTVYXXV\nUZZZZX\nWZZZZZ\nWZZZZZ\nWZZZZZ\nTYZZZZ",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "pls stop wasting electricity",
          "isTest": true,
          "testIn": "4\n5\n6\n35\n..2.\n....\n..3.\n....\n.5.6\n\n...D\n....\n.11.\n.1..\n....\n\n.J..\n....\n....\n....\n....\n\n2...\n33..\n....\n...2\n.22.\n\n5...\n.6..\n...2\n....\n.1..\n\n....\n....\n....\n...1\n.654",
          "testOut": "WZZY\nZZZZ\nZZZZ\nYZZZ\nVZZZ\n\nZZZZ\nZZZZ\nZZZZ\nZZZZ\nZZZZ\n\nZZZZ\nZZZZ\nZZZZ\nZZZZ\nZZZZ\n\nZZZZ\nZZZZ\nZZZZ\nZZZZ\nZZZZ\n\nZZZZ\nZZZZ\nZZZZ\nZZZZ\nZZZZ\n\nZZZX\nZZZZ\nZZZZ\nZZZZ\nYZZZ",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "pls stop wasting electricity.1",
          "isTest": false,
          "testIn": "3\n5\n4\n23\n...\n.3.\n.3.\n.33\n...\n\n6..\n...\n.K.\n...\n..1\n\n2.1\n...\n.3.\n...\n2..\n\n..9\n...\n...\n.8.\n...",
          "testOut": "ZZZ\nZZZ\nZZZ\nZZZ\nXYX\n\nZZZ\nZZZ\nZZZ\nZZZ\nZZZ\n\nZZZ\nZZZ\nZZZ\nZZZ\nYZX\n\nZZZ\nZZZ\nZZZ\nYZY\nXWV",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "2D again???",
          "isTest": true,
          "testIn": "13\n13\n1\n13\n.............\n.............\n.............\n.............\n.............\n.............\n......Q......\n.............\n.............\n.............\n.............\n.............\n.............",
          "testOut": "IIJJKKKKKJJII\nIJKKLLLLLKKJI\nJKKLMMMMMLKKJ\nJKLMMNNNMMLKJ\nKLMMNOOONMMLK\nKLMNOPPPONMLK\nKLMNOPQPONMLK\nKLMNOPPPONMLK\nKLMMNOOONMMLK\nJKLMMNNNMMLKJ\nJKKLMMMMMLKKJ\nIJKKLLLLLKKJI\nIIJJKKKKKJJII",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "2D again???.1",
          "isTest": false,
          "testIn": "13\n13\n1\n13\n.............\n.............\n.............\n.............\n.............\n.............\n.............\n......Q......\n.............\n.............\n.............\n.............\n.............",
          "testOut": "HHIIJJJJJIIHH\nIIJJKKKKKJJII\nIJKKLLLLLKKJI\nJKKLMMMMMLKKJ\nJKLMMNNNMMLKJ\nKLMMNOOONMMLK\nKLMNOPPPONMLK\nKLMNOPQPONMLK\nKLMNOPPPONMLK\nKLMMNOOONMMLK\nJKLMMNNNMMLKJ\nJKKLMMMMMLKKJ\nIJKKLLLLLKKJI",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "easy",
      "constraints": "1 ≤ [[l]], [[w]], [[d]] ≤ 20\n1 ≤ [[n]] ≤ 450",
      "coverBinaryId": 145725348463500,
      "stubGenerator": "read l:int\nread w:int\nread d:int\nread n:int\nloop n read s:string(20)\nwrite Bobville",
      "inputDescription": "<<Line 1:>> An integer [[l]] representing the length of the grid.\n<<Line 2:>> An integer [[w]] representing the width of the grid.\n<<Line 3:>> An integer [[d]] representing the depth of the grid.\n<<Line 4:>> An integer [[n]] representing the number of lines for the grid.\n<<Next [[n]] lines:>> A string [[s]] representing 1 line of 3D Bobville.",
      "solutionLanguage": "Python3",
      "outputDescription": "<<[[n]] lines:>> A line of Bobville's brightness."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Great news! Bob from Bobville discovered the 4th Dimension and found a way to move there!<br>Bobville can be displayed as a 3D grid with length <var>l</var>, width <var>w</var>, and depth <var>d</var>, viewed from the sky.<br>The grid from both the input and output is a 2D grid with length (horizontally) and width (vertically) repeated depth times, with a line break between each 2D grid.<br>So length = 3, width = 4, depth = 2 would look like this:<br>###<br>###<br>###<br>###<br><br>###<br>###<br>###<br>###<br><br>Each cell from the 3D grid contains either a <const>.</const> or a single character representing a light source radius:<br>- 1 to 9 represent radius 1 to 9<br>- A to Z represent radius 10 to 35 (A=10, B=11, ..., Z=35)<br><br>If lit, the brightness from that source on the cell is:<br><br><var>brightness</var> = <var>radius</var> - <var>d</var><br><br>where <var>d</var> is the (3D) Euclidean distance from the source cell center to the target cell center, rounded to the nearest integer.<br><br>If multiple sources light a cell, add their brightness values.<br>If no source lights a cell, its brightness is 0.<br>If the brightness calculated using the formula results in a negative value, it should be treated as 0.<br><br>Output the full grid of Bobville showing the brightness of each cell, using:<br>- <const>0&ndash;9</const> for brightness <const>0&ndash;9</const><br>- <const>A&ndash;Z</const> for brightness <const>10&ndash;35</const><br><br>Note: For a value above Z (like 36), it is still Z.<br>Note: The brightness applies uniformly to a whole cell.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> An integer <var>l</var> representing the length of the grid.<br><strong>Line 2:</strong> An integer <var>w</var> representing the width of the grid.<br><strong>Line 3:</strong> An integer <var>d</var> representing the depth of the grid.<br><strong>Line 4:</strong> An integer <var>n</var> representing the number of lines for the grid.<br><strong>Next <var>n</var> lines:</strong> A string <var>s</var> representing 1 line of 3D Bobville.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong><var>n</var> lines:</strong> A line of Bobville's brightness.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">1 &le; <var>l</var>, <var>w</var>, <var>d</var> &le; 20<br>1 &le; <var>n</var> &le; 450</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">3\n4\n2\n9\n...\n.3.\n...\n...\n\n...\n...\n...\n.2.</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">222\n232\n232\n222\n\n121\n222\n232\n232</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 15786846116,
  "avatar": 154204769409682,
  "commentCount": 24,
  "upVotes": 7,
  "downVotes": 3,
  "validateAction": {
    "actionId": 1190395,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "REFUSED",
      "date": 1752519937001,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1752537266636,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "ACCEPTED",
      "date": 1754941501131,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}