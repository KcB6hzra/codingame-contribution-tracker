{
  "id": 4455,
  "activeVersion": 8,
  "score": 2,
  "votableId": 11108771,
  "codingamerId": 2064637,
  "views": 212,
  "commentableId": 11037039,
  "title": "Detective Pikaptcha EP1",
  "status": "ACCEPTED",
  "type": "PUZZLE_SOLO",
  "nickname": "java_coffee_cup",
  "publicHandle": "4455835db3e335b10d0543741834474af821",
  "codingamerHandle": "f4c116cad137a7eee91b727ff6fe53597364602",
  "lastVersion": {
    "version": 8,
    "autocloseTime": 1566653214587,
    "data": {
      "title": "Detective Pikaptcha EP1",
      "topics": [
        {
          "labelMap": {
            "2": "maze"
          }
        },
        {
          "labelMap": {
            "2": "neighbour count"
          }
        }
      ],
      "difficulty": "easy",
      "refereeMd5": "2064637/480e6486ad4fada7586b43178c2b7548",
      "testHandle": "8240365c22f134e659d7ae29dd027f6931adeb",
      "viewerCode": "var Drawer=function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=2)}([function(t,e,i){\"use strict\";(function(t){function i(t){return(i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function n(t,e,i){return(n=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(n){var s=Object.getOwnPropertyDescriptor(n,e);return s.get?s.get.call(i):s.value}})(t,e,i||t)}function s(t,e){return!e||\"object\"!==i(e)&&\"function\"!=typeof e?r(t):e}function r(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}function h(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,i){return e&&l(t.prototype,e),i&&l(t,i),t}e.a=function(){var e,i=PIXI,l=i.Rectangle,u=i.Point,p=i.Container,d=i.VERSION,f=function(){function t(e){h(this,t),this.viewport=e,this.touches=[],this.addListeners()}return c(t,[{key:\"addListeners\",value:function(){var t=this;this.viewport.interactive=!0,this.viewport.forceHitArea||(this.viewport.hitArea=new l(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on(\"pointerdown\",this.down,this),this.viewport.on(\"pointermove\",this.move,this),this.viewport.on(\"pointerup\",this.up,this),this.viewport.on(\"pointerupoutside\",this.up,this),this.viewport.on(\"pointercancel\",this.up,this),this.viewport.on(\"pointerout\",this.up,this),this.wheelFunction=function(e){return t.handleWheel(e)},this.viewport.options.divWheel.addEventListener(\"wheel\",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}},{key:\"destroy\",value:function(){this.viewport.options.divWheel.removeEventListener(\"wheel\",this.wheelFunction)}},{key:\"down\",value:function(t){if(!this.viewport.pause&&this.viewport.worldVisible){if(\"mouse\"===t.data.pointerType?this.isMouseDown=!0:this.get(t.data.pointerId)||this.touches.push({id:t.data.pointerId,last:null}),1===this.count()){this.last=t.data.global.clone();var e=this.viewport.plugins.get(\"decelerate\"),i=this.viewport.plugins.get(\"bounce\");e&&e.isActive()||i&&i.isActive()?this.clickedAvailable=!1:this.clickedAvailable=!0}else this.clickedAvailable=!1;this.viewport.plugins.down(t)&&this.viewport.options.stopPropagation&&t.stopPropagation()}}},{key:\"checkThreshold\",value:function(t){return Math.abs(t)>=this.viewport.threshold}},{key:\"move\",value:function(t){if(!this.viewport.pause&&this.viewport.worldVisible){var e=this.viewport.plugins.move(t);if(this.clickedAvailable){var i=t.data.global.x-this.last.x,n=t.data.global.y-this.last.y;(this.checkThreshold(i)||this.checkThreshold(n))&&(this.clickedAvailable=!1)}e&&this.viewport.options.stopPropagation&&t.stopPropagation()}}},{key:\"up\",value:function(t){if(!this.viewport.pause&&this.viewport.worldVisible){\"mouse\"===t.data.pointerType&&(this.isMouseDown=!1),\"mouse\"!==t.data.pointerType&&this.remove(t.data.pointerId);var e=this.viewport.plugins.up(t);this.clickedAvailable&&0===this.count()&&(this.viewport.emit(\"clicked\",{screen:this.last,world:this.viewport.toWorld(this.last),viewport:this}),this.clickedAvailable=!1),e&&this.viewport.options.stopPropagation&&t.stopPropagation()}}},{key:\"getPointerPosition\",value:function(t){var e=new u;return this.viewport.options.interaction?this.viewport.options.interaction.mapPositionToPoint(e,t.clientX,t.clientY):(e.x=t.clientX,e.y=t.clientY),e}},{key:\"handleWheel\",value:function(t){if(!this.viewport.pause&&this.viewport.worldVisible){var e=this.viewport.toLocal(this.getPointerPosition(t));return this.viewport.left<=e.x&&e.x<=this.viewport.right&&this.viewport.top<=e.y&&e.y<=this.viewport.bottom?this.viewport.plugins.wheel(t):void 0}}},{key:\"pause\",value:function(){this.touches=[],this.isMouseDown=!1}},{key:\"get\",value:function(t){var e=!0,i=!1,n=void 0;try{for(var s,r=this.touches[Symbol.iterator]();!(e=(s=r.next()).done);e=!0){var a=s.value;if(a.id===t)return a}}catch(t){i=!0,n=t}finally{try{e||null==r.return||r.return()}finally{if(i)throw n}}return null}},{key:\"remove\",value:function(t){for(var e=0;e<this.touches.length;e++)if(this.touches[e].id===t)return void this.touches.splice(e,1)}},{key:\"count\",value:function(){return(this.isMouseDown?1:0)+this.touches.length}}]),t}(),v=[\"drag\",\"pinch\",\"wheel\",\"follow\",\"mouse-edges\",\"decelerate\",\"bounce\",\"snap-zoom\",\"clamp-zoom\",\"snap\",\"clamp\"],y=function(){function t(e){h(this,t),this.viewport=e,this.list=[],this.plugins={}}return c(t,[{key:\"add\",value:function(t,e,i){var n=2<arguments.length&&void 0!==i?i:v.length;this.plugins[t]=e;var s=v.indexOf(t);-1!==s&&v.splice(s,1),v.splice(n,0,t),this.sort()}},{key:\"get\",value:function(t){return this.plugins[t]}},{key:\"update\",value:function(t){var e=!0,i=!1,n=void 0;try{for(var s,r=this.list[Symbol.iterator]();!(e=(s=r.next()).done);e=!0)s.value.update(t)}catch(t){i=!0,n=t}finally{try{e||null==r.return||r.return()}finally{if(i)throw n}}}},{key:\"resize\",value:function(){var t=!0,e=!1,i=void 0;try{for(var n,s=this.list[Symbol.iterator]();!(t=(n=s.next()).done);t=!0)n.value.resize()}catch(t){e=!0,i=t}finally{try{t||null==s.return||s.return()}finally{if(e)throw i}}}},{key:\"reset\",value:function(){this.plugins.bounce&&(this.plugins.bounce.reset(),this.plugins.bounce.bounce()),this.plugins.decelerate&&this.plugins.decelerate.reset(),this.plugins.snap&&this.plugins.snap.reset(),this.plugins.clamp&&this.plugins.clamp.update(),this.plugins[\"clamp-zoom\"]&&this.plugins[\"clamp-zoom\"].clamp()}},{key:\"remove\",value:function(t){this.plugins[t]&&(this.plugins[t]=null,this.viewport.emit(t+\"-remove\"),this.sort())}},{key:\"pause\",value:function(t){this.plugins[t]&&this.plugins[t].pause()}},{key:\"resume\",value:function(t){this.plugins[t]&&this.plugins[t].resume()}},{key:\"sort\",value:function(){this.list=[];for(var t=0,e=v;t<e.length;t++){var i=e[t];this.plugins[i]&&this.list.push(this.plugins[i])}}},{key:\"down\",value:function(t){var e=!1,i=!0,n=!1,s=void 0;try{for(var r,a=this.list[Symbol.iterator]();!(i=(r=a.next()).done);i=!0)r.value.down(t)&&(e=!0)}catch(t){n=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw s}}return e}},{key:\"move\",value:function(t){var e=!1,i=!0,n=!1,s=void 0;try{for(var r,a=this.viewport.plugins.list[Symbol.iterator]();!(i=(r=a.next()).done);i=!0)r.value.move(t)&&(e=!0)}catch(t){n=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw s}}return e}},{key:\"up\",value:function(t){var e=!1,i=!0,n=!1,s=void 0;try{for(var r,a=this.list[Symbol.iterator]();!(i=(r=a.next()).done);i=!0)r.value.up(t)&&(e=!0)}catch(t){n=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw s}}return e}},{key:\"wheel\",value:function(t){var e=!1,i=!0,n=!1,s=void 0;try{for(var r,a=this.list[Symbol.iterator]();!(i=(r=a.next()).done);i=!0)r.value.wheel(t)&&(e=!0)}catch(t){n=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw s}}return e}}]),t}(),g=function(){function t(e){h(this,t),this.parent=e,this.paused=!1}return c(t,[{key:\"destroy\",value:function(){}},{key:\"down\",value:function(){return!1}},{key:\"move\",value:function(){return!1}},{key:\"up\",value:function(){return!1}},{key:\"wheel\",value:function(){return!1}},{key:\"update\",value:function(){}},{key:\"resize\",value:function(){}},{key:\"reset\",value:function(){}},{key:\"pause\",value:function(){this.paused=!0}},{key:\"resume\",value:function(){this.paused=!1}}]),t}(),m={direction:\"all\",wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:\"center\",factor:1,mouseButtons:\"all\"},w=function(){function t(e){var i,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return h(this,t),(i=s(this,a(t).call(this,e))).options=Object.assign({},m,n),i.moved=!1,i.reverse=i.options.reverse?1:-1,i.xDirection=!i.options.direction||\"all\"===i.options.direction||\"x\"===i.options.direction,i.yDirection=!i.options.direction||\"all\"===i.options.direction||\"y\"===i.options.direction,i.parseUnderflow(),i.mouseButtons(i.options.mouseButtons),i}return o(t,g),c(t,[{key:\"mouseButtons\",value:function(t){this.mouse=t&&\"all\"!==t?[-1!==t.indexOf(\"left\"),-1!==t.indexOf(\"middle\"),-1!==t.indexOf(\"right\")]:[!0,!0,!0]}},{key:\"parseUnderflow\",value:function(){var t=this.options.underflow.toLowerCase();\"center\"===t?(this.underflowX=0,this.underflowY=0):(this.underflowX=-1!==t.indexOf(\"left\")?-1:-1!==t.indexOf(\"right\")?1:0,this.underflowY=-1!==t.indexOf(\"top\")?-1:-1!==t.indexOf(\"bottom\")?1:0)}},{key:\"checkButtons\",value:function(t){var e=\"mouse\"===t.data.pointerType,i=this.parent.input.count();return!(!(1===i||1<i&&!this.parent.plugins.get(\"pinch\"))||e&&!this.mouse[t.data.button])}},{key:\"down\",value:function(t){if(!this.paused)return this.checkButtons(t)?(this.last={x:t.data.global.x,y:t.data.global.y},this.current=t.data.pointerId,!0):void(this.last=null)}},{key:\"move\",value:function(t){if(!this.paused&&this.last&&this.current===t.data.pointerId){var e=t.data.global.x,i=t.data.global.y,n=this.parent.input.count();if(1===n||1<n&&!this.parent.plugins.get(\"pinch\")){var s=e-this.last.x,r=i-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(s)||this.yDirection&&this.parent.input.checkThreshold(r)){var a={x:e,y:i};return this.xDirection&&(this.parent.x+=(a.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(a.y-this.last.y)*this.options.factor),this.last=a,this.moved||this.parent.emit(\"drag-start\",{screen:new u(this.last.x,this.last.y),world:this.parent.toWorld(new u(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit(\"moved\",{viewport:this.parent,type:\"drag\"}),!0}}else this.moved=!1}}},{key:\"up\",value:function(){var t=this.parent.input.touches;if(1===t.length){var e=t[0];return e.last&&(this.last={x:e.last.x,y:e.last.y},this.current=e.id),!(this.moved=!1)}if(this.last&&this.moved){var i=new u(this.last.x,this.last.y);return this.parent.emit(\"drag-end\",{screen:i,world:this.parent.toWorld(i),viewport:this.parent}),this.last=null,!(this.moved=!1)}}},{key:\"wheel\",value:function(t){if(!this.paused&&this.options.wheel&&!this.parent.plugins.get(\"wheel\"))return this.xDirection&&(this.parent.x+=t.deltaX*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=t.deltaY*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit(\"wheel-scroll\",this.parent),this.parent.emit(\"moved\",this.parent),this.parent.options.passiveWheel||t.preventDefault(),!0}},{key:\"resume\",value:function(){this.last=null,this.paused=!1}},{key:\"clamp\",value:function(){var t=this.parent.plugins.get(\"decelerate\")||{};if(\"y\"!==this.options.clampWheel)if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,t.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,t.x=0);if(\"x\"!==this.options.clampWheel)if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,t.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,t.y=0)}},{key:\"active\",get:function(){return this.moved}}]),t}(),b={noDrag:!1,percent:1,center:null},k=function(){function t(e){var i,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return h(this,t),(i=s(this,a(t).call(this,e))).options=Object.assign({},b,n),i}return o(t,g),c(t,[{key:\"down\",value:function(){if(2<=this.parent.input.count())return this.active=!0}},{key:\"move\",value:function(t){if(!this.paused&&this.active){var e=t.data.global.x,i=t.data.global.y,n=this.parent.input.touches;if(2<=n.length){var s=n[0],r=n[1],a=s.last&&r.last?Math.sqrt(Math.pow(r.last.x-s.last.x,2)+Math.pow(r.last.y-s.last.y,2)):null;if(s.id===t.data.pointerId?s.last={x:e,y:i,data:t.data}:r.id===t.data.pointerId&&(r.last={x:e,y:i,data:t.data}),a){var o,h={x:s.last.x+(r.last.x-s.last.x)/2,y:s.last.y+(r.last.y-s.last.y)/2};this.options.center||(o=this.parent.toLocal(h));var l=(Math.sqrt(Math.pow(r.last.x-s.last.x,2)+Math.pow(r.last.y-s.last.y,2))-a)/this.parent.screenWidth*this.parent.scale.x*this.options.percent;this.parent.scale.x+=l,this.parent.scale.y+=l,this.parent.emit(\"zoomed\",{viewport:this.parent,type:\"pinch\"});var c=this.parent.plugins.get(\"clamp-zoom\");if(c&&c.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{var u=this.parent.toGlobal(o);this.parent.x+=h.x-u.x,this.parent.y+=h.y-u.y,this.parent.emit(\"moved\",{viewport:this.parent,type:\"pinch\"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=h.x-this.lastCenter.x,this.parent.y+=h.y-this.lastCenter.y,this.parent.emit(\"moved\",{viewport:this.parent,type:\"pinch\"})),this.lastCenter=h,this.moved=!0}else this.pinching||(this.parent.emit(\"pinch-start\",this.parent),this.pinching=!0);return!0}}}},{key:\"up\",value:function(){if(this.pinching&&this.parent.input.touches.length<=1)return this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit(\"pinch-end\",this.parent),!0}}]),t}(),x={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:\"center\"},S=function(){function t(e){var i,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return h(this,t),(i=s(this,a(t).call(this,e))).options=Object.assign({},x,n),i.options.direction&&(i.options.left=\"x\"===i.options.direction||\"all\"===i.options.direction||null,i.options.right=\"x\"===i.options.direction||\"all\"===i.options.direction||null,i.options.top=\"y\"===i.options.direction||\"all\"===i.options.direction||null,i.options.bottom=\"y\"===i.options.direction||\"all\"===i.options.direction||null),i.parseUnderflow(),i.update(),i}return o(t,g),c(t,[{key:\"parseUnderflow\",value:function(){var t=this.options.underflow.toLowerCase();\"none\"===t?this.noUnderflow=!0:(\"center\"===t?this.underflowX=this.underflowY=0:(this.underflowX=-1!==t.indexOf(\"left\")?-1:-1!==t.indexOf(\"right\")?1:0,this.underflowY=-1!==t.indexOf(\"top\")?-1:-1!==t.indexOf(\"bottom\")?1:0),this.noUnderflow=!1)}},{key:\"move\",value:function(){return this.update(),!1}},{key:\"update\",value:function(){if(!this.paused){var t={x:this.parent.x,y:this.parent.y},e=this.parent.plugins.decelerate||{};if(null!==this.options.left||null!==this.options.right){var i=!1;if(this.parent.screenWorldWidth<this.parent.screenWidth){if(!this.noUnderflow)switch(this.underflowX){case-1:0!==this.parent.x&&(i=!(this.parent.x=0));break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,i=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,i=!0)}}else null!==this.options.left&&this.parent.left<(!0===this.options.left?0:this.options.left)&&(this.parent.x=-(!0===this.options.left?0:this.options.left)*this.parent.scale.x,i=!(e.x=0)),null!==this.options.right&&this.parent.right>(!0===this.options.right?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(!0===this.options.right?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,i=!(e.x=0));i&&this.parent.emit(\"moved\",{viewport:this.parent,original:t,type:\"clamp-x\"})}if(null!==this.options.top||null!==this.options.bottom){var n=!1;if(this.parent.screenWorldHeight<this.parent.screenHeight){if(!this.noUnderflow)switch(this.underflowY){case-1:0!==this.parent.y&&(n=!(this.parent.y=0));break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,n=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,n=!0)}}else null!==this.options.top&&this.parent.top<(!0===this.options.top?0:this.options.top)&&(this.parent.y=-(!0===this.options.top?0:this.options.top)*this.parent.scale.y,n=!(e.y=0)),null!==this.options.bottom&&this.parent.bottom>(!0===this.options.bottom?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(!0===this.options.bottom?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,n=!(e.y=0));n&&this.parent.emit(\"moved\",{viewport:this.parent,original:t,type:\"clamp-y\"})}}}}]),t}(),P={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null},O=function(){function t(e){var i,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return h(this,t),(i=s(this,a(t).call(this,e))).options=Object.assign({},P,n),i.clamp(),i}return o(t,g),c(t,[{key:\"resize\",value:function(){this.clamp()}},{key:\"clamp\",value:function(){if(!this.paused){var t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight;if(null!==this.options.minWidth&&t<this.options.minWidth){var i=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/i,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit(\"zoomed\",{viewport:this.parent,type:\"clamp-zoom\"})}if(null!==this.options.maxWidth&&t>this.options.maxWidth){var n=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/n,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit(\"zoomed\",{viewport:this.parent,type:\"clamp-zoom\"})}if(null!==this.options.minHeight&&e<this.options.minHeight){var s=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/s,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit(\"zoomed\",{viewport:this.parent,type:\"clamp-zoom\"})}if(null!==this.options.maxHeight&&e>this.options.maxHeight){var r=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,this.parent.emit(\"zoomed\",{viewport:this.parent,type:\"clamp-zoom\"})}}}}]),t}(),I={friction:.95,bounce:.8,minSpeed:.01},W=function(){function t(e){var i,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return h(this,t),(i=s(this,a(t).call(this,e))).options=Object.assign({},I,n),i.saved=[],i.reset(),i.parent.on(\"moved\",function(t){return i.moved(t)}),i}return o(t,g),c(t,[{key:\"destroy\",value:function(){this.parent}},{key:\"down\",value:function(){this.saved=[],this.x=this.y=!1}},{key:\"isActive\",value:function(){return this.x||this.y}},{key:\"move\",value:function(){if(!this.paused){var t=this.parent.input.count();(1===t||1<t&&!this.parent.plugins.get(\"pinch\"))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),60<this.saved.length&&this.saved.splice(0,30))}}},{key:\"moved\",value:function(t){if(this.saved.length){var e=this.saved[this.saved.length-1];\"clamp-x\"===t.type?e.x===t.original.x&&(e.x=this.parent.x):\"clamp-y\"===t.type&&e.y===t.original.y&&(e.y=this.parent.y)}}},{key:\"up\",value:function(){if(0===this.parent.input.count()&&this.saved.length){var t=performance.now(),e=!0,i=!1,n=void 0;try{for(var s,r=this.saved[Symbol.iterator]();!(e=(s=r.next()).done);e=!0){var a=s.value;if(a.time>=t-100){var o=t-a.time;this.x=(this.parent.x-a.x)/o,this.y=(this.parent.y-a.y)/o,this.percentChangeX=this.percentChangeY=this.options.friction;break}}}catch(t){i=!0,n=t}finally{try{e||null==r.return||r.return()}finally{if(i)throw n}}}}},{key:\"activate\",value:function(t){void 0!==(t=t||{}).x&&(this.x=t.x,this.percentChangeX=this.options.friction),void 0!==t.y&&(this.y=t.y,this.percentChangeY=this.options.friction)}},{key:\"update\",value:function(t){var e;this.paused||(this.x&&(this.parent.x+=this.x*t,this.x*=this.percentChangeX,Math.abs(this.x)<this.minSpeed&&(this.x=0),e=!0),this.y&&(this.parent.y+=this.y*t,this.y*=this.percentChangeY,Math.abs(this.y)<this.minSpeed&&(this.y=0),e=!0),e&&this.parent.emit(\"moved\",{viewport:this.parent,type:\"decelerate\"}))}},{key:\"reset\",value:function(){this.x=this.y=null}}]),t}(),C=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:void 0!==t?t:\"undefined\"!=typeof self?self:{},M=(function(t){(function(){var e;!function(e){t.exports=e}(e={linear:function(t,e,i,n){return i*t/n+e},easeInQuad:function(t,e,i,n){return i*(t/=n)*t+e},easeOutQuad:function(t,e,i,n){return-i*(t/=n)*(t-2)+e},easeInOutQuad:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,i,n){return i*(t/=n)*t*t+e},easeOutCubic:function(t,e,i,n){return i*((t=t/n-1)*t*t+1)+e},easeInOutCubic:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,i,n){return i*(t/=n)*t*t*t+e},easeOutQuart:function(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,i,n){return i*(t/=n)*t*t*t*t+e},easeOutQuint:function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e},easeOutSine:function(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e},easeInOutSine:function(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e},easeInExpo:function(t,e,i,n){return 0===t?e:i*Math.pow(2,10*(t/n-1))+e},easeOutExpo:function(t,e,i,n){return t===n?e+i:i*(1-Math.pow(2,-10*t/n))+e},easeInOutExpo:function(t,e,i,n){return(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+e},easeOutCirc:function(t,e,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+e},easeInOutCirc:function(t,e,i,n){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,i,n){var s,r,a;return 1.70158,(r=0)===t||(t/=n),r=r||.3*n,a=(s=i)<Math.abs(i)?(s=i,r/4):r/(2*Math.PI)*Math.asin(i/s),-s*Math.pow(2,10*(t-=1))*Math.sin((t*n-a)*(2*Math.PI)/r)+e},easeOutElastic:function(t,e,i,n){var s,r,a;return 1.70158,(r=0)===t||(t/=n),r=r||.3*n,a=(s=i)<Math.abs(i)?(s=i,r/4):r/(2*Math.PI)*Math.asin(i/s),s*Math.pow(2,-10*t)*Math.sin((t*n-a)*(2*Math.PI)/r)+i+e},easeInOutElastic:function(t,e,i,n){var s,r,a;return 1.70158,(r=0)===t||(t/=n/2),r=r||n*(.3*1.5),a=(s=i)<Math.abs(i)?(s=i,r/4):r/(2*Math.PI)*Math.asin(i/s),t<1?s*Math.pow(2,10*(t-=1))*Math.sin((t*n-a)*(2*Math.PI)/r)*-.5+e:s*Math.pow(2,-10*(t-=1))*Math.sin((t*n-a)*(2*Math.PI)/r)*.5+i+e},easeInBack:function(t,e,i,n,s){return void 0===s&&(s=1.70158),i*(t/=n)*t*((s+1)*t-s)+e},easeOutBack:function(t,e,i,n,s){return void 0===s&&(s=1.70158),i*((t=t/n-1)*t*((s+1)*t+s)+1)+e},easeInOutBack:function(t,e,i,n,s){return void 0===s&&(s=1.70158),(t/=n/2)<1?i/2*(t*t*((1+(s*=1.525))*t-s))+e:i/2*((t-=2)*t*((1+(s*=1.525))*t+s)+2)+e},easeInBounce:function(t,i,n,s){return n-e.easeOutBounce(s-t,0,n,s)+i},easeOutBounce:function(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,i,n,s){return t<s/2?.5*e.easeInBounce(2*t,0,n,s)+i:.5*e.easeOutBounce(2*t-s,0,n,s)+.5*n+i}})}).call(C)}(e={exports:{}}),e.exports);function H(t,e){return t?\"function\"==typeof t?t:\"string\"==typeof t?M[t]:void 0:M[e]}var T={sides:\"all\",friction:.5,time:150,ease:\"easeInOutSine\",underflow:\"center\"},D=function(){function t(e){var i,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return h(this,t),(i=s(this,a(t).call(this,e))).options=Object.assign({},T,n),i.ease=H(i.options.ease,\"easeInOutSine\"),i.options.sides&&(\"all\"===i.options.sides?i.top=i.bottom=i.left=i.right=!0:\"horizontal\"===i.options.sides?i.right=i.left=!0:\"vertical\"===i.options.sides?i.top=i.bottom=!0:(i.top=-1!==i.options.sides.indexOf(\"top\"),i.bottom=-1!==i.options.sides.indexOf(\"bottom\"),i.left=-1!==i.options.sides.indexOf(\"left\"),i.right=-1!==i.options.sides.indexOf(\"right\"))),i.parseUnderflow(),i.last={},i.reset(),i}return o(t,g),c(t,[{key:\"parseUnderflow\",value:function(){var t=this.options.underflow.toLowerCase();\"center\"===t?(this.underflowX=0,this.underflowY=0):(this.underflowX=-1!==t.indexOf(\"left\")?-1:-1!==t.indexOf(\"right\")?1:0,this.underflowY=-1!==t.indexOf(\"top\")?-1:-1!==t.indexOf(\"bottom\")?1:0)}},{key:\"isActive\",value:function(){return null!==this.toX||null!==this.toY}},{key:\"down\",value:function(){this.toX=this.toY=null}},{key:\"up\",value:function(){this.bounce()}},{key:\"update\",value:function(t){if(!this.paused){if(this.bounce(),this.toX){var e=this.toX;e.time+=t,this.parent.emit(\"moved\",{viewport:this.parent,type:\"bounce-x\"}),e.time>=this.options.time?(this.parent.x=e.end,this.toX=null,this.parent.emit(\"bounce-x-end\",this.parent)):this.parent.x=this.ease(e.time,e.start,e.delta,this.options.time)}if(this.toY){var i=this.toY;i.time+=t,this.parent.emit(\"moved\",{viewport:this.parent,type:\"bounce-y\"}),i.time>=this.options.time?(this.parent.y=i.end,this.toY=null,this.parent.emit(\"bounce-y-end\",this.parent)):this.parent.y=this.ease(i.time,i.start,i.delta,this.options.time)}}}},{key:\"calcUnderflowX\",value:function(){var t;switch(this.underflowX){case-1:t=0;break;case 1:t=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:t=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return t}},{key:\"calcUnderflowY\",value:function(){var t;switch(this.underflowY){case-1:t=0;break;case 1:t=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:t=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return t}},{key:\"bounce\",value:function(){if(!this.paused){var t,e=this.parent.plugins.get(\"decelerate\");e&&(e.x||e.y)&&(e.x&&e.percentChangeX===e.options.friction||e.y&&e.percentChangeY===e.options.friction)&&(((t=this.parent.OOB()).left&&this.left||t.right&&this.right)&&(e.percentChangeX=this.options.friction),(t.top&&this.top||t.bottom&&this.bottom)&&(e.percentChangeY=this.options.friction));var i=this.parent.plugins.get(\"drag\")||{},n=this.parent.plugins.get(\"pinch\")||{};if(e=e||{},!(i.active||n.active||this.toX&&this.toY||e.x&&e.y)){var s=(t=t||this.parent.OOB()).cornerPoint;if(!this.toX&&!e.x){var r=null;t.left&&this.left?r=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():0:t.right&&this.right&&(r=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-s.x),null!==r&&this.parent.x!==r&&(this.toX={time:0,start:this.parent.x,delta:r-this.parent.x,end:r},this.parent.emit(\"bounce-x-start\",this.parent))}if(!this.toY&&!e.y){var a=null;t.top&&this.top?a=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():0:t.bottom&&this.bottom&&(a=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-s.y),null!==a&&this.parent.y!==a&&(this.toY={time:0,start:this.parent.y,delta:a-this.parent.y,end:a},this.parent.emit(\"bounce-y-start\",this.parent))}}}}},{key:\"reset\",value:function(){this.toX=this.toY=null}}]),t}(),z={topLeft:!1,friction:.8,time:1e3,ease:\"easeInOutSine\",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1},_=function(){function t(e,i,n){var r,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return h(this,t),(r=s(this,a(t).call(this,e))).options=Object.assign({},z,o),r.ease=H(o.ease,\"easeInOutSine\"),r.x=i,r.y=n,r.options.forceStart&&r.startEase(),r}return o(t,g),c(t,[{key:\"snapStart\",value:function(){this.percent=0,this.snapping={time:0};var t=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-t.x,this.deltaY=this.y-t.y,this.startX=t.x,this.startY=t.y,this.parent.emit(\"snap-start\",this.parent)}},{key:\"wheel\",value:function(){this.options.removeOnInterrupt&&this.parent.plugins.remove(\"snap\")}},{key:\"down\",value:function(){this.options.removeOnInterrupt?this.parent.plugins.remove(\"snap\"):this.options.interrupt&&(this.snapping=null)}},{key:\"up\",value:function(){if(0===this.parent.input.count()){var t=this.parent.plugins.get(\"decelerate\");t&&(t.x||t.y)&&(t.percentChangeX=t.percentChangeY=this.options.friction)}}},{key:\"update\",value:function(t){if(!(this.paused||this.options.interrupt&&0!==this.parent.input.count()))if(this.snapping){var e,i,n,s=this.snapping;if(s.time+=t,s.time>this.options.time)e=!0,i=this.startX+this.deltaX,n=this.startY+this.deltaY;else{var r=this.ease(s.time,0,1,this.options.time);i=this.startX+this.deltaX*r,n=this.startY+this.deltaY*r}this.options.topLeft?this.parent.moveCorner(i,n):this.parent.moveCenter(i,n),this.parent.emit(\"moved\",{viewport:this.parent,type:\"snap\"}),e&&(this.options.removeOnComplete&&this.parent.plugins.remove(\"snap\"),this.parent.emit(\"snap-end\",this.parent),this.snapping=null)}else{var a=this.options.topLeft?this.parent.corner:this.parent.center;a.x===this.x&&a.y===this.y||this.snapStart()}}}]),t}(),E={width:0,height:0,time:1e3,ease:\"easeInOutSine\",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupts:!1,forceStart:!1,noMove:!1},F=function(){function t(e){var i,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return h(this,t),(i=s(this,a(t).call(this,e))).options=Object.assign({},E,n),0<i.options.width&&(i.x_scale=e.screenWidth/i.options.width),0<i.options.height&&(i.y_scale=e.screenHeight/i.options.height),i.xIndependent=!!i.x_scale,i.yIndependent=!!i.y_scale,i.x_scale=i.xIndependent?i.x_scale:i.y_scale,i.y_scale=i.yIndependent?i.y_scale:i.x_scale,0===i.options.time?(e.container.scale.x=i.x_scale,e.container.scale.y=i.y_scale,i.options.removeOnComplete&&i.parent.plugins.remove(\"snap-zoom\")):n.forceStart&&i.createSnapping(),i}return o(t,g),c(t,[{key:\"createSnapping\",value:function(){var t=this.parent.scale;this.snapping={time:0,startX:t.x,startY:t.y,deltaX:this.x_scale-t.x,deltaY:this.y_scale-t.y},this.parent.emit(\"snap-zoom-start\",this.parent)}},{key:\"resize\",value:function(){this.snapping=null,0<this.options.width&&(this.x_scale=this.parent._screenWidth/this.options.width),0<this.options.height&&(this.y_scale=this.parent._screenHeight/this.options.height),this.x_scale=this.xIndependent?this.x_scale:this.y_scale,this.y_scale=this.yIndependent?this.y_scale:this.x_scale}},{key:\"reset\",value:function(){this.snapping=null}},{key:\"wheel\",value:function(){this.options.removeOnInterrupt&&this.parent.plugins.remove(\"snap-zoom\")}},{key:\"down\",value:function(){this.options.removeOnInterrupt?this.parent.plugins.remove(\"snap-zoom\"):this.options.interrupt&&(this.snapping=null)}},{key:\"update\",value:function(t){var e;if(!(this.paused||this.options.interrupt&&0!==this.parent.input.count()))if(this.options.center||this.options.noMove||(e=this.parent.center),this.snapping){if(this.snapping){var i=this.snapping;if(i.time+=t,i.time>=this.options.time)this.parent.scale.set(this.x_scale,this.y_scale),this.options.removeOnComplete&&this.parent.plugins.remove(\"snap-zoom\"),this.parent.emit(\"snap-zoom-end\",this.parent),this.snapping=null;else{var n=this.snapping;this.parent.scale.x=H(n.time,n.startX,n.deltaX,this.options.time),this.parent.scale.y=H(n.time,n.startY,n.deltaY,this.options.time)}var s=this.parent.plugins.get(\"clamp-zoom\");s&&s.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(e))}}else this.parent.scale.x===this.x_scale&&this.parent.scale.y===this.y_scale||this.createSnapping()}},{key:\"resume\",value:function(){this.snapping=null,n(a(t.prototype),\"resume\",this).call(this)}}]),t}(),X={speed:0,acceleration:null,radius:null},j=function(){function t(e,i){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return h(this,t),(n=s(this,a(t).call(this,e))).target=i,n.options=Object.assign({},X,r),n.velocity={x:0,y:0},n}return o(t,g),c(t,[{key:\"update\",value:function(t){if(!this.paused){var e=this.parent.center,i=this.target.x,n=this.target.y;if(this.options.radius){if(!(Math.sqrt(Math.pow(this.target.y-e.y,2)+Math.pow(this.target.x-e.x,2))>this.options.radius))return;var s=Math.atan2(this.target.y-e.y,this.target.x-e.x);i=this.target.x-Math.cos(s)*this.options.radius,n=this.target.y-Math.sin(s)*this.options.radius}var r=i-e.x,a=n-e.y;if(r||a)if(this.options.speed)if(this.options.acceleration){var o=Math.atan2(n-e.y,i-e.x),h=Math.sqrt(Math.pow(r,2)+Math.pow(a,2));if(h){var l=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);this.velocity=l<h?{x:Math.min(this.velocity.x+this.options.acceleration*t,this.options.speed),y:Math.min(this.velocity.y+this.options.acceleration*t,this.options.speed)}:{x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};var c=Math.cos(o)*this.velocity.x,u=Math.sin(o)*this.velocity.y,p=Math.abs(c)>Math.abs(r)?i:e.x+c,d=Math.abs(u)>Math.abs(a)?n:e.y+u;this.parent.moveCenter(p,d),this.parent.emit(\"moved\",{viewport:this.parent,type:\"follow\"})}}else{var f=Math.atan2(n-e.y,i-e.x),v=Math.cos(f)*this.options.speed,y=Math.sin(f)*this.options.speed,g=Math.abs(v)>Math.abs(r)?i:e.x+v,m=Math.abs(y)>Math.abs(a)?n:e.y+y;this.parent.moveCenter(g,m),this.parent.emit(\"moved\",{viewport:this.parent,type:\"follow\"})}else this.parent.moveCenter(i,n),this.parent.emit(\"moved\",{viewport:this.parent,type:\"follow\"})}}}]),t}(),R={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null},A=function(){function t(e){var i,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return h(this,t),(i=s(this,a(t).call(this,e))).options=Object.assign({},R,n),i}return o(t,g),c(t,[{key:\"down\",value:function(){this.options.interrupt&&(this.smoothing=null)}},{key:\"update\",value:function(){if(this.smoothing){var t,e=this.smoothingCenter,i=this.smoothing;this.options.center||(t=this.parent.toLocal(e)),this.parent.scale.x+=i.x,this.parent.scale.y+=i.y,this.parent.emit(\"zoomed\",{viewport:this.parent,type:\"wheel\"});var n=this.parent.plugins.get(\"clamp-zoom\");if(n&&n.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{var s=this.parent.toGlobal(t);this.parent.x+=e.x-s.x,this.parent.y+=e.y-s.y}this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}},{key:\"wheel\",value:function(t){if(!this.paused){var e=this.parent.input.getPointerPosition(t),i=(this.options.reverse?-1:1)*-t.deltaY*(t.deltaMode?120:1)/500,n=Math.pow(2,(1+this.options.percent)*i);if(this.options.smooth){var s=this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,r=this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0;this.smoothing={x:((this.parent.scale.x+s)*n-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+r)*n-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=e}else{var a;this.options.center||(a=this.parent.toLocal(e)),this.parent.scale.x*=n,this.parent.scale.y*=n,this.parent.emit(\"zoomed\",{viewport:this.parent,type:\"wheel\"});var o=this.parent.plugins.get(\"clamp-zoom\");if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{var h=this.parent.toGlobal(a);this.parent.x+=e.x-h.x,this.parent.y+=e.y-h.y}}this.parent.emit(\"moved\",{viewport:this.parent,type:\"wheel\"}),this.parent.emit(\"wheel\",{wheel:{dx:t.deltaX,dy:t.deltaY,dz:t.deltaZ},event:t,viewport:this.parent}),this.parent.options.passiveWheel||t.preventDefault()}}}]),t}(),Y={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1},L=function(){function t(e){var i,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return h(this,t),(i=s(this,a(t).call(this,e))).options=Object.assign({},Y,n),i.reverse=i.options.reverse?1:-1,i.radiusSquared=Math.pow(i.options.radius,2),i.resize(),i}return o(t,g),c(t,[{key:\"resize\",value:function(){var t=this.options.distance;null!==t?(this.left=t,this.top=t,this.right=window.innerWidth-t,this.bottom=window.innerHeight-t):this.radius||(this.left=this.options.left,this.top=this.options.top,this.right=null===this.options.right?null:window.innerWidth-this.options.right,this.bottom=null===this.options.bottom?null:window.innerHeight-this.options.bottom)}},{key:\"down\",value:function(){this.options.allowButtons||(this.horizontal=this.vertical=null)}},{key:\"move\",value:function(t){if(!(\"mouse\"!==t.data.pointerType&&1!==t.data.identifier||!this.options.allowButtons&&0!==t.data.buttons)){var e=t.data.global.x,i=t.data.global.y;if(this.radiusSquared){var n=this.parent.toScreen(this.parent.center);if(Math.pow(n.x-e,2)+Math.pow(n.y-i,2)>=this.radiusSquared){var s=Math.atan2(n.y-i,n.x-e);this.options.linear?(this.horizontal=Math.round(Math.cos(s))*this.options.speed*this.reverse*.06,this.vertical=Math.round(Math.sin(s))*this.options.speed*this.reverse*.06):(this.horizontal=Math.cos(s)*this.options.speed*this.reverse*.06,this.vertical=Math.sin(s)*this.options.speed*this.reverse*.06)}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else null!==this.left&&e<this.left?this.horizontal=1*this.reverse*this.options.speed*.06:null!==this.right&&e>this.right?this.horizontal=-1*this.reverse*this.options.speed*.06:(this.decelerateHorizontal(),this.horizontal=0),null!==this.top&&i<this.top?this.vertical=1*this.reverse*this.options.speed*.06:null!==this.bottom&&i>this.bottom?this.vertical=-1*this.reverse*this.options.speed*.06:(this.decelerateVertical(),this.vertical=0)}}},{key:\"decelerateHorizontal\",value:function(){var t=this.parent.plugins.get(\"decelerate\");this.horizontal&&t&&!this.options.noDecelerate&&t.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}},{key:\"decelerateVertical\",value:function(){var t=this.parent.plugins.get(\"decelerate\");this.vertical&&t&&!this.options.noDecelerate&&t.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}},{key:\"up\",value:function(){this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null}},{key:\"update\",value:function(){if(!this.paused&&(this.horizontal||this.vertical)){var t=this.parent.center;this.horizontal&&(t.x+=this.horizontal*this.options.speed),this.vertical&&(t.y+=this.vertical*this.options.speed),this.parent.moveCenter(t),this.parent.emit(\"moved\",{viewport:this.parent,type:\"mouse-edges\"})}}}]),t}(),B={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,interaction:null,noOnContextMenu:!1};return{Plugin:g,Viewport:function(){function t(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(h(this,t),(e=s(this,a(t).call(this))).options=Object.assign({},B,i),i.ticker)e.options.ticker=i.ticker;else{var n,o=PIXI;n=parseInt(/^(\\d+)\\./.exec(d)[1])<5?o.ticker.shared:o.Ticker.shared,e.options.ticker=i.ticker||n}return e.screenWidth=e.options.screenWidth,e.screenHeight=e.options.screenHeight,e._worldWidth=e.options.worldWidth,e._worldHeight=e.options.worldHeight,e.forceHitArea=e.options.forceHitArea,e.threshold=e.options.threshold,e.options.divWheel=e.options.divWheel||document.body,e.options.noOnContextMenu||(e.options.divWheel.oncontextmenu=function(t){return t.preventDefault()}),e.options.noTicker||(e.tickerFunction=function(){return e.update(e.options.ticker.elapsedMS)},e.options.ticker.add(e.tickerFunction)),e.input=new f(r(e)),e.plugins=new y(r(e)),e}return o(t,p),c(t,[{key:\"destroy\",value:function(e){this.options.ticker.remove(this.tickerFunction),this.input.destroy(),n(a(t.prototype),\"destroy\",this).call(this,e)}},{key:\"update\",value:function(t){this.pause||(this.plugins.update(t),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit(\"moved-end\",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit(\"zoomed-end\",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new l(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y})}},{key:\"resize\",value:function(t,e,i,n){var s=0<arguments.length&&void 0!==t?t:window.innerWidth,r=1<arguments.length&&void 0!==e?e:window.innerHeight,a=2<arguments.length?i:void 0,o=3<arguments.length?n:void 0;this.screenWidth=s,this.screenHeight=r,void 0!==a&&(this._worldWidth=a),void 0!==o&&(this._worldHeight=o),this.plugins.resize()}},{key:\"getVisibleBounds\",value:function(){return new l(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}},{key:\"toWorld\",value:function(t,e){return 2===arguments.length?this.toLocal(new u(t,e)):this.toLocal(t)}},{key:\"toScreen\",value:function(t,e){return 2===arguments.length?this.toGlobal(new u(t,e)):this.toGlobal(t)}},{key:\"moveCenter\",value:function(t,e){var i,n;return n=isNaN(t)?(i=t.x,t.y):(i=t,e),this.position.set((this.worldScreenWidth/2-i)*this.scale.x,(this.worldScreenHeight/2-n)*this.scale.y),this.plugins.reset(),this.dirty=!0,this}},{key:\"moveCorner\",value:function(t,e){return 1===arguments.length?this.position.set(-t.x*this.scale.x,-t.y*this.scale.y):this.position.set(-t*this.scale.x,-e*this.scale.y),this.plugins.reset(),this}},{key:\"fitWidth\",value:function(t,e,i,n){var s,r=!(2<arguments.length&&void 0!==i)||i,a=3<arguments.length?n:void 0;e&&(s=this.center),this.scale.x=this.screenWidth/t,r&&(this.scale.y=this.scale.x);var o=this.plugins.get(\"clamp-zoom\");return!a&&o&&o.clamp(),e&&this.moveCenter(s),this}},{key:\"fitHeight\",value:function(t,e,i,n){var s,r=!(2<arguments.length&&void 0!==i)||i,a=3<arguments.length?n:void 0;e&&(s=this.center),this.scale.y=this.screenHeight/t,r&&(this.scale.x=this.scale.y);var o=this.plugins.get(\"clamp-zoom\");return!a&&o&&o.clamp(),e&&this.moveCenter(s),this}},{key:\"fitWorld\",value:function(t){var e;t&&(e=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;var i=this.plugins.get(\"clamp-zoom\");return i&&i.clamp(),t&&this.moveCenter(e),this}},{key:\"fit\",value:function(t,e,i){var n,s=1<arguments.length&&void 0!==e?e:this.worldWidth,r=2<arguments.length&&void 0!==i?i:this.worldHeight;t&&(n=this.center),this.scale.x=this.screenWidth/s,this.scale.y=this.screenHeight/r,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;var a=this.plugins.get(\"clamp-zoom\");return a&&a.clamp(),t&&this.moveCenter(n),this}},{key:\"setZoom\",value:function(t,e){var i;e&&(i=this.center),this.scale.set(t);var n=this.plugins.get(\"clamp-zoom\");return n&&n.clamp(),e&&this.moveCenter(i),this}},{key:\"zoomPercent\",value:function(t,e){return this.setZoom(this.scale.x+this.scale.x*t,e)}},{key:\"zoom\",value:function(t,e){return this.fitWidth(t+this.worldScreenWidth,e),this}},{key:\"snapZoom\",value:function(t){return this.plugins.add(\"snap-zoom\",new F(this,t)),this}},{key:\"OOB\",value:function(){return{left:this.left<0,right:this.right>this._worldWidth,top:this.top<0,bottom:this.bottom>this._worldHeight,cornerPoint:new u(this._worldWidth*this.scale.x-this.screenWidth,this._worldHeight*this.scale.y-this.screenHeight)}}},{key:\"drag\",value:function(t){return this.plugins.add(\"drag\",new w(this,t)),this}},{key:\"clamp\",value:function(t){return this.plugins.add(\"clamp\",new S(this,t)),this}},{key:\"decelerate\",value:function(t){return this.plugins.add(\"decelerate\",new W(this,t)),this}},{key:\"bounce\",value:function(t){return this.plugins.add(\"bounce\",new D(this,t)),this}},{key:\"pinch\",value:function(t){return this.plugins.add(\"pinch\",new k(this,t)),this}},{key:\"snap\",value:function(t,e,i){return this.plugins.add(\"snap\",new _(this,t,e,i)),this}},{key:\"follow\",value:function(t,e){return this.plugins.add(\"follow\",new j(this,t,e)),this}},{key:\"wheel\",value:function(t){return this.plugins.add(\"wheel\",new A(this,t)),this}},{key:\"clampZoom\",value:function(t){return this.plugins.add(\"clamp-zoom\",new O(this,t)),this}},{key:\"mouseEdges\",value:function(t){return this.plugins.add(\"mouse-edges\",new L(this,t)),this}},{key:\"ensureVisible\",value:function(t,e,i,n){t<this.left?this.left=t:t+i>this.right&&(this.right=t+i),e<this.top?this.top=e:e+n>this.bottom&&(this.bottom=e+n)}},{key:\"worldWidth\",get:function(){return this._worldWidth?this._worldWidth:this.width/this.scale.x},set:function(t){this._worldWidth=t,this.plugins.resize()}},{key:\"worldHeight\",get:function(){return this._worldHeight?this._worldHeight:this.height/this.scale.y},set:function(t){this._worldHeight=t,this.plugins.resize()}},{key:\"worldScreenWidth\",get:function(){return this.screenWidth/this.scale.x}},{key:\"worldScreenHeight\",get:function(){return this.screenHeight/this.scale.y}},{key:\"screenWorldWidth\",get:function(){return this.worldWidth*this.scale.x}},{key:\"screenWorldHeight\",get:function(){return this.worldHeight*this.scale.y}},{key:\"center\",get:function(){return new u(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)},set:function(t){this.moveCenter(t)}},{key:\"corner\",get:function(){return new u(-this.x/this.scale.x,-this.y/this.scale.y)},set:function(t){this.moveCorner(t)}},{key:\"right\",get:function(){return-this.x/this.scale.x+this.worldScreenWidth},set:function(t){this.x=-t*this.scale.x+this.screenWidth,this.plugins.reset()}},{key:\"left\",get:function(){return-this.x/this.scale.x},set:function(t){this.x=-t*this.scale.x,this.plugins.reset()}},{key:\"top\",get:function(){return-this.y/this.scale.y},set:function(t){this.y=-t*this.scale.y,this.plugins.reset()}},{key:\"bottom\",get:function(){return-this.y/this.scale.y+this.worldScreenHeight},set:function(t){this.y=-t*this.scale.y+this.screenHeight,this.plugins.reset()}},{key:\"dirty\",get:function(){return this._dirty},set:function(t){this._dirty=t}},{key:\"forceHitArea\",get:function(){return this._forceHitArea},set:function(t){t?(this._forceHitArea=t,this.hitArea=t):(this._forceHitArea=null,this.hitArea=new l(0,0,this.worldWidth,this.worldHeight))}},{key:\"pause\",get:function(){return this._pause},set:function(t){this._pause=t,this.lastViewport=null,this.moving=!1,this.zooming=!1,t&&this.input.pause()}}]),t}()}}}).call(this,i(1))},function(t,e){var i;i=function(){return this}();try{i=i||new Function(\"return this\")()}catch(t){\"object\"==typeof window&&(i=window)}t.exports=i},function(t,e,i){\"use strict\";i.r(e);var n={baseUrl:\"https://cdn-games.codingame.com/community/2064637-1563982488347/\",images:{\"background.jpeg\":\"ea88db1e6396c8edb3e42b7a064324c93778b700baecb3ceabf8a4b347b7eba7.jpeg\",\"tiles/wall.png\":\"825a7442e8bdfc1c5b7647c36a3754cd362d376179e6e30503cf00886c1a7a7c.png\",\"tiles/empty.png\":\"72768b13194abefcf977c393c921a01168d8b33abc4a4c4284987d80bb260704.png\",\"logo.png\":\"b37f5483c0f45daf96e07b757db313783f2e46cb9ce15370e0789cbcac4ce63f.png\",\"pika.png\":\"95c9489f0a5bc7d0628eacee75d379583397542f442fed55ef7412d7880d06a7.png\",\"trapped.png\":\"2e64a7c0c09613b4e6c4080d43000aa02fa5b9c30fd2ee2d7c73d234a32b3a61.png\",\"solved.png\":\"2bcc821d23744ef5743ce36c33ac1dea29451b9f05bb5c1b07b030b94d5b20a6.png\"},sprites:[\"2c6c0d2d3105a7231adb3ed6846a41531b19e293d8a9bec42c208abaff45c780.json\"],fonts:[]},s=1080,r=null,a=[];function o(){return r}function h(t,e,i){return t<=e?t+(e-t)*i:e+(t-e)*(1-i)}function l(t,e,i,n,s){return s=s||0,Math.min(i/(t+s),n/(e+s))}var c=i(0);function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function p(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var v=[function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.states=[{displaySolution:!1,displayCorrectness:!1}],this.solution=null,(window.module=this).canvasMode=o().type===PIXI.RENDERER_TYPE.CANVAS}return function(t,e,i){e&&d(t.prototype,e),i&&d(t,i)}(t,[{key:\"updateScene\",value:function(t,e,i,n){this.updateText(t,e,i),this.updateRevealTint(t,e,i),null!=this.pikaptcha&&this.updatePikaptcha(t,e,i,n)}},{key:\"updateText\",value:function(t,e,i){var n=t.displaySolution?1:0,s=e.displaySolution?1:0;this.tiles.flat().forEach(function(t){var e=t.text;null!=e&&(e.alpha=h(n,s,i))})}},{key:\"updateRevealTint\",value:function(t,e,i){var n=1/this.globalData.height,s=n/this.globalData.width;this.tiles.flat().forEach(function(r){var a=r.x,o=r.y,h=r.revealTint;if(null!=h){var l=!t.displayCorrectness&&e.displayCorrectness&&a*s+o*n<i||t.displayCorrectness&&e.displayCorrectness?1:t.displayCorrectness&&!e.displayCorrectness?1-i:0;h.alpha=.6*l}})}},{key:\"updatePikaptcha\",value:function(t,e,i,n){if(this.centerOnPika=!1,e.zoomToPikaptcha&&!t.zoomToPikaptcha)10<Math.max(this.globalData.height,this.globalData.width)&&(i<=.5?this.viewport.moveCenter(h(this.viewport.center.x,this.pikaptcha.x,2*i),h(this.viewport.center.y,this.pikaptcha.y,2*i)):(this.viewport.follow(this.pikaptcha,{radius:3*this.tileSize}),this.viewport.setZoom(h(this.viewport.scale.x,150/this.tileSize,2*(i-.5)),!0),this.centerOnPika=!0));else if(e.playSolution){10<Math.max(this.globalData.height,this.globalData.width)&&(this.centerOnPika=!0),this.pikaptcha.current.playing||this.pikaptcha.current.play();var s=Math.floor(i/this.tileStep),r=(i-s*this.tileStep)*(this.path.length-2),a=this.path[s],o=this.path[(s+1)%this.path.length];if(o[0]<0){var l=this.getPikaptchaHalfFrame(o[0]),c=l.direction,u=l.xOffset,p=l.yOffset;this.setCurrentPikaptcha(this.pikaptcha[c]),this.pikaptcha.x=this.getPikaptchaPosition(h(a[0],a[0]+u,r)),this.pikaptcha.y=this.getPikaptchaPosition(h(a[1],a[1]+p,r))}else if(a[1]<0){var d=this.getPikaptchaHalfFrame(a[1]),f=d.direction,v=d.xOffset,y=d.yOffset;this.setCurrentPikaptcha(this.pikaptcha[f]),this.pikaptcha.x=this.getPikaptchaPosition(h(o[0]-v,o[0],r)),this.pikaptcha.y=this.getPikaptchaPosition(h(o[1]-y,o[1],r))}else a[0]<o[0]?this.setCurrentPikaptcha(this.pikaptcha.right):a[0]>o[0]?this.setCurrentPikaptcha(this.pikaptcha.left):a[1]<o[1]?this.setCurrentPikaptcha(this.pikaptcha.down):a[1]>o[1]&&this.setCurrentPikaptcha(this.pikaptcha.up),this.pikaptcha.x=this.getPikaptchaPosition(h(a[0],o[0],r)),this.pikaptcha.y=this.getPikaptchaPosition(h(a[1],o[1],r))}else t.playSolution?(this.pikaptcha.current.playing&&this.pikaptcha.current.stop(),this.pikaptcha.x=this.getPikaptchaPosition(this.path[this.path.length-1][0]),this.pikaptcha.y=this.getPikaptchaPosition(this.path[this.path.length-1][1])):e.zoomToPikaptcha||(this.pikaptcha.current.playing&&this.pikaptcha.current.stop(),this.resetPikaptcha(),this.viewport.plugins.remove(\"follow\"));this.pikaptcha.current.animationSpeed=n/5}},{key:\"setCurrentPikaptcha\",value:function(t,e){var i=!(1<arguments.length&&void 0!==e)||e;if(this.pikaptcha.current!==t){var n=0;null!=this.pikaptcha.current&&(this.pikaptcha.current.stop(),n=this.pikaptcha.current.currentFrame,this.pikaptcha.current.visible=!1),this.pikaptcha.current=t,this.pikaptcha.current.visible=!0,i?this.pikaptcha.current.gotoAndPlay(n):this.pikaptcha.current.gotoAndStop(n)}}},{key:\"handleFrameData\",value:function(t,e){var i=this.states[this.states.length-1],n=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(i,!0).forEach(function(e){p(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({},i,{number:i.number+1});if(null==e)return n;var s=e.t,r=function(t,e){if(null==t)return{};var i,n,s=function(t,e){if(null==t)return{};var i,n,s={},r=Object.keys(t);for(n=0;n<r.length;n++)i=r[n],0<=e.indexOf(i)||(s[i]=t[i]);return s}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)i=r[n],0<=e.indexOf(i)||Object.prototype.propertyIsEnumerable.call(t,i)&&(s[i]=t[i])}return s}(e,[\"t\"]);switch(s){case\"S\":this.solution=this.globalData.patronizeArrays?this.verticalToPatron(r.playerSolution):r.playerSolution,n.displaySolution=!0;break;case\"R\":n.displayCorrectness=!0;var a=r.correctness;this.correctness=this.globalData.patronizeArrays?this.verticalToPatron(a):a;break;case\"Z\":n.zoomToPikaptcha=!0,n.displayCorrectness=!1,n.displaySolution=!1;break;case\"P\":var o=r.p;n.zoomToPikaptcha=!0,n.playSolution=!0;var h=o.reduce(function(t,e,i,n){return i%2==0?[].concat(function(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}(t),[[n[i],n[i+1]]]):t},[]);this.path=h,this.tileStep=2<this.path.length?1/(this.path.length-2):1}return this.states.push(n),n}},{key:\"reinitScene\",value:function(t,e){var i=this;null==this.vp&&(this.vp=Object(c.a)()),this.container=t,this.tileSize=Math.max(Math.min(1920/this.globalData.width,s/this.globalData.height),50);var n=PIXI.Sprite.fromFrame(\"background.jpeg\");this.container.addChild(n),this.initViewPort(),this.initGrid(this.viewport),this.container.addChild(this.viewport),Object.defineProperty(this.viewport,\"cursor\",{get:function(){return i.viewport.input.isMouseDown?\"grabbing\":\"grab\"}}),this.centerOnPika&&(this.viewport.moveCenter(this.pikaptcha.x,this.pikaptcha.y),this.viewport.follow(this.pikaptcha,{radius:3*this.tileSize}),this.viewport.setZoom(150/this.tileSize,!0))}},{key:\"initViewPort\",value:function(){this.viewport=new this.vp.Viewport({screenWidth:1920,screenHeight:s,worldWidth:this.globalData.width*this.tileSize,worldHeight:this.globalData.height*this.tileSize,interaction:o().plugins.interaction,divWheel:o().view,passiveWheel:!1,stopPropagation:!0}),this.viewport.drag().clamp({left:-10*this.tileSize,right:(this.globalData.width+10)*this.tileSize,top:-10*this.tileSize,bottom:(this.globalData.height+10)*this.tileSize,underflow:\"none\"}).wheel(),this.viewport.fitWorld(),this.viewport.moveCenter(this.globalData.width*this.tileSize/2,this.globalData.height*this.tileSize/2),this.viewport.interactiveChildren=!1}},{key:\"animateScene\",value:function(t){}},{key:\"handleGlobalData\",value:function(t,e){this.globalData=e,this.globalData.width=e.maze.map.length,this.globalData.height=e.maze.map[0].length}},{key:\"initGrid\",value:function(t){this.tiles=[];for(var e=this.globalData.width,i=this.globalData.height,n=new PIXI.Container,s=new PIXI.Container,r=new PIXI.Container,a=new PIXI.Container,o=this.tileSize,h=this.generateTexture(this.getTileGraphics(o)),l=this.generateTexture(this.getTileGraphics(o)),c=this.generateTexture(this.getTileGraphics(o)),u=0;u<i;++u){for(var p=[],d=0;d<e;++d)if(-1!==this.globalData.maze.map[d][u]){var f=0!==this.globalData.maze.map[d][u],v=this.getTile(d,u,f,o,f?l:h);v.tint=f?1319740:2457772;var y=null,g=null;if(null!=this.globalData.maze.initial&&d===this.globalData.maze.initial.x&&u===this.globalData.maze.initial.y){var m=new PIXI.Graphics;m.beginFill(16777215,1),m.drawEllipse(0,0,o/4,o/8),m.endFill(),m.x=.5*o,m.y=.7*o,m.tint=16764160,v.addChild(m)}f?null!=this.solution&&null!=this.correctness&&0===this.correctness[d][u]&&((g=this.getText(d,u,o)).anchor.set(.5),g.tint=16711680,g.color=16711680,a.addChild(g)):(null!=this.solution&&((g=this.getText(d,u,o)).anchor.set(.5),a.addChild(g)),null!=this.correctness&&(y=this.getRevealTint(d,u,o,c),r.addChild(y))),p.push({x:d,y:u,tile:v,text:g,revealTint:y}),n.addChild(v)}this.tiles.push(p)}null!=this.globalData.maze.initial&&(this.pikaptcha=new PIXI.Container,this.pikaptcha.up=this.buildPikaptcha(\"up\",{x:.512,y:.908}),this.pikaptcha.down=this.buildPikaptcha(\"down\",{x:.512,y:.908}),this.pikaptcha.left=this.buildPikaptcha(\"side\",{x:.392,y:.932}),this.pikaptcha.right=this.buildPikaptcha(\"side\",{x:.392,y:.932},!0),this.pikaptcha.addChild(this.pikaptcha.up),this.pikaptcha.addChild(this.pikaptcha.down),this.pikaptcha.addChild(this.pikaptcha.left),this.pikaptcha.addChild(this.pikaptcha.right),this.resetPikaptcha(),s.addChild(this.pikaptcha)),t.addChild(n),t.addChild(r),t.addChild(s),t.addChild(a)}},{key:\"resetPikaptcha\",value:function(){this.setCurrentPikaptcha(this.pikaptcha[this.globalData.maze.initialDirection.toLowerCase()],!1),this.pikaptcha.x=this.getPikaptchaPosition(this.globalData.maze.initial.x),this.pikaptcha.y=this.getPikaptchaPosition(this.globalData.maze.initial.y)}},{key:\"buildPikaptcha\",value:function(t,e,i){var n=this.buildAnimation(t,10);return n.visible=!1,n.anchor=e,i&&(n.scale.x=-1),n.height=.6*this.tileSize,n.width=.6*this.tileSize,n.y=.2*this.tileSize,n}},{key:\"getTile\",value:function(t,e,i,n,s){var r=new PIXI.Sprite(s);return r.x=(r.x+n)*t,r.y=(r.y+n)*e,r.height=n,r.width=n,r}},{key:\"getRevealTint\",value:function(t,e,i,n){var s=1===this.correctness[t][e]?65280:16711680,r=this.canvasMode?this.getTileGraphics(i):new PIXI.Sprite(n);return r.tint=s,r.alpha=0,r.x=(r.x+i)*t,r.y=(r.y+i)*e,r}},{key:\"getText\",value:function(t,e,i){var n=-2===this.solution[t][e]?\"#\":this.solution[t][e],s=new PIXI.Text(n,{fontFamily:\"Arial\",fontSize:i/3,fill:16777215,align:\"center\"});return s.alpha=0,s.x=(s.x+i)*t+i/2,s.y=(s.y+i)*e+i/2,s}},{key:\"getPikaptchaPosition\",value:function(t){return t*this.tileSize+this.tileSize/2}},{key:\"getTileGraphics\",value:function(t){var e=new PIXI.Graphics;return e.beginFill(16777215,1),e.drawRect(0,0,t,t),e.endFill(),e}},{key:\"generateTexture\",value:function(t){var e=o().generateTexture(t);return function(t){a.push(t)}(e),e}},{key:\"verticalToPatron\",value:function(t){for(var e=t.length,i=this.newArray(3*e,4*e),n=0;n<e;n++)for(var s=0;s<6*e;s++){var r=t[n][s];if(null!=r&&-1!==r){var a=0,o=0;s<e&&(a+=e),2*e<=s&&(o-=e,a+=e),3*e<=s&&(o-=e,s<4*e&&(a+=e)),i[n+a][s+o]=r}}return i}},{key:\"newArray\",value:function(t,e){for(var i=new Array(t),n=0;n<t;n++)i[n]=new Array(e);return i}},{key:\"buildAnimation\",value:function(t,e){for(var i=[],n=1;n<=e;n++){var s=t+\"_\"+n;i.push(s)}return PIXI.extras.AnimatedSprite.fromFrames(i)}},{key:\"getPikaptchaHalfFrame\",value:function(t,e){switch(t){case-1:return{direction:\"up\",xOffset:0,yOffset:(e?-.2:.2)-.5};case-3:return{direction:\"down\",xOffset:0,yOffset:.5+(e?-.2:.2)};case-4:return{direction:\"left\",xOffset:-.5,yOffset:0};case-2:return{direction:\"right\",xOffset:.5,yOffset:0}}}}],[{key:\"name\",get:function(){return\"g\"}}]),t}(),function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.atEnd=!1}return function(t,e,i){e&&f(t.prototype,e),i&&f(t,i)}(t,[{key:\"updateScene\",value:function(t,e,i){e.number===this.lastFrame&&1===i?this.atEnd=!0:this.atEnd=!1}},{key:\"handleFrameData\",value:function(t,e){var i={number:t.number};return this.lastFrame=t.number,null==e||(this.screen=e?\"winScreen\":\"lostScreen\"),i}},{key:\"reinitScene\",value:function(t,e){this.container=t,this.endLayer=this.initEndLayer(),this.atEnd&&this.initEndScene(),this.container.addChild(this.endLayer)}},{key:\"animateScene\",value:function(t){var e=Math.min(32,t);this.atEnd?this.animationEnded||this.renderEndScene(e):(0<this.endTime&&this.destroyEndScene(),this.endTime=0)}},{key:\"destroyEndScene\",value:function(){this.animationEnded=!1,this.endLayer.visible=!1}},{key:\"initEndScene\",value:function(){this.animationEnded=!1,this.endLayer.visible=!0,this[this.screen].visible=!0}},{key:\"renderEndScene\",value:function(t){0===this.endTime&&this.initEndScene(),this.endLayer.alpha=this.endTime/500,this.endTime+=t,500<=this.endTime&&(this.animationEnded=!0)}},{key:\"handleGlobalData\",value:function(t,e){}},{key:\"initEndLayer\",value:function(){var t=new PIXI.Container;return t.visible=!1,this.winScreen=this.createEndScreen(\"solved.png\"),this.lostScreen=this.createEndScreen(\"trapped.png\"),t.addChild(this.lostScreen),t.addChild(this.winScreen),t}},{key:\"createEndScreen\",value:function(t){var e=PIXI.Sprite.fromFrame(t);e.visible=!1;var i=l(e.width,e.height,1920,s);return e.scale.set(i),e.y=540,e.anchor.y=.5,e}}],[{key:\"name\",get:function(){return\"e\"}}]),t}()];function y(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var g=[],m=[],w=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return function(t,e,i){i&&y(t,i)}(t,0,[{key:\"listen\",value:function(t){if(\"function\"!=typeof t)throw new TypeError(t+\" is not a function\");m.push(t)}},{key:\"push\",value:function(t){g.push(t),m.forEach(function(e){return e(t)})}}]),t}(),b={views:['KEY_FRAME 0\\n{\"global\":{\"g\":{\"maze\":{\"map\":[[0,1,0],[0,0,0],[0,1,1],[0,0,0],[1,0,1]],\"isFollowingLeftWall\":false},\"patronizeArrays\":false}},\"frame\":{\"duration\":100,\"g\":null,\"e\":false}}\\n','KEY_FRAME 1\\n{\"g\":null,\"e\":false}\\n','KEY_FRAME 2\\n{\"g\":{\"t\":\"L\"},\"e\":false}\\n'],agents:[{index:0,name:\"Player 0\",avatar:\"https://static.codingame.com/servlet/fileservlet?id=16085713250612&format=viewer_avatar\",agentId:0}]};function k(t){return(k=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function x(t){var e=\"function\"==typeof Map?new Map:void 0;return(x=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf(\"[native code]\")}(t))return t;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return function(t,e,i){return(function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,i){var n=[null];n.push.apply(n,e);var s=new(Function.bind.apply(t,n));return i&&S(s,i.prototype),s}).apply(null,arguments)}(t,arguments,P(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),S(i,t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var O=function(){function t(e,i){var n;return function(e,i){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),(n=function(t,e){return!e||\"object\"!==k(e)&&\"function\"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(t):e}(this,P(t).call(this,'<Error in module \"'+e+'\">'))).cause=i,n.name=\"ModuleError\",n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(t,x(Error)),t}();function I(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function W(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?I(i,!0).forEach(function(e){C(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):I(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function C(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function M(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.d(e,\"Drawer\",function(){return H});var H=function(){function t(e){!function(e,i){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),this.toDestroy=[];var i=e||b;if(i){var n=i.views,s=i.agents;this.demo={playerCount:s.length,logo:\"logo.png\",overlayAlpha:.2,agents:s,frames:n},this.demo.agents.forEach(function(e){e.color=t.playerColors[e.index]})}else this.demo=void 0}return function(t,e,i){e&&M(t.prototype,e),i&&M(t,i)}(t,[{key:\"getDefaultOverSampling\",value:function(){return 2}},{key:\"handleModuleError\",value:function(t,e){w.push(new O(t,e)),console.error(e),w.push({message:'<Module \"'.concat(t,'\" disabled>\\n')}),delete this.modules[t]}},{key:\"instantiateModules\",value:function(){var t=!0,e=!(this.modules={}),i=void 0;try{for(var s,r=v[Symbol.iterator]();!(t=(s=r.next()).done);t=!0){var a=s.value;try{this.modules[a.name]=new a(n)}catch(t){this.handleModuleError(a.name,t)}}}catch(t){e=!0,i=t}finally{try{t||null==r.return||r.return()}finally{if(e)throw i}}}},{key:\"destroy\",value:function(){this.alreadyLoaded&&(this.renderer.destroy(),this.endCallback=null),this.destroyed=!0}},{key:\"destroyScene\",value:function(t){!function(){for(var t=0,e=a.length;t<e;++t)a[t].destroy(!0);a=[]}()}},{key:\"getGameName\",value:function(){}},{key:\"canSwapPlayers\",value:function(){return!1}},{key:\"getResources\",value:function(){return Object.assign({baseUrl:\"\",images:{},spines:{},sprites:[],fonts:[],others:[]},n)}},{key:\"getOptions\",value:function(){return[]}},{key:\"setDebug\",value:function(e){this.asyncRenderingTime=t.RenderTimeout}},{key:\"initPreload\",value:function(t,e,i,n,s){t.canvasWidth=n,t.canvasHeight=s,t.loaderProgress=new PIXI.Text(\"100\",{fontSize:.117*s||30,fontFamily:\"Lato\",fontWeight:\"900\",fill:\"white\",align:\"center\"}),t.loaderProgress.anchor.y=1,t.loaderProgress.anchor.x=1.3,t.progress=t.realProgress=i,t.loaderProgress.position.y=s,t.progressBar=new PIXI.Graphics,e.addChild(t.progressBar),e.addChild(t.loaderProgress)}},{key:\"preload\",value:function(t,e,i,n,s,r){t.progress=i}},{key:\"renderPreloadScene\",value:function(t,e){var i=Math.pow(.998,e);return t.realProgress=i*t.realProgress+(1-i)*t.progress,t.loaderProgress.text=(100*t.realProgress).toFixed(0),t.loaderProgress.position.x=t.realProgress*t.canvasWidth,t.progressBar.clear(),t.progressBar.beginFill(0,1),t.progressBar.drawRect(0,0,t.canvasWidth*t.realProgress+1,t.canvasHeight),t.progressBar.endFill(),t.progressBar.beginFill(4146246,1),t.progressBar.drawRect(t.canvasWidth*t.realProgress,0,t.canvasWidth,t.canvasHeight),t.progressBar.endFill(),!0}},{key:\"initDefaultScene\",value:function(e,i,n,s){var r=new PIXI.Container;if(e.drawer=this,e.time=0,this.demo){if(this.demo.logo)try{var a=PIXI.Sprite.fromFrame(this.demo.logo);a.position.set(t.WIDTH/2,t.HEIGHT/2),a.anchor.set(.5),a.baseScale=l(a.texture.width,a.texture.height,2*t.WIDTH/3,t.HEIGHT/2,0),r.addChild(a),e.logo=a}catch(i){w.push({cause:i,message:'Missing \"logo.png\" to complete replay.'}),e.logo=new PIXI.Container,e.logo.baseScale=1,r.addChild(e.logo),e.missingLogo=!0}var o=new PIXI.Graphics;e.missingLogo||(o.beginFill(0,this.demo.overlayAlpha||0),o.drawRect(0,0,t.WIDTH+20,t.HEIGHT+20),o.endFill(),o.x-=10,o.y-=10);var h=new PIXI.Container;try{this.initDefaultFrames(this.demo.playerCount,this.demo.frames,this.demo.agents),this.preconstructScene(this.scope,i,this.initWidth,this.initHeight),this.initScene(this.scope,h,this.frames,!0),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)}catch(i){w.push({cause:i,message:\"Cannot load demo, you might want to reset the demo\"})}e.demo=h,e.demotime=0,this.currentFrame=-1,i.addChild(h),i.addChild(o),i.addChild(r)}e.updateTime=0,e.frameTime=0}},{key:\"initDefaultFrames\",value:function(e,i,n){var s=this;this.instantiateModules(),this.playerInfo=n.map(function(t,e){return{name:t.name||\"Anonymous\",color:t.color?s.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:t.avatarTexture}}),this.instantiateModules(),this._frames=i.map(function(t){var e,i=t.split(\"\\n\"),n=i[0].split(\" \");try{e=JSON.parse(i.slice(1).join(\"\\n\"))}catch(t){e={}}return W({},e,{key:\"KEY_FRAME\"===n[0]})}).filter(function(t){return t.key}),this.parseGlobalData(this._frames[0].global),this.playerCount=e,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1;var r=this._frames[0].frame;r.key=this._frames[0].key,this.frames.push(this.parseFrame(r,this.frames));for(var a=1;a<this._frames.length;++a)this.frames.push(this.parseFrame(this._frames[a],this.frames));this.asyncRenderingTime=t.RenderTimeout}},{key:\"renderDefaultScene\",value:function(t,e){if(e=Math.min(80,e),void 0===this.demo)return!1;this.currentFrame=this.currentFrameTemp||0,t.frameTime+=e,t.updateTime+=e,t.demotime+=e/1e3;var i=Math.max(0,Math.min(1,(t.demotime-1)/.5));if(t.logo&&(t.logo.alpha=i,t.logo.scale.x=t.logo.scale.y=(3-2*i)*t.logo.baseScale),!t.missingLogo&&1.5<t.demotime&&t.demotime<=2.2){var n=15*Math.max(0,1-(t.demotime-1.5)/.7);t.demo.x=(2*Math.random()-1)*n,t.demo.y=(2*Math.random()-1)*n}else t.demo.x=t.demo.y=0;var s=this.getFrameDuration(this.currentFrame);return 30<=t.updateTime&&(t.updateTime-=30,0===this.currentFrame?this.progress=1:this.progress=function(t,e,i){return Math.min(1,Math.max(0,function(t,e,i){return(i-0)/(e-0)}(0,e,i)))}(0,s,t.frameTime),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)),t.frameTime>=s&&(t.frameTime-=s,this.currentFrame=(this.currentFrame+1)%this.frames.length),this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],e,!0),this.currentFrameTemp=this.currentFrame,this.currentFrame=-1,!0}},{key:\"endDefaultScene\",value:function(t,e){return!0}},{key:\"parseGlobalData\",value:function(t){for(var e in this.modules){var i=this.modules[e];\"function\"==typeof i.handleGlobalData&&i.handleGlobalData(this.playerInfo,t[e])}}},{key:\"parseFrame\",value:function(t,e){var i={data:{},frameInfo:{number:e.length}};if(i.previous=e[e.length-1]||i,i!==i.previous&&(i.previous.next=i),!t.key)return i.previous;for(var n in t.duration&&(this.currentFrameDuration=t.duration),i.frameInfo.frameDuration=this.currentFrameDuration,i===i.previous?(i.frameInfo.date=0,i.frameInfo.frameDuration=0):i.frameInfo.date=i.previous.frameInfo.date+i.previous.frameInfo.frameDuration,this.modules){var s=this.modules[n];\"function\"==typeof s.handleFrameData&&(i.data[n]=s.handleFrameData(i.frameInfo,t[n]))}return i}},{key:\"preconstructScene\",value:function(e,i,n,s){e.canvasHeight=s,e.canvasWidth=n,e.time=0,e.endTime=0,e.playerInfo=this.playerInfo,i.scale.x=n/t.WIDTH,i.scale.y=s/t.HEIGHT}},{key:\"initScene\",value:function(t,e,i){for(var n in this.modules){var s=this.modules[n],r=new PIXI.Container;try{s.reinitScene(r,{width:t.canvasWidth,height:t.canvasHeight,oversampling:this.oversampling})}catch(t){this.handleModuleError(n,t)}e.addChild(r)}}},{key:\"updateScene\",value:function(t,e,i,n,s,r,a){var o=i[n];for(var h in t.currentFrame=o,t.currentProgress=s,t.reason=a,this.modules){var l=this.modules[h];if(o.data.hasOwnProperty(h))try{l.updateScene(o.previous.data[h],o.data[h],s,r)}catch(t){this.handleModuleError(h,t)}}}},{key:\"initEndScene\",value:function(t,e){t.endSceneViewed=!1}},{key:\"destroyEndScene\",value:function(t){}},{key:\"renderEndScene\",value:function(t,e,i){0===t.endTime&&this.initEndScene(t,i),t.endTime+=e,void 0<=t.endTime&&!t.endSceneViewed&&(this.endCallback&&this.endCallback(),t.endSceneViewed=!0)}},{key:\"renderScene\",value:function(t,e,i,n,s,r,a,o){o=Math.min(80,o);var h=!this.debugMode&&n===i.length-1&&1===s;for(var l in h?this.renderEndScene(t,o,\"Win\"!==a):(0<t.endTime&&this.destroyEndScene(t),t.endTime=0),this.modules){var c=this.modules[l];if(\"function\"==typeof c.animateScene)try{c.animateScene(o)}catch(t){this.handleModuleError(l,t)}}return!0}},{key:\"getFrameSpeed\",value:function(t){return 500/this.getFrameDuration(t)}},{key:\"getFrameDuration\",value:function(t){return this.frames&&this.frames[t]&&this.frames[t].frameInfo.frameDuration||1e3}},{key:\"enableAsyncRendering\",value:function(e){this.asyncRendering=e,this.asyncRenderingTime=t.RenderTimeout}},{key:\"purge\",value:function(){this.scope={},this.changed=!0,this.container.interactiveChildren=!1,this.container.destroy({texture:!1,children:!0}),delete this.container,this.container=new PIXI.Container}},{key:\"reinitScene\",value:function(){1<=this.loaded&&(this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.preconstructScene(this.scope,this.container,this.initWidth,this.initHeight),this.initScene(this.scope,this.container,this.frames),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame]),this.changed=!0)}},{key:\"reinitDefaultScene\",value:function(){1<=this.loaded&&(this.intro=!0,this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initDefaultScene(this.scope,this.container,this.initWidth,this.initHeight),this.changed=!0)}},{key:\"reinitLoadingScene\",value:function(){this.loaded<1&&(this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initPreload(this.scope,this.container,this.loaded,this.initWidth,this.initHeight))}},{key:\"reinit\",value:function(t){1<=this.loaded?0<=this.currentFrame&&!this.intro?this.reinitScene():this.intro&&!t||this.reinitDefaultScene():this.reinitLoadingScene()}},{key:\"animate\",value:function(t){if(!this.destroyed){this.lastRenderTime||(this.lastRenderTime=t);var e=t-this.lastRenderTime;this.asynchronousStep&&(e=this.asynchronousStep),this.onBeforeRender&&this.onBeforeRender(),this.loading||(this.loaded<1?this.changed|=this.renderPreloadScene(this.scope,e):(this.changed||this.asyncRendering&&0<this.asyncRenderingTime)&&(this.currentFrame<0?this.changed|=this.renderDefaultScene(this.scope,e):this.intro?(this.changed=!0,this.endDefaultScene(this.scope,e)&&(this.intro=!1,this.reinit(!0))):this.changed|=this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame],e)),this.changed&&(this.renderer.render(this.container),this.changed=!1)),this.onAfterRender&&this.onAfterRender(),this.lastRenderTime=t,this.destroyed||requestAnimationFrame(this.animate.bind(this)),this.asyncRenderingTime-=e}}},{key:\"_initFrames\",value:function(t,e){this.instantiateModules(),this._frames=e.map(function(t){var e,i=t[0].split(\" \");try{e=JSON.parse(t.slice(1).join(\"\\n\"))}catch(t){e={}}return W({},e,{key:\"KEY_FRAME\"===i[0]})}),this.parseGlobalData(this._frames[0].global),this.playerCount=t,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1;var i=this._frames[0].frame;i.key=this._frames[0].key,this.frames.push(this.parseFrame(i,this.frames));for(var n=1;n<this._frames.length;++n)this.frames.push(this.parseFrame(this._frames[n],this.frames))}},{key:\"isTurnBasedGame\",value:function(){return!1}},{key:\"initFrames\",value:function(t,e){this.playerInfo&&this.playerInfo.forEach(function(t){t.avatar&&t.avatar.destroy(!0)});var i=this,n=new PIXI.loaders.Loader(window.location.origin);function s(){i._initFrames(e.length,t),i.loading=!1,i.reinit(!1),r=!0}this.playerInfo=e.map(function(t,e){var s={name:t.name||\"Anonymous\",color:t.color?i.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:null};return n.add(\"avatar\"+e,t.avatar,{loadType:2,crossOrigin:!0},function(t){s.avatar=t.texture,PIXI.Texture.addToCache(t.texture,\"$\"+s.index)}),s});var r=!(this.loading=!0);n.on(\"complete\",s),n.on(\"error\",function(t){console.warn(t),r||s()}),n.load()}},{key:\"update\",value:function(e,i,n){0<=this.currentFrame&&(this.asyncRenderingTime=t.RenderTimeout,this.changed=!0,this.speed=n,this.currentFrame=e,this.progress=i,1<=this.loaded&&!this.intro&&this.updateScene(this.scope,this.question,this.frames,e,i,this.speed,this.reasons[this.currentFrame]))}},{key:\"parseColor\",value:function(t){if(Array.isArray(t)){var e,i=[];for(e=0;e<t.length;++e)i.push(this.parseColor(t[e]));return i}return parseInt(t.substring(1),16)}},{key:\"init\",value:function(e,i,n,s,a,o,h){var l,c=this;function u(){0<=c.currentFrame&&(c.changed=!0)}window.PIXI=t.PIXI||window.PIXI,this.oversampling=a||1,this.canvas=$(e),this.canvas.off(\"mousemove\"),this.canvas.off(\"wheel\"),this.canvas.bind(\"wheel\",u),this.canvas.mousemove(u),s&&(this.colors=this.parseColor(s)),\"ide\"===h&&(this.debugModeSetByUser||(this.debugMode=!0),w.listen(function(t){return console.error(t.cause?t.cause:t)})),this.asyncRendering=!0,this.asyncRenderingTime=0,this.destroyed=!1,this.asynchronousStep=null;var p=this;if(this.initWidth=0|i,this.initHeight=0|n,this.endCallback=o||this.endCallback,this.alreadyLoaded)this.changed=!0,this.renderer.resize(this.initWidth,this.initHeight),this.reinit(!0);else{this.alreadyLoaded=!0,this.question=null,this.scope=null,this.currentFrame=-1,this.loaded=0,this.container=new PIXI.Container;var d=this.getResources();this.renderer=this.createRenderer(this.initWidth,this.initHeight,e),function(t){r=t}(this.renderer);var f,v=new PIXI.loaders.Loader(d.baseUrl);for(l in d.images)v.add(l,d.images[l],{crossOrigin:!0});for(f=0;f<d.sprites.length;++f)v.add(d.sprites[f],{crossOrigin:!0});for(f=0;f<d.fonts.length;++f)v.add(d.fonts[f],{crossOrigin:!0});for(l in d.spines)v.add(l,d.spines[l],{crossOrigin:!0});for(f=0;f<d.others.length;++f)v.add(d.others[f],{crossOrigin:!0});this.demo&&this.demo.agents.forEach(function(t){v.add(\"avatar\"+t.index,t.avatar,{loadType:2,crossOrigin:!0},function(e){t.avatarTexture=e.texture,PIXI.Texture.addToCache(e.texture,\"$\"+t.index)})}),p.scope={};var y=function(t,e){requestAnimationFrame(p.animate.bind(p)),p.initPreload(p.scope,p.container,p.loaded=0,p.initWidth,p.initHeight)};v.on(\"start\",y),v.on(\"progress\",function(t,e){t.progress<100&&p.preload(p.scope,p.container,p.loaded=t.progress/100,p.initWidth,p.initHeight,e)});var g=function(){var t;for(t in d.images)d.images.hasOwnProperty(t)&&v.resources[t].texture&&PIXI.Texture.addToCache(v.resources[t].texture,t);for(t in d.spines)d.spines.hasOwnProperty(t)&&(PIXI.AnimCache[t]=PIXI.AnimCache[d.baseUrl+d.spines[t]]);p.loaded=1,p.reinit(!0),p.changed=!0};v.on(\"complete\",g),v.on(\"error\",function(t){console.warn(t)}),Object.keys(v.resources).length?v.load():(y(),g())}}},{key:\"createRenderer\",value:function(t,e,i){return PIXI.autoDetectRenderer(t,e,{view:i,clearBeforeRender:!0,preserveDrawingBuffer:!1})}},{key:\"isReady\",value:function(){return 1<=this.loaded}}],[{key:\"getGameRatio\",value:function(){return t.WIDTH/t.HEIGHT}},{key:\"requirements\",get:function(){return{PIXI:\"PIXI4\"}}},{key:\"VERSION\",get:function(){return 2}},{key:\"WIDTH\",get:function(){return 1920}},{key:\"HEIGHT\",get:function(){return s}},{key:\"playerColors\",get:function(){return[\"#ff1d5c\",\"#22a1e4\",\"#ff8f16\",\"#6ac371\",\"#9975e2\",\"#3ac5ca\",\"#de6ddf\",\"#ff0000\"]}},{key:\"SDK_GAME\",get:function(){return!0}},{key:\"RenderTimeout\",get:function(){return\"localhost\"===window.location.hostname?1/0:2e4}}]),t}()}]).Drawer;",
      "levelParams": {
        "0": {
          "testCases": [
            {
              "title": {
                "1": "A small chamber",
                "2": "A small chamber"
              },
              "isTest": true,
              "testIn": "1\n5 3\n0000#\n#0#00\n00#0#",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "A small chamber",
                "2": "A small chamber"
              },
              "isTest": false,
              "testIn": "1\n5 3\n0#0#0\n0#0#0\n00000",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Two chambers",
                "2": "Two chambers"
              },
              "isTest": true,
              "testIn": "1\n9 3\n#00###000\n000000000\n000##0000",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "Two chambers",
                "2": "Two chambers"
              },
              "isTest": false,
              "testIn": "1\n9 2\n000000000\n000000#00",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Trapped",
                "2": "Trapped"
              },
              "isTest": true,
              "testIn": "1\n3 3\n0#0\n#0#\n0#0",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "Trapped",
                "2": "Trapped"
              },
              "isTest": false,
              "testIn": "1\n4 3\n0#00\n#000\n0000",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Cross Road",
                "2": "Cross Road"
              },
              "isTest": true,
              "testIn": "1\n10 6\n#0#####000\n#0#000#000\n#0##0##0#0\n#000000000\n####0##000\n00000#0000",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "Cross Road",
                "2": "Cross Road"
              },
              "isTest": false,
              "testIn": "1\n10 6\n000000#0#0\n0##0#00000\n0##0####0#\n000000#000\n0##0#0#0##\n0#00#00000",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Sparse",
                "2": "Sparse"
              },
              "isTest": true,
              "testIn": "1\n7 6\n00000#0\n0#0#000\n00#00##\n000#000\n#0#00#0\n0#00#00",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "Sparse",
                "2": "Sparse"
              },
              "isTest": false,
              "testIn": "1\n7 6\n000#000\n0#00#00\n#0000#0\n000#000\n#0#0#00\n0#000#0",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Many crosses",
                "2": "Many crosses"
              },
              "isTest": true,
              "testIn": "1\n37 17\n00000#000#00000#00000000000000000#000\n##0###0#0###0#0#0###0###0#0###0#0###0\n00000#0#0#0#0#000#00000#0#0#000#00000\n0#######0#0#0#######0#######0#0###0##\n00000000000000000#000000000#0#0#00000\n0#0###0#######0#0#0#####0###0###0#0##\n0#000#0#0#00000#0#000#0#000#000#0#000\n0###0#0#0#########0#0#0#0############\n0#000#000000000#000#0#000#000#000#0#0\n0#######0#####0###0###0#0#0###0###0#0\n000#0#000#0000000#0#000#0000000#00000\n##0#0#0#########0#######0###0#######0\n000#000#000#0#0000000#000#0#0#0#0#000\n0###0#0#0###0#0###0#0###0#0#0#0#0#0#0\n000#0#000#00000#000#0#0#000#0#0#000#0\n0#0#####0#######0#0#0#0###0###0#0###0\n0#0#000000000#000#0#00000#000000000#0",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "Many crosses",
                "2": "Many crosses"
              },
              "isTest": false,
              "testIn": "1\n37 17\n000#0#0000000000000#0#00000000000#0#0\n0#0#0#0#######0###0#0#0###########0#0\n0#0000000#000#000#000#00000#0#0#00000\n0###0#0###0###0###0###0#####0#0#0#0##\n000#0#0#00000#000#0#00000#000#0#0#000\n##0###0#0###0###0#0###0#0#0#0#0###0##\n0#0#0#000#000#000#00000#000#0#000#000\n0#0#0#0#######0#0#####0###0###0#####0\n000#00000#00000#000#000#0000000000000\n0###0#0#0###0#0#####0#####0#####0###0\n0#000#0#0#000#0#00000#000#00000#0#000\n0#####0#####0#0###0#0###0#0###0#####0\n000#00000#0#0#000#0#0#00000#0#00000#0\n0#####0#0#0#0#0###0###0#0#0#0#####0#0\n0#00000#000#0#0#00000#0#0#0000000#0#0\n##0###0#0#0#0#0#0#0#####0#######0###0\n000#000#0#0#0#0#0#000#00000#0000000#0",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Spanning Tree",
                "2": "Spanning Tree"
              },
              "isTest": true,
              "testIn": "1\n59 39\n0000000#0#000#000#0000000#000000000#0000000#000000000000000\n0#####0#0#0#0###0#0###0#0#0#0#######0#####0#0#####0#######0\n000#000#0#0#000#000#000#000#0000000#000#000#0#000#00000#000\n##0###0#0#0###0#####0#############0#####0###0#0#######0####\n00000#000#000#0000000#000#0000000#00000#000#0#000000000#000\n0###0#######0#########0#0#######0#####0#0#0#0#0#########0#0\n000#0#00000#0#000#00000#00000#00000#000#0#000#0#0000000#0#0\n##0#0#0###0#0#0#0#0#########0#0###0#0###0#####0#0#####0#0#0\n0#0#000#0#0#0#0#0#000#0000000#000#0#0#0000000#0#00000#0#0#0\n0#0#####0#0#0#0#0###0#0#########0#0#0#0#######0#####0#0#0#0\n0#00000#00000#0#000#0#000000000#0#00000#00000#0#000#0#000#0\n0#0###0#0#####0###0#0###0#####0#0###########0#0#0###0###0#0\n000#000#0#0000000#00000#00000#0#00000000000#0#0#000#0#0#0#0\n####0###0###################0#0###########0#0#0###0#0#0#0##\n0#00000#000#000000000#000#000#0#00000#00000#000#000#000#000\n0#0#######0#0#######0#0#0#0###0###0#0#0#0#####0#0#####0###0\n000#0000000#000#00000#0#000#00000#0#0#0#0#000#000#000#0#000\n####0#########0#0#######0#######0###0#0###0#0###0#0#0###0##\n000#0#00000#0#0#000000000#00000#00000#00000#0#0#000#000#0#0\n0#0#0#0###0#0#0#####0#####0#0#0#############0#0#####0#0#0#0\n0#000#000#000#00000#00000#0#0#000#000#00000#0#00000#0#000#0\n0###0###0###0###0#######0#0#####0#0#0#0#0###0#0###0#0###0#0\n0#0#000#0#00000#000#000#0#0#00000#0#0#0#00000#000#0#0#000#0\n0#0###0#0#0#######0#0#0#0#0#0#####0#0#0#########0#0#0#####0\n00000#0#0#0#00000#0#0#000#0#0#000#0#0#0#0000000#0#0#00000#0\n##0###0#0#0###0#0#0#0#####0#0#0#0#0#0#0#0#####0#0#0###0#0#0\n000#000#0#000#0#0#0#0#00000#000#0#0#0#000#00000#0#000#0#0#0\n####0###0###0#0#0#0#0#0#########0#0#0#####0#######0#0#0#0#0\n00000#000#0#000#0#0#0#0#000000000#0#0000000#00000#0#000#0#0\n0#####0###0#0#######0#0#########0#####0#####0###0#0#####0#0\n0000000#0#000#000000000#00000#000#00000#00000#000#000#000#0\n0#######0#0###0#0#######0#0###0###0#############0#0###0###0\n0#00000#000#000#0#00000#0#0000000#0000000#00000#0#0#000#000\n0#0#####0###0###0#0#####0###############0#0###0#0###0###0##\n000#00000#000#000#0000000#0000000#0000000#0#000#000#0#00000\n######0###0###0#########0#######0#0#######0#0#####0#0#####0\n0#00000#000#0#000#0000000#00000#0#0#000#000#0#00000#000#000\n0#0#0#####0#0###0#0#######0#0#0#0#0#0#0#####0#0#####0#0#0##\n000#0000000#00000#000000000#0#000#000#000000000#00000#00000",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "Spanning Tree",
                "2": "Spanning Tree"
              },
              "isTest": false,
              "testIn": "1\n59 39\n0#000000000#00000#000000000#0000000000000#0000000000000#000\n0#0#####0#0#0###0###0#####0#0#########0#0#########0###0#0#0\n000#000#0#0#0#0#0#000#000#0#0#0000000#0#00000000000#0#0#0#0\n0###0#0#0###0#0#0#0###0#0#0###0#####0#0###0#########0#0####\n0#000#000#000#0#000#0#0#000#000#0#000#000#0#000000000#0#000\n0#0#######0###0###0#0#######0###0#0#0###0###0#####0###0#0#0\n0#0#00000#00000#0#000#0000000#0#000#000#0#0#0#00000#000#0#0\n0#0#0#0#0###0###0###0###0#0###0#######0#0#0###0###0#0#####0\n0#000#0#00000#00000#00000#0#00000#0000000#000#000#000#0#000\n0#####0#0#########0###########0#0#########0#0###0#0###0#0##\n0#00000#000#00000#0#00000#00000#000#00000#0#0#000#0#000#0#0\n####0###########0#0#####0###0#####0#0###0#0#0#0#####0#0#0#0\n000#00000#0#0#000#00000#0000000#000#0#000#0#0#000#000#000#0\n0#0#0###0#0#0#0###0#0#########0#0###0###0#0#####0###0#0#0##\n0#0#000#0000000#000#0000000#0#0#000#000#000#000000000#0#000\n0#0#####0#######0#######0#0#0#0###0#0#0#0###0#######0###0##\n0#00000#0#00000#0#0000000#0#00000#0#0#0#0#000#00000#0#0#0#0\n######0#0#0###0###0###0###0#######0#0#0###0#######0#0#0###0\n0000000#00000#000#0#00000#0#00000#0#0#000#0#0000000#0#0#000\n0###0#####0###0#0#0#######0#0###0#0#####0#0#0#########0#0#0\n000#00000#0#000#00000#000#0#0#000#00000#000#000000000#0#0#0\n##0#####0#######0###0#0#0###0#0#######0#0#####0#0#####0#0#0\n0#000#0#0000000#000#0#0#00000#00000#000#0#00000#0#00000#0#0\n0###0#0###0###0###0#0#0#0#########0#0#####0#0#####0#######0\n00000#000#0#0#000#0#0#0#000#00000#0#000#000#0#00000#0000000\n0#####0#0###0###0###0#0###0###0#0###0#0#0#######0#0###0#0##\n0#0#000#0000000#00000#000#00000#00000#000#000#000#0#000#000\n0#0#0###########0###0###0#######0#0###0#0#0#0#0###0###0####\n000#00000#00000#0#0#00000#00000#0#0#0#0#000#000#000#000#000\n##0###0#0#0#0#####0#######0#0#######0###########0#######0##\n000#000#000#000#0000000#000#0000000#000#0000000#0#0000000#0\n0###0#######0#0#######0#########0#0#0#####0###0#0#0#######0\n0#00000#000#0#0000000#00000000000#000#00000#000#0#00000#0#0\n0#####0#0#0#0#####0#####0#####0#######0#0###0###0#####0#0#0\n0#00000#0#000#000#0#00000#000#0#000#000#000#00000#000#0#0#0\n0#0###########0#0#0#0#######0#0#0#0#0#####0#######0###0#0##\n0#000#000000000#0#000#0000000#0#0#0#000#0#0#000#000#0#00000\n0#0###0###0###############0###0#0#0###0#0#0#0#0#0###0#####0\n0#000#000#0#000#000000000#000#0#0#0000000#000#0#00000#000#0",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Prim's",
                "2": "Prim's"
              },
              "isTest": true,
              "testIn": "1\n99 39\n0#0#0#0000000#0#0000000#000#000#000#0#0#000#0#00000#0#0#0#00000000000#000#0#0#000#000#000#0#000#000\n0#0#0#0#####0#0#####0#0###0#0###0#0#0#0#0###0#0#####0#0#0###0#0###0#####0#0#0#0#0###0#0###0#0#####0\n0000000#0#0000000#000#0#0#000#0#0#0#0#0#00000#0#0000000#00000#000#000#000#00000#000#0#0000000000000\n0###0#0#0#########0#0#0#0###0#0###0#0#0#0#0#0#0###0#0#0#0###0###0#0###0#0###0###0###0###0#0########\n0#0#0#000#00000#0#0#0#0#0000000#0000000#0#0#000#000#0#0#0#00000#0#000#0#00000#0#000#000#0#0#000#000\n0#0#0###0#0#####0#0#######0###0#0#0#0#0###0#######0#########0#0#0#0###########0###0#0#0###0#0#0###0\n0#000#00000#0000000#0000000#0#0#0#0#0#0#00000#0#0000000#00000#0#0#0#0#000000000#00000#0#00000#0#000\n0#0#0#####0#0###########0###0#######0#0#0#####0#0###########0#####0#0#0#0###0#0#####0#######0#####0\n0#0#0#0#000000000#00000#0#0#0000000#0#00000#000#00000#00000#00000#00000#0#0#0#0#0000000000000#000#0\n0#####0###0#0###0#0#####0#0#0#########0#######0###0###0#0#0#0#######0###0#0#####0#0#0###0###0#0#0#0\n000#0000000#000#000#0#0#0#0000000#0000000#00000#0000000#0#0000000#0#0#000000000#0#0#000#0#00000#000\n####0###0#0#########0#0#0#####0###0#####0#0###0#########0#0#######0###0#0#####0#####0###0#########0\n000#0#0#0#000#0#0#0#00000#00000#0#0#00000#000#00000#000#0#0#0000000#0#0#0#000#0#0#00000#000000000#0\n0#0#0#0###0###0#0#0#####0#0#0###0###0###0###0#######0###0#0#0#######0#######0###0###0#####0#0#####0\n0#00000#0000000#00000#00000#0000000#0#000000000#0#00000#0#0#000#000#00000#000#000#0000000#0#00000#0\n############0###0###0#0###0###0#0###0###0###0###0#0#######0###0#0#0#0#####0#0#0#0###0#####0#0#0#0#0\n0#0000000#0000000#000#0#00000#0#000#0#000#00000000000#00000000000#0000000#0#000#0#00000#000#0#0#0#0\n0#####0#####0###0#0#0#####0#####0#########0#######0#######0#0###0###0###0###0#0#0#0###0#####0#####0\n00000#0#0#00000#0#0#000#000#00000#0#0#000000000#000#0000000#0#00000#0#000#0#0#0#0#000#000#0000000#0\n##0###0#0#0#####0###0###0#0#0#0###0#0#####0#####0#0###0#####0#####0#####0#0#0#########0#0###0######\n00000#000#0#0000000#0#000#0#0#00000#0#00000#000#0#0000000#0000000#000#00000000000#0#0#0#0#0000000#0\n##0#0#0###########0#0#0#0#0###0###0#0###0###0#0#0#0#####0#0###0#########0#0###0###0#0#0###0###0###0\n000#00000000000#000#0#0#0#000#000#0000000#0#0#0#0#0#000#0#0#0000000#0#000#000#00000#000#00000#000#0\n######0#####0###0#0###0###0#########0#####0#0#####0#0###0#######0#0#0#####0#####0#########0#0#0###0\n0000000#0#0000000#0000000#000#0#00000#0#0#000#000#00000#000#0#000#00000#0000000#00000#0#000#0#0#000\n0#####0#0#####0#####0#########0#0###0#0#0#0#####0#0#######0#0#####################0###0#0###0#####0\n000#000#0#000#00000#00000#00000#0#00000#0#000#00000#0#000#000#000#00000#0000000#0#0000000#0#0#0#000\n########0#0#######0###0###0###0#0#0###0#0###0#####0#0#0#####0#0#0#0#0#######0###0#0#####0#0#0#0#0#0\n000#0000000000000#000#00000#000#0#000#0#0#0000000#000#000#00000#000#0#000#0#0000000#0000000#0#0#0#0\n##0###0###0#########0#################0#0#0#####0#####0#################0#0#0#####0#0###0###0#0#0#0\n000#00000#000000000#0#000#000#000000000000000#00000#000000000#000#000#00000#0#0#000#000#0#000#000#0\n0#0#0#####0###########0#####0###0#####0#####0###0#####0#####0#0###0#######0###0###0###0#######0#0##\n0#00000#00000000000#00000#0#0#0#000#00000#000#00000#0#0#0#000#000#0#0#0000000000000#0000000#0#0#000\n0#0###########0#######0###0#0#0#0#############0#####0###0###0#0###0#0#########0#0#0###0#####0#####0\n0#0#00000#000#000#00000#0000000#0#0#0#000#000#0000000#000#000#0#000#000#0000000#0#0#000000000#00000\n0###0#0###0#0#0#0###0#0#0#0#0###0#0#0#0###0#####0#######0#0#0#0#0#0###0###0#0#0#0#####0#0#0#0#0#0#0\n000#0#00000#000#00000#000#0#0000000#000000000#000000000#000#00000#000#00000#0#0#000#000#0#0#000#0#0\n0#######0###0###0#0#######0###0#####0###0#######0#####0#####0###0#######0#######0###0###0#0###0####\n0000000#000#000#0#00000#00000#000000000#0000000#000#000000000#000#0000000#000000000#0#000#0#0000000",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "Prim's",
                "2": "Prim's"
              },
              "isTest": false,
              "testIn": "1\n99 39\n000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\n0#####0#0#0###0#0#0#0###0#0#0#0#0#0#0#0#######0#######0###0#0#######0#0###0#0###0#0#0#0#0#0#0#0#0#0\n00000#0#0#000#0#0#0#000#0#0#0#0#0#0#0#0000000#0000000#000#0#0000000#0#000#0#000#0#0#0#0#0#0#0#0#0#0\n0#####0#####0###########0###0#0#0#0#0###0#######0#0###0#0#0###0#####0###0#0###0#0###0#0#####0#0#0#0\n00000#00000#00000000000#000#0#0#0#0#000#0000000#0#000#0#0#000#00000#000#0#000#0#000#0#00000#0#0#0#0\n0#0#0#0#0#####0#######0#######0###0###0#####0#0#0#####0###0#####0#0#######0#0#0#0#####0#0###0#####0\n0#0#0#0#00000#0000000#0000000#000#000#00000#0#0#00000#000#00000#0#0000000#0#0#0#00000#0#000#00000#0\n0#0#0#0#0#0###0###0#########0#0#######0#########0#####0#0#0###0#####0###0###0#0#############0#0###0\n0#0#0#0#0#000#000#000000000#0#0000000#000000000#00000#0#0#000#00000#000#000#0#0000000000000#0#000#0\n0#########0#0###0#####0#0#0#######0#######0###0###0###0#0#0#####0#####0#####0#0#####0#0###0#0#0###0\n000000000#0#000#00000#0#0#0000000#0000000#000#000#000#0#0#00000#00000#00000#0#00000#0#000#0#0#000#0\n0#######0###############0###0#0#0#####0#####0#0#0#0#0#0#0#####0###########0#######0#0#0###0#0#####0\n0000000#000000000000000#000#0#0#00000#00000#0#0#0#0#0#0#00000#00000000000#0000000#0#0#000#0#00000#0\n0#0#########0###0#0###0#0#0#####0###0###0#####0#0#0###0###0###0###0###0#####0#0#0#0#####0#####0####\n0#000000000#000#0#000#0#0#00000#000#000#00000#0#0#000#000#000#000#000#00000#0#0#0#00000#00000#00000\n0#0###0###0#0###0#0###################0###0#####0#####0###0#######0#0###0#0#0#0###0#######0###0#0##\n0#000#000#0#000#0#0000000000000000000#000#00000#00000#000#0000000#0#000#0#0#0#000#0000000#000#0#000\n0#0#0#0#0#0#####0#######0#0#0#########0#0#0#0#0###0#0#####0#####0###0#0#0#0#0#####0#######0###0#0##\n0#0#0#0#0#00000#0000000#0#0#000000000#0#0#0#0#000#0#00000#00000#000#0#0#0#0#00000#0000000#000#0#000\n0#0#####0#0#0#####0#0#0#0#####0###0#0###0#0#0#0###0#########0###0#####0#0#0#0#0#####0#0#0#0#######0\n0#00000#0#0#00000#0#0#0#00000#000#0#000#0#0#0#000#000000000#000#00000#0#0#0#0#00000#0#0#0#0000000#0\n0#0#####0#0###############0###0#0#0###########0#0#####0#0#0#######0###0###########0###0#0#0#####0#0\n0#00000#0#000000000000000#000#0#0#00000000000#0#00000#0#0#0000000#000#00000000000#000#0#0#00000#0#0\n0#0#0#0#0#0#0#####0#0###0#0#######0#########0#0###0#0#0#0#####0#0###############0#####0#0#####0###0\n0#0#0#0#0#0#00000#0#000#0#0000000#000000000#0#000#0#0#0#00000#0#000000000000000#00000#0#00000#000#0\n0###0#######0#####0#0#####0#######0###0#0###0#0###0###0###0###0#0###0#0#####0#####0#0###0#####0###0\n000#0000000#00000#0#00000#0000000#000#0#000#0#000#000#000#000#0#000#0#00000#00000#0#000#00000#000#0\n0#0#0###0###0#0###0#0#####0#0#0#0#########0#0#0#0#0#####0#0#0###0#0###0###0#0#0#0#0#####0#0#####0#0\n0#0#000#000#0#000#0#00000#0#0#0#000000000#0#0#0#0#00000#0#0#000#0#000#000#0#0#0#0#00000#0#00000#0#0\n0#0#0#####0#####0#0#####0#0#####0###0#0#0###0#############0###0###0#0###0#0###0#0#####0#0###0###0#0\n0#0#00000#00000#0#00000#0#00000#000#0#0#000#0000000000000#000#000#0#000#0#000#0#00000#0#000#000#0#0\n0#######0###########0#0###0#0#0#0###0#0###0#0###0#0#0###0#0#####0#0#####0#0#0#0###0###0###0#0#0####\n0000000#00000000000#0#000#0#0#0#000#0#000#0#000#0#0#000#0#00000#0#00000#0#0#0#000#000#000#0#0#00000\n0#0#0#########0#0#########0#####0#0#0#0###0#0#0#0#0#0#0#####0###0###0#0#######0#######0###0#######0\n0#0#000000000#0#000000000#00000#0#0#0#000#0#0#0#0#0#0#00000#000#000#0#0000000#0000000#000#0000000#0\n0#####################0#######0#0#0#0###0#0#######0#####0#0###########0#0#0#0#0###0#0###0#######0##\n000000000000000000000#0000000#0#0#0#000#0#0000000#00000#0#00000000000#0#0#0#0#000#0#000#0000000#000\n0###0###########0#####0###0#0#0###0#########0#0#0#0#0###0###0#####0###0#####0#0#####0#####0#0#0#0##\n000#00000000000#00000#000#0#0#000#000000000#0#0#0#0#000#000#00000#000#00000#0#00000#00000#0#0#0#000",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            }
          ],
          "maxPlayers": 1,
          "minPlayers": 1,
          "statements": {
            "1": "<!-- Autogenerated file! Do not edit directly. --><!-- LEAGUES level1 level2 level3 level4 -->\n\n<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <div style=\"color: #7cc576;\n  background-color: rgba(124, 197, 118,.1);\n  padding: 20px;\n  margin-right: 15px;\n  margin-left: 15px;\n  margin-bottom: 10px;\n  text-align: left;\">\n    <div style=\"text-align: center; font-weight: 700; margin-bottom: 6px;\">\n      Important\n    </div>\n    <span class=\"statement-league-alert-content\">\n      Chaque question peut tre rsolue indpendamment.\n      Vous pouvez soumettre une solution  n'importe quel moment, nous ne garderons que vos meilleures soumissions.\n    </span>\n  </div>\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>Objectif</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      <p>\n        Le <b>dtective Pikaptcha</b> enqute sur une perturbation dans le continuum spacio-temporel. Il semblerait\n        quun puissant <em>pok-bot</em> soit en train de dformer lespace autour de notre hros pour le piger.\n        Aidez <b>Pikaptcha</b>  cartographier son environnement afin quil s'chappe et trouve le coupable&nbsp;!\n      </p>\n      Votre objectif est d'crire un programme qui retournera pour chaque case de la grille le nombre de passages\n      adjacents.\n\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rgles</span>\n    </h1>\n    <div class=\"statement-rules-content\">\n      <p>\n        La grille est remplie de <const>0</const> et de <const>#</const>&nbsp;; ici <const>0</const> reprsente\n        un passage et <const>#</const> reprsente un mur&nbsp;: une case infranchissable.\n      </p>\n\n      <div>\n\n\n      </div>\n      <p>\n        On considre quune case a au maximum <const>4</const> voisins (les cases en diagonale ne sont pas adjacentes).\n      </p>\n\n\n\n      Vous devez analyser la grille donne et la retourner avec une petite transformation&nbsp;: pour chaque case vide,\n      au lieu de <const>0</const>, retournez le <b>nombre de passages adjacents</b>. Pour chaque case mur, ne changez\n      rien,\n      retournez toujours <const>#</const>.\n    </div>\n  </div>\n\n  <!-- Details -->\n  <!--\n  <div class=\"statement-section statement-expertrules\">\n    <h1>\n      <span class=\"icon icon-expertrules\">&nbsp;</span>\n      <span>Details</span>\n    </h1>\n    <div class=\"statement-expert-rules-content\">\n      <p>\n        The referee code of the game is accessible on GitHub: <a target=\"_blank\"\n          href=\"https://github.com/CodinGameCommunity/A-Star-Craft\">https://github.com/CodinGameCommunity/A-Star-Craft</a>\n      </p>\n    </div>\n  </div>\n  -->\n\n  <!-- WARNING -->\n  <div class=\"statement-section statement-warning\">\n    <h1>\n      <span class=\"icon icon-warning\">&nbsp;</span>\n      <span>Note</span>\n    </h1>\n    <div class=\"statement-warning-content\">\n      <p>\n\n        <strong>N'oubliez pas d'excuter les tests</strong> depuis la fentre \"Jeu de tests\". <strong>Chaque test russi\n          rapporte un certain nombre de points</strong> (par exemple 10%).<br>\n        <br>\n        <strong>Attention</strong>&nbsp;: les tests fournis et les validateurs utiliss pour le calcul du score sont\n        similaires mais <strong>diffrents</strong> (pas de points pour les solutions \"hardcodes\").<br>\n        <br>\n        Vous pouvez soumettre autant de solutions que vous le souhaitez. Seule votre meilleure soumission par question\n        sera utilise pour le classement final.\n      </p>\n      <!-- <p>\n        Don't hesitate to change the viewer's options to help debug your code (<img\n          style=\"opacity:.8;background:#20252a;\" height=\"18\"\n          src=\"https://www.codingame.com/servlet/fileservlet?id=3463235186409\" width=\"18\">).\n      </p> -->\n    </div>\n  </div>\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Entres du jeu</span>\n    </h1>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Entre</div>\n      <div class=\"text\">\n        <div>\n          <span class=\"statement-lineno\">\n            Premire ligne:\n          </span>\n          2 entiers <var>width</var> et <var>height</var>, la largeur et hauteur\n\n          de la grille.\n\n        </div>\n        <div>\n          <span class=\"statement-lineno\">Prochaines <var>height</var> lignes&nbsp;:</span> une chane de caractres\n          <var>line</var> de longueur\n          <var>width</var> contenant une ligne de la grille\n          o <const>0</const> est un passage et <const>#</const> est un\n          mur.\n        </div>\n        <div>\n          Le labyrinthe est entour de murs impassables qui ne sont pas inclus dans les donnes en entre.\n        </div>\n      </div>\n    </div>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Sortie</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\"><var>height</var> lignes de <var>width</var> caractres chacune</span> contenant\n        la grille tranforme.\n\n      </div>\n    </div>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Contraintes</div>\n      <div class=\"text\">\n        <p>\n          <const>1</const>  <var>width</var> & <var>height</var>  <const>100</const>\n        </p>\n        <p>\n          Temps de rponse allou  <const>2s</const>\n        </p>\n      </div>\n    </div>\n\n  </div>\n",
            "2": "<!-- Autogenerated file! Do not edit directly. --><!-- LEAGUES level1 level2 level3 level4 -->\n\n<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      <p>\n        <b>Detective Pikaptcha</b> is investigating a disturbance in the spacetime continuum. It seems a powerful\n        <em>pokbot</em> is being used to warp space around our hero to keep him trapped. Help him map his surroundings\n        in order to escape and uncover the culprit!\n      </p>\n      Your objective is to write a program that will compute, for each cell of a grid, the number of adjacent passages.\n\n\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div class=\"statement-rules-content\">\n      <p>\n        You're given a grid filled with <const>0</const> and <const>#</const>, where <const>0</const> represents a\n        passage, and <const>#</const> represents a wall: an impassable cell.\n      </p>\n\n      <div>\n\n\n      </div>\n      <p>\n        We're considering the <const>4-adjacency</const>, meaning a cell has a maximum of 4 adjacent cells (a diagonal\n        cell is not adjacent).\n      </p>\n\n\n\n      You must analyze the given grid and return it with a small transformation: for each empty cell, instead of a\n      <const>0</const>, you must return the number of its adjacent passable cells. For each impassable cell, you\n      change\n      nothing: you still return <const>#</const>.\n    </div>\n  </div>\n\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Protocol</span>\n    </h1>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Game Input</div>\n      <div class=\"text\">\n        <div>\n          <span class=\"statement-lineno\">\n            First line:\n          </span>\n          2 integers <var>width</var> and <var>height</var> for the size of\n\n          the grid.\n\n        </div>\n        <div>\n          <span class=\"statement-lineno\">Next <var>height</var> lines:</span> a string <var>line</var> of length\n          <var>width</var>\n          where <const>0</const> is a passage and <const>#</const> is a\n          wall.\n        </div>\n        <div>\n          The maze is enclosed in impassable rocks that are not included in the data.\n        </div>\n      </div>\n    </div>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Game Output</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\"><var>height</var> line of <var>width</var> characters each</span> containing the\n        transformed grid.\n\n      </div>\n    </div>\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\">\n        <p>\n          <const>1</const>  <var>width</var> & <var>height</var>  <const>100</const>\n        </p>\n        <p>\n          Allotted response time to output is = <const>2s</const>\n        </p>\n      </div>\n    </div>\n\n  </div>\n"
          },
          "questionType": "solo",
          "stubGenerator": "read width:int height:int\nloop height read line:word(255)\nloop height write #####",
          "welcomePopups": {},
          "criteriaLanguageMap": {}
        }
      },
      "coverBinaryId": 31826444455000,
      "directoryPrefix": "community/2064637-1563982488347",
      "allowSourceDownload": false
    },
    "draft": false,
    "readyForModeration": true
  },
  "validatedFor": 206667519574,
  "avatar": 13281799951852,
  "commentCount": 1,
  "upVotes": 2,
  "downVotes": 0,
  "validateAction": {
    "actionId": 367389,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}