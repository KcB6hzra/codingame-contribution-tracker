{
  "id": 7455,
  "activeVersion": 33,
  "score": 4,
  "votableId": 20354270,
  "codingamerId": 2064637,
  "views": 184,
  "commentableId": 20250658,
  "title": "Dungeon 3D",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "java_coffee_cup",
  "publicHandle": "7455527d147c953813aff1842cf5b6b302c8",
  "codingamerHandle": "f4c116cad137a7eee91b727ff6fe53597364602",
  "lastVersion": {
    "version": 33,
    "autocloseTime": 1636817918894,
    "data": {
      "title": "Dungeon 3D",
      "topics": [
        {
          "id": 68,
          "handle": "pathfinding",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Recherche de chemins",
            "2": "Pathfinding"
          },
          "pageTitle": "Pathfinding: exercises and theory",
          "puzzleCount": 35,
          "parentTopicId": 41,
          "contentDetailsId": 69
        },
        {
          "id": 186,
          "handle": "maze",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Maze",
            "2": "Maze"
          },
          "puzzleCount": 6,
          "parentTopicId": 93
        }
      ],
      "solution": "import java.util.*;\n\nclass Solution {\n\n\tpublic static void main(String args[]) {\n\t\tScanner in = new Scanner(System.in);\n\t\tint L = in.nextInt();\n\t\tint R = in.nextInt();\n\t\tint C = in.nextInt();\n\n\t\tBoard b = new Board(L, R, C);\n\n\t\tint ln = in.nextInt();\n\t\tin.nextLine();\n\n\t\tfor (int j = 0; j < ln; j++) {\n\t\t\tString line = in.nextLine();\n\t\t\tif (!line.isBlank()) {\n\t\t\t\tint ll = j / (R + 1);\n\t\t\t\tint y = j % (R + 1) - 1;\n\t\t\t\tb.addLine(ll, y, line);\n\t\t\t}\n\t\t}\n\n\t\tb.preComputeAdj();\n\n\t\tif (b.search()) {\n\t\t\tint step = b.backtrack();\n\t\t\tSystem.out.println(step + 1);\n\t\t} else {\n\t\t\tSystem.out.println(\"NO PATH\");\n\t\t}\n\t}\n}\n\nclass Board {\n\tstatic boolean isDebug = false;\n\tstatic int id = 0; // cell id\n\tint layer, w, h;\n\tCell[][][] arr;\n\tCell st, ed;\n\tint count = 0;\n\tList<Cell> path = null;\n\n\tpublic Board(int l, int r, int c) {\n\t\tthis.layer = l;\n\t\tthis.h = r;\n\t\tthis.w = c;\n\t\tarr = new Cell[layer][w][h];\n\t\tpath = new ArrayList<>();\n\t}\n\n\tpublic void preComputeAdj() {\n\t\tfor (int ll = 0; ll < layer; ll++) {\n\t\t\tfor (int y = 0; y < h; y++) {\n\t\t\t\tfor (int x = 0; x < w; x++) {\n\t\t\t\t\tCell c = arr[ll][x][y];\n\t\t\t\t\tif (y > 0) {\n\t\t\t\t\t\tc.adj[0] = arr[ll][x][y - 1];\n\t\t\t\t\t}\n\t\t\t\t\tif (y < h - 1) {\n\t\t\t\t\t\tc.adj[1] = arr[ll][x][y + 1];\n\t\t\t\t\t}\n\t\t\t\t\tif (x > 0) {\n\t\t\t\t\t\tc.adj[2] = arr[ll][x - 1][y];\n\t\t\t\t\t}\n\t\t\t\t\tif (x < w - 1) {\n\t\t\t\t\t\tc.adj[3] = arr[ll][x + 1][y];\n\t\t\t\t\t}\n\t\t\t\t\tif (ll > 0) {\n\t\t\t\t\t\tc.adj[4] = arr[ll - 1][x][y];\n\t\t\t\t\t}\n\t\t\t\t\tif (ll < layer - 1) {\n\t\t\t\t\t\tc.adj[5] = arr[ll + 1][x][y];\n\t\t\t\t\t}\n\t\t\t\t} // for x\n\t\t\t} // for y\n\t\t} // for ll\n\t}\n\n\tpublic int backtrack() {\n\t\tint count = 0;\n\t\tCell lastCell = ed;\n\t\tfor (int i = path.size() - 1; i >= 0; i--) {\n\t\t\tCell c = path.get(i);\n\t\t\tif (lastCell.dif(c) == 1) {\n\t\t\t\tlastCell = c;\n\t\t\t\tcount++;\n\t\t\t}\n\t\t}\n\t\treturn count;\n\t}\n\n\t// BFS\n\tpublic boolean search() {\n\t\tQueue<Cell> q = new LinkedList<>();\n\t\tst.visited = true;\n\t\tq.add(st);\n\n\t\twhile (!q.isEmpty()) {\n\t\t\tcount++;\n\t\t\tCell c1 = q.poll();\n\n\t\t\tfor (int dir = 0; dir < 6; dir++) {\n\t\t\t\tCell cx = c1.adj[dir];\n\t\t\t\tif (cx != null && goodPath(cx)) {\n\t\t\t\t\tcx.visited = true;\n\t\t\t\t\tpath.add(cx);\n\t\t\t\t\tif (cx.equals(ed)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tq.add(cx);\n\t\t\t\t}\n\t\t\t}\n\t\t} // while\n\n\t\treturn false;\n\t}\n\n\tprivate boolean goodPath(Cell c) {\n\t\tif ((c.c == '.' || c.equals(ed)) && !c.visited) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tpublic void addLine(int ll, int y, String line) {\n\t\tfor (int x = 0; x < w; x++) {\n\t\t\tchar c = line.charAt(x);\n\t\t\tarr[ll][x][y] = new Cell(id++, ll, x, y, c);\n\t\t\tif (c == 'A') {\n\t\t\t\tst = arr[ll][x][y];\n\t\t\t} else if (c == 'S') {\n\t\t\t\ted = arr[ll][x][y];\n\t\t\t}\n\t\t}\n\t}\n}\n\nclass Cell {\n\tint id;\n\tint ll, x, y;\n\tchar c;\n\tboolean visited;\n\tCell[] adj = new Cell[6]; // in order of N, S, W, E, U, D\n\n\tpublic Cell(int ll, int x, int y) {\n\t\tthis.ll = ll;\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t}\n\n\tpublic Cell(int id, int ll, int x, int y, char c) {\n\t\tthis.id = id;\n\t\tthis.ll = ll;\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.c = c;\n\t}\n\n\tpublic int dif(Cell c2) {\n\t\tint sum = 0;\n\t\tsum += Math.abs(this.ll - c2.ll);\n\t\tsum += Math.abs(this.x - c2.x);\n\t\tsum += Math.abs(this.y - c2.y);\n\t\treturn sum;\n\t}\n\n\t@Override\n\tpublic int hashCode() {\n\t\tfinal int prime = 31;\n\t\tint result = 1;\n\t\tresult = prime * result + id;\n\t\treturn result;\n\t}\n\n\t@Override\n\tpublic boolean equals(Object obj) {\n\t\tif (this == obj)\n\t\t\treturn true;\n\t\tif (obj == null)\n\t\t\treturn false;\n\t\tif (getClass() != obj.getClass())\n\t\t\treturn false;\n\t\tCell other = (Cell) obj;\n\t\tif (id != other.id)\n\t\t\treturn false;\n\t\treturn true;\n\t}\n}",
      "statement": "Anya and her team of adventurers are battling in a multi-layered labyrinth beneath Waterdeep. Skeletons and Kobolds are lurking around every corner. Luckily Anya found the dungeon map which shows the structure of all layers of the dungeon including the location of a health-restoring Hot Spring.\n\nAnya identified the team's current location on the map. She has to find the path to the Hot Spring to rebuild the team's health for prolonged battles.\n\nAll layers of the dungeon have the same rectangular dimension composed of cubic cells. The layers are connected by vertical ladders for climbing up or down.\n\nThe team takes 1 minute to fight their way to move from one cell to the adjacent cell, which is the cell at any of the four directions of their current cell as well as the cells at the vertically upper and lower layers, if there is a path to. They cannot move to diagonal cells directly.\n\nWhat is the minimum time needed for the team to reach the Hot Spring?",
      "testCases": [
        {
          "title": "Example",
          "isTest": true,
          "testIn": "2 3 3\n8\n\n..#\n.##\nA##\n\n#.#\n#.S\n#..",
          "testOut": "6",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Example Validator",
          "isTest": false,
          "testIn": "2 3 3\n8\n\n.##\n.S#\n###\n\n...\n##.\nA..",
          "testOut": "9",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Small",
          "isTest": true,
          "testIn": "5 3 4\n20\n\n...#\n###.\n###S\n\n.#..\n###.\n####\n\n.###\n##..\n####\n\n.###\n####\n##.#\n\nA..#\n####\n####",
          "testOut": "11",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Small Validator",
          "isTest": false,
          "testIn": "3 4 5\n15\n\n....A\n.###.\n..##.\n#.###\n\n#####\n#####\n##.##\n...##\n\n#####\n#####\n###.#\nS####",
          "testOut": "11",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Direct Access",
          "isTest": true,
          "testIn": "1 1 2\n2\n\nAS",
          "testOut": "1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "DirectAccess Validator",
          "isTest": false,
          "testIn": "2 1 1\n4\n\nS\n\nA",
          "testOut": "1",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "NO PATH",
          "isTest": true,
          "testIn": "2 3 3\n8\n\nA..\n###\n..S\n\n.#.\n.##\n##.",
          "testOut": "NO PATH",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "NoPath Validator",
          "isTest": false,
          "testIn": "3 3 2\n12\n\n..\n.#\nS#\n\n##\n#.\n##\n\n.#\n..\nA.",
          "testOut": "NO PATH",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "10's Cube",
          "isTest": true,
          "testIn": "10 10 10\n110\n\nA###S....#\n.#########\n####....##\n.#####..#.\n.######.#.\n####.####.\n####.##.#.\n##########\n#.#.....##\n#...######\n\n###..###.#\n.#########\n.##..#####\n#.#.######\n..#.#####.\n##########\n####..####\n#.###.####\n#.########\n##########\n\n#...####.#\n#.########\n.###...###\n#..###.###\n###.#####.\n########..\n##########\n#...#.####\n#####.####\n#####.####\n\n########..\n..########\n.#########\n##..##.###\n.##.##.###\n.#########\n.#########\n###.######\n##..######\n##.##...##\n\n#########.\n########..\n#######..#\n.#########\n.##.##.###\n######..##\n.#########\n.#########\n.#####..##\n##.####.#.\n\n##########\n######..##\n#######.##\n#.########\n#.#.######\n#.#.###.##\n###.###..#\n##########\n.#####.###\n##.#######\n\n######.###\n######.###\n##########\n######.###\n######...#\n########.#\n....####.#\n#.####.###\n.#####.###\n#..#######\n\n######.###\n##.#######\n######..##\n######.###\n##########\n##########\n.##.######\n##.##..##.\n..###.###.\n#.######..\n\n######..##\n#.#####.##\n#######.##\n##.#######\n##########\n##########\n.##.######\n##.####...\n##.##.####\n##.#####.#\n\n##########\n##########\n####.###.#\n#..###...#\n#..###.###\n######.###\n..#....###\n#.#####.##\n#.###.#.##\n#..##...#.",
          "testOut": "14",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "10's Cube Validator",
          "isTest": false,
          "testIn": "10 10 10\n110\n\nA#########\n##.#######\n##.#######\n#..#######\n..########\n.#########\n.#####...#\n.#######.#\n....######\n###..#####\n\n..#.######\n##..####.#\n#######.##\n##########\n##########\n##########\n#####..###\n#####.##.#\n####.#####\n####.#####\n\n#...######\n##########\n##########\n#.########\n...######.\n.#.#######\n.#.####.##\n.###..#..#\n####.####.\n##########\n\n.###.#####\n#..##.###.\n##..####..\n#.#.######\n##########\n##########\n.#..##..#.\n.########.\n#########.\n.#########\n\n..#..#####\n#.###.###.\n#########.\n#.....####\n##########\n##########\n###..#.##.\n.#####.###\n######.###\n...#######\n\n###.######\n#####.####\n##########\n#####.####\n.#########\n##########\n####.####.\n####..####\n##.###.###\n.#.#######\n\n###..#....\n######.##.\n######.###\n#####.....\n..#######.\n#.#######.\n#########.\n.####.####\n#####..###\n.#########\n\n####.#####\n#..###.##.\n##.####S.#\n##..######\n##########\n#..####.##\n######..##\n########..\n########.#\n#######..#\n\n####....##\n..#####.#.\n###.####.#\n.##.######\n.#########\n.#.####...\n.###...###\n.###.####.\n##########\n#######.##\n\n##########\n.#####..#.\n.##....#..\n.#########\n##########\n##..#####.\n###.#####.\n###..####.\n#######..#\n####.##.#.",
          "testOut": "84",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "13's Cube",
          "isTest": true,
          "testIn": "13 13 13\n182\n\n#############\n#############\n#############\n#############\n#############\n####S########\n####.########\n####...######\n#############\n#############\n#############\n#############\n#############\n\n#############\n#############\n#############\n#############\n#############\n#####.#######\n#####..####.#\n######.###..#\n##########.##\n##########.##\n#############\n#############\n#############\n\n#############\n#############\n#############\n#######..####\n#######.#####\n#####...####.\n###########..\n#############\n#############\n.#########.##\n.############\n.############\n#############\n\n#############\n##########.##\n#.########.##\n#.######.#...\n..#########..\n.#######.##..\n########..###\n#############\n########...##\n.#########.##\n#A.##########\n.#..#########\n.############\n\n######..#.###\n########...##\n########.##..\n##.#####..#..\n#..##########\n.######..####\n####...##.#..\n######.##.###\n#####..#.....\n.########.#..\n.########....\n###.######.##\n....######..#\n\n#####...#...#\n#####.#....#.\n#####..#.###.\n##.#...#.....\n#....#.####.#\n.#####..###.#\n..##.####....\n.####.###..#.\n#####.##...#.\n########..###\n....#####..##\n#############\n###########.#\n\n#######...#.#\n#######.#..#.\n######..#.###\n########.#.##\n#.##.#...####\n.###.#.######\n..##.#.##..##\n.####..######\n######.##..##\n##########..#\n###.####...##\n###.####.##..\n###..##..##..\n\n########..#.#\n######..##.#.\n#######.#.###\n#########..##\n#.##.....####\n..######.####\n.#####.#...##\n.###....##...\n######.......\n########.....\n.#########...\n..########..#\n####.##.#####\n\n###########..\n######.###.#.\n#############\n#############\n#.###########\n#.###########\n######..##...\n####.##..#...\n#######......\n#########...#\n.#####.###..#\n#.####..##.##\n#.##.##.#####\n\n#############\n######..##.##\n#######....##\n#############\n#############\n#############\n#######.####.\n###..##.##...\n#######.##.#.\n#.#####..####\n..###..####..\n#####..###..#\n#....#####..#\n\n#############\n#############\n#############\n#############\n#############\n#############\n###..###....#\n###.###..####\n##########.#.\n#.#####..###.\n##.##...####.\n##..#########\n#############\n\n#############\n#############\n#############\n#############\n#############\n#############\n####.######.#\n##########..#\n###.######.##\n#.#..##.#####\n#..#.##.#####\n###..########\n#############\n\n#############\n#############\n#############\n#############\n#############\n#############\n####...######\n######.######\n###....######\n#############\n#############\n#############\n############.",
          "testOut": "95",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "13's Cube Validator",
          "isTest": false,
          "testIn": "13 13 13\n182\n\n..###########\n..########S.#\n....#######..\n#...###...###\n#..##.....###\n##.#.......##\n##.#....##.##\n...#...######\n....#########\n##....#######\n#.....#######\n###.#########\n###..########\n\n...##########\n##.#######.##\n.#..########.\n.#####..#####\n##.....######\n#..##..###..#\n#####..##..##\n#.####.##..##\n#.#.#####..##\n##..#########\n#.....#######\n##..#########\n####.########\n\n...########..\n#..######....\n..#########..\n.######..###.\n#.#####.##...\n#.###...##...\n########....#\n....####.#.##\n#..######..##\n.#.##########\n..###########\n.#..#########\n####..#######\n\n.##########..\n#..######.##.\n..#######....\n..######.##..\n..##.######.#\n.....###.##.#\n...##.....#.#\n.##.#.#..####\n##.######..##\n.#.#######.##\n#..##########\n.#..#########\n.####.#######\n\n.###########.\n############.\n###.######.#.\n..#.####.....\n..#..########\n###.###..####\n##.#...##.###\n#......######\n#..##..######\n...######..##\n.#.##.##....#\n##..#..#.####\n....#..######\n\n.###########.\n..#.#########\n.##.##.######\n.##..#.##..##\n###..#.######\n###.##..#####\n####.####.###\n#.###.#######\n##..#.#######\n###..####..##\n....#..###..#\n##.....#...##\n#############\n\n.......###...\n....#####..##\n..####..#.###\n..########.##\n####.########\n####.########\n####.####.###\n#.###.#######\n##.######..##\n##...####..##\n##..#######.#\n###.#######..\n###....######\n\n#...##.....##\n#...##..##.##\n#.#.###.#.###\n##..#####..##\n####.....####\n#.######.####\n#.######..###\n#.##..#######\n#############\n##.....######\n.#.###.######\n..###..#####.\n####...#....#\n\n##.##..######\n##.#...###.##\n..#.#########\n##.#..#######\n.####.#######\n..###########\n##.##########\n##.#.########\n##.#######..#\n##.#######.##\n.#######..###\n#.######.##..\n#.##...#.##.#\n\n####....#####\n##...#..##.##\n.#...##....##\n.#.#.########\n.###...######\n##..##.######\n##.##..#####.\n###.....####.\n###########.#\n#.########..#\nA.#######.#.#\n#######.###.#\n#.......#####\n\n###.....#####\n###.#..######\n#.....#######\n....#########\n.###.########\n##..#...###.#\n###...#.###..\n###.#...####.\n#####..######\n#.########.#.\n##.######.#..\n##..###.#.#.#\n#########...#\n\n##........###\n##...#.##.###\n#....####.###\n###########.#\n###..######.#\n##..#######.#\n####...######\n####...#####.\n###......###.\n#.#..#.....#.\n#..#.#######.\n###..#......#\n######.####.#\n\n##..#..######\n#...##.######\n#.#######.###\n#########...#\n###########.#\n###########.#\n####...######\n####...######\n###....#####.\n############.\n############.\n########..###\n######....##.",
          "testOut": "44",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Multi-path 1",
          "isTest": true,
          "testIn": "14 15 30\n224\n\nS#############################\n.#############################\n.#############################\n.#############################\n##..##########################\n##..##########################\n##..##########################\n##############################\n##########################..##\n#########################...##\n##########################..##\n##############################\n##############################\n##############################\n##############################\n\n##############################\n##############################\n##############################\n.#############################\n....##########################\n##############################\n##########################..##\n##########################.###\n##########################.###\n#########################..###\n########################...###\n##########################.###\n##############################\n##############################\n##############################\n\n##############################\n##############################\n##############################\n###.##########################\n###.##########################\n##############################\n###########################.##\n#########################..###\n###########################...\n#######################....###\n########################...###\n##########################.###\n######################..######\n#######################.######\n#######################...####\n\n##############################\n##########...#################\n######..####.#################\n###.##.#####.#################\n######.###########.###########\n######.###########.###########\n###########################..#\n#########################..#..\n##################.######...#.\n##################..##....####\n######################.#.#####\n######################.##..###\n######################.##.####\n#########################.####\n#########################.####\n\n##############################\n##########.###################\n#######.######################\n###.###..###.#################\n########.....####..##..#######\n######..#.########.#..########\n######..####################A#\n######.########.############.#\n###############.##..##########\n###############...#..#.#######\n##############..###..#..######\n##############.########.######\n##############################\n##############################\n##############################\n\n##############################\n#########..##########...######\n####################..########\n###...###########..#.#########\n########..#######..#.#.#######\n#########.########.#.#..######\n######..######..##..##########\n######.#######..####...#######\n######.########..##..#########\n################..####.#######\n###################.#..#######\n##############.####.#...######\n######################..######\n######################.#######\n#####################..#######\n\n##########.....###############\n#########..###########..######\n####################.#.#######\n###...######.#####.....#######\n###.########...###....########\n##############.########.######\n###############.###.##########\n######################.#######\n#####..###########.#..########\n####..############.....#######\n#####################..#######\n##############...##..#########\n################..##.#..######\n###############.####....######\n###############.#####...######\n\n##########.....###############\n############..####..##########\n############...####..#########\n#.#########..#####...#########\n#...####.......#######..######\n##..#######....######...######\n###########.###.###...########\n###########.########...#######\n##################.#..########\n####.############.....########\n#########..######.###..#######\n##########.######.############\n###########..#..#.############\n###########..##.##############\n############....##############\n\n..#######.......##############\n#.#######...##.###..##########\n#.######..#....####.##########\n#.######.....######..#########\n########.....#######...#######\n#########.##....#####..#######\n#########..#....####..########\n##########..##...###....######\n############..##.#.#....######\n####..###.###..###...#.#######\n#########.#####........#######\n##########..######..##########\n##########...#.##..###########\n##########..#.....############\n##############################\n\n.########...#.#..#############\n.########.....####..##########\n.##########...########..######\n.#########....#####.#...######\n.##########...#####.#.########\n############.#..#...#.########\n###########..###.##....#######\n#####.##########.##...########\n#####.######..##.##...########\n#####.###..###..##...#########\n##########..###.#..###########\n##########...####.############\n##########....###.############\n##########..#.#...############\n##########.#####..############\n\n###########....#.....#########\n#########.#.##.##..#..########\n###########...###..###.#######\n###########...#######..#######\n.####.######..#######.########\n#####..##########.############\n######.####.####.....#.#######\n#####..####..###.#...#.#######\n############..##.#..##########\n#######....#####.#....########\n#######.####.######...########\n#####..###...######..#########\n######.###..###..#############\n######...#..###..#############\n##########..##################\n\n#########..######.....########\n#########.#.#..#......########\n############..#######.##.#####\n###########..#...#####...#####\n.####.######...###############\n#####..#####..################\n#####..######.################\n....#########.####.###.#######\n###.######....####......######\n##########.#####.....#..######\n#######.####..#...#.##########\n#####.#####.#.#.##############\n#######..####.################\n#####....#####################\n####....######################\n\n##########.######.#...########\n##########..###........#######\n############..##.........#####\n############..##.###.#########\n.###########..#####..#########\n.###..######...###############\n.####.########..##############\n.#################.###..######\n##..##############..###.######\n##..###############.##########\n##..#...###########.##########\n#####.#####.###...############\n#######.###.#..###############\n#######.###.#..###############\n####...####.##.###############\n\n################..#..#########\n###############.....#.########\n###########...#.....#.########\n###########..###..#.##########\n############.####.#.##########\n####.#######....#.############\n.###.##########.#.############\n.###.############...###.######\n##...#############..###.######\n##..##########################\n##############################\n#################.############\n#############..##.############\n#######.#####.###.############\n#######.....##....############",
          "testOut": "138",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Multi1 Validator",
          "isTest": false,
          "testIn": "14 15 30\n224\n\n.....#####...#....############\n..#######..#.####..###########\n.########..#.#################\n.###.#########################\n####.#########################\n##############################\n##############################\n###################.##########\n###################..#########\n####################.#########\n####################.#########\n####################.#########\n##############################\n##############################\n..############################\n\n.###.....####..###.########...\n..###......#..####.#########..\n######.###...#################\n.###...#######################\n.##..#########################\n##..##########################\n##.###########################\n##.################.##########\n#..###########################\n###..#########################\n#....#########################\n#.##################..########\n..###..############...########\n.##################.##########\n..#################..#########\n\n..###########.###..########.#.\n#####.#.##.#A.##############..\n######.##....###############..\n.########...##################\n..############################\n#.############################\n#.################..##########\n###################.##########\n#.############################\n.#############################\n.##..#########################\n.##.##########################\n.##....#######################\n.....###############.#########\n..##################.#########\n\n#..##############...#######.##\n#####...###########.##########\n######.###########..#########.\n....##############..######..##\n#....##########.###.#####.#.##\n###..##########...#.#.###....#\n..###############..#..########\n.#############################\n#.############################\n..############################\n##############################\n.#####.#######################\n.##..#.#######################\n.....##############..#########\n..#################.##########\n\n##..#######################.##\n###...#####################.##\n#.#########################.#.\n#.#############.##########...#\n###############.#########.####\n###.###############.#..###...#\n###################..#########\n.#############################\n##############################\n#####.########################\n#####..#######################\n.#####.#######################\n##############################\n####.#########################\n###################..#########\n\n#############################.\n###########################...\n#..##############...########..\n###############..###.#####...#\n################.###.##...####\n##..############.#####..######\n.###############.#############\n.###########..################\n#############.################\n#####.########################\n#################...##########\n.###########.####...##########\n############.###...###########\n####.#######.###.###.#########\n####.###############.#########\n\n#############..#####.######...\n##############..####.######..#\n##.############...#..####....#\n####################.#########\n##..##############...#########\n##..##########.#.#############\n..#.########...#.#############\n############..################\n#############.################\n#####.##########..############\n.################..###########\n.##.########.####..###########\n###.##########################\n###..#######.##..###.S########\n####..############....########\n\n#.###########.######.######...\n#..#################...#####.#\n##.###################....####\n##############################\n##########....####.###########\n##.#######.##..#..############\n#...######.######...##########\n######..#..##.###..###########\n#############.################\n####..##########.#############\n.###.######..###..############\n..#.###.####.####.############\n.....##.#########...##########\n...#.##.####.##.##############\n...##.#.#######....###########\n\n#.###########..####...#######.\n#####################..#####.#\n##############################\n##############################\n#..##############..###########\n##.####....######.############\n#.#####.#.#######.#.##########\n######..#.#########.##########\n#######.......####..##########\n..#######..###################\n..##.######..#################\n##........#########.##########\n.......##.#########.##########\n.#.#########..################\n...##...####...#..############\n\n..############..###.#..#..###.\n###############.###.##.#####..\n###################.##########\n#.###############..###########\n#.##.############.############\n####...###.######..###########\n#..####....####..#.###########\n.#####...#######.#############\n.#########...##....###########\n.###########.#..##############\n.###########.#################\n.#.################.##########\n...######.#########...########\n...##########.#######.########\n..##########....#####..#######\n\n.###################.##...####\n.##############..##..#########\n.##.###########..##.##########\n....##########..##....########\n.###.################.########\n..####...########.############\n##..###.##.####.#..###########\n..#.#...........#..###########\n#.......##..##..##.###########\n###..#########.###############\n###..#########################\n###..#########################\n..#####...############..######\n.#####################.#######\n.##############.######.#######\n\n############..####...##...####\n############.#####..####..####\n#...#############.....########\n..############.#...##.########\n.###...#######.#.####.########\n..###..#.####..##.############\n......#######.......##########\n##.....#####..#.....##########\n##..#...######..#..###########\n###.##..##############..######\n###.##################...#####\n#...##################...#####\n#.#####.###############.######\n#######.######################\n###############.##############\n\n#############.##........######\n############.##..#.######.####\n#.##..######...##...#####.####\n#.##..############..#####.####\n####.########..#....##########\n..#.####...##...#.############\n..#.###..######.###.###...####\n#........######.....###.#.####\n##..#.#.######..#..##.#.#.####\n.#..###########..####...#.####\n.##.############..##.##..#####\n.###################....######\n#################..####.######\n#####...#########..###########\n##..#.#########...############\n\n#############...#.#.##########\n###############.#...##########\n##############.###..##########\n#####.######...###.######.####\n#####.######.###....#####..###\n....#.####...####..#######.###\n......###########...######.###\n......#..#####....#...###..###\n##....#.######.#........#.####\n.###..############..##..#.####\n..#.#############.#..##..#####\n....#############..###..######\n..###############..###..######\n#.#...########################\n#...#.########################",
          "testOut": "105",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Multi-path 2",
          "isTest": true,
          "testIn": "12 15 30\n192\n\n##############################\n##############################\n##############################\n##############################\n######################...#####\n#########...#########..#.#####\n#########...#########.####...#\n########...##########.########\n########...##########.########\n########...###################\n##############################\n######A#######################\n####.###.#####################\n###.#####..###################\n##..######..##################\n\n############..################\n##############################\n##############################\n##############################\n##############################\n#########.##############.#####\n######..#...############.....#\n######..######################\n#######.#############.########\n#######.######################\n#######.######################\n###..#..######################\n####.#########################\n#####.#.########.#############\n################...###########\n\n###########...################\n#############..##.############\n#################.#######..###\n################..########.###\n####..#############.######.###\n###################..####..#.#\n###.....############.####.#..#\n..####.#############.######...\n######..############..########\n#######...####################\n######..#############.########\n####.################.########\n####..###############.########\n#########..#####.#####..######\n#########.########..###..#####\n\n########....##################\n##############.##..###########\n##################..#####.####\n################..#.##########\n###.....###########.##########\n###...#.############.####.#..#\n.##.###.############.####.####\n..#########################.#.\n###########################.##\n##########################..##\n####.###############..####.#.#\n####.###..##########...#####..\n####.####.###########.########\n###.####..........###..#######\n########....###.....####...###\n\n#######..#####################\n######..######.###############\n#.###..##################.####\n#....############.#######..###\n##...#####################..##\n##....#####################.##\n....#######################.##\n#.#######################.....\n#######.#################.....\n#####...#################...##\n#####.####################...#\n########.#############.######.\n########..############.######.\n########...#######..##########\n########....######.#######.###\n\n####.#...#####.###########..##\n####.....#####..##############\n#.###.####.####...#######.####\n#########..######.#######.####\n##..#####.#################..#\n.##.########################.#\n.##.#########################.\n#########################..#..\n#############################.\n######.#################....##\n#####..###################.###\n####.##############.######.###\n#########.#########.##.....##.\n#########..########.#########.\n########..#.#########...#..##.\n\n###..#.#####...#########....#S\n##..#...#..###..########....#.\n#..##...##.###.#######...##...\n####...##.###########..#######\n#####..##.##########..########\n.#################...#######.#\n###.###############.#######...\n###################.####.##...\n##################..##........\n######.###########.###.#.#...#\n#####.############.####......#\n####.#############..#####...##\n###################....#..####\n##############################\n###########.#####.....#.#.####\n\n####..#...##.############...#.\n####..#.#.###############..##.\n#####.#######..#######.#..###.\n####..###..##########..#####..\n##########.########....#####.#\n..#################.########.#\n#...########################.#\n#####################..#.###.#\n#####################.#.#....#\n#######....##########........#\n#####...###############.##.###\n####..########################\n######################.#######\n############.#########..######\n###########..####.#####...####\n\n#####..#####..#############.#.\n####...######.########...#..##\n####...######.########.#..####\n#####..#######################\n#####......##########..#######\n..#################.#.######.#\n#####################.######.#\n#####################..#.##..#\n##########################...#\n######...#############...#...#\n#####.################.###.###\n####..################...#####\n###..#########################\n############..##########...###\n#############.###.######.#....\n\n#####..##################...#.\n#######################.....##\n####...##################.####\n#####..#############..###.####\n#####.##..###########.###.####\n..#################.##....##..\n##########...################.\n######################...##.#.\n#######################.#.##.#\n#######################...####\n########################.#####\n####..##################.#####\n##############.###############\n####..########.######.#.######\n#############.###..##...#####.\n\n######.####################...\n#####..#############.##...####\n#####.#..###########.###..####\n#####......#########.###.....#\n#########.###########.######.#\n#########.#########.#..#####..\n##########.#.########..#...###\n######################.#..#...\n##############...########.##..\n####.###########..############\n####.############.######.#####\n####.#########################\n####..########.###############\n#####.######...#####....#####.\n############..####..#....####.\n\n####################....######\n####################.##..#####\n########################.#####\n##########.##########....#####\n#########..#########..######.#\n#########.#########..#######.#\n#########..#..#######....#...#\n#############..###############\n##############.##############.\n#############################.\n#####..##########.#####..####.\n######..########..#####.#####.\n#######..###...#.######.#####.\n########..##.###.##..#...####.\n##########.#.....##.#..#.#####",
          "testOut": "102",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Multi2 Validator",
          "isTest": false,
          "testIn": "12 15 30\n192\n\n.##.......###...##..##########\n..#####...###...###.##########\n#..###....##...####.##########\n########.###...#....##########\n######..#.##.....##.##...#####\n#######.#....##.###.#..#.#####\n#######..#..##......#.####...#\n########...###...####.########\n########...##########.########\n########...###################\n#########..###################\n#########..###################\n#############......###########\n#############.#..#.###########\n###########.##################\n\n.##.##..####.......###########\n.##.##..######################\n##..##..#...#.################\n####.....##...####.###########\n####...##........#.###########\n##########.#.###########.#####\n######...#.#.....#######.....#\n######..###.#.#..#############\n#######.##..#.#######.########\n########..######.#############\n########...#####.#############\n#########..#####...###########\n###############.....##########\n##########..#.##.#.###########\n##########..#.##...###########\n\n...########....###############\n.############..##.############\n#############..##.#######..###\n########.#.#.###..########.###\n####..###..#..###...######.###\n#########....####.#..####..#.#\n###..........###..##.####.#..#\n..####.#..#..#....##.######...\n######.....#..#..###..########\n#########...###..#############\n##########..##..#####.########\n##############.#.####.########\n###########..##..##.#.########\n#########....###.#..##..######\n#########.##..####..###..#####\n\n##..####....##...#############\n..##########...##..###########\n#############..###..#####.####\n########.#.#..##..#.##########\n###.....##....#####.##########\n###...#.##...#.#####.####.#..#\n.##.###.#..#.#.#####.####.####\n..#######....#.############.#.\n########..#.###..##########.##\n###########.###..#########..##\n###########......###..####.#.#\n########..####..####...#####..\n#########.#########...########\n########................######\n########....###............###\n\n..#.###..###.....#############\n....##..####.#.###############\n#.###..##################.####\n#....###.####.###.#######..###\n##...#####################..##\n##....####..#..############.##\n....#####...#.#############.##\n#.#######.###...#########.....\n#########.#####.#########.....\n###############..########...##\n###############..#########...#\n########.#####..#..###.######.\n########..####......##.######.\n########...#####....###.######\n########....####...#....##.###\n\n.###.#...#####.###########..##\n.#.#.....#####..##############\n#...#.####.#..#...#######.####\n########......###.#######.####\n##..#####..#.##############..#\n.##.######.#.###############.#\n.##.#####..##################.\n#########################..#..\n#############################.\n################..######....##\n#################.########.###\n#################...######.###\n####..###.#########.##.....##.\n#########..#####..#.#########.\n########..#.####..###...#..##.\n\n.##..#.#####...#########....#.\n.#..#...#..###..########....#.\n#...#....#.#.#.#######...##...\n###....#..#..########..#######\n#####..##....#################\n.###########.###############.#\n###.#####.#################...\n#########...############.##...\n######################........\n#################..###.#.#...#\n####.###########....###......#\n####.#############..#####...##\n####..#############....#..####\n#####.########################\n###########.#####.....#.#.####\n\n####..#...##.############...#S\n...#..#.#.###############..###\n....#.#..##....#######.#..####\n..#.....#..#.########..#######\n######.###.#.######....#######\n..###..####..######.##########\n#...#######.##################\n###########.#########..#.###.#\n#####################.#.#....#\n#####################........#\n####.###########.#..###.##.###\n##...#############.###########\n###...################.#######\n####..######.#########..######\n###########..####.#####...####\n\n#####..#####..#############.#.\n##.#...######.########...#..##\n#......####.#.########.#..####\n..#....###..##################\n.##........##########..#######\n......#############.#.######.#\n##.#..###############.######.#\nA#.##################..#.##..#\n.#..######################...#\n###.##################...#...#\n################.#####.###.###\n##...###########.#####...#####\n###...########################\n####.#######..##########...###\n#############.###.######.#....\n\n#####..##################...#.\n##.####################.....##\n...#...##################.####\n..#....###.#########..###.####\n..#.#.##....##...####.###.####\n..##############.##.##....##..\n##########...###.############.\n..##############.#####...##.#.\n.###############.######.#.##.#\n.##.###########..######...####\n.#..###########.########.#####\n.#...##########..#######.#####\n.#...#########.###############\n...#.#########.######.#.######\n#############.###..##...#####.\n\n######.####################...\n#####..#############.##...####\n...##.#..###########.###..####\n#..##......#########.###.....#\n#...#####.#....######.######.#\n##.######.#########.#..#####..\n##########.#.########..#...###\n#.####################.#..#...\n..############...########.##..\n.###############..############\n...#.############.######.#####\n#....#########################\n#.....########.###############\n....########...#####....#####.\n#...########..####..#....####.\n\n####################....######\n####################.##..#####\n..######################.#####\n..########.##########....#####\n....#####..#########..######.#\n##.######.#########..#######.#\n#########..#..#######....#...#\n#############..###############\n##############.##############.\n#############################.\n##.#.############.#####..####.\n##...###########..#####.#####.\n#.....######...#.######.#####.\n....#.######.###.##..#...####.\n..#...######.....##.#..#.#####",
          "testOut": "87",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Space",
          "isTest": true,
          "testIn": "6 9 18\n60\n\n.................A\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n\n..................\n..................\n..................\n..................\n..................\n..................\n..................\n..................\nS.................",
          "testOut": "30",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Space Validator",
          "isTest": false,
          "testIn": "5 5 10\n30\n\n..........\n..........\n..........\n..........\nA.........\n\n..........\n..........\n..........\n..........\n..........\n\n..........\n..........\n..........\n..........\n..........\n\n..........\n..........\n..........\n..........\n..........\n\n.........S\n..........\n..........\n..........\n..........",
          "testOut": "17",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Codingame",
          "isTest": true,
          "testIn": "9 7 10\n72\n\n##########\n##A...####\n#..##..###\n#..#######\n#..##..###\n##....####\n##########\n\n##########\n###....###\n##..##..##\n##..##..##\n##..##..##\n###....###\n##########\n\n##########\n##.....###\n##..##..##\n##..##..##\n##..##..##\n##.....###\n##########\n\n##########\n##......##\n####..####\n####..####\n####..####\n##......##\n##########\n\n##########\n##..##..##\n##...#..##\n##..#...##\n##..##..##\n##..##..##\n##########\n\n##########\n###....###\n##..######\n##..#...##\n##..##..##\n###....###\n##########\n\n##########\n###....###\n##..##..##\n##......##\n##..##..##\n##..##..##\n##########\n\n##########\n#..###..##\n#...#...##\n#..#.#..##\n#..###..##\n#..###..##\n##########\n\n##########\n##......##\n##..######\n##....####\n##..######\n##.....S##\n##########",
          "testOut": "17",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Codingame Validator",
          "isTest": false,
          "testIn": "9 6 12\n63\n\n#####...####\n###S.###.###\n##..########\n##..########\n###..###.###\n####....####\n\n#####..#####\n###..###.###\n##.######.##\n##.######.##\n###.####.###\n####...#####\n\n##...#######\n##.##..#####\n##.####.####\n##.#####.###\n##.####.####\n##....######\n\n####....####\n######.#####\n######.#####\n######.#####\n######.#####\n#####....###\n\n###.######.#\n###..####.##\n###.#.###.##\n###.##.##.##\n##.####.#.##\n#.######.###\n\n####.....###\n##.#######.#\n#.##########\n#.####.....#\n#.#######.##\n###.....####\n\n#####.######\n####.##.####\n###.####.###\n##.#....#.##\n#.########.#\n.##########.\n\n###.#####.##\n###.####.#.#\n##.#.###.#.#\n#.###.#.##.#\n.#####.###.#\n.##########.\n\n############\n##........##\n##..########\n##.......###\n##.#########\n##.......A##",
          "testOut": "30",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "1 ≤ [[L]], [[R]], [[C]] ≤ 30\n2 ≤ [[L]] * [[R]] * [[C]]",
      "coverBinaryId": 71561664874378,
      "stubGenerator": "read L:int R:int C:int\nread ln:int\nloop ln read line:string(C)\nwrite answer",
      "inputDescription": "<<Line 1:>> Three integers [[L]] [[R]] [[C]]\n[[L]] is the number of levels making up the dungeon.\n[[R]] and [[C]] are the number of rows and columns making up the plan of each level.\n\n<<Line 2:>> [[ln]] calculated from [[L]] * ([[R]]+1), which is the total number of lines below it.\n\n<<The following [[ln]] lines:>> These are the floor plans of all levels, arranged in order from the surface layer to the deepest underground layer.\nEach level floor plan starts with a blank line and then [[R]] lines of characters.\n\nEach character describes one cell of the dungeon. An accessible cell, a passage, is represented by a dot. An inaccessible cell, a wall, is represented by '{{#}}'.\n\nThe current location of Anya's team is indicated by '{{A}}' and the Hot Spring by the letter '{{S}}'.\nThe boundary of the dungeon is hard rock, not drawn on the map.",
      "solutionLanguage": "Java",
      "outputDescription": "<<Line 1:>> Write an integer, the shortest time in minutes for the team to arrive at the Spring.\nIn case it is impossible, write a line:\n`{{NO PATH}}`"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Anya and her team of adventurers are battling in a multi-layered labyrinth beneath Waterdeep. Skeletons and Kobolds are lurking around every corner. Luckily Anya found the dungeon map which shows the structure of all layers of the dungeon including the location of a health-restoring Hot Spring.<br><br>Anya identified the team's current location on the map. She has to find the path to the Hot Spring to rebuild the team's health for prolonged battles.<br><br>All layers of the dungeon have the same rectangular dimension composed of cubic cells. The layers are connected by vertical ladders for climbing up or down.<br><br>The team takes 1 minute to fight their way to move from one cell to the adjacent cell, which is the cell at any of the four directions of their current cell as well as the cells at the vertically upper and lower layers, if there is a path to. They cannot move to diagonal cells directly.<br><br>What is the minimum time needed for the team to reach the Hot Spring?</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> Three integers <var>L</var> <var>R</var> <var>C</var><br><var>L</var> is the number of levels making up the dungeon.<br><var>R</var> and <var>C</var> are the number of rows and columns making up the plan of each level.<br><br><strong>Line 2:</strong> <var>ln</var> calculated from <var>L</var> * (<var>R</var>+1), which is the total number of lines below it.<br><br><strong>The following <var>ln</var> lines:</strong> These are the floor plans of all levels, arranged in order from the surface layer to the deepest underground layer.<br>Each level floor plan starts with a blank line and then <var>R</var> lines of characters.<br><br>Each character describes one cell of the dungeon. An accessible cell, a passage, is represented by a dot. An inaccessible cell, a wall, is represented by '<const>#</const>'.<br><br>The current location of Anya's team is indicated by '<const>A</const>' and the Hot Spring by the letter '<const>S</const>'.<br>The boundary of the dungeon is hard rock, not drawn on the map.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>Line 1:</strong> Write an integer, the shortest time in minutes for the team to arrive at the Spring.<br>In case it is impossible, write a line:<br><pre style=\"font-family: monospace\"><const>NO PATH</const></pre></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">1 &le; <var>L</var>, <var>R</var>, <var>C</var> &le; 30<br>2 &le; <var>L</var> * <var>R</var> * <var>C</var></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">2 3 3\n8\n\n..#\n.##\nA##\n\n#.#\n#.S\n#..</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">6</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 136005445540,
  "avatar": 13281799951852,
  "commentCount": 15,
  "upVotes": 5,
  "downVotes": 1,
  "validateAction": {
    "actionId": 598710,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1634724828537,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}