{
  "id": 944,
  "activeVersion": 18,
  "score": 1,
  "votableId": 6438814,
  "codingamerId": 664646,
  "views": 265,
  "commentableId": 6378859,
  "title": "What's so complex about Mandelbrot?",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "asteriskman",
  "publicHandle": "944571e30add86073455cee3ad892a1bc01",
  "codingamerHandle": "82523c2eb38458994235b028b0fae900646466",
  "lastVersion": {
    "version": 18,
    "data": {
      "title": "What's so complex about Mandelbrot?",
      "topics": [
        {
          "labelMap": {
            "2": "Fractal"
          }
        },
        {
          "id": 94,
          "handle": "mathematics",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Mathematics",
            "2": "Mathematics"
          },
          "puzzleCount": 23,
          "parentTopicId": 93
        }
      ],
      "solution": "var c = readline();\n// var center = c.substr(1, c.length-3);\nvar ind = c.indexOf(\"+\",1);\nif (ind == -1) ind = c.indexOf(\"-\",1);\n\nvar x = parseFloat(c.substr(0,ind));\nvar y = parseFloat(c.substr(ind));\nvar m = parseInt(readline());\n\n\nfunction cadd(a, b) {\n  return {r: a.r + b.r, i: a.i + b.i};\n}\n\nfunction cabs(a) {\n  return Math.sqrt(a.r*a.r + a.i*a.i);\n}\n\nfunction csquare(a) {\n  //(a+bi)^2 = (a*a-b*b)+2*a*b*i\n  let r = a.r*a.r - a.i*a.i;\n  let i = 2 * a.r*a.i;\n  return {r: r, i: i};\n}\n\nfunction getMandelbrotIterations(x, y, m) {\n  let z = {r: 0, i: 0};\n  let c = {r: x, i: y};\n\n  let iterations = 0;\n\n  while (true) {\n    z = cadd(csquare(z), c);\n    iterations++;\n    let mag = cabs(z);\n    if (mag > 2) {\n      //we know it will diverge\n      return iterations;\n    } else {\n      if (iterations === m) {\n        //not sure if it will diverge but reached maxiter\n        return iterations;\n      }\n    }\n  }\n}\n\nprint(getMandelbrotIterations(x, y, m));\n",
      "statement": "The Mandelbrot Set is the most well known set of complex numbers with fractal properties.\n\nMembers of the set are the complex numbers [[c]] such that the absolute value of the equation f(n) = f(n-1)^2 + c does not diverge as n approaches infinity, with f(0) = 0.\n\nOne property of this equation is that if its absolute value ever becomes larger than 2, we can be confident that it will diverge and therefore conclude that c is not in the set. However, an absolute value less than 2 does not guarantee that it will not diverge. Only additional iterations of the equation can help determine that.\n\nSince the equation will never diverge for numbers in the set, we would run an infinite number of iterations if we only stopped based on the absolute value. Therefore, we select another number, [[m]], and give up after running [[m]] iterations of the equation. Higher values of [[m]] could have given us greater confidence that our number is in the set, but we don't have infinite time so we have to draw a line somewhere.\n\nFor this puzzle, you will need to determine how many iterations are necessary to decide if a given complex number [[c]] is in the Mandelbrot set, using the absolute value heuristic described above, and given a maximum number of iterations [[m]].",
      "testCases": [
        {
          "title": "Real out",
          "isTest": true,
          "testIn": "4.5+0i\n10",
          "testOut": "1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Real out",
          "isTest": false,
          "testIn": "3.5+0i\n10",
          "testOut": "1",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Imaginary out",
          "isTest": true,
          "testIn": "0+4.2i\n100",
          "testOut": "1",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Imaginary out",
          "isTest": false,
          "testIn": "0+3.4i\n100",
          "testOut": "1",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Real in",
          "isTest": true,
          "testIn": "-1.1+0i\n45",
          "testOut": "45",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Real in",
          "isTest": false,
          "testIn": "0.1+0i\n23",
          "testOut": "23",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Imaginary in",
          "isTest": true,
          "testIn": "0+0.2i\n11",
          "testOut": "11",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Imaginary in",
          "isTest": false,
          "testIn": "0-0.5i\n876",
          "testOut": "876",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Complex out",
          "isTest": true,
          "testIn": "-0.65812-0.452i\n275",
          "testOut": "124",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Complex out",
          "isTest": false,
          "testIn": "0.36591+0.10241i\n456",
          "testOut": "92",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Complex in",
          "isTest": true,
          "testIn": "0.15658-0.5745i\n822",
          "testOut": "822",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Complex in",
          "isTest": false,
          "testIn": "-0.69857+0.29021i\n620",
          "testOut": "620",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Check your absolute value",
          "isTest": true,
          "testIn": "0.465+0.354i\n50",
          "testOut": "12",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Check your absolute value",
          "isTest": false,
          "testIn": "0.391+0.363i\n150",
          "testOut": "147",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "easy",
      "constraints": "length([[c]]) < 30\n-5 < [[x]], [[y]] < 5\n0 < [[m]] < 1000\n0 < [[i]] <= [[m]]",
      "stubGenerator": "read c:string(30)\nread m:int\nwrite answer",
      "inputDescription": "<<Line 1:>> The complex number to evaluate [[c]] represented as ([[x]]+[[y]]i) where [[x]] and [[y]] are floating point values. If y is negative, the + will become a -.\n<<Line 2:>> An integer [[m]] indicating the maximum number of iterations to evaluate.",
      "solutionLanguage": "Javascript",
      "outputDescription": "<<Line 1 :>> An integer [[i]] indicating how many times you need to iterate to determine if the complex number [[c]] is in the Mandelbrot set or not."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">The Mandelbrot Set is the most well known set of complex numbers with fractal properties.<br><br>Members of the set are the complex numbers <var>c</var> such that the absolute value of the equation f(n) = f(n-1)^2 + c does not diverge as n approaches infinity, with f(0) = 0.<br><br>One property of this equation is that if its absolute value ever becomes larger than 2, we can be confident that it will diverge and therefore conclude that c is not in the set. However, an absolute value less than 2 does not guarantee that it will not diverge. Only additional iterations of the equation can help determine that.<br><br>Since the equation will never diverge for numbers in the set, we would run an infinite number of iterations if we only stopped based on the absolute value. Therefore, we select another number, <var>m</var>, and give up after running <var>m</var> iterations of the equation. Higher values of <var>m</var> could have given us greater confidence that our number is in the set, but we don't have infinite time so we have to draw a line somewhere.<br><br>For this puzzle, you will need to determine how many iterations are necessary to decide if a given complex number <var>c</var> is in the Mandelbrot set, using the absolute value heuristic described above, and given a maximum number of iterations <var>m</var>.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> The complex number to evaluate <var>c</var> represented as (<var>x</var>+<var>y</var>i) where <var>x</var> and <var>y</var> are floating point values. If y is negative, the + will become a -.<br><strong>Line 2:</strong> An integer <var>m</var> indicating the maximum number of iterations to evaluate.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>Line 1 :</strong> An integer <var>i</var> indicating how many times you need to iterate to determine if the complex number <var>c</var> is in the Mandelbrot set or not.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">length(<var>c</var>) &lt; 30<br>-5 &lt; <var>x</var>, <var>y</var> &lt; 5<br>0 &lt; <var>m</var> &lt; 1000<br>0 &lt; <var>i</var> &lt;= <var>m</var></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">4.5+0i\n10</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">1</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 262110837975,
  "avatar": 7574747425019,
  "commentCount": 19,
  "upVotes": 1,
  "downVotes": 0,
  "validateAction": {
    "actionId": 159378,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}