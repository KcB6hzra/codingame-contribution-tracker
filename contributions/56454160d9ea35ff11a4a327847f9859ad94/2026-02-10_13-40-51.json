{
  "id": 5645,
  "activeVersion": 9,
  "score": 4,
  "votableId": 15559151,
  "codingamerId": 3399400,
  "views": 179,
  "commentableId": 15474238,
  "title": "Rod cutting problem",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "MisterFlos",
  "publicHandle": "56454160d9ea35ff11a4a327847f9859ad94",
  "codingamerHandle": "f9b654b7908837e9096e8438ac55c0b40049933",
  "lastVersion": {
    "version": 9,
    "autocloseTime": 1606779208827,
    "data": {
      "title": "Rod cutting problem",
      "topics": [
        {
          "id": 60,
          "handle": "dynamic-programming",
          "labelMap": {
            "1": "Programmation dynamique",
            "2": "Dynamic programming"
          },
          "pageTitle": "Dynamic programming: exercises and theory",
          "puzzleCount": 17,
          "parentTopicId": 41,
          "contentDetailsId": 85
        },
        {
          "id": 65,
          "handle": "memoization",
          "labelMap": {
            "1": "Mémoïsation",
            "2": "Memoization"
          },
          "pageTitle": "Memoization: exercises and theory",
          "puzzleCount": 8,
          "parentTopicId": 41,
          "contentDetailsId": 76
        }
      ],
      "solution": "import sys\nsys.setrecursionlimit(10**6)\n\nL = int(input())\nN = int(input())\npieces = [list(map(int, input().split())) for _ in range(N)]\n\ndef solve(l, cache={}):\n    if l in cache:\n        return cache[l]\n\n    if l < pieces[0][0]:\n        return 0 \n    \n    profits = []\n    for length, value in pieces:\n        if length <= l:\n            profits.append(value + solve(l - length))\n    \n    cache[l] = max(profits)\n    return cache[l]\n\nprint(solve(L))",
      "statement": "The rod cutting problem consists of cutting a rod in some pieces of different <<length>>, each having a specific <<value>>, such that the total value is maximized.\n\nFor example, consider that the rods of <<length>> 1, 2, 3 and 4 are marketable with respective <<values>> 1, 5, 8 and 9.\nA rod of <<length>> 4 can then be cut in pieces in five different ways:\n• 0×1 + 0×2 + 0×3 + 1×4 → total value: 0×1 + 0×5 + 0×8 + 1×9 =  9\n• 1×1 + 0×2 + 1×3 + 0×4 → total value: 1×1 + 0×5 + 1×8 + 0×9 =  9\n• 0×1 + 2×2 + 0×3 + 0×4 → total value: 0×1 + 2×5 + 0×8 + 0×9 = 10\n• 2×1 + 1×2 + 0×3 + 0×4 → total value: 2×1 + 1×5 + 0×8 + 0×9 =  7\n• 4×1 + 0×2 + 0×3 + 0×4 → total value: 4×1 + 0×5 + 0×8 + 0×9 =  4\n\nThe optimal cut is thus two pieces of length {{2}} which gives a total value of {{10}}.\n\nYou can make pieces that are not marketable, but theses pieces will have a value of 0.\n\n\nThe rod cutting problem is the one-dimensional variant of the cutting stock problem. https://en.wikipedia.org/wiki/Cutting_stock_problem",
      "testCases": [
        {
          "title": "Example test",
          "isTest": true,
          "testIn": "4\n4\n1 1\n2 5\n3 8\n4 9",
          "testOut": "10",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "4\n4\n1 1\n2 5\n3 8\n4 9",
          "testOut": "10",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Same pieces but longer rod",
          "isTest": true,
          "testIn": "12\n4\n1 1\n2 5\n3 8\n4 9",
          "testOut": "32",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "12\n4\n1 1\n2 5\n3 8\n4 9",
          "testOut": "32",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "More pieces",
          "isTest": true,
          "testIn": "15\n8\n1 1\n2 5\n3 8\n4 9\n5 10\n6 17\n7 17\n8 20",
          "testOut": "42",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "15\n8\n1 1\n2 5\n3 8\n4 9\n5 10\n6 17\n7 17\n8 20",
          "testOut": "42",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Big pieces",
          "isTest": true,
          "testIn": "19\n4\n7 7\n11 13\n13 14\n23 15",
          "testOut": "20",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "19\n4\n7 8\n11 14\n13 15\n17 16",
          "testOut": "22",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Many pieces",
          "isTest": true,
          "testIn": "1000\n45\n1 0\n2 1\n3 1\n5 4\n8 7\n13 15\n21 24\n34 36\n55 59\n89 97\n144 152\n233 240\n377 379\n610 611\n987 997\n1597 1607\n2584 2586\n4181 4188\n6765 6774\n10946 10946\n17711 17714\n28657 28662\n46368 46376\n75025 75032\n121393 121402\n196418 196419\n317811 317818\n514229 514230\n832040 832040\n1346269 1346279\n2178309 2178317\n3524578 3524584\n5702887 5702895\n9227465 9227475\n14930352 14930355\n24157817 24157819\n39088169 39088177\n63245986 63245992\n102334155 102334163\n165580141 165580144\n267914296 267914300\n433494437 433494438\n701408733 701408740\n1134903170 1134903179\n1836311903 1836311913",
          "testOut": "1152",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "1000\n45\n1 0\n2 1\n3 1\n5 3\n8 6\n13 13\n21 24\n34 34\n55 55\n89 97\n144 151\n233 239\n377 378\n610 610\n987 996\n1597 1606\n2584 2585\n4181 4187\n6765 6773\n10946 10945\n17711 17713\n28657 28661\n46368 46375\n75025 75031\n121393 121401\n196418 196418\n317811 317819\n514229 514231\n832040 832041\n1346269 1346278\n2178309 2178318\n3524578 3524583\n5702887 5702894\n9227465 9227474\n14930352 14930354\n24157817 24157818\n39088169 39088176\n63245986 63245991\n102334155 102334162\n165580141 165580145\n267914296 267914301\n433494437 433494437\n701408733 701408741\n1134903170 1134903178\n1836311903 1836311914",
          "testOut": "1141",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Huge rod",
          "isTest": true,
          "testIn": "10000\n45\n1 0\n2 1\n3 1\n5 4\n8 7\n13 15\n21 24\n34 36\n55 59\n89 97\n144 152\n233 240\n377 379\n610 611\n987 997\n1597 1607\n2584 2586\n4181 4188\n6765 6774\n10946 10946\n17711 17714\n28657 28662\n46368 46376\n75025 75032\n121393 121402\n196418 196419\n317811 317818\n514229 514230\n832040 832040\n1346269 1346279\n2178309 2178317\n3524578 3524584\n5702887 5702895\n9227465 9227475\n14930352 14930355\n24157817 24157819\n39088169 39088177\n63245986 63245992\n102334155 102334163\n165580141 165580144\n267914296 267914300\n433494437 433494438\n701408733 701408740\n1134903170 1134903179\n1836311903 1836311913",
          "testOut": "11538",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Validator 6",
          "isTest": false,
          "testIn": "10000\n45\n1 0\n2 1\n3 1\n5 3\n8 6\n13 13\n21 24\n34 34\n55 55\n89 97\n144 151\n233 239\n377 378\n610 610\n987 996\n1597 1606\n2584 2585\n4181 4187\n6765 6773\n10946 10945\n17711 17713\n28657 28661\n46368 46375\n75025 75031\n121393 121401\n196418 196418\n317811 317819\n514229 514231\n832040 832041\n1346269 1346278\n2178309 2178318\n3524578 3524583\n5702887 5702894\n9227465 9227474\n14930352 14930354\n24157817 24157818\n39088169 39088176\n63245986 63245991\n102334155 102334162\n165580141 165580145\n267914296 267914301\n433494437 433494437\n701408733 701408741\n1134903170 1134903178\n1836311903 1836311914",
          "testOut": "11426",
          "isValidator": true,
          "needValidation": false
        }
      ],
      "difficulty": "medium",
      "constraints": "0 < [[L]] ≤ 100 000\n0 < [[N]] < 50\n0 < [[length]] ≤ 10 000 000 000\n0 ≤ [[value]]",
      "coverBinaryId": 52624063892825,
      "stubGenerator": "read L:int\nread N:int\nloop N read length:int value:int\nwrite 0",
      "inputDescription": "<<First line:>> [[L]] the length of the rod\n<<Second line:>> [[N]] the number of different pieces that are marketable.\n<<Next [[N]] lines:>> [[length]] [[value]] of each marketable piece, separated by a space.",
      "solutionLanguage": "Python3",
      "outputDescription": "The maximum total value that can be obtained from the cut of the rod in different pieces."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">The rod cutting problem consists of cutting a rod in some pieces of different <strong>length</strong>, each having a specific <strong>value</strong>, such that the total value is maximized.<br><br>For example, consider that the rods of <strong>length</strong> 1, 2, 3 and 4 are marketable with respective <strong>values</strong> 1, 5, 8 and 9.<br>A rod of <strong>length</strong> 4 can then be cut in pieces in five different ways:<br>&bull; 0&times;1 + 0&times;2 + 0&times;3 + 1&times;4 &rarr; total value: 0&times;1 + 0&times;5 + 0&times;8 + 1&times;9 =  9<br>&bull; 1&times;1 + 0&times;2 + 1&times;3 + 0&times;4 &rarr; total value: 1&times;1 + 0&times;5 + 1&times;8 + 0&times;9 =  9<br>&bull; 0&times;1 + 2&times;2 + 0&times;3 + 0&times;4 &rarr; total value: 0&times;1 + 2&times;5 + 0&times;8 + 0&times;9 = 10<br>&bull; 2&times;1 + 1&times;2 + 0&times;3 + 0&times;4 &rarr; total value: 2&times;1 + 1&times;5 + 0&times;8 + 0&times;9 =  7<br>&bull; 4&times;1 + 0&times;2 + 0&times;3 + 0&times;4 &rarr; total value: 4&times;1 + 0&times;5 + 0&times;8 + 0&times;9 =  4<br><br>The optimal cut is thus two pieces of length <const>2</const> which gives a total value of <const>10</const>.<br><br>You can make pieces that are not marketable, but theses pieces will have a value of 0.<br><br><br>The rod cutting problem is the one-dimensional variant of the cutting stock problem. https://en.wikipedia.org/wiki/Cutting_stock_problem</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>First line:</strong> <var>L</var> the length of the rod<br><strong>Second line:</strong> <var>N</var> the number of different pieces that are marketable.<br><strong>Next <var>N</var> lines:</strong> <var>length</var> <var>value</var> of each marketable piece, separated by a space.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">The maximum total value that can be obtained from the cut of the rod in different pieces.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">0 &lt; <var>L</var> &le; 100 000<br>0 &lt; <var>N</var> &lt; 50<br>0 &lt; <var>length</var> &le; 10 000 000 000<br>0 &le; <var>value</var></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">4\n4\n1 1\n2 5\n3 8\n4 9</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">10</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 164843613890,
  "avatar": 50053224704946,
  "commentCount": 18,
  "upVotes": 4,
  "downVotes": 0,
  "validateAction": {
    "actionId": 505524,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1605887236559,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}