{
  "id": 1483,
  "activeVersion": 19,
  "score": 2,
  "votableId": 8383498,
  "codingamerId": 792813,
  "views": 688,
  "commentableId": 8319488,
  "title": "Dumbbells solver",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "VilBoub",
  "publicHandle": "1483492675bcd5005d61b4b6cdf59e20242d",
  "codingamerHandle": "bd6706892e49290fb119aa5ddae4238a318297",
  "lastVersion": {
    "version": 19,
    "autocloseTime": 1535211936225,
    "data": {
      "title": "Dumbbells solver",
      "topics": [
        {
          "id": 45,
          "handle": "conditions",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Conditions",
            "2": "Conditions"
          },
          "pageTitle": "Conditions: exercises and theory",
          "puzzleCount": 54,
          "parentTopicId": 39,
          "contentDetailsId": 68
        },
        {
          "id": 46,
          "handle": "loops",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Boucles",
            "2": "Loops"
          },
          "pageTitle": "Loops: exercises and theory",
          "puzzleCount": 74,
          "parentTopicId": 39,
          "contentDetailsId": 71
        },
        {
          "id": 153,
          "handle": "2d-array",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "2D array",
            "2": "2D array"
          },
          "puzzleCount": 32,
          "parentTopicId": 93
        }
      ],
      "solution": "n = int(input())\nh, w = [int(i) for i in input().split()]\ngrille = [[c for c in input()] for _ in range(h)]\nnb_o = 0\nfor ligne in grille :\n    for c in ligne :\n        if c == \"o\" :\n            nb_o += 1\n\ndi = [0, 1, 0, -1]\ndj = [1, 0, -1, 0]\nbarre = [\"-\", \"|\"]\ntrouve = True\nnb = 0\nwhile trouve :\n    trouve = False\n    for i in range(h) :\n        for j in range(w) :\n            if grille[i][j] == \"o\" :\n                ok = 0\n                for d in range(4) :\n                    i_1 = i + di[d]\n                    j_1 = j + dj[d]\n                    i_2 = i + 2*di[d]\n                    j_2 = j + 2*dj[d]\n                    o2 = \"o\"\n                    if nb_o != 2*n :\n                        o2 += \".\"\n                    if (0 <= i_1 < h) and (0 <= i_2 < h) and (0 <= j_1 < w) and (0 <= j_2 < w) and grille[i_1][j_1] == \".\" and grille[i_2][j_2] in o2 :\n                        ok += 1\n                        d_ok = d\n                if ok == 1 :\n                    nb += 1\n                    trouve = True\n                    i_1 = i + di[d_ok]\n                    j_1 = j + dj[d_ok]\n                    i_2 = i + 2*di[d_ok]\n                    j_2 = j + 2*dj[d_ok]\n                    if grille[i_2][j_2] == \".\" :\n                        nb_o += 1\n                    grille[i][j] = \"O\"\n                    grille[i_1][j_1] = barre[d_ok%2]\n                    grille[i_2][j_2] = \"O\"\n\nif nb != n :\n    for i in range(h) :\n        for j in range(w-2) :\n            if grille[i][j:j+3] == [\".\", \".\", \".\"] :\n                nb += 1\n                grille[i][j:j+3] = [\"O\", \"-\", \"O\"]\nif nb != n :\n    for i in range(h-2) :\n        for j in range(w) :\n            if grille[i][j] == grille[i+1][j] == grille[i+2][j] == \".\" :\n                nb += 1\n                grille[i][j] = \"O\"\n                grille[i+1][j] = \"|\"\n                grille[i+2][j] = \"O\"\n\nfor i in range(h) :\n    print((\"\".join(grille[i])).replace(\"O\", \"o\"))",
      "statement": "Dumbbells {{o-o}} should be stored in a big box.\n\nEach dumbbell occupies three squares aligned horizontally or vertically: the boxes on both ends contain the weights, the bar is placed in the central square.\nThe dumbbells can touch but not cross each other.\nEach box contains at most one weight, each weight being the end of a single dumbbell.\nThe weight locations are marked at the bottom of the box. Unfortunately, some of them have been erased.\n\nFind the dumbbells in the grid (the number of dumbbells to put in the box is indicated above).\nAll problems have a unique solution.\n\n<<Example>>\n\nWith this grid :\n\n`....\no...\n..oo`\n\nthere are two dumbbells easy to find (1 horizontal and 1 vertical) :\n\n`...o\no-o|\n..oo`\n\nNow, we can find a new horizontal dumbbell :\n\n`...o\no-o|\no-oo`\n\nIf there were 3 dumbbells to find, that would be the final solution...\n\nBut, if there were 4 dumbbells to find, the final solution would be :\n\n`o-oo\no-o|\no-oo`",
      "testCases": [
        {
          "title": "Test 1 (empty not to fill)",
          "isTest": true,
          "testIn": "3\n3 4\n....\no...\n..oo",
          "testOut": "...o\no-o|\no-oo",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1 (empty not to fill)",
          "isTest": false,
          "testIn": "3\n4 3\n.o.\n...\no..\no..",
          "testOut": "oo.\n||.\noo.\no-o",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 2 (empty to fill)",
          "isTest": true,
          "testIn": "4\n3 4\n....\no...\n..oo",
          "testOut": "o-oo\no-o|\no-oo",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2 (empty to fill)",
          "isTest": false,
          "testIn": "4\n4 3\n.o.\n...\no..\no..",
          "testOut": "ooo\n|||\nooo\no-o",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 3",
          "isTest": true,
          "testIn": "14\n7 7\n.....o.\n..o..o.\n.o..o..\n.o....o\n......o\n....oo.\nooo....",
          "testOut": "o-oo-o.\no-oo-oo\n.o-oo.|\n.o-o|oo\noo..o|o\n||o-oo|\nooo-o.o",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "14\n7 7\n..o..oo\n..oo.o.\n.o.....\n....oo.\n..oo..o\noo.....\n..ooo..",
          "testOut": "o-oo-oo\no-oo-o|\n.o-o..o\nooo-oo.\n||ooo|o\noo|||o|\n..ooo.o",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 4",
          "isTest": true,
          "testIn": "9\n5 7\n..o.o..\nooo.o.o\n..oo.o.\noo.o.oo\n..oo.o.",
          "testOut": "..o-o..\nooo-o.o\n||oo-o|\noo|o-oo\n..oo-o.",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "9\n7 5\n.o.o.\n.o.o.\no.ooo\nooo..\n...oo\nooo..\n.o.o.",
          "testOut": ".o-o.\n.o-o.\no-ooo\nooo||\n|||oo\nooo..\n.o-o.",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 5",
          "isTest": true,
          "testIn": "15\n8 8\n..oo.o..\n.oo....o\no..o..oo\n..o.....\n...o.o..\n..o.o...\n.o.o.oo.\no.oo....",
          "testOut": "o-oo-o..\n.oo..o-o\no||oo-oo\n|oo|...|\no..o.ooo\n..o-o||.\n.o-o.oo.\no-oo-o..",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "15\n8 8\n.o..o..o\no.......\noo.oo..o\n..o....o\n.......o\n..o...oo\no..o..o.\n.....o..",
          "testOut": ".o-oo..o\no-o.|..|\noo-oo..o\n|.o..o-o\no.|o.o-o\n..o|o-oo\no-ooo-o|\n...o-o.o",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "hard",
      "constraints": "3 <= [[n]] <= 15\n3 <= [[h]], [[w]] <= 8",
      "coverBinaryId": 86350104415041,
      "stubGenerator": "read n:int\nread h:int w:int\nloop h read line:string(w)\nloop h write o=o",
      "inputDescription": "<<Line 1>> :  Number  [[n]] of dumbbells.\n<<Line 2>> : height [[h]] and width [[w]] of the grid.\n[[h]] following lines: the content of the grid of dumbbells. ({{.}} or {{o}})",
      "solutionLanguage": "Python3",
      "outputDescription": "<<[[h]] lines>> : with only  {{.}}, {{o}}, {{|}} or {{-}}\n{{o}}\n{{|}} for a vertical dumbbell, {{o-o}} for a horizontal dumbbell, {{.}} for a empty square\n{{o}}"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Dumbbells <const>o-o</const> should be stored in a big box.<br><br>Each dumbbell occupies three squares aligned horizontally or vertically: the boxes on both ends contain the weights, the bar is placed in the central square.<br>The dumbbells can touch but not cross each other.<br>Each box contains at most one weight, each weight being the end of a single dumbbell.<br>The weight locations are marked at the bottom of the box. Unfortunately, some of them have been erased.<br><br>Find the dumbbells in the grid (the number of dumbbells to put in the box is indicated above).<br>All problems have a unique solution.<br><br><strong>Example</strong><br><br>With this grid :<br><br><pre style=\"font-family: monospace\">....<br>o...<br>..oo</pre><br><br>there are two dumbbells easy to find (1 horizontal and 1 vertical) :<br><br><pre style=\"font-family: monospace\">...o<br>o-o|<br>..oo</pre><br><br>Now, we can find a new horizontal dumbbell :<br><br><pre style=\"font-family: monospace\">...o<br>o-o|<br>o-oo</pre><br><br>If there were 3 dumbbells to find, that would be the final solution...<br><br>But, if there were 4 dumbbells to find, the final solution would be :<br><br><pre style=\"font-family: monospace\">o-oo<br>o-o|<br>o-oo</pre></span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1</strong> :  Number  <var>n</var> of dumbbells.<br><strong>Line 2</strong> : height <var>h</var> and width <var>w</var> of the grid.<br><var>h</var> following lines: the content of the grid of dumbbells. (<const>.</const> or <const>o</const>)</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong><var>h</var> lines</strong> : with only  <const>.</const>, <const>o</const>, <const>|</const> or <const>-</const><br><const>o</const><br><const>|</const> for a vertical dumbbell, <const>o-o</const> for a horizontal dumbbell, <const>.</const> for a empty square<br><const>o</const></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">3 &lt;= <var>n</var> &lt;= 15<br>3 &lt;= <var>h</var>, <var>w</var> &lt;= 8</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">3\n3 4\n....\no...\n..oo</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">...o\no-o|\no-oo</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 235617141762,
  "avatar": 72010225615995,
  "commentCount": 6,
  "upVotes": 2,
  "downVotes": 0,
  "validateAction": {
    "actionId": 248269,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}