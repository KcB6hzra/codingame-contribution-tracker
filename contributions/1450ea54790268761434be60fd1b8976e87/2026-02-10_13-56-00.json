{
  "id": 145,
  "activeVersion": 27,
  "score": 5,
  "votableId": 254,
  "codingamerId": 878974,
  "views": 327,
  "commentableId": 139,
  "title": "2.5D maze",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "nicola",
  "publicHandle": "1450ea54790268761434be60fd1b8976e87",
  "codingamerHandle": "21bf42f790de293c3aef398f18cd2627479878",
  "lastVersion": {
    "version": 27,
    "data": {
      "title": "2.5D maze",
      "topics": [
        {
          "id": 68,
          "handle": "pathfinding",
          "labelMap": {
            "1": "Recherche de chemins",
            "2": "Pathfinding"
          },
          "pageTitle": "Pathfinding: exercises and theory",
          "puzzleCount": 14,
          "parentTopicId": 41,
          "contentDetailsId": 69
        },
        {
          "id": 54,
          "handle": "BFS",
          "labelMap": {
            "1": "Parcours en largeur",
            "2": "BFS"
          },
          "pageTitle": "BFS: exercises and theory",
          "puzzleCount": 5,
          "parentTopicId": 41,
          "contentDetailsId": 84
        },
        {
          "id": 48,
          "handle": "graphs",
          "labelMap": {
            "1": "Graphes",
            "2": "Graphs"
          },
          "pageTitle": "Graphs: exercises and theory",
          "puzzleCount": 7,
          "parentTopicId": 40,
          "contentDetailsId": 75
        }
      ],
      "solution": "ys,xs=[int(i) for i in raw_input().split()]\nex=tuple([\".\"]+[int(i) for i in raw_input().split()])\nh,w=[int(i) for i in raw_input().split()]\nlaby=[]\nfor _ in xrange(h):\n    laby.append(raw_input())\n\ncompte=0\ncour={(\".\",ys,xs)}\nwhile ex not in cour:\n    temp=set()\n    for fourmi in cour:\n        case,y,x=fourmi\n        if case!=\"X\":\n            laby[y]=laby[y][:x]+\"#\"+laby[y][x+1:]\n        if case==\"|\":\n            dirs={(1,0),(-1,0)}\n        elif case==\"-\":\n            dirs={(0,1),(0,-1)}\n        else:\n            dirs={(0,1),(1,0),(0,-1),(-1,0)}\n        for d in dirs:\n            yn=y+d[0]\n            xn=x+d[1]\n            if laby[yn][xn]==case:\n                temp.add((case,yn,xn))\n            elif laby[yn][xn]==\"-\" and d in {(0,1),(0,-1)}:\n                temp.add((\"-\",yn,xn))\n            elif laby[yn][xn]==\"|\" and d in {(1,0),(-1,0)}:\n                temp.add((\"|\",yn,xn))\n            elif case in \"-|\" and laby[yn][xn] in \".+\":\n                temp.add((laby[yn][xn],yn,xn))\n            elif laby[yn][xn]==\"X\":\n                temp.add((case,yn,xn))\n    compte+=1\n    cour=set(temp)\nprint(compte)",
      "statement": "Link has to find the length of the shortest way out a 2.5D maze, he must save Zelda.\n\nThe grid contains the following symbols: \n* {{\".\"}} floor\n* {{\"+\"}} short wall (you can walk over)\n* {{\"|\"}} vertical slope\n* {{\"-\"}} horizontal slope\n* {{\"#\"}} high wall (you can’t walk across neither under or over)\n* {{\"X\"}} bridge (you can walk under and over)\n* {{\"O\"}} tunnel (you can walk under but not over)\n\nHere is what Link sees when {{\".+#OX\"}} is coded in front of him:\n`  ██_\n_██__`\nHe needs to go from [[starty]]/[[startx]] to [[endy]]/[[endx]].\nLink can walk on the floor, on the short walls, under and over the bridges, under the tunnels but he shall neither fall (he would break his legs) nor walk diagonally. The slopes give the right to go up and down to be able to walk on the short walls and bridges and back to the floor (from top or bottom for the vertical one, and left or right for the horizontal one).\n\nLink can safely assume that:\n* the start and the exit are on the floor,\n* the exit is reachable,\n* the slopes and bridges are correctly placed,\n* the maze is not pathological (for example, Link can’t go outside).\n\nHelp Link!\n\n[[Note]] The puzzle is currently edited because:\n* No test-case where a bridge is near a slope.\n* No test-case where you must go under AND over the same bridge.\n* A new tile, a bridge where you can go under but not over.",
      "testCases": [
        {
          "title": "Simple maze",
          "isTest": true,
          "testIn": "4 1\n3 3\n6 7\n#######\n#.....#\n#.###.#\n#.#.#.#\n#.#...#\n#######",
          "testOut": "13",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Simple maze",
          "isTest": false,
          "testIn": "4 1\n4 3\n6 7\n#######\n#.....#\n#.###.#\n#.#...#\n#.#.#.#\n#######",
          "testOut": "12",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "With slopes",
          "isTest": true,
          "testIn": "1 3\n6 5\n8 7\n#######\n#...#.#\n#.++-.#\n#.+.#.#\n#.+.#.#\n#.|.#.#\n#...#.#\n#######",
          "testOut": "19",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "With slopes",
          "isTest": false,
          "testIn": "1 4\n1 6\n8 8\n########\n#....#.#\n#.++-..#\n#.+.#.##\n#.+.#..#\n#.|.##.#\n#......#\n########",
          "testOut": "18",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "With bridges",
          "isTest": true,
          "testIn": "1 4\n1 6\n8 8\n########\n#....#.#\n#.+#+..#\n#.+.+-.#\n#.+X+..#\n#.|.++.#\n#......#\n########",
          "testOut": "18",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "With bridges",
          "isTest": false,
          "testIn": "1 4\n1 6\n8 8\n########\n#....#.#\n#.+++..#\n#.+.+-.#\n#.+X+..#\n#.|.++.#\n#......#\n########",
          "testOut": "18",
          "isValidator": true,
          "needValidation": false
        },
        {
          "title": "Big maze",
          "isTest": true,
          "testIn": "1 4\n11 13\n16 16\n################\n#....#....#....#\n#.++++.++++.++.#\n#.+..+.+..X.+..#\n#.|.++X+.++++++#\n#....X.+.#.....#\n#.++++.+X+++++.#\n#....+...+.....#\n##+++++-.+++++##\n#.....+...|....#\n#.+++++++...++##\n#.+.+.+...+.+..#\n#.+X+...+.+.++.#\n#.|.++++++-..+.#\n#..........#...#\n################",
          "testOut": "33",
          "isValidator": false,
          "needValidation": false
        },
        {
          "title": "Big maze",
          "isTest": false,
          "testIn": "1 4\n9 5\n16 16\n################\n#....#....#....#\n#.++++.++++.++.#\n#.+..+.+..X.+..#\n#.|.++X+.++++++#\n#....X.+.#.....#\n#.++++.+X+++++.#\n#....+...+.....#\n##+++++-.+++++##\n#.....#...|....#\n#.+++++++...++##\n#.+.+.+...+.+..#\n#.+X+...+.+.++.#\n#.|.++++++-..+.#\n#..........#...#\n################",
          "testOut": "47",
          "isValidator": true,
          "needValidation": false
        }
      ],
      "difficulty": "medium",
      "constraints": "{{1}}⩽[[h]],[[w]]⩽{{16}}",
      "coverBinaryId": 42871829223746,
      "stubGenerator": "read starty:int startx:int\nread endy:int endx:int\nread h:int w:int\nloop h read line:word(20)\nwrite answer",
      "inputDescription": "<<Line 1>>: The coordinates of the start [[starty]] and [[startx]] (0 on top-left corner, screen-style)\n<<Line 2>>: The coordinates of the exit [[endy]] and [[endx]] (0 on top-left corner, screen-style)\n<<Line 3>>: The size of the maze [[h]]eight and [[w]]idth\n<<Next [[h]] lines>>: The maze itself",
      "solutionLanguage": "Python",
      "outputDescription": "The length of the shortest path to the exit, including the exit, not the start."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Link has to find the length of the shortest way out a 2.5D maze, he must save Zelda.<br><br>The grid contains the following symbols: <br>* <const>&quot;.&quot;</const> floor<br>* <const>&quot;+&quot;</const> short wall (you can walk over)<br>* <const>&quot;|&quot;</const> vertical slope<br>* <const>&quot;-&quot;</const> horizontal slope<br>* <const>&quot;#&quot;</const> high wall (you can&rsquo;t walk across neither under or over)<br>* <const>&quot;X&quot;</const> bridge (you can walk under and over)<br>* <const>&quot;O&quot;</const> tunnel (you can walk under but not over)<br><br>Here is what Link sees when <const>&quot;.+#OX&quot;</const> is coded in front of him:<br><pre style=\"font-family: monospace\">  ██_<br>_██__</pre><br>He needs to go from <var>starty</var>/<var>startx</var> to <var>endy</var>/<var>endx</var>.<br>Link can walk on the floor, on the short walls, under and over the bridges, under the tunnels but he shall neither fall (he would break his legs) nor walk diagonally. The slopes give the right to go up and down to be able to walk on the short walls and bridges and back to the floor (from top or bottom for the vertical one, and left or right for the horizontal one).<br><br>Link can safely assume that:<br>* the start and the exit are on the floor,<br>* the exit is reachable,<br>* the slopes and bridges are correctly placed,<br>* the maze is not pathological (for example, Link can&rsquo;t go outside).<br><br>Help Link!<br><br><var>Note</var> The puzzle is currently edited because:<br>* No test-case where a bridge is near a slope.<br>* No test-case where you must go under AND over the same bridge.<br>* A new tile, a bridge where you can go under but not over.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1</strong>: The coordinates of the start <var>starty</var> and <var>startx</var> (0 on top-left corner, screen-style)<br><strong>Line 2</strong>: The coordinates of the exit <var>endy</var> and <var>endx</var> (0 on top-left corner, screen-style)<br><strong>Line 3</strong>: The size of the maze <var>h</var>eight and <var>w</var>idth<br><strong>Next <var>h</var> lines</strong>: The maze itself</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">The length of the shortest path to the exit, including the exit, not the start.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\"><const>1</const>⩽<var>h</var>,<var>w</var>⩽<const>16</const></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">4 1\n3 3\n6 7\n#######\n#.....#\n#.###.#\n#.#.#.#\n#.#...#\n#######</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">13</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 312003588061,
  "avatar": 26090852120005,
  "commentCount": 19,
  "upVotes": 5,
  "downVotes": 0,
  "validateAction": {
    "actionId": 178,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}