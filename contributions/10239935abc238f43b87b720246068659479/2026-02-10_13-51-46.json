{
  "id": 1023,
  "activeVersion": 30,
  "score": 2,
  "votableId": 6816841,
  "codingamerId": 2130169,
  "views": 227,
  "commentableId": 6755804,
  "title": "2048 scores",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "CyberLemonade",
  "publicHandle": "10239935abc238f43b87b720246068659479",
  "codingamerHandle": "d8a0152458f424d53995a613b5abea4f9610312",
  "lastVersion": {
    "version": 30,
    "data": {
      "title": "2048 scores",
      "topics": [
        {
          "id": 71,
          "handle": "recursion",
          "labelMap": {
            "1": "Récursion",
            "2": "Recursion"
          },
          "pageTitle": "Recursion: exercises and theory",
          "puzzleCount": 7,
          "parentTopicId": 41,
          "contentDetailsId": 77
        }
      ],
      "solution": "import java.util.*;\n\npublic class Solution {\n    static Map<Integer,Integer> score = new HashMap<Integer,Integer>(); // stores the score for a particular value\n    public static void main(String[] args) {\n        //System.out.println(\"ENTER:\");\n        Scanner in = new Scanner(System.in);\n        score.put(0,0); // initial values\n        score.put(2,0); // initial values\n        int[][] grid = new int[4][4]; // grid of values\n        int score = 0; // total score\n        int turns = 0; // number of turns played\n        for (int i = 0; i < 4; i++) {\n            for (int j = 0; j < 4; j++) {\n                grid[j][i] = in.nextInt(); // value of grid\n                score += get(grid[j][i]); // total score required to reach the value\n                turns += grid[j][i]/2; // turns required to reach tile\n            }\n        }\n        int FOURS = in.nextInt(); // number of 4s generated\n        score -= 4*FOURS; // updating score\n        turns -= (2+FOURS); // updating turns\n        System.out.println(score);\n        System.out.println(turns);\n    }\n    \n    public static int get(int VALUE) {\n        if (!score.containsKey(VALUE)) {score.put(VALUE,2*get(VALUE/2)+VALUE);} // set maximum score\n        return score.get(VALUE);\n    }\n    \n    // READ THE COMMENTS BELOW ONLY IF YOU WANT TO KNOW HOW THE SOLUTION WORKS...\n    \n    /*\n     * THE TRICKY PART OF THIS PUZZLE IS PREDICTING THE NUMBER OF TURNS\n     * THE NUMBER OF TURNS IS EQUAL TO THE NUMBER OF TILES GENERATED - 2 (SINCE WE START WITH 2 TILES)\n     * NUMBER OF TILES GENERATED FOR A VALUE = VALUE/2\n     * EXPLANATION:\n     * 2 MEANS ONLY 1 TILE REQUIRED\n     * 4 MEANS 2 TILES OF VALUE 2 = 2 * VALUE[2] = 2 * 1 = 2\n     * 8 MEANS 2 TILES OF VALUE 4 = 2 * VALUE[4] = 2 * 2 = 4\n     * NOW, FOR EACH FOUR GENERATED, INSTEAD OF NEEDING 2 TILES OF VALUE 2, WE NEED ONLY 1 TILE OF VALUE 4\n     * SO, TOTAL TILES GENERATED = TILES OF VALUE[2] GENERATED - NUMBER OF FOURS \n     */\n    \n    /*\n     * PREDICTING THE SCORE IS COMPARATIVELY EASIER\n     * FOR EVERY ADDITION, WE GET SCORE += 2*VALUE[TILE]\n     * TO GET A 4, WE NEED 2 2S = 2 * SCORE[2] + 4 = 2 * 0 + 4 = 4\n     * TO GET A 8, WE NEED 2 4S = 2 * SCORE[4] + 8 = 2 * 4 + 8 = 16\n     * TO GET A 16, WE NEED 2 8S = 2 * SCORE[8] + 16 = 2 * 16 + 16 = 48\n     * FINALLY, TOTAL SCORE = CALCULATED SCORE - 4*FOURS (SINCE VALUE OF 4 IS 4)\n     */\n}",
      "statement": "<<2048:>>\n\n2048 is game played on a [[4]] by [[4]] grid. You start with {{2}} tiles placed randomly in the grid. Every turn, you can move all the tiles in the grid in a particular direction (On pressing a particular direction, all tiles get pushed to that side). At the end of each turn, a new tile is generated, in a random position in the grid. The goal of the game is to obtain the [[2048]] tile. However, the game can be continued even after the [[2048]] tile is formed.\n When moving tiles in a direction, if 2 adjacent tiles of the same value come in contact, they get merged into 1 tile, with value = [[2*value of old tile]]. When 2 tiles merge, the user’s score increases by the value of the new tile.This way, you can keep increasing the value of a tile. At the end of each turn, the randomly generated tile can only have value = {{2}} or {{4}}. Note that there may be empty positions in the grid (marked as value=0 for simplicity)\n\n--------------------------------------------------- xxx ---------------------------------------------------\n\n<<The Problem:>>\n\nGiven a 2048 grid and the number of 4s generated, you have to output the player’s score and the number of turns played. \n\n--------------------------------------------------- xxx ---------------------------------------------------\n\n<<Example:>>\n\nConsider the following game:\n\n`0 0 0 0\n0 2 4 0\n0 0 0 0\n0 0 0 0\n`4s generated = {{1}}\nturns played = {{0}}\nUSER moves [[DOWN]]\nGrid becomes:\n\n`0 0 0 0\n0 0 0 0\n0 0 0 0\n2 2 4 0\n`4s generated = {{1}}\nturns played = {{1}}\nscore = {{0}}\nnewly created tile = {{2}}, placed at ({{0}},{{3}})\nUSER moves [[LEFT]]\nGrid becomes:\n\n`0 0 0 0\n0 4 0 0\n0 0 0 0\n4 4 0 0 \n`4s generated = {{2}}\nturns played = {{2}}\nscore = {{2}}+{{2}} = {{4}}\nnewly created tile = {{4}}, placed at ({{1}},{{1}})\nSo, given the following input:\n\n`0 0 0 0\n0 4 0 0\n0 0 0 0\n4 4 0 0\n2 \n`Your program must output:\n`{{4}}\n{{2}}\n`\n--------------------------------------------------- xxx ---------------------------------------------------\n\n<<The Game:>>\n\nPlay the game from the link: {{https://gabrielecirulli.github.io/2048/}}",
      "testCases": [
        {
          "title": "Example",
          "isTest": true,
          "testIn": "0 0 0 0\n0 4 0 0\n0 0 0 0\n4 4 0 0\n2",
          "testOut": "4\n2",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "0 0 0 0\n0 4 0 0\n0 0 0 0\n4 2 0 0\n1",
          "testOut": "4\n2",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Small Game",
          "isTest": true,
          "testIn": "4 16 0 0\n2 0 0 0\n0 0 0 0\n0 0 4 0\n5",
          "testOut": "36\n6",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "2 0 0 0\n2 0 0 0\n8 2 0 4\n2 16 0 0\n7",
          "testOut": "40\n9",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Long Game",
          "isTest": true,
          "testIn": "0 0 0 0\n16 0 0 0\n8 2 0 0\n16 8 0 4\n8",
          "testOut": "100\n17",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "2 0 0 0\n0 0 0 0\n32 8 2 0\n8 64 8 0\n19",
          "testOut": "420\n41",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Big Numbers",
          "isTest": true,
          "testIn": "0 4 0 0\n0 2 0 16\n8 256 0 64\n64 32 16 4\n73",
          "testOut": "2388\n158",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "2 4 8 16\n16 512 4 0\n2 8 0 0\n4 2 0 0\n85",
          "testOut": "3896\n202",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Game Over",
          "isTest": true,
          "testIn": "2 16 8 4\n8 512 2 8\n16 32 16 2\n2 8 2 8\n98",
          "testOut": "4060\n223",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "8 4 8 2\n16 128 2 8\n8 16 8 16\n2 8 4 2\n39",
          "testOut": "860\n79",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Beyond 2048",
          "isTest": true,
          "testIn": "0 4 0 0\n4096 16 0 0\n8 256 64 0\n64 32 16 4\n73",
          "testOut": "47444\n2205",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 6",
          "isTest": false,
          "testIn": "2048 4 8 16\n16 1024 4 0\n2 8 4096 0\n4 2 8192 0\n85",
          "testOut": "172856\n7625",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "No Hard Coding!",
          "isTest": true,
          "testIn": "0 0 0 0\n0 0 0 0\n0 0 2 131072\n0 0 0 0\n73",
          "testOut": "2096860\n65462",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 7",
          "isTest": false,
          "testIn": "0 0 0 1024\n0 0 0 65536\n0 2 0 131072\n0 0 0 2048\n23",
          "testOut": "3109796\n99816",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "0 ≤ [[CNT]] ≤ 2³¹",
      "coverBinaryId": 27985044270983,
      "stubGenerator": "loop 4 loopline 4 CNT:int\nread FOURS:int\nwrite answer",
      "inputDescription": "<<First [[4]] Lines:>> 4 space-separated integers [[CNT]], the value of the current tile\n<<Next Line:>> An integer [[FOURS]], the number of 4s generated",
      "solutionLanguage": "Java",
      "outputDescription": "<<Line 1:>> An integer [[SCORE]], the score of the user\n<<Line 2:>> An integer [[TURNS]], the number of turns played"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\"><strong>2048:</strong><br><br>2048 is game played on a <var>4</var> by <var>4</var> grid. You start with <const>2</const> tiles placed randomly in the grid. Every turn, you can move all the tiles in the grid in a particular direction (On pressing a particular direction, all tiles get pushed to that side). At the end of each turn, a new tile is generated, in a random position in the grid. The goal of the game is to obtain the <var>2048</var> tile. However, the game can be continued even after the <var>2048</var> tile is formed.<br> When moving tiles in a direction, if 2 adjacent tiles of the same value come in contact, they get merged into 1 tile, with value = <var>2*value of old tile</var>. When 2 tiles merge, the user&rsquo;s score increases by the value of the new tile.This way, you can keep increasing the value of a tile. At the end of each turn, the randomly generated tile can only have value = <const>2</const> or <const>4</const>. Note that there may be empty positions in the grid (marked as value=0 for simplicity)<br><br>--------------------------------------------------- xxx ---------------------------------------------------<br><br><strong>The Problem:</strong><br><br>Given a 2048 grid and the number of 4s generated, you have to output the player&rsquo;s score and the number of turns played. <br><br>--------------------------------------------------- xxx ---------------------------------------------------<br><br><strong>Example:</strong><br><br>Consider the following game:<br><br><pre style=\"font-family: monospace\">0 0 0 0<br>0 2 4 0<br>0 0 0 0<br>0 0 0 0<br></pre>4s generated = <const>1</const><br>turns played = <const>0</const><br>USER moves <var>DOWN</var><br>Grid becomes:<br><br><pre style=\"font-family: monospace\">0 0 0 0<br>0 0 0 0<br>0 0 0 0<br>2 2 4 0<br></pre>4s generated = <const>1</const><br>turns played = <const>1</const><br>score = <const>0</const><br>newly created tile = <const>2</const>, placed at (<const>0</const>,<const>3</const>)<br>USER moves <var>LEFT</var><br>Grid becomes:<br><br><pre style=\"font-family: monospace\">0 0 0 0<br>0 4 0 0<br>0 0 0 0<br>4 4 0 0 <br></pre>4s generated = <const>2</const><br>turns played = <const>2</const><br>score = <const>2</const>+<const>2</const> = <const>4</const><br>newly created tile = <const>4</const>, placed at (<const>1</const>,<const>1</const>)<br>So, given the following input:<br><br><pre style=\"font-family: monospace\">0 0 0 0<br>0 4 0 0<br>0 0 0 0<br>4 4 0 0<br>2 <br></pre>Your program must output:<br><pre style=\"font-family: monospace\"><const>4</const><br><const>2</const><br></pre><br>--------------------------------------------------- xxx ---------------------------------------------------<br><br><strong>The Game:</strong><br><br>Play the game from the link: <const>https://gabrielecirulli.github.io/2048/</const></span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>First <var>4</var> Lines:</strong> 4 space-separated integers <var>CNT</var>, the value of the current tile<br><strong>Next Line:</strong> An integer <var>FOURS</var>, the number of 4s generated</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>Line 1:</strong> An integer <var>SCORE</var>, the score of the user<br><strong>Line 2:</strong> An integer <var>TURNS</var>, the number of turns played</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">0 &le; <var>CNT</var> &le; 2&sup3;&sup1;</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">0 0 0 0\n0 4 0 0\n0 0 0 0\n4 4 0 0\n2</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">4\n2</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 257878667457,
  "avatar": 57032502077757,
  "commentCount": 15,
  "upVotes": 2,
  "downVotes": 0,
  "validateAction": {
    "actionId": 176168,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}