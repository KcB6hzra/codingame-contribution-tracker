{
  "id": 7631,
  "activeVersion": 9,
  "score": 48,
  "votableId": 20819183,
  "codingamerId": 3845610,
  "views": 464,
  "commentableId": 20713813,
  "title": "Binary Tree Visual",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "pardouin",
  "publicHandle": "76319d5640b1225c3106c0749b17ff4c6cd2",
  "codingamerHandle": "f5e3b2911a0a16192867d634937546a60165483",
  "lastVersion": {
    "version": 9,
    "autocloseTime": 1639458986177,
    "data": {
      "title": "Binary Tree Visual",
      "topics": [
        {
          "id": 215,
          "handle": "binary-tree",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Binary Tree",
            "2": "Binary Tree"
          },
          "puzzleCount": 3,
          "parentTopicId": 93
        }
      ],
      "solution": "n = int(input())\nvalue, left, right, order, level, rank = [], [], [], [], [None]*n, [None]*n\nfor _ in range(n):\n    v, idleft, idright = map(int, input().split())\n    value.append(v), left.append(idleft), right.append(idright)\ndef explore(i, lvl):\n    if i >= 0:\n        level[i] = lvl\n        explore(left[i], lvl + 1), order.append(i), explore(right[i], lvl + 1)\nexplore(0, 0)\nfor k, i in enumerate(order): rank[i] = k\nw, h = max(len(str(v)) for v in value) + 1, 4*max(level) + 1\ngrid = [[\" \"]*w*n for _ in range(h)]\nfor i in range(n):\n    _w, _i, _j = len(str(value[i])), 4*level[i], w*rank[i]\n    grid[_i][_j + w - _w:_j + w] = [*str(value[i])]\n    if left[i] != -1:\n        for k in range(w*rank[left[i]] + w, _j + w - 1): grid[_i + 2][k] = \"-\"\n        grid[_i + 2][w*rank[left[i]] + w - 1] = grid[_i + 2][_j + w - 1] = \"+\"\n        grid[_i + 3][w*rank[left[i]] + w - 1] = grid[_i + 1][_j + w - 1] = \"|\"\n    if right[i] != -1:\n        for k in range(_j + w, w*rank[right[i]] + w - 1): grid[_i + 2][k] = \"-\"\n        grid[_i + 2][_j + w - 1] = grid[_i + 2][w*rank[right[i]] + w - 1] = \"+\"\n        grid[_i + 1][_j + w - 1] = grid[_i + 3][w*rank[right[i]] + w - 1] = \"|\"\nfor row in grid: print(\"\".join(row).rstrip())",
      "statement": "You must output a visual of the given <<binary tree>> of size [[N]].\nA binary tree is a tree where each node has at most two children, called <<left child>> and <<right child>>.\nA <<value>> is stored in each node.\nNodes have an id between 0 and [[N]] - 1 and are given in order.\nThe id of the root is always 0.",
      "testCases": [
        {
          "title": "Test 1",
          "isTest": true,
          "testIn": "6\n111 1 2\n222 3 4\n3 -1 -1\n44 -1 -1\n555 -1 5\n66 -1 -1",
          "testOut": "                 111\n                   |\n       +-----------+---+\n       |               |\n     222               3\n       |\n   +---+---+\n   |       |\n  44     555\n           |\n           +---+\n               |\n              66",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "6\n111 1 2\n222 -1 -1\n3 3 4\n44 -1 -1\n555 -1 5\n66 -1 -1",
          "testOut": "     111\n       |\n   +---+-------+\n   |           |\n 222           3\n               |\n           +---+---+\n           |       |\n          44     555\n                   |\n                   +---+\n                       |\n                      66",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 2",
          "isTest": true,
          "testIn": "12\n1 1 2\n22 3 4\n333 5 6\n4444 -1 -1\n5 7 8\n66 -1 -1\n777 9 -1\n8888 -1 -1\n9 10 -1\n10 -1 11\n111 -1 -1\n1222 -1 -1",
          "testOut": "                                  1\n                                  |\n         +------------------------+---------+\n         |                                  |\n        22                                333\n         |                                  |\n    +----+---------+                   +----+--------------+\n    |              |                   |                   |\n 4444              5                  66                 777\n                   |                                       |\n              +----+---------+                   +---------+\n              |              |                   |\n           8888              9                  10\n                             |                   |\n                        +----+                   +----+\n                        |                             |\n                      111                          1222",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "12\n1 1 2\n22 3 4\n333 5 6\n4444 7 8\n5 -1 -1\n66 9 -1\n777 -1 -1\n8888 -1 -1\n9 10 -1\n10 -1 11\n111 -1 -1\n1222 -1 -1",
          "testOut": "                                  1\n                                  |\n                        +---------+-------------------+\n                        |                             |\n                       22                           333\n                        |                             |\n         +--------------+----+                   +----+----+\n         |                   |                   |         |\n      4444                   5                  66       777\n         |                                       |\n    +----+---------+                   +---------+\n    |              |                   |\n 8888              9                  10\n                   |                   |\n              +----+                   +----+\n              |                             |\n            111                          1222",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 3",
          "isTest": true,
          "testIn": "20\n1 1 2\n2 3 4\n3 5 6\n4 7 8\n5 9 10\n6 11 12\n7 13 14\n8 15 -1\n9 -1 -1\n10 -1 -1\n11 16 17\n12 -1 -1\n13 18 -1\n14 -1 19\n15 -1 -1\n16 -1 -1\n17 -1 -1\n18 -1 -1\n19 -1 -1\n20 -1 -1",
          "testOut": "                                1\n                                |\n              +-----------------+--------------+\n              |                                |\n              2                                3\n              |                                |\n        +-----+-----+                 +--------+--------+\n        |           |                 |                 |\n        4           5                 6                 7\n        |           |                 |                 |\n     +--+--+     +--+-----+        +--+-----+     +-----+--+\n     |     |     |        |        |        |     |        |\n     8     9    10       11       12       13    14       15\n     |                    |                 |     |\n  +--+                 +--+--+           +--+     +--+\n  |                    |     |           |           |\n 16                   17    18          19          20",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "20\n1 1 2\n2 3 4\n3 5 6\n4 7 8\n5 9 10\n6 11 12\n7 13 14\n8 -1 -1\n9 -1 15\n10 16 17\n11 -1 -1\n12 -1 -1\n13 18 -1\n14 -1 -1\n15 -1 19\n16 -1 -1\n17 -1 -1\n18 -1 -1\n19 -1 -1\n20 -1 -1",
          "testOut": "                                1\n                                |\n              +-----------------+--------------+\n              |                                |\n              2                                3\n              |                                |\n     +--------+-----------+           +--------+-----+\n     |                    |           |              |\n     4                    5           6              7\n     |                    |           |              |\n  +--+--+           +-----+--+     +--+-----+     +--+--+\n  |     |           |        |     |        |     |     |\n  8     9          10       11    12       13    14    15\n        |           |                       |           |\n        +--+     +--+--+                 +--+           +--+\n           |     |     |                 |                 |\n          16    17    18                19                20",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 4",
          "isTest": true,
          "testIn": "1\n555 -1 -1",
          "testOut": " 555",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "1\n42 -1 -1",
          "testOut": " 42",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "1 ≤ [[N]] ≤ 20",
      "coverBinaryId": 73417908733595,
      "stubGenerator": "read N:int\nloop N read V:int IDLEFT:int IDRIGHT:int\nwrite answer",
      "inputDescription": "<<Line 1 :>> An integer [[N]] for the number of nodes.\n<<[[N]] next lines :>> Three space separated integers for the value stored in the node and the id of its left and right children. The id is -1 if there is no child.",
      "solutionLanguage": "Python3",
      "outputDescription": "Lines trimmed on the right representing the tree.\nPrior to trimming, the whole output can be seen as a big grid.\nThe values are located in \"cells\" of width [[W]] where [[W]] is 1 + the maximum number of digits of a tree value. The values are right-justified within their cell.\nA node in the left sub-tree of a node is always represented to its left, a node in the right sub-tree of a node is always represented to its right.\nThe width of the visual is [[N]] cells, which means a total width of [[N]] x  [[W]] characters before the right trimming. In other words, every \"column\" of the big grid contains exactly one value.\nThe nodes are connected with {{|}}, {{+}} and {{-}} as seen in the example.\n {{|}} and {{+}} are right-justified within their cell.\nThe total height of the visual is [[L]] + 3 x ([[L]] - 1) lines where [[L]] is the number of levels, also knows as the \"height\" of the tree (each level brings one line for the values and 3 lines for the connections - except for the last level) ."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">You must output a visual of the given <strong>binary tree</strong> of size <var>N</var>.<br>A binary tree is a tree where each node has at most two children, called <strong>left child</strong> and <strong>right child</strong>.<br>A <strong>value</strong> is stored in each node.<br>Nodes have an id between 0 and <var>N</var> - 1 and are given in order.<br>The id of the root is always 0.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1 :</strong> An integer <var>N</var> for the number of nodes.<br><strong><var>N</var> next lines :</strong> Three space separated integers for the value stored in the node and the id of its left and right children. The id is -1 if there is no child.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">Lines trimmed on the right representing the tree.<br>Prior to trimming, the whole output can be seen as a big grid.<br>The values are located in &quot;cells&quot; of width <var>W</var> where <var>W</var> is 1 + the maximum number of digits of a tree value. The values are right-justified within their cell.<br>A node in the left sub-tree of a node is always represented to its left, a node in the right sub-tree of a node is always represented to its right.<br>The width of the visual is <var>N</var> cells, which means a total width of <var>N</var> x  <var>W</var> characters before the right trimming. In other words, every &quot;column&quot; of the big grid contains exactly one value.<br>The nodes are connected with <const>|</const>, <const>+</const> and <const>-</const> as seen in the example.<br> <const>|</const> and <const>+</const> are right-justified within their cell.<br>The total height of the visual is <var>L</var> + 3 x (<var>L</var> - 1) lines where <var>L</var> is the number of levels, also knows as the &quot;height&quot; of the tree (each level brings one line for the values and 3 lines for the connections - except for the last level) .</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">1 &le; <var>N</var> &le; 20</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">6\n111 1 2\n222 3 4\n3 -1 -1\n44 -1 -1\n555 -1 5\n66 -1 -1</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">                 111\n                   |\n       +-----------+---+\n       |               |\n     222               3\n       |\n   +---+---+\n   |       |\n  44     555\n           |\n           +---+\n               |\n              66</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 131300097342,
  "avatar": 60364063762936,
  "commentCount": 20,
  "upVotes": 50,
  "downVotes": 2,
  "validateAction": {
    "actionId": 614511,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1639430108212,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}