{
  "id": 6559,
  "activeVersion": 10,
  "score": 7,
  "votableId": 17832749,
  "codingamerId": 4134943,
  "views": 216,
  "commentableId": 17738378,
  "title": "Birthday Paradox",
  "status": "ACCEPTED",
  "type": "CLASHOFCODE",
  "nickname": "vinc-r",
  "publicHandle": "6559007f5d271574c2173f33ff37ee404e22",
  "codingamerHandle": "fb82e6cef7c3f73e81256761a6cac2043494314",
  "lastVersion": {
    "version": 10,
    "autocloseTime": 1622875083123,
    "data": {
      "title": "Birthday Paradox",
      "topics": [],
      "fastest": false,
      "reverse": false,
      "shortest": true,
      "solution": "def list_product(li):\n    p = 1\n    for l in li:\n        p *= l\n    return p\n\nnb_days = int(input())\np = float(input())\np_sec = 0\nn = 0\n\nwhile p_sec < p:\n    n+=1\n    p_sec = 1 - list_product(range(nb_days, nb_days-n, -1)) / (nb_days**n)\n\nprint(n)\n\n\"\"\"\n# Short mode code\n# It's may be not the shortest, but it's the shortest i could find\n# I'm open to new suggestions to add them !\n\n\nimport math\nI=input;D=int(I());p=float(I());q=n=0\nwhile q<p:n+=1;q=1-math.perm(D,n)/D**n\nI(n)\n\"\"\"",
      "statement": "Given a <<probability>> [[p]], return the minimal number of persons [[n]] where the probability [[p']] of at least two of them share the same birthday is greater than or equal to [[p]].\n\nWe assume they are 365 in a year and all days are equiprobable.\n\n<<How to find [[p]] having [[n]] : >>\nFor a group of 4 persons, the probability that nobody share the same birthday equal to :\nf(4) = 1 * (1 - 1/365) * (1 - 2/365) * (1 - 3/365) = 365! / (365^4 * (365-4)!) ≃ 0.9836\nSo the probability of at least 2 of the 4 persons share the same birthday equals : 1 - 0.9836 ≃ 0.0164\n\nIn this problem, having [[p]], you must find the minimum [[n]] where f([[n]]) ≥ [[p]] \n\nTrick : Do not try to calculate 365!",
      "testCases": [
        {
          "title": "Test 1",
          "isTest": true,
          "testIn": "365\n0.5",
          "testOut": "23",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "365\n0.6",
          "testOut": "27",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 2",
          "isTest": true,
          "testIn": "365\n0.1",
          "testOut": "10",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "365\n0.15",
          "testOut": "12",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 3",
          "isTest": true,
          "testIn": "365\n0.99",
          "testOut": "57",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "365\n0.98",
          "testOut": "53",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 4",
          "isTest": true,
          "testIn": "365\n0.00001",
          "testOut": "2",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "365\n0.005",
          "testOut": "3",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "constraints": "{{nbdays}} = 365\n0 < [[p]] < 1",
      "stubGenerator": "read nbdays:int\nread p:float\nwrite n_min",
      "inputDescription": "Line 1 : integer {{nbdays}} = 365\nLine 2 : float [[p]]",
      "solutionLanguage": "Python3",
      "outputDescription": "Line 1 : integer [[n]]"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">Given a <strong>probability</strong> <var>p</var>, return the minimal number of persons <var>n</var> where the probability <var>p'</var> of at least two of them share the same birthday is greater than or equal to <var>p</var>.<br><br>We assume they are 365 in a year and all days are equiprobable.<br><br><strong>How to find <var>p</var> having <var>n</var> : </strong><br>For a group of 4 persons, the probability that nobody share the same birthday equal to :<br>f(4) = 1 * (1 - 1/365) * (1 - 2/365) * (1 - 3/365) = 365! / (365^4 * (365-4)!) ≃ 0.9836<br>So the probability of at least 2 of the 4 persons share the same birthday equals : 1 - 0.9836 ≃ 0.0164<br><br>In this problem, having <var>p</var>, you must find the minimum <var>n</var> where f(<var>n</var>) &ge; <var>p</var> <br><br>Trick : Do not try to calculate 365!</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\">Line 1 : integer <const>nbdays</const> = 365<br>Line 2 : float <var>p</var></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">Line 1 : integer <var>n</var></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\"><const>nbdays</const> = 365<br>0 &lt; <var>p</var> &lt; 1</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">365\n0.5</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">23</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 149843498326,
  "avatar": 57340707535268,
  "commentCount": 10,
  "upVotes": 8,
  "downVotes": 1,
  "validateAction": {
    "actionId": 557943,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1620887031898,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}