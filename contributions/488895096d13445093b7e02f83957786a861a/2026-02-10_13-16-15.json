{
  "id": 48889,
  "activeVersion": 28,
  "score": 7,
  "votableId": 28470872,
  "codingamerId": 2422378,
  "views": 252,
  "commentableId": 28341060,
  "title": "SPORE City Planner",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "C2H5OH",
  "publicHandle": "488895096d13445093b7e02f83957786a861a",
  "codingamerHandle": "6e655b3491f32893466670c6a55da5208732242",
  "lastVersion": {
    "version": 28,
    "autocloseTime": 1680894321728,
    "data": {
      "title": "SPORE City Planner",
      "topics": [
        {
          "id": 48,
          "handle": "graphs",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Graphes",
            "2": "Graphs"
          },
          "pageTitle": "Graphs: exercises and theory",
          "puzzleCount": 31,
          "parentTopicId": 40,
          "contentDetailsId": 75
        },
        {
          "id": 59,
          "handle": "brute-force",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Force brute",
            "2": "Brute-force"
          },
          "pageTitle": "Brute-force: exercises and theory",
          "puzzleCount": 19,
          "parentTopicId": 41,
          "contentDetailsId": 90
        }
      ],
      "solution": "// Legend:\n// 0 - House\n// 1 - Factory\n// 2 - Entertainment\n\nconst nodeMorale = [0, -1, 1];\n\nconst linkProduction = [[0, 1, 0], [1, 0, 0], [0, 0, 0]];\nconst linkMorale = [[0, 0, 1], [0, 0, -1], [1, -1, 0]];\n\nconst N = readline();\nconst L = readline();\nvar links = new Array(N+1);\n// IDE js error!\n// for(let i=0; i<=N; i++) links[i] = (new Array(N+1)).fill(0);  don't work\nfor(let i=0; i<=N; i++) {\n    links[i] = [0];\n    for(let j=0; j<N; j++) links[i].push(0);\n}\n\nfor(let i=0; i<L; i++) {\n\tconst input = readline().split(' ');\n\tlinks[parseInt(input[0])][parseInt(input[1])] = 1;\n}\n\nvar resultValue = -1;\nvar resultSet;\n// IDE js error!\n// var arr = (new Array(N+1)).fill(0);  don't work\nvar arr = [0];\nfor(let j=0; j<N; j++) arr.push(0);\n\ngo(arr, 1);\n\nconsole.error(resultSet); // for SPORE players\nconsole.log(resultValue);\n\nfunction go(arr, index) {\n\tif(index > N) return;\n\tcalculate(arr);\n\tgo(arr, index+1);\n\tvar arr1 = arr.slice();\n\tarr1[index] = 1;\n\tcalculate(arr1);\n\tgo(arr1, index+1);\n\tarr1[index] = 2;\n\tcalculate(arr1);\n\tgo(arr1, index+1);\n}\t\n\nfunction calculate(arr) {\n\tlet production = 0;\n\tlet morale = 0;\n\tfor(let i=0; i<=N; i++) {\n\t\tmorale += nodeMorale[arr[i]];\n\t\tfor(let j=i+1; j<=N; j++) {\n\t\t\tif(links[i][j]) {\n\t\t\t\tproduction += linkProduction[arr[i]][arr[j]];\n\t\t\t\tmorale += linkMorale[arr[i]][arr[j]];\n\t\t\t}\n\t\t}\n\t}\n\tif(morale < 0) return;\n\tif(production > resultValue) {\n\t\tresultValue = production;\n\t\tresultSet = arr.slice();\n\t}\n}",
      "statement": "You are playing the SPORE Galactic Adventures game. https://en.wikipedia.org/wiki/Spore_Galactic_Adventures\nIn the Civilization stage and in the Space stage, you can manage your cities using the City Planner.\nInside each city there are several places (up to 11, depend on the level of the city) for placing objects and one especial place in the city center - the <<City Hall>>.\nThere are 3 types of objects.\nThe <<House>> does nothing.\n<<Entertainment>> increases the happiness of the city.\n<<Factory>> reduces the happiness of the city.\nThe <<City Hall>> is a <<House>> type object and cannot be removed from the city center.\n\nSome places in the city are connected by roads.\nThe road becomes a colored link if the objects are placed both sides of the link.\nColored links have an effect.\nBlue links (House - Factory) increase the production of the city.\nGreen links (House - Entertainment) increase the city's happiness.\nRed links (Factory - Entertainment) decrease the city's happiness.\nWhite links (between objects of the same type) are neutral.\n\nYou should place objects in the city in order to get the maximum production of the city. But a city cannot have negative happiness.\n\n<<Example>>\nCity has configuration   (1) - - (0) - - (2) - - (3)\nInput for this city are\n3\n3\n0 1\n0 2\n2 3\nPlacing objects like\n1 - Factory\n2 - Factory\n3 - House\n(Factory) - blue - (House) - blue - (Factory) - blue - (House)\ngives 3 production (3 blue links)\nbut have -2 happiness (two Factories)\n(-1) - - (0) - - (-1) - - (0)\nThis placement is not acceptable.\n\nCorrect placement is\n1 - Entertainment\n2 - Factory\n3 - House\n(Entertainment) - green - (House) - blue - (Factory) - blue - (House)\ngives 2 production (2 blue links)\nand have +1 happiness (1 Entertainment + 1 green link - 1 Factory)\n(1) - 1 - (0) - - (-1) - - (0)\nSo, answer for this city is 2",
      "testCases": [
        {
          "title": "Test city",
          "isTest": true,
          "testIn": "3\n3\n0 1\n0 2\n2 3",
          "testOut": "2",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "City 1",
          "isTest": false,
          "testIn": "5\n7\n0 1\n0 2\n0 4\n0 5\n1 2\n3 4\n4 5",
          "testOut": "4",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Civilization stage, small city",
          "isTest": true,
          "testIn": "5\n8\n0 1\n0 2\n0 3\n0 4\n0 5\n1 2\n3 4\n4 5",
          "testOut": "4",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "City 2",
          "isTest": false,
          "testIn": "11\n11\n0 8\n0 10\n1 2\n2 4\n3 5\n4 5\n6 7\n6 8\n8 10\n9 10\n10 11",
          "testOut": "8",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Civilization stage, big city",
          "isTest": true,
          "testIn": "11\n14\n0 2\n0 4\n0 7\n0 8\n1 2\n2 4\n3 5\n4 5\n5 6\n7 8\n8 9\n8 10\n9 10\n10 11",
          "testOut": "9",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "City 3",
          "isTest": false,
          "testIn": "11\n13\n0 3\n0 5\n1 2\n1 3\n2 3\n2 4\n3 5\n4 5\n5 6\n7 8\n8 10\n9 11\n10 11",
          "testOut": "9",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Space stage, big city 1",
          "isTest": true,
          "testIn": "11\n15\n0 3\n0 4\n0 7\n0 10\n1 2\n1 3\n2 3\n3 4\n3 10\n4 5\n5 6\n6 7\n7 8\n8 9\n10 11",
          "testOut": "10",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "City 4",
          "isTest": false,
          "testIn": "11\n16\n0 2\n0 4\n0 5\n0 9\n0 10\n1 2\n2 3\n2 4\n3 4\n5 6\n6 7\n6 8\n7 8\n7 9\n9 10\n10 11",
          "testOut": "10",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Space stage, big city 2",
          "isTest": true,
          "testIn": "11\n17\n0 2\n0 7\n0 9\n1 2\n2 3\n2 4\n3 4\n4 5\n4 7\n5 6\n6 7\n6 8\n7 8\n7 9\n9 10\n9 11\n10 11",
          "testOut": "11",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "City 5",
          "isTest": false,
          "testIn": "11\n16\n0 2\n0 7\n0 9\n1 2\n2 3\n2 4\n3 4\n4 5\n4 7\n5 6\n6 7\n7 8\n7 9\n9 10\n9 11\n10 11",
          "testOut": "11",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "medium",
      "constraints": "1 < [[N]] ≤ 11\n0 ≤ [[A]],[[B]] ≤ [[N]]",
      "coverBinaryId": 100146248111562,
      "stubGenerator": "read N:int\nread L:int\nloop L read ROW:string(8)\nwrite answer",
      "inputDescription": "<<Line 1>>: An integer [[N]] for the number of places inside the city (City Hall not included to [[N]]).\n<<Line 2>>: An integer [[L]] for the number of links.\n<<Next [[L]] lines>>: Two space separated integers [[A]] and [[B]] (from {{0}} to [[N]]) - two node numbers for describe Link. Place {{0}} means City Hall.",
      "solutionLanguage": "Javascript",
      "outputDescription": "The maximum possible value of city's production."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">You are playing the SPORE Galactic Adventures game. https://en.wikipedia.org/wiki/Spore_Galactic_Adventures<br>In the Civilization stage and in the Space stage, you can manage your cities using the City Planner.<br>Inside each city there are several places (up to 11, depend on the level of the city) for placing objects and one especial place in the city center - the <strong>City Hall</strong>.<br>There are 3 types of objects.<br>The <strong>House</strong> does nothing.<br><strong>Entertainment</strong> increases the happiness of the city.<br><strong>Factory</strong> reduces the happiness of the city.<br>The <strong>City Hall</strong> is a <strong>House</strong> type object and cannot be removed from the city center.<br><br>Some places in the city are connected by roads.<br>The road becomes a colored link if the objects are placed both sides of the link.<br>Colored links have an effect.<br>Blue links (House - Factory) increase the production of the city.<br>Green links (House - Entertainment) increase the city's happiness.<br>Red links (Factory - Entertainment) decrease the city's happiness.<br>White links (between objects of the same type) are neutral.<br><br>You should place objects in the city in order to get the maximum production of the city. But a city cannot have negative happiness.<br><br><strong>Example</strong><br>City has configuration   (1) - - (0) - - (2) - - (3)<br>Input for this city are<br>3<br>3<br>0 1<br>0 2<br>2 3<br>Placing objects like<br>1 - Factory<br>2 - Factory<br>3 - House<br>(Factory) - blue - (House) - blue - (Factory) - blue - (House)<br>gives 3 production (3 blue links)<br>but have -2 happiness (two Factories)<br>(-1) - - (0) - - (-1) - - (0)<br>This placement is not acceptable.<br><br>Correct placement is<br>1 - Entertainment<br>2 - Factory<br>3 - House<br>(Entertainment) - green - (House) - blue - (Factory) - blue - (House)<br>gives 2 production (2 blue links)<br>and have +1 happiness (1 Entertainment + 1 green link - 1 Factory)<br>(1) - 1 - (0) - - (-1) - - (0)<br>So, answer for this city is 2</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1</strong>: An integer <var>N</var> for the number of places inside the city (City Hall not included to <var>N</var>).<br><strong>Line 2</strong>: An integer <var>L</var> for the number of links.<br><strong>Next <var>L</var> lines</strong>: Two space separated integers <var>A</var> and <var>B</var> (from <const>0</const> to <var>N</var>) - two node numbers for describe Link. Place <const>0</const> means City Hall.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\">The maximum possible value of city's production.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">1 &lt; <var>N</var> &le; 11<br>0 &le; <var>A</var>,<var>B</var> &le; <var>N</var></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">3\n3\n0 1\n0 2\n2 3</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">2</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 89849116082,
  "avatar": 19226708700974,
  "commentCount": 11,
  "upVotes": 7,
  "downVotes": 0,
  "validateAction": {
    "actionId": 785323,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1680880258172,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}