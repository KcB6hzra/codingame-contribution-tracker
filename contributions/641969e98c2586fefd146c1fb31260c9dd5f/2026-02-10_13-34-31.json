{
  "id": 6419,
  "activeVersion": 10,
  "score": 79,
  "votableId": 17510627,
  "codingamerId": 484004,
  "views": 1223,
  "commentableId": 17417681,
  "title": "Adversarial Mate with Rook",
  "status": "ACCEPTED",
  "type": "PUZZLE_SOLO",
  "nickname": "aCat",
  "publicHandle": "641969e98c2586fefd146c1fb31260c9dd5f",
  "codingamerHandle": "b528dd3b279d7578674a1129305918e0400484",
  "lastVersion": {
    "version": 10,
    "autocloseTime": 1624547190022,
    "data": {
      "title": "Adversarial Mate with Rook",
      "topics": [
        {
          "id": 137,
          "handle": "chess",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Ã‰checs",
            "2": "Chess"
          },
          "puzzleCount": 6,
          "parentTopicId": 107
        },
        {
          "id": 83,
          "handle": "minimax",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Minimax",
            "2": "Minimax"
          },
          "pageTitle": "Minimax: exercises and theory",
          "puzzleCount": 21,
          "parentTopicId": 42,
          "contentDetailsId": 93
        }
      ],
      "difficulty": "hard",
      "refereeMd5": "484004/a7714dda6ada66feff2a75eb6ca49df8",
      "testHandle": "87676047570899f4cff5a76734c5410b476381",
      "viewerCode": "var Drawer=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";n.r(e),n.d(e,\"Drawer\",(function(){return Jn}));var r={baseUrl:\"https://cdn-games.codingame.com/community/484004-1616508927571/\",images:{\"redChar.png\":\"01b91193dc8d7b8c2925b5a0a2cf6d7222a0a866a0c47b4847758f8b90cc5958.png\",\"whiteRook.png\":\"bff79303fffa104676ef498635c93a21206fb56f33bca469225179d8f43a452d.png\",\"failed.png\":\"5e5a61f27cb22dcd48968b8273fd65b41089930b24d47753bfcc177d32416787.png\",\"whiteChar.png\":\"b1fa3c1f54d5589c9ba59b28800a4a5e83e883aeaab1d05008210f616801ea43.png\",\"crown.png\":\"3e8901eec096a449ad3b46ac71e0a6b41e8bf3d471bbe2a4b439885bbf3d2098.png\",\"whiteKing.png\":\"368747e681bb57306d86f88da9f14f3d9505b201d4edd2c9bb799db6c67563df.png\",\"blackChar.png\":\"5cd6b57e35dbe7ed20161f6dcb19d48ac762eaaecdc440e2544b18d2c3417731.png\",\"flag.png\":\"7fb0f5ecbca95e667b3c76ecf4679516c5e102578f61113bad25b1c3227138e5.png\",\"board.png\":\"0da2a3626bb7e359ef8ab6f8243099f27bd5b301215b8d378afef429bdc2950e.png\",\"blackKing.png\":\"68ec78a42afd4c8f601ce90db4c3be9e639942b6bfa8a82b325923869034ccb9.png\",\"background.png\":\"54a05da443ae6ba3343f0a3ab690761b673745d77473215f16b18b932545d9d7.png\",\"passed.png\":\"1a63e541670bf974b08f0efae88395084da337e7f019f8c9e833f409cfa9ecb3.png\",\"saybg.png\":\"c4c9a15a8b9aa0e41611d5f7320c73e79c65fd4e4919f9017372e59189ea001d.png\",\"logo.png\":\"47906fabf3ef2fa015a99779cf68617be148413a465a1362714970566b82bb4c.png\"},sprites:[],fonts:[]};function o(t,e,n){return t<=e?t+(e-t)*n:e+(t-e)*(1-n)}function i(t,e,n){return Math.min(1,Math.max(0,(n-(t=t))/(e-t)))}function a(t,e,n,r,o){return o=o||0,Math.min(n/(t+o),r/(e+o))}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=[],u=[],l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"listen\",value:function(t){if(\"function\"!=typeof t)throw new TypeError(t+\" is not a function\");u.push(t)}},{key:\"push\",value:function(t){c.push(t),u.forEach((function(e){return e(t)}))}}],null&&s(e.prototype,null),n&&s(e,n),t}();function f(t){return(f=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function y(t){var e=\"function\"==typeof Map?new Map:void 0;return(y=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return p(t,arguments,g(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),v(r,t)})(t)}function p(t,e,n){return(p=h()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&v(r,n.prototype),r}).apply(null,arguments)}function h(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(e,y(Error));var t=function(t){var e=h();return function(){var n,r=g(t);return n=e?(n=g(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==f(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,\"Invalid color token: there is no player at index \".concat(n,\". Make sure to use getColorToken() if you want the color of a specific player.\"))).playerIdx=n,o.cause=r,o.name=\"InvalidPlayerColorTokenError\",o}return e}();function b(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function x(t,e,n){return n<1?t:e}var w={type:Number,lerpMethod:function(t,e,n){return null===e?null:o((t={r:(16711680&t)>>16,g:(65280&t)>>8,b:255&t}).r,(e={r:(16711680&e)>>16,g:(65280&e)>>8,b:255&e}).r,n)<<16|o(t.g,e.g,n)<<8|o(t.b,e.b,n)},convert:function(t,e){var n=-(t+1);try{return t<0?e.players[n].color:t}catch(t){return l.push(new d(n)),16777215}}},S={type:String,lerpMethod:x,convert:P},O={type:Number,lerpMethod:function(t,e,n,r){for(;e>t+Math.PI;)e-=2*Math.PI;for(;e<t-Math.PI;)e+=2*Math.PI;return(n=void 0!==r&&Math.abs(e-t)>r?e:t+(e-t)*n)%(2*Math.PI)},convert:function(t){return t*Math.PI/180}},R={type:Number,lerpMethod:x},k=(n={type:function(t){return\"1\"===t},lerpMethod:x},e={type:Number,lerpMethod:function(t,e,n){return e<t?e:o(t,e,n)}},{default:{type:Number,lerpMethod:o},visible:n,rotation:O,skewX:O,skewY:O,fillColor:w,lineColor:w,strokeColor:w,tint:w,animationProgressTime:e,maxWidth:R,mask:R,baseWidth:R,baseHeight:R,image:S,images:S,scaleMode:S,restarted:{type:String,convert:function(t,e,n,r){return t?{date:n.date+r*n.frameDuration}:null},lerpMethod:x},playing:n,duration:R,blendMode:R,loop:n,text:m(m({},S),{},{convert:function(t,e){t=P(t);for(var n=/\\$(\\d)/g,r=n.exec(t),o=\"\",i=0;r;)r[1]<e.players.length&&(o+=t.substring(i,r.index),o+=e.players[+r[1]].name),i=r.index+r[0].length,r=n.exec(t);return o+t.substring(i)}}),textAlign:m(m({},S),{},{convert:function(t){return{0:\"left\",1:\"center\",2:\"right\"}[t]}}),fontFamily:S,fontWeight:S,children:m(m({},S),{},{convert:function(t){return t?t.split(\",\").map((function(t){return+t})):[]}}),points:m(m({},S),{},{convert:function(t){return t?t.split(\",\").map((function(t){return parseInt(t)})):[]},lerpMethod:function(t,e,n){return t.length===e.length?t.map((function(t,r){return o(t,e[r],n)})):x(t,e,n)}})});function P(t){return(t=t.split(\"\\\\'\").join(\"'\")).includes(\" \")||t.includes(\";\")||t.includes(\"\\n\")?t.slice(1,t.length-1):t}function j(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _(t){return(_=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var I=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.defaultState={x:0,y:0,scaleX:1,scaleY:1,skewX:0,skewY:0,zIndex:0,alpha:1,visible:!1,rotation:0,mask:-1},this.states={}}var e,n,r;return e=t,r=[{key:\"createState\",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return z(z({t:t},e),{},{curve:n})}}],(n=[{key:\"init\",value:function(){this.properties=Object.keys(this.defaultState),this.initDisplay(),this.currentState=Object.assign({},this.defaultState),\"object\"===_(this.graphics)&&this.container.addChild(this.graphics)}},{key:\"setHidden\",value:function(t){this.hide=t,this.container.visible=this.currentState.visible&&!this.hide}},{key:\"addState\",value:function(e,n,r){this.states[r]||(this.states[r]=[]);var o=t.createState(e,n.values,n.curve);(n=this.states[r].find((function(t){return t.t===e})))&&0===Object.keys(o.curve).length&&(o.curve=n.curve),n?(D(o)||D(n)||l.push(new Error(\"Different updates for same t \"+e)),Object.assign(n,o)):this.states[r].push(o)}},{key:\"set\",value:function(t,e,n){this.addState(t,e,n)}},{key:\"render\",value:function(t,e,n){var r=this.states[e.number];this.container.visible=!1;var o,a=null,s=1;if(r&&r.length){for(var c=0;c<r.length-1&&r[c].t<t;)c++;if(a=r[c-1],o=r[c],a)s=i(a.t,o.t,t);else{var u=Object.keys(this.states),l=u.indexOf(e.number.toString())-1;for(-1===l&&(l=u.length-1);0<=l&&u[l]>=e.number;)l--;var f=this.states[u[l]]||[];s=!(a=f[f.length-1])&&t>=o.t?(a=o,1):i(0,o.t,t)}}else{for(var y=Object.keys(this.states),p=y.length-1;0<=p&&y[p]>e.number;)p--;null!=(f=this.states[y[p]])?o=a=f[f.length-1]:Object.assign(this.currentState,this.defaultState)}if(a){var h,v={},g=Object.assign({},this.currentState),d=function(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(this.properties);try{for(d.s();!(h=d.n()).done;){var b=h.value,m=(k[b]||k.default).lerpMethod,x=o.curve[b]||function(t){return t},w=m(a[b],o[b],x(s));w!==this.currentState[b]&&(v[b]=!0,g[b]=w)}}catch(t){d.e(t)}finally{d.f()}this.updateDisplay(g,v,n,e,t),Object.assign(this.currentState,g),this.container.visible=this.container._visible,v.children&&(n.mustResetTree=!0,\"function\"==typeof this.postUpdate&&n.updatedBuffers.push(this)),v.zIndex&&(n.mustResort=!0),v.mask&&(n.maskUpdates[this.id]=g.mask),0!==Object.keys(v).length&&this.parent&&this.parent.notifyChange()}}},{key:\"notifyChange\",value:function(){this.parent&&this.parent.notifyChange()}},{key:\"initDisplay\",value:function(){this.container=new PIXI.Container,this.container.zIndex=this.defaultState.zIndex,this.container.id=this.id,this.container._visible=this.defaultState.visible}},{key:\"updateDisplay\",value:function(t,e,n){this.container.zIndex=t.zIndex,this.container.alpha=t.alpha,(e.x||e.y)&&this.container.position.set(t.x*n.toWorldUnits,t.y*n.toWorldUnits),(e.scaleX||e.scaleY)&&this.container.scale.set(t.scaleX||1e-8,t.scaleY||1e-8),this.container.rotation=t.rotation,this.container._visible=t.visible&&!this.hide,this.container.skew.set(t.skewX,t.skewY)}}])&&E(e.prototype,n),r&&E(e,r),t}();function D(t){return Object.keys(t).length===Object.keys(I.createState()).length}function C(t){return(C=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A(t,e,n){return(A=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=M(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function K(t,e){return(K=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var W=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K(t,e)}(o,I);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=M(t);return n=e?(n=M(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==C(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),t=r.call(this),Object.assign(t.defaultState,{fillColor:o.defaultFillColor(),lineWidth:o.defaultLineWidth(),lineColor:o.defaultLineColor(),fillAlpha:o.defaultFillAlpha(),lineAlpha:o.defaultLineAlpha(),blendMode:PIXI.BLEND_MODES.NORMAL}),t}return t=o,n=[{key:\"defaultLineWidth\",value:function(){return 0}},{key:\"defaultFillColor\",value:function(){return 16777215}},{key:\"defaultLineColor\",value:function(){return 0}},{key:\"defaultLineAlpha\",value:function(){return 1}},{key:\"defaultFillAlpha\",value:function(){return 1}}],(e=[{key:\"initDisplay\",value:function(){A(M(o.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Graphics,this.graphics.lineStyle(this.defaultState.lineWidth,this.defaultState.lineColor,this.defaultState.lineAlpha),null!==this.defaultState.fillColor&&this.graphics.beginFill(this.defaultState.fillColor,this.defaultState.fillAlpha)}},{key:\"updateDisplay\",value:function(t,e,n){A(M(o.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.blendMode=t.blendMode}}])&&F(t.prototype,e),n&&F(t,n),o}();function X(t){return(X=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U(t,e,n){return(U=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=H(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function H(t){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Y=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(o,W);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H(t);return n=e?(n=H(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==X(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),(t=r.call(this)).defaultState.radius=o.defaultRadius(),t}return t=o,n=[{key:\"defaultRadius\",value:function(){return 100}}],(e=[{key:\"initDisplay\",value:function(){U(H(o.prototype),\"initDisplay\",this).call(this),this.graphics.drawCircle(0,0,this.defaultState.radius),null!==this.defaultState.fillColor&&this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,e,n){U(H(o.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.radius||e.lineColor||e.lineWidth||e.fillColor||e.fillAlpha||e.lineAlpha)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor),this.graphics.drawCircle(0,0,t.radius*n.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}])&&B(t.prototype,e),n&&B(t,n),o}();function G(t){return(G=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V(t,e,n){return(V=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=J(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function J(t){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Q=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(o,W);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=J(t);return n=e?(n=J(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==G(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),(t=r.call(this)).defaultState.x2=o.defaultPosition(),t.defaultState.y2=o.defaultPosition(),t}return t=o,n=[{key:\"defaultPosition\",value:function(){return 100}}],(e=[{key:\"initDisplay\",value:function(){V(J(o.prototype),\"initDisplay\",this).call(this)}},{key:\"updateDisplay\",value:function(t,e,n){V(J(o.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.lineWidth||e.lineColor||e.lineAlpha||e.x2||e.y2||e.x||e.y)&&(this.graphics.clear(),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.moveTo(0,0),this.graphics.lineTo(-this.container.x+t.x2*n.toWorldUnits,-this.container.y+t.y2*n.toWorldUnits))}}])&&N(t.prototype,e),n&&N(t,n),o}();function Z(t){return(Z=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function et(t,e,n){return(et=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ot=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(o,W);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rt(t);return n=e?(n=rt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Z(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),t=r.call(this),Object.assign(t.defaultState,{width:o.defaultSideLength(),height:o.defaultSideLength()}),t}return t=o,n=[{key:\"defaultSideLength\",value:function(){return 100}}],(e=[{key:\"initDisplay\",value:function(){et(rt(o.prototype),\"initDisplay\",this).call(this),this.graphics.drawRect(0,0,this.defaultState.width,this.defaultState.height),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,e,n){et(rt(o.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.lineWidth||e.lineColor||e.width||e.height||e.lineAlpha||e.fillColor)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawRect(0,0,t.width*n.toWorldUnits,t.height*n.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}])&&tt(t.prototype,e),n&&tt(t,n),o}();function it(t){return(it=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function st(t,e,n){return(st=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ut(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function ct(t,e){return(ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ut(t){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var lt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ct(t,e)}(o,I);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ut(t);return n=e?(n=ut(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==it(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),t=r.call(this),Object.assign(t.defaultState,{anchorX:o.defaultAnchor(),anchorY:o.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215}),t}return t=o,n=[{key:\"defaultAnchor\",value:function(){return 0}}],(e=[{key:\"initDisplay\",value:function(){st(ut(o.prototype),\"initDisplay\",this).call(this)}},{key:\"updateDisplay\",value:function(t,e,n){st(ut(o.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.anchor.set(t.anchorX,t.anchorY),this.graphics.blendMode=t.blendMode,this.graphics.tint=t.tint}}])&&at(t.prototype,e),n&&at(t,n),o}();function ft(t){return(ft=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function yt(t){var e=\"function\"==typeof Map?new Map:void 0;return(yt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return pt(t,arguments,gt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),vt(r,t)})(t)}function pt(t,e,n){return(pt=ht()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&vt(r,n.prototype),r}).apply(null,arguments)}function ht(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function vt(t,e){return(vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vt(t,e)}(e,yt(Error));var t=function(t){var e=ht();return function(){var n,r=gt(t);return n=e?(n=gt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==ft(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,'Could not find image: \"'+n+'\". Make sure it is in your assets folder and is spelled correctly.')).image=n,o.cause=r,o.name=\"MissingImageError\",o}return e}();function bt(t){return(bt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xt(t,e,n){return(xt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=St(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function wt(t,e){return(wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function St(t){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ot=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wt(t,e)}(r,lt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=St(t);return n=e?(n=St(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==bt(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{image:null,baseWidth:null,baseHeight:null,scaleMode:\"LINEAR\"}),t.missingTextures={},t}return t=r,(e=[{key:\"updateDisplay\",value:function(t,e,n){if(xt(St(r.prototype),\"updateDisplay\",this).call(this,t,e,n),e.image)try{null!==t.image?this.graphics.texture=PIXI.Texture.fromFrame(t.image):this.graphics.texture=PIXI.Texture.EMPTY,this.graphics.texture.baseTexture.scaleMode=PIXI.SCALE_MODES[t.scaleMode]}catch(e){this.missingTextures[t.image]||(this.missingTextures[t.image]=!0,l.push(new dt(t.image,e)))}e.baseWidth&&(this.graphics.width=t.baseWidth),e.baseHeight&&(this.graphics.height=t.baseHeight)}}])&&mt(t.prototype,e),r}();function Rt(t){return(Rt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pt(t,e,n){return(Pt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function jt(t,e){return(jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zt(t){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Tt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jt(t,e)}(r,Ot);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=zt(t);return n=e?(n=zt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Rt(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),n.apply(this,arguments)}return t=r,(e=[{key:\"initDisplay\",value:function(){Pt(zt(r.prototype),\"initDisplay\",this).call(this),null===this.defaultState.image?this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY):this.graphics=PIXI.Sprite.fromFrame(this.defaultState.image)}}])&&kt(t.prototype,e),r}();function _t(t,e){if(t.width>e)for(;3<t.text.length&&t.width>e;)t.text=t.text.slice(0,-4)+\"...\"}function Et(t){return(Et=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function It(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dt(t,e,n){return(Dt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ft(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Ct(t,e){return(Ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ft(t){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var At=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ct(t,e)}(r,lt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ft(t);return n=e?(n=Ft(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Et(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{text:\"\",textAlign:\"left\",strokeColor:0,strokeThickness:0,fillColor:0,fontSize:26,fontFamily:\"Lato\",fontWeight:\"normal\",maxWidth:0}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){Dt(Ft(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Text(this.defaultState.text,{align:this.defaultState.textAlign,fontSize:this.defaultState.fontSize+\"px\",fontFamily:this.defaultState.fontFamily,fill:this.defaultState.fillColor})}},{key:\"updateDisplay\",value:function(t,e,n){Dt(Ft(r.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.style.align=t.textAlign,this.graphics.style.stroke=t.strokeColor,this.graphics.style.strokeThickness=t.strokeThickness,this.graphics.style.fill=t.fillColor,this.graphics.style.fontSize=t.fontSize||1,this.graphics.style.fontFamily=t.fontFamily,this.graphics.style.fontWeight=t.fontWeight,(e.text||e.strokeThickness||e.fontSize||e.fontFamily||e.fontWeight||e.maxWidth||e.maxWidth)&&(this.graphics.text=t.text,t.maxWidth&&_t(this.graphics,t.maxWidth))}}])&&It(t.prototype,e),r}();function Kt(t){return(Kt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Mt(t){var e=\"function\"==typeof Map?new Map:void 0;return(Mt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Wt(t,arguments,Ut(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Bt(r,t)})(t)}function Wt(t,e,n){return(Wt=Xt()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&Bt(r,n.prototype),r}).apply(null,arguments)}function Xt(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Bt(t,e){return(Bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ut(t){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Lt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bt(t,e)}(e,Mt(Error));var t=function(t){var e=Xt();return function(){var n,r=Ut(t);return n=e?(n=Ut(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Kt(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,'Could not find font: \"'+n+'\". Make sure it is in your assets folder and is spelled correctly.')).font=n,o.cause=r,o.name=\"MissingBitmapFontError\",o}return e}();function Ht(t){return(Ht=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gt(t,e,n){return(Gt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Nt(t,e){return(Nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vt(t){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nt(t,e)}(r,I);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Vt(t);return n=e?(n=Vt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Ht(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{text:\"\",textAlign:\"left\",fontSize:26,fontFamily:null,anchorX:lt.defaultAnchor(),anchorY:lt.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215,maxWidth:0}),t.missingFonts={},t}return t=r,(e=[{key:\"initDisplay\",value:function(){Gt(Vt(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(t,e,n){Gt(Vt(r.prototype),\"updateDisplay\",this).call(this,t,e,n),null!==t.fontFamily?PIXI.extras.BitmapText.fonts[t.fontFamily]?(0===this.graphics.children.length?(this.displayed=new PIXI.extras.BitmapText(\"\",{font:{size:t.fontSize||1,name:t.fontFamily}}),this.graphics.addChild(this.displayed)):this.displayed.font={size:t.fontSize||1,name:t.fontFamily},this.displayed.anchor.set(t.anchorX,t.anchorY),this.displayed.blendMode=t.blendMode,this.displayed.tint=t.tint,this.displayed.align=t.textAlign,(e.text||e.maxWidth||e.fontSize||e.fontFamily)&&(this.displayed.text=t.text,t.maxWidth&&_t(this.displayed,t.maxWidth))):(this.missingFonts[t.fontFamily]||(this.missingFonts[t.fontFamily]=!0,l.push(new Lt(t.fontFamily))),this.graphics.removeChildren()):this.graphics.removeChildren()}}])&&Yt(t.prototype,e),r}();function $t(t){return($t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qt(t,e,n){return(Qt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=te(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Zt(t,e){return(Zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function te(t){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ee=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zt(t,e)}(r,I);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=te(t);return n=e?(n=te(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==$t(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{children:[]}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){Qt(te(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(t,e,n){Qt(te(r.prototype),\"updateDisplay\",this).call(this,t,e,n)}},{key:\"childrenContainer\",get:function(){return this.graphics}}])&&Jt(t.prototype,e),r}();function ne(t){return(ne=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function re(t,e){return(re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oe(t){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ie=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re(t,e)}(e,ee);var t=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=oe(t);return n=e?(n=oe(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==ne(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),t.apply(this,arguments)}return e}(),ae=null,se=[],ce=1920,ue=1080;function le(t){return(le=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ye(t,e,n){return(ye=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=he(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function pe(t,e){return(pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function he(t){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ve=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pe(t,e)}(r,ee);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=he(t);return n=e?(n=he(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==le(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),n.apply(this,arguments)}return t=r,(e=[{key:\"initDisplay\",value:function(){var t;ye(he(r.prototype),\"initDisplay\",this).call(this),this.gameTexture=PIXI.RenderTexture.create(ce,ue),t=this.gameTexture,se.push(t),this.graphics=new PIXI.Sprite(this.gameTexture),this.buffer=new PIXI.Container,this.needsRender=!0}},{key:\"postUpdate\",value:function(){this.needsRender&&(ae.render(this.buffer,this.gameTexture),this.needsRender=!1)}},{key:\"childrenContainer\",get:function(){return this.buffer}},{key:\"notifyChange\",value:function(){this.needsRender=!0,this.parent&&this.parent.notifyChange()}}])&&fe(t.prototype,e),r}();function ge(t){return(ge=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function de(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function be(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?de(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xe(t,e,n){return(xe=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Se(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function we(t,e){return(we=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Se(t){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Oe=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&we(t,e)}(r,lt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Se(t);return n=e?(n=Se(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==ge(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{images:\"\",loop:!1,duration:1e3,playing:!0,restarted:null,animationProgress:0,date:0}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){xe(Se(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY)}},{key:\"addState\",value:function(t,e,n,o){xe(Se(r.prototype),\"addState\",this).call(this,t,e,n),n=this.states[n].find((function(e){return e.t===t})),o=o.date+o.frameDuration*t,n.date=o}},{key:\"updateDisplay\",value:function(t,e,n,o,i){if(xe(Se(r.prototype),\"updateDisplay\",this).call(this,t,e,n),t.images){if(n=t.images.split(\",\"),0<=t.animationProgress){i=o.date+o.frameDuration*i,i=be(be({},t),{},{date:i}),this.computeAnimationProgressTime(t,i),i=Math.floor(n.length*i.animationProgress),n=t.loop?n[i%n.length]:n[i]||n[n.length-1];try{this.graphics.texture=PIXI.Texture.fromFrame(n)}catch(t){l.push(new dt(n,t))}}}else this.graphics.texture=PIXI.Texture.EMPTY}},{key:\"computeAnimationProgressTime\",value:function(t,e){e.restarted&&e.restarted.date===e.date?e.animationProgress=0:(e.animationProgress=t.animationProgress,t.playing&&(e.animationProgress+=(e.date-t.date)/t.duration))}}])&&me(t.prototype,e),r}();function Re(t){return(Re=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function ke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pe(t,e,n){return(Pe=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ze(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function je(t,e){return(je=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ze(t){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Te=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&je(t,e)}(o,W);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ze(t);return n=e?(n=ze(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Re(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),t=r.call(this),Object.assign(t.defaultState,{width:o.defaultSideLength(),height:o.defaultSideLength(),radius:o.defaultRadius()}),t}return t=o,n=[{key:\"defaultSideLength\",value:function(){return 100}},{key:\"defaultRadius\",value:function(){return 20}}],(e=[{key:\"initDisplay\",value:function(){Pe(ze(o.prototype),\"initDisplay\",this).call(this),this.graphics.drawRoundedRect(0,0,this.defaultState.width,this.defaultState.height,this.defaultState.radius),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,e,n){Pe(ze(o.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.lineWidth||e.lineColor||e.lineAlpha||e.fillColor||e.radius||e.height||e.width)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawRoundedRect(0,0,t.width*n.toWorldUnits,t.height*n.toWorldUnits,t.radius*n.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}])&&ke(t.prototype,e),n&&ke(t,n),o}();function _e(t){return(_e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ie(t,e,n){return(Ie=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ce(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function De(t,e){return(De=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ce(t){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fe=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&De(t,e)}(r,W);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ce(t);return n=e?(n=Ce(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==_e(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{points:[]}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){Ie(Ce(r.prototype),\"initDisplay\",this).call(this),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,e,n){Ie(Ce(r.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.lineWidth||e.lineColor||e.lineAlpha||e.fillColor||e.points)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawPolygon(t.points.map((function(t){return t*n.toWorldUnits}))),null!==t.fillColor&&this.graphics.endFill())}}])&&Ee(t.prototype,e),r}();function Ae(t){return(Ae=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Ke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Me(t,e,n){return(Me=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xe(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function We(t,e){return(We=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xe(t){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Be=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&We(t,e)}(r,Ot);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xe(t);return n=e?(n=Xe(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Ae(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{tileX:0,tileY:0,tileScaleX:1,tileScaleY:1}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){Me(Xe(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.extras.TilingSprite(PIXI.Texture.EMPTY)}},{key:\"updateDisplay\",value:function(t,e,n){Me(Xe(r.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.tilePosition.x=t.tileX,this.graphics.tilePosition.y=t.tileY,this.graphics.tileScale.x=t.tileScaleX,this.graphics.tileScale.y=t.tileScaleY}}])&&Ke(t.prototype,e),r}();function Ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Le=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"create\",value:function(t){var e={C:Y,R:ot,L:Q,S:Tt,T:At,X:qt,G:ie,B:ve,A:Oe,K:Te,P:Fe,D:Be}[t];if(!e)throw new Error(\"Exception: entity type not found: \"+t);return new e}}],null&&Ue(e.prototype,null),n&&Ue(e,n),t}();function He(t){var e=1.70158,n=0,r=1;return 0===t?0:1==(t/=1)?1:(n=n||.3,e=r<Math.abs(1)?(r=1,n/4):n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*t)*Math.sin((+t-e)*(2*Math.PI)/n)+1)}function Ye(t){return t<.5?2*t*t:(4-2*t)*t-1}function Ge(t){return Math.pow(t,3)}function Ne(t){return 1+Math.pow(t-1,3)}function Ve(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qe(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function $e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Je(t,e,n){return e&&$e(t.prototype,e),n&&$e(t,n),t}var Qe={r:\"rotation\",R:\"radius\",X:\"x2\",Y:\"y2\",w:\"width\",h:\"height\",t:\"tint\",f:\"fillColor\",F:\"fillAlpha\",c:\"lineColor\",W:\"lineWidth\",A:\"lineAlpha\",a:\"alpha\",i:\"image\",S:\"strokeThickness\",sc:\"strokeColor\",ff:\"fontFamily\",s:\"fontSize\",fw:\"fontWeight\",T:\"text\",ta:\"textAlign\",ch:\"children\",sx:\"scaleX\",sy:\"scaleY\",ax:\"anchorX\",ay:\"anchorY\",kx:\"skewX\",ky:\"skewY\",v:\"visible\",z:\"zIndex\",b:\"blendMode\",I:\"images\",rs:\"restarted\",p:\"playing\",l:\"loop\",d:\"duration\",bw:\"baseWidth\",bh:\"baseHeight\",ps:\"points\",tx:\"tileX\",ty:\"tileY\",tsx:\"tileScaleX\",tsy:\"tileScaleY\",sm:\"scaleMode\"};n=function(){function t(e,n){qe(this,t),this.id=++n.instanceCount,this.type=e[0]}return Je(t,[{key:\"apply\",value:function(t){var e=Le.create(this.type);e.id=this.id,t.set(this.id,e)}}]),t}(),S=function(){function t(e,n){var o=(l=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&(\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"]);if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return Ve(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}(e,8))[0],i=(e=l[1],l[2]),a=l[3],s=l[4],c=l[5],u=l[6],l=l[7];qe(this,t),this.loader=new PIXI.loaders.Loader,\"0\"===i&&(i=PIXI.utils.TextureCache[e].width),\"0\"===a&&(a=PIXI.utils.TextureCache[e].height);for(var f=0<l?l:u,y={frames:{},meta:{image:(r.baseUrl||\"\")+r.images[e]}},p=0;p<u;p++)y.frames[1<u?o+p:o]={frame:{x:i*c+p%f*i,y:a*s+Math.floor(p/f)*a,w:i,h:a},sourceSize:{w:i,h:a},rotated:!1,trimmed:!1};e=\"data:text/json;charset=UTF-8,\"+JSON.stringify(y),PIXI.utils.TextureCache[e+\"_image\"]||this.loader.add(e,{crossOrigin:!0})}return Je(t,[{key:\"apply\",value:function(){var t=this;if(0<Object.keys(this.loader.resources).length)return new Promise((function(e){t.loader.load(),t.loader.on(\"complete\",e)}))}}]),t}();function Ze(t){return function(t){if(Array.isArray(t))return tn(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return tn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tn(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function tn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function en(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var nn={C:n,U:function(){function t(e,n,r){qe(this,t),this.id=+e[0],this.t=+e[1],this.params={},this.curve={};for(var o=2;o<e.length;){var i=Qe[e[o]]||e[o],a=k[i]||k.default,s=a.type(e[o+1]);\"function\"==typeof a.convert&&(s=a.convert(s,n,r,this.t)),a=t.curves[e[o+2]],this.params[i]=s,o+=2,a&&(this.curve[i]=a,o+=1)}}return Je(t,[{key:\"apply\",value:function(t,e){(t=t.get(this.id)).addState(this.t,{values:this.params,curve:this.curve},e.number,e),t.stateAdded=!0}}],[{key:\"curves\",get:function(){return{_:function(t){return t<1?0:1},\"âˆ«\":Ye,\"ðŸ™–\":Ge,\"ðŸ™’\":Ne,\"~\":He,\"Î“\":function(t){return 1}}}}]),t}(),L:S};function rn(t,e){for(var n=[],r=\"\",o=0,i=\"\",a=!1;o<t.length;){var s=t[o++];s===e?a?r+=s:(n.push(r),r=\"\"):\"'\"===s&&\"\\\\\"!==i?(a=!a,r+=s):\"\\\\\"===i?r+=\"'\"===s?\"\\\\'\":\"\\\\\"+s:\"\\\\\"!==s&&(r+=s),i=s}return n.push(r),n}var on=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"parse\",value:function(t,e,n){var r,o=[],i=rn(t,\"\\n\");for(r in i){var a=nn[i[r][0]];if(!a)throw new Error(\"Unrecognised command : \"+i[r][0]);o=[].concat(Ze(o),Ze(function(t,e,n,r){e=rn(e,\";\");var o=[];return e.forEach((function(e){return o.push(new t(rn(e,\" \"),n,r))})),o}(a,i[r].slice(1),e,n)))}return o}}],null&&en(e.prototype,null),n&&en(e,n),t}();function an(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function cn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sn(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function un(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ln={};n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.entities=new Map,this.frames=[],this.loadingAssets=0,this.extrapolationMap={},this.globalData={toWorldUnits:1,mustResetTree:!0,mustResort:!0,maskUpdates:{},updatedBuffers:[],players:[],instanceCount:0},ln.entities=this.entities}var e,n,r;return e=t,r=[{key:\"name\",get:function(){return\"entitymodule\"}}],(n=[{key:\"handleFrameData\",value:function(t,e){var n=this;!e||(r=on.parse(e,this.globalData,t))&&r.forEach((function(e){(e=e.apply(n.entities,t))&&(n.loadingAssets++,e.then((function(){n.loadingAssets--})))}));var r=cn({},t);return r.previous=this.frames[this.frames.length-1]||r,this.extrapolate(r),r!==r.previous&&(r.previous.next=r),this.frames.push(r),r}},{key:\"lastElementOf\",value:function(t){return t[t.length-1]}},{key:\"extrapolate\",value:function(t){var e=this,n=t.number,r=t.previous.number;this.entities.forEach((function(o){var i,a;o.stateAdded&&(o.stateAdded=!1,o.states[n]||(o.states[n]=[]),e.extrapolationMap[o.id]||(e.extrapolationMap[o.id]=cn({},o.defaultState)),(i=o.states[n]).sort((function(t,e){return t.t-e.t})),i.length&&1===e.lastElementOf(i).t||o.addState(1,{},n,t),a=e.extrapolationMap[o.id],o.states[r]&&r!==n&&(a=o.states[r][o.states[r].length-1]),o.states[n]=i.map((function(t){return t=e.extrapolationMap[o.id]=cn(cn({},e.extrapolationMap[o.id]),t),\"function\"==typeof o.computeAnimationProgressTime&&o.computeAnimationProgressTime(a,t),a=t})))}))}},{key:\"reinitScene\",value:function(t,e){this.globalData.toPixel=ce/e.width*e.oversampling,this.globalData.mustResetTree=!0,ln.container=this.container=t,this.entities.forEach((function(t){t.init()}))}},{key:\"sortChildren\",value:function(t){t.children.sort((function(t,e){return t.zIndex===e.zIndex?t.id-e.id:t.zIndex-e.zIndex}))}},{key:\"stillLoading\",value:function(){return 0<this.loadingAssets}},{key:\"updateScene\",value:function(t,e,n){var r=this;if(!this.stillLoading()){for(var o in this.entities.forEach((function(t){return t.render(n,e,r.globalData)})),this.globalData.mustResetTree&&(this.reconstructTree(),this.globalData.mustResetTree=!1,this.globalData.mustResort=!0),this.globalData.mustResort&&(this.resortTree(),this.globalData.mustResort=!1),this.globalData.maskUpdates){var i=this.entities.get(+o);o=this.globalData.maskUpdates[o];i.container.mask=-1===o?null:this.entities.get(o).graphics}var a,s=function(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return an(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?an(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(this.globalData.updatedBuffers);try{for(s.s();!(a=s.n()).done;)a.value.postUpdate()}catch(t){s.e(t)}finally{s.f()}this.globalData.maskUpdates={}}}},{key:\"resortTree\",value:function(){var t=this;this.entities.forEach((function(e){e instanceof ee&&t.sortChildren(e.childrenContainer)})),this.sortChildren(this.container)}},{key:\"reconstructTree\",value:function(){var t=this;this.container.removeChildren(),this.entities.forEach((function(e){e instanceof ee&&(e.childrenContainer.removeChildren(),e.currentState.children.forEach((function(n){n=t.entities.get(n),e.childrenContainer.addChild(n.container),n.parent=e})))})),this.entities.forEach((function(e){e.container.parent||t.container.addChild(e.container)}))}},{key:\"handleGlobalData\",value:function(t,e){this.globalData.players=t,t=e.width,e=e.height,this.globalData.toWorldUnits=a(t,e,ce,ue),ln.toWorldUnits=this.globalData.toWorldUnits,ln.hasOwnProperty(\"coeff\")||Object.defineProperty(ln,\"coeff\",{get:function(){var t='The \"coeff\" property of GraphicEntityModule\\'s API is deprecated, please use \"toWorldUnits\" instead',e=(new Error).stack;return console.groupCollapsed?(console.groupCollapsed(\"%cDeprecation Warning: %c%s\",\"color:#614108;background:#fffbe6\",\"font-weight:normal;color:#614108;background:#fffbe6\",t),console.warn(e),console.groupEnd()):console.warn(\"Deprecation Warning: \",t),ln.toWorldUnits}})}}])&&un(e.prototype,n),r&&un(e,r),t}();function fn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function yn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fn(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hn(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return vn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vn(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function vn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gn(t,e){return(e=function(t,e){if(t.states[e])return t.states[e];for(var n=Object.keys(t.states),r=n.length-1;0<=r&&n[r]>e;)r--;return t.states[n[r]]||[]}(t,e))&&e.length?e[e.length-1]:null}function dn(t){return(dn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function bn(t){var e=\"function\"==typeof Map?new Map:void 0;return(bn=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return mn(t,arguments,Sn(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),wn(r,t)})(t)}function mn(t,e,n){return(mn=xn()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&wn(r,n.prototype),r}).apply(null,arguments)}function xn(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function wn(t,e){return(wn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Sn(t){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}S=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.interactive={},this.previousFrame={registered:{}},this.lastProgress=1,this.lastFrame=0}var e,n,r;return e=t,r=[{key:\"name\",get:function(){return\"tooltips\"}}],(n=[{key:\"updateScene\",value:function(t,e,n){this.currentFrame=e,this.currentProgress=n}},{key:\"handleFrameData\",value:function(t){var e=this,n=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:[])[0]||[],r=yn(yn({},this.previousFrame.registered),n);return Object.keys(n).forEach((function(t){e.interactive[t]=!0})),t={registered:r,number:t.number},this.previousFrame=t}},{key:\"reinitScene\",value:function(t){var e,n,r,o=this;this.tooltip=this.initTooltip(),ln.entities.forEach((function(t){var e,n,r,i,a,s;o.interactive[t.id]&&(t.container.interactive=!0,\"function\"==typeof(t.graphics&&t.graphics.containsPoint)?t.container.mousemove=(a=t,s=o.tooltip,function(t){a.graphics.containsPoint(t.data.global)?s.inside[a.id]=!0:delete s.inside[a.id]}):(t.container.mouseover=(r=t.id,i=o.tooltip,function(){i.inside[r]=!0}),t.container.mouseout=(e=t.id,n=o.tooltip,function(){delete n.inside[e]})))})),(this.container=t).interactive=!0,t.mousemove=(e=this.tooltip,n=t,r=this,function(t){if(e){t=t.data.getLocalPosition(n),e.x=t.x,e.y=t.y;var o,i=[],a=hn(Object.keys(e.inside).map((function(t){return+t})));try{for(a.s();!(o=a.n()).done;){var s,c=o.value;e.inside[c]&&((s=ln.entities.get(c))&&gn(s,r.currentFrame.number)?i.push(c):delete e.inside[c])}}catch(t){a.e(t)}finally{a.f()}if(i.length){var u,l=[],f=hn(i);try{for(f.s();!(u=f.n()).done;){var y,p=u.value;null===gn(ln.entities.get(p),r.currentFrame.number)||(y=r.currentFrame.registered[p])&&y.length&&\"0\"!==String(y).valueOf()&&(e.visible=!0,l.push(y))}}catch(t){f.e(t)}finally{f.f()}e.label.text=l.join(\"\\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\\n\")}else e.visible=!1;e.background.width=e.label.width+20,e.background.height=e.label.height+20,e.pivot.x=-30,e.pivot.y=-50,e.y-e.pivot.y+e.height>ue&&(e.pivot.y=10+e.height,e.y-=e.y-e.pivot.y+e.height-ue),e.x-e.pivot.x+e.width>ce&&(e.pivot.x=e.width)}}),t.addChild(this.tooltip)}},{key:\"generateText\",value:function(t,e,n,r){return(n=new PIXI.Text(t,{fontSize:Math.round(e/1.2)+\"px\",fontFamily:\"Lato\",fontWeight:\"bold\",fill:n})).lineHeight=Math.round(e/1.2),\"right\"===r?n.anchor.x=1:\"center\"===r&&(n.anchor.x=.5),n}},{key:\"initTooltip\",value:function(){var t=new PIXI.Container,e=t.background=new PIXI.Graphics,n=t.label=this.generateText(\"\",36,16777215,\"left\");return e.beginFill(0,.7),e.drawRect(0,0,200,185),e.endFill(),e.x=-10,e.y=-10,t.visible=!1,t.inside={},t.addChild(e),t.addChild(n),t.interactiveChildren=!1,t}}])&&pn(e.prototype,n),r&&pn(e,r),t}();var On=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wn(t,e)}(e,bn(Error));var t=function(t){var e=xn();return function(){var n,r=Sn(t);return n=e?(n=Sn(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==dn(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,'Could not find toggle: \"'+n+'\". Make sure it is set up correctly in your config.js.')).toggle=n,o.cause=r,o.name=\"MissingToggleError\",o}return e}();function Rn(t){return(Rn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function kn(t){var e=\"function\"==typeof Map?new Map:void 0;return(kn=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Pn(t,arguments,Tn(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),zn(r,t)})(t)}function Pn(t,e,n){return(Pn=jn()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&zn(r,n.prototype),r}).apply(null,arguments)}function jn(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function zn(t,e){return(zn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tn(t){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _n=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zn(t,e)}(e,kn(Error));var t=function(t){var e=jn();return function(){var n,r=Tn(t);return n=e?(n=Tn(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Rn(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(n,r,o){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(r=t.call(this,\"(\"+r.keys.toString()+\") have the same value '\"+r.value+\"' in toggle \\\"\"+n+'\". Avoid those duplicates in your config.js.')).toggle=n,r.cause=o,r.name=\"DuplicateToggleValueError\",r}return e}();function En(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return In(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?In(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function In(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Cn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dn(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var An=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.previousFrame={},this.missingToggles={},t.refreshContent=function(){if(n.currentFrame)for(var e in n.currentFrame.registered){var r=ln.entities.get(parseInt(e)),o=n.currentFrame.registered[e];null!=(e=t.toggles[o.name])||n.missingToggles[o.name]||(l.push(new On(o.name)),n.missingToggles[o.name]=!0),r.setHidden(e!==o.state)}},function(){for(var t in An.optionValues){var e,n=En(An.optionValues[t]);try{for(n.s();!(e=n.n()).done;){var r=e.value;1<r.keys.length&&l.push(new _n(t,r))}}catch(t){n.e(t)}finally{n.f()}}}()}var e,n,r;return e=t,r=[{key:\"refreshContent\",value:function(){}},{key:\"defineToggle\",value:function(e){return function(t){for(var e in An.optionValues[t.toggle]=[],t.values)!function(e){var n=t.values[e],r=An.optionValues[t.toggle].find((function(t){return t.value===n}));r||An.optionValues[t.toggle].push(r={keys:[],value:n}),r.keys.push(e)}(e)}(e),t.toggles[e.toggle]=e.default,e.get=function(){return t.toggles[e.toggle]},e.set=function(n){t.toggles[e.toggle]=n,t.refreshContent()},e}},{key:\"name\",get:function(){return\"toggles\"}}],(n=[{key:\"updateScene\",value:function(e,n,r){this.currentFrame=n,this.currentProgress=r,t.refreshContent()}},{key:\"handleFrameData\",value:function(t,e){if(e)return e=e[0],t={registered:Cn(Cn({},this.previousFrame.registered),e),number:t.number},this.previousFrame=t}},{key:\"reinitScene\",value:function(e,n){t.refreshContent()}}])&&Fn(e.prototype,n),r&&Fn(e,r),t}();An.toggles={},An.optionValues={};var Kn=[n,S,An],Mn=[An.defineToggle({toggle:\"toggleLegalMoves\",title:\"LEGAL MOVES\",values:{SHOW:!0,HIDE:!1},default:!0})],Wn={views:['KEY_FRAME 0\\n{\"global\":{\"entitymodule\":{\"width\":1920,\"height\":1080}},\"frame\":{\"entitymodule\":\"CG;S;S;S;S;T;S;S;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;R;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;T;T;T;T;T;T;T;T;T;T;T;T;T\\\\nU276 1 f 0 ay 0 v 1 ax 0 a 1 x 120 y 540 s 60 T \\' 9.\\' z 3;116 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1250 y 779 z 12;238 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1359 y 234 z 12;52 1 v 1 a 0 x 1005 w 109 y 316 z 2 h 109;47 1 v 1 a 0 x 1332 w 109 y 425 z 2 h 109;119 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1359 y 779 z 12;151 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 814 y 561 z 12;211 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1250 y 343 z 12;271 1 f 0 ay 0 v 1 ax 0 a 1 x 120 y 240 s 60 T \\' 4.\\' z 3;29 1 v 1 a 0 x 1114 w 109 y 643 z 2 h 109;2 1 i background.png v 1 z 0;82 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 923 y 888 z 12;140 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1250 y 670 z 12;8 1 sx 0.4 i blackChar.png sy 0.4 v 0 x 1630 y 760 z 99;50 1 v 1 a 0 x 787 w 109 y 316 z 2 h 109;233 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1141 y 234 z 12;118 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1359 y 779 z 12;171 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1468 y 561 z 13;127 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 814 y 670 z 12;87 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1032 y 888 z 13;183 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1032 y 452 z 13;243 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1468 y 234 z 13;216 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1359 y 343 z 13;12 1 v 1 a 0 x 1005 w 109 y 861 z 2 h 109;85 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1032 y 888 z 12;236 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1250 y 234 z 12;158 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1032 y 561 z 12;95 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1359 y 888 z 12;32 1 v 1 a 0 x 1441 w 109 y 643 z 2 h 109;121 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1468 y 779 z 12;190 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1359 y 452 z 12;14 1 v 1 a 0 x 1223 w 109 y 861 z 2 h 109;58 1 v 1 a 0 x 787 w 109 y 207 z 2 h 109;246 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 705 y 125 z 13;193 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1468 y 452 z 12;204 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 923 y 343 z 13;88 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1141 y 888 z 12;7 1 sx 0.4 i whiteChar.png sy 0.4 v 1 x 1630 y 760 z 99;251 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 923 y 125 z 12;72 1 v 1 a 0 x 1441 w 109 y 98 z 2 h 109;124 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 705 y 670 z 12;278 1 f 0 ay 0 v 1 ax 0 a 1 x 120 y 660 s 60 T 11. z 3;62 1 v 1 a 0 x 1223 w 109 y 207 z 2 h 109;96 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1359 y 888 z 13;74 1 x 896 i whiteKing.png y 207 v 1 z 9;84 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 923 y 888 z 13;107 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 923 y 779 z 12;11 1 v 1 a 0 x 896 w 109 y 861 z 2 h 109;83 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 923 y 888 z 12;260 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1250 y 125 z 12;223 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 814 y 234 z 12;9 1 v 1 a 0 x 678 w 109 y 861 z 2 h 109;94 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1359 y 888 z 12;178 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 923 y 452 z 12;176 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 814 y 452 z 12;195 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1468 y 452 z 13;167 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1359 y 561 z 12;268 1 f 0 ay 0 v 1 ax 0 a 1 x 120 y 60 s 60 T \\' 1.\\' z 3;242 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1468 y 234 z 12;138 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1141 y 670 z 13;261 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1250 y 125 z 13;218 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1468 y 343 z 12;26 1 v 1 a 0 x 787 w 109 y 643 z 2 h 109;30 1 v 1 a 0 x 1223 w 109 y 643 z 2 h 109;175 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 814 y 452 z 12;46 1 v 1 a 0 x 1223 w 109 y 425 z 2 h 109;126 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 705 y 670 z 13;244 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 705 y 125 z 12;229 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1032 y 234 z 12;197 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 705 y 343 z 12;173 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 705 y 452 z 12;89 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1141 y 888 z 12;201 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 814 y 343 z 13;255 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1032 y 125 z 13;102 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 705 y 779 z 13;214 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1359 y 343 z 12;180 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 923 y 452 z 13;56 1 v 1 a 0 x 1441 w 109 y 316 z 2 h 109;16 1 v 1 a 0 x 1441 w 109 y 861 z 2 h 109;99 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1468 y 888 z 13;1 1 v 1 ch 86,219,221,239,116,238,131,164,267,119,151,211,82,174,210,140,97,130,188,233,118,171,166,127,137,87,159,183,243,216,224,227,143,217,85,236,158,95,252,121,100,133,190,246,203,193,204,88,146,152,251,124,96,84,107,162,83,260,223,230,161,240,163,94,178,205,176,202,195,167,242,154,138,144,261,218,148,175,157,177,92,126,244,229,254,78,103,253,197,232,173,89,262,201,255,102,168,114,132,257,214,180,192,206,99,139,207,165,108,198,90,241,200,141,109,105,196,125,259,191,112,215,256,91,120,237,113,142,194,263,156,265,222,209,129,186,77,213,110,153,248,115,169,184,101,264,145,150,80,134,220,250,147,155,93,247,170,76,181,122,128,136,81,185,199,226,234,98,258,123,228,235,212,117,249,208,135,266,111,160,106,187,172,149,231,182,189,245,225,104,79,179 z 66;198 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 705 y 343 z 13;241 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1468 y 234 z 12;200 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 814 y 343 z 12;141 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1250 y 670 z 13;109 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1032 y 779 z 12;105 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 814 y 779 z 13;125 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 705 y 670 z 12;259 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1250 y 125 z 12;191 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1359 y 452 z 12;5 1 x 1630 i saybg.png y 450 v 0 z 2;120 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1359 y 779 z 13;237 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1250 y 234 z 13;142 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1359 y 670 z 12;263 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1359 y 125 z 12;156 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 923 y 561 z 13;280 1 f 0 ay 0 v 1 ax 0 a 1 x 120 y 780 s 60 T 13. z 3;129 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 814 y 670 z 13;186 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1141 y 452 z 13;77 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 705 y 888 z 12;213 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1250 y 343 z 13;248 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 814 y 125 z 12;28 1 v 1 a 0 x 1005 w 109 y 643 z 2 h 109;169 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1468 y 561 z 12;184 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1141 y 452 z 12;264 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1359 y 125 z 13;53 1 v 1 a 0 x 1114 w 109 y 316 z 2 h 109;134 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1032 y 670 z 12;19 1 v 1 a 0 x 896 w 109 y 752 z 2 h 109;60 1 v 1 a 0 x 1005 w 109 y 207 z 2 h 109;22 1 v 1 a 0 x 1223 w 109 y 752 z 2 h 109;93 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1250 y 888 z 13;247 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 814 y 125 z 12;170 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1468 y 561 z 12;272 1 f 0 ay 0 v 1 ax 0 a 1 x 120 y 300 s 60 T \\' 5.\\' z 3;42 1 v 1 a 0 x 787 w 109 y 425 z 2 h 109;76 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 705 y 888 z 12;54 1 v 1 a 0 x 1223 w 109 y 316 z 2 h 109;35 1 v 1 a 0 x 896 w 109 y 534 z 2 h 109;185 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1141 y 452 z 12;199 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 814 y 343 z 12;226 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 923 y 234 z 12;49 1 v 1 a 0 x 678 w 109 y 316 z 2 h 109;51 1 v 1 a 0 x 896 w 109 y 316 z 2 h 109;258 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1141 y 125 z 13;228 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 923 y 234 z 13;235 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1250 y 234 z 12;212 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1250 y 343 z 12;208 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1141 y 343 z 12;111 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1032 y 779 z 13;160 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1141 y 561 z 12;172 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 705 y 452 z 12;149 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 705 y 561 z 12;231 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1032 y 234 z 13;182 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1032 y 452 z 12;245 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 705 y 125 z 12;18 1 v 1 a 0 x 787 w 109 y 752 z 2 h 109;23 1 v 1 a 0 x 1332 w 109 y 752 z 2 h 109;10 1 v 1 a 0 x 787 w 109 y 861 z 2 h 109;104 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 814 y 779 z 12;79 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 814 y 888 z 12;179 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 923 y 452 z 12;59 1 v 1 a 0 x 896 w 109 y 207 z 2 h 109;86 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1032 y 888 z 12;219 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1468 y 343 z 13;17 1 v 1 a 0 x 678 w 109 y 752 z 2 h 109;221 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 705 y 234 z 12;239 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1359 y 234 z 12;131 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 923 y 670 z 12;164 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1250 y 561 z 12;275 1 f 0 ay 0 v 1 ax 0 a 1 x 120 y 480 s 60 T \\' 8.\\' z 3;267 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1468 y 125 z 13;70 1 v 1 a 0 x 1223 w 109 y 98 z 2 h 109;174 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 705 y 452 z 13;210 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1141 y 343 z 13;64 1 v 1 a 0 x 1441 w 109 y 207 z 2 h 109;97 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1468 y 888 z 12;130 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 923 y 670 z 12;45 1 v 1 a 0 x 1114 w 109 y 425 z 2 h 109;188 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1250 y 452 z 12;68 1 v 1 a 0 x 1005 w 109 y 98 z 2 h 109;166 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1359 y 561 z 12;61 1 v 1 a 0 x 1114 w 109 y 207 z 2 h 109;63 1 v 1 a 0 x 1332 w 109 y 207 z 2 h 109;137 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1141 y 670 z 12;159 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1032 y 561 z 13;224 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 814 y 234 z 12;227 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 923 y 234 z 12;143 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1359 y 670 z 12;217 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1468 y 343 z 12;69 1 v 1 a 0 x 1114 w 109 y 98 z 2 h 109;252 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 923 y 125 z 13;34 1 v 1 a 0 x 787 w 109 y 534 z 2 h 109;273 1 f 0 ay 0 v 1 ax 0 a 1 x 120 y 360 s 60 T \\' 6.\\' z 3;100 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 705 y 779 z 12;133 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1032 y 670 z 12;57 1 v 1 a 0 x 678 w 109 y 207 z 2 h 109;44 1 v 1 a 0 x 1005 w 109 y 425 z 2 h 109;203 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 923 y 343 z 12;39 1 v 1 a 0 x 1332 w 109 y 534 z 2 h 109;6 1 f 0 ay 0.5 v 1 ta 1 ax 0.5 x 1771 y 580 s 40 T  z 5;43 1 v 1 a 0 x 896 w 109 y 425 z 2 h 109;146 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1468 y 670 z 12;152 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 814 y 561 z 12;279 1 f 0 ay 0 v 1 ax 0 a 1 x 120 y 720 s 60 T 12. z 3;162 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1141 y 561 z 13;33 1 v 1 a 0 x 678 w 109 y 534 z 2 h 109;274 1 f 0 ay 0 v 1 ax 0 a 1 x 120 y 420 s 60 T \\' 7.\\' z 3;230 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1032 y 234 z 12;161 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1141 y 561 z 12;240 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1359 y 234 z 13;163 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1250 y 561 z 12;205 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1032 y 343 z 12;36 1 v 1 a 0 x 1005 w 109 y 534 z 2 h 109;202 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 923 y 343 z 12;25 1 v 1 a 0 x 678 w 109 y 643 z 2 h 109;24 1 v 1 a 0 x 1441 w 109 y 752 z 2 h 109;154 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 923 y 561 z 12;144 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1359 y 670 z 13;148 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 705 y 561 z 12;27 1 v 1 a 0 x 896 w 109 y 643 z 2 h 109;48 1 v 1 a 0 x 1441 w 109 y 425 z 2 h 109;157 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1032 y 561 z 12;177 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 814 y 452 z 13;92 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1250 y 888 z 12;3 1 x 600 i board.png y 20 v 1 z 1;20 1 v 1 a 0 x 1005 w 109 y 752 z 2 h 109;254 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1032 y 125 z 12;67 1 v 1 a 0 x 896 w 109 y 98 z 2 h 109;78 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 705 y 888 z 13;65 1 v 1 a 0 x 678 w 109 y 98 z 2 h 109;103 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 814 y 779 z 12;253 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1032 y 125 z 12;232 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1141 y 234 z 12;71 1 v 1 a 0 x 1332 w 109 y 98 z 2 h 109;15 1 v 1 a 0 x 1332 w 109 y 861 z 2 h 109;262 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1359 y 125 z 12;168 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1359 y 561 z 13;270 1 f 0 ay 0 v 1 ax 0 a 1 x 120 y 180 s 60 T \\' 3.\\' z 3;114 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1141 y 779 z 13;132 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 923 y 670 z 13;257 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1141 y 125 z 12;4 1 x 40 i flag.png y 20 v 1 z 2;31 1 v 1 a 0 x 1332 w 109 y 643 z 2 h 109;192 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1359 y 452 z 13;206 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1032 y 343 z 12;139 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1250 y 670 z 12;207 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1032 y 343 z 13;165 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1250 y 561 z 13;108 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 923 y 779 z 13;38 1 v 1 a 0 x 1223 w 109 y 534 z 2 h 109;90 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1141 y 888 z 13;13 1 v 1 a 0 x 1114 w 109 y 861 z 2 h 109;55 1 v 1 a 0 x 1332 w 109 y 316 z 2 h 109;196 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 705 y 343 z 12;21 1 v 1 a 0 x 1114 w 109 y 752 z 2 h 109;112 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1141 y 779 z 12;215 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1359 y 343 z 12;256 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1141 y 125 z 12;91 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1250 y 888 z 12;113 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1141 y 779 z 12;194 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1468 y 452 z 12;269 1 f 0 ay 0 v 1 ax 0 a 1 x 120 y 120 s 60 T \\' 2.\\' z 3;265 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1468 y 125 z 12;222 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 705 y 234 z 13;209 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1141 y 343 z 12;110 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1032 y 779 z 12;153 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 814 y 561 z 13;115 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1250 y 779 z 12;40 1 v 1 a 0 x 1441 w 109 y 534 z 2 h 109;101 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 705 y 779 z 12;41 1 v 1 a 0 x 678 w 109 y 425 z 2 h 109;66 1 v 1 a 0 x 787 w 109 y 98 z 2 h 109;145 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1468 y 670 z 12;150 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 705 y 561 z 13;80 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 814 y 888 z 12;37 1 v 1 a 0 x 1114 w 109 y 534 z 2 h 109;220 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 705 y 234 z 12;250 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 923 y 125 z 12;147 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1468 y 670 z 13;155 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 923 y 561 z 12;181 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1032 y 452 z 12;122 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1468 y 779 z 12;128 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 814 y 670 z 12;136 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1141 y 670 z 12;277 1 f 0 ay 0 v 1 ax 0 a 1 x 120 y 600 s 60 T 10. z 3;81 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 814 y 888 z 13;234 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1141 y 234 z 13;98 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1468 y 888 z 12;123 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1468 y 779 z 13;117 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1250 y 779 z 13;249 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 814 y 125 z 13;135 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1032 y 670 z 13;266 1 sx 0.5 i whiteKing.png sy 0.5 v 0 a 0.6 x 1468 y 125 z 12;106 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 923 y 779 z 12;187 1 sx 0.5 i blackKing.png sy 0.5 v 0 a 0.6 x 1250 y 452 z 12;189 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 1250 y 452 z 13;75 1 x 787 i whiteRook.png y 316 v 1 z 9;225 1 sx 0.5 i whiteRook.png sy 0.5 v 0 a 0.6 x 814 y 234 z 13;73 1 x 1114 i blackKing.png y 98 v 1 z 9\",\"tooltips\":[{\"9\":\"a1\",\"10\":\"b1\",\"11\":\"c1\",\"12\":\"d1\",\"13\":\"e1\",\"14\":\"f1\",\"15\":\"g1\",\"16\":\"h1\",\"17\":\"a2\",\"18\":\"b2\",\"19\":\"c2\",\"20\":\"d2\",\"21\":\"e2\",\"22\":\"f2\",\"23\":\"g2\",\"24\":\"h2\",\"25\":\"a3\",\"26\":\"b3\",\"27\":\"c3\",\"28\":\"d3\",\"29\":\"e3\",\"30\":\"f3\",\"31\":\"g3\",\"32\":\"h3\",\"33\":\"a4\",\"34\":\"b4\",\"35\":\"c4\",\"36\":\"d4\",\"37\":\"e4\",\"38\":\"f4\",\"39\":\"g4\",\"40\":\"h4\",\"41\":\"a5\",\"42\":\"b5\",\"43\":\"c5\",\"44\":\"d5\",\"45\":\"e5\",\"46\":\"f5\",\"47\":\"g5\",\"48\":\"h5\",\"49\":\"a6\",\"50\":\"b6\",\"51\":\"c6\",\"52\":\"d6\",\"53\":\"e6\",\"54\":\"f6\",\"55\":\"g6\",\"56\":\"h6\",\"57\":\"a7\",\"58\":\"b7\",\"59\":\"c7\",\"60\":\"d7\",\"61\":\"e7\",\"62\":\"f7\",\"63\":\"g7\",\"64\":\"h7\",\"65\":\"a8\",\"66\":\"b8\",\"67\":\"c8\",\"68\":\"d8\",\"69\":\"e8\",\"70\":\"f8\",\"71\":\"g8\",\"72\":\"h8\",\"73\":\"Black King\",\"74\":\"White King\",\"75\":\"White Rook\"}],\"toggles\":[{\"1\":{\"name\":\"toggleLegalMoves\",\"state\":true}}]}}\\n','KEY_FRAME 1\\n{\"entitymodule\":\"U203 0 v 1;248 0 v 1;153 0 v 1;204 0 v 1;219 0 v 1;6 0 T Hello;105 0 v 1;251 0 v 1;268 0 T \\' 1. â™”c7-d6\\';249 0 v 1;5 0 v 1;216 0 v 1;224 0 v 1;206 0 v 1;210 0 v 1;225 0 v 1;177 0 v 1;207 0 v 1;129 0 v 1;198 0 v 1;213 0 v 1;81 0 v 1;74 1 x 1005 y 316\",\"toggles\":[{}]}\\n','KEY_FRAME 2\\n{\"entitymodule\":\"U203 0 v 0;248 0 v 0;153 0 v 0;204 0 v 0;253 0 v 1;219 0 v 0;6 0 v 0;7 0 v 0;251 0 v 0;206 0 v 0;210 0 v 0;8 0 v 1;207 0 v 0;198 0 v 0;81 0 v 0;105 0 v 0;259 0 v 1;235 0 v 1;249 0 v 0;5 0 v 0;216 0 v 0;224 0 v 0;269 0 T \\' 2. â™še8-f7\\';225 0 v 0;177 0 v 0;129 0 v 0;213 0 v 0;73 1 x 1223 y 207\",\"toggles\":[{}]}\\n','KEY_FRAME 3\\n{\"entitymodule\":\"U203 0 v 1;153 0 v 1;204 0 v 1;253 0 v 0;7 0 v 1;105 0 v 1;259 0 v 0;270 0 T \\' 3. â™”d6-d7\\';235 0 v 0;249 0 v 1;227 0 v 1;182 0 v 1;225 0 v 1;177 0 v 1;8 0 v 0;230 0 v 1;129 0 v 1;198 0 v 1;185 0 v 1;179 0 v 1;81 0 v 1;74 1 y 207\",\"toggles\":[{}]}\\n','KEY_FRAME 4\\n{\"entitymodule\":\"U203 0 v 0;153 0 v 0;204 0 v 0;7 0 v 0;105 0 v 0;262 0 v 1;259 0 v 1;238 0 v 1;249 0 v 0;227 0 v 0;271 0 T \\' 4. â™šf7-f8\\';182 0 v 0;225 0 v 0;177 0 v 0;8 0 v 1;230 0 v 0;129 0 v 0;198 0 v 0;185 0 v 0;179 0 v 0;81 0 v 0;73 1 y 98\",\"toggles\":[{}]}\\n','KEY_FRAME 5\\n{\"entitymodule\":\"U203 0 v 1;153 0 v 1;204 0 v 1;219 0 v 1;7 0 v 1;262 0 v 0;251 0 v 1;238 0 v 0;272 0 T \\' 5. â™”d7-e6\\';206 0 v 1;210 0 v 1;8 0 v 0;207 0 v 1;198 0 v 1;81 0 v 1;105 0 v 1;259 0 v 0;249 0 v 1;216 0 v 1;227 0 v 1;225 0 v 1;177 0 v 1;209 0 v 1;129 0 v 1;254 0 v 1;213 0 v 1;74 1 x 1114 y 316\",\"toggles\":[{}]}\\n','KEY_FRAME 6\\n{\"entitymodule\":\"U203 0 v 0;153 0 v 0;204 0 v 0;219 0 v 0;7 0 v 0;262 0 v 1;251 0 v 0;238 0 v 1;206 0 v 0;210 0 v 0;8 0 v 1;207 0 v 0;198 0 v 0;81 0 v 0;105 0 v 0;249 0 v 0;216 0 v 0;227 0 v 0;256 0 v 1;225 0 v 0;177 0 v 0;273 0 T \\' 6. â™šf8-g7\\';209 0 v 0;129 0 v 0;254 0 v 0;213 0 v 0;73 1 x 1332 y 207\",\"toggles\":[{}]}\\n','KEY_FRAME 7\\n{\"entitymodule\":\"U153 0 v 1;204 0 v 1;233 0 v 1;7 0 v 1;105 0 v 1;262 0 v 0;238 0 v 0;249 0 v 1;256 0 v 0;206 0 v 1;182 0 v 1;225 0 v 1;274 0 T \\' 7. â™”e6-e7\\';177 0 v 1;8 0 v 0;230 0 v 1;207 0 v 1;129 0 v 1;198 0 v 1;185 0 v 1;188 0 v 1;81 0 v 1;74 1 y 207\",\"toggles\":[{}]}\\n','KEY_FRAME 8\\n{\"entitymodule\":\"U241 0 v 1;153 0 v 0;204 0 v 0;233 0 v 0;7 0 v 0;105 0 v 0;262 0 v 1;249 0 v 0;275 0 T \\' 8. â™šg7-g8\\';206 0 v 0;182 0 v 0;265 0 v 1;225 0 v 0;177 0 v 0;8 0 v 1;230 0 v 0;207 0 v 0;129 0 v 0;198 0 v 0;185 0 v 0;188 0 v 0;81 0 v 0;73 1 y 98\",\"toggles\":[{}]}\\n','KEY_FRAME 9\\n{\"entitymodule\":\"U153 0 v 1;204 0 v 1;219 0 v 1;7 0 v 1;262 0 v 0;276 0 T \\' 9. â™”e7-f6\\';257 0 v 1;206 0 v 1;210 0 v 1;8 0 v 0;230 0 v 1;207 0 v 1;198 0 v 1;81 0 v 1;241 0 v 0;105 0 v 1;212 0 v 1;249 0 v 1;216 0 v 1;265 0 v 0;225 0 v 1;177 0 v 1;209 0 v 1;129 0 v 1;254 0 v 1;213 0 v 1;74 1 x 1223 y 316\",\"toggles\":[{}]}\\n','KEY_FRAME 10\\n{\"entitymodule\":\"U153 0 v 0;204 0 v 0;219 0 v 0;7 0 v 0;257 0 v 0;206 0 v 0;210 0 v 0;8 0 v 1;230 0 v 0;207 0 v 0;198 0 v 0;277 0 T \\'10. â™šg8-h8\\';81 0 v 0;241 0 v 1;105 0 v 0;259 0 v 1;212 0 v 0;249 0 v 0;216 0 v 0;265 0 v 1;225 0 v 0;177 0 v 0;209 0 v 0;129 0 v 0;254 0 v 0;213 0 v 0;73 1 x 1441\",\"toggles\":[{}]}\\n','KEY_FRAME 11\\n{\"entitymodule\":\"U241 0 v 0;153 0 v 1;204 0 v 1;233 0 v 1;7 0 v 1;105 0 v 1;259 0 v 0;191 0 v 1;249 0 v 1;278 0 T \\'11. â™”f6-g6\\';215 0 v 1;236 0 v 1;265 0 v 0;210 0 v 1;225 0 v 1;177 0 v 1;8 0 v 0;207 0 v 1;209 0 v 1;129 0 v 1;198 0 v 1;185 0 v 1;188 0 v 1;81 0 v 1;74 1 x 1332\",\"toggles\":[{}]}\\n','KEY_FRAME 12\\n{\"entitymodule\":\"U153 0 v 0;204 0 v 0;233 0 v 0;7 0 v 0;105 0 v 0;262 0 v 1;191 0 v 0;249 0 v 0;279 0 T \\'12. â™šh8-g8\\';215 0 v 0;236 0 v 0;210 0 v 0;225 0 v 0;177 0 v 0;8 0 v 1;207 0 v 0;209 0 v 0;129 0 v 0;198 0 v 0;185 0 v 0;188 0 v 0;81 0 v 0;73 1 x 1332\",\"toggles\":[{}]}\\n','KEY_FRAME 13\\n{\"entitymodule\":\"U153 0 v 1;204 0 v 1;7 0 v 1;105 0 v 1;262 0 v 0;191 0 v 1;212 0 v 1;249 0 v 1;194 0 v 1;218 0 v 1;280 0 T \\'13. â™–b6-b8#\\';210 0 v 1;225 0 v 1;177 0 v 1;8 0 v 0;207 0 v 1;129 0 v 1;198 0 v 1;213 0 v 1;188 0 v 1;81 0 v 1;75 1 y 98\",\"toggles\":[{}]}\\n','KEY_FRAME 14\\n{\"entitymodule\":\"CS;S\\\\nU7 0 ay 0.5 ax 0.5 x 2050 y 750;282 0 sx 2.5 i crown.png ay 0.5 sy 2.5 v 1 ax 0.5 a 1 x 960 y 340 z 666;281 0 sx 2.5 i passed.png ay 0.5 sy 2.5 v 1 ax 0.5 a 1 x 960 y 540 z 666;1 0 v 0;8 0 sx -0.4 ay 0.5 v 1 ax 0.5 x 980 y 750;7 0.09 x 1930 y 800;8 0.09 x 860 y 800;7 0.18 x 1810 y 750;8 0.18 sx 0.4 x 740 y 750;7 0.27 x 1690 y 800;8 0.27 x 620 y 800;7 0.36 x 1570 y 750;8 0.36 x 500 y 750;7 0.45 x 1450 y 800;8 0.45 x 380 y 800;7 0.54 x 1330 y 750;8 0.54 x 260 y 750;7 0.63 x 1210 y 800;8 0.63 x 140 y 800;7 0.72 x 1090 y 750;8 0.72 x 20 y 750;7 0.81 x 970 y 800;8 0.81 x -100 y 800\",\"toggles\":[{}]}\\n'],agents:[{index:0,name:\"Player 0\",avatar:\"https://static.codingame.com/servlet/fileservlet?id=16085734516701&format=viewer_avatar\",agentId:0}]};function Xn(t){return(Xn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Bn(t){var e=\"function\"==typeof Map?new Map:void 0;return(Bn=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Un(t,arguments,Yn(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Hn(r,t)})(t)}function Un(t,e,n){return(Un=Ln()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&Hn(r,n.prototype),r}).apply(null,arguments)}function Ln(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Hn(t,e){return(Hn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yn(t){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gn=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hn(t,e)}(e,Bn(Error));var t=function(t){var e=Ln();return function(){var n,r=Yn(t);return n=e?(n=Yn(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Xn(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(n,r){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(n=t.call(this,'<Error in module \"'+n+'\">')).cause=r,n.name=\"ModuleError\",n}return e}();function Nn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Vn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nn(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Jn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.toDestroy=[],this.stepByStepAnimateSpeed=null;var n=e||Wn;n?(e=n.views,n=n.agents,this.demo={playerCount:n.length,logo:\"logo.png\",overlayAlpha:.2,agents:n,frames:e},this.demo.agents.forEach((function(e){e.color=t.playerColors[e.index]}))):this.demo=void 0}var e,n,o;return e=t,o=[{key:\"requirements\",get:function(){return{PIXI:\"PIXI4\"}}},{key:\"VERSION\",get:function(){return 2}},{key:\"WIDTH\",get:function(){return ce}},{key:\"HEIGHT\",get:function(){return ue}},{key:\"getGameRatio\",value:function(){return t.WIDTH/t.HEIGHT}},{key:\"playerColors\",get:function(){return[\"#ff1d5c\",\"#22a1e4\",\"#ff8f16\",\"#6ac371\",\"#9975e2\",\"#3ac5ca\",\"#de6ddf\",\"#ff0000\"]}},{key:\"SDK_GAME\",get:function(){return!0}},{key:\"RenderTimeout\",get:function(){return\"localhost\"===window.location.hostname?1/0:2e4}}],(n=[{key:\"getDefaultOverSampling\",value:function(){return 2}},{key:\"handleModuleError\",value:function(t,e){l.push(new Gn(t,e)),console.error(e),l.push({message:'<Module \"'.concat(t,'\" disabled>\\n')}),delete this.modules[t]}},{key:\"instantiateModules\",value:function(){this.modules={};var t,e=function(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return qn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qn(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(Kn);try{for(e.s();!(t=e.n()).done;){var n=t.value;try{this.modules[n.name]=new n(r)}catch(t){this.handleModuleError(n.name,t)}}}catch(t){e.e(t)}finally{e.f()}}},{key:\"destroy\",value:function(){this.alreadyLoaded&&(this.renderer.destroy(),this.endCallback=null),this.destroyed=!0}},{key:\"destroyScene\",value:function(t){!function(){for(var t=0,e=se.length;t<e;++t)se[t].destroy(!0);se=[]}()}},{key:\"getGameName\",value:function(){return\"Adversarial Mate with Rook\"}},{key:\"canSwapPlayers\",value:function(){return!1}},{key:\"addErrorListener\",value:function(t){l.listen(t)}},{key:\"getResources\",value:function(){return Object.assign({baseUrl:\"\",images:{},spines:{},sprites:[],fonts:[],others:[]},r)}},{key:\"getOptions\",value:function(){return Mn?Mn.map((function(t){return Vn({},t)})):[]}},{key:\"setDebug\",value:function(e){this.asyncRenderingTime=t.RenderTimeout}},{key:\"initPreload\",value:function(t,e,n,r,o){t.canvasWidth=r,t.canvasHeight=o,t.loaderProgress=new PIXI.Text(\"100\",{fontSize:.117*o||30,fontFamily:\"Lato\",fontWeight:\"900\",fill:\"white\",align:\"center\"}),t.loaderProgress.anchor.y=1,t.loaderProgress.anchor.x=1.3,t.progress=t.realProgress=n,t.loaderProgress.position.y=o,t.progressBar=new PIXI.Graphics,e.addChild(t.progressBar),e.addChild(t.loaderProgress)}},{key:\"preload\",value:function(t,e,n,r,o,i){t.progress=n}},{key:\"renderPreloadScene\",value:function(t,e){return e=Math.pow(.998,e),t.realProgress=e*t.realProgress+(1-e)*t.progress,t.loaderProgress.text=(100*t.realProgress).toFixed(0),t.loaderProgress.position.x=t.realProgress*t.canvasWidth,t.progressBar.clear(),t.progressBar.beginFill(0,1),t.progressBar.drawRect(0,0,t.canvasWidth*t.realProgress+1,t.canvasHeight),t.progressBar.endFill(),t.progressBar.beginFill(4146246,1),t.progressBar.drawRect(t.canvasWidth*t.realProgress,0,t.canvasWidth,t.canvasHeight),t.progressBar.endFill(),!0}},{key:\"initDefaultScene\",value:function(e,n,r,o){var i=new PIXI.Container;if(e.drawer=this,e.time=0,this.demo){if(this.demo.logo)try{var s=PIXI.Sprite.fromFrame(this.demo.logo);s.position.set(t.WIDTH/2,t.HEIGHT/2),s.anchor.set(.5),s.baseScale=a(s.texture.width,s.texture.height,2*t.WIDTH/3,t.HEIGHT/2,0),i.addChild(s),e.logo=s}catch(n){l.push({cause:n,message:'Missing \"logo.png\" to complete replay.'}),e.logo=new PIXI.Container,e.logo.baseScale=1,i.addChild(e.logo),e.missingLogo=!0}var c=new PIXI.Graphics;e.missingLogo||(c.beginFill(0,this.demo.overlayAlpha||0),c.drawRect(0,0,t.WIDTH+20,t.HEIGHT+20),c.endFill(),c.x-=10,c.y-=10),s=new PIXI.Container;try{this.initDefaultFrames(this.demo.playerCount,this.demo.frames,this.demo.agents),this.preconstructScene(this.scope,n,this.initWidth,this.initHeight),this.initScene(this.scope,s,this.frames,!0),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)}catch(n){l.push({cause:n,message:\"Cannot load demo, you might want to reset the demo\"})}e.demo=s,e.demotime=0,this.currentFrame=-1,n.addChild(s),n.addChild(c),n.addChild(i)}e.updateTime=0,e.frameTime=0}},{key:\"initDefaultFrames\",value:function(e,n,r){var o=this;this.instantiateModules(),this.playerInfo=r.map((function(t,e){return{name:t.name||\"Anonymous\",color:t.color?o.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:t.avatarTexture}})),this.instantiateModules(),this._frames=n.map((function(t){var e,n=t.split(\"\\n\");t=n[0].split(\" \");try{e=JSON.parse(n.slice(1).join(\"\\n\"))}catch(t){e={}}return Vn(Vn({},e),{},{key:\"KEY_FRAME\"===t[0]})})).filter((function(t){return t.key})),this.parseGlobalData(this._frames[0].global),this.playerCount=e,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1,(e=this._frames[0].frame).key=this._frames[0].key,this.frames.push(this.parseFrame(e,this.frames));for(var i=1;i<this._frames.length;++i)this.frames.push(this.parseFrame(this._frames[i],this.frames));this.asyncRenderingTime=t.RenderTimeout}},{key:\"renderDefaultScene\",value:function(t,e){if(e=Math.min(80,e),void 0===this.demo)return!1;this.currentFrame=this.currentFrameTemp||0,t.frameTime+=e,t.updateTime+=e,t.demotime+=e/1e3;var n=Math.max(0,Math.min(1,(t.demotime-1)/.5));t.logo&&(t.logo.alpha=n,t.logo.scale.x=t.logo.scale.y=(3-2*n)*t.logo.baseScale),!t.missingLogo&&1.5<t.demotime&&t.demotime<=2.2?(r=15*Math.max(0,1-(t.demotime-1.5)/.7),t.demo.x=(2*Math.random()-1)*r,t.demo.y=(2*Math.random()-1)*r):t.demo.x=t.demo.y=0;var r=this.getFrameDuration(this.currentFrame);return 30<=t.updateTime&&(t.updateTime-=30,0===this.currentFrame?this.progress=1:this.progress=i(0,r,t.frameTime),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)),t.frameTime>=r&&(t.frameTime-=r,this.currentFrame=(this.currentFrame+1)%this.frames.length),this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],e,!0),this.currentFrameTemp=this.currentFrame,this.currentFrame=-1,!0}},{key:\"endDefaultScene\",value:function(t,e){return!0}},{key:\"parseGlobalData\",value:function(t){for(var e in this.modules){var n=this.modules[e];\"function\"==typeof n.handleGlobalData&&n.handleGlobalData(this.playerInfo,t[e])}}},{key:\"parseFrame\",value:function(t,e){var n,r={data:{},frameInfo:{number:e.length}};if(r.previous=e[e.length-1]||r,r!==r.previous&&(r.previous.next=r),!t.key)return r.previous;for(n in t.duration&&(this.currentFrameDuration=t.duration),r.frameInfo.frameDuration=this.currentFrameDuration,r===r.previous?(r.frameInfo.date=0,r.frameInfo.frameDuration=0):r.frameInfo.date=r.previous.frameInfo.date+r.previous.frameInfo.frameDuration,this.modules){var o=this.modules[n];\"function\"==typeof o.handleFrameData&&(r.data[n]=o.handleFrameData(r.frameInfo,t[n]))}return r}},{key:\"preconstructScene\",value:function(e,n,r,o){e.canvasHeight=o,e.canvasWidth=r,e.time=0,e.endTime=0,e.playerInfo=this.playerInfo,n.scale.x=r/t.WIDTH,n.scale.y=o/t.HEIGHT}},{key:\"initScene\",value:function(t,e,n){for(var r in this.modules){var o=this.modules[r],i=new PIXI.Container;try{o.reinitScene(i,{width:t.canvasWidth,height:t.canvasHeight,oversampling:this.oversampling})}catch(t){this.handleModuleError(r,t)}e.addChild(i)}}},{key:\"updateScene\",value:function(t,e,n,r,o,i,a,s,c){var u,l=n[r];if(!c&&this.stepByStepAnimateSpeed){if(this.checkSteppedToNextFrame(t,l,o))return void this.startAsynchronousAnimation(t,l);if(this.checkSteppedToPreviousFrame(t,l,o))return void this.startAsynchronousAnimation(t,t.currentFrame,!0);t.targetProgress=null}for(u in t.currentFrame=l,t.currentProgress=o,t.reason=a,this.modules){var f=this.modules[u];if(l.data.hasOwnProperty(u))try{f.updateScene(l.previous.data[u],l.data[u],o,i)}catch(t){this.handleModuleError(u,t)}}}},{key:\"startAsynchronousAnimation\",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];t.targetProgress=n?0:1,n||1!==t.currentProgress||(t.currentProgress=0),t.currentFrame=e,t.reverseAsynchronousAnimation=n}},{key:\"checkStepped\",value:function(t,e,n){return t.currentFrame&&0===this.speed&&1===n}},{key:\"checkSteppedToNextFrame\",value:function(t,e,n){return this.checkStepped(t,e,n)&&(t.currentFrame===e.previous&&t.currentFrame!==e||t.currentFrame===e&&t.currentProgress!==n)}},{key:\"checkSteppedToPreviousFrame\",value:function(t,e,n){return this.checkStepped(t,e,n)&&t.currentFrame.previous===e&&t.currentFrame!==e}},{key:\"initEndScene\",value:function(t,e){t.endSceneViewed=!1}},{key:\"destroyEndScene\",value:function(t){}},{key:\"renderEndScene\",value:function(t,e,n){0===t.endTime&&this.initEndScene(t,n),t.endTime+=e,void 0<=t.endTime&&!t.endSceneViewed&&(this.endCallback&&this.endCallback(),t.endSceneViewed=!0)}},{key:\"renderScene\",value:function(t,e,n,r,o,i,a,s){var c,u;for(u in s=Math.min(80,s),this.debugMode||r!==n.length-1||1!==o?(0<t.endTime&&this.destroyEndScene(t),t.endTime=0):this.renderEndScene(t,s,\"Win\"!==a),this.stepByStepAnimateSpeed&&this.isAsynchronousAnimationOngoing(t)&&(o=this.currentFrame,t.reverseAsynchronousAnimation&&o++,a=s/200*this.getFrameSpeed(o)*this.stepByStepAnimateSpeed,t.reverseAsynchronousAnimation?(c=t.currentProgress-a)<=0&&(o=this.currentFrame,t.targetProgress=c=1):(c=t.currentProgress+a,c=Math.min(t.targetProgress,c)),this.updateScene(this.scope,this.question,this.frames,o,c,this.speed,this.reasons[o],!1,!0)),this.modules){var l=this.modules[u];if(\"function\"==typeof l.animateScene)try{l.animateScene(s)}catch(t){this.handleModuleError(u,t)}}return!0}},{key:\"isAsynchronousAnimationOngoing\",value:function(t){return null!=t.targetProgress&&t.currentProgress!==t.targetProgress}},{key:\"getFrameSpeed\",value:function(t){return 500/this.getFrameDuration(t)}},{key:\"getFrameDuration\",value:function(t){return this.frames&&this.frames[t]&&this.frames[t].frameInfo.frameDuration||1e3}},{key:\"enableAsyncRendering\",value:function(e){this.asyncRendering=e,this.asyncRenderingTime=t.RenderTimeout}},{key:\"purge\",value:function(){this.scope={},this.changed=!0,this.container.interactiveChildren=!1,this.container.destroy({texture:!1,children:!0}),delete this.container,this.container=new PIXI.Container}},{key:\"reinitScene\",value:function(){1<=this.loaded&&(this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.preconstructScene(this.scope,this.container,this.initWidth,this.initHeight),this.initScene(this.scope,this.container,this.frames),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame]),this.changed=!0)}},{key:\"reinitDefaultScene\",value:function(){1<=this.loaded&&(this.intro=!0,this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initDefaultScene(this.scope,this.container,this.initWidth,this.initHeight),this.changed=!0)}},{key:\"reinitLoadingScene\",value:function(){this.loaded<1&&(this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initPreload(this.scope,this.container,this.loaded,this.initWidth,this.initHeight))}},{key:\"reinit\",value:function(t){1<=this.loaded?0<=this.currentFrame&&!this.intro?this.reinitScene():this.intro&&!t||this.reinitDefaultScene():this.reinitLoadingScene()}},{key:\"animate\",value:function(t){var e;this.destroyed||(this.lastRenderTime||(this.lastRenderTime=t),e=t-this.lastRenderTime,this.asynchronousStep&&(e=this.asynchronousStep),this.onBeforeRender&&this.onBeforeRender(),this.loading||(this.loaded<1?this.changed|=this.renderPreloadScene(this.scope,e):(this.changed||this.asyncRendering&&0<this.asyncRenderingTime||this.isAsynchronousAnimationOngoing(this.scope))&&(this.currentFrame<0?this.changed|=this.renderDefaultScene(this.scope,e):this.intro?(this.changed=!0,this.endDefaultScene(this.scope,e)&&(this.intro=!1,this.reinit(!0))):this.changed|=this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame],e)),this.changed&&(this.renderer.render(this.container),this.changed=!1)),this.onAfterRender&&this.onAfterRender(),this.lastRenderTime=t,this.destroyed||requestAnimationFrame(this.animate.bind(this)),this.asyncRenderingTime-=e)}},{key:\"_initFrames\",value:function(t,e){this.instantiateModules(),this._frames=e.map((function(t){var e,n=t[0].split(\" \");try{e=JSON.parse(t.slice(1).join(\"\\n\"))}catch(t){e={}}return Vn(Vn({},e),{},{key:\"KEY_FRAME\"===n[0]})})),this.parseGlobalData(this._frames[0].global),this.playerCount=t,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1,(t=this._frames[0].frame).key=this._frames[0].key,this.frames.push(this.parseFrame(t,this.frames));for(var n=1;n<this._frames.length;++n)this.frames.push(this.parseFrame(this._frames[n],this.frames))}},{key:\"isTurnBasedGame\",value:function(){return!1}},{key:\"initFrames\",value:function(t,e){this.playerInfo&&this.playerInfo.forEach((function(t){t.avatar&&t.avatar.destroy(!0)}));var n=this,r=new PIXI.loaders.Loader(window.location.origin);function o(){n._initFrames(e.length,t),n.loading=!1,n.reinit(!1),i=!0}this.playerInfo=e.map((function(t,e){var o={name:t.name||\"Anonymous\",color:t.color?n.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:null};return null!=t.avatar&&r.add(\"avatar\"+e,t.avatar,{loadType:2,crossOrigin:!0},(function(t){o.avatar=t.texture,PIXI.Texture.addToCache(t.texture,\"$\"+o.index)})),o}));var i=!(this.loading=!0);r.on(\"complete\",o),r.on(\"error\",(function(t){console.warn(t),i||o()})),r.load()}},{key:\"update\",value:function(e,n,r){0<=this.currentFrame&&(this.asyncRenderingTime=t.RenderTimeout,this.changed=!0,this.speed=r,this.currentFrame=e,this.progress=n,1<=this.loaded&&!this.intro&&this.updateScene(this.scope,this.question,this.frames,e,n,this.speed,this.reasons[this.currentFrame]))}},{key:\"parseColor\",value:function(t){if(Array.isArray(t)){for(var e=[],n=0;n<t.length;++n)e.push(this.parseColor(t[n]));return e}return parseInt(t.substring(1),16)}},{key:\"init\",value:function(e,n,r,o,i,a,s){var c,u=this;window.PIXI=t.PIXI||window.PIXI,this.oversampling=i||1,i=function(){0<=u.currentFrame&&(u.changed=!0)},this.canvas=$(e),this.canvas.off(\"mousemove\"),this.canvas.off(\"wheel\"),this.canvas.bind(\"wheel\",i),this.canvas.mousemove(i),o&&(this.colors=this.parseColor(o)),\"ide\"===s&&(this.debugModeSetByUser||(this.debugMode=!0),l.listen((function(t){return console.error(t.cause||t)}))),this.asyncRendering=!0,this.asyncRenderingTime=0,this.destroyed=!1,this.asynchronousStep=null;var f=this;if(this.initWidth=0|n,this.initHeight=0|r,this.endCallback=a||this.endCallback,this.alreadyLoaded)this.changed=!0,this.renderer.resize(this.initWidth,this.initHeight),this.reinit(!0);else{this.alreadyLoaded=!0,this.question=null,this.scope=null,this.currentFrame=-1,this.loaded=0,this.container=new PIXI.Container;var y=this.getResources();this.renderer=this.createRenderer(this.initWidth,this.initHeight,e),a=this.renderer,ae=a;var p,h=new PIXI.loaders.Loader(y.baseUrl);for(c in y.images)h.add(c,y.images[c],{crossOrigin:!0});for(p=0;p<y.sprites.length;++p)h.add(y.sprites[p],{crossOrigin:!0});for(p=0;p<y.fonts.length;++p)h.add(y.fonts[p],{crossOrigin:!0});for(c in y.spines)h.add(c,y.spines[c],{crossOrigin:!0});for(p=0;p<y.others.length;++p)h.add(y.others[p],{crossOrigin:!0});this.demo&&this.demo.agents.forEach((function(t){h.add(\"avatar\"+t.index,t.avatar,{loadType:2,crossOrigin:!0},(function(e){t.avatarTexture=e.texture,PIXI.Texture.addToCache(e.texture,\"$\"+t.index)}))})),f.scope={},e=function(t,e){requestAnimationFrame(f.animate.bind(f)),f.initPreload(f.scope,f.container,f.loaded=0,f.initWidth,f.initHeight)},h.on(\"start\",e),h.on(\"progress\",(function(t,e){t.progress<100&&f.preload(f.scope,f.container,f.loaded=t.progress/100,f.initWidth,f.initHeight,e)})),a=function(){for(var t in y.images)y.images.hasOwnProperty(t)&&h.resources[t].texture&&PIXI.Texture.addToCache(h.resources[t].texture,t);for(t in y.spines)y.spines.hasOwnProperty(t)&&(PIXI.AnimCache[t]=PIXI.AnimCache[y.baseUrl+y.spines[t]]);f.loaded=1,f.reinit(!0),f.changed=!0},h.on(\"complete\",a),h.on(\"error\",(function(t){console.warn(t)})),Object.keys(h.resources).length?h.load():(e(),a())}}},{key:\"createRenderer\",value:function(t,e,n){return PIXI.autoDetectRenderer(t,e,{view:n,clearBeforeRender:!0,preserveDrawingBuffer:!1})}},{key:\"isReady\",value:function(){return 1<=this.loaded}}])&&$n(e.prototype,n),o&&$n(e,o),t}()}]).Drawer;",
      "levelParams": {
        "0": {
          "testCases": [
            {
              "title": {
                "1": "",
                "2": "Mate depth 1"
              },
              "isTest": true,
              "testIn": "1 OPT white e3 h5 e1",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "Mate depth 3"
              },
              "isTest": true,
              "testIn": "3 OPT white f6 d2 g8",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "Mate depth 3 against random"
              },
              "isTest": true,
              "testIn": "3 RAND white e2 g3 h2",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "Mate depth 5"
              },
              "isTest": true,
              "testIn": "5 OPT white e2 e3 h1",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "Mate depth 5 against random"
              },
              "isTest": false,
              "testIn": "5 RAND white d7 d6 a8",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "Mate depth 9"
              },
              "isTest": false,
              "testIn": "9 OPT white d7 c5 b6",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "Mate depth 9 against random"
              },
              "isTest": true,
              "testIn": "9 RAND white e7 f5 g6",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "Mate depth 11"
              },
              "isTest": true,
              "testIn": "11 OPT white a3 b3 a5",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "",
                "2": "Mate depth 11 against random"
              },
              "isTest": false,
              "testIn": "11 RAND white c1 c2 e1",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "Mate depth 13"
              },
              "isTest": true,
              "testIn": "13 OPT white c7 b6 e8",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "",
                "2": "Mate depth 13 against random"
              },
              "isTest": true,
              "testIn": "13 RAND white c2 b3 e1",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            }
          ],
          "maxPlayers": 1,
          "minPlayers": 1,
          "statements": {
            "1": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <div style=\"color:#7cc576;background-color:rgba( 124 , 197 , 118 , 0.1 );padding:20px;margin-right:15px;margin-left:15px;margin-bottom:10px;text-align:left\">\n        <span class=\"statement-league-alert-content\">\n          Here, we consider <a href=\"https://en.wikipedia.org/wiki/Chess\">Chess</a> endgames with only black king, white king, and white rook. Your goal, as the white player, is to checkmate the black king as quickly as possible.\n          <!--<br/><br/>\n          The second part of this exercise, focusing on the runtime phase, is available\n          <a href=\"https://www.codingame.com/training/hard/jump-point-search---runtime\">here</a>.-->\n        </span>\n  </div>\n\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      For a given initial state of the game, your goal is to compute moves of the white player leading to the fastest checkmate. You need to consider an opponent, who may try to prolong play and achieve a draw when possible.\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        <p>The initial game state is described by the position of each piece: white king, white rook, and black king, formatted as <const>e3 h5 e1</const>. The white player is always the one who moves first.</p>\n        <p>The goal of this puzzle is to, in each turn, provide a move leading to quickest checkmate, according to the Chess rules. Each move should be formatted as <const>h5h1</const>.</p>\n        <p>After each white move, black's reply will be given in the same format.</p>\n\n      </div>\n    </div>\n\n    <br>\n\n  <!-- Victory conditions -->\n  <div class=\"statement-victory-conditions\">\n    <div class=\"icon victory\"></div>\n    <div class=\"blk\">\n      <div class=\"title\">Victory Conditions</div>\n      <div class=\"text\">\n        <ul style=\"padding-bottom: 0;\">\n          <li>\n            Given moves leads to the fastest checkmate possible in the current board position.\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- Lose conditions -->\n  <div class=\"statement-lose-conditions\">\n    <div class=\"icon lose\"></div>\n    <div class=\"blk\">\n      <div class=\"title\">Loss Conditions</div>\n      <div class=\"text\">\n        <ul style=\"padding-bottom: 0;\">\n          <li>\n            Given sequence of moves does not lead to a fastest checkmate.\n          </li>\n          <li>\n            Given move is illegal.\n          </li>\n          <li>\n            Given answer is not properly formatted.\n          </li>\n          <li>\n            Response time exceeds the time limit.\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  </div>\n\n  <!-- EXPERT RULES -->\n  <div class=\"statement-section statement-expertrules\">\n    <h1>\n      <span class=\"icon icon-expertrules\">&nbsp;</span>\n      <span>Detailed rules</span>\n    </h1>\n    <div class=\"statement-expert-rules-content\">\n      <ul>\n        <li>If the black player makes a suboptimal move and a quicker checkmate becomes possible, you should find the faster checkmate.</li>\n        <li>Given board state is always a valid Chess game position.</li>\n        <li>You can hide showing legal moves in the settings panel (<img style=\"opacity:.8;background:#20252a;\" height=\"18\" src=\"https://www.codingame.com/servlet/fileservlet?id=3463235186409\" width=\"18\">)..</li>\n      </ul>\n    </div>\n  </div>\n\n  <!-- EXAMPLES -->\n  <div class=\"statement-section statement-examples\">\n    <h1>\n      <span class=\"icon icon-example\">&nbsp;</span>\n      <span>Related puzzles</span>\n    </h1>\n    <div class=\"statement-examples-text\">\n      <ul>\n        <li>Cooperative variant of single rook endgames, requiring you to reach the fastest checkmate by controlling both players, is available <a href=\"https://www.codingame.com/contribute/view/638293decff575b25b7a73c0cbf1c9d958dd\">here</a>.</li>\n        <li>To play full version of Chess as a bot programming game you can go <a href=\"https://www.codingame.com/multiplayer/bot-programming/chess\">here</a>.</li>\n      </ul>\n    </div>\n  </div>\n\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n    </h1>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Initial input</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">A single line </span> containing space-separated strings, <var>whiteKing</var> <var>whiteRook</var> <var>blackKing</var> positions in column-row format, e.g. <const>a1</const>.</p>\n      </div>\n      <div class=\"title\">Input for the following turns</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">A single line </span> containing a string <var>opponentMove</var>  wih the opponent move encoded as from-to in column-row format, e.g. <const>a1h8</const>.</p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output each turn</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">A single line</span> containing a moves in <const>a1h8</const> format.\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      1 â‰¤ <var>depth of the quickest checkmate solution</var> â‰¤ 13 <br>\n      Response time for first turn â‰¤ <const>25</const>s<br>\n      Response time for the following turns â‰¤ <const>200</const>ms<br>\n    </div>\n  </div>\n</div>\n</div>\n",
            "2": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n  <div style=\"color:#7cc576;background-color:rgba( 124 , 197 , 118 , 0.1 );padding:20px;margin-right:15px;margin-left:15px;margin-bottom:10px;text-align:left\">\n        <span class=\"statement-league-alert-content\">\n          Here, we consider <a href=\"https://en.wikipedia.org/wiki/Chess\">Chess</a> endgames with only black king, white king, and white rook. Your goal, as the white player, is to checkmate the black king as quickly as possible.\n          <!--<br/><br/>\n          The second part of this exercise, focusing on the runtime phase, is available\n          <a href=\"https://www.codingame.com/training/hard/jump-point-search---runtime\">here</a>.-->\n        </span>\n  </div>\n\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      For a given initial state of the game, your goal is to compute moves of the white player leading to the fastest checkmate. You need to consider an opponent, who may try to prolong play and achieve a draw when possible.\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        <p>The initial game state is described by the position of each piece: white king, white rook, and black king, formatted as <const>e3 h5 e1</const>. The white player is always the one who moves first.</p>\n        <p>The goal of this puzzle is to, in each turn, provide a move leading to quickest checkmate, according to the Chess rules. Each move should be formatted as <const>h5h1</const>.</p>\n        <p>After each white move, black's reply will be given in the same format.</p>\n\n      </div>\n    </div>\n\n    <br>\n\n  <!-- Victory conditions -->\n  <div class=\"statement-victory-conditions\">\n    <div class=\"icon victory\"></div>\n    <div class=\"blk\">\n      <div class=\"title\">Victory Conditions</div>\n      <div class=\"text\">\n        <ul style=\"padding-bottom: 0;\">\n          <li>\n            Given moves leads to the fastest checkmate possible in the current board position.\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <!-- Lose conditions -->\n  <div class=\"statement-lose-conditions\">\n    <div class=\"icon lose\"></div>\n    <div class=\"blk\">\n      <div class=\"title\">Loss Conditions</div>\n      <div class=\"text\">\n        <ul style=\"padding-bottom: 0;\">\n          <li>\n            Given sequence of moves does not lead to a fastest checkmate.\n          </li>\n          <li>\n            Given move is illegal.\n          </li>\n          <li>\n            Given answer is not properly formatted.\n          </li>\n          <li>\n            Response time exceeds the time limit.\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  </div>\n\n  <!-- EXPERT RULES -->\n  <div class=\"statement-section statement-expertrules\">\n    <h1>\n      <span class=\"icon icon-expertrules\">&nbsp;</span>\n      <span>Detailed rules</span>\n    </h1>\n    <div class=\"statement-expert-rules-content\">\n      <ul>\n        <li>If the black player makes a suboptimal move and a quicker checkmate becomes possible, you should find the faster checkmate.</li>\n        <li>Given board state is always a valid Chess game position.</li>\n        <li>You can hide showing legal moves in the settings panel (<img style=\"opacity:.8;background:#20252a;\" height=\"18\" src=\"https://www.codingame.com/servlet/fileservlet?id=3463235186409\" width=\"18\">)..</li>\n      </ul>\n    </div>\n  </div>\n\n  <!-- EXAMPLES -->\n  <div class=\"statement-section statement-examples\">\n    <h1>\n      <span class=\"icon icon-example\">&nbsp;</span>\n      <span>Related puzzles</span>\n    </h1>\n    <div class=\"statement-examples-text\">\n      <ul>\n        <li>Cooperative variant of single rook endgames, requiring you to reach the fastest checkmate by controlling both players, is available <a href=\"https://www.codingame.com/contribute/view/638293decff575b25b7a73c0cbf1c9d958dd\">here</a>.</li>\n        <li>To play full version of Chess as a bot programming game you can go <a href=\"https://www.codingame.com/multiplayer/bot-programming/chess\">here</a>.</li>\n      </ul>\n    </div>\n  </div>\n\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n    </h1>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Initial input</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">A single line </span> containing space-separated strings, <var>whiteKing</var> <var>whiteRook</var> <var>blackKing</var> positions in column-row format, e.g. <const>a1</const>.</p>\n      </div>\n      <div class=\"title\">Input for the following turns</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">A single line </span> containing a string <var>opponentMove</var>  wih the opponent move encoded as from-to in column-row format, e.g. <const>a1h8</const>.</p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output each turn</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">A single line</span> containing a moves in <const>a1h8</const> format.\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      1 â‰¤ <var>depth of the quickest checkmate solution</var> â‰¤ 13 <br>\n      Response time for first turn â‰¤ <const>25</const>s<br>\n      Response time for the following turns â‰¤ <const>200</const>ms<br>\n    </div>\n  </div>\n</div>\n</div>\n"
          },
          "questionType": "solo",
          "stubGenerator": "read whiteKing:word(2) whiteRook:word(2) blackKing:word(2)\nwrite h5h1 \n\ngameloop\nread opponentMove:word(5)\nwrite h5h1 hello\\\\nchess\n\nSTATEMENT\nPlaying as white, perform moves leading to the fastest checkmate.\n\nINPUT\nwhiteKing: Position of the white king, e.g. a2\nwhiteRook: Position of the white rook\nblackKing: Position of the black king\nopponentMove: A move made by the opponent, e.g. a2b1\n\nOUTPUT\nA move to perform",
          "welcomePopups": {},
          "criteriaLanguageMap": {}
        }
      },
      "coverBinaryId": 60702165935809,
      "directoryPrefix": "community/484004-1616508927571",
      "allowSourceDownload": true,
      "originalArchiveBinaryId": 64966703495567
    },
    "draft": false,
    "readyForModeration": true
  },
  "validatedFor": 147668747646,
  "avatar": 4210501575817,
  "commentCount": 35,
  "upVotes": 79,
  "downVotes": 0,
  "validateAction": {
    "actionId": 564263,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "REFUSED",
      "date": 1619129137000,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1619362693954,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "REFUSED",
      "date": 1621955136999,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1621955190021,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "ACCEPTED",
      "date": 1623061721962,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}