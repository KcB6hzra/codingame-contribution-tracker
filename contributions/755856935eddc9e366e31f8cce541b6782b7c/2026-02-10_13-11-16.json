{
  "id": 75585,
  "activeVersion": 9,
  "score": 2,
  "votableId": 31433240,
  "codingamerId": 4273069,
  "views": 185,
  "commentableId": 31293086,
  "title": "ChatGPT Token Counter",
  "status": "ACCEPTED",
  "type": "CLASHOFCODE",
  "nickname": "Friedemann",
  "publicHandle": "755856935eddc9e366e31f8cce541b6782b7c",
  "codingamerHandle": "f42986433455cf59daf1ef287ae034569603724",
  "lastVersion": {
    "version": 9,
    "autocloseTime": 1701430289302,
    "data": {
      "title": "ChatGPT Token Counter",
      "topics": [],
      "fastest": true,
      "reverse": false,
      "shortest": true,
      "solution": "fun main() {\n    val model = readln()\n    val message = readln()\n\n    val cost = calculateApiCallCost(model, message)\n    if (cost != null) {\n        println(\"$%.4f\".format(cost))\n    } else {\n        println(\"Invalid Model\")\n    }\n}\n\nfun calculateApiCallCost(model: String, message: String): Double? {\n    val tokensPerWord = 100.0 / 66.66666666667\n    val words = message.split(\"\\\\s+\".toRegex()).size\n    val tokens = words.toDouble() * tokensPerWord\n\n    return when (model) {\n        \"GPT-4\" -> tokens * 0.03 / 1000\n        \"GPT-3.5 Turbo\" -> tokens * 0.0015 / 1000\n        \"davinci-002\" -> tokens * 0.002 / 1000\n        else -> null\n    }\n}",
      "statement": "AI is taking over the world, and your groundbreaking startup application is about to make a splash! However, API calls can be quite costly. Determine the dollar price for each API call based on the input message.\n\nMultiple models, each with different capabilities and price points. Prices are per 1,000 tokens. You can think of tokens as pieces of words, where 1.5 tokens is one word. This paragraph is 51 tokens.\n\n- GPT-4: $0.03 per 1K tokens\n- GPT-3.5 Turbo: $0.0015 per 1K tokens\n- davinci-002: $0.0020 per 1K tokens\n\nFind out how much it costs to power your next big idea with AI and optimize your budget for success!",
      "testCases": [
        {
          "title": "Example 1",
          "isTest": true,
          "testIn": "GPT-4\nMultiple models, each with different capabilities and price points. Prices are per 1,000 tokens. You can think of tokens as pieces of words, where 1.5 tokens is one word. This paragraph is 51 tokens.",
          "testOut": "$0.0015",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "GPT-4\nLorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.",
          "testOut": "$0.0045",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Example 2",
          "isTest": true,
          "testIn": "GPT-3.5 Turbo\nMultiple models, each with different capabilities and price points. Prices are per 1,000 tokens. You can think of tokens as pieces of words, where 1.5 tokens is one word. This paragraph is 51 tokens.",
          "testOut": "$0.0001",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "GPT-3.5 Turbo\nLorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At",
          "testOut": "$0.0002",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test Case 1",
          "isTest": true,
          "testIn": "GPT-3.5 Turbo\nOne of the main goals of developing such models is to improve their ability to understand and generate natural language text, particularly in more complex and nuanced scenarios. To test its capabilities in such scenarios, GPT-4 was evaluated on a variety of exams originally designed for humans",
          "testOut": "$0.0001",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "GPT-3.5 Turbo\nLorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum",
          "testOut": "$0.0001",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test Case 2",
          "isTest": true,
          "testIn": "GPT-4\nWe report the development of GPT-4, a large-scale, multimodal model which can accept image and text inputs and produce text outputs. While less capable than humans in many real-world scenarios, GPT-4 exhibits human-level performance on various professional and academic benchmarks, including passing a simulated bar exam with a score around the top 10% of test takers. GPT-4 is a Transformer- based model pre-trained to predict the next token in a document. The post- raining alignment process results in improved performance on measures of factuality and adherence to desired behavior. A core component of this project was developing infrastructure and optimization methods that behave predictably across a wide range of scales. This allowed us to accurately predict some aspects of GPT-4’s performance based on models trained with no more than 1/1,000th the compute of GPT-4.",
          "testOut": "$0.0060",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "GPT-4\nLorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores",
          "testOut": "$0.0060",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Long Message",
          "isTest": true,
          "testIn": "davinci-002\nArtificial intelligence is transforming industries and your innovative startup application is poised to make a significant impact in this space; however, managing API call costs is crucial for success. Various AI models offer different capabilities and performance levels at diverse price points, making it essential to understand the expenses associated with API calls, which facilitate communication between applications and these powerful models. This challenge will test your skills as you calculate the cost of API calls for different AI models, considering factors such as the selected AI model, its corresponding pricing per token, and the number of tokens in the input message. By evaluating the financial implications of integrating AI into your next big idea, you'll be able to optimize your budget and set your groundbreaking startup application up for success. So, are you ready to dive into the world of AI and take on this exciting challenge? With your expertise and problem-solving abilities, you'll undoubtedly find the most cost-effective solution for powering your innovative application. Remember, the future of AI is in your hands – it's time to make a splash and change the world! In today's rapidly evolving technological landscape, artificial intelligence has become an integral part of various industries, from healthcare and finance to transportation and entertainment. As a result, numerous AI models have emerged, offering different capabilities and performance levels at varying price points. One crucial aspect of leveraging AI effectively is understanding the costs associated with API calls, which enable applications to communicate with these powerful models. This challenge will put your skills to the test as you calculate the cost of API calls for different AI models. You'll be provided with information about various models, each with its own pricing per token: GPT-4: $0.03 per 1K tokens, GPT-3.5 Turbo: $0.0015 per 1K tokens, davinci-002: $0.0020 per 1K tokens. Tokens are the building blocks of words, and in this context, 100 tokens equate to approximately 66.67 words. For example, this paragraph consists of 51 tokens. Your task is to determine the cost of sending a specific message using one of these AI models. To accomplish this, you'll need to consider the following factors: The selected AI model and its corresponding pricing per token, the number of tokens in the input message, which can be calculated based on the ratio of tokens per word. By calculating the cost of API calls for different messages and AI models, you'll gain valuable insights into the financial implications of integrating AI into your next big idea. This knowledge will enable you to make informed decisions about which AI model to use, ultimately optimizing your budget and setting your groundbreaking startup application up for success. So, are you ready to dive into the world of AI and take on this exciting challenge? With your expertise and problem-solving abilities, you'll undoubtedly find the most cost-effective solution for powering your innovative application.",
          "testOut": "$0.0014",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 5",
          "isTest": false,
          "testIn": "davinci-002\nLorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, At accusam aliquyam diam diam dolore dolores duo eirmod eos erat, et nonumy sed tempor et et invidunt justo labore Stet clita ea et gubergren, kasd magna no rebum. sanctus sea sed takimata ut vero voluptua. est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur",
          "testOut": "$0.0015",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "new model, who dis?",
          "isTest": true,
          "testIn": "GPT-5000-turbo\nFine-tuning improves on few-shot learning by training on many more examples than can fit in the prompt, letting you achieve better results on a wide number of tasks. Once a model has been fine-tuned, you won't need to provide as many examples in the prompt. This saves costs and enables lower-latency requests.",
          "testOut": "Invalid Model",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 6",
          "isTest": false,
          "testIn": "GPT-5000-turbo\nLorem ipsum dolor",
          "testOut": "Invalid Model",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "stubGenerator": "read model:string(20)\nread msg:string(5000)\nwrite answer",
      "inputDescription": "<<First line:>> [[model]] Model used.\n\n<<Second line:>> [[msg]] Message to be send.",
      "solutionLanguage": "Kotlin",
      "outputDescription": "<<Out:>> {{$}}[[Money needed]]\nDon't forget {{$}} and round to 4 decimal places\n\n<<If there is no valid Model found print>> {{Invalid Model}}"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">AI is taking over the world, and your groundbreaking startup application is about to make a splash! However, API calls can be quite costly. Determine the dollar price for each API call based on the input message.<br><br>Multiple models, each with different capabilities and price points. Prices are per 1,000 tokens. You can think of tokens as pieces of words, where 1.5 tokens is one word. This paragraph is 51 tokens.<br><br>- GPT-4: $0.03 per 1K tokens<br>- GPT-3.5 Turbo: $0.0015 per 1K tokens<br>- davinci-002: $0.0020 per 1K tokens<br><br>Find out how much it costs to power your next big idea with AI and optimize your budget for success!</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>First line:</strong> <var>model</var> Model used.<br><br><strong>Second line:</strong> <var>msg</var> Message to be send.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>Out:</strong> <const>$</const><var>Money needed</var><br>Don't forget <const>$</const> and round to 4 decimal places<br><br><strong>If there is no valid Model found print</strong> <const>Invalid Model</const></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\"></div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">GPT-4\nMultiple models, each with different capabilities and price points. Prices are per 1,000 tokens. You can think of tokens as pieces of words, where 1.5 tokens is one word. This paragraph is 51 tokens.</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">$0.0015</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 70926294283,
  "avatar": 65768443730393,
  "commentCount": 10,
  "upVotes": 3,
  "downVotes": 1,
  "validateAction": {
    "actionId": 880582,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1699802781056,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}