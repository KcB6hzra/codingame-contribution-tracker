{
  "id": 2077,
  "activeVersion": 3,
  "score": 9,
  "votableId": 10243366,
  "codingamerId": 1661333,
  "views": 255,
  "commentableId": 10174697,
  "title": "Checkers",
  "status": "ACCEPTED",
  "type": "PUZZLE_MULTI",
  "nickname": "linjoehan",
  "publicHandle": "20774b81259920366f93a29037708e03f0dc",
  "codingamerHandle": "cedc01b66272d83d567143b93f115d5e3331661",
  "lastVersion": {
    "version": 3,
    "autocloseTime": 1555714522176,
    "data": {
      "title": "Checkers",
      "topics": [],
      "refereeMd5": "1661333/f779d655cc68efab78fd7e6a927fff82",
      "testHandle": "786219717931a1b43a275a8dfb07a555b9bec1",
      "viewerCode": "var Drawer=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";n.r(t);var r={baseUrl:\"https://cdn-games.codingame.com/community/1661333-1553122458438/\",images:{\"red_piece.png\":\"25d3ea8059a165c55bd6e37fe4d5205884447a62244809dcddbd76c313956907.png\",\"black_piece.png\":\"f6b310fee8eb9daef34a58a137287423f1178d8d382c19ec552392873f1ad1e2.png\",\"red_king.png\":\"f6a9450db282d2db9e1b904a252d3e4209430ada519215a33beb5b42a5530c0f.png\",\"black_king.png\":\"d9806d54504b0e3f9b549670da5fda7dbc0ada4b3bb98ccd1dd6dfc660fc068f.png\",\"background.jpg\":\"bc03a41bca93068a141f3a78dfd86f45453b49fb8b8ed986b16da7bf4024c3c6.jpg\",\"mask.png\":\"9d2908494df7d47699b6d4fe129719a1806dd34a52d3185134704ace0c272cdf.png\"},sprites:[],fonts:[]};function i(e,t,n){return e<=t?e+(t-e)*n:t+(e-t)*(1-n)}function o(e,t,n){return(n-e)/(t-e)}function a(e,t,n){return Math.min(1,Math.max(0,o(e,t,n)))}function u(e,t,n,r,i){return i=i||0,Math.min(n/(e+i),r/(t+i))}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e,t,n){return n<1?e:t},f={type:Number,lerpMethod:function(e,t,n){if(null===t)return null;var r={r:(16711680&e)>>16,g:(65280&e)>>8,b:255&e},o={r:(16711680&t)>>16,g:(65280&t)>>8,b:255&t};return i(r.r,o.r,n)<<16|i(r.g,o.g,n)<<8|i(r.b,o.b,n)},convert:function(e,t){return e<0?t.players[-(e+1)].color:e}},y={type:String,lerpMethod:c,convert:function(e){return g(e)}},p={type:Number,lerpMethod:function(e,t,n,r){for(;t>e+Math.PI;)t-=2*Math.PI;for(;t<e-Math.PI;)t+=2*Math.PI;return(void 0!==r&&Math.abs(t-e)>r?t:e+(t-e)*n)%(2*Math.PI)},convert:function(e){return e*Math.PI/180}},h={type:Number,lerpMethod:c},d={type:function(e){return\"1\"===e},lerpMethod:c},m={type:Number,lerpMethod:function(e,t,n){return t<e?t:i(e,t,n)}},b={default:{type:Number,lerpMethod:i},visible:d,rotation:p,fillColor:f,lineColor:f,strokeColor:f,tint:f,animationProgressTime:m,mask:h,baseWidth:h,baseHeight:h,image:y,images:y,restarted:{type:String,convert:function(e,t,n,r){return e?{date:n.date+r*n.frameDuration}:null},lerpMethod:c},playing:d,duration:h,blendMode:h,loop:d,text:s({},y,{convert:function(e,t){e=g(e);for(var n=/\\$(\\d)/g,r=n.exec(e),i=\"\",o=0;r;)i+=e.substring(o,r.index),i+=t.players[+r[1]].name,o=r.index+r[0].length,r=n.exec(e);return i+e.substring(o)}}),fontFamily:y,fontWeight:y,children:s({},y,{convert:function(e){return e?e.split(\",\").map(function(e){return+e}):[]}}),points:s({},y,{convert:function(e){return e?e.split(\",\").map(function(e){return parseInt(e)}):[]},lerpMethod:function(e,t,n){return e.length===t.length?e.map(function(e,r){return i(e,t[r],n)}):c(e,t,n)}})};function g(e){var t=e.split(\"\\\\'\").join(\"'\");return t.includes(\" \")?t.slice(1,t.length-1):t}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=[],S=[],O=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}return function(e,t,n){n&&v(e,n)}(e,0,[{key:\"listen\",value:function(e){if(\"function\"!=typeof e)throw new TypeError(e+\" is not a function\");S.push(e)}},{key:\"push\",value:function(e){x.push(e),S.forEach(function(t){return t(e)})}}]),e}();function w(e){return(w=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this),this.defaultState={x:0,y:0,scaleX:1,scaleY:1,zIndex:0,alpha:1,visible:!1,rotation:0,mask:-1},this.states={}}return t=e,n=[{key:\"init\",value:function(){this.properties=Object.keys(this.defaultState),this.initDisplay(),this.currentState=Object.assign({},this.defaultState),\"object\"===w(this.graphics)&&this.container.addChild(this.graphics)}},{key:\"setHidden\",value:function(e){this.hide=e,this.container.visible=this.currentState.visible&&!this.hide}},{key:\"addState\",value:function(t,n,r){this.states[r]||(this.states[r]=[]);var i=e.createState(t,n.values,n.curve),o=this.states[r].find(function(e){return e.t===t});o&&0===Object.keys(i.curve).length&&(i.curve=o.curve),o?(k(i)||k(o)||O.push(new Error(\"Different updates for same t \"+t)),Object.assign(o,i)):this.states[r].push(i)}},{key:\"set\",value:function(e,t,n){this.addState(e,t,n)}},{key:\"render\",value:function(e,t,n){var r=this.states[t.number];if(this.container.visible=!1,r&&r.length){for(var i=0;i<r.length-1&&r[i].t<e;)i++;var o,u=r[i-1],s=r[i];if(u)o=a(u.t,s.t,e);else{var l=this.states[t.previous.number]||[];o=!(u=l[l.length-1])&&e>=s.t?(u=s,1):a(0,s.t,e)}if(u){var c={},f=Object.assign({},this.currentState),y=!0,p=!1,h=void 0;try{for(var d,m=this.properties[Symbol.iterator]();!(y=(d=m.next()).done);y=!0){var g=d.value,v=(b[g]||b.default).lerpMethod,x=s.curve[g]||function(e){return e},S=v(u[g],s[g],x(o));S!==this.currentState[g]&&(c[g]=!0,f[g]=S)}}catch(e){p=!0,h=e}finally{try{y||null==m.return||m.return()}finally{if(p)throw h}}this.updateDisplay(f,c,n,t,e),Object.assign(this.currentState,f),this.container.visible=this.container._visible,c.children&&(n.mustResetTree=!0,\"function\"==typeof this.postUpdate&&n.updatedBuffers.push(this)),c.zIndex&&(n.mustResort=!0),c.mask&&(n.maskUpdates[this.id]=f.mask),0!==Object.keys(c).length&&this.parent&&this.parent.notifyChange()}}else Object.assign(this.currentState,this.defaultState)}},{key:\"notifyChange\",value:function(){this.parent&&this.parent.notifyChange()}},{key:\"initDisplay\",value:function(){this.container=new PIXI.Container,this.container.zIndex=this.defaultState.zIndex,this.container.id=this.id,this.container._visible=this.defaultState.visible}},{key:\"updateDisplay\",value:function(e,t,n){this.container.zIndex=e.zIndex,this.container.alpha=e.alpha,this.container.position.set(e.x*n.toWorldUnits,e.y*n.toWorldUnits),this.container.scale.set(e.scaleX||1e-8,e.scaleY||1e-8),this.container.rotation=e.rotation,this.container._visible=e.visible&&!this.hide}}],r=[{key:\"createState\",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r,i,o;r=e,o=n[i=t],i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})}return e}({t:0<arguments.length&&void 0!==arguments[0]?arguments[0]:1},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{curve:2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}})}}],n&&E(t.prototype,n),r&&E(t,r),e;var t,n,r}();function k(e){return Object.keys(e).length===Object.keys(_.createState()).length}function P(e){return(P=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function R(e,t,n){return(R=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),e}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var W=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),e=function(e,t){return!t||\"object\"!==P(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,j(t).call(this)),Object.assign(e.defaultState,{fillColor:t.defaultFillColor(),lineWidth:t.defaultLineWidth(),lineColor:t.defaultLineColor(),fillAlpha:t.defaultFillAlpha(),lineAlpha:t.defaultLineAlpha(),blendMode:PIXI.BLEND_MODES.NORMAL}),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,_),M(t,null,[{key:\"defaultLineWidth\",value:function(){return 0}},{key:\"defaultFillColor\",value:function(){return 16777215}},{key:\"defaultLineColor\",value:function(){return 0}},{key:\"defaultLineAlpha\",value:function(){return 1}},{key:\"defaultFillAlpha\",value:function(){return 1}}]),M(t,[{key:\"initDisplay\",value:function(){R(j(t.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Graphics,this.graphics.lineStyle(this.defaultState.lineWidth,this.defaultState.lineColor,this.defaultState.lineAlpha),null!==this.defaultState.fillColor&&this.graphics.beginFill(this.defaultState.fillColor,this.defaultState.fillAlpha)}},{key:\"updateDisplay\",value:function(e,n,r){R(j(t.prototype),\"updateDisplay\",this).call(this,e,n,r),this.graphics.blendMode=e.blendMode}}]),t}();function A(e){return(A=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function I(e,t,n){return(I=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),e}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var K=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),(e=function(e,t){return!t||\"object\"!==A(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,D(t).call(this))).defaultState.radius=t.defaultRadius(),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,W),U(t,null,[{key:\"defaultRadius\",value:function(){return 100}}]),U(t,[{key:\"initDisplay\",value:function(){I(D(t.prototype),\"initDisplay\",this).call(this),this.graphics.drawCircle(0,0,this.defaultState.radius),null!==this.defaultState.fillColor&&this.graphics.endFill()}},{key:\"updateDisplay\",value:function(e,n,r){I(D(t.prototype),\"updateDisplay\",this).call(this,e,n,r),(n.radius||n.lineColor||n.lineWidth||n.fillColor||n.fillAlpha||n.lineAlpha)&&(this.graphics.clear(),null!==e.fillColor&&this.graphics.beginFill(e.fillColor,e.fillAlpha),this.graphics.lineStyle(r.atLeastOnePixel(e.lineWidth),e.lineColor),this.graphics.drawCircle(0,0,e.radius*r.toWorldUnits),null!==e.fillColor&&this.graphics.endFill())}}]),t}();function X(e){return(X=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function L(e,t,n){return(L=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=H(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){return t&&z(e.prototype,t),n&&z(e,n),e}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),(e=function(e,t){return!t||\"object\"!==X(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,H(t).call(this))).defaultState.x2=t.defaultPosition(),e.defaultState.y2=t.defaultPosition(),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,W),B(t,null,[{key:\"defaultPosition\",value:function(){return 100}}]),B(t,[{key:\"initDisplay\",value:function(){L(H(t.prototype),\"initDisplay\",this).call(this)}},{key:\"updateDisplay\",value:function(e,n,r){L(H(t.prototype),\"updateDisplay\",this).call(this,e,n,r),(n.lineWidth||n.lineColor||n.lineAlpha||n.x2||n.y2)&&(this.graphics.clear(),this.graphics.lineStyle(r.atLeastOnePixel(e.lineWidth),e.lineColor,e.lineAlpha),this.graphics.moveTo(0,0),this.graphics.lineTo(-this.container.x+e.x2*r.toWorldUnits,-this.container.y+e.y2*r.toWorldUnits))}}]),t}();function q(e){return(q=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function V(e,t,n){return(V=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=J(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t,n){return t&&Q(e.prototype,t),n&&Q(e,n),e}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var te=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),e=function(e,t){return!t||\"object\"!==q(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,J(t).call(this)),Object.assign(e.defaultState,{width:t.defaultSideLength(),height:t.defaultSideLength()}),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(t,W),Z(t,null,[{key:\"defaultSideLength\",value:function(){return 100}}]),Z(t,[{key:\"initDisplay\",value:function(){V(J(t.prototype),\"initDisplay\",this).call(this),this.graphics.drawRect(0,0,this.defaultState.width,this.defaultState.height),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(e,n,r){V(J(t.prototype),\"updateDisplay\",this).call(this,e,n,r),(n.lineWidth||n.lineColor||n.width||n.height||n.lineAlpha||n.fillColor)&&(this.graphics.clear(),null!==e.fillColor&&this.graphics.beginFill(e.fillColor,e.fillAlpha),this.graphics.lineStyle(r.atLeastOnePixel(e.lineWidth),e.lineColor,e.lineAlpha),this.graphics.drawRect(0,0,e.width*r.toWorldUnits,e.height*r.toWorldUnits),null!==e.fillColor&&this.graphics.endFill())}}]),t}();function ne(e){return(ne=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function re(e,t,n){return(re=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ie(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t,n){return t&&oe(e.prototype,t),n&&oe(e,n),e}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var se=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),e=function(e,t){return!t||\"object\"!==ne(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,ie(t).call(this)),Object.assign(e.defaultState,{anchorX:t.defaultAnchor(),anchorY:t.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215}),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,_),ae(t,null,[{key:\"defaultAnchor\",value:function(){return 0}}]),ae(t,[{key:\"initDisplay\",value:function(){re(ie(t.prototype),\"initDisplay\",this).call(this)}},{key:\"updateDisplay\",value:function(e,n,r){re(ie(t.prototype),\"updateDisplay\",this).call(this,e,n,r),this.graphics.anchor.set(e.anchorX,e.anchorY),this.graphics.blendMode=e.blendMode,this.graphics.tint=e.tint}}]),t}();function le(e){return(le=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function ce(e){var t=\"function\"==typeof Map?new Map:void 0;return(ce=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf(\"[native code]\")}(e))return e;if(\"function\"!=typeof e)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){return(function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&fe(i,n.prototype),i}).apply(null,arguments)}(e,arguments,ye(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),fe(n,e)})(e)}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pe=function(e){function t(e,n){var r;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),(r=function(e,t){return!t||\"object\"!==le(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,ye(t).call(this,'Could not find image: \"'+e+'\". Make sure it is in your assets folder and is spelled correctly.'))).image=e,r.cause=n,r.name=\"MissingImageError\",r}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(t,ce(Error)),t}();function he(e){return(he=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t,n){return(me=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=be(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ve=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),e=function(e,t){return!t||\"object\"!==he(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,be(t).call(this)),Object.assign(e.defaultState,{image:null,baseWidth:null,baseHeight:null}),e.missingTextures={},e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(t,se),function(e,t,n){t&&de(e.prototype,t)}(t,[{key:\"initDisplay\",value:function(){me(be(t.prototype),\"initDisplay\",this).call(this),null===this.defaultState.image?this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY):this.graphics=PIXI.Sprite.fromFrame(this.defaultState.image)}},{key:\"updateDisplay\",value:function(e,n,r){if(me(be(t.prototype),\"updateDisplay\",this).call(this,e,n,r),n.image)try{null!==e.image?this.graphics.texture=PIXI.Texture.fromFrame(e.image):this.graphics.texture=PIXI.Texture.EMPTY}catch(n){this.missingTextures[e.image]||(this.missingTextures[e.image]=!0,O.push(new pe(e.image,n)))}n.baseWidth&&(this.graphics.width=e.baseWidth),n.baseHeight&&(this.graphics.height=e.baseHeight)}}]),t}();function xe(e){return(xe=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t,n){return(Oe=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=we(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _e=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),e=function(e,t){return!t||\"object\"!==xe(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,we(t).call(this)),Object.assign(e.defaultState,{text:\"\",strokeColor:0,strokeThickness:0,fillColor:0,fontSize:26,fontFamily:\"Lato\",fontWeight:\"normal\"}),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(t,se),function(e,t,n){t&&Se(e.prototype,t)}(t,[{key:\"initDisplay\",value:function(){Oe(we(t.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Text(this.defaultState.text,{fontSize:this.defaultState.fontSize+\"px\",fontFamily:this.defaultState.fontFamily,fill:this.defaultState.fillColor})}},{key:\"updateDisplay\",value:function(e,n,r){Oe(we(t.prototype),\"updateDisplay\",this).call(this,e,n,r),this.graphics.text=e.text,this.graphics.style.stroke=e.strokeColor,this.graphics.style.strokeThickness=r.atLeastOnePixel(e.strokeThickness),this.graphics.style.fill=e.fillColor,this.graphics.style.fontSize=e.fontSize||1,this.graphics.style.fontFamily=e.fontFamily,this.graphics.style.fontWeight=e.fontWeight}}]),t}();function ke(e){return(ke=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Pe(e){var t=\"function\"==typeof Map?new Map:void 0;return(Pe=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf(\"[native code]\")}(e))return e;if(\"function\"!=typeof e)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){return(function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Re(i,n.prototype),i}).apply(null,arguments)}(e,arguments,je(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Re(n,e)})(e)}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fe=function(e){function t(e,n){var r;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),(r=function(e,t){return!t||\"object\"!==ke(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,je(t).call(this,'Could not find font: \"'+e+'\". Make sure it is in your assets folder and is spelled correctly.'))).font=e,r.cause=n,r.name=\"MissingBitmapFontError\",r}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(t,Pe(Error)),t}();function Me(e){return(Me=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t,n){return(We=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ae(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var De=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),e=function(e,t){return!t||\"object\"!==Me(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,Ae(t).call(this)),Object.assign(e.defaultState,{text:\"\",fontSize:26,fontFamily:null,anchorX:se.defaultAnchor(),anchorY:se.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215}),e.missingFonts={},e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(t,_),function(e,t,n){t&&Te(e.prototype,t)}(t,[{key:\"initDisplay\",value:function(){We(Ae(t.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(e,n,r){We(Ae(t.prototype),\"updateDisplay\",this).call(this,e,n,r),null!==e.fontFamily?PIXI.extras.BitmapText.fonts[e.fontFamily]?(0===this.graphics.children.length?(this.displayed=new PIXI.BitmapText(e.text,{font:{size:e.fontSize||1,name:e.fontFamily}}),this.graphics.addChild(this.displayed)):(this.displayed.text=e.text,this.displayed.font={size:e.fontSize||1,name:e.fontFamily}),this.displayed.anchor.set(e.anchorX,e.anchorY),this.displayed.blendMode=e.blendMode,this.displayed.tint=e.tint):(this.missingFonts[e.fontFamily]||(this.missingFonts[e.fontFamily]=!0,O.push(new Fe(e.fontFamily))),this.graphics.removeChildren()):this.graphics.removeChildren()}}]),t}();function Ce(e){return(Ce=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t,n){return(Ye=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ke(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ke(e){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Le=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),e=function(e,t){return!t||\"object\"!==Ce(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,Ke(t).call(this)),Object.assign(e.defaultState,{children:[]}),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(t,_),function(e,t,n){t&&Ue(e.prototype,t)}(t,[{key:\"initDisplay\",value:function(){Ye(Ke(t.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(e,n,r){Ye(Ke(t.prototype),\"updateDisplay\",this).call(this,e,n,r)}},{key:\"childrenContainer\",get:function(){return this.graphics}}]),t}();function He(e){return(He=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ge=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){return!t||\"object\"!==He(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,ze(t).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(t,Le),t}(),Ne=null,qe=[];function $e(e){qe.push(e)}function Ve(e){return(Ve=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t,n){return(Qe=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ze(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){return!t||\"object\"!==Ve(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,Ze(t).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(t,Le),function(e,t,n){t&&Je(e.prototype,t)}(t,[{key:\"initDisplay\",value:function(){Qe(Ze(t.prototype),\"initDisplay\",this).call(this),this.gameTexture=PIXI.RenderTexture.create(1920,1080),$e(this.gameTexture),this.graphics=new PIXI.Sprite(this.gameTexture),this.buffer=new PIXI.Container,this.needsRender=!0}},{key:\"postUpdate\",value:function(){this.needsRender&&(Ne.render(this.buffer,this.gameTexture),this.needsRender=!1)}},{key:\"notifyChange\",value:function(){this.needsRender=!0,this.parent&&this.parent.notifyChange()}},{key:\"childrenContainer\",get:function(){return this.buffer}}]),t}();function nt(e){return(nt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t,n){return(it=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ot(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ut=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),e=function(e,t){return!t||\"object\"!==nt(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,ot(t).call(this)),Object.assign(e.defaultState,{images:\"\",loop:!1,duration:1e3,playing:!0,restarted:null,animationProgressTime:0,date:0}),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}(t,se),function(e,t,n){t&&rt(e.prototype,t)}(t,[{key:\"initDisplay\",value:function(){it(ot(t.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY)}},{key:\"addState\",value:function(e,n,r,i){it(ot(t.prototype),\"addState\",this).call(this,e,n,r);var o=this.states[r].find(function(t){return t.t===e}),a=i.date+i.frameDuration*e;o.date=a}},{key:\"updateDisplay\",value:function(e,n,r,i,u){if(it(ot(t.prototype),\"updateDisplay\",this).call(this,e,n,r),e.images){var s=e.duration,l=e.images.split(\",\"),c=(e.loop?o:a)(0,s,e.animationProgressTime);if(0<=c){var f=Math.floor(l.length*c),y=e.loop?l[f%l.length]:l[f]||l[l.length-1];try{this.graphics.texture=PIXI.Texture.fromFrame(y)}catch(e){O.push(new pe(y,e))}}}else this.graphics.texture=PIXI.Texture.EMPTY}},{key:\"computeAnimationProgressTime\",value:function(e,t){t.restarted&&t.restarted.date===t.date?t.animationProgressTime=0:(t.animationProgressTime=e.animationProgressTime,e.playing&&(t.animationProgressTime+=t.date-e.date))}}]),t}();function st(e){return(st=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function lt(e,t,n){return(lt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ct(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yt(e,t,n){return t&&ft(e.prototype,t),n&&ft(e,n),e}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ht=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),e=function(e,t){return!t||\"object\"!==st(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,ct(t).call(this)),Object.assign(e.defaultState,{width:t.defaultSideLength(),height:t.defaultSideLength(),radius:t.defaultRadius()}),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(t,W),yt(t,null,[{key:\"defaultSideLength\",value:function(){return 100}},{key:\"defaultRadius\",value:function(){return 20}}]),yt(t,[{key:\"initDisplay\",value:function(){lt(ct(t.prototype),\"initDisplay\",this).call(this),this.graphics.drawRoundedRect(0,0,this.defaultState.width,this.defaultState.height,this.defaultState.radius),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(e,n,r){lt(ct(t.prototype),\"updateDisplay\",this).call(this,e,n,r),(n.lineWidth||n.lineColor||n.lineAlpha||n.fillColor||n.radius||n.height||n.width)&&(this.graphics.clear(),null!==e.fillColor&&this.graphics.beginFill(e.fillColor,e.fillAlpha),this.graphics.lineStyle(r.atLeastOnePixel(e.lineWidth),e.lineColor,e.lineAlpha),this.graphics.drawRoundedRect(0,0,e.width*r.toWorldUnits,e.height*r.toWorldUnits,e.radius*r.toWorldUnits),null!==e.fillColor&&this.graphics.endFill())}}]),t}();function dt(e){return(dt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bt(e,t,n){return(bt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gt(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xt=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),e=function(e,t){return!t||\"object\"!==dt(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,gt(t).call(this)),Object.assign(e.defaultState,{points:[]}),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vt(e,t)}(t,W),function(e,t,n){t&&mt(e.prototype,t)}(t,[{key:\"initDisplay\",value:function(){bt(gt(t.prototype),\"initDisplay\",this).call(this),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(e,n,r){bt(gt(t.prototype),\"updateDisplay\",this).call(this,e,n,r),(n.lineWidth||n.lineColor||n.lineAlpha||n.fillColor||n.points)&&(this.graphics.clear(),null!==e.fillColor&&this.graphics.beginFill(e.fillColor,e.fillAlpha),this.graphics.lineStyle(r.atLeastOnePixel(e.lineWidth),e.lineColor,e.lineAlpha),this.graphics.drawPolygon(e.points.map(function(e){return e*r.toWorldUnits})),null!==e.fillColor&&this.graphics.endFill())}}]),t}();function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ot=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}return function(e,t,n){n&&St(e,n)}(e,0,[{key:\"create\",value:function(e){var t={C:K,R:te,L:N,S:ve,T:_e,X:De,G:Ge,B:tt,A:ut,K:ht,P:xt}[e];if(!t)throw new Error(\"Exception: entity type not found: \"+e);return new t}}]),e}();function wt(e){var t=1.70158,n=0,r=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),t=r<Math.abs(1)?(r=1,n/4):n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*e)*Math.sin((1*e-t)*(2*Math.PI)/n)+1+0)}function Et(e){return e<.5?2*e*e:(4-2*e)*e-1}function _t(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pt(e,t,n){return t&&kt(e.prototype,t),n&&kt(e,n),e}var Rt={r:\"rotation\",R:\"radius\",X:\"x2\",Y:\"y2\",w:\"width\",h:\"height\",t:\"tint\",f:\"fillColor\",F:\"fillAlpha\",c:\"lineColor\",W:\"lineWidth\",A:\"lineAlpha\",a:\"alpha\",i:\"image\",S:\"strokeThickness\",sc:\"strokeColor\",ff:\"fontFamily\",s:\"fontSize\",fw:\"fontWeight\",T:\"text\",ch:\"children\",sx:\"scaleX\",sy:\"scaleY\",ax:\"anchorX\",ay:\"anchorY\",v:\"visible\",z:\"zIndex\",b:\"blendMode\",I:\"images\",rs:\"restarted\",p:\"playing\",l:\"loop\",d:\"duration\",bw:\"baseWidth\",bh:\"baseHeight\",ps:\"points\"},jt=function(){function e(t,n){_t(this,e),this.id=++n.instanceCount,this.type=t[0]}return Pt(e,[{key:\"apply\",value:function(e){var t=Ot.create(this.type);t.id=this.id,e.set(this.id,t)}}]),e}(),Ft=function(){function e(t,n){var i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}(t,8),o=i[0],a=i[1],u=i[2],s=i[3],l=i[4],c=i[5],f=i[6],y=i[7];_t(this,e),this.loader=new PIXI.loaders.Loader;for(var p=0<y?y:f,h={frames:{},meta:{image:(r.baseUrl?r.baseUrl:\"\")+r.images[a]}},d=0;d<f;d++){var m=1<f?o+d:o;h.frames[m]={frame:{x:u*c+d%p*u,y:s*l+Math.floor(d/p)*s,w:u,h:s},sourceSize:{w:u,h:s},rotated:!1,trimmed:!1}}var b=\"data:text/json;charset=UTF-8,\"+JSON.stringify(h);PIXI.utils.TextureCache[b+\"_image\"]||this.loader.add(b,{crossOrigin:!0})}return Pt(e,[{key:\"apply\",value:function(){var e=this;if(0<Object.keys(this.loader.resources).length)return new Promise(function(t){e.loader.load(),e.loader.on(\"complete\",t)})}}]),e}();function Mt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function Tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Wt={C:jt,U:function(){function e(t,n,r){_t(this,e);var i=0;for(this.id=+t[i++],this.t=+t[i++],this.params={},this.curve={};i<t.length;){var o=Rt[t[i]]||t[i],a=b[o]||b.default,u=a.type(t[i+1]);\"function\"==typeof a.convert&&(u=a.convert(u,n,r,this.t));var s=e.curves[t[i+2]];this.params[o]=u,i+=2,s&&(this.curve[o]=s,i+=1)}}return Pt(e,null,[{key:\"curves\",get:function(){return{_:function(e){return e<1?0:1},\"∫\":Et,\"~\":wt,\"Γ\":function(e){return 1}}}}]),Pt(e,[{key:\"apply\",value:function(e,t){e.get(this.id).addState(this.t,{values:this.params,curve:this.curve},t.number,t)}}]),e}(),L:Ft,W:function(){function e(t,n){_t(this,e),this.times=t.map(function(e){return+e})}return Pt(e,[{key:\"apply\",value:function(e,t){var n=this;e.forEach(function(e){n.times.forEach(function(n){e.addState(n,{values:{},curve:{}},t.number,t)})})}}]),e}()};function At(e,t){for(var n=[],r=\"\",i=0,o=\"\",a=!1;i<e.length;){var u=e[i++];u===t?a?r+=u:(n.push(r),r=\"\"):\"'\"===u&&\"\\\\\"!==o?(a=!a,r+=u):\"\\\\\"===o?r+=\"'\"===u?\"\\\\'\":\"\\\\\"+u:\"\\\\\"!==u&&(r+=u),o=u}return n.push(r),n}function It(e,t,n,r){var i=At(t,\";\"),o=[];return i.forEach(function(t){return o.push(new e(At(t,\" \"),n,r))}),o}var Dt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}return function(e,t,n){n&&Tt(e,n)}(e,0,[{key:\"parse\",value:function(e,t,n){var r=[],i=At(e,\"\\n\");for(var o in i){var a=Wt[i[o][0]];if(!a)throw new Error(\"Unrecognised command : \"+i[o][0]);r=[].concat(Mt(r),Mt(It(a,i[o].slice(1),t,n)))}return r}}]),e}();function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ut(e,t,n[t])})}return e}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Kt={},Xt=[function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.entities=new Map,this.frames=[],this.loadingAssets=0,this.extrapolationMap={},this.globalData={toWorldUnits:1,mustResetTree:!0,mustResort:!0,maskUpdates:{},updatedBuffers:[],players:[],instanceCount:0,atLeastOnePixel:function(e){return 0<e&&e<this.toPixel?this.toPixel:e}},Kt.entities=this.entities}return function(e,t,n){t&&Yt(e.prototype,t),n&&Yt(e,n)}(e,[{key:\"handleFrameData\",value:function(e,t){var n=this;if(t){var r=Dt.parse(t,this.globalData,e);r&&r.forEach(function(t){var r=t.apply(n.entities,e);r&&(n.loadingAssets++,r.then(function(){n.loadingAssets--}))})}var i=Ct({},e);return i.previous=this.frames[this.frames.length-1]||i,this.extrapolate(i),i!==i.previous&&(i.previous.next=i),this.frames.push(i),i}},{key:\"lastElementOf\",value:function(e){return e[e.length-1]}},{key:\"extrapolate\",value:function(e){var t=this,n=e.number,r=e.previous.number;this.entities.forEach(function(i){i.states[n]||(i.states[n]=[]),t.extrapolationMap[i.id]||(t.extrapolationMap[i.id]=Ct({},i.defaultState));var o=i.states[n];o.sort(function(e,t){return e.t-t.t}),o.length&&1===t.lastElementOf(o).t||i.addState(1,{},n,e);var a=t.extrapolationMap[i.id];i.states[r]&&r!==n&&(a=i.states[r][i.states[r].length-1]),i.states[n]=o.map(function(e){var n=t.extrapolationMap[i.id]=Ct({},t.extrapolationMap[i.id],e);return\"function\"==typeof i.computeAnimationProgressTime&&i.computeAnimationProgressTime(a,n),a=n})})}},{key:\"reinitScene\",value:function(e,t){this.globalData.toPixel=1920/t.width*t.oversampling,this.globalData.mustResetTree=!0,Kt.container=this.container=e,this.entities.forEach(function(e){e.init()})}},{key:\"sortChildren\",value:function(e){e.children.sort(function(e,t){return e.zIndex===t.zIndex?e.id-t.id:e.zIndex-t.zIndex})}},{key:\"stillLoading\",value:function(){return 0<this.loadingAssets}},{key:\"updateScene\",value:function(e,t,n){var r=this;if(!this.stillLoading()){for(var i in this.entities.forEach(function(e){return e.render(n,t,r.globalData)}),this.globalData.mustResetTree&&(this.reconstructTree(),this.globalData.mustResetTree=!1,this.globalData.mustResort=!0),this.globalData.mustResort&&(this.resortTree(),this.globalData.mustResort=!1),this.globalData.maskUpdates){var o=this.entities.get(+i),a=this.globalData.maskUpdates[i];o.container.mask=-1===a?null:this.entities.get(a).graphics}var u=!0,s=!1,l=void 0;try{for(var c,f=this.globalData.updatedBuffers[Symbol.iterator]();!(u=(c=f.next()).done);u=!0)c.value.postUpdate()}catch(e){s=!0,l=e}finally{try{u||null==f.return||f.return()}finally{if(s)throw l}}this.globalData.maskUpdates={}}}},{key:\"resortTree\",value:function(){var e=this;this.entities.forEach(function(t){t instanceof Le&&e.sortChildren(t.childrenContainer)}),this.sortChildren(this.container)}},{key:\"reconstructTree\",value:function(){var e=this;this.container.removeChildren(),this.entities.forEach(function(t){t instanceof Le&&(t.childrenContainer.removeChildren(),t.currentState.children.forEach(function(n){var r=e.entities.get(n);t.childrenContainer.addChild(r.container),r.parent=t}))}),this.entities.forEach(function(t){t.container.parent||e.container.addChild(t.container)})}},{key:\"handleGlobalData\",value:function(e,t){this.globalData.players=e;var n=t.width,r=t.height;this.globalData.toWorldUnits=u(n,r,1920,1080),Kt.toWorldUnits=this.globalData.toWorldUnits,Kt.hasOwnProperty(\"coeff\")||Object.defineProperty(Kt,\"coeff\",{get:function(){var e='The \"coeff\" property of GraphicEntityModule\\'s API is deprecated, please use \"toWorldUnits\" instead',t=(new Error).stack;return console.groupCollapsed?(console.groupCollapsed(\"%cDeprecation Warning: %c%s\",\"color:#614108;background:#fffbe6\",\"font-weight:normal;color:#614108;background:#fffbe6\",e),console.warn(t),console.groupEnd()):console.warn(\"Deprecation Warning: \",e),Kt.toWorldUnits}})}}],[{key:\"name\",get:function(){return\"entitymodule\"}}]),e}()],Lt=[\"#3ac5ca\",\"#ff3333\"],Ht={views:['KEY_FRAME 0\\n{\"global\":{\"entitymodule\":{\"width\":1920,\"height\":1080}},\"frame\":{\"entitymodule\":\"CS;S;T;S;S;S;T;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S\\\\nU41 1 x 1149 i black_piece.png y 654 v 1 mask 40;42 1 x 639 i mask.png y 756 v 1;48 1 x 1251 i mask.png y 756 v 1;47 1 x 1047 i black_piece.png y 756 v 1 mask 46;19 1 x 537 i red_piece.png y 246 v 1 mask 18;34 1 x 537 i mask.png y 654 v 1;38 1 x 945 i mask.png y 654 v 1;25 1 x 1149 i red_piece.png y 246 v 1 mask 24;13 1 x 843 i red_piece.png y 144 v 1 mask 12;35 1 x 537 i black_piece.png y 654 v 1 mask 34;43 1 x 639 i black_piece.png y 756 v 1 mask 42;53 1 x 741 i black_piece.png y 858 v 1 mask 52;3 1 ay 0 v 1 ax 0 S 2 x 192 y 940 s 50 T $0;10 1 x 639 i mask.png y 144 v 1;55 1 x 945 i black_piece.png y 858 v 1 mask 54;26 1 x 639 i mask.png y 348 v 1;17 1 x 1251 i red_piece.png y 144 v 1 mask 16;29 1 x 843 i red_piece.png y 348 v 1 mask 28;22 1 x 945 i mask.png y 246 v 1;31 1 x 1047 i red_piece.png y 348 v 1 mask 30;28 1 x 843 i mask.png y 348 v 1;56 1 x 1149 i mask.png y 858 v 1;33 1 x 1251 i red_piece.png y 348 v 1 mask 32;20 1 x 741 i mask.png y 246 v 1;44 1 x 843 i mask.png y 756 v 1;52 1 x 741 i mask.png y 858 v 1;54 1 x 945 i mask.png y 858 v 1;24 1 x 1149 i mask.png y 246 v 1;11 1 x 639 i red_piece.png y 144 v 1 mask 10;37 1 x 741 i black_piece.png y 654 v 1 mask 36;57 1 x 1149 i black_piece.png y 858 v 1 mask 56;30 1 x 1047 i mask.png y 348 v 1;46 1 x 1047 i mask.png y 756 v 1;27 1 x 639 i red_piece.png y 348 v 1 mask 26;15 1 x 1047 i red_piece.png y 144 v 1 mask 14;2 1 bw 200 i $0 ay 0 v 1 ax 0 x 120 y 720 bh 200;12 1 x 843 i mask.png y 144 v 1;18 1 x 537 i mask.png y 246 v 1;16 1 x 1251 i mask.png y 144 v 1;23 1 x 945 i red_piece.png y 246 v 1 mask 22;49 1 x 1251 i black_piece.png y 756 v 1 mask 48;4 1 i black_piece.png ay 0 v 1 ax 0 x 80 y 930 mask 5;32 1 x 1251 i mask.png y 348 v 1;45 1 x 843 i black_piece.png y 756 v 1 mask 44;50 1 x 537 i mask.png y 858 v 1;8 1 i red_piece.png ay 0 v 1 ax 0 x 80 y 260 mask 9;39 1 x 945 i black_piece.png y 654 v 1 mask 38;5 1 x 80 i mask.png y 930 v 1;9 1 x 80 i mask.png y 260 v 1;1 1 i background.jpg ay 0 v 1 ax 0;40 1 x 1149 i mask.png y 654 v 1;7 1 ay 0 v 1 ax 0 S 2 x 192 y 270 s 50 T $1;36 1 x 741 i mask.png y 654 v 1;51 1 x 537 i black_piece.png y 858 v 1 mask 50;21 1 x 741 i red_piece.png y 246 v 1 mask 20;6 1 bw 200 i $1 ay 0 v 1 ax 0 x 120 y 50 bh 200;14 1 x 1047 i mask.png y 144 v 1\\\\nW1\"}}\\n','KEY_FRAME 1\\n{\"entitymodule\":\"U35 1 x 639 y 552;34 1 x 639 y 552\\\\nW1\"}\\n','KEY_FRAME 2\\n{\"entitymodule\":\"U26 1 x 741 y 450;27 1 x 741 y 450\\\\nW1\"}\\n','KEY_FRAME 3\\n{\"entitymodule\":\"U35 1 x 537 y 450;34 1 x 537 y 450\\\\nW1\"}\\n','KEY_FRAME 4\\n{\"entitymodule\":\"U19 1 x 639 y 348;18 1 x 639 y 348\\\\nW1\"}\\n','KEY_FRAME 5\\n{\"entitymodule\":\"U37 1 x 843 y 552;36 1 x 843 y 552\\\\nW1\"}\\n','KEY_FRAME 6\\n{\"entitymodule\":\"U11 1 x 537 y 246;10 1 x 537 y 246\\\\nW1\"}\\n','KEY_FRAME 7\\n{\"entitymodule\":\"U37 1 x 945 y 450;36 1 x 945 y 450\\\\nW1\"}\\n','KEY_FRAME 8\\n{\"entitymodule\":\"U37 1 x 1641 y 804;29 1 x 1047 y 552;36 1 x 1641 y 804;28 1 x 1047 y 552\\\\nW1\"}\\n','KEY_FRAME 9\\n{\"entitymodule\":\"U29 1 x 1770 y 609;39 1 x 1149 y 450;28 1 x 1770 y 609;38 1 x 1149 y 450\\\\nW1\"}\\n','KEY_FRAME 10\\n{\"entitymodule\":\"U30 1 x 1251 y 552;31 1 x 1251 y 552;39 1 x 1810 y 412;38 1 x 1810 y 412\\\\nW1\"}\\n','KEY_FRAME 11\\n{\"entitymodule\":\"U40 1 x 1047 y 552;41 1 x 1047 y 552\\\\nW1\"}\\n','KEY_FRAME 12\\n{\"entitymodule\":\"U20 1 x 843 y 348;21 1 x 843 y 348\\\\nW1\"}\\n','KEY_FRAME 13\\n{\"entitymodule\":\"U35 1 x 741 y 246;19 1 x 1744 y 639;34 1 x 741 y 246;18 1 x 1744 y 639\\\\nW1\"}\\n','KEY_FRAME 14\\n{\"entitymodule\":\"U13 1 x 639 y 348;35 1 x 1804 y 381;34 1 x 1804 y 381;12 1 x 639 y 348\\\\nW1\"}\\n','KEY_FRAME 15\\n{\"entitymodule\":\"U40 1 x 1149 y 450;41 1 x 1149 y 450\\\\nW1\"}\\n','KEY_FRAME 16\\n{\"entitymodule\":\"U40 1 x 1733 y 493;32 1 x 1047 y 552;41 1 x 1733 y 493;33 1 x 1047 y 552\\\\nW1\"}\\n','KEY_FRAME 17\\n{\"entitymodule\":\"U42 1 x 741 y 654;43 1 x 741 y 654\\\\nW1\"}\\n','KEY_FRAME 18\\n{\"entitymodule\":\"U23 1 x 1047 y 348;22 1 x 1047 y 348\\\\nW1\"}\\n','KEY_FRAME 19\\n{\"entitymodule\":\"U42 1 x 843 y 552;43 1 x 843 y 552\\\\nW1\"}\\n','KEY_FRAME 20\\n{\"entitymodule\":\"U26 1 x 945 y 654;42 1 x 1613 y 202;27 1 x 945 y 654;43 1 x 1613 y 202\\\\nW1\"}\\n','KEY_FRAME 21\\n{\"entitymodule\":\"U26 1 x 1710 y 422;46 1 x 843 y 552;27 1 x 1710 y 422;47 1 x 843 y 552\\\\nW1\"}\\n','KEY_FRAME 22\\n{\"entitymodule\":\"U15 1 x 945 y 246;14 1 x 945 y 246\\\\nW1\"}\\n','KEY_FRAME 23\\n{\"entitymodule\":\"U46 1 x 945 y 450;47 1 x 945 y 450\\\\nW1\"}\\n','KEY_FRAME 24\\n{\"entitymodule\":\"U23 1 x 843 y 552;22 1 x 843 y 552;46 1 x 1786 y 379;47 1 x 1786 y 379\\\\nW1\"}\\n','KEY_FRAME 25\\n{\"entitymodule\":\"U44 1 x 945 y 654;45 1 x 945 y 654\\\\nW1\"}\\n','KEY_FRAME 26\\n{\"entitymodule\":\"U23 1 x 1047 y 756;44 1 x 1676 y 259;22 1 x 1047 y 756;45 1 x 1676 y 259\\\\nW1\"}\\n','KEY_FRAME 27\\n{\"entitymodule\":\"U23 1 x 1750 y 738;57 1 x 945 y 654;22 1 x 1750 y 738;56 1 x 945 y 654\\\\nW1\"}\\n','KEY_FRAME 28\\n{\"entitymodule\":\"U57 1 x 1149 y 450;32 1 x 1562 y 545;56 1 x 1149 y 450;33 1 x 1562 y 545\\\\nW1\"}\\n','KEY_FRAME 29\\n{\"entitymodule\":\"U15 1 x 1047 y 348;14 1 x 1047 y 348\\\\nW1\"}\\n','KEY_FRAME 30\\n{\"entitymodule\":\"U57 1 x 945 y 246;15 1 x 1522 y 742;56 1 x 945 y 246;14 1 x 1522 y 742\\\\nW1\"}\\n','KEY_FRAME 31\\n{\"entitymodule\":\"U24 1 x 1251 y 348;25 1 x 1251 y 348\\\\nW1\"}\\n','KEY_FRAME 32\\n{\"entitymodule\":\"U57 1 i black_king.png x 1047 y 144;56 1 x 1047 y 144\\\\nW1\"}\\n','KEY_FRAME 33\\n{\"entitymodule\":\"U17 1 x 1149 y 246;16 1 x 1149 y 246\\\\nW1\"}\\n','KEY_FRAME 34\\n{\"entitymodule\":\"U57 1 x 945 y 246;56 1 x 945 y 246\\\\nW1\"}\\n','KEY_FRAME 35\\n{\"entitymodule\":\"U17 1 x 1047 y 348;16 1 x 1047 y 348\\\\nW1\"}\\n','KEY_FRAME 36\\n{\"entitymodule\":\"U20 1 x 1770 y 538;57 1 x 741 y 450;56 1 x 741 y 450;21 1 x 1770 y 538\\\\nW1\"}\\n','KEY_FRAME 37\\n{\"entitymodule\":\"U13 1 x 843 y 552;57 1 x 1507 y 336;56 1 x 1507 y 336;12 1 x 843 y 552\\\\nW1\"}\\n','KEY_FRAME 38\\n{\"entitymodule\":\"U49 1 x 1149 y 654;48 1 x 1149 y 654\\\\nW1\"}\\n','KEY_FRAME 39\\n{\"entitymodule\":\"U30 1 x 1047 y 756;49 1 x 1539 y 383;31 1 x 1047 y 756;48 1 x 1539 y 383\\\\nW1\"}\\n','KEY_FRAME 40\\n{\"entitymodule\":\"U30 1 x 1801 y 173;31 1 x 1801 y 173;54 1 x 1149 y 654;55 1 x 1149 y 654\\\\nW1\"}\\n','KEY_FRAME 41\\n{\"entitymodule\":\"U11 1 x 639 y 348;10 1 x 639 y 348\\\\nW1\"}\\n','KEY_FRAME 42\\n{\"entitymodule\":\"U54 1 x 1251 y 552;55 1 x 1251 y 552\\\\nW1\"}\\n','KEY_FRAME 43\\n{\"entitymodule\":\"U11 1 x 741 y 450;10 1 x 741 y 450\\\\nW1\"}\\n','KEY_FRAME 44\\n{\"entitymodule\":\"U54 1 x 1149 y 450;55 1 x 1149 y 450\\\\nW1\"}\\n','KEY_FRAME 45\\n{\"entitymodule\":\"U17 1 x 1251 y 552;54 1 x 1531 y 309;55 1 x 1531 y 309;16 1 x 1251 y 552\\\\nW1\"}\\n','KEY_FRAME 46\\n{\"entitymodule\":\"U50 1 x 639 y 756;51 1 x 639 y 756\\\\nW1\"}\\n','KEY_FRAME 47\\n{\"entitymodule\":\"U24 1 x 1149 y 450;25 1 x 1149 y 450\\\\nW1\"}\\n','KEY_FRAME 48\\n{\"entitymodule\":\"U50 1 x 741 y 654;51 1 x 741 y 654\\\\nW1\"}\\n','KEY_FRAME 49\\n{\"entitymodule\":\"U13 1 x 639 y 756;50 1 x 1642 y 392;51 1 x 1642 y 392;12 1 x 639 y 756\\\\nW1\"}\\n','KEY_FRAME 50\\n{\"entitymodule\":\"U13 1 x 1514 y 775;52 1 x 537 y 654;53 1 x 537 y 654;12 1 x 1514 y 775\\\\nW1\"}\\n','KEY_FRAME 51\\n{\"entitymodule\":\"U11 1 x 843 y 552;10 1 x 843 y 552\\\\nW1\"}\\n','KEY_FRAME 52\\n{\"entitymodule\":\"U52 1 x 639 y 552;53 1 x 639 y 552\\\\nW1\"}\\n','KEY_FRAME 53\\n{\"entitymodule\":\"U24 1 x 1047 y 552;25 1 x 1047 y 552\\\\nW1\"}\\n','KEY_FRAME 54\\n{\"entitymodule\":\"U52 1 x 741 y 450;53 1 x 741 y 450\\\\nW1\"}\\n','KEY_FRAME 55\\n{\"entitymodule\":\"U11 1 x 945 y 654;10 1 x 945 y 654\\\\nW1\"}\\n','KEY_FRAME 56\\n{\"entitymodule\":\"U52 1 x 843 y 348;53 1 x 843 y 348\\\\nW1\"}\\n','KEY_FRAME 57\\n{\"entitymodule\":\"U24 1 x 1149 y 654;25 1 x 1149 y 654\\\\nW1\"}\\n','KEY_FRAME 58\\n{\"entitymodule\":\"U52 1 x 945 y 246;53 1 x 945 y 246\\\\nW1\"}\\n','KEY_FRAME 59\\n{\"entitymodule\":\"U11 1 x 1047 y 756;10 1 x 1047 y 756\\\\nW1\"}\\n','KEY_FRAME 60\\n{\"entitymodule\":\"U52 1 x 1047 y 144;53 1 i black_king.png x 1047 y 144\\\\nW1\"}\\n','KEY_FRAME 61\\n{\"entitymodule\":\"U24 1 x 1251 y 756;25 1 x 1251 y 756\\\\nW1\"}\\n','KEY_FRAME 62\\n{\"entitymodule\":\"U52 1 x 1149 y 246;53 1 x 1149 y 246\\\\nW1\"}\\n','KEY_FRAME 63\\n{\"entitymodule\":\"U17 1 x 1149 y 654;16 1 x 1149 y 654\\\\nW1\"}\\n','KEY_FRAME 64\\n{\"entitymodule\":\"U52 1 x 1251 y 144;53 1 x 1251 y 144\\\\nW1\"}\\n','KEY_FRAME 65\\n{\"entitymodule\":\"U11 1 i red_king.png x 1149 y 858;10 1 x 1149 y 858\\\\nW1\"}\\n','KEY_FRAME 66\\n{\"entitymodule\":\"U52 1 x 1149 y 246;53 1 x 1149 y 246\\\\nW1\"}\\n','KEY_FRAME 67\\n{\"entitymodule\":\"U17 1 x 1047 y 756;16 1 x 1047 y 756\\\\nW1\"}\\n','KEY_FRAME 68\\n{\"entitymodule\":\"U52 1 x 1251 y 144;53 1 x 1251 y 144\\\\nW1\"}\\n','KEY_FRAME 69\\n{\"entitymodule\":\"U17 1 i red_king.png x 945 y 858;16 1 x 945 y 858\\\\nW1\"}\\n','KEY_FRAME 70\\n{\"entitymodule\":\"U52 1 x 1149 y 246;53 1 x 1149 y 246\\\\nW1\"}\\n','KEY_FRAME 71\\n{\"entitymodule\":\"U17 1 x 1047 y 756;16 1 x 1047 y 756\\\\nW1\"}\\n','KEY_FRAME 72\\n{\"entitymodule\":\"U52 1 x 1251 y 144;53 1 x 1251 y 144\\\\nW1\"}\\n','KEY_FRAME 73\\n{\"entitymodule\":\"U17 1 x 1149 y 654;16 1 x 1149 y 654\\\\nW1\"}\\n','KEY_FRAME 74\\n{\"entitymodule\":\"U52 1 x 1149 y 246;53 1 x 1149 y 246\\\\nW1\"}\\n','KEY_FRAME 75\\n{\"entitymodule\":\"U17 1 x 1251 y 552;16 1 x 1251 y 552\\\\nW1\"}\\n','KEY_FRAME 76\\n{\"entitymodule\":\"U52 1 x 1251 y 144;53 1 x 1251 y 144\\\\nW1\"}\\n','KEY_FRAME 77\\n{\"entitymodule\":\"U17 1 x 1149 y 450;16 1 x 1149 y 450\\\\nW1\"}\\n','KEY_FRAME 78\\n{\"entitymodule\":\"U52 1 x 1149 y 246;53 1 x 1149 y 246\\\\nW1\"}\\n','KEY_FRAME 79\\n{\"entitymodule\":\"U17 1 x 1251 y 348;16 1 x 1251 y 348\\\\nW1\"}\\n','KEY_FRAME 80\\n{\"entitymodule\":\"U52 1 x 1251 y 144;53 1 x 1251 y 144\\\\nW1\"}\\n','KEY_FRAME 81\\n{\"entitymodule\":\"U17 1 x 1149 y 246;16 1 x 1149 y 246\\\\nW1\"}\\n','KEY_FRAME 82\\n{\"entitymodule\":\"U17 1 x 1667 y 278;52 1 x 1047 y 348;53 1 x 1047 y 348;16 1 x 1667 y 278\\\\nW1\"}\\n','KEY_FRAME 83\\n{\"entitymodule\":\"U11 1 x 1047 y 756;10 1 x 1047 y 756\\\\nW1\"}\\n','KEY_FRAME 84\\n{\"entitymodule\":\"U52 1 x 1149 y 246;53 1 x 1149 y 246\\\\nW1\"}\\n','KEY_FRAME 85\\n{\"entitymodule\":\"U11 1 x 1149 y 654;10 1 x 1149 y 654\\\\nW1\"}\\n','KEY_FRAME 86\\n{\"entitymodule\":\"U52 1 x 1251 y 144;53 1 x 1251 y 144\\\\nW1\"}\\n','KEY_FRAME 87\\n{\"entitymodule\":\"U11 1 x 1251 y 552;10 1 x 1251 y 552\\\\nW1\"}\\n','KEY_FRAME 88\\n{\"entitymodule\":\"U52 1 x 1149 y 246;53 1 x 1149 y 246\\\\nW1\"}\\n','KEY_FRAME 89\\n{\"entitymodule\":\"U11 1 x 1149 y 450;10 1 x 1149 y 450\\\\nW1\"}\\n','KEY_FRAME 90\\n{\"entitymodule\":\"U52 1 x 1251 y 144;53 1 x 1251 y 144\\\\nW1\"}\\n','KEY_FRAME 91\\n{\"entitymodule\":\"U11 1 x 1251 y 348;10 1 x 1251 y 348\\\\nW1\"}\\n','KEY_FRAME 92\\n{\"entitymodule\":\"U52 1 x 1149 y 246;53 1 x 1149 y 246\\\\nW1\"}\\n','KEY_FRAME 93\\n{\"entitymodule\":\"U11 1 x 1047 y 144;52 1 x 1838 y 808;53 1 x 1838 y 808;10 1 x 1047 y 144\\\\nW1\"}\\n'],agents:[{index:0,name:\"Player 0\",avatar:\"https://static.codingame.com/servlet/fileservlet?id=16085713250612&format=viewer_avatar\",agentId:0},{index:1,name:\"Player 1\",avatar:\"https://static.codingame.com/servlet/fileservlet?id=16085756802960&format=viewer_avatar\",agentId:1}]};function zt(e){return(zt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Bt(e){var t=\"function\"==typeof Map?new Map:void 0;return(Bt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf(\"[native code]\")}(e))return e;if(\"function\"!=typeof e)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){return(function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Gt(i,n.prototype),i}).apply(null,arguments)}(e,arguments,Nt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Gt(n,e)})(e)}function Gt(e,t){return(Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qt=function(e){function t(e,n){var r;return function(e,n){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),(r=function(e,t){return!t||\"object\"!==zt(t)&&\"function\"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(e):t}(this,Nt(t).call(this,'<Error in module \"'+e+'\">'))).cause=n,r.name=\"ModuleError\",r}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}(t,Bt(Error)),t}();function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Vt(e,t,n[t])})}return e}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,\"Drawer\",function(){return Qt});var Qt=function(){function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this),this.toDestroy=[];var n=t||Ht;if(n){var r=n.views,i=n.agents;this.demo={playerCount:i.length,logo:\"logo.png\",overlayAlpha:.2,agents:i,frames:r},this.demo.agents.forEach(function(t){t.color=e.playerColors[t.index]})}else this.demo=void 0}return t=e,n=[{key:\"getDefaultOverSampling\",value:function(){return 2}},{key:\"handleModuleError\",value:function(e,t){O.push(new qt(e,t)),console.error(t),O.push({message:'<Module \"'.concat(e,'\" disabled>\\n')}),delete this.modules[e]}},{key:\"instantiateModules\",value:function(){var e=!0,t=!(this.modules={}),n=void 0;try{for(var i,o=Xt[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;try{this.modules[a.name]=new a(r)}catch(e){this.handleModuleError(a.name,e)}}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},{key:\"destroy\",value:function(){this.alreadyLoaded&&(this.renderer.destroy(),this.endCallback=null),this.destroyed=!0}},{key:\"destroyScene\",value:function(e){!function(){for(var e=0,t=qe.length;e<t;++e)qe[e].destroy(!0);qe=[]}()}},{key:\"getGameName\",value:function(){}},{key:\"canSwapPlayers\",value:function(){return!1}},{key:\"getResources\",value:function(){return Object.assign({baseUrl:\"\",images:{},spines:{},sprites:[],fonts:[],others:[]},r)}},{key:\"getOptions\",value:function(){return[]}},{key:\"setDebug\",value:function(t){this.asyncRenderingTime=e.RenderTimeout}},{key:\"initPreload\",value:function(e,t,n,r,i){e.canvasWidth=r,e.canvasHeight=i,e.loaderProgress=new PIXI.Text(\"100\",{fontSize:.117*i||30,fontFamily:\"Lato\",fontWeight:\"900\",fill:\"white\",align:\"center\"}),e.loaderProgress.anchor.y=1,e.loaderProgress.anchor.x=1.3,e.progress=e.realProgress=n,e.loaderProgress.position.y=i,e.progressBar=new PIXI.Graphics,t.addChild(e.progressBar),t.addChild(e.loaderProgress)}},{key:\"preload\",value:function(e,t,n,r,i,o){e.progress=n}},{key:\"renderPreloadScene\",value:function(e,t){var n=Math.pow(.998,t);return e.realProgress=n*e.realProgress+(1-n)*e.progress,e.loaderProgress.text=(100*e.realProgress).toFixed(0),e.loaderProgress.position.x=e.realProgress*e.canvasWidth,e.progressBar.clear(),e.progressBar.beginFill(0,1),e.progressBar.drawRect(0,0,e.canvasWidth*e.realProgress+1,e.canvasHeight),e.progressBar.endFill(),e.progressBar.beginFill(4146246,1),e.progressBar.drawRect(e.canvasWidth*e.realProgress,0,e.canvasWidth,e.canvasHeight),e.progressBar.endFill(),!0}},{key:\"initDefaultScene\",value:function(t,n,r,i){var o=new PIXI.Container;if(t.drawer=this,t.renderables=[],t.time=0,this.demo){if(this.demo.logo)try{var a=PIXI.Sprite.fromFrame(this.demo.logo);a.position.set(e.WIDTH/2,e.HEIGHT/2),a.anchor.set(.5),a.baseScale=u(a.texture.width,a.texture.height,2*e.WIDTH/3,e.HEIGHT/2,0),o.addChild(a),t.logo=a}catch(n){O.push({cause:n,message:'Missing \"logo.png\" to complete replay.'}),t.logo=new PIXI.Container,t.logo.baseScale=1,o.addChild(t.logo),t.missingLogo=!0}var s=new PIXI.Graphics;t.missingLogo||(s.beginFill(0,this.demo.overlayAlpha||0),s.drawRect(0,0,e.WIDTH+20,e.HEIGHT+20),s.endFill(),s.x-=10,s.y-=10);var l=new PIXI.Container;try{this.initDefaultFrames(this.demo.playerCount,this.demo.frames,this.demo.agents),this.preconstructScene(this.scope,n,this.initWidth,this.initHeight),this.initScene(this.scope,l,this.frames,!0),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)}catch(n){O.push({cause:n,message:\"Cannot load demo, you might want to reset the demo\"})}t.demo=l,t.demotime=0,this.currentFrame=-1,n.addChild(l),n.addChild(s),n.addChild(o)}t.updateTime=0,t.frameTime=0}},{key:\"initDefaultFrames\",value:function(t,n,r){var i=this;this.instantiateModules(),this.playerInfo=r.map(function(e,t){return{name:e.name||\"Anonymous\",color:e.color?i.parseColor(e.color):\"#ffffff\",number:t,index:e.index,type:e.type,isMe:\"CODINGAMER\"===e.type&&e.typeData.me,avatar:e.avatarTexture}}),this.instantiateModules(),this._frames=n.map(function(e){var t,n=e.split(\"\\n\"),r=n[0].split(\" \");try{t=JSON.parse(n.slice(1).join(\"\\n\"))}catch(e){t={}}return $t({},t,{key:\"KEY_FRAME\"===r[0]})}).filter(function(e){return e.key}),this.parseGlobalData(this._frames[0].global),this.playerCount=t,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1;var o=this._frames[0].frame;o.key=this._frames[0].key,this.frames.push(this.parseFrame(o,this.frames));for(var a=1;a<this._frames.length;++a)this.frames.push(this.parseFrame(this._frames[a],this.frames));this.asyncRenderingTime=e.RenderTimeout}},{key:\"renderDefaultScene\",value:function(e,t){if(t=Math.min(80,t),void 0===this.demo)return!1;this.currentFrame=this.currentFrameTemp||0,e.frameTime+=t,e.updateTime+=t,e.demotime+=t/1e3;var n=Math.max(0,Math.min(1,(e.demotime-1)/.5));if(e.logo&&(e.logo.alpha=n,e.logo.scale.x=e.logo.scale.y=(3-2*n)*e.logo.baseScale),!e.missingLogo&&1.5<e.demotime&&e.demotime<=2.2){var r=15*Math.max(0,1-(e.demotime-1.5)/.7);e.demo.x=(2*Math.random()-1)*r,e.demo.y=(2*Math.random()-1)*r}else e.demo.x=e.demo.y=0;var i=this.getFrameDuration(this.currentFrame);return 30<=e.updateTime&&(e.updateTime-=30,0===this.currentFrame?this.progress=1:this.progress=a(0,i,e.frameTime),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)),e.frameTime>=i&&(e.frameTime-=i,this.currentFrame=(this.currentFrame+1)%this.frames.length),this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],t,!0),this.currentFrameTemp=this.currentFrame,this.currentFrame=-1,!0}},{key:\"endDefaultScene\",value:function(e,t){return!0}},{key:\"parseGlobalData\",value:function(e){for(var t in this.modules){var n=this.modules[t];\"function\"==typeof n.handleGlobalData&&n.handleGlobalData(this.playerInfo,e[t])}}},{key:\"parseFrame\",value:function(e,t){var n={data:{},frameInfo:{number:t.length}};if(n.previous=t[t.length-1]||n,n!==n.previous&&(n.previous.next=n),!e.key)return n.previous;for(var r in e.duration&&(this.currentFrameDuration=e.duration),n.frameInfo.frameDuration=this.currentFrameDuration,n===n.previous?(n.frameInfo.date=0,n.frameInfo.frameDuration=0):n.frameInfo.date=n.previous.frameInfo.date+n.previous.frameInfo.frameDuration,this.modules){var i=this.modules[r];\"function\"==typeof i.handleFrameData&&(n.data[r]=i.handleFrameData(n.frameInfo,e[r]))}return n}},{key:\"preconstructScene\",value:function(t,n,r,i){t.canvasHeight=i,t.canvasWidth=r,t.renderables=[],t.updatables=[],t.time=0,t.endTime=0,t.playerInfo=this.playerInfo,n.scale.x=r/e.WIDTH,n.scale.y=i/e.HEIGHT}},{key:\"initScene\",value:function(e,t,n){for(var r in this.modules){var i=this.modules[r],o=new PIXI.Container;try{i.reinitScene(o,{width:e.canvasWidth,height:e.canvasHeight,oversampling:this.oversampling})}catch(e){this.handleModuleError(r,e)}t.addChild(o)}}},{key:\"updateScene\",value:function(e,t,n,r,i,o,a){var u=n[r];e.currentFrame=u,e.currentProgress=i,e.reason=a;for(var s=0;s<e.updatables.length;++s)e.updatables[s].update(r,i,u,e);for(var l in this.modules){var c=this.modules[l];if(u.data.hasOwnProperty(l))try{c.updateScene(u.previous.data[l],u.data[l],i,o)}catch(e){this.handleModuleError(l,e)}}}},{key:\"initEndScene\",value:function(e,t){e.endSceneViewed=!1}},{key:\"destroyEndScene\",value:function(e){}},{key:\"renderEndScene\",value:function(e,t,n){0===e.endTime&&this.initEndScene(e,n),e.endTime+=t,void 0<=e.endTime&&!e.endSceneViewed&&(this.endCallback&&this.endCallback(),e.endSceneViewed=!0)}},{key:\"renderRenderables\",value:function(e,t){for(var n=[],r=0;r<t.renderables.length;++r){var i=t.renderables[r];i.render(e,t)||n.push(i)}t.renderables=n}},{key:\"renderScene\",value:function(e,t,n,r,i,o,a,u){u=Math.min(80,u);var s=!this.debugMode&&r===n.length-1&&1===i;for(var l in s?this.renderEndScene(e,u,\"Win\"!==a):(0<e.endTime&&this.destroyEndScene(e),e.endTime=0),this.renderRenderables(u,e),this.modules){var c=this.modules[l];if(\"function\"==typeof c.animateScene)try{c.animateScene(u)}catch(e){this.handleModuleError(l,e)}}return!0}},{key:\"getFrameSpeed\",value:function(e){return 500/this.getFrameDuration(e)}},{key:\"getFrameDuration\",value:function(e){return this.frames&&this.frames[e]&&this.frames[e].frameInfo.frameDuration||1e3}},{key:\"enableAsyncRendering\",value:function(t){this.asyncRendering=t,this.asyncRenderingTime=e.RenderTimeout}},{key:\"purge\",value:function(){this.scope={},this.changed=!0,this.container.interactiveChildren=!1,this.container.destroy({texture:!1,children:!0}),delete this.container,this.container=new PIXI.Container}},{key:\"reinitScene\",value:function(){1<=this.loaded&&(this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=e.RenderTimeout,this.preconstructScene(this.scope,this.container,this.initWidth,this.initHeight),this.initScene(this.scope,this.container,this.frames),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame]),this.changed=!0)}},{key:\"reinitDefaultScene\",value:function(){1<=this.loaded&&(this.intro=!0,this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=e.RenderTimeout,this.initDefaultScene(this.scope,this.container,this.initWidth,this.initHeight),this.changed=!0)}},{key:\"reinitLoadingScene\",value:function(){this.loaded<1&&(this.purge(),this.asyncRenderingTime=e.RenderTimeout,this.initPreload(this.scope,this.container,this.loaded,this.initWidth,this.initHeight))}},{key:\"reinit\",value:function(e){1<=this.loaded?0<=this.currentFrame&&!this.intro?this.reinitScene():this.intro&&!e||this.reinitDefaultScene():this.reinitLoadingScene()}},{key:\"animate\",value:function(e){if(!this.destroyed){this.lastRenderTime||(this.lastRenderTime=e);var t=e-this.lastRenderTime;this.asynchronousStep&&(t=this.asynchronousStep),this.onBeforeRender&&this.onBeforeRender(),this.loading||(this.loaded<1?this.changed|=this.renderPreloadScene(this.scope,t):(this.changed||this.asyncRendering&&0<this.asyncRenderingTime)&&(this.currentFrame<0?this.changed|=this.renderDefaultScene(this.scope,t):this.intro?(this.changed=!0,this.endDefaultScene(this.scope,t)&&(this.intro=!1,this.reinit(!0))):this.changed|=this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame],t)),this.changed&&(this.renderer.render(this.container),this.changed=!1)),this.onAfterRender&&this.onAfterRender(),this.lastRenderTime=e,this.destroyed||requestAnimationFrame(this.animate.bind(this)),this.asyncRenderingTime-=t}}},{key:\"_initFrames\",value:function(e,t){this.instantiateModules(),this._frames=t.map(function(e){var t,n=e[0].split(\" \");try{t=JSON.parse(e.slice(1).join(\"\\n\"))}catch(e){t={}}return $t({},t,{key:\"KEY_FRAME\"===n[0]})}),this.parseGlobalData(this._frames[0].global),this.playerCount=e,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1;var n=this._frames[0].frame;n.key=this._frames[0].key,this.frames.push(this.parseFrame(n,this.frames));for(var r=1;r<this._frames.length;++r)this.frames.push(this.parseFrame(this._frames[r],this.frames))}},{key:\"isTurnBasedGame\",value:function(){return!1}},{key:\"initFrames\",value:function(e,t){this.playerInfo&&this.playerInfo.forEach(function(e){e.avatar&&e.avatar.destroy(!0)});var n=this,r=new PIXI.loaders.Loader(window.location.origin);this.playerInfo=t.map(function(e,t){var i={name:e.name||\"Anonymous\",color:e.color?n.parseColor(e.color):\"#ffffff\",number:t,index:e.index,type:e.type,isMe:\"CODINGAMER\"===e.type&&e.typeData.me,avatar:null};return r.add(\"avatar\"+t,e.avatar,{loadType:2,crossOrigin:!0},function(e){i.avatar=e.texture,PIXI.Texture.addToCache(e.texture,\"$\"+i.index)}),i});var i=!(this.loading=!0),o=function(){n._initFrames(t.length,e),n.loading=!1,n.reinit(!1),i=!0};r.on(\"complete\",o),r.on(\"error\",function(e){console.warn(e),i||o()}),r.load()}},{key:\"update\",value:function(t,n,r){0<=this.currentFrame&&(this.asyncRenderingTime=e.RenderTimeout,this.changed=!0,this.speed=r,this.currentFrame=t,this.progress=n,1<=this.loaded&&!this.intro&&this.updateScene(this.scope,this.question,this.frames,t,n,this.speed,this.reasons[this.currentFrame]))}},{key:\"parseColor\",value:function(e){if(Array.isArray(e)){var t,n=[];for(t=0;t<e.length;++t)n.push(this.parseColor(e[t]));return n}return parseInt(e.substring(1),16)}},{key:\"init\",value:function(t,n,r,i,o,a,u){var s,l=this;window.PIXI=e.PIXI||window.PIXI,this.oversampling=o||1,this.canvas=$(t),this.canvas.off(\"mousemove\"),this.canvas.mousemove(function(){0<=l.currentFrame&&(l.changed=!0)}),i&&(this.colors=this.parseColor(i)),\"ide\"===u&&(this.debugModeSetByUser||(this.debugMode=!0),O.listen(function(e){return console.error(e.cause?e.cause:e)})),this.asyncRendering=!0,this.asyncRenderingTime=0,this.destroyed=!1,this.asynchronousStep=null;var c=this;if(this.initWidth=0|n,this.initHeight=0|r,this.endCallback=a||this.endCallback,this.alreadyLoaded)this.changed=!0,this.renderer.resize(this.initWidth,this.initHeight),this.reinit(!0);else{this.alreadyLoaded=!0,this.question=null,this.scope=null,this.currentFrame=-1,this.loaded=0,this.container=new PIXI.Container;var f=this.getResources();this.renderer=this.createRenderer(this.initWidth,this.initHeight,t),function(e){Ne=e}(this.renderer);var y,p=new PIXI.loaders.Loader(f.baseUrl);for(s in f.images)p.add(s,f.images[s],{crossOrigin:!0});for(y=0;y<f.sprites.length;++y)p.add(f.sprites[y],{crossOrigin:!0});for(y=0;y<f.fonts.length;++y)p.add(f.fonts[y],{crossOrigin:!0});for(s in f.spines)p.add(s,f.spines[s],{crossOrigin:!0});for(y=0;y<f.others.length;++y)p.add(f.others[y],{crossOrigin:!0});this.demo&&this.demo.agents.forEach(function(e){p.add(\"avatar\"+e.index,e.avatar,{loadType:2,crossOrigin:!0},function(t){e.avatarTexture=t.texture,PIXI.Texture.addToCache(t.texture,\"$\"+e.index)})}),c.scope={};var h=function(e,t){requestAnimationFrame(c.animate.bind(c)),c.initPreload(c.scope,c.container,c.loaded=0,c.initWidth,c.initHeight)};p.on(\"start\",h),p.on(\"progress\",function(e,t){e.progress<100&&c.preload(c.scope,c.container,c.loaded=e.progress/100,c.initWidth,c.initHeight,t)});var d=function(){var e;for(e in f.images)f.images.hasOwnProperty(e)&&p.resources[e].texture&&PIXI.Texture.addToCache(p.resources[e].texture,e);for(e in f.spines)f.spines.hasOwnProperty(e)&&(PIXI.AnimCache[e]=PIXI.AnimCache[f.baseUrl+f.spines[e]]);c.loaded=1,c.reinit(!0),c.changed=!0};p.on(\"complete\",d),p.on(\"error\",function(e){console.warn(e)}),Object.keys(p.resources).length?p.load():(h(),d())}}},{key:\"createRenderer\",value:function(e,t,n){return PIXI.autoDetectRenderer(e,t,{view:n,clearBeforeRender:!0,preserveDrawingBuffer:!1})}},{key:\"generateTexture\",value:function(e){var t=e.generateTexture();return $e(t),t}},{key:\"generateText\",value:function(e,t,n,r){var i;return 28800<=t*this.scope.canvasWidth/this.oversampling?(i=new PIXI.extras.BitmapText(e,{font:t+\"px agency_80\",tint:n})).lineHeight=t:(i=new PIXI.Text(e,{fontSize:Math.round(t/1.2)+\"px\",fontFamily:\"Lato\",fontWeight:\"bold\",fill:n})).lineHeight=Math.round(t/1.2),\"right\"===r?i.anchor.x=1:\"center\"===r&&(i.anchor.x=.5),$e(i),i}},{key:\"isReady\",value:function(){return 1<=this.loaded}}],i=[{key:\"getGameRatio\",value:function(){return e.WIDTH/e.HEIGHT}},{key:\"requirements\",get:function(){return{PIXI:\"PIXI4\"}}},{key:\"VERSION\",get:function(){return 2}},{key:\"WIDTH\",get:function(){return 1920}},{key:\"HEIGHT\",get:function(){return 1080}},{key:\"playerColors\",get:function(){return Lt}},{key:\"RenderTimeout\",get:function(){return\"localhost\"===window.location.hostname?1/0:2e4}}],n&&Jt(t.prototype,n),i&&Jt(t,i),e;var t,n,i}()}]).Drawer;",
      "levelParams": {
        "0": {
          "aiCode": "import java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\nclass Player {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        String my_player = scanner.nextLine();\r\n        while (true) \r\n        {\r\n            for(int i = 0;i<8;i++)\r\n            {\r\n                String input = scanner.nextLine();\r\n            }\r\n            \r\n            \r\n            int N = scanner.nextInt();\r\n            scanner.nextLine();\r\n            \r\n            ArrayList<String> Moves = new ArrayList<String>();\r\n            for(int i = 0;i<N;i++)\r\n            {\r\n            \tMoves.add(scanner.nextLine());\r\n            }\r\n            \r\n            System.out.println(Moves.get(0));\r\n        }\r\n    }\r\n}\r\n",
          "testCases": [],
          "maxPlayers": 2,
          "minPlayers": 2,
          "statements": {
            "1": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n    <div style=\"color:#7cc576;background-color:rgba( 124 , 197 , 118 , 0.1 );padding:20px;margin-right:15px;margin-left:15px;margin-bottom:10px;text-align:left\">\n        <span class=\"statement-league-alert-content\">\n            This is a port of the board game <a href=\"https://en.wikipedia.org/wiki/English_draughts\">checkers</a>\n        </span>\n    </div>\n\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n        The goal of the game is to capture all of your opponent’s pieces.\n        You win, when the other player has no more valid moves.\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1> \n    <div>\n      <div class=\"statement-rules-content\">The game is a two player game played on a 8x8 board, each player has 12 pieces.<br>\n        Every turn you need to make a move to an empty square, if you can capture a piece than you must do that move.<br>\n        <br>\n        Movement works as follow:\n        <ul>\n          <li>You move a piece diagonally forward to an empty square. You can not move a piece diagonally backwards until it is promoted to king. If you can capture a piece you must make that move.</li>\n        </ul>\n        <br>\n        Jumping works as follows:\n        <ul>\n          <li>If an opponent piece is on a square diagonally forward next to one of your pieces and the space beyond is empty, then you must jump over the opponent piece capture it and land in the space beyond</li>\n          <li>If another jump is available after you have done a jump, then you must jump again and capture next piece. You must keep jumping until there are no more jumps available</li>\n          <li>A captured piece is removed from the board</li>\n          <li>If multiple pieces can jump, you can choose the piece you want to make the jump.</li>\n        </ul>\n        Crowning:\n        <ul>\n          <li>When one of your pieces reaches the opposite side of the board, it is crowned and is promoted to King.</li>\n          <li>A King can move diagonally backward and forward, it can only move one space at a time.</li>\n          <li>A King can also jump backward and forward, it must take the jump available</li>\n        </ul>\n        Illustrated rules <a href=\"https://www.itsyourturn.com/t_helptopic2030.html\">here</a>.\n      </div>\n    </div>\n  </div>\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n    </h1>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Initial input\n      </div>\n      <div class=\"text\">\n      \n      <p><span class=\"statement-lineno\">Next line: </span>Your color as a string. The characters can be: </p>\n        <ul><li>\n          <const>r</const>: red pieces<br>\n      </li><li>\n          <const>b</const>: black pieces<br>\n      </li></ul>\n      \n      <div class=\"title\">Input for one game turn</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">First 8 lines: </span>The board as strings of length 8. The characters can be: </p>\n        <ul><li>\n            <const>.</const>: empty square <br>\n        </li><li>\n            <const>r</const>: red piece<br>\n        </li><li>\n            <const>R</const>: red King<br>\n        </li><li>\n            <const>b</const>: black piece<br>\n        </li><li>\n            <const>B</const>: black King<br>\n        </li></ul>\n        \n        <p><span class=\"statement-lineno\">Next line: </span>Number of legal moves as int: </p>\n        <p><span class=\"statement-lineno\">Next lines: </span>The legal moves as strings</p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">A single line</span>Containing the move. <br>Example(No jump move: A3B4, jump move: A3C5, multiple jump move: A3C5A7)\n        <br>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n        <br>Allotted response time per turn is ≤ <const>100</const> ms.</div>\n    </div>\n  </div>\n</div>\n",
            "2": "<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n    <div style=\"color:#7cc576;background-color:rgba( 124 , 197 , 118 , 0.1 );padding:20px;margin-right:15px;margin-left:15px;margin-bottom:10px;text-align:left\">\n        <span class=\"statement-league-alert-content\">\n            This is a port of the board game <a href=\"https://en.wikipedia.org/wiki/English_draughts\">checkers</a>\n        </span>\n    </div>\n\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>The Goal</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n        The goal of the game is to capture all of your opponent’s pieces.\n        You win, when the other player has no more valid moves.\n    </div>\n  </div>\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1> \n    <div>\n      <div class=\"statement-rules-content\">The game is a two player game played on a 8x8 board, each player has 12 pieces.<br>\n        Every turn you need to make a move to an empty square, if you can capture a piece than you must do that move.<br>\n        <br>\n        Movement works as follow:\n        <ul>\n          <li>You move a piece diagonally forward to an empty square. You can not move a piece diagonally backwards until it is promoted to king. If you can capture a piece you must make that move.</li>\n        </ul>\n        <br>\n        Jumping works as follows:\n        <ul>\n          <li>If an opponent piece is on a square diagonally forward next to one of your pieces and the space beyond is empty, then you must jump over the opponent piece capture it and land in the space beyond</li>\n          <li>If another jump is available after you have done a jump, then you must jump again and capture next piece. You must keep jumping until there are no more jumps available</li>\n          <li>A captured piece is removed from the board</li>\n          <li>If multiple pieces can jump, you can choose the piece you want to make the jump.</li>\n        </ul>\n        Crowning:\n        <ul>\n          <li>When one of your pieces reaches the opposite side of the board, it is crowned and is promoted to King.</li>\n          <li>A King can move diagonally backward and forward, it can only move one space at a time.</li>\n          <li>A King can also jump backward and forward, it must take the jump available</li>\n        </ul>\n        Illustrated rules <a href=\"https://www.itsyourturn.com/t_helptopic2030.html\">here</a>.\n      </div>\n    </div>\n  </div>\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n    </h1>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Initial input\n      </div>\n      <div class=\"text\">\n      \n      <p><span class=\"statement-lineno\">Next line: </span>Your color as a string. The characters can be: </p>\n        <ul><li>\n          <const>r</const>: red pieces<br>\n      </li><li>\n          <const>b</const>: black pieces<br>\n      </li></ul>\n      \n      <div class=\"title\">Input for one game turn</div>\n      <div class=\"text\">\n        <p><span class=\"statement-lineno\">First 8 lines: </span>The board as strings of length 8. The characters can be: </p>\n        <ul><li>\n            <const>.</const>: empty square <br>\n        </li><li>\n            <const>r</const>: red piece<br>\n        </li><li>\n            <const>R</const>: red King<br>\n        </li><li>\n            <const>b</const>: black piece<br>\n        </li><li>\n            <const>B</const>: black King<br>\n        </li></ul>\n        \n        <p><span class=\"statement-lineno\">Next line: </span>Number of legal moves as int: </p>\n        <p><span class=\"statement-lineno\">Next lines: </span>The legal moves as strings</p>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">A single line</span>Containing the move. <br>Example(No jump move: A3B4, jump move: A3C5, multiple jump move: A3C5A7)\n        <br>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n        <br>Allotted response time per turn is ≤ <const>100</const> ms.</div>\n    </div>\n  </div>\n</div>\n"
          },
          "questionType": "multi",
          "stubGenerator": "read myColor:string(1)\r\ngameloop\r\nloop 8 read inputLine:string(8)\r\nread legalMoves:int\r\nloop legalMoves read moveString:word(10)\r\nwrite E3F4\r\n\r\nINPUT\r\ninputLine: board line\r\nmyColor: r or b\r\nlegalMoves: number of legal moves\r\nmoveString: move",
          "welcomePopups": {},
          "aiCodeExtension": "java",
          "criteriaLanguageMap": {}
        }
      },
      "directoryPrefix": "community/1661333-1553122458438",
      "allowSourceDownload": true,
      "originalArchiveBinaryId": 26199602104891
    },
    "draft": false,
    "readyForModeration": true
  },
  "validatedFor": 217536683267,
  "avatar": 7946484028034,
  "commentCount": 12,
  "upVotes": 11,
  "downVotes": 2,
  "validateAction": {
    "actionId": 326595,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}