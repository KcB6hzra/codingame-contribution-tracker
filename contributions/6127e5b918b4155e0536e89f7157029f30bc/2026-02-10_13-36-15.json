{
  "id": 6127,
  "activeVersion": 17,
  "score": 32,
  "votableId": 16801050,
  "codingamerId": 1540478,
  "views": 868,
  "commentableId": 16711242,
  "title": "Amazons",
  "status": "ACCEPTED",
  "type": "PUZZLE_MULTI",
  "nickname": "struct",
  "publicHandle": "6127e5b918b4155e0536e89f7157029f30bc",
  "codingamerHandle": "dfb886f869fc14dc31fc9191a1b87a608740451",
  "lastVersion": {
    "version": 17,
    "autocloseTime": 1622063138309,
    "data": {
      "title": "Amazons",
      "topics": [
        {
          "id": 92,
          "handle": "MCTS",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Monte Carlo tree search",
            "2": "Monte Carlo tree search"
          },
          "puzzleCount": 12,
          "parentTopicId": 41
        },
        {
          "id": 83,
          "handle": "minimax",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Minimax",
            "2": "Minimax"
          },
          "pageTitle": "Minimax: exercises and theory",
          "puzzleCount": 22,
          "parentTopicId": 42,
          "contentDetailsId": 93
        },
        {
          "id": 213,
          "handle": "bitboarding",
          "category": "ADVANCED",
          "labelMap": {
            "1": "Bitboarding",
            "2": "Bitboarding"
          },
          "puzzleCount": 3,
          "parentTopicId": 93
        }
      ],
      "refereeMd5": "1540478/6f874a2eba6b0d84c20c75eb60101f8b",
      "testHandle": "86984302a003a864c492ac3d43997ab30ccaf3",
      "viewerCode": "var Drawer=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";n.r(e),n.d(e,\"Drawer\",(function(){return tr}));var r={baseUrl:\"https://cdn-games.codingame.com/community/1540478-1611506039351/\",images:{\"w.png\":\"6e503bf39d0627d30b744108a92c068bfa7a75a2798e24b36552ff435594c458.png\",\"b.png\":\"799d637b3cae6007ab00d515a1fee0b1ed4955028b70535d83a710c1e3528ec6.png\"},sprites:[],fonts:[]};function o(t,e,n){return t<=e?t+(e-t)*n:e+(t-e)*(1-n)}function i(t,e,n){return Math.min(1,Math.max(0,(n-(t=t))/(e-t)))}function a(t,e,n,r,o){return o=o||0,Math.min(n/(t+o),r/(e+o))}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=[],s=[],l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"listen\",value:function(t){if(\"function\"!=typeof t)throw new TypeError(t+\" is not a function\");s.push(t)}},{key:\"push\",value:function(t){c.push(t),s.forEach((function(e){return e(t)}))}}],null&&u(e.prototype,null),n&&u(e,n),t}();function f(t){return(f=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function y(t){var e=\"function\"==typeof Map?new Map:void 0;return(y=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return h(t,arguments,b(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,t)})(t)}function h(t,e,n){return(h=p()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&d(r,n.prototype),r}).apply(null,arguments)}function p(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,y(Error));var t=function(t){var e=p();return function(){var n,r=b(t);return n=e?(n=b(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==f(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,\"Invalid color token: there is no player at index \".concat(n,\". Make sure to use getColorToken() if you want the color of a specific player.\"))).playerIdx=n,o.cause=r,o.name=\"InvalidPlayerColorTokenError\",o}return e}();function g(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function x(t,e,n){return n<1?t:e}var w={type:Number,lerpMethod:function(t,e,n){return null===e?null:o((t={r:(16711680&t)>>16,g:(65280&t)>>8,b:255&t}).r,(e={r:(16711680&e)>>16,g:(65280&e)>>8,b:255&e}).r,n)<<16|o(t.g,e.g,n)<<8|o(t.b,e.b,n)},convert:function(t,e){var n=-(t+1);try{return t<0?e.players[n].color:t}catch(t){return l.push(new m(n)),16777215}}},O={type:String,lerpMethod:x,convert:P},R={type:Number,lerpMethod:function(t,e,n,r){for(;e>t+Math.PI;)e-=2*Math.PI;for(;e<t-Math.PI;)e+=2*Math.PI;return(n=void 0!==r&&Math.abs(e-t)>r?e:t+(e-t)*n)%(2*Math.PI)},convert:function(t){return t*Math.PI/180}},S={type:Number,lerpMethod:x},E=(n={type:function(t){return\"1\"===t},lerpMethod:x},e={type:Number,lerpMethod:function(t,e,n){return e<t?e:o(t,e,n)}},{default:{type:Number,lerpMethod:o},visible:n,rotation:R,skewX:R,skewY:R,fillColor:w,lineColor:w,strokeColor:w,tint:w,animationProgressTime:e,maxWidth:S,mask:S,baseWidth:S,baseHeight:S,image:O,images:O,scaleMode:O,restarted:{type:String,convert:function(t,e,n,r){return t?{date:n.date+r*n.frameDuration}:null},lerpMethod:x},playing:n,duration:S,blendMode:S,loop:n,text:v(v({},O),{},{convert:function(t,e){t=P(t);for(var n=/\\$(\\d)/g,r=n.exec(t),o=\"\",i=0;r;)r[1]<e.players.length&&(o+=t.substring(i,r.index),o+=e.players[+r[1]].name),i=r.index+r[0].length,r=n.exec(t);return o+t.substring(i)}}),textAlign:v(v({},O),{},{convert:function(t){return{0:\"left\",1:\"center\",2:\"right\"}[t]}}),fontFamily:O,fontWeight:O,children:v(v({},O),{},{convert:function(t){return t?t.split(\",\").map((function(t){return+t})):[]}}),points:v(v({},O),{},{convert:function(t){return t?t.split(\",\").map((function(t){return parseInt(t)})):[]},lerpMethod:function(t,e,n){return t.length===e.length?t.map((function(t,r){return o(t,e[r],n)})):x(t,e,n)}})});function P(t){return(t=t.split(\"\\\\'\").join(\"'\")).includes(\" \")||t.includes(\";\")||t.includes(\"\\n\")?t.slice(1,t.length-1):t}function T(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k(t){return(k=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var M=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.defaultState={x:0,y:0,scaleX:1,scaleY:1,skewX:0,skewY:0,zIndex:0,alpha:1,visible:!1,rotation:0,mask:-1},this.states={}}var e,n,r;return e=t,r=[{key:\"createState\",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return j(j({t:t},e),{},{curve:n})}}],(n=[{key:\"init\",value:function(){this.properties=Object.keys(this.defaultState),this.initDisplay(),this.currentState=Object.assign({},this.defaultState),\"object\"===k(this.graphics)&&this.container.addChild(this.graphics)}},{key:\"setHidden\",value:function(t){this.hide=t,this.container.visible=this.currentState.visible&&!this.hide}},{key:\"addState\",value:function(e,n,r){this.states[r]||(this.states[r]=[]);var o=t.createState(e,n.values,n.curve);(n=this.states[r].find((function(t){return t.t===e})))&&0===Object.keys(o.curve).length&&(o.curve=n.curve),n?(A(o)||A(n)||l.push(new Error(\"Different updates for same t \"+e)),Object.assign(n,o)):this.states[r].push(o)}},{key:\"set\",value:function(t,e,n){this.addState(t,e,n)}},{key:\"render\",value:function(t,e,n){var r=this.states[e.number];this.container.visible=!1;var o,a=null,u=1;if(r&&r.length){for(var c=0;c<r.length-1&&r[c].t<t;)c++;if(a=r[c-1],o=r[c],a)u=i(a.t,o.t,t);else{var s=Object.keys(this.states),l=s.indexOf(e.number.toString())-1;for(-1===l&&(l=s.length-1);0<=l&&s[l]>=e.number;)l--;var f=this.states[s[l]]||[];u=!(a=f[f.length-1])&&t>=o.t?(a=o,1):i(0,o.t,t)}}else{for(var y=Object.keys(this.states),h=y.length-1;0<=h&&y[h]>e.number;)h--;null!=(f=this.states[y[h]])?o=a=f[f.length-1]:Object.assign(this.currentState,this.defaultState)}if(a){var p,d={},b=Object.assign({},this.currentState),m=function(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(this.properties);try{for(m.s();!(p=m.n()).done;){var g=p.value,v=(E[g]||E.default).lerpMethod,x=o.curve[g]||function(t){return t},w=v(a[g],o[g],x(u));w!==this.currentState[g]&&(d[g]=!0,b[g]=w)}}catch(t){m.e(t)}finally{m.f()}this.updateDisplay(b,d,n,e,t),Object.assign(this.currentState,b),this.container.visible=this.container._visible,d.children&&(n.mustResetTree=!0,\"function\"==typeof this.postUpdate&&n.updatedBuffers.push(this)),d.zIndex&&(n.mustResort=!0),d.mask&&(n.maskUpdates[this.id]=b.mask),0!==Object.keys(d).length&&this.parent&&this.parent.notifyChange()}}},{key:\"notifyChange\",value:function(){this.parent&&this.parent.notifyChange()}},{key:\"initDisplay\",value:function(){this.container=new PIXI.Container,this.container.zIndex=this.defaultState.zIndex,this.container.id=this.id,this.container._visible=this.defaultState.visible}},{key:\"updateDisplay\",value:function(t,e,n){this.container.zIndex=t.zIndex,this.container.alpha=t.alpha,(e.x||e.y)&&this.container.position.set(t.x*n.toWorldUnits,t.y*n.toWorldUnits),(e.scaleX||e.scaleY)&&this.container.scale.set(t.scaleX||1e-8,t.scaleY||1e-8),this.container.rotation=t.rotation,this.container._visible=t.visible&&!this.hide,this.container.skew.set(t.skewX,t.skewY)}}])&&F(e.prototype,n),r&&F(e,r),t}();function A(t){return Object.keys(t).length===Object.keys(M.createState()).length}function I(t){return(I=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D(t,e,n){return(D=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Y(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var K=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(o,M);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Y(t);return n=e?(n=Y(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==I(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),t=r.call(this),Object.assign(t.defaultState,{fillColor:o.defaultFillColor(),lineWidth:o.defaultLineWidth(),lineColor:o.defaultLineColor(),fillAlpha:o.defaultFillAlpha(),lineAlpha:o.defaultLineAlpha(),blendMode:PIXI.BLEND_MODES.NORMAL}),t}return t=o,n=[{key:\"defaultLineWidth\",value:function(){return 0}},{key:\"defaultFillColor\",value:function(){return 16777215}},{key:\"defaultLineColor\",value:function(){return 0}},{key:\"defaultLineAlpha\",value:function(){return 1}},{key:\"defaultFillAlpha\",value:function(){return 1}}],(e=[{key:\"initDisplay\",value:function(){D(Y(o.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Graphics,this.graphics.lineStyle(this.defaultState.lineWidth,this.defaultState.lineColor,this.defaultState.lineAlpha),null!==this.defaultState.fillColor&&this.graphics.beginFill(this.defaultState.fillColor,this.defaultState.fillAlpha)}},{key:\"updateDisplay\",value:function(t,e,n){D(Y(o.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.blendMode=t.blendMode}}])&&C(t.prototype,e),n&&C(t,n),o}();function X(t){return(X=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function W(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B(t,e,n){return(B=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=H(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function H(t){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var z=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(o,K);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H(t);return n=e?(n=H(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==X(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),(t=r.call(this)).defaultState.radius=o.defaultRadius(),t}return t=o,n=[{key:\"defaultRadius\",value:function(){return 100}}],(e=[{key:\"initDisplay\",value:function(){B(H(o.prototype),\"initDisplay\",this).call(this),this.graphics.drawCircle(0,0,this.defaultState.radius),null!==this.defaultState.fillColor&&this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,e,n){B(H(o.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.radius||e.lineColor||e.lineWidth||e.fillColor||e.fillAlpha||e.lineAlpha)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor),this.graphics.drawCircle(0,0,t.radius*n.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}])&&W(t.prototype,e),n&&W(t,n),o}();function G(t){return(G=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N(t,e,n){return(N=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=J(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function J(t){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Q=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(o,K);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=J(t);return n=e?(n=J(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==G(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),(t=r.call(this)).defaultState.x2=o.defaultPosition(),t.defaultState.y2=o.defaultPosition(),t}return t=o,n=[{key:\"defaultPosition\",value:function(){return 100}}],(e=[{key:\"initDisplay\",value:function(){N(J(o.prototype),\"initDisplay\",this).call(this)}},{key:\"updateDisplay\",value:function(t,e,n){N(J(o.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.lineWidth||e.lineColor||e.lineAlpha||e.x2||e.y2||e.x||e.y)&&(this.graphics.clear(),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.moveTo(0,0),this.graphics.lineTo(-this.container.x+t.x2*n.toWorldUnits,-this.container.y+t.y2*n.toWorldUnits))}}])&&V(t.prototype,e),n&&V(t,n),o}();function Z(t){return(Z=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function et(t,e,n){return(et=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ot=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(o,K);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rt(t);return n=e?(n=rt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Z(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),t=r.call(this),Object.assign(t.defaultState,{width:o.defaultSideLength(),height:o.defaultSideLength()}),t}return t=o,n=[{key:\"defaultSideLength\",value:function(){return 100}}],(e=[{key:\"initDisplay\",value:function(){et(rt(o.prototype),\"initDisplay\",this).call(this),this.graphics.drawRect(0,0,this.defaultState.width,this.defaultState.height),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,e,n){et(rt(o.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.lineWidth||e.lineColor||e.width||e.height||e.lineAlpha||e.fillColor)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawRect(0,0,t.width*n.toWorldUnits,t.height*n.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}])&&tt(t.prototype,e),n&&tt(t,n),o}();function it(t){return(it=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ut(t,e,n){return(ut=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=st(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function ct(t,e){return(ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var lt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ct(t,e)}(o,M);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=st(t);return n=e?(n=st(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==it(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),t=r.call(this),Object.assign(t.defaultState,{anchorX:o.defaultAnchor(),anchorY:o.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215}),t}return t=o,n=[{key:\"defaultAnchor\",value:function(){return 0}}],(e=[{key:\"initDisplay\",value:function(){ut(st(o.prototype),\"initDisplay\",this).call(this)}},{key:\"updateDisplay\",value:function(t,e,n){ut(st(o.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.anchor.set(t.anchorX,t.anchorY),this.graphics.blendMode=t.blendMode,this.graphics.tint=t.tint}}])&&at(t.prototype,e),n&&at(t,n),o}();function ft(t){return(ft=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function yt(t){var e=\"function\"==typeof Map?new Map:void 0;return(yt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return ht(t,arguments,bt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),dt(r,t)})(t)}function ht(t,e,n){return(ht=pt()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&dt(r,n.prototype),r}).apply(null,arguments)}function pt(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function dt(t,e){return(dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bt(t){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dt(t,e)}(e,yt(Error));var t=function(t){var e=pt();return function(){var n,r=bt(t);return n=e?(n=bt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==ft(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,'Could not find image: \"'+n+'\". Make sure it is in your assets folder and is spelled correctly.')).image=n,o.cause=r,o.name=\"MissingImageError\",o}return e}();function gt(t){return(gt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xt(t,e,n){return(xt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ot(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function wt(t,e){return(wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ot(t){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wt(t,e)}(r,lt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ot(t);return n=e?(n=Ot(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==gt(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{image:null,baseWidth:null,baseHeight:null,scaleMode:\"LINEAR\"}),t.missingTextures={},t}return t=r,(e=[{key:\"updateDisplay\",value:function(t,e,n){if(xt(Ot(r.prototype),\"updateDisplay\",this).call(this,t,e,n),e.image)try{null!==t.image?this.graphics.texture=PIXI.Texture.fromFrame(t.image):this.graphics.texture=PIXI.Texture.EMPTY,this.graphics.texture.baseTexture.scaleMode=PIXI.SCALE_MODES[t.scaleMode]}catch(e){this.missingTextures[t.image]||(this.missingTextures[t.image]=!0,l.push(new mt(t.image,e)))}e.baseWidth&&(this.graphics.width=t.baseWidth),e.baseHeight&&(this.graphics.height=t.baseHeight)}}])&&vt(t.prototype,e),r}();function St(t){return(St=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pt(t,e,n){return(Pt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Tt(t,e){return(Tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jt(t){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _t=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tt(t,e)}(r,Rt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jt(t);return n=e?(n=jt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==St(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),n.apply(this,arguments)}return t=r,(e=[{key:\"initDisplay\",value:function(){Pt(jt(r.prototype),\"initDisplay\",this).call(this),null===this.defaultState.image?this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY):this.graphics=PIXI.Sprite.fromFrame(this.defaultState.image)}}])&&Et(t.prototype,e),r}();function kt(t,e){if(t.width>e)for(;3<t.text.length&&t.width>e;)t.text=t.text.slice(0,-4)+\"...\"}function Ft(t){return(Ft=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function At(t,e,n){return(At=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ct(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ct(t){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(r,lt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ct(t);return n=e?(n=Ct(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Ft(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{text:\"\",textAlign:\"left\",strokeColor:0,strokeThickness:0,fillColor:0,fontSize:26,fontFamily:\"Lato\",fontWeight:\"normal\",maxWidth:0}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){At(Ct(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Text(this.defaultState.text,{align:this.defaultState.textAlign,fontSize:this.defaultState.fontSize+\"px\",fontFamily:this.defaultState.fontFamily,fill:this.defaultState.fillColor})}},{key:\"updateDisplay\",value:function(t,e,n){At(Ct(r.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.style.align=t.textAlign,this.graphics.style.stroke=t.strokeColor,this.graphics.style.strokeThickness=t.strokeThickness,this.graphics.style.fill=t.fillColor,this.graphics.style.fontSize=t.fontSize||1,this.graphics.style.fontFamily=t.fontFamily,this.graphics.style.fontWeight=t.fontWeight,(e.text||e.strokeThickness||e.fontSize||e.fontFamily||e.fontWeight||e.maxWidth||e.maxWidth)&&(this.graphics.text=t.text,t.maxWidth&&kt(this.graphics,t.maxWidth))}}])&&Mt(t.prototype,e),r}();function Ut(t){return(Ut=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Yt(t){var e=\"function\"==typeof Map?new Map:void 0;return(Yt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Kt(t,arguments,Bt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Wt(r,t)})(t)}function Kt(t,e,n){return(Kt=Xt()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&Wt(r,n.prototype),r}).apply(null,arguments)}function Xt(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Wt(t,e){return(Wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bt(t){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Lt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wt(t,e)}(e,Yt(Error));var t=function(t){var e=Xt();return function(){var n,r=Bt(t);return n=e?(n=Bt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Ut(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,'Could not find font: \"'+n+'\". Make sure it is in your assets folder and is spelled correctly.')).font=n,o.cause=r,o.name=\"MissingBitmapFontError\",o}return e}();function Ht(t){return(Ht=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gt(t,e,n){return(Gt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Nt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Vt(t,e){return(Vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nt(t){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $t=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vt(t,e)}(r,M);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nt(t);return n=e?(n=Nt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Ht(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{text:\"\",textAlign:\"left\",fontSize:26,fontFamily:null,anchorX:lt.defaultAnchor(),anchorY:lt.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215,maxWidth:0}),t.missingFonts={},t}return t=r,(e=[{key:\"initDisplay\",value:function(){Gt(Nt(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(t,e,n){Gt(Nt(r.prototype),\"updateDisplay\",this).call(this,t,e,n),null!==t.fontFamily?PIXI.extras.BitmapText.fonts[t.fontFamily]?(0===this.graphics.children.length?(this.displayed=new PIXI.extras.BitmapText(\"\",{font:{size:t.fontSize||1,name:t.fontFamily}}),this.graphics.addChild(this.displayed)):this.displayed.font={size:t.fontSize||1,name:t.fontFamily},this.displayed.anchor.set(t.anchorX,t.anchorY),this.displayed.blendMode=t.blendMode,this.displayed.tint=t.tint,this.displayed.align=t.textAlign,(e.text||e.maxWidth||e.fontSize||e.fontFamily)&&(this.displayed.text=t.text,t.maxWidth&&kt(this.displayed,t.maxWidth))):(this.missingFonts[t.fontFamily]||(this.missingFonts[t.fontFamily]=!0,l.push(new Lt(t.fontFamily))),this.graphics.removeChildren()):this.graphics.removeChildren()}}])&&zt(t.prototype,e),r}();function qt(t){return(qt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qt(t,e,n){return(Qt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=te(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Zt(t,e){return(Zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function te(t){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ee=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zt(t,e)}(r,M);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=te(t);return n=e?(n=te(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==qt(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{children:[]}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){Qt(te(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(t,e,n){Qt(te(r.prototype),\"updateDisplay\",this).call(this,t,e,n)}},{key:\"childrenContainer\",get:function(){return this.graphics}}])&&Jt(t.prototype,e),r}();function ne(t){return(ne=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function re(t,e){return(re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oe(t){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ie=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re(t,e)}(e,ee);var t=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=oe(t);return n=e?(n=oe(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==ne(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),t.apply(this,arguments)}return e}(),ae=null,ue=[];function ce(t){return(ce=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function le(t,e,n){return(le=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ye(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function fe(t,e){return(fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ye(t){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var he=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fe(t,e)}(r,ee);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ye(t);return n=e?(n=ye(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==ce(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),n.apply(this,arguments)}return t=r,(e=[{key:\"initDisplay\",value:function(){le(ye(r.prototype),\"initDisplay\",this).call(this),this.buffer=new PIXI.Container,this.gameTexture=null,this.graphics=new PIXI.Sprite,this.needsRender=!0}},{key:\"postUpdate\",value:function(){var t,e;this.needsRender&&(t=this.buffer.getBounds().width,e=this.buffer.getBounds().height,(null==this.gameTexture||this.gameTexture.width<t||this.gameTexture.height<e)&&(t=Math.min(Math.max(t,512),4096),e=Math.min(Math.max(e,512),4096),this.gameTexture=PIXI.RenderTexture.create(t,e),e=this.gameTexture,ue.push(e),this.graphics.texture=this.gameTexture),ae.render(this.buffer,this.gameTexture),this.needsRender=!1)}},{key:\"childrenContainer\",get:function(){return this.buffer}},{key:\"notifyChange\",value:function(){this.needsRender=!0,this.parent&&this.parent.notifyChange()}}])&&se(t.prototype,e),r}();function pe(t){return(pe=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function de(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function be(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?de(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ge(t,e,n){return(ge=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xe(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function ve(t,e){return(ve=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xe(t){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var we=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ve(t,e)}(r,lt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xe(t);return n=e?(n=xe(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==pe(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{images:\"\",loop:!1,duration:1e3,playing:!0,restarted:null,animationProgress:0,date:0}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){ge(xe(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY)}},{key:\"addState\",value:function(t,e,n,o){ge(xe(r.prototype),\"addState\",this).call(this,t,e,n),n=this.states[n].find((function(e){return e.t===t})),o=o.date+o.frameDuration*t,n.date=o}},{key:\"updateDisplay\",value:function(t,e,n,o,i){if(ge(xe(r.prototype),\"updateDisplay\",this).call(this,t,e,n),t.images){if(n=t.images.split(\",\"),0<=t.animationProgress){i=o.date+o.frameDuration*i,i=be(be({},t),{},{date:i}),this.computeAnimationProgressTime(t,i),i=Math.floor(n.length*i.animationProgress),n=t.loop?n[i%n.length]:n[i]||n[n.length-1];try{this.graphics.texture=PIXI.Texture.fromFrame(n)}catch(t){l.push(new mt(n,t))}}}else this.graphics.texture=PIXI.Texture.EMPTY}},{key:\"computeAnimationProgressTime\",value:function(t,e){e.restarted&&e.restarted.date===e.date?e.animationProgress=0:(e.animationProgress=t.animationProgress,t.playing&&(e.animationProgress+=(e.date-t.date)/t.duration))}}])&&me(t.prototype,e),r}();function Oe(t){return(Oe=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Se(t,e,n){return(Se=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pe(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Ee(t,e){return(Ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pe(t){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Te=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ee(t,e)}(o,K);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Pe(t);return n=e?(n=Pe(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Oe(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,o),t=r.call(this),Object.assign(t.defaultState,{width:o.defaultSideLength(),height:o.defaultSideLength(),radius:o.defaultRadius()}),t}return t=o,n=[{key:\"defaultSideLength\",value:function(){return 100}},{key:\"defaultRadius\",value:function(){return 20}}],(e=[{key:\"initDisplay\",value:function(){Se(Pe(o.prototype),\"initDisplay\",this).call(this),this.graphics.drawRoundedRect(0,0,this.defaultState.width,this.defaultState.height,this.defaultState.radius),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,e,n){Se(Pe(o.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.lineWidth||e.lineColor||e.lineAlpha||e.fillColor||e.radius||e.height||e.width)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawRoundedRect(0,0,t.width*n.toWorldUnits,t.height*n.toWorldUnits,t.radius*n.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}])&&Re(t.prototype,e),n&&Re(t,n),o}();function je(t){return(je=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function _e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ke(t,e,n){return(ke=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Me(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Fe(t,e){return(Fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Me(t){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ae=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fe(t,e)}(r,K);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Me(t);return n=e?(n=Me(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==je(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{points:[]}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){ke(Me(r.prototype),\"initDisplay\",this).call(this),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,e,n){ke(Me(r.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.lineWidth||e.lineColor||e.lineAlpha||e.fillColor||e.points)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawPolygon(t.points.map((function(t){return t*n.toWorldUnits}))),null!==t.fillColor&&this.graphics.endFill())}}])&&_e(t.prototype,e),r}();function Ie(t){return(Ie=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Ce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function De(t,e,n){return(De=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ye(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Ue(t,e){return(Ue=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ye(t){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ke=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ue(t,e)}(r,Rt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ye(t);return n=e?(n=Ye(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Ie(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t=n.call(this),Object.assign(t.defaultState,{tileX:0,tileY:0,tileScaleX:1,tileScaleY:1}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){De(Ye(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.extras.TilingSprite(PIXI.Texture.EMPTY)}},{key:\"updateDisplay\",value:function(t,e,n){De(Ye(r.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.tilePosition.x=t.tileX,this.graphics.tilePosition.y=t.tileY,this.graphics.tileScale.x=t.tileScaleX,this.graphics.tileScale.y=t.tileScaleY}}])&&Ce(t.prototype,e),r}();function Xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var We=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"create\",value:function(t){var e={C:z,R:ot,L:Q,S:_t,T:Dt,X:$t,G:ie,B:he,A:we,K:Te,P:Ae,D:Ke}[t];if(!e)throw new Error(\"Exception: entity type not found: \"+t);return new e}}],null&&Xe(e.prototype,null),n&&Xe(e,n),t}();function Be(t){var e=1.70158,n=0,r=1;return 0===t?0:1==(t/=1)?1:(n=n||.3,e=r<Math.abs(1)?(r=1,n/4):n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*t)*Math.sin((+t-e)*(2*Math.PI)/n)+1)}function Le(t){return t<.5?2*t*t:(4-2*t)*t-1}function He(t){return Math.pow(t,3)}function ze(t){return 1+Math.pow(t-1,3)}function Ge(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ve(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function Ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $e(t,e,n){return e&&Ne(t.prototype,e),n&&Ne(t,n),t}var qe={r:\"rotation\",R:\"radius\",X:\"x2\",Y:\"y2\",w:\"width\",h:\"height\",t:\"tint\",f:\"fillColor\",F:\"fillAlpha\",c:\"lineColor\",W:\"lineWidth\",A:\"lineAlpha\",a:\"alpha\",i:\"image\",S:\"strokeThickness\",sc:\"strokeColor\",ff:\"fontFamily\",s:\"fontSize\",fw:\"fontWeight\",T:\"text\",ta:\"textAlign\",ch:\"children\",sx:\"scaleX\",sy:\"scaleY\",ax:\"anchorX\",ay:\"anchorY\",kx:\"skewX\",ky:\"skewY\",v:\"visible\",z:\"zIndex\",b:\"blendMode\",I:\"images\",rs:\"restarted\",p:\"playing\",l:\"loop\",d:\"duration\",bw:\"baseWidth\",bh:\"baseHeight\",ps:\"points\",tx:\"tileX\",ty:\"tileY\",tsx:\"tileScaleX\",tsy:\"tileScaleY\",sm:\"scaleMode\"};n=function(){function t(e,n){Ve(this,t),this.id=++n.instanceCount,this.type=e[0]}return $e(t,[{key:\"apply\",value:function(t){var e=We.create(this.type);e.id=this.id,t.set(this.id,e)}}]),t}(),O=function(){function t(e,n){var o=(l=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&(\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"]);if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return Ge(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ge(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}(e,8))[0],i=(e=l[1],l[2]),a=l[3],u=l[4],c=l[5],s=l[6],l=l[7];Ve(this,t),this.loader=new PIXI.loaders.Loader,\"0\"===i&&(i=PIXI.utils.TextureCache[e].width),\"0\"===a&&(a=PIXI.utils.TextureCache[e].height);for(var f=0<l?l:s,y={frames:{},meta:{image:(r.baseUrl||\"\")+r.images[e]}},h=0;h<s;h++)y.frames[1<s?o+h:o]={frame:{x:i*c+h%f*i,y:a*u+Math.floor(h/f)*a,w:i,h:a},sourceSize:{w:i,h:a},rotated:!1,trimmed:!1};e=\"data:text/json;charset=UTF-8,\"+JSON.stringify(y),PIXI.utils.TextureCache[e+\"_image\"]||this.loader.add(e,{crossOrigin:!0})}return $e(t,[{key:\"apply\",value:function(){var t=this;if(0<Object.keys(this.loader.resources).length)return new Promise((function(e){t.loader.load(),t.loader.on(\"complete\",e)}))}}]),t}();function Je(t){return function(t){if(Array.isArray(t))return Qe(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return Qe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qe(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Qe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var tn={C:n,U:function(){function t(e,n,r){Ve(this,t),this.id=+e[0],this.t=+e[1],this.params={},this.curve={};for(var o=2;o<e.length;){var i=qe[e[o]]||e[o],a=E[i]||E.default,u=a.type(e[o+1]);\"function\"==typeof a.convert&&(u=a.convert(u,n,r,this.t)),a=t.curves[e[o+2]],this.params[i]=u,o+=2,a&&(this.curve[i]=a,o+=1)}}return $e(t,[{key:\"apply\",value:function(t,e){(t=t.get(this.id)).addState(this.t,{values:this.params,curve:this.curve},e.number,e),t.stateAdded=!0}}],[{key:\"curves\",get:function(){return{_:function(t){return t<1?0:1},\"\":Le,\"\":He,\"\":ze,\"~\":Be,\"\":function(t){return 1}}}}]),t}(),L:O};function en(t,e){for(var n=[],r=\"\",o=0,i=\"\",a=!1;o<t.length;){var u=t[o++];u===e?a?r+=u:(n.push(r),r=\"\"):\"'\"===u&&\"\\\\\"!==i?(a=!a,r+=u):\"\\\\\"===i?r+=\"'\"===u?\"\\\\'\":\"\\\\\"+u:\"\\\\\"!==u&&(r+=u),i=u}return n.push(r),n}var nn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}var e,n;return e=t,n=[{key:\"parse\",value:function(t,e,n){var r,o=[],i=en(t,\"\\n\");for(r in i){var a=tn[i[r][0]];if(!a)throw new Error(\"Unrecognised command : \"+i[r][0]);o=[].concat(Je(o),Je(function(t,e,n,r){e=en(e,\";\");var o=[];return e.forEach((function(e){return o.push(new t(en(e,\" \"),n,r))})),o}(a,i[r].slice(1),e,n)))}return o}}],null&&Ze(e.prototype,null),n&&Ze(e,n),t}(),rn=1920;function on(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function an(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function un(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?an(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function cn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var sn={};O=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.entities=new Map,this.frames=[],this.loadingAssets=0,this.extrapolationMap={},this.globalData={toWorldUnits:1,mustResetTree:!0,mustResort:!0,maskUpdates:{},updatedBuffers:[],players:[],instanceCount:0},sn.entities=this.entities}var e,n,r;return e=t,r=[{key:\"name\",get:function(){return\"entitymodule\"}}],(n=[{key:\"handleFrameData\",value:function(t,e){var n=this;!e||(r=nn.parse(e,this.globalData,t))&&r.forEach((function(e){(e=e.apply(n.entities,t))&&(n.loadingAssets++,e.then((function(){n.loadingAssets--})))}));var r=un({},t);return r.previous=this.frames[this.frames.length-1]||r,this.extrapolate(r),r!==r.previous&&(r.previous.next=r),this.frames.push(r),r}},{key:\"lastElementOf\",value:function(t){return t[t.length-1]}},{key:\"extrapolate\",value:function(t){var e=this,n=t.number,r=t.previous.number;this.entities.forEach((function(o){var i,a;o.stateAdded&&(o.stateAdded=!1,o.states[n]||(o.states[n]=[]),e.extrapolationMap[o.id]||(e.extrapolationMap[o.id]=un({},o.defaultState)),(i=o.states[n]).sort((function(t,e){return t.t-e.t})),i.length&&1===e.lastElementOf(i).t||o.addState(1,{},n,t),a=e.extrapolationMap[o.id],o.states[r]&&r!==n&&(a=o.states[r][o.states[r].length-1]),o.states[n]=i.map((function(t){return t=e.extrapolationMap[o.id]=un(un({},e.extrapolationMap[o.id]),t),\"function\"==typeof o.computeAnimationProgressTime&&o.computeAnimationProgressTime(a,t),a=t})))}))}},{key:\"reinitScene\",value:function(t,e){this.globalData.toPixel=rn/e.width*e.oversampling,this.globalData.mustResetTree=!0,sn.container=this.container=t,this.entities.forEach((function(t){t.init()}))}},{key:\"sortChildren\",value:function(t){t.children.sort((function(t,e){return t.zIndex===e.zIndex?t.id-e.id:t.zIndex-e.zIndex}))}},{key:\"stillLoading\",value:function(){return 0<this.loadingAssets}},{key:\"updateScene\",value:function(t,e,n){var r=this;if(!this.stillLoading()){for(var o in this.entities.forEach((function(t){return t.render(n,e,r.globalData)})),this.globalData.mustResetTree&&(this.reconstructTree(),this.globalData.mustResetTree=!1,this.globalData.mustResort=!0),this.globalData.mustResort&&(this.resortTree(),this.globalData.mustResort=!1),this.globalData.maskUpdates){var i=this.entities.get(+o);o=this.globalData.maskUpdates[o];i.container.mask=-1===o?null:this.entities.get(o).graphics}var a,u=function(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return on(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?on(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(this.globalData.updatedBuffers);try{for(u.s();!(a=u.n()).done;)a.value.postUpdate()}catch(t){u.e(t)}finally{u.f()}this.globalData.maskUpdates={}}}},{key:\"resortTree\",value:function(){var t=this;this.entities.forEach((function(e){e instanceof ee&&t.sortChildren(e.childrenContainer)})),this.sortChildren(this.container)}},{key:\"reconstructTree\",value:function(){var t=this;this.container.removeChildren(),this.entities.forEach((function(e){e instanceof ee&&(e.childrenContainer.removeChildren(),e.currentState.children.forEach((function(n){n=t.entities.get(n),e.childrenContainer.addChild(n.container),n.parent=e})))})),this.entities.forEach((function(e){e.container.parent||t.container.addChild(e.container)}))}},{key:\"handleGlobalData\",value:function(t,e){this.globalData.players=t,t=e.width,e=e.height,this.globalData.toWorldUnits=a(t,e,rn,1080),sn.toWorldUnits=this.globalData.toWorldUnits,sn.hasOwnProperty(\"coeff\")||Object.defineProperty(sn,\"coeff\",{get:function(){var t='The \"coeff\" property of GraphicEntityModule\\'s API is deprecated, please use \"toWorldUnits\" instead',e=(new Error).stack;return console.groupCollapsed?(console.groupCollapsed(\"%cDeprecation Warning: %c%s\",\"color:#614108;background:#fffbe6\",\"font-weight:normal;color:#614108;background:#fffbe6\",t),console.warn(e),console.groupEnd()):console.warn(\"Deprecation Warning: \",t),sn.toWorldUnits}})}}])&&cn(e.prototype,n),r&&cn(e,r),t}();function ln(t){return(ln=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function fn(t){var e=\"function\"==typeof Map?new Map:void 0;return(fn=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return yn(t,arguments,dn(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),pn(r,t)})(t)}function yn(t,e,n){return(yn=hn()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&pn(r,n.prototype),r}).apply(null,arguments)}function hn(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function pn(t,e){return(pn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dn(t){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bn=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pn(t,e)}(e,fn(Error));var t=function(t){var e=hn();return function(){var n,r=dn(t);return n=e?(n=dn(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==ln(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,'Could not find toggle: \"'+n+'\". Make sure it is set up correctly in your config.js.')).toggle=n,o.cause=r,o.name=\"MissingToggleError\",o}return e}();function mn(t){return(mn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function gn(t){var e=\"function\"==typeof Map?new Map:void 0;return(gn=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return vn(t,arguments,On(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),wn(r,t)})(t)}function vn(t,e,n){return(vn=xn()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&wn(r,n.prototype),r}).apply(null,arguments)}function xn(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function wn(t,e){return(wn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function On(t){return(On=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rn=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wn(t,e)}(e,gn(Error));var t=function(t){var e=xn();return function(){var n,r=On(t);return n=e?(n=On(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==mn(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(n,r,o){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(r=t.call(this,\"(\"+r.keys.toString()+\") have the same value '\"+r.value+\"' in toggle \\\"\"+n+'\". Avoid those duplicates in your config.js.')).toggle=n,r.cause=o,r.name=\"DuplicateToggleValueError\",r}return e}();function Sn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function En(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sn(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pn(t,e){if(t){if(\"string\"==typeof t)return Tn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tn(t,e):void 0}}function Tn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var _n=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.previousFrame={},this.missingToggles={},t.refreshContent=function(){if(n.currentFrame)for(var e in n.currentFrame.registered){var r=sn.entities.get(parseInt(e)),o=n.currentFrame.registered[e];null!=(e=t.toggles[o.name])||n.missingToggles[o.name]||(l.push(new bn(o.name)),n.missingToggles[o.name]=!0),r.setHidden(e!==o.state)}},function(){for(var t in _n.optionValues){var e,n=function(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=Pn(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(_n.optionValues[t]);try{for(n.s();!(e=n.n()).done;){var r=e.value;1<r.keys.length&&l.push(new Rn(t,r))}}catch(t){n.e(t)}finally{n.f()}}}()}var e,n,r;return e=t,r=[{key:\"refreshContent\",value:function(){}},{key:\"defineToggle\",value:function(e){return function(t){for(var e in _n.optionValues[t.toggle]=[],t.values)!function(e){var n=t.values[e],r=_n.optionValues[t.toggle].find((function(t){return t.value===n}));r||_n.optionValues[t.toggle].push(r={keys:[],value:n}),r.keys.push(e)}(e)}(e),t.toggles[e.toggle]=e.default,e.get=function(){return t.toggles[e.toggle]},e.set=function(n){t.toggles[e.toggle]=n,t.refreshContent()},e}},{key:\"name\",get:function(){return\"toggles\"}}],(n=[{key:\"updateScene\",value:function(e,n,r){this.currentFrame=n,this.currentProgress=r,t.refreshContent()}},{key:\"handleFrameData\",value:function(t,e){var n={};return e&&Object.entries(e).forEach((function(t){var e=(t=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&(\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"]);if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||Pn(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}(t,2))[0];t[1].match(/\\d+./g).forEach((function(t){var r=t.slice(0,-1);t=\"+\"===t.slice(-1);n[r]={name:e,state:t}}))})),t={registered:En(En({},this.previousFrame.registered),n),number:t.number},this.previousFrame=t}},{key:\"reinitScene\",value:function(e,n){t.refreshContent()}}])&&jn(e.prototype,n),r&&jn(e,r),t}();function kn(t){return(kn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Fn(t){var e=\"function\"==typeof Map?new Map:void 0;return(Fn=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Mn(t,arguments,Cn(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),In(r,t)})(t)}function Mn(t,e,n){return(Mn=An()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&In(r,n.prototype),r}).apply(null,arguments)}function An(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function In(t,e){return(In=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Cn(t){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}_n.toggles={},_n.optionValues={};var Dn=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&In(t,e)}(e,Fn(Error));var t=function(t){var e=An();return function(){var n,r=Cn(t);return n=e?(n=Cn(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==kn(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(o=t.call(this,'Could not find image: \"'+n+'\". Make sure it is in your assets folder and is spelled correctly.')).image=n,o.cause=r,o.name=\"MissingImageError\",o}return e}();function Un(t){return function(t){if(Array.isArray(t))return Yn(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return Yn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yn(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Yn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Xn=[O,_n,function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.states=[],this.scores=[],this.globalData={},this.atEnd=!1}var e,n,r;return e=t,r=[{key:\"name\",get:function(){return\"endScreen\"}}],(n=[{key:\"updateScene\",value:function(t,e,n){e.scores&&1===n?this.atEnd=!0:this.atEnd=!1}},{key:\"handleFrameData\",value:function(t,e){var n=null,r=null,o=null;return e&&(n=e[0],r=e[1],o=e[2]),t={number:t.number,scores:n,spriteName:r,displayedText:o},n&&(this.scores=n),r&&(this.spriteName=r),o&&(this.displayedText=o),this.states.push(t),t}},{key:\"reinitScene\",value:function(t,e){this.container=t,this.endLayer=this.createEndScene(this),this.atEnd&&this.initEndScene(),this.container.addChild(this.endLayer)}},{key:\"animateScene\",value:function(t){t=Math.min(32,t),this.atEnd?this.animationEnded||this.renderEndScene(t):(0<this.endTime&&this.destroyEndScene(),this.endTime=0)}},{key:\"destroyEndScene\",value:function(){this.animationEnded=!1,this.endLayer.visible=!1}},{key:\"initEndScene\",value:function(){this.animationEnded=!1,this.endLayer.visible=!0}},{key:\"renderEndScene\",value:function(t){0===this.endTime&&this.initEndScene();var e=i(0,400,this.endTime);this.endLayer.backgroundRanking.alpha=.9*e,e=i(400,1e3,this.endTime),this.endLayer.titleRanking.scale.x=this.endLayer.titleRanking.scale.y=.001+o(10,.8,e),this.endLayer.titleRanking.visible=!!e;for(var n=0;n<this.finishers.length;++n){var r=i(1e3+300*n,1e3+300*n+300,this.endTime);this.finishers[n].alpha=r}this.endTime+=t,1e4<=this.endTime&&(this.animationEnded=!0)}},{key:\"handleGlobalData\",value:function(t,e){this.globalData={players:t,playerCount:t.length}}},{key:\"fitTextInWidth\",value:function(t,e){for(var n=t.text;t.width>e;)n=n.slice(0,-1),t.text=n+\"...\"}},{key:\"generateText\",value:function(t,e,n,r){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;return(r=new PIXI.Text(t,{fontSize:Math.round(e/1.2)+\"px\",fontFamily:\"Lato\",fontWeight:\"bold\",fill:r})).lineHeight=Math.round(e/1.2),\"right\"===n?r.anchor.x=1:\"center\"===n&&(r.anchor.x=.5),null!==o&&this.fitTextInWidth(r,o),r}},{key:\"createFinisher\",value:function(t){var e=new PIXI.Container,n=new PIXI.Container;n.y=0,n.x=0;var r=new PIXI.Graphics;r.beginFill(16777215),r.alpha=.1,r.drawRect(0,0,240,120),n.addChild(r);var o=new PIXI.Graphics;o.lineStyle(1,16777215),o.alpha=.5,o.drawRect(0,0,120,120),n.addChild(o);var i=new PIXI.Sprite(t.player.avatar);return i.width=i.height=120,(r=this.generateText(t.rank.toString(),76,\"center\",t.player.color)).anchor.y=.5,r.position.x=160,r.position.y=56,n.addChild(r),o=\"TH\",t.rank<4&&(o=[\"ST\",\"ND\",\"RD\"][t.rank-1]),(r=this.generateText(o.toString(),34,\"left\",t.player.color)).position.x=184,r.position.y=32,n.addChild(r),(o=new PIXI.Container).addChild(i),n.addChild(o),r=this.globalData.playerCount<=4?1500:500,i=this.generateText(t.player.name.toUpperCase(),50,\"left\",t.player.color,r),o=t.text||(0<=t.score?t.score.toString()+\" points\":\"-\"),r=this.generateText(o,64,\"left\",t.player.color,r),i.x=330,i.y=-4,r.x=330,r.y=50,e.addChild(n),e.addChild(i),e.addChild(r),e}},{key:\"createEndScene\",value:function(){var t=new PIXI.Container,e=new PIXI.Graphics;e.beginFill(0,.85),e.drawRect(0,0,rn,1080),e.endFill(),t.backgroundRanking=e;var n=this.spriteName;(n=PIXI.utils.TextureCache[n]?PIXI.Sprite.fromFrame(n):(l.push(new Dn(n)),new PIXI.Sprite(PIXI.Texture.EMPTY))).anchor.x=n.anchor.y=.5,(t.titleRanking=n).position.x=960,n.position.y=230;for(var r=[],o=0;o<this.globalData.playerCount;++o)r.push({score:this.scores[o],text:this.displayedText?this.displayedText[o]:null,player:this.globalData.players[o],rank:0});r.sort((function(t,e){return e.score-t.score})),this.finishers=[];var i,a=new PIXI.Container;for(o=0;o<r.length;++o)r[o].rank=r.filter((function(t){return t.score>r[o].score})).length+1,i=this.createFinisher(r[o]),a.addChild(i),this.finishers.push(i);if(this.finishers.length<=4){var u=Math.max.apply(Math,Un(this.finishers.map((function(t){return t.width}))));for(o=0;o<this.finishers.length;++o)this.finishers[o].position.x=(rn-u)/2,this.finishers[o].position.y=150*o}else{var c=Math.ceil(this.finishers.length/2),s=Math.max.apply(Math,Un(this.finishers.slice(0,c).map((function(t){return t.width}))));for(o=0;o<this.finishers.length;++o)this.finishers[o].position.x=o<c?960-(s+50):1010,this.finishers[o].position.y=o%c*150}return a.y=400,t.addChild(e),t.addChild(n),t.addChild(a),t.visible=!1,t}}])&&Kn(e.prototype,n),r&&Kn(e,r),t}()],Wn=[_n.defineToggle({toggle:\"debugToggle\",title:\"DEBUG\",values:{ON:!0,OFF:!1},default:!0})],Bn={views:['KEY_FRAME 0\\n{\"global\":{\"entitymodule\":{\"width\":1920,\"height\":1080}},\"frame\":{\"entitymodule\":\"CR;R;T;T;R;T;R;T;R;T;R;T;R;T;R;T;R;T;R;T;R;R;R;R;R;R;R;R;T;R;R;R;R;R;R;R;R;T;R;R;R;R;R;R;R;R;T;R;R;R;R;R;R;R;R;T;R;R;R;R;R;R;R;R;T;R;R;R;R;R;R;R;R;T;R;R;R;R;R;R;R;R;R;R;S;S;S;S;S;S;S;S;R;T;S;S;T;T;T;R;T;S;S;T;T;T\\\\nU67 1 f 9727825 v 1 w 120 x 720 y 160 h 120;76 1 f 15784373 v 1 w 120 x 720 y 40 h 120;102 1 bw 100 i $1 v 1 ax 0.5 x 1720 y 320 bh 100;78 1 f 15784373 v 1 w 120 x 960 y 40 h 120;87 1 bw 100 i w.png v 1 x 1090 y 890 bh 100;106 1 f -2 v 1 ax 0.5 x 1720 y 720 s 42 T 0;9 1 f 15784373 v 1 w 120 x 840 y 880 h 120;30 1 f 15784373 v 1 w 120 x 600 y 640 h 120;84 1 f 16711680 v 1 w 120 x -120 y -120 F 0.45 h 120;16 1 f 16711422 v 1 ff Verdana x 1250 y 1010 s 40 T g;64 1 f 9727825 v 1 w 120 x 480 y 160 h 120;96 1 bw 100 i w.png v 1 x 150 y 470 bh 100;103 1 bw 100 i b.png v 1 x 1670 y 470 bh 100;47 1 f 16711422 v 1 ff Verdana x 420 y 440 s 40 T 5;104 1 f 16777215 v 1 ax 0.5 x 1720 y 590 s 40;70 1 f 15784373 v 1 w 120 x 1080 y 160 h 120;1 1 f 2499617 w 1920 v 1 h 1080;36 1 f 15784373 v 1 w 120 x 1320 y 640 h 120;54 1 f 15784373 v 1 w 120 x 1320 y 400 h 120;62 1 f 15784373 v 1 w 120 x 1200 y 280 h 120;99 1 f -1 v 1 ax 0.5 x 200 y 720 s 42 T 0;90 1 bw 100 i b.png v 1 x 1090 y 650 bh 100;29 1 f 16711422 v 1 ff Verdana x 420 y 680 s 40 T 3;34 1 f 15784373 v 1 w 120 x 1080 y 640 h 120;42 1 f 15784373 v 1 w 120 x 960 y 520 h 120;4 1 f 16711422 v 1 ff Verdana x 530 y 1010 s 40 T a;60 1 f 15784373 v 1 w 120 x 960 y 280 h 120;31 1 f 9727825 v 1 w 120 x 720 y 640 h 120;85 1 bw 100 i w.png v 1 x 850 y 770 bh 100;13 1 f 15784373 v 1 w 120 x 1080 y 880 h 120;19 1 f 15784373 v 1 w 120 x 480 y 760 h 120;23 1 f 9727825 v 1 w 120 x 840 y 760 h 120;69 1 f 9727825 v 1 w 120 x 960 y 160 h 120;50 1 f 15784373 v 1 w 120 x 840 y 400 h 120;20 1 f 16711422 v 1 ff Verdana x 420 y 800 s 40 T 2;25 1 f 9727825 v 1 w 120 x 1080 y 760 h 120;86 1 bw 100 i b.png v 1 x 970 y 170 bh 100;65 1 f 16711422 v 1 ff Verdana x 420 y 200 s 40 T 7;95 1 bw 100 i $0 v 1 ax 0.5 x 200 y 320 bh 100;43 1 f 9727825 v 1 w 120 x 1080 y 520 h 120;55 1 f 15784373 v 1 w 120 x 480 y 280 h 120;40 1 f 15784373 v 1 w 120 x 720 y 520 h 120;39 1 f 9727825 v 1 w 120 x 600 y 520 h 120;27 1 f 9727825 v 1 w 120 x 1320 y 760 h 120;88 1 bw 100 i b.png v 1 x 730 y 50 bh 100;81 1 f 9727825 v 1 w 120 x 1320 y 40 h 120;92 1 bw 100 i b.png v 1 x 850 y 530 bh 100;10 1 f 16711422 v 1 ff Verdana x 890 y 1010 s 40 T d;82 1 f 8298178 v 1 w 120 x -120 y -120 F 0.75 h 120;63 1 f 9727825 v 1 w 120 x 1320 y 280 h 120;71 1 f 9727825 v 1 w 120 x 1200 y 160 h 120;61 1 f 9727825 v 1 w 120 x 1080 y 280 h 120;83 1 f 8298178 v 1 w 120 x -120 y -120 F 0.75 h 120;51 1 f 9727825 v 1 w 120 x 960 y 400 h 120;58 1 f 15784373 v 1 w 120 x 720 y 280 h 120;89 1 bw 100 i w.png v 1 x 730 y 290 bh 100;38 1 f 16711422 v 1 ff Verdana x 420 y 560 s 40 T 4;8 1 f 16711422 v 1 ff Verdana x 770 y 1010 s 40 T c;5 1 f 15784373 v 1 w 120 x 600 y 880 h 120;53 1 f 9727825 v 1 w 120 x 1200 y 400 h 120;3 1 f 16711422 v 1 ff Verdana x 420 y 920 s 40 T 1;100 1 f 16777215 v 1 a 0.15 w 300 x 1570 y 200 h 600;11 1 f 9727825 v 1 w 120 x 960 y 880 h 120;15 1 f 9727825 v 1 w 120 x 1200 y 880 h 120;75 1 f 9727825 v 1 w 120 x 600 y 40 h 120;35 1 f 9727825 v 1 w 120 x 1200 y 640 h 120;73 1 f 15784373 v 1 w 120 x 480 y 40 h 120;2 1 f 9727825 v 1 w 120 x 480 y 880 h 120;48 1 f 15784373 v 1 w 120 x 600 y 400 h 120;57 1 f 9727825 v 1 w 120 x 600 y 280 h 120;59 1 f 9727825 v 1 w 120 x 840 y 280 h 120;12 1 f 16711422 v 1 ff Verdana x 1010 y 1010 s 40 T e;93 1 f 16777215 v 1 a 0.15 w 300 x 50 y 200 h 600;44 1 f 15784373 v 1 w 120 x 1200 y 520 h 120;26 1 f 15784373 v 1 w 120 x 1200 y 760 h 120;72 1 f 15784373 v 1 w 120 x 1320 y 160 h 120;41 1 f 9727825 v 1 w 120 x 840 y 520 h 120;66 1 f 15784373 v 1 w 120 x 600 y 160 h 120;105 1 f 16777215 v 1 ax 0.5 x 1720 y 660 s 36;6 1 f 16711422 v 1 ff Verdana x 650 y 1010 s 40 T b;18 1 f 16711422 v 1 ff Verdana x 1370 y 1010 s 40 T h;101 1 f 16777215 v 1 ax 0.5 x 1720 y 210 s 42 T $1;14 1 f 16711422 v 1 ff Verdana x 1130 y 1010 s 40 T f;33 1 f 9727825 v 1 w 120 x 960 y 640 h 120;56 1 f 16711422 v 1 ff Verdana x 420 y 320 s 40 T 6;68 1 f 15784373 v 1 w 120 x 840 y 160 h 120;45 1 f 9727825 v 1 w 120 x 1320 y 520 h 120;94 1 f 16777215 v 1 ax 0.5 x 200 y 210 s 42 T $0;17 1 f 15784373 v 1 w 120 x 1320 y 880 h 120;7 1 f 9727825 v 1 w 120 x 720 y 880 h 120;22 1 f 15784373 v 1 w 120 x 720 y 760 h 120;52 1 f 15784373 v 1 w 120 x 1080 y 400 h 120;77 1 f 9727825 v 1 w 120 x 840 y 40 h 120;28 1 f 9727825 v 1 w 120 x 480 y 640 h 120;97 1 f 16777215 v 1 ax 0.5 x 200 y 590 s 40;98 1 f 16777215 v 1 ax 0.5 x 200 y 660 s 36;24 1 f 15784373 v 1 w 120 x 960 y 760 h 120;80 1 f 15784373 v 1 w 120 x 1200 y 40 h 120;49 1 f 9727825 v 1 w 120 x 720 y 400 h 120;37 1 f 15784373 v 1 w 120 x 480 y 520 h 120;91 1 bw 100 i w.png v 1 x 970 y 410 bh 100;21 1 f 9727825 v 1 w 120 x 600 y 760 h 120;74 1 f 16711422 v 1 ff Verdana x 420 y 80 s 40 T 8;46 1 f 9727825 v 1 w 120 x 480 y 400 h 120;79 1 f 9727825 v 1 w 120 x 1080 y 40 h 120;32 1 f 15784373 v 1 w 120 x 840 y 640 h 120\",\"toggles\":{\"debugToggle\":\"82+83+84+\"}}}\\n','KEY_FRAME 1\\n{\"duration\":978,\"entitymodule\":\"U97 0 T c6e8d8;98 0 T ;84 0.49 x 840  y 40 ;77 0.49;89 0.49 x 970 y 50;77 1 f 1644825;82 1 x 720  y 280 ;83 1 x 960  y 40 \"}\\n','KEY_FRAME 2\\n{\"duration\":850,\"entitymodule\":\"U104 0 T c8b7b1;105 0 T ;84 0.41 x 600  y 880 ;5 0.41;88 0.41 x 610 y 170;5 1 f 1644825;82 1 y 40 ;83 1 x 600  y 160 \"}\\n','KEY_FRAME 3\\n{\"entitymodule\":\"U97 0 T d2d3c4;98 0;85 0.41 y 650;84 0.41 x 720  y 520 ;40 0.41;40 1 f 1644825;82 1 x 840  y 760 ;83 1 x 840  y 640 \"}\\n','KEY_FRAME 4\\n{\"duration\":978,\"entitymodule\":\"U104 0 T f3h3h6;105 0;63 0.49;84 0.49 x 1320  y 280 ;90 0.49 x 1330;63 1 f 1644825;82 1 x 1080  y 640 ;83 1 x 1320 \"}\\n','KEY_FRAME 5\\n{\"duration\":850,\"entitymodule\":\"U97 0 T e8f8f4;98 0;43 0.41;84 0.41 x 1080  y 520 ;89 0.41 x 1090;43 1 f 1644825;82 1 x 960  y 40 ;83 1 x 1080  y 40 \"}\\n','KEY_FRAME 6\\n{\"duration\":1073,\"entitymodule\":\"U104 0 T d4d7c8;105 0;84 0.53 x 720  y 40 ;76 0.53;92 0.53 y 170;82 1 x 840  y 520 ;83 1 x 840  y 160 ;76 1 f 1644825\"}\\n','KEY_FRAME 7\\n{\"entitymodule\":\"U97 0 T e5b2g7;98 0;84 0.53 x 1200  y 160 ;71 0.53;91 0.53 x 610 y 770;71 1 f 1644825;82 1 x 960  y 400 ;83 1 x 600  y 760 \"}\\n','KEY_FRAME 8\\n{\"entitymodule\":\"U104 0 T d7d4e4;105 0;84 0.53 x 960  y 520 ;42 0.53;92 0.53 y 530;42 1 f 1644825;82 1 x 840  y 160 ;83 1 x 840  y 520 \"}\\n','KEY_FRAME 9\\n{\"duration\":978,\"entitymodule\":\"U97 0 T d3f3a3;98 0;85 0.49 x 1090;84 0.49 x 480  y 640 ;28 0.49;82 1 y 640 ;83 1 x 1080  y 640 ;28 1 f 1644825\"}\\n','KEY_FRAME 10\\n{\"duration\":850,\"entitymodule\":\"U104 0 T b7a8a4;105 0;84 0.41 y 520 ;37 0.41;88 0.41 x 490 y 50;37 1 f 1644825;82 1 x 600  y 160 ;83 1 x 480  y 40 \"}\\n','KEY_FRAME 11\\n{\"entitymodule\":\"U97 0 T f1e1g3;98 0;84 0.41 x 1200  y 640 ;35 0.41;87 0.41 x 970;82 1 x 1080  y 880 ;83 1 x 960  y 880 ;35 1 f 1644825\"}\\n','KEY_FRAME 12\\n{\"duration\":1073,\"entitymodule\":\"U104 0 T d4a7e3;105 0;84 0.53 x 960 ;33 0.53;92 0.53 x 490 y 170;82 1 x 840  y 520 ;83 1 x 480  y 160 ;33 1 f 1644825\"}\\n','KEY_FRAME 13\\n{\"duration\":850,\"entitymodule\":\"U97 0 T e1d2b4;98 0;84 0.41 x 600  y 520 ;39 0.41;87 0.41 x 850 y 770;82 1 x 960  y 880 ;83 1 x 840  y 760 ;39 1 f 1644825\"}\\n','KEY_FRAME 14\\n{\"entitymodule\":\"U104 0 T e7d7b5;105 0;84 0.41 y 400 ;86 0.41 x 850;48 0.41;82 1 y 160 ;83 1 y 160 ;48 1 f 1644825\"}\\n','KEY_FRAME 15\\n{\"duration\":978,\"entitymodule\":\"U97 0 T f3h5e8;98 0;85 0.49 x 1330 y 410;84 0.49 x 960  y 40 ;78 0.49;82 1 x 1080  y 640 ;83 1 x 1320  y 400 ;78 1 f 1644825\"}\\n','KEY_FRAME 16\\n{\"duration\":1073,\"entitymodule\":\"U104 0 T d7d4e5;105 0;84 0.53 y 400 ;51 0.53;86 0.53 y 530;82 1 x 840  y 160 ;83 1 x 840  y 520 ;51 1 f 1644825\"}\\n','KEY_FRAME 17\\n{\"duration\":850,\"entitymodule\":\"U97 0 T b2c1d1;98 0;84 0.41 x 840  y 880 ;91 0.41 x 730 y 890;9 0.41;82 1 x 600  y 760 ;83 1 x 720  y 880 ;9 1 f 1644825\"}\\n','KEY_FRAME 18\\n{\"entitymodule\":\"U104 0 T h3h2h4;105 0;84 0.41 x 1320  y 520 ;90 0.41 y 770;45 0.41;82 1 x 1320  y 640 ;83 1 x 1320  y 760 ;45 1 f 1644825\"}\\n','KEY_FRAME 19\\n{\"duration\":1073,\"entitymodule\":\"U97 0 T d2a2e2;98 0;84 0.53 x 960  y 760 ;87 0.53 x 490;24 0.53;82 1 x 840  y 760 ;83 1 x 480 ;24 1 f 1644825\"}\\n','KEY_FRAME 20\\n{\"duration\":978,\"entitymodule\":\"U104 0 T d4b6c6;105 0;84 0.49 x 720  y 280 ;86 0.49 x 610 y 290;58 0.49;82 1 y 520 ;83 1 x 600  y 280 ;58 1 f 1644825\"}\\n','KEY_FRAME 21\\n{\"entitymodule\":\"U97 0 T f8f6d6;98 0;84 0.49 x 840 ;59 0.49;89 0.49 y 290;59 1 f 1644825;82 1 x 1080  y 40 ;83 1 x 1080 \"}\\n','KEY_FRAME 22\\n{\"entitymodule\":\"U104 0 T h2f2f1;105 0;84 0.49 x 1080  y 880 ;13 0.49;90 0.49 x 1090;13 1 f 1644825;82 1 x 1320  y 760 ;83 1 y 760 \"}\\n','KEY_FRAME 23\\n{\"duration\":850,\"entitymodule\":\"U97 0 T f6f7g8;98 0;84 0.41 x 1200  y 40 ;89 0.41 y 170;80 0.41;82 1 x 1080  y 280 ;83 1 y 160 ;80 1 f 1644825\"}\\n','KEY_FRAME 24\\n{\"duration\":978,\"entitymodule\":\"U104 0 T a7c7b7;105 0;84 0.49 x 600  y 160 ;66 0.49;92 0.49 x 730;66 1 f 1644825;82 1 x 480  y 160 ;83 1 x 720 \"}\\n','KEY_FRAME 25\\n{\"duration\":850,\"entitymodule\":\"U97 0 T f7f8f7;98 0;84 0.41 x 1080 ;70 0.41;89 0.41 y 50;70 1 f 1644825;82 1 x -120 ;83 1 x 1080  y 40 \"}\\n','KEY_FRAME 26\\n{\"entitymodule\":\"U104 0 T f2e1d2;105 0;84 0.41 x 840  y 760 ;23 0.41;90 0.41 x 970 y 890;82 1 x 1080  y 760 ;83 1 x 960  y 880 ;23 1 f 1644825\"}\\n','KEY_FRAME 27\\n{\"entitymodule\":\"U97 0 T a2b2d4;98 0;84 0.41 y 520 ;41 0.41;87 0.41 x 610;82 1 x 480 ;83 1 x 600  y 760 ;41 1 f 1644825\"}\\n','KEY_FRAME 28\\n{\"entitymodule\":\"U104 0 T c7b8a7;105 0;84 0.41 x 480  y 160 ;64 0.41;92 0.41 x 610 y 50;82 1 x 720  y 160 ;83 1 y 40 ;64 1 f 1644825\"}\\n','KEY_FRAME 29\\n{\"entitymodule\":\"U97 0 T c1c2d3;98 0;84 0.41 x 840  y 640 ;91 0.41 y 770;32 0.41;82 1 y 880 ;83 1 x 720  y 760 ;32 1 f 1644825\"}\\n','KEY_FRAME 30\\n{\"entitymodule\":\"U104 0 T e1f2h2;105 0;84 0.41 x 1320  y 760 ;27 0.41;90 0.41 x 1090 y 770;82 1 x 960 ;83 1 x 1080 ;27 1 f 1644825\"}\\n','KEY_FRAME 31\\n{\"entitymodule\":\"U97 0 T c2c3c2;98 0;84 0.41 x 720 ;22 0.41;91 0.41 y 650;22 1 f 1644825;82 1 x -120 ;83 1 x 720  y 640 \"}\\n','KEY_FRAME 32\\n{\"entitymodule\":\"U104 0 T f2e1f2;105 0;84 0.41 x 1080 ;25 0.41;90 0.41 x 970 y 890;83 1 x 960  y 880 ;25 1 f 1644825\"}\\n','KEY_FRAME 33\\n{\"entitymodule\":\"U97 0 T b2a1b2;98 0;84 0.41 x 600 ;21 0.41;87 0.41 x 490 y 890;83 1 x 480 ;21 1 f 1644825\"}\\n','KEY_FRAME 34\\n{\"entitymodule\":\"U104 0 T b6a5a6;105 0;55 0.41;84 0.41 x 480  y 280 ;86 0.41 x 490 y 410;55 1 f 1644825;82 1 x 600  y 280 ;83 1 y 400 \"}\\n','KEY_FRAME 35\\n{\"entitymodule\":\"U97 0 T h5g5h5;98 0;85 0.41 x 1210;84 0.41 x 1320  y 400 ;54 0.41;82 1 x -120 ;83 1 x 1200 ;54 1 f 1644825\"}\\n','KEY_FRAME 36\\n{\"entitymodule\":\"U104 0 T b8c7b6;105 0;57 0.41;84 0.41 x 600  y 280 ;92 0.41 x 730 y 170;57 1 f 1644825;82 1 x 600  y 40 ;83 1 x 720  y 160 \"}\\n','KEY_FRAME 37\\n{\"duration\":978,\"entitymodule\":\"U97 0 T g5e7d7;98 0;85 0.49 x 970 y 170;84 0.49 x 840  y 160 ;68 0.49;82 1 x 1200  y 400 ;83 1 x 960 ;68 1 f 1644825\"}\\n','KEY_FRAME 38\\n{\"duration\":850,\"entitymodule\":\"U104 0 T a8b8a8;105 0;84 0.41 x 480  y 40 ;88 0.41 x 610;73 0.41;82 1 x -120 ;83 1 x 600  y 40 ;73 1 f 1644825\"}\\n','KEY_FRAME 39\\n{\"duration\":978,\"entitymodule\":\"U97 0 T e7g5g4;98 0;85 0.49 x 1210 y 410;84 0.49 x 1200  y 520 ;44 0.49;44 1 f 1644825;82 1 x 960  y 160 ;83 1 x 1200  y 400 ;99 1 T 1\"}\\n','KEY_FRAME 40\\n{\"duration\":1800,\"entitymodule\":\"U63 0.4 f 15784373;71 0.4 f 15784373;61 0.4 f 15784373;67 0.4 f 15784373;51 0.4 f 15784373;76 0.4 f 9727825;58 0.4 f 9727825;78 0.4 f 9727825;87 0.4;89 0.4;9 0.4 f 9727825;30 0.4 f 9727825;5 0.4 f 9727825;53 0.4 f 15784373;64 0.4 f 15784373;11 0.4 f 15784373;15 0.4 f 15784373;75 0.4 f 15784373;35 0.4 f 15784373;73 0.4 f 9727825;2 0.4 f 15784373;48 0.4 f 9727825;57 0.4 f 15784373;59 0.4 f 15784373;70 0.4 f 9727825;36 0.4 f 9727825;54 0.4 f 9727825;62 0.4 f 9727825;90 0.4;34 0.4 f 9727825;42 0.4 f 9727825;44 0.4 f 9727825;26 0.4 f 9727825;72 0.4 f 9727825;41 0.4 f 15784373;60 0.4 f 9727825;31 0.4 f 15784373;85 0.4;66 0.4 f 9727825;13 0.4 f 9727825;19 0.4 f 9727825;23 0.4 f 15784373;69 0.4 f 15784373;50 0.4 f 9727825;25 0.4 f 15784373;33 0.4 f 15784373;86 0.4;68 0.4 f 9727825;45 0.4 f 15784373;17 0.4 f 9727825;7 0.4 f 15784373;43 0.4 f 15784373;55 0.4 f 9727825;22 0.4 f 9727825;52 0.4 f 9727825;77 0.4 f 15784373;28 0.4 f 15784373;40 0.4 f 9727825;39 0.4 f 15784373;27 0.4 f 15784373;88 0.4;24 0.4 f 9727825;80 0.4 f 9727825;81 0.4 f 15784373;49 0.4 f 15784373;92 0.4;37 0.4 f 9727825;91 0.4;21 0.4 f 15784373;46 0.4 f 15784373;79 0.4 f 15784373;32 0.4 f 9727825;85 0.8 x 850 y 770;91 0.8 x 970 y 410;86 0.8 x 970 y 170;88 0.8 x 730;90 0.8 x 1090 y 650;87 0.8 x 1090;89 0.8 x 730 y 290;92 0.8 x 850 y 530;104 1 T ;84 1 x -120 ;82 1 x -120 ;83 1 x -120 ;97 1 T ;96 1 i b.png;103 1 i w.png\"}\\n','KEY_FRAME 41\\n{\"duration\":1073,\"entitymodule\":\"U104 0 T e5h2b8;105 0;84 0.53 x 600  y 40 ;91 0.53 x 1330 y 770;75 0.53;82 1 x 960  y 400 ;83 1 x 1320  y 760 ;75 1 f 1644825\"}\\n','KEY_FRAME 42\\n{\"duration\":850,\"entitymodule\":\"U97 0 T f3g2g8;98 0;84 0.41 x 1200 ;90 0.41 x 1210 y 770;80 0.41;82 1 x 1080  y 640 ;83 1 x 1200 ;80 1 f 1644825\"}\\n','KEY_FRAME 43\\n{\"entitymodule\":\"U104 0 T c6d6f6;105 0;84 0.41 x 1080  y 280 ;61 0.41;89 0.41 x 850;61 1 f 1644825;82 1 x 720  y 280 ;83 1 x 840  y 280 \"}\\n','KEY_FRAME 44\\n{\"duration\":978,\"entitymodule\":\"U97 0 T g2g4h4;98 0;84 0.49 x 1320  y 520 ;90 0.49 y 530;45 0.49;82 1 x 1200  y 760 ;83 1 x 1200  y 520 ;45 1 f 1644825\"}\\n','KEY_FRAME 45\\n{\"entitymodule\":\"U104 0 T d6b4c4;105 0;84 0.49 x 720 ;40 0.49;89 0.49 x 610 y 530;40 1 f 1644825;82 1 x 840  y 280 ;83 1 x 600 \"}\\n','KEY_FRAME 46\\n{\"duration\":1073,\"entitymodule\":\"U97 0 T e7h7f5;98 0;84 0.53 x 1080  y 400 ;52 0.53;86 0.53 x 1330;52 1 f 1644825;82 1 x 960  y 160 ;83 1 x 1320  y 160 \"}\\n','KEY_FRAME 47\\n{\"duration\":978,\"entitymodule\":\"U104 0 T f1f3b7;105 0;84 0.49 x 600  y 160 ;66 0.49;87 0.49 y 650;66 1 f 1644825;82 1 x 1080  y 880 ;83 1 x 1080  y 640 \"}\\n','KEY_FRAME 48\\n{\"duration\":850,\"entitymodule\":\"U97 0 T h7h6g5;98 0;84 0.41 x 1200  y 400 ;53 0.41;86 0.41 y 290;53 1 f 1644825;82 1 x 1320  y 160 ;83 1 x 1320  y 280 \"}\\n','KEY_FRAME 49\\n{\"entitymodule\":\"U104 0 T d2d1d2;105 0;85 0.41 y 890;84 0.41 x 840  y 760 ;23 0.41;82 1 x -120 ;83 1 x 840  y 880 ;23 1 f 1644825\"}\\n','KEY_FRAME 50\\n{\"duration\":978,\"entitymodule\":\"U97 0 T h6f8d6;98 0;84 0.49 y 280 ;59 0.49;86 0.49 x 1090 y 50;59 1 f 1644825;82 1 x 1320  y 280 ;83 1 x 1080  y 40 \"}\\n','KEY_FRAME 51\\n{\"duration\":1073,\"entitymodule\":\"U104 0 T h2e2e8;105 0;84 0.53 x 960  y 40 ;91 0.53 x 970;78 0.53;82 1 y 760 ;83 1 x 960  y 760 ;78 1 f 1644825\"}\\n','KEY_FRAME 52\\n{\"entitymodule\":\"U97 0 T g4g1g4;98 0;84 0.53 x 1200  y 520 ;44 0.53;90 0.53 y 890;44 1 f 1644825;82 1 x -120 ;83 1 x 1200  y 880 \"}\\n','KEY_FRAME 53\\n{\"duration\":850,\"entitymodule\":\"U104 0 T e2e1f1;105 0;84 0.41 x 1080  y 880 ;13 0.41;91 0.41 y 890;13 1 f 1644825;82 1 x 960 ;83 1 x 960 \"}\\n','KEY_FRAME 54\\n{\"entitymodule\":\"U97 0 T d4e4e6;98 0;84 0.41 x 960  y 280 ;60 0.41;92 0.41 x 970;82 1 x 840  y 520 ;83 1 y 520 ;60 1 f 1644825\"}\\n','KEY_FRAME 55\\n{\"entitymodule\":\"U104 0 T d1c2b3;105 0;85 0.41 x 730 y 770;84 0.41 x 600  y 640 ;30 0.41;82 1 y 880 ;83 1 x 720  y 760 ;30 1 f 1644825\"}\\n','KEY_FRAME 56\\n{\"duration\":1283,\"entitymodule\":\"U97 0 T g1a7d4;98 0;84 0.61 x 840  y 520 ;90 0.61 x 490 y 170;41 0.61;82 1 x 1200 ;83 1 x 480  y 160 ;41 1 f 1644825\"}\\n','KEY_FRAME 57\\n{\"duration\":978,\"entitymodule\":\"U104 0 T e1c1e1;105 0;84 0.49 x 960  y 880 ;91 0.49 x 730;11 0.49;82 1 x -120 ;83 1 x 720  y 880 ;11 1 f 1644825\"}\\n','KEY_FRAME 58\\n{\"duration\":850,\"entitymodule\":\"U97 0 T e4d3e2;98 0;84 0.41 y 760 ;24 0.41;92 0.41 x 850 y 650;82 1 x 960  y 520 ;83 1 x 840  y 640 ;24 1 f 1644825\"}\\n','KEY_FRAME 59\\n{\"duration\":978,\"entitymodule\":\"U104 0 T c2a2a3;105 0;85 0.49 x 490;84 0.49 x 480  y 640 ;28 0.49;82 1 x 720  y 760 ;83 1 x 480  y 760 ;28 1 f 1644825\"}\\n','KEY_FRAME 60\\n{\"duration\":850,\"entitymodule\":\"U97 0 T a7a6a5;98 0;84 0.41 y 400 ;90 0.41 y 290;46 0.41;82 1 x 480  y 160 ;83 1 y 280 ;46 1 f 1644825\"}\\n','KEY_FRAME 61\\n{\"entitymodule\":\"U104 0 T f3g2h2;105 0;84 0.41 x 1320  y 760 ;27 0.41;87 0.41 x 1210 y 770;82 1 x 1080  y 640 ;83 1 x 1200  y 760 ;27 1 f 1644825\"}\\n','KEY_FRAME 62\\n{\"entitymodule\":\"U97 0 T c8d8c7;98 0;84 0.41 x 720  y 160 ;67 0.41;88 0.41 x 850;67 1 f 1644825;82 1 x 720  y 40 ;83 1 x 840  y 40 \"}\\n','KEY_FRAME 63\\n{\"entitymodule\":\"U104 0 T c1b2c1;105 0;7 0.41;84 0.41 y 880 ;91 0.41 x 610 y 770;7 1 f 1644825;82 1 x -120 ;83 1 x 600  y 760 \"}\\n','KEY_FRAME 64\\n{\"duration\":978,\"entitymodule\":\"U97 0 T f8h6f8;98 0;84 0.49 x 1080  y 40 ;86 0.49 x 1330 y 290;79 0.49;83 1 x 1320  y 280 ;79 1 f 1644825\"}\\n','KEY_FRAME 65\\n{\"entitymodule\":\"U104 0 T g2e4f4;105 0;43 0.49;84 0.49 y 520 ;87 0.49 x 970 y 530;43 1 f 1644825;82 1 x 1200  y 760 ;83 1 x 960  y 520 \"}\\n','KEY_FRAME 66\\n{\"entitymodule\":\"U97 0 T h6h8h5;98 0;84 0.49 x 1320  y 400 ;54 0.49;86 0.49 y 50;82 1 x 1320  y 280 ;83 1 x 1320  y 40 ;54 1 f 1644825\"}\\n','KEY_FRAME 67\\n{\"duration\":850,\"entitymodule\":\"U104 0 T a2a1a2;105 0;85 0.41 y 890;84 0.41 x 480  y 760 ;19 0.41;19 1 f 1644825;82 1 x -120 ;83 1 x 480  y 880 \"}\\n','KEY_FRAME 68\\n{\"entitymodule\":\"U97 0 T d8d7b5;98 0;84 0.41 x 600  y 400 ;88 0.41 y 170;48 0.41;82 1 x 840  y 40 ;83 1 x 840  y 160 ;48 1 f 1644825\"}\\n','KEY_FRAME 69\\n{\"duration\":1073,\"entitymodule\":\"U104 0 T e4h1e4;105 0;84 0.53 x 960  y 520 ;42 0.53;87 0.53 x 1330 y 890;42 1 f 1644825;82 1 x -120 ;83 1 x 1320  y 880 \"}\\n','KEY_FRAME 70\\n{\"duration\":850,\"entitymodule\":\"U97 0 T a6a7a8;98 0;84 0.41 x 480  y 40 ;90 0.41 y 170;73 0.41;82 1 x 480  y 280 ;83 1 x 480  y 160 ;73 1 f 1644825\"}\\n','KEY_FRAME 71\\n{\"entitymodule\":\"U104 0 T b2c3b2;105 0;84 0.41 x 600  y 760 ;91 0.41 x 730 y 650;21 0.41;82 1 x -120 ;83 1 x 720  y 640 ;21 1 f 1644825\"}\\n','KEY_FRAME 72\\n{\"duration\":978,\"entitymodule\":\"U97 0 T d3f3g3;98 0;84 0.49 x 1200  y 640 ;35 0.49;92 0.49 x 1090;82 1 x 840  y 640 ;83 1 x 1080 ;35 1 f 1644825\"}\\n','KEY_FRAME 73\\n{\"duration\":850,\"entitymodule\":\"U104 0 T c3d3c2;105 0;84 0.41 x 720  y 760 ;22 0.41;91 0.41 x 850;22 1 f 1644825;82 1 x 720 ;83 1 x 840 \"}\\n','KEY_FRAME 74\\n{\"entitymodule\":\"U97 0 T d7c6d7;98 0;84 0.41 x 840  y 160 ;88 0.41 x 730 y 290;68 0.41;82 1 x -120 ;83 1 x 720  y 280 ;68 1 f 1644825\"}\\n','KEY_FRAME 75\\n{\"entitymodule\":\"U104 0 T b4c3b4;105 0;84 0.41 x 600  y 520 ;39 0.41;89 0.41 x 730 y 650;83 1 y 640 ;39 1 f 1644825\"}\\n','KEY_FRAME 76\\n{\"entitymodule\":\"U97 0 T f3g2h3;98 0;84 0.41 x 1320  y 640 ;36 0.41;92 0.41 x 1210 y 770;82 1 x 1080 ;83 1 x 1200  y 760 ;36 1 f 1644825\"}\\n','KEY_FRAME 77\\n{\"entitymodule\":\"U104 0 T a1b1a1;105 0;85 0.41 x 610;84 0.41 x 480  y 880 ;2 0.41;82 1 x -120 ;83 1 x 600  y 880 ;2 1 f 1644825\"}\\n','KEY_FRAME 78\\n{\"duration\":978,\"entitymodule\":\"U97 0 T c6a6c6;98 0;84 0.49 x 720  y 280 ;88 0.49 x 490;58 0.49;83 1 x 480  y 280 ;58 1 f 1644825\"}\\n','KEY_FRAME 79\\n{\"entitymodule\":\"U104 0 T d3f3f2;105 0;84 0.49 x 1080  y 760 ;91 0.49 x 1090;25 0.49;82 1 x 840 ;83 1 x 1080  y 640 ;25 1 f 1644825\"}\\n','KEY_FRAME 80\\n{\"duration\":850,\"entitymodule\":\"U97 0 T h8h7e7;98 0;84 0.41 x 960  y 160 ;69 0.41;86 0.41 y 170;82 1 x 1320  y 40 ;83 1 x 1320  y 160 ;69 1 f 1644825\"}\\n','KEY_FRAME 81\\n{\"entitymodule\":\"U104 0 T h1g1h1;105 0;84 0.41 x 1320  y 880 ;87 0.41 x 1210;17 0.41;82 1 x -120 ;83 1 x 1200  y 880 ;17 1 f 1644825\"}\\n','KEY_FRAME 82\\n{\"entitymodule\":\"U97 0 T a6b6c5;98 0;84 0.41 x 720  y 400 ;88 0.41 x 610;49 0.41;82 1 x 480  y 280 ;83 1 x 600  y 280 ;49 1 f 1644825\"}\\n','KEY_FRAME 83\\n{\"entitymodule\":\"U104 0 T c3d3c3;105 0;84 0.41 y 640 ;89 0.41 x 850;31 0.41;82 1 x -120 ;83 1 x 840  y 640 ;31 1 f 1644825\"}\\n','KEY_FRAME 84\\n{\"entitymodule\":\"U97 0 T h7g7h8;98 0;84 0.41 x 1320  y 40 ;86 0.41 x 1210;81 0.41;82 1 x 1320  y 160 ;83 1 x 1200  y 160 ;81 1 f 1644825\"}\\n','KEY_FRAME 85\\n{\"entitymodule\":\"U104 0 T f3e3f3;105 0;34 0.41;84 0.41 x 1080  y 640 ;91 0.41 x 970;34 1 f 1644825;82 1 x -120 ;83 1 x 960  y 640 \"}\\n','KEY_FRAME 86\\n{\"entitymodule\":\"U97 0 T g7f7g6;98 0;84 0.41 x 1200  y 280 ;86 0.41 x 1090;62 0.41;82 1 x 1200 ;83 1 x 1080  y 160 ;62 1 f 1644825;99 1 T 2\",\"endScreen\":[[2,0],\"logo.png\",[\"Won\",\"Lost\"]]}\\n'],agents:[{index:0,name:\"Player 0\",avatar:\"https://static.codingame.com/servlet/fileservlet?id=16085734516701&format=viewer_avatar\",agentId:0},{index:1,name:\"Player 1\",avatar:\"https://static.codingame.com/servlet/fileservlet?id=16085846089817&format=viewer_avatar\",agentId:1}]};function Ln(t){return(Ln=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Hn(t){var e=\"function\"==typeof Map?new Map:void 0;return(Hn=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return zn(t,arguments,Nn(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Vn(r,t)})(t)}function zn(t,e,n){return(zn=Gn()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&Vn(r,n.prototype),r}).apply(null,arguments)}function Gn(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Vn(t,e){return(Vn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nn(t){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $n=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vn(t,e)}(e,Hn(Error));var t=function(t){var e=Gn();return function(){var n,r=Nn(t);return n=e?(n=Nn(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Ln(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(n,r){return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),(n=t.call(this,'<Error in module \"'+n+'\">')).cause=r,n.name=\"ModuleError\",n}return e}();function qn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Jn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qn(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Qn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var tr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.toDestroy=[],this.stepByStepAnimateSpeed=null;var n=e||Bn;n?(e=n.views,n=n.agents,this.demo={playerCount:n.length,logo:\"logo.png\",overlayAlpha:.2,agents:n,frames:e},this.demo.agents.forEach((function(e){e.color=t.playerColors[e.index]}))):this.demo=void 0}var e,n,o;return e=t,o=[{key:\"requirements\",get:function(){return{PIXI:\"PIXI4\"}}},{key:\"VERSION\",get:function(){return 2}},{key:\"WIDTH\",get:function(){return rn}},{key:\"HEIGHT\",get:function(){return 1080}},{key:\"getGameRatio\",value:function(){return t.WIDTH/t.HEIGHT}},{key:\"playerColors\",get:function(){return[\"#ff1d5c\",\"#22a1e4\",\"#ff8f16\",\"#6ac371\",\"#9975e2\",\"#3ac5ca\",\"#de6ddf\",\"#ff0000\"]}},{key:\"SDK_GAME\",get:function(){return!0}},{key:\"RenderTimeout\",get:function(){return\"localhost\"===window.location.hostname?1/0:2e4}}],(n=[{key:\"getDefaultOverSampling\",value:function(){return 2}},{key:\"handleModuleError\",value:function(t,e){l.push(new $n(t,e)),console.error(e),l.push({message:'<Module \"'.concat(t,'\" disabled>\\n')}),delete this.modules[t]}},{key:\"instantiateModules\",value:function(){this.modules={};var t,e=function(t,e){var n=\"undefined\"!=typeof Symbol&&t[Symbol.iterator]||t[\"@@iterator\"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return Qn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qn(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(Xn);try{for(e.s();!(t=e.n()).done;){var n=t.value;try{this.modules[n.name]=new n(r)}catch(t){this.handleModuleError(n.name,t)}}}catch(t){e.e(t)}finally{e.f()}}},{key:\"destroy\",value:function(){this.alreadyLoaded&&(this.renderer.destroy(),this.endCallback=null),this.destroyed=!0}},{key:\"destroyScene\",value:function(t){!function(){for(var t=0,e=ue.length;t<e;++t)ue[t].destroy(!0);ue=[]}()}},{key:\"getGameName\",value:function(){}},{key:\"canSwapPlayers\",value:function(){return!1}},{key:\"addErrorListener\",value:function(t){l.listen(t)}},{key:\"getResources\",value:function(){return Object.assign({baseUrl:\"\",images:{},spines:{},sprites:[],fonts:[],others:[]},r)}},{key:\"getOptions\",value:function(){return Wn?Wn.map((function(t){return Jn({},t)})):[]}},{key:\"setDebug\",value:function(e){this.asyncRenderingTime=t.RenderTimeout}},{key:\"initPreload\",value:function(t,e,n,r,o){t.canvasWidth=r,t.canvasHeight=o,t.loaderProgress=new PIXI.Text(\"100\",{fontSize:.117*o||30,fontFamily:\"Lato\",fontWeight:\"900\",fill:\"white\",align:\"center\"}),t.loaderProgress.anchor.y=1,t.loaderProgress.anchor.x=1.3,t.progress=t.realProgress=n,t.loaderProgress.position.y=o,t.progressBar=new PIXI.Graphics,e.addChild(t.progressBar),e.addChild(t.loaderProgress)}},{key:\"preload\",value:function(t,e,n,r,o,i){t.progress=n}},{key:\"renderPreloadScene\",value:function(t,e){return e=Math.pow(.998,e),t.realProgress=e*t.realProgress+(1-e)*t.progress,t.loaderProgress.text=(100*t.realProgress).toFixed(0),t.loaderProgress.position.x=t.realProgress*t.canvasWidth,t.progressBar.clear(),t.progressBar.beginFill(0,1),t.progressBar.drawRect(0,0,t.canvasWidth*t.realProgress+1,t.canvasHeight),t.progressBar.endFill(),t.progressBar.beginFill(4146246,1),t.progressBar.drawRect(t.canvasWidth*t.realProgress,0,t.canvasWidth,t.canvasHeight),t.progressBar.endFill(),!0}},{key:\"initDefaultScene\",value:function(e,n,r,o){var i=new PIXI.Container;if(e.drawer=this,e.time=0,this.demo){if(this.demo.logo)try{var u=PIXI.Sprite.fromFrame(this.demo.logo);u.position.set(t.WIDTH/2,t.HEIGHT/2),u.anchor.set(.5),u.baseScale=a(u.texture.width,u.texture.height,2*t.WIDTH/3,t.HEIGHT/2,0),i.addChild(u),e.logo=u}catch(n){l.push({cause:n,message:'Missing \"logo.png\" to complete replay.'}),e.logo=new PIXI.Container,e.logo.baseScale=1,i.addChild(e.logo),e.missingLogo=!0}var c=new PIXI.Graphics;e.missingLogo||(c.beginFill(0,this.demo.overlayAlpha||0),c.drawRect(0,0,t.WIDTH+20,t.HEIGHT+20),c.endFill(),c.x-=10,c.y-=10),u=new PIXI.Container;try{this.initDefaultFrames(this.demo.playerCount,this.demo.frames,this.demo.agents),this.preconstructScene(this.scope,n,this.initWidth,this.initHeight),this.initScene(this.scope,u,this.frames,!0),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)}catch(n){l.push({cause:n,message:\"Cannot load demo, you might want to reset the demo\"})}e.demo=u,e.demotime=0,this.currentFrame=-1,n.addChild(u),n.addChild(c),n.addChild(i)}e.updateTime=0,e.frameTime=0}},{key:\"initDefaultFrames\",value:function(e,n,r){var o=this;this.instantiateModules(),this.playerInfo=r.map((function(t,e){return{name:t.name||\"Anonymous\",color:t.color?o.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:t.avatarTexture}})),this.instantiateModules(),this._frames=n.map((function(t){var e,n=t.split(\"\\n\");t=n[0].split(\" \");try{e=JSON.parse(n.slice(1).join(\"\\n\"))}catch(t){e={}}return Jn(Jn({},e),{},{key:\"KEY_FRAME\"===t[0]})})).filter((function(t){return t.key})),this.parseGlobalData(this._frames[0].global),this.playerCount=e,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1,(e=this._frames[0].frame).key=this._frames[0].key,this.frames.push(this.parseFrame(e,this.frames));for(var i=1;i<this._frames.length;++i)this.frames.push(this.parseFrame(this._frames[i],this.frames));this.asyncRenderingTime=t.RenderTimeout}},{key:\"renderDefaultScene\",value:function(t,e){if(e=Math.min(80,e),void 0===this.demo)return!1;this.currentFrame=this.currentFrameTemp||0,t.frameTime+=e,t.updateTime+=e,t.demotime+=e/1e3;var n=Math.max(0,Math.min(1,(t.demotime-1)/.5));t.logo&&(t.logo.alpha=n,t.logo.scale.x=t.logo.scale.y=(3-2*n)*t.logo.baseScale),!t.missingLogo&&1.5<t.demotime&&t.demotime<=2.2?(r=15*Math.max(0,1-(t.demotime-1.5)/.7),t.demo.x=(2*Math.random()-1)*r,t.demo.y=(2*Math.random()-1)*r):t.demo.x=t.demo.y=0;var r=this.getFrameDuration(this.currentFrame);return 30<=t.updateTime&&(t.updateTime-=30,0===this.currentFrame?this.progress=1:this.progress=i(0,r,t.frameTime),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)),t.frameTime>=r&&(t.frameTime-=r,this.currentFrame=(this.currentFrame+1)%this.frames.length),this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],e,!0),this.currentFrameTemp=this.currentFrame,this.currentFrame=-1,!0}},{key:\"endDefaultScene\",value:function(t,e){return!0}},{key:\"parseGlobalData\",value:function(t){for(var e in this.modules){var n=this.modules[e];\"function\"==typeof n.handleGlobalData&&n.handleGlobalData(this.playerInfo,t[e])}}},{key:\"parseFrame\",value:function(t,e){var n,r={data:{},frameInfo:{number:e.length}};if(r.previous=e[e.length-1]||r,r!==r.previous&&(r.previous.next=r),!t.key)return r.previous;for(n in t.duration&&(this.currentFrameDuration=t.duration),r.frameInfo.frameDuration=this.currentFrameDuration,r===r.previous?(r.frameInfo.date=0,r.frameInfo.frameDuration=0):r.frameInfo.date=r.previous.frameInfo.date+r.previous.frameInfo.frameDuration,this.modules){var o=this.modules[n];\"function\"==typeof o.handleFrameData&&(r.data[n]=o.handleFrameData(r.frameInfo,t[n]))}return r}},{key:\"preconstructScene\",value:function(e,n,r,o){e.canvasHeight=o,e.canvasWidth=r,e.time=0,e.endTime=0,e.playerInfo=this.playerInfo,n.scale.x=r/t.WIDTH,n.scale.y=o/t.HEIGHT}},{key:\"initScene\",value:function(t,e,n){for(var r in this.modules){var o=this.modules[r],i=new PIXI.Container;try{o.reinitScene(i,{width:t.canvasWidth,height:t.canvasHeight,oversampling:this.oversampling})}catch(t){this.handleModuleError(r,t)}e.addChild(i)}}},{key:\"updateScene\",value:function(t,e,n,r,o,i,a,u,c){var s,l=n[r];if(!c&&this.stepByStepAnimateSpeed){if(this.checkSteppedToNextFrame(t,l,o))return void this.startAsynchronousAnimation(t,l);if(this.checkSteppedToPreviousFrame(t,l,o))return void this.startAsynchronousAnimation(t,t.currentFrame,!0);t.targetProgress=null}for(s in t.currentFrame=l,t.currentProgress=o,t.reason=a,this.modules){var f=this.modules[s];if(l.data.hasOwnProperty(s))try{f.updateScene(l.previous.data[s],l.data[s],o,i)}catch(t){this.handleModuleError(s,t)}}}},{key:\"startAsynchronousAnimation\",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];t.targetProgress=n?0:1,n||1!==t.currentProgress||(t.currentProgress=0),t.currentFrame=e,t.reverseAsynchronousAnimation=n}},{key:\"checkStepped\",value:function(t,e,n){return t.currentFrame&&0===this.speed&&1===n}},{key:\"checkSteppedToNextFrame\",value:function(t,e,n){return this.checkStepped(t,e,n)&&(t.currentFrame===e.previous&&t.currentFrame!==e||t.currentFrame===e&&t.currentProgress!==n)}},{key:\"checkSteppedToPreviousFrame\",value:function(t,e,n){return this.checkStepped(t,e,n)&&t.currentFrame.previous===e&&t.currentFrame!==e}},{key:\"initEndScene\",value:function(t,e){t.endSceneViewed=!1}},{key:\"destroyEndScene\",value:function(t){}},{key:\"renderEndScene\",value:function(t,e,n){0===t.endTime&&this.initEndScene(t,n),t.endTime+=e,void 0<=t.endTime&&!t.endSceneViewed&&(this.endCallback&&this.endCallback(),t.endSceneViewed=!0)}},{key:\"renderScene\",value:function(t,e,n,r,o,i,a,u){var c,s;for(s in u=Math.min(80,u),this.debugMode||r!==n.length-1||1!==o?(0<t.endTime&&this.destroyEndScene(t),t.endTime=0):this.renderEndScene(t,u,\"Win\"!==a),this.stepByStepAnimateSpeed&&this.isAsynchronousAnimationOngoing(t)&&(o=this.currentFrame,t.reverseAsynchronousAnimation&&o++,a=u/200*this.getFrameSpeed(o)*this.stepByStepAnimateSpeed,t.reverseAsynchronousAnimation?(c=t.currentProgress-a)<=0&&(o=this.currentFrame,t.targetProgress=c=1):(c=t.currentProgress+a,c=Math.min(t.targetProgress,c)),this.updateScene(this.scope,this.question,this.frames,o,c,this.speed,this.reasons[o],!1,!0)),this.modules){var l=this.modules[s];if(\"function\"==typeof l.animateScene)try{l.animateScene(u)}catch(t){this.handleModuleError(s,t)}}return!0}},{key:\"isAsynchronousAnimationOngoing\",value:function(t){return null!=t.targetProgress&&t.currentProgress!==t.targetProgress}},{key:\"getFrameSpeed\",value:function(t){return 500/this.getFrameDuration(t)}},{key:\"getFrameDuration\",value:function(t){return this.frames&&this.frames[t]&&this.frames[t].frameInfo.frameDuration||1e3}},{key:\"enableAsyncRendering\",value:function(e){this.asyncRendering=e,this.asyncRenderingTime=t.RenderTimeout}},{key:\"purge\",value:function(){this.scope={},this.changed=!0,this.container.interactiveChildren=!1,this.container.destroy({texture:!1,children:!0}),delete this.container,this.container=new PIXI.Container}},{key:\"reinitScene\",value:function(){1<=this.loaded&&(this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.preconstructScene(this.scope,this.container,this.initWidth,this.initHeight),this.initScene(this.scope,this.container,this.frames),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame]),this.changed=!0)}},{key:\"reinitDefaultScene\",value:function(){1<=this.loaded&&(this.intro=!0,this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initDefaultScene(this.scope,this.container,this.initWidth,this.initHeight),this.changed=!0)}},{key:\"reinitLoadingScene\",value:function(){this.loaded<1&&(this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initPreload(this.scope,this.container,this.loaded,this.initWidth,this.initHeight))}},{key:\"reinit\",value:function(t){1<=this.loaded&&!this.loading?0<=this.currentFrame&&!this.intro?this.reinitScene():this.intro&&!t||this.reinitDefaultScene():this.reinitLoadingScene()}},{key:\"animate\",value:function(t){var e;this.destroyed||(this.lastRenderTime||(this.lastRenderTime=t),e=t-this.lastRenderTime,this.asynchronousStep&&(e=this.asynchronousStep),this.onBeforeRender&&this.onBeforeRender(),this.loading||(this.loaded<1?this.changed|=this.renderPreloadScene(this.scope,e):(this.changed||this.asyncRendering&&0<this.asyncRenderingTime||this.isAsynchronousAnimationOngoing(this.scope))&&(this.currentFrame<0?this.changed|=this.renderDefaultScene(this.scope,e):this.intro?(this.changed=!0,this.endDefaultScene(this.scope,e)&&(this.intro=!1,this.reinit(!0))):this.changed|=this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame],e)),this.changed&&(this.renderer.render(this.container),this.changed=!1)),this.onAfterRender&&this.onAfterRender(),this.lastRenderTime=t,this.destroyed||requestAnimationFrame(this.animate.bind(this)),this.asyncRenderingTime-=e)}},{key:\"_initFrames\",value:function(t,e){this.instantiateModules(),this._frames=e.map((function(t){var e,n=t[0].split(\" \");try{e=JSON.parse(t.slice(1).join(\"\\n\"))}catch(t){e={}}return Jn(Jn({},e),{},{key:\"KEY_FRAME\"===n[0]})})),this.parseGlobalData(this._frames[0].global),this.playerCount=t,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1,(t=this._frames[0].frame).key=this._frames[0].key,this.frames.push(this.parseFrame(t,this.frames));for(var n=1;n<this._frames.length;++n)this.frames.push(this.parseFrame(this._frames[n],this.frames))}},{key:\"isTurnBasedGame\",value:function(){return!1}},{key:\"initFrames\",value:function(t,e){this.playerInfo&&this.playerInfo.forEach((function(t){t.avatar&&t.avatar.destroy(!0)}));var n=this,r=new PIXI.loaders.Loader(window.location.origin);function o(){n._initFrames(e.length,t),n.loading=!1,n.reinit(!1),i=!0}this.playerInfo=e.map((function(t,e){var o={name:t.name||\"Anonymous\",color:t.color?n.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:null};return null!=t.avatar&&r.add(\"avatar\"+e,t.avatar,{loadType:2,crossOrigin:!0},(function(t){o.avatar=t.texture,PIXI.Texture.addToCache(t.texture,\"$\"+o.index)})),o}));var i=!(this.loading=!0);r.on(\"complete\",o),r.on(\"error\",(function(t){console.warn(t),i||o()})),r.load()}},{key:\"update\",value:function(e,n,r){0<=this.currentFrame&&(this.asyncRenderingTime=t.RenderTimeout,this.changed=!0,this.speed=r,this.currentFrame=e,this.progress=n,1<=this.loaded&&!this.intro&&this.updateScene(this.scope,this.question,this.frames,e,n,this.speed,this.reasons[this.currentFrame]))}},{key:\"parseColor\",value:function(t){if(Array.isArray(t)){for(var e=[],n=0;n<t.length;++n)e.push(this.parseColor(t[n]));return e}return parseInt(t.substring(1),16)}},{key:\"init\",value:function(e,n,r,o,i,a,u){var c,s=this;window.PIXI=t.PIXI||window.PIXI,this.oversampling=i||1,i=function(){0<=s.currentFrame&&(s.changed=!0)},this.canvas=$(e),this.canvas.off(\"mousemove\"),this.canvas.off(\"wheel\"),this.canvas.bind(\"wheel\",i),this.canvas.mousemove(i),o&&(this.colors=this.parseColor(o)),\"ide\"===u&&(this.debugModeSetByUser||(this.debugMode=!0),l.listen((function(t){return console.error(t.cause||t)}))),this.asyncRendering=!0,this.asyncRenderingTime=0,this.destroyed=!1,this.asynchronousStep=null;var f=this;if(this.initWidth=0|n,this.initHeight=0|r,this.endCallback=a||this.endCallback,this.alreadyLoaded)this.changed=!0,this.renderer.resize(this.initWidth,this.initHeight),this.reinit(!0);else{this.alreadyLoaded=!0,this.question=null,this.scope=null,this.currentFrame=-1,this.loaded=0,this.container=new PIXI.Container;var y=this.getResources();this.renderer=this.createRenderer(this.initWidth,this.initHeight,e),a=this.renderer,ae=a;var h,p=new PIXI.loaders.Loader(y.baseUrl);for(c in y.images)p.add(c,y.images[c],{crossOrigin:!0});for(h=0;h<y.sprites.length;++h)p.add(y.sprites[h],{crossOrigin:!0});for(h=0;h<y.fonts.length;++h)p.add(y.fonts[h],{crossOrigin:!0});for(c in y.spines)p.add(c,y.spines[c],{crossOrigin:!0});for(h=0;h<y.others.length;++h)p.add(y.others[h],{crossOrigin:!0});this.demo&&this.demo.agents.forEach((function(t){p.add(\"avatar\"+t.index,t.avatar,{loadType:2,crossOrigin:!0},(function(e){t.avatarTexture=e.texture,PIXI.Texture.addToCache(e.texture,\"$\"+t.index)}))})),f.scope={},e=function(t,e){requestAnimationFrame(f.animate.bind(f)),f.initPreload(f.scope,f.container,f.loaded=0,f.initWidth,f.initHeight)},p.on(\"start\",e),p.on(\"progress\",(function(t,e){t.progress<100&&f.preload(f.scope,f.container,f.loaded=t.progress/100,f.initWidth,f.initHeight,e)})),a=function(){for(var t in y.images)y.images.hasOwnProperty(t)&&p.resources[t].texture&&PIXI.Texture.addToCache(p.resources[t].texture,t);for(t in y.spines)y.spines.hasOwnProperty(t)&&(PIXI.AnimCache[t]=PIXI.AnimCache[y.baseUrl+y.spines[t]]);f.loaded=1,f.reinit(!0),f.changed=!0},p.on(\"complete\",a),p.on(\"error\",(function(t){console.warn(t)})),Object.keys(p.resources).length?p.load():(e(),a())}}},{key:\"createRenderer\",value:function(t,e,n){return PIXI.autoDetectRenderer(t,e,{view:n,clearBeforeRender:!0,preserveDrawingBuffer:!1})}},{key:\"isReady\",value:function(){return 1<=this.loaded}}])&&Zn(e.prototype,n),o&&Zn(e,o),t}()}]).Drawer;",
      "levelParams": {
        "0": {
          "aiCode": "#pragma GCC optimize(\"Ofast,inline,omit-frame-pointer,unroll-loops\")\n#pragma GCC option(\"arch=native\", \"tune=native\")\n#pragma GCC target(\"avx2\")\n\n#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <chrono>\n\nenum Cell : int { White, Black, Arrow, None };\n\nint myColor = White;\nint turn = 1;\nfloat timeLimit = 1000.f;\nconst int WIN_BONUS = 1 << 20;\nint boardSize;\n\nconst inline int getIdx(const int x, const int y) { return x + y * 8; }\nconst inline int getX(const int idx) { return idx % 8; }\nconst inline int getY(const int idx) { return idx / 8; }\n\nconst inline int getDistance(const int idxA, const int idxB)\n{\n    int x1 = getX(idxA); int x2 = getX(idxB);\n    int y1 = getY(idxA); int y2 = getY(idxB);\n    return std::max(abs(x2 - x1), abs(y2 - y1));\n}\nconst std::string msg = \"BOSS\";\nstd::string toNotation(const int& idx)\n{\n    std::string r(1, (char)getX(idx) + 'a');\n    r += ((char) (8 - getY(idx)) + '0');\n    return r;\n}\n\nstruct Direction \n{ \n    int x, y; \n};\nconst Direction directions[8] = { {0,-1}, {1,-1}, {1,0}, {1,1}, {0,1}, {-1,1}, {-1,0}, {-1,-1} };\n\nstruct Timeout\n{\n    void start() { startTime = std::chrono::steady_clock::now(); }\n    inline auto getElapsed()\n    {\n        using namespace std::chrono;\n        milliseconds elapsed = duration_cast<milliseconds>(steady_clock::now() - startTime);\n        return elapsed.count();\n    }\n    std::chrono::steady_clock::time_point startTime;\n};\n\nTimeout timeout;\n\nstruct Move\n{\n    int from = 0;\n    int to = 0;\n    int target = 0;\n    int score = 0;\n    friend std::ostream& operator<<(std::ostream& stream, const Move& mv)\n    {\n        stream << toNotation(mv.from) << \" \" << toNotation(mv.to) << \" \" << toNotation(mv.target);\n        return stream;\n    }\n};\n\nstruct State\n{\n    std::vector<int> myPieces;\n    std::vector<int> enemyPieces;\n    int board[64];\n\n    void applyMove(const Move& mv, const int player)\n    {\n        board[mv.from] = None;\n        board[mv.to] = player;\n        board[mv.target] = Arrow;\n    }\n\n    void undoMove(const Move& mv, const int player)\n    {\n        board[mv.from] = player;\n        board[mv.to] = None;\n        board[mv.target] = None;\n    }\n\n    int getLegalPositions(std::vector<int>& mvs, const int player, const int idx)\n    {\n        for (auto& d : directions)\n        {\n            int x = getX(idx);\n            int y = getY(idx);\n            int pos = getIdx(x, y);\n\n            while (true)\n            {\n                x += d.x;\n                y += d.y;\n                if (x < 0 || y < 0) break;\n                if (x > 7 || y > 7) break;\n                pos = getIdx(x, y);\n                if (board[pos] != None) break;\n                mvs.push_back(pos);\n            }\n        }\n        return mvs.size();\n    }\n\n    int getLegalMoves(std::vector<Move>& mvs, const int player)\n    {\n        std::vector<Move> temp;\n        auto& pieces = (player == myColor) ? myPieces : enemyPieces;\n        for (auto& piece : pieces)\n        {\n            std::vector<int> positions;\n            if (getLegalPositions(positions, player, piece) > 0)\n            {\n                Move mv;\n                for (auto& position : positions)\n                {\n\n                    mv.from = piece;\n                    mv.to = position;\n                    temp.push_back(mv);\n                }\n            }\n        }\n\n        for (auto& mv : temp)\n        {\n            board[mv.from] = None;\n            std::vector<int> targets;\n            getLegalPositions(targets, player, mv.to);\n            for (auto& target : targets)\n            {\n                mv.target = target;\n                mvs.push_back(mv);\n\n            }\n            board[mv.from] = player;\n        }\n        return mvs.size();\n    }\n};\n\ninline int evaluate(State& s, const int player)\n{\n    int mobility = 0;\n    std::vector<Move> mvs;\n    std::vector<Move> eMvs;\n    int pCount = s.getLegalMoves(mvs, player);\n    int eCount = s.getLegalMoves(eMvs, player ^ 1);\n\n    if (pCount == 0) return -eCount * WIN_BONUS;\n    if (eCount == 0) return pCount * WIN_BONUS;\n\n    auto& playerPieces = (player == myColor) ? s.myPieces : s.enemyPieces;\n    auto& enemyPieces = (player == myColor) ? s.enemyPieces : s.myPieces;\n\n    for (auto& p : playerPieces)\n    {\n        for (auto& m : mvs)\n        {\n            if (getDistance(p, m.to) == 1)\n                mobility++;\n        }\n    }\n\n    for (auto& p : enemyPieces)\n    {\n        for (auto& m : eMvs)\n        {\n            if (getDistance(p, m.to) == 1)\n                mobility--;\n        }\n    }\n    return 10 * (pCount - eCount) + mobility;\n}\n\nint negamax(State& s, int d, int a, int b, int side)\n{\n    int best = -INT_MAX;\n\n    std::vector<Move> pMoves;\n    s.getLegalMoves(pMoves, side);\n\n    if ((timeout.getElapsed() >= timeLimit) || d <= 0 || pMoves.empty())\n        return evaluate(s, side);\n\n    int cnt = 0;\n    for (auto& mv : pMoves)\n    {\n        s.applyMove(mv, side);\n        mv.score = evaluate(s, side);\n        s.undoMove(mv, side);\n        cnt++;\n        if (cnt > 200) break;\n    }\n\n    std::sort(pMoves.begin(), pMoves.end(), [](const Move& a, const Move& b)\n        { return a.score > b.score; });\n\n    cnt = 0;\n\n    for (auto& mv : pMoves)\n    {\n        s.applyMove(mv, side);\n        int score = -negamax(s, d - 1, -b, -a, (side ^ 1));\n        s.undoMove(mv, side);\n        best = std::max(best, score);\n        a = std::max(best, a);\n        if (best >= b) break;\n        cnt++;\n        if (cnt > 20) break;\n    }\n    return best;\n}\n\nMove Search(State& s, std::vector<Move>& mvs, int depth)\n{\n    Move bestMove;\n    int bestScore = -INT_MAX;\n\n    int a = -INT_MAX;\n    int b = INT_MAX;\n\n    std::sort(mvs.begin(), mvs.end(), [](const Move& a, const Move& b) { return a.score > b.score; });\n\n    int cnt = 0;\n    for (auto& mv : mvs)\n    {\n        s.applyMove(mv, myColor);\n        int score = -negamax(s, depth - 1, -b, -a, myColor ^ 1);\n        mv.score += score;\n        s.undoMove(mv, myColor);\n\n        if (score > bestScore)\n        {\n            bestScore = score;\n            bestMove = mv;\n        }\n\n        if (score >= WIN_BONUS || -score >= WIN_BONUS) break;\n\n        if (timeout.getElapsed() >= timeLimit) break;\n        cnt++;\n        if (cnt > 50) break;\n    }\n    return bestMove;\n}\n\nint main()\n{\n\n    std::cin >> boardSize; std::cin.ignore();\n    timeout.start();\n\n    while (1)\n    {\n        State state;\n        std::string color;\n        std::cin >> color; std::cin.ignore();\n        if (turn > 1) timeout.start();\n\n        if (color == \"w\") myColor = White;\n        if (color == \"b\") myColor = Black;\n\n        for (int i = 0; i < boardSize; i++)\n        {\n            std::string line;\n            std::cin >> line; std::cin.ignore();\n            for (int j = 0; j < line.length(); j++)\n            {\n                int idx = getIdx(j, i);\n                auto& cell = state.board[idx];\n                if (line[j] == 'w') cell = White;\n                if (line[j] == 'b') cell = Black;\n                if (line[j] == '-') cell = Arrow;\n                if (line[j] == '.') cell = None;\n\n                if (cell == myColor) state.myPieces.push_back(idx);\n                if (cell == (myColor ^ 1)) state.enemyPieces.push_back(idx);\n            }\n        }\n\n        std::string lastAction;\n        std::cin >> lastAction; std::cin.ignore();\n\n        int depth = 3;\n\n        std::vector<Move> mvs;\n        int cnt = 0;\n        int mvCount = state.getLegalMoves(mvs, myColor);\n        for (auto& mv : mvs)\n        {\n            state.applyMove(mv, myColor);\n            mv.score = evaluate(state, myColor);\n            state.undoMove(mv, myColor);\n            cnt++;\n        }\n        std::sort(mvs.begin(), mvs.end(), [](const Move& a, const Move& b) { return a.score > b.score; });\n\n        Move bestMove = mvs[0];\n\n        while (timeout.getElapsed() < timeLimit)\n        {\n            bestMove = Search(state, mvs, depth);\n            depth++;\n        }\n\n        int actionsCount; // number of legal actions\n        std::cin >> actionsCount; std::cin.ignore();\n\n        std::cout << bestMove << \" msg \" << msg << std::endl;\n\n        if (turn == 1) timeLimit = 50.f;\n        turn++;\n    }\n}",
          "testCases": [],
          "maxPlayers": 2,
          "minPlayers": 2,
          "statements": {
            "1": "<div style=\"color:#000000;background-color:rgba(255, 255, 255, 0.5);padding:20px;margin-bottom:10px;text-align:left\">\n    This is a port of the board game <a href=\"https://en.wikipedia.org/wiki/Game_of_the_Amazons\">Amazons</a>.\n    <br>Click <a href=\"https://github.com/MultiStruct/Amazons\">here</a> for the referee.\n    <br>Boss made by <a href=\"https://www.codingame.com/profile/f76499818f5cfc3f3fa8c0eb31e13344919268\">Astrobytes</a>.<br>\n</div>\n<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n  <div class=\"statement-body\">\n  <!-- RULES -->\n    <div class=\"statement-section statement-rules\">\n      <h1>\n          <span class=\"icon icon-rules\">&nbsp;</span>\n          <span>Rules</span>\n      </h1>\n      <div class=\"statement-rules-content\">\n          2 games will be played, first player will start with white pieces and second player with black pieces, once this game end, second player will play with white pieces and first player with black pieces.\n          <br>\n          <br>\n          <br> Game is played on a 8x8.<br>Starting position is randomized.<br>Game goes on until a player can no longer move.<br><br>\n          \n          <br>\n          <strong>Legal action: </strong><br>\n            <ul>\n              <li>The piece must move in any direction (orthogonally or diagonally) any number of squares, it may not cross or go to a square occupied by a piece OR occupied by a wall. After moving it must place a wall, the wall placement must meet the same requirements as the movement (it may place a wall in the direction the piece moved from) .</li>\n          </ul>\n          <br>\n\n          <strong>Resolution of a turn: </strong>\n          <ul>\n            <li>A bot must output the coordinates of the pieces he wants to move, to where and where he wants to place the wall (e.g. d8d1d7).</li>\n          </ul>\n          <br>\n          <strong>Output</strong><br>\n          <ul>\n              <li>If the coordinates are outside of the board, the game will end and the other player will win.</li>\n              <li>If the coordinates are inside but the square at those coordinates already is occupied or the path to that square crosses any wall or piece, the game will end and the other player will win.</li>\n          </ul>\n    </div>\n  </div>\n\n  <!-- EXPERT RULES -->\n  <div class=\"statement-section statement-expertrules\">\n    <h1>\n      <span class=\"icon icon-expertrules\">&nbsp;</span>\n      <span>Expert Rules</span>\n    </h1>\n    <div class=\"statement-expert-rules-content\">\n      Draws are impossible.\n    </div>\n  </div>\n  \n  <!-- Victory conditions -->\n  <div class=\"statement-victory-conditions\">\n      <div class=\"icon victory\"></div>\n      <div class=\"blk\">\n          <div class=\"title\">Victory Conditions</div>\n          <div class=\"text\">\n              <ul style=\"padding-bottom: 0;\">\n                  <li>Be the last player to move.</li>\n              </ul>\n          </div>\n      </div>\n  </div>\n\n  <!-- Lose conditions -->\n  <div class=\"statement-lose-conditions\">\n      <div class=\"icon lose\"></div>\n      <div class=\"blk\">\n          <div class=\"title\">Loss Conditions</div>\n          <div class=\"text\">\n              <ul style=\"padding-bottom: 0;\">\n                  <li>Have no legal moves.</li>\n                  <li>You do not respond in time or output an unrecognized command.</li>\n              </ul>\n          </div>\n      </div>\n  </div>\n\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n      <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n  </h1>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n    <div class=\"title\">Initial input</div>\n    <div class=\"text\">\n        <span class=\"statement-lineno\">First line</span>: <var>boardSize</var>: the number of rows and columns on the board.\n    </div>\n\n      <div class=\"title\">Input for one game turn</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">Next <var>color</var></span>: the color of your pieces (\"w\": white, \"b\":black).\n        <br>\n        <span class=\"statement-lineno\">Next <var>boardSize</var> <var>lines</var></span>: a string of characters representing one horizontal row of the grid, top to bottom. ('.': empty, 'w': white, 'b': black, \"-\": wall).\n        <br>\n        <span class=\"statement-lineno\">Next <var>lastAction</var></span>: the last action made by the opponent (\"null\" if it's the first turn).\n        <br>\n         <span class=\"statement-lineno\">Next <var>actionsCount</var></span>: the number of legal actions for this turn.\n        <br>\n    </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n         <span class=\"statement-lineno\">A single line</span> containing the coordinates where you want to move from, to and where you want to place the wall. e.g. \"d8d1d7\".<br>\n        You can also print messages by doing the following. e.g. \"d8d1d7 msg message\".\n        <br>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n        Response time first turn is \n        <const>1000</const> ms.\n        <br>Response time per turn is \n        <const>100</const> ms.\n      </div>\n  </div>\n</div>",
            "2": "<div style=\"color:#000000;background-color:rgba(255, 255, 255, 0.5);padding:20px;margin-bottom:10px;text-align:left\">\n    This is a port of the board game <a href=\"https://en.wikipedia.org/wiki/Game_of_the_Amazons\">Amazons</a>.\n    <br>Click <a href=\"https://github.com/MultiStruct/Amazons\">here</a> for the referee.\n    <br>Boss made by <a href=\"https://www.codingame.com/profile/f76499818f5cfc3f3fa8c0eb31e13344919268\">Astrobytes</a>.<br>\n</div>\n<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n  <div class=\"statement-body\">\n  <!-- RULES -->\n    <div class=\"statement-section statement-rules\">\n      <h1>\n          <span class=\"icon icon-rules\">&nbsp;</span>\n          <span>Rules</span>\n      </h1>\n      <div class=\"statement-rules-content\">\n          2 games will be played, first player will start with white pieces and second player with black pieces, once this game end, second player will play with white pieces and first player with black pieces.\n          <br>\n          <br>\n          <br> Game is played on a 8x8.<br>Starting position is randomized.<br>Game goes on until a player can no longer move.<br><br>\n          \n          <br>\n          <strong>Legal action: </strong><br>\n            <ul>\n              <li>The piece must move in any direction (orthogonally or diagonally) any number of squares, it may not cross or go to a square occupied by a piece OR occupied by a wall. After moving it must place a wall, the wall placement must meet the same requirements as the movement (it may place a wall in the direction the piece moved from) .</li>\n          </ul>\n          <br>\n\n          <strong>Resolution of a turn: </strong>\n          <ul>\n            <li>A bot must output the coordinates of the pieces he wants to move, to where and where he wants to place the wall (e.g. d8d1d7).</li>\n          </ul>\n          <br>\n          <strong>Output</strong><br>\n          <ul>\n              <li>If the coordinates are outside of the board, the game will end and the other player will win.</li>\n              <li>If the coordinates are inside but the square at those coordinates already is occupied or the path to that square crosses any wall or piece, the game will end and the other player will win.</li>\n          </ul>\n    </div>\n  </div>\n\n  <!-- EXPERT RULES -->\n  <div class=\"statement-section statement-expertrules\">\n    <h1>\n      <span class=\"icon icon-expertrules\">&nbsp;</span>\n      <span>Expert Rules</span>\n    </h1>\n    <div class=\"statement-expert-rules-content\">\n      Draws are impossible.\n    </div>\n  </div>\n  \n  <!-- Victory conditions -->\n  <div class=\"statement-victory-conditions\">\n      <div class=\"icon victory\"></div>\n      <div class=\"blk\">\n          <div class=\"title\">Victory Conditions</div>\n          <div class=\"text\">\n              <ul style=\"padding-bottom: 0;\">\n                  <li>Be the last player to move.</li>\n              </ul>\n          </div>\n      </div>\n  </div>\n\n  <!-- Lose conditions -->\n  <div class=\"statement-lose-conditions\">\n      <div class=\"icon lose\"></div>\n      <div class=\"blk\">\n          <div class=\"title\">Loss Conditions</div>\n          <div class=\"text\">\n              <ul style=\"padding-bottom: 0;\">\n                  <li>Have no legal moves.</li>\n                  <li>You do not respond in time or output an unrecognized command.</li>\n              </ul>\n          </div>\n      </div>\n  </div>\n\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n      <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n  </h1>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n    <div class=\"title\">Initial input</div>\n    <div class=\"text\">\n        <span class=\"statement-lineno\">First line</span>: <var>boardSize</var>: the number of rows and columns on the board.\n    </div>\n\n      <div class=\"title\">Input for one game turn</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">Next <var>color</var></span>: the color of your pieces (\"w\": white, \"b\":black).\n        <br>\n        <span class=\"statement-lineno\">Next <var>boardSize</var> <var>lines</var></span>: a string of characters representing one horizontal row of the grid, top to bottom. ('.': empty, 'w': white, 'b': black, \"-\": wall).\n        <br>\n        <span class=\"statement-lineno\">Next <var>lastAction</var></span>: the last action made by the opponent (\"null\" if it's the first turn).\n        <br>\n         <span class=\"statement-lineno\">Next <var>actionsCount</var></span>: the number of legal actions for this turn.\n        <br>\n    </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n         <span class=\"statement-lineno\">A single line</span> containing the coordinates where you want to move from, to and where you want to place the wall. e.g. \"d8d1d7\".<br>\n        You can also print messages by doing the following. e.g. \"d8d1d7 msg message\".\n        <br>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n        Response time first turn is \n        <const>1000</const> ms.\n        <br>Response time per turn is \n        <const>100</const> ms.\n      </div>\n  </div>\n</div>"
          },
          "questionType": "multi",
          "stubGenerator": "read boardSize:int\n\ngameloop\nread color:word(1)\nloop boardSize read line:word(10)\nread lastAction:word(9)\nread actionsCount:int\nwrite random\n\nINPUT\nboardSize: height and width of the board\ncolor: current color of your pieces (\"w\" or \"b\")\nline: horizontal row\nlastAction: last action made by the opponent (\"null\" if it's the first turn)\nactionsCount: number of legal actions\n\nOUTPUT\ne.g. d8d1d7 (move piece at d8 to d1 and wall d7)",
          "welcomePopups": {},
          "aiCodeExtension": "cpp",
          "criteriaLanguageMap": {}
        },
        "1": {
          "aiCode": "#pragma GCC optimize(\"Ofast,inline,omit-frame-pointer,unroll-loops\")\n#pragma GCC option(\"arch=native\", \"tune=native\")\n#pragma GCC target(\"avx2\")\n\n#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <chrono>\n\nenum Cell : int { White, Black, Arrow, None };\n\nint myColor = White;\nint turn = 1;\nfloat timeLimit = 1000.f;\nconst int WIN_BONUS = 1 << 20;\nint boardSize;\n\nconst inline int getIdx(const int x, const int y) { return x + y * 8; }\nconst inline int getX(const int idx) { return idx % 8; }\nconst inline int getY(const int idx) { return idx / 8; }\n\nconst inline int getDistance(const int idxA, const int idxB)\n{\n    int x1 = getX(idxA); int x2 = getX(idxB);\n    int y1 = getY(idxA); int y2 = getY(idxB);\n    return std::max(abs(x2 - x1), abs(y2 - y1));\n}\nconst std::string msg = \"BOSS\";\nstd::string toNotation(const int& idx)\n{\n    std::string r(1, (char)getX(idx) + 'a');\n    r += ((char) (8 - getY(idx)) + '0');\n    return r;\n}\n\nstruct Direction \n{ \n    int x, y; \n};\nconst Direction directions[8] = { {0,-1}, {1,-1}, {1,0}, {1,1}, {0,1}, {-1,1}, {-1,0}, {-1,-1} };\n\nstruct Timeout\n{\n    void start() { startTime = std::chrono::steady_clock::now(); }\n    inline auto getElapsed()\n    {\n        using namespace std::chrono;\n        milliseconds elapsed = duration_cast<milliseconds>(steady_clock::now() - startTime);\n        return elapsed.count();\n    }\n    std::chrono::steady_clock::time_point startTime;\n};\n\nTimeout timeout;\n\nstruct Move\n{\n    int from = 0;\n    int to = 0;\n    int target = 0;\n    int score = 0;\n    friend std::ostream& operator<<(std::ostream& stream, const Move& mv)\n    {\n        stream << toNotation(mv.from) << \" \" << toNotation(mv.to) << \" \" << toNotation(mv.target);\n        return stream;\n    }\n};\n\nstruct State\n{\n    std::vector<int> myPieces;\n    std::vector<int> enemyPieces;\n    int board[64];\n\n    void applyMove(const Move& mv, const int player)\n    {\n        board[mv.from] = None;\n        board[mv.to] = player;\n        board[mv.target] = Arrow;\n    }\n\n    void undoMove(const Move& mv, const int player)\n    {\n        board[mv.from] = player;\n        board[mv.to] = None;\n        board[mv.target] = None;\n    }\n\n    int getLegalPositions(std::vector<int>& mvs, const int player, const int idx)\n    {\n        for (auto& d : directions)\n        {\n            int x = getX(idx);\n            int y = getY(idx);\n            int pos = getIdx(x, y);\n\n            while (true)\n            {\n                x += d.x;\n                y += d.y;\n                if (x < 0 || y < 0) break;\n                if (x > 7 || y > 7) break;\n                pos = getIdx(x, y);\n                if (board[pos] != None) break;\n                mvs.push_back(pos);\n            }\n        }\n        return mvs.size();\n    }\n\n    int getLegalMoves(std::vector<Move>& mvs, const int player)\n    {\n        std::vector<Move> temp;\n        auto& pieces = (player == myColor) ? myPieces : enemyPieces;\n        for (auto& piece : pieces)\n        {\n            std::vector<int> positions;\n            if (getLegalPositions(positions, player, piece) > 0)\n            {\n                Move mv;\n                for (auto& position : positions)\n                {\n\n                    mv.from = piece;\n                    mv.to = position;\n                    temp.push_back(mv);\n                }\n            }\n        }\n\n        for (auto& mv : temp)\n        {\n            board[mv.from] = None;\n            std::vector<int> targets;\n            getLegalPositions(targets, player, mv.to);\n            for (auto& target : targets)\n            {\n                mv.target = target;\n                mvs.push_back(mv);\n\n            }\n            board[mv.from] = player;\n        }\n        return mvs.size();\n    }\n};\n\ninline int evaluate(State& s, const int player)\n{\n    int mobility = 0;\n    std::vector<Move> mvs;\n    std::vector<Move> eMvs;\n    int pCount = s.getLegalMoves(mvs, player);\n    int eCount = s.getLegalMoves(eMvs, player ^ 1);\n\n    if (pCount == 0) return -eCount * WIN_BONUS;\n    if (eCount == 0) return pCount * WIN_BONUS;\n\n    auto& playerPieces = (player == myColor) ? s.myPieces : s.enemyPieces;\n    auto& enemyPieces = (player == myColor) ? s.enemyPieces : s.myPieces;\n\n    for (auto& p : playerPieces)\n    {\n        for (auto& m : mvs)\n        {\n            if (getDistance(p, m.to) == 1)\n                mobility++;\n        }\n    }\n\n    for (auto& p : enemyPieces)\n    {\n        for (auto& m : eMvs)\n        {\n            if (getDistance(p, m.to) == 1)\n                mobility--;\n        }\n    }\n    return 10 * (pCount - eCount) + mobility;\n}\n\nint negamax(State& s, int d, int a, int b, int side)\n{\n    int best = -INT_MAX;\n\n    std::vector<Move> pMoves;\n    s.getLegalMoves(pMoves, side);\n\n    if ((timeout.getElapsed() >= timeLimit) || d <= 0 || pMoves.empty())\n        return evaluate(s, side);\n\n    int cnt = 0;\n    for (auto& mv : pMoves)\n    {\n        s.applyMove(mv, side);\n        mv.score = evaluate(s, side);\n        s.undoMove(mv, side);\n        cnt++;\n        if (cnt > 200) break;\n    }\n\n    std::sort(pMoves.begin(), pMoves.end(), [](const Move& a, const Move& b)\n        { return a.score > b.score; });\n\n    cnt = 0;\n\n    for (auto& mv : pMoves)\n    {\n        s.applyMove(mv, side);\n        int score = -negamax(s, d - 1, -b, -a, (side ^ 1));\n        s.undoMove(mv, side);\n        best = std::max(best, score);\n        a = std::max(best, a);\n        if (best >= b) break;\n        cnt++;\n        if (cnt > 20) break;\n    }\n    return best;\n}\n\nMove Search(State& s, std::vector<Move>& mvs, int depth)\n{\n    Move bestMove;\n    int bestScore = -INT_MAX;\n\n    int a = -INT_MAX;\n    int b = INT_MAX;\n\n    std::sort(mvs.begin(), mvs.end(), [](const Move& a, const Move& b) { return a.score > b.score; });\n\n    int cnt = 0;\n    for (auto& mv : mvs)\n    {\n        s.applyMove(mv, myColor);\n        int score = -negamax(s, depth - 1, -b, -a, myColor ^ 1);\n        mv.score += score;\n        s.undoMove(mv, myColor);\n\n        if (score > bestScore)\n        {\n            bestScore = score;\n            bestMove = mv;\n        }\n\n        if (score >= WIN_BONUS || -score >= WIN_BONUS) break;\n\n        if (timeout.getElapsed() >= timeLimit) break;\n        cnt++;\n        if (cnt > 50) break;\n    }\n    return bestMove;\n}\n\nint main()\n{\n\n    std::cin >> boardSize; std::cin.ignore();\n    timeout.start();\n\n    while (1)\n    {\n        State state;\n        std::string color;\n        std::cin >> color; std::cin.ignore();\n        if (turn > 1) timeout.start();\n\n        if (color == \"w\") myColor = White;\n        if (color == \"b\") myColor = Black;\n\n        for (int i = 0; i < boardSize; i++)\n        {\n            std::string line;\n            std::cin >> line; std::cin.ignore();\n            for (int j = 0; j < line.length(); j++)\n            {\n                int idx = getIdx(j, i);\n                auto& cell = state.board[idx];\n                if (line[j] == 'w') cell = White;\n                if (line[j] == 'b') cell = Black;\n                if (line[j] == '-') cell = Arrow;\n                if (line[j] == '.') cell = None;\n\n                if (cell == myColor) state.myPieces.push_back(idx);\n                if (cell == (myColor ^ 1)) state.enemyPieces.push_back(idx);\n            }\n        }\n\n        std::string lastAction;\n        std::cin >> lastAction; std::cin.ignore();\n\n        int depth = 3;\n\n        std::vector<Move> mvs;\n        int cnt = 0;\n        int mvCount = state.getLegalMoves(mvs, myColor);\n        for (auto& mv : mvs)\n        {\n            state.applyMove(mv, myColor);\n            mv.score = evaluate(state, myColor);\n            state.undoMove(mv, myColor);\n            cnt++;\n        }\n        std::sort(mvs.begin(), mvs.end(), [](const Move& a, const Move& b) { return a.score > b.score; });\n\n        Move bestMove = mvs[0];\n\n        while (timeout.getElapsed() < timeLimit)\n        {\n            bestMove = Search(state, mvs, depth);\n            depth++;\n        }\n\n        int actionsCount; // number of legal actions\n        std::cin >> actionsCount; std::cin.ignore();\n\n        std::cout << bestMove << \" msg \" << msg << std::endl;\n\n        if (turn == 1) timeLimit = 50.f;\n        turn++;\n    }\n}",
          "testCases": [],
          "maxPlayers": 2,
          "minPlayers": 2,
          "statements": {
            "1": "<div style=\"color:#000000;background-color:rgba(255, 255, 255, 0.5);padding:20px;margin-bottom:10px;text-align:left\">\n    This is a port of the board game <a href=\"https://en.wikipedia.org/wiki/Game_of_the_Amazons\">Amazons</a>.\n    <br>Click <a href=\"https://github.com/MultiStruct/Amazons\">here</a> for the referee.\n    <br>Boss made by <a href=\"https://www.codingame.com/profile/f76499818f5cfc3f3fa8c0eb31e13344919268\">Astrobytes</a>.<br>\n</div>\n<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n  <div class=\"statement-body\">\n  <!-- RULES -->\n    <div class=\"statement-section statement-rules\">\n      <h1>\n          <span class=\"icon icon-rules\">&nbsp;</span>\n          <span>Rules</span>\n      </h1>\n      <div class=\"statement-rules-content\">\n          2 games will be played, first player will start with white pieces and second player with black pieces, once this game end, second player will play with white pieces and first player with black pieces.\n          <br>\n          <br>\n          <br> Game is played on a 8x8.<br>Starting position is randomized.<br>Game goes on until a player can no longer move.<br><br>\n          \n          <br>\n          <strong>Legal action: </strong><br>\n            <ul>\n              <li>The piece must move in any direction (orthogonally or diagonally) any number of squares, it may not cross or go to a square occupied by a piece OR occupied by a wall. After moving it must place a wall, the wall placement must meet the same requirements as the movement (it may place a wall in the direction the piece moved from) .</li>\n          </ul>\n          <br>\n\n          <strong>Resolution of a turn: </strong>\n          <ul>\n            <li>A bot must output the coordinates of the pieces he wants to move, to where and where he wants to place the wall (e.g. d8d1d7).</li>\n          </ul>\n          <br>\n          <strong>Output</strong><br>\n          <ul>\n              <li>If the coordinates are outside of the board, the game will end and the other player will win.</li>\n              <li>If the coordinates are inside but the square at those coordinates already is occupied or the path to that square crosses any wall or piece, the game will end and the other player will win.</li>\n          </ul>\n    </div>\n  </div>\n\n  <!-- EXPERT RULES -->\n  <div class=\"statement-section statement-expertrules\">\n    <h1>\n      <span class=\"icon icon-expertrules\">&nbsp;</span>\n      <span>Expert Rules</span>\n    </h1>\n    <div class=\"statement-expert-rules-content\">\n      Draws are impossible.\n    </div>\n  </div>\n  \n  <!-- Victory conditions -->\n  <div class=\"statement-victory-conditions\">\n      <div class=\"icon victory\"></div>\n      <div class=\"blk\">\n          <div class=\"title\">Victory Conditions</div>\n          <div class=\"text\">\n              <ul style=\"padding-bottom: 0;\">\n                  <li>Be the last player to move.</li>\n              </ul>\n          </div>\n      </div>\n  </div>\n\n  <!-- Lose conditions -->\n  <div class=\"statement-lose-conditions\">\n      <div class=\"icon lose\"></div>\n      <div class=\"blk\">\n          <div class=\"title\">Loss Conditions</div>\n          <div class=\"text\">\n              <ul style=\"padding-bottom: 0;\">\n                  <li>Have no legal moves.</li>\n                  <li>You do not respond in time or output an unrecognized command.</li>\n              </ul>\n          </div>\n      </div>\n  </div>\n\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n      <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n  </h1>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n    <div class=\"title\">Initial input</div>\n    <div class=\"text\">\n        <span class=\"statement-lineno\">First line</span>: <var>boardSize</var>: the number of rows and columns on the board.\n    </div>\n\n      <div class=\"title\">Input for one game turn</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">Next <var>color</var></span>: the color of your pieces (\"w\": white, \"b\":black).\n        <br>\n        <span class=\"statement-lineno\">Next <var>boardSize</var> <var>lines</var></span>: a string of characters representing one horizontal row of the grid, top to bottom. ('.': empty, 'w': white, 'b': black, \"-\": wall).\n        <br>\n        <span class=\"statement-lineno\">Next <var>lastAction</var></span>: the last action made by the opponent (\"null\" if it's the first turn).\n        <br>\n         <span class=\"statement-lineno\">Next <var>actionsCount</var></span>: the number of legal actions for this turn.\n        <br>\n    </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n         <span class=\"statement-lineno\">A single line</span> containing the coordinates where you want to move from, to and where you want to place the wall. e.g. \"d8d1d7\".<br>\n        You can also print messages by doing the following. e.g. \"d8d1d7 msg message\".\n        <br>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n        Response time first turn is \n        <const>1000</const> ms.\n        <br>Response time per turn is \n        <const>100</const> ms.\n      </div>\n  </div>\n</div>",
            "2": "<div style=\"color:#000000;background-color:rgba(255, 255, 255, 0.5);padding:20px;margin-bottom:10px;text-align:left\">\n    This is a port of the board game <a href=\"https://en.wikipedia.org/wiki/Game_of_the_Amazons\">Amazons</a>.\n    <br>Click <a href=\"https://github.com/MultiStruct/Amazons\">here</a> for the referee.\n    <br>Boss made by <a href=\"https://www.codingame.com/profile/f76499818f5cfc3f3fa8c0eb31e13344919268\">Astrobytes</a>.<br>\n</div>\n<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n  <div class=\"statement-body\">\n  <!-- RULES -->\n    <div class=\"statement-section statement-rules\">\n      <h1>\n          <span class=\"icon icon-rules\">&nbsp;</span>\n          <span>Rules</span>\n      </h1>\n      <div class=\"statement-rules-content\">\n          2 games will be played, first player will start with white pieces and second player with black pieces, once this game end, second player will play with white pieces and first player with black pieces.\n          <br>\n          <br>\n          <br> Game is played on a 8x8.<br>Starting position is randomized.<br>Game goes on until a player can no longer move.<br><br>\n          \n          <br>\n          <strong>Legal action: </strong><br>\n            <ul>\n              <li>The piece must move in any direction (orthogonally or diagonally) any number of squares, it may not cross or go to a square occupied by a piece OR occupied by a wall. After moving it must place a wall, the wall placement must meet the same requirements as the movement (it may place a wall in the direction the piece moved from) .</li>\n          </ul>\n          <br>\n\n          <strong>Resolution of a turn: </strong>\n          <ul>\n            <li>A bot must output the coordinates of the pieces he wants to move, to where and where he wants to place the wall (e.g. d8d1d7).</li>\n          </ul>\n          <br>\n          <strong>Output</strong><br>\n          <ul>\n              <li>If the coordinates are outside of the board, the game will end and the other player will win.</li>\n              <li>If the coordinates are inside but the square at those coordinates already is occupied or the path to that square crosses any wall or piece, the game will end and the other player will win.</li>\n          </ul>\n    </div>\n  </div>\n\n  <!-- EXPERT RULES -->\n  <div class=\"statement-section statement-expertrules\">\n    <h1>\n      <span class=\"icon icon-expertrules\">&nbsp;</span>\n      <span>Expert Rules</span>\n    </h1>\n    <div class=\"statement-expert-rules-content\">\n      Draws are impossible.\n    </div>\n  </div>\n  \n  <!-- Victory conditions -->\n  <div class=\"statement-victory-conditions\">\n      <div class=\"icon victory\"></div>\n      <div class=\"blk\">\n          <div class=\"title\">Victory Conditions</div>\n          <div class=\"text\">\n              <ul style=\"padding-bottom: 0;\">\n                  <li>Be the last player to move.</li>\n              </ul>\n          </div>\n      </div>\n  </div>\n\n  <!-- Lose conditions -->\n  <div class=\"statement-lose-conditions\">\n      <div class=\"icon lose\"></div>\n      <div class=\"blk\">\n          <div class=\"title\">Loss Conditions</div>\n          <div class=\"text\">\n              <ul style=\"padding-bottom: 0;\">\n                  <li>Have no legal moves.</li>\n                  <li>You do not respond in time or output an unrecognized command.</li>\n              </ul>\n          </div>\n      </div>\n  </div>\n\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n      <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Input</span>\n  </h1>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n    <div class=\"title\">Initial input</div>\n    <div class=\"text\">\n        <span class=\"statement-lineno\">First line</span>: <var>boardSize</var>: the number of rows and columns on the board.\n    </div>\n\n      <div class=\"title\">Input for one game turn</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">Next <var>color</var></span>: the color of your pieces (\"w\": white, \"b\":black).\n        <br>\n        <span class=\"statement-lineno\">Next <var>boardSize</var> <var>lines</var></span>: a string of characters representing one horizontal row of the grid, top to bottom. ('.': empty, 'w': white, 'b': black, \"-\": wall).\n        <br>\n        <span class=\"statement-lineno\">Next <var>lastAction</var></span>: the last action made by the opponent (\"null\" if it's the first turn).\n        <br>\n         <span class=\"statement-lineno\">Next <var>actionsCount</var></span>: the number of legal actions for this turn.\n        <br>\n    </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n         <span class=\"statement-lineno\">A single line</span> containing the coordinates where you want to move from, to and where you want to place the wall. e.g. \"d8d1d7\".<br>\n        You can also print messages by doing the following. e.g. \"d8d1d7 msg message\".\n        <br>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n        Response time first turn is \n        <const>1000</const> ms.\n        <br>Response time per turn is \n        <const>100</const> ms.\n      </div>\n  </div>\n</div>"
          },
          "questionType": "multi",
          "stubGenerator": "read boardSize:int\n\ngameloop\nread color:word(1)\nloop boardSize read line:word(10)\nread lastAction:word(9)\nread actionsCount:int\nwrite random\n\nINPUT\nboardSize: height and width of the board\ncolor: current color of your pieces (\"w\" or \"b\")\nline: horizontal row\nlastAction: last action made by the opponent (\"null\" if it's the first turn)\nactionsCount: number of legal actions\n\nOUTPUT\ne.g. d8d1d7 (move piece at d8 to d1 and wall d7)",
          "welcomePopups": {},
          "aiCodeExtension": "cpp",
          "criteriaLanguageMap": {}
        }
      },
      "directoryPrefix": "community/1540478-1611506039351",
      "allowSourceDownload": false
    },
    "draft": false,
    "readyForModeration": true
  },
  "validatedFor": 151189201388,
  "avatar": 61418101984360,
  "commentCount": 21,
  "upVotes": 33,
  "downVotes": 1,
  "validateAction": {
    "actionId": 550041,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "REFUSED",
      "date": 1614099937001,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1614100071178,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "REFUSED",
      "date": 1616695537001,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1617584592771,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "ACCEPTED",
      "date": 1619541372316,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}