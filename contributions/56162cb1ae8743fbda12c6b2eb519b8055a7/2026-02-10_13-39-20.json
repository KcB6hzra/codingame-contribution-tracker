{
  "id": 5616,
  "activeVersion": 25,
  "score": 45,
  "votableId": 15473408,
  "codingamerId": 154906,
  "views": 1625,
  "commentableId": 15388787,
  "title": "üÉè FreeCell üÉè",
  "status": "ACCEPTED",
  "type": "PUZZLE_SOLO",
  "nickname": "JBM",
  "publicHandle": "56162cb1ae8743fbda12c6b2eb519b8055a7",
  "codingamerHandle": "0d71f9df5da706f9f77c07c34d12480e609451",
  "lastVersion": {
    "version": 25,
    "autocloseTime": 1609951558813,
    "data": {
      "title": "üÉè FreeCell üÉè",
      "topics": [
        {
          "labelMap": {
            "2": "Patience"
          }
        },
        {
          "labelMap": {
            "2": "Cards"
          }
        }
      ],
      "difficulty": "hard",
      "refereeMd5": "154906/d8eacba69c798f652acbc64552797a3d",
      "testHandle": "85832923a7f501f77a5bc337f8b2c96df0067d",
      "viewerCode": "var Drawer=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";n.r(e),n.d(e,\"Drawer\",(function(){return wn}));var r={baseUrl:\"https://cdn-games.codingame.com/community/154906-1603583324682/\",images:{\"FreeCell.jpeg\":\"04e99f9cb772142f3d4f18b561547da487143a16a5a5ad8808c297fd98663dcb.jpeg\",\"Victory.png\":\"5522027dd4cee881aefe93e2768480a7feb611186953c1a21fc15e0cd5c8b8e1.png\",\"MS Sans Regular.xcf\":\"4668ffa587da731fdcebe7ba4d020e486520729dbfa54bf14e87c6bb0e36ffb9.xcf\",\"MS Sans Bold.xcf\":\"a18f9f4e5e75f2258cf7af8c004847dc489f6a4f4856ff829625a1b8eb7991ed.xcf\",\"King-left.png\":\"4fcea959c6404f66031b6394d1a7d5711ceaf2f1df4ee38a97cf6a1626e79844.png\",\"Cards.svg\":\"0d8e5aa5d4efec8e0e13c3e3a576974908457ad5346c0486232c5c49ce850781.svg\",\"MS Sans Bold.png\":\"808c93265d4c4d1eab90e207873ea965934a14463bf3585ff859fdaa978f8524.png\",\"FreeCell.xcf\":\"fc5489d8202cd0f731148f87300c745e9a6b34663835458feda3f0fd68855ada.xcf\",\"FreeCell.png\":\"aa8b8116e9c2645696c433ba1b03168c12c993821bd389c39fdcea8193e2b64f.png\",\"MS Sans Regular.png\":\"e1ec7db30c471ae8d27732e31540c97d77c7a001647c3957a8a385d68691910e.png\",\"King-right.png\":\"604d522e3bd7a7796d8395f51210e6c70c70d910edbceef432cfc8975348ae16.png\",\"King.xcf\":\"d76d80d76cb768b083500e9d89f1dfb8b405daabd138ec0d7b39210102937ad4.xcf\"},sprites:[],fonts:[\"16c07bfe4a16f0080376a7ad84e540cd0b06dc68d78e7eb5b2eee9062fca5f5c.fnt\",\"1c6517735d9e94fbfc72f1c28ad8862d832d1b4d1354cd3b08fabc88d0d29157.fnt\"]};function o(t,e,n){return t<=e?t+(e-t)*n:e+(t-e)*(1-n)}function i(t,e,n){return Math.min(1,Math.max(0,(n-(t=t))/(e-t)))}function a(t,e,n,r,o){return o=o||0,Math.min(n/(t+o),r/(e+o))}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=[],s=[],l=function(){function t(){!function(e){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this)}var e,n;return e=t,n=[{key:\"listen\",value:function(t){if(\"function\"!=typeof t)throw new TypeError(t+\" is not a function\");s.push(t)}},{key:\"push\",value:function(t){u.push(t),s.forEach((function(e){return e(t)}))}}],null&&c(e.prototype,null),n&&c(e,n),t}();function f(t){return(f=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function p(t){var e=\"function\"==typeof Map?new Map:void 0;return(p=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return y(t,arguments,b(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,t)})(t)}function y(t,e,n){return(y=h()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&d(r,n.prototype),r}).apply(null,arguments)}function h(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,p(Error));var t=function(t){var e=h();return function(){var n,r=b(t);return n=e?(n=b(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==f(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(n,r){var o;return function(t){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this),(o=t.call(this,\"Invalid color token: there is no player at index \".concat(n,\". Make sure to use getColorToken() if you want the color of a specific player.\"))).playerIdx=n,o.cause=r,o.name=\"InvalidPlayerColorTokenError\",o}return e}();function g(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function S(t,e,n){return n<1?t:e}var O={type:Number,lerpMethod:function(t,e,n){return null===e?null:o((t={r:(16711680&t)>>16,g:(65280&t)>>8,b:255&t}).r,(e={r:(16711680&e)>>16,g:(65280&e)>>8,b:255&e}).r,n)<<16|o(t.g,e.g,n)<<8|o(t.b,e.b,n)},convert:function(t,e){var n=-(t+1);try{return t<0?e.players[n].color:t}catch(t){return l.push(new m(n)),16777215}}},w={type:String,lerpMethod:S,convert:z},x={type:Number,lerpMethod:function(t,e,n,r){for(;e>t+Math.PI;)e-=2*Math.PI;for(;e<t-Math.PI;)e+=2*Math.PI;return(n=void 0!==r&&Math.abs(e-t)>r?e:t+(e-t)*n)%(2*Math.PI)},convert:function(t){return t*Math.PI/180}},P={type:Number,lerpMethod:S},j=(n={type:function(t){return\"1\"===t},lerpMethod:S},e={type:Number,lerpMethod:function(t,e,n){return e<t?e:o(t,e,n)}},{default:{type:Number,lerpMethod:o},visible:n,rotation:x,skewX:x,skewY:x,fillColor:O,lineColor:O,strokeColor:O,tint:O,animationProgressTime:e,maxWidth:P,mask:P,baseWidth:P,baseHeight:P,image:w,images:w,scaleMode:w,restarted:{type:String,convert:function(t,e,n,r){return t?{date:n.date+r*n.frameDuration}:null},lerpMethod:S},playing:n,duration:P,blendMode:P,loop:n,text:v(v({},w),{},{convert:function(t,e){t=z(t);for(var n=/\\$(\\d)/g,r=n.exec(t),o=\"\",i=0;r;)r[1]<e.players.length&&(o+=t.substring(i,r.index),o+=e.players[+r[1]].name),i=r.index+r[0].length,r=n.exec(t);return o+t.substring(i)}}),textAlign:v(v({},w),{},{convert:function(t){return{0:\"left\",1:\"center\",2:\"right\"}[t]}}),fontFamily:w,fontWeight:w,children:v(v({},w),{},{convert:function(t){return t?t.split(\",\").map((function(t){return+t})):[]}}),points:v(v({},w),{},{convert:function(t){return t?t.split(\",\").map((function(t){return parseInt(t)})):[]},lerpMethod:function(t,e,n){return t.length===e.length?t.map((function(t,r){return o(t,e[r],n)})):S(t,e,n)}})});function z(t){return(t=t.split(\"\\\\'\").join(\"'\")).includes(\" \")||t.includes(\";\")||t.includes(\"\\n\")?t.slice(1,t.length-1):t}function R(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _(t){return(_=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var D=function(){function t(){!function(e){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),this.defaultState={x:0,y:0,scaleX:1,scaleY:1,skewX:0,skewY:0,zIndex:0,alpha:1,visible:!1,rotation:0,mask:-1},this.states={}}var e,n,r;return e=t,r=[{key:\"createState\",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return T(T({t:t},e),{},{curve:n})}}],(n=[{key:\"init\",value:function(){this.properties=Object.keys(this.defaultState),this.initDisplay(),this.currentState=Object.assign({},this.defaultState),\"object\"===_(this.graphics)&&this.container.addChild(this.graphics)}},{key:\"setHidden\",value:function(t){this.hide=t,this.container.visible=this.currentState.visible&&!this.hide}},{key:\"addState\",value:function(e,n,r){this.states[r]||(this.states[r]=[]);var o=t.createState(e,n.values,n.curve);(n=this.states[r].find((function(t){return t.t===e})))&&0===Object.keys(o.curve).length&&(o.curve=n.curve),n?(I(o)||I(n)||l.push(new Error(\"Different updates for same t \"+e)),Object.assign(n,o)):this.states[r].push(o)}},{key:\"set\",value:function(t,e,n){this.addState(t,e,n)}},{key:\"render\",value:function(t,e,n){var r=this.states[e.number];this.container.visible=!1;var o,a=null,c=1;if(r&&r.length){for(var u=0;u<r.length-1&&r[u].t<t;)u++;if(a=r[u-1],o=r[u],a)c=i(a.t,o.t,t);else{var s=Object.keys(this.states),l=s.indexOf(e.number.toString())-1;for(-1===l&&(l=s.length-1);0<=l&&s[l]>=e.number;)l--;var f=this.states[s[l]]||[];c=!(a=f[f.length-1])&&t>=o.t?(a=o,1):i(0,o.t,t)}}else{for(var p=Object.keys(this.states),y=p.length-1;0<=y&&p[y]>e.number;)y--;null!=(f=this.states[p[y]])?o=a=f[f.length-1]:Object.assign(this.currentState,this.defaultState)}if(a){var h={},d=Object.assign({},this.currentState),b=function(t,e){var n;if(\"undefined\"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(this.properties);try{for(b.s();!(v=b.n()).done;){var m=v.value,g=(j[m]||j.default).lerpMethod,v=o.curve[m]||function(t){return t};(v=g(a[m],o[m],v(c)))!==this.currentState[m]&&(h[m]=!0,d[m]=v)}}catch(t){b.e(t)}finally{b.f()}this.updateDisplay(d,h,n,e,t),Object.assign(this.currentState,d),this.container.visible=this.container._visible,h.children&&(n.mustResetTree=!0,\"function\"==typeof this.postUpdate&&n.updatedBuffers.push(this)),h.zIndex&&(n.mustResort=!0),h.mask&&(n.maskUpdates[this.id]=d.mask),0!==Object.keys(h).length&&this.parent&&this.parent.notifyChange()}}},{key:\"notifyChange\",value:function(){this.parent&&this.parent.notifyChange()}},{key:\"initDisplay\",value:function(){this.container=new PIXI.Container,this.container.zIndex=this.defaultState.zIndex,this.container.id=this.id,this.container._visible=this.defaultState.visible}},{key:\"updateDisplay\",value:function(t,e,n){this.container.zIndex=t.zIndex,this.container.alpha=t.alpha,(e.x||e.y)&&this.container.position.set(t.x*n.toWorldUnits,t.y*n.toWorldUnits),(e.scaleX||e.scaleY)&&this.container.scale.set(t.scaleX||1e-8,t.scaleY||1e-8),this.container.rotation=t.rotation,this.container._visible=t.visible&&!this.hide,this.container.skew.set(t.skewX,t.skewY)}}])&&E(e.prototype,n),r&&E(e,r),t}();function I(t){return Object.keys(t).length===Object.keys(D.createState()).length}function C(t){return(C=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A(t,e,n){return(A=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=W(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var X=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(o,D);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=W(t);return n=e?(n=W(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==C(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(o);function o(){var t;return function(t){if(!(t instanceof o))throw new TypeError(\"Cannot call a class as a function\")}(this),t=r.call(this),Object.assign(t.defaultState,{fillColor:o.defaultFillColor(),lineWidth:o.defaultLineWidth(),lineColor:o.defaultLineColor(),fillAlpha:o.defaultFillAlpha(),lineAlpha:o.defaultLineAlpha(),blendMode:PIXI.BLEND_MODES.NORMAL}),t}return t=o,n=[{key:\"defaultLineWidth\",value:function(){return 0}},{key:\"defaultFillColor\",value:function(){return 16777215}},{key:\"defaultLineColor\",value:function(){return 0}},{key:\"defaultLineAlpha\",value:function(){return 1}},{key:\"defaultFillAlpha\",value:function(){return 1}}],(e=[{key:\"initDisplay\",value:function(){A(W(o.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Graphics,this.graphics.lineStyle(this.defaultState.lineWidth,this.defaultState.lineColor,this.defaultState.lineAlpha),null!==this.defaultState.fillColor&&this.graphics.beginFill(this.defaultState.fillColor,this.defaultState.fillAlpha)}},{key:\"updateDisplay\",value:function(t,e,n){A(W(o.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.blendMode=t.blendMode}}])&&F(t.prototype,e),n&&F(t,n),o}();function U(t){return(U=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function K(t,e,n){return(K=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=H(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function H(t){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var B=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(o,X);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H(t);return n=e?(n=H(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==U(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(o);function o(){var t;return function(t){if(!(t instanceof o))throw new TypeError(\"Cannot call a class as a function\")}(this),(t=r.call(this)).defaultState.radius=o.defaultRadius(),t}return t=o,n=[{key:\"defaultRadius\",value:function(){return 100}}],(e=[{key:\"initDisplay\",value:function(){K(H(o.prototype),\"initDisplay\",this).call(this),this.graphics.drawCircle(0,0,this.defaultState.radius),null!==this.defaultState.fillColor&&this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,e,n){K(H(o.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.radius||e.lineColor||e.lineWidth||e.fillColor||e.fillAlpha||e.lineAlpha)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor),this.graphics.drawCircle(0,0,t.radius*n.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}])&&Y(t.prototype,e),n&&Y(t,n),o}();function G(t){return(G=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q(t,e,n){return(q=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=J(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function V(t,e){return(V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function J(t){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Q=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&V(t,e)}(o,X);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=J(t);return n=e?(n=J(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==G(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(o);function o(){var t;return function(t){if(!(t instanceof o))throw new TypeError(\"Cannot call a class as a function\")}(this),(t=r.call(this)).defaultState.x2=o.defaultPosition(),t.defaultState.y2=o.defaultPosition(),t}return t=o,n=[{key:\"defaultPosition\",value:function(){return 100}}],(e=[{key:\"initDisplay\",value:function(){q(J(o.prototype),\"initDisplay\",this).call(this)}},{key:\"updateDisplay\",value:function(t,e,n){q(J(o.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.lineWidth||e.lineColor||e.lineAlpha||e.x2||e.y2)&&(this.graphics.clear(),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.moveTo(0,0),this.graphics.lineTo(-this.container.x+t.x2*n.toWorldUnits,-this.container.y+t.y2*n.toWorldUnits))}}])&&N(t.prototype,e),n&&N(t,n),o}();function Z(t){return(Z=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function et(t,e,n){return(et=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ot=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(o,X);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rt(t);return n=e?(n=rt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Z(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(o);function o(){var t;return function(t){if(!(t instanceof o))throw new TypeError(\"Cannot call a class as a function\")}(this),t=r.call(this),Object.assign(t.defaultState,{width:o.defaultSideLength(),height:o.defaultSideLength()}),t}return t=o,n=[{key:\"defaultSideLength\",value:function(){return 100}}],(e=[{key:\"initDisplay\",value:function(){et(rt(o.prototype),\"initDisplay\",this).call(this),this.graphics.drawRect(0,0,this.defaultState.width,this.defaultState.height),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,e,n){et(rt(o.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.lineWidth||e.lineColor||e.width||e.height||e.lineAlpha||e.fillColor)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawRect(0,0,t.width*n.toWorldUnits,t.height*n.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}])&&tt(t.prototype,e),n&&tt(t,n),o}();function it(t){return(it=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ct(t,e,n){return(ct=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=st(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var lt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}(o,D);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=st(t);return n=e?(n=st(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==it(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(o);function o(){var t;return function(t){if(!(t instanceof o))throw new TypeError(\"Cannot call a class as a function\")}(this),t=r.call(this),Object.assign(t.defaultState,{anchorX:o.defaultAnchor(),anchorY:o.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215}),t}return t=o,n=[{key:\"defaultAnchor\",value:function(){return 0}}],(e=[{key:\"initDisplay\",value:function(){ct(st(o.prototype),\"initDisplay\",this).call(this)}},{key:\"updateDisplay\",value:function(t,e,n){ct(st(o.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.anchor.set(t.anchorX,t.anchorY),this.graphics.blendMode=t.blendMode,this.graphics.tint=t.tint}}])&&at(t.prototype,e),n&&at(t,n),o}();function ft(t){return(ft=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function pt(t){var e=\"function\"==typeof Map?new Map:void 0;return(pt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return yt(t,arguments,bt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),dt(r,t)})(t)}function yt(t,e,n){return(yt=ht()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&dt(r,n.prototype),r}).apply(null,arguments)}function ht(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function dt(t,e){return(dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bt(t){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dt(t,e)}(e,pt(Error));var t=function(t){var e=ht();return function(){var n,r=bt(t);return n=e?(n=bt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==ft(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(n,r){var o;return function(t){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this),(o=t.call(this,'Could not find image: \"'+n+'\". Make sure it is in your assets folder and is spelled correctly.')).image=n,o.cause=r,o.name=\"MissingImageError\",o}return e}();function gt(t){return(gt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function St(t,e,n){return(St=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Ot(t,e){return(Ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wt(t){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ot(t,e)}(r,lt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wt(t);return n=e?(n=wt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==gt(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this),t=n.call(this),Object.assign(t.defaultState,{image:null,baseWidth:null,baseHeight:null,scaleMode:\"LINEAR\"}),t.missingTextures={},t}return t=r,(e=[{key:\"updateDisplay\",value:function(t,e,n){if(St(wt(r.prototype),\"updateDisplay\",this).call(this,t,e,n),e.image)try{null!==t.image?this.graphics.texture=PIXI.Texture.fromFrame(t.image):this.graphics.texture=PIXI.Texture.EMPTY,this.graphics.texture.baseTexture.scaleMode=PIXI.SCALE_MODES[t.scaleMode]}catch(e){this.missingTextures[t.image]||(this.missingTextures[t.image]=!0,l.push(new mt(t.image,e)))}e.baseWidth&&(this.graphics.width=t.baseWidth),e.baseHeight&&(this.graphics.height=t.baseHeight)}}])&&vt(t.prototype,e),r}();function Pt(t){return(Pt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zt(t,e,n){return(zt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Tt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Rt(t,e){return(Rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tt(t){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rt(t,e)}(r,xt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tt(t);return n=e?(n=Tt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Pt(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){return function(t){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this),n.apply(this,arguments)}return t=r,(e=[{key:\"initDisplay\",value:function(){zt(Tt(r.prototype),\"initDisplay\",this).call(this),null===this.defaultState.image?this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY):this.graphics=PIXI.Sprite.fromFrame(this.defaultState.image)}}])&&jt(t.prototype,e),r}();function _t(t,e){if(t.width>e)for(;3<t.text.length&&t.width>e;)t.text=t.text.slice(0,-4)+\"...\"}function Et(t){return(Et=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function It(t,e,n){return(It=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ft(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Ct(t,e){return(Ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ft(t){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var At=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ct(t,e)}(r,lt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ft(t);return n=e?(n=Ft(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Et(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this),t=n.call(this),Object.assign(t.defaultState,{text:\"\",textAlign:\"left\",strokeColor:0,strokeThickness:0,fillColor:0,fontSize:26,fontFamily:\"Lato\",fontWeight:\"normal\",maxWidth:0}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){It(Ft(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Text(this.defaultState.text,{align:this.defaultState.textAlign,fontSize:this.defaultState.fontSize+\"px\",fontFamily:this.defaultState.fontFamily,fill:this.defaultState.fillColor})}},{key:\"updateDisplay\",value:function(t,e,n){It(Ft(r.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.style.align=t.textAlign,this.graphics.style.stroke=t.strokeColor,this.graphics.style.strokeThickness=t.strokeThickness,this.graphics.style.fill=t.fillColor,this.graphics.style.fontSize=t.fontSize||1,this.graphics.style.fontFamily=t.fontFamily,this.graphics.style.fontWeight=t.fontWeight,(e.text||e.strokeThickness||e.fontSize||e.fontFamily||e.fontWeight||e.maxWidth||e.maxWidth)&&(this.graphics.text=t.text,t.maxWidth&&_t(this.graphics,t.maxWidth))}}])&&Dt(t.prototype,e),r}();function Mt(t){return(Mt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Wt(t){var e=\"function\"==typeof Map?new Map:void 0;return(Wt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Xt(t,arguments,Kt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Yt(r,t)})(t)}function Xt(t,e,n){return(Xt=Ut()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&Yt(r,n.prototype),r}).apply(null,arguments)}function Ut(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Yt(t,e){return(Yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kt(t){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Lt=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yt(t,e)}(e,Wt(Error));var t=function(t){var e=Ut();return function(){var n,r=Kt(t);return n=e?(n=Kt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Mt(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(n,r){var o;return function(t){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this),(o=t.call(this,'Could not find font: \"'+n+'\". Make sure it is in your assets folder and is spelled correctly.')).font=n,o.cause=r,o.name=\"MissingBitmapFontError\",o}return e}();function Ht(t){return(Ht=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gt(t,e,n){return(Gt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qt(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Nt(t,e){return(Nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qt(t){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $t=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nt(t,e)}(r,D);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qt(t);return n=e?(n=qt(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Ht(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this),t=n.call(this),Object.assign(t.defaultState,{text:\"\",textAlign:\"left\",fontSize:26,fontFamily:null,anchorX:lt.defaultAnchor(),anchorY:lt.defaultAnchor(),blendMode:PIXI.BLEND_MODES.NORMAL,tint:16777215,maxWidth:0}),t.missingFonts={},t}return t=r,(e=[{key:\"initDisplay\",value:function(){Gt(qt(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(t,e,n){Gt(qt(r.prototype),\"updateDisplay\",this).call(this,t,e,n),null!==t.fontFamily?PIXI.extras.BitmapText.fonts[t.fontFamily]?(0===this.graphics.children.length?(this.displayed=new PIXI.extras.BitmapText(\"\",{font:{size:t.fontSize||1,name:t.fontFamily}}),this.graphics.addChild(this.displayed)):this.displayed.font={size:t.fontSize||1,name:t.fontFamily},this.displayed.anchor.set(t.anchorX,t.anchorY),this.displayed.blendMode=t.blendMode,this.displayed.tint=t.tint,this.displayed.align=t.textAlign,(e.text||e.maxWidth||e.fontSize||e.fontFamily)&&(this.displayed.text=t.text,t.maxWidth&&_t(this.displayed,t.maxWidth))):(this.missingFonts[t.fontFamily]||(this.missingFonts[t.fontFamily]=!0,l.push(new Lt(t.fontFamily))),this.graphics.removeChildren()):this.graphics.removeChildren()}}])&&Bt(t.prototype,e),r}();function Vt(t){return(Vt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qt(t,e,n){return(Qt=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=te(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Zt(t,e){return(Zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function te(t){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ee=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zt(t,e)}(r,D);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=te(t);return n=e?(n=te(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Vt(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this),t=n.call(this),Object.assign(t.defaultState,{children:[]}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){Qt(te(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Container}},{key:\"updateDisplay\",value:function(t,e,n){Qt(te(r.prototype),\"updateDisplay\",this).call(this,t,e,n)}},{key:\"childrenContainer\",get:function(){return this.graphics}}])&&Jt(t.prototype,e),r}();function ne(t){return(ne=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function re(t,e){return(re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oe(t){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ie=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re(t,e)}(e,ee);var t=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=oe(t);return n=e?(n=oe(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==ne(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(){return function(t){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this),t.apply(this,arguments)}return e}(),ae=null,ce=[];function ue(t){return(ue=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function le(t,e,n){return(le=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pe(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function fe(t,e){return(fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pe(t){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ye=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fe(t,e)}(r,ee);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pe(t);return n=e?(n=pe(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==ue(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){return function(t){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this),n.apply(this,arguments)}return t=r,(e=[{key:\"initDisplay\",value:function(){var t;le(pe(r.prototype),\"initDisplay\",this).call(this),this.gameTexture=PIXI.RenderTexture.create(1920,1080),t=this.gameTexture,ce.push(t),this.graphics=new PIXI.Sprite(this.gameTexture),this.buffer=new PIXI.Container,this.needsRender=!0}},{key:\"postUpdate\",value:function(){this.needsRender&&(ae.render(this.buffer,this.gameTexture),this.needsRender=!1)}},{key:\"childrenContainer\",get:function(){return this.buffer}},{key:\"notifyChange\",value:function(){this.needsRender=!0,this.parent&&this.parent.notifyChange()}}])&&se(t.prototype,e),r}();function he(t){return(he=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function de(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function be(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?de(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ge(t,e,n){return(ge=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Se(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function ve(t,e){return(ve=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Se(t){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Oe=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ve(t,e)}(r,lt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Se(t);return n=e?(n=Se(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==he(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this),t=n.call(this),Object.assign(t.defaultState,{images:\"\",loop:!1,duration:1e3,playing:!0,restarted:null,animationProgress:0,date:0}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){ge(Se(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.Sprite(PIXI.Texture.EMPTY)}},{key:\"addState\",value:function(t,e,n,o){ge(Se(r.prototype),\"addState\",this).call(this,t,e,n),n=this.states[n].find((function(e){return e.t===t})),o=o.date+o.frameDuration*t,n.date=o}},{key:\"updateDisplay\",value:function(t,e,n,o,i){if(ge(Se(r.prototype),\"updateDisplay\",this).call(this,t,e,n),t.images){if(n=t.images.split(\",\"),0<=t.animationProgress){i=o.date+o.frameDuration*i,i=be(be({},t),{},{date:i}),this.computeAnimationProgressTime(t,i);i=Math.floor(n.length*i.animationProgress);var a=t.loop?n[i%n.length]:n[i]||n[n.length-1];try{this.graphics.texture=PIXI.Texture.fromFrame(a)}catch(t){l.push(new mt(a,t))}}}else this.graphics.texture=PIXI.Texture.EMPTY}},{key:\"computeAnimationProgressTime\",value:function(t,e){e.restarted&&e.restarted.date===e.date?e.animationProgress=0:(e.animationProgress=t.animationProgress,t.playing&&(e.animationProgress+=(e.date-t.date)/t.duration))}}])&&me(t.prototype,e),r}();function we(t){return(we=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pe(t,e,n){return(Pe=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ze(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function je(t,e){return(je=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ze(t){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Re=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&je(t,e)}(o,X);var t,e,n,r=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ze(t);return n=e?(n=ze(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==we(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(o);function o(){var t;return function(t){if(!(t instanceof o))throw new TypeError(\"Cannot call a class as a function\")}(this),t=r.call(this),Object.assign(t.defaultState,{width:o.defaultSideLength(),height:o.defaultSideLength(),radius:o.defaultRadius()}),t}return t=o,n=[{key:\"defaultSideLength\",value:function(){return 100}},{key:\"defaultRadius\",value:function(){return 20}}],(e=[{key:\"initDisplay\",value:function(){Pe(ze(o.prototype),\"initDisplay\",this).call(this),this.graphics.drawRoundedRect(0,0,this.defaultState.width,this.defaultState.height,this.defaultState.radius),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,e,n){Pe(ze(o.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.lineWidth||e.lineColor||e.lineAlpha||e.fillColor||e.radius||e.height||e.width)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawRoundedRect(0,0,t.width*n.toWorldUnits,t.height*n.toWorldUnits,t.radius*n.toWorldUnits),null!==t.fillColor&&this.graphics.endFill())}}])&&xe(t.prototype,e),n&&xe(t,n),o}();function Te(t){return(Te=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function ke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _e(t,e,n){return(_e=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=De(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Ee(t,e){return(Ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function De(t){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ie=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ee(t,e)}(r,X);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=De(t);return n=e?(n=De(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Te(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this),t=n.call(this),Object.assign(t.defaultState,{points:[]}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){_e(De(r.prototype),\"initDisplay\",this).call(this),this.graphics.endFill()}},{key:\"updateDisplay\",value:function(t,e,n){_e(De(r.prototype),\"updateDisplay\",this).call(this,t,e,n),(e.lineWidth||e.lineColor||e.lineAlpha||e.fillColor||e.points)&&(this.graphics.clear(),null!==t.fillColor&&this.graphics.beginFill(t.fillColor,t.fillAlpha),this.graphics.lineStyle(t.lineWidth,t.lineColor,t.lineAlpha),this.graphics.drawPolygon(t.points.map((function(t){return t*n.toWorldUnits}))),null!==t.fillColor&&this.graphics.endFill())}}])&&ke(t.prototype,e),r}();function Ce(t){return(Ce=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ae(t,e,n){return(Ae=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=We(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(n):e.value})(t,e,n||t)}function Me(t,e){return(Me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function We(t){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xe=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Me(t,e)}(r,xt);var t,e,n=function(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=We(t);return n=e?(n=We(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==Ce(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(r);function r(){var t;return function(t){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this),t=n.call(this),Object.assign(t.defaultState,{tileX:0,tileY:0,tileScaleX:1,tileScaleY:1}),t}return t=r,(e=[{key:\"initDisplay\",value:function(){Ae(We(r.prototype),\"initDisplay\",this).call(this),this.graphics=new PIXI.extras.TilingSprite(PIXI.Texture.EMPTY)}},{key:\"updateDisplay\",value:function(t,e,n){Ae(We(r.prototype),\"updateDisplay\",this).call(this,t,e,n),this.graphics.tilePosition.x=t.tileX,this.graphics.tilePosition.y=t.tileY,this.graphics.tileScale.x=t.tileScaleX,this.graphics.tileScale.y=t.tileScaleY}}])&&Fe(t.prototype,e),r}();function Ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ye=function(){function t(){!function(e){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this)}var e,n;return e=t,n=[{key:\"create\",value:function(t){var e={C:B,R:ot,L:Q,S:kt,T:At,X:$t,G:ie,B:ye,A:Oe,K:Re,P:Ie,D:Xe}[t];if(!e)throw new Error(\"Exception: entity type not found: \"+t);return new e}}],null&&Ue(e.prototype,null),n&&Ue(e,n),t}();function Ke(t){var e=1.70158,n=0,r=1;return 0===t?0:1==(t/=1)?1:(n=n||.3,e=r<Math.abs(1)?(r=1,n/4):n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*t)*Math.sin((+t-e)*(2*Math.PI)/n)+1)}function Le(t){return t<.5?2*t*t:(4-2*t)*t-1}function He(t){return Math.pow(t,3)}function Be(t){return 1+Math.pow(t-1,3)}function Ge(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ne(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $e(t,e,n){return e&&qe(t.prototype,e),n&&qe(t,n),t}var Ve={r:\"rotation\",R:\"radius\",X:\"x2\",Y:\"y2\",w:\"width\",h:\"height\",t:\"tint\",f:\"fillColor\",F:\"fillAlpha\",c:\"lineColor\",W:\"lineWidth\",A:\"lineAlpha\",a:\"alpha\",i:\"image\",S:\"strokeThickness\",sc:\"strokeColor\",ff:\"fontFamily\",s:\"fontSize\",fw:\"fontWeight\",T:\"text\",ta:\"textAlign\",ch:\"children\",sx:\"scaleX\",sy:\"scaleY\",ax:\"anchorX\",ay:\"anchorY\",kx:\"skewX\",ky:\"skewY\",v:\"visible\",z:\"zIndex\",b:\"blendMode\",I:\"images\",rs:\"restarted\",p:\"playing\",l:\"loop\",d:\"duration\",bw:\"baseWidth\",bh:\"baseHeight\",ps:\"points\",tx:\"tileX\",ty:\"tileY\",tsx:\"tileScaleX\",tsy:\"tileScaleY\",sm:\"scaleMode\"};n=function(){function t(e,n){Ne(this,t),this.id=++n.instanceCount,this.type=e[0]}return $e(t,[{key:\"apply\",value:function(t){var e=Ye.create(this.type);e.id=this.id,t.set(this.id,e)}}]),t}(),w=function(){function t(e,n){var o=(l=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if(\"string\"==typeof t)return Ge(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ge(t,e):void 0}}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}(e,8))[0],i=(e=l[1],l[2]),a=l[3],c=l[4],u=l[5],s=l[6],l=l[7];Ne(this,t),this.loader=new PIXI.loaders.Loader,\"0\"===i&&(i=PIXI.utils.TextureCache[e].width),\"0\"===a&&(a=PIXI.utils.TextureCache[e].height);for(var f=0<l?l:s,p={frames:{},meta:{image:(r.baseUrl||\"\")+r.images[e]}},y=0;y<s;y++){var h=1<s?o+y:o;p.frames[h]={frame:{x:i*u+y%f*i,y:a*c+Math.floor(y/f)*a,w:i,h:a},sourceSize:{w:i,h:a},rotated:!1,trimmed:!1}}e=\"data:text/json;charset=UTF-8,\"+JSON.stringify(p),PIXI.utils.TextureCache[e+\"_image\"]||this.loader.add(e,{crossOrigin:!0})}return $e(t,[{key:\"apply\",value:function(){var t=this;if(0<Object.keys(this.loader.resources).length)return new Promise((function(e){t.loader.load(),t.loader.on(\"complete\",e)}))}}]),t}();function Je(t){return function(t){if(Array.isArray(t))return Qe(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return Qe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qe(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Qe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var tn={C:n,U:function(){function t(e,n,r){Ne(this,t),this.id=+e[0],this.t=+e[1],this.params={},this.curve={};for(var o=2;o<e.length;){var i=Ve[e[o]]||e[o],a=j[i]||j.default,c=a.type(e[o+1]);\"function\"==typeof a.convert&&(c=a.convert(c,n,r,this.t)),a=t.curves[e[o+2]],this.params[i]=c,o+=2,a&&(this.curve[i]=a,o+=1)}}return $e(t,[{key:\"apply\",value:function(t,e){(t=t.get(this.id)).addState(this.t,{values:this.params,curve:this.curve},e.number,e),t.stateAdded=!0}}],[{key:\"curves\",get:function(){return{_:function(t){return t<1?0:1},\"‚à´\":Le,\"üôñ\":He,\"üôí\":Be,\"~\":Ke,\"Œì\":function(t){return 1}}}}]),t}(),L:w};function en(t,e){for(var n=[],r=\"\",o=0,i=\"\",a=!1;o<t.length;){var c=t[o++];c===e?a?r+=c:(n.push(r),r=\"\"):\"'\"===c&&\"\\\\\"!==i?(a=!a,r+=c):\"\\\\\"===i?r+=\"'\"===c?\"\\\\'\":\"\\\\\"+c:\"\\\\\"!==c&&(r+=c),i=c}return n.push(r),n}var nn=function(){function t(){!function(e){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this)}var e,n;return e=t,n=[{key:\"parse\",value:function(t,e,n){var r,o=[],i=en(t,\"\\n\");for(r in i){var a=tn[i[r][0]];if(!a)throw new Error(\"Unrecognised command : \"+i[r][0]);o=[].concat(Je(o),Je(function(t,e,n,r){e=en(e,\";\");var o=[];return e.forEach((function(e){return o.push(new t(en(e,\" \"),n,r))})),o}(a,i[r].slice(1),e,n)))}return o}}],null&&Ze(e.prototype,null),n&&Ze(e,n),t}();function rn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function on(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function an(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?on(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function cn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var un={},sn=[function(){function t(e){!function(e){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),this.entities=new Map,this.frames=[],this.loadingAssets=0,this.extrapolationMap={},this.globalData={toWorldUnits:1,mustResetTree:!0,mustResort:!0,maskUpdates:{},updatedBuffers:[],players:[],instanceCount:0},un.entities=this.entities}var e,n,r;return e=t,r=[{key:\"name\",get:function(){return\"entitymodule\"}}],(n=[{key:\"handleFrameData\",value:function(t,e){var n=this;!e||(r=nn.parse(e,this.globalData,t))&&r.forEach((function(e){(e=e.apply(n.entities,t))&&(n.loadingAssets++,e.then((function(){n.loadingAssets--})))}));var r=an({},t);return r.previous=this.frames[this.frames.length-1]||r,this.extrapolate(r),r!==r.previous&&(r.previous.next=r),this.frames.push(r),r}},{key:\"lastElementOf\",value:function(t){return t[t.length-1]}},{key:\"extrapolate\",value:function(t){var e=this,n=t.number,r=t.previous.number;this.entities.forEach((function(o){var i,a;o.stateAdded&&(o.stateAdded=!1,o.states[n]||(o.states[n]=[]),e.extrapolationMap[o.id]||(e.extrapolationMap[o.id]=an({},o.defaultState)),(i=o.states[n]).sort((function(t,e){return t.t-e.t})),i.length&&1===e.lastElementOf(i).t||o.addState(1,{},n,t),a=e.extrapolationMap[o.id],o.states[r]&&r!==n&&(a=o.states[r][o.states[r].length-1]),o.states[n]=i.map((function(t){return t=e.extrapolationMap[o.id]=an(an({},e.extrapolationMap[o.id]),t),\"function\"==typeof o.computeAnimationProgressTime&&o.computeAnimationProgressTime(a,t),a=t})))}))}},{key:\"reinitScene\",value:function(t,e){this.globalData.toPixel=1920/e.width*e.oversampling,this.globalData.mustResetTree=!0,un.container=this.container=t,this.entities.forEach((function(t){t.init()}))}},{key:\"sortChildren\",value:function(t){t.children.sort((function(t,e){return t.zIndex===e.zIndex?t.id-e.id:t.zIndex-e.zIndex}))}},{key:\"stillLoading\",value:function(){return 0<this.loadingAssets}},{key:\"updateScene\",value:function(t,e,n){var r=this;if(!this.stillLoading()){for(var o in this.entities.forEach((function(t){return t.render(n,e,r.globalData)})),this.globalData.mustResetTree&&(this.reconstructTree(),this.globalData.mustResetTree=!1,this.globalData.mustResort=!0),this.globalData.mustResort&&(this.resortTree(),this.globalData.mustResort=!1),this.globalData.maskUpdates){var i=this.entities.get(+o);o=this.globalData.maskUpdates[o];i.container.mask=-1===o?null:this.entities.get(o).graphics}var a,c=function(t,e){var n;if(\"undefined\"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return rn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rn(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(this.globalData.updatedBuffers);try{for(c.s();!(a=c.n()).done;)a.value.postUpdate()}catch(t){c.e(t)}finally{c.f()}this.globalData.maskUpdates={}}}},{key:\"resortTree\",value:function(){var t=this;this.entities.forEach((function(e){e instanceof ee&&t.sortChildren(e.childrenContainer)})),this.sortChildren(this.container)}},{key:\"reconstructTree\",value:function(){var t=this;this.container.removeChildren(),this.entities.forEach((function(e){e instanceof ee&&(e.childrenContainer.removeChildren(),e.currentState.children.forEach((function(n){n=t.entities.get(n),e.childrenContainer.addChild(n.container),n.parent=e})))})),this.entities.forEach((function(e){e.container.parent||t.container.addChild(e.container)}))}},{key:\"handleGlobalData\",value:function(t,e){this.globalData.players=t,t=e.width,e=e.height,this.globalData.toWorldUnits=a(t,e,1920,1080),un.toWorldUnits=this.globalData.toWorldUnits,un.hasOwnProperty(\"coeff\")||Object.defineProperty(un,\"coeff\",{get:function(){var t='The \"coeff\" property of GraphicEntityModule\\'s API is deprecated, please use \"toWorldUnits\" instead',e=(new Error).stack;return console.groupCollapsed?(console.groupCollapsed(\"%cDeprecation Warning: %c%s\",\"color:#614108;background:#fffbe6\",\"font-weight:normal;color:#614108;background:#fffbe6\",t),console.warn(e),console.groupEnd()):console.warn(\"Deprecation Warning: \",t),un.toWorldUnits}})}}])&&cn(e.prototype,n),r&&cn(e,r),t}()],ln={views:['KEY_FRAME 0\\n{\"global\":{\"entitymodule\":{\"width\":1920,\"height\":1080}},\"frame\":{\"entitymodule\":\"Lcard Cards.svg 390 570 0 0 52 13\\\\nCS;X;X;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S;S\\\\nU30 0 sx 0.43956 i card46 sy 0.43956 v 1 z 259;57 0 sx 0.43956 i card39 sy 0.43956 v 1 z 262;39 0 sx 0.43956 i card13 sy 0.43956 v 1 z 260;31 0 sx 0.43956 i card47 sy 0.43956 v 1 z 259;55 0 sx 0.43956 i card30 sy 0.43956 v 1 z 262;38 0 sx 0.43956 i card6 sy 0.43956 v 1 z 260;56 0 sx 0.43956 i card24 sy 0.43956 v 1 z 262;22 0 sx 0.43956 i card22 sy 0.43956 v 1 z 258;44 0 sx 0.43956 i card42 sy 0.43956 v 1 z 260;8 0 sx 0.43956 i card36 sy 0.43956 v 1 z 256;16 0 sx 0.43956 i card10 sy 0.43956 v 1 z 257;53 0 sx 0.43956 i card0 sy 0.43956 v 1 z 261;17 0 sx 0.43956 i card26 sy 0.43956 v 1 z 257;34 0 sx 0.43956 i card14 sy 0.43956 v 1 z 259;43 0 sx 0.43956 i card1 sy 0.43956 v 1 z 260;15 0 sx 0.43956 i card12 sy 0.43956 v 1 z 257;6 0 sx 0.43956 i card11 sy 0.43956 v 1 z 256;51 0 sx 0.43956 i card5 sy 0.43956 v 1 z 261;47 0 sx 0.43956 i card23 sy 0.43956 v 1 z 261;36 0 sx 0.43956 i card21 sy 0.43956 v 1 z 259;28 0 sx 0.43956 i card48 sy 0.43956 v 1 z 258;21 0 sx 0.43956 i card45 sy 0.43956 v 1 z 257;41 0 sx 0.43956 i card16 sy 0.43956 v 1 z 260;46 0 sx 0.43956 i card15 sy 0.43956 v 1 z 261;18 0 sx 0.43956 i card33 sy 0.43956 v 1 z 257;9 0 sx 0.43956 i card20 sy 0.43956 v 1 z 256;50 0 sx 0.43956 i card34 sy 0.43956 v 1 z 261;48 0 sx 0.43956 i card27 sy 0.43956 v 1 z 261;11 0 sx 0.43956 i card35 sy 0.43956 v 1 z 256;42 0 sx 0.43956 i card32 sy 0.43956 v 1 z 260;24 0 sx 0.43956 i card43 sy 0.43956 v 1 z 258;26 0 sx 0.43956 i card8 sy 0.43956 v 1 z 258;52 0 sx 0.43956 i card28 sy 0.43956 v 1 z 261;12 0 sx 0.43956 i card7 sy 0.43956 v 1 z 256;27 0 sx 0.43956 i card50 sy 0.43956 v 1 z 258;37 0 sx 0.43956 i card44 sy 0.43956 v 1 z 259;19 0 sx 0.43956 i card3 sy 0.43956 v 1 z 257;25 0 sx 0.43956 i card29 sy 0.43956 v 1 z 258;32 0 sx 0.43956 i card41 sy 0.43956 v 1 z 259;45 0 sx 0.43956 i card2 sy 0.43956 v 1 z 260;40 0 sx 0.43956 i card51 sy 0.43956 v 1 z 260;10 0 sx 0.43956 i card37 sy 0.43956 v 1 z 256;33 0 sx 0.43956 i card17 sy 0.43956 v 1 z 259;54 0 sx 0.43956 i card31 sy 0.43956 v 1 z 262;23 0 sx 0.43956 i card49 sy 0.43956 v 1 z 258;49 0 sx 0.43956 i card4 sy 0.43956 v 1 z 261;13 0 sx 0.43956 i card38 sy 0.43956 v 1 z 256;14 0 sx 0.43956 i card9 sy 0.43956 v 1 z 257;7 0 sx 0.43956 i card25 sy 0.43956 v 1 z 256;20 0 sx 0.43956 i card40 sy 0.43956 v 1 z 257;29 0 sx 0.43956 i card19 sy 0.43956 v 1 z 258;35 0 sx 0.43956 i card18 sy 0.43956 v 1 z 259;30 0.999999 x 265 y 499;57 0.999999 x 792 y 649;39 0.999999 x 441 y 549;31 0.999999 x 441 y 499;55 0.999999 x 441 y 649;38 0.999999 x 265 y 549;56 0.999999 x 616 y 649;22 0.999999 x 265 y 449;44 0.999999 x 1319 y 549;8 0.999999 x 616 y 349;16 0.999999 x 616 y 399;53 0.999999 x 1495 y 599;17 0.999999 x 792 y 399;34 0.999999 x 968 y 499;43 0.999999 x 1144 y 549;15 0.999999 x 441 y 399;6 0.999999 x 265 y 349;51 0.999999 x 1144 y 599;47 0.999999 x 441 y 599;36 0.999999 x 1319 y 499;28 0.999999 x 1319 y 449;21 0.999999 x 1495 y 399;41 0.999999 x 792 y 549;46 0.999999 x 265 y 599;18 0.999999 x 968 y 399;9 0.999999 x 792 y 349;50 0.999999 x 968 y 599;48 0.999999 x 616 y 599;11 0.999999 x 1144 y 349;42 0.999999 x 968 y 549;24 0.999999 x 616 y 449;26 0.999999 x 968 y 449;52 0.999999 x 1319 y 599;12 0.999999 x 1319 y 349;27 0.999999 x 1144 y 449;37 0.999999 x 1495 y 499;19 0.999999 x 1144 y 399;25 0.999999 x 792 y 449;32 0.999999 x 616 y 499;45 0.999999 x 1495 y 549;40 0.999999 x 616 y 549;10 0.999999 x 968 y 349;33 0.999999 x 792 y 499;54 0.999999 x 265 y 649;23 0.999999 x 441 y 449;49 0.999999 x 792 y 599;13 0.999999 x 1495 y 349;14 0.999999 x 265 y 399;7 0.999999 x 441 y 349;20 0.999999 x 1319 y 399;29 0.999999 x 1495 y 449;35 0.999999 x 1144 y 499;30 1 z 3;57 1 z 6;39 1 z 4;31 1 z 3;55 1 z 6;38 1 z 4;56 1 z 6;22 1 z 2;44 1 z 4;1 1 i FreeCell.png v 1 z -256;8 1 z 0;16 1 z 1;53 1 z 5;17 1 z 1;34 1 z 3;43 1 z 4;15 1 z 1;6 1 z 0;51 1 z 5;47 1 z 5;36 1 z 3;28 1 z 2;21 1 z 1;41 1 z 4;46 1 z 5;18 1 z 1;9 1 z 0;50 1 z 5;3 1 v 1 ff \\'MS Sans Regular\\' ax 1 x 1662 y 59 s 20 T \\' 52\\' z -255;48 1 z 5;11 1 z 0;2 1 v 1 ff \\'MS Sans Bold\\' x 294 y 13 s 20 T \\' 10913\\' z -255;42 1 z 4;24 1 z 2;26 1 z 2;52 1 z 5;12 1 z 0;27 1 z 2;37 1 z 3;19 1 z 1;25 1 z 2;32 1 z 3;45 1 z 4;40 1 z 4;10 1 z 0;33 1 z 3;54 1 z 6;23 1 z 2;49 1 z 5;13 1 z 0;14 1 z 1;4 1 x 920 i King-left.png y 138 v 0;7 1 z 0;20 1 z 1;29 1 z 2;35 1 z 3;5 1 x 920 i King-right.png y 138 v 0\"}}\\n','KEY_FRAME 1\\n{\"entitymodule\":\"U55 0 z 262;4 0;5 0 v 1;55 0.999999 x 1144;55 1 z 6\"}\\n','KEY_FRAME 2\\n{\"duration\":400,\"entitymodule\":\"U57 0 z 256;57 0.499999 x 1031 y 95;57 0.5 z 0;53 0.5 z 256;3 0.5 T \\' 51\\';53 0.999999 x 1511 y 95;53 1 z 0;3 1 T \\' 50\\'\"}\\n','KEY_FRAME 3\\n{\"duration\":1000,\"entitymodule\":\"U44 0 z 263;4 0;5 0;52 0 z 264;44 0.999999 x 1144 y 699;52 0.999999 x 1144 y 749;44 1 z 7;52 1 z 8\"}\\n','KEY_FRAME 4\\n{\"entitymodule\":\"U4 0 v 1;5 0 v 0;36 0 z 263;28 0 z 262;36 0.999999 x 441 y 699;28 0.999999 x 441 y 649;36 1 z 7;28 1 z 6\"}\\n','KEY_FRAME 5\\n{\"duration\":200,\"entitymodule\":\"U20 0 z 257;20 0.999999 x 1031 y 95;20 1 z 1;3 1 T \\' 49\\'\"}\\n','KEY_FRAME 6\\n{\"duration\":1000,\"entitymodule\":\"U4 0;5 0;12 0 z 264;12 0.999999 x 441 y 749;12 1 z 8\"}\\n','KEY_FRAME 7\\n{\"entitymodule\":\"U4 0;5 0;50 0 z 256;50 0.999999 x 249 y 95;50 1 z 0\"}\\n','KEY_FRAME 8\\n{\"entitymodule\":\"U4 0 v 0;5 0 v 1;12 0 z 259;47 0 z 256;36 0 z 258;28 0 z 257;12 0.999999 x 1319 y 499;47 0.999999 x 1319 y 349;36 0.999999 x 1319 y 449;28 0.999999 x 1319 y 399;47 1 z 0;12 1 z 3;36 1 z 2;28 1 z 1\"}\\n','KEY_FRAME 9\\n{\"duration\":200,\"entitymodule\":\"U39 0 z 256;39 0.999999 x 1351 y 95;39 1 z 0;3 1 T \\' 48\\'\"}\\n','KEY_FRAME 10\\n{\"duration\":1000,\"entitymodule\":\"U42 0 z 260;4 0;5 0;42 0.999999 x 1319;42 1 z 4\"}\\n','KEY_FRAME 11\\n{\"duration\":200,\"entitymodule\":\"U34 0 z 257;34 0.999999 x 1351 y 95;34 1 z 1;3 1 T \\' 47\\'\"}\\n','KEY_FRAME 12\\n{\"duration\":1000,\"entitymodule\":\"U44 0 z 263;55 0 z 262;51 0 z 261;4 0;5 0;52 0 z 264;44 0.999999 x 1319;55 0.999999 x 1319;51 0.999999 x 1319;52 0.999999 x 1319;44 1 z 7;55 1 z 6;51 1 z 5;52 1 z 8\"}\\n','KEY_FRAME 13\\n{\"duration\":200,\"entitymodule\":\"U43 0 z 257;43 0.999999 x 1511 y 95;43 1 z 1;3 1 T \\' 46\\'\"}\\n','KEY_FRAME 14\\n{\"duration\":1000,\"entitymodule\":\"U54 0 z 256;4 0 v 1;5 0 v 0;54 0.999999 x 409 y 95;54 1 z 0\"}\\n','KEY_FRAME 15\\n{\"duration\":200,\"entitymodule\":\"U46 0 z 258;46 0.999999 x 1351 y 95;46 1 z 2;3 1 T \\' 45\\'\"}\\n','KEY_FRAME 16\\n{\"duration\":1000,\"entitymodule\":\"U35 0 z 261;4 0;5 0;35 0.999999 x 265 y 599;35 1 z 5\"}\\n','KEY_FRAME 17\\n{\"entitymodule\":\"U4 0;5 0;49 0 z 262;49 0.999999 x 265 y 649;49 1 z 6\"}\\n','KEY_FRAME 18\\n{\"entitymodule\":\"U41 0 z 259;4 0 v 0;5 0 v 1;41 0.999999 x 1351 y 95;41 1 z 3;3 1 T \\' 44\\'\"}\\n','KEY_FRAME 19\\n{\"entitymodule\":\"U33 0 z 260;4 0;5 0;33 0.999999 x 1351 y 95;33 1 z 4;3 1 T \\' 43\\'\"}\\n','KEY_FRAME 20\\n{\"entitymodule\":\"U25 0 z 263;4 0 v 1;5 0 v 0;25 0.999999 x 265 y 699;25 1 z 7\"}\\n','KEY_FRAME 21\\n{\"duration\":200,\"entitymodule\":\"U17 0 z 256;17 0.999999 x 1191 y 95;17 1 z 0;3 1 T \\' 42\\'\"}\\n','KEY_FRAME 22\\n{\"duration\":1000,\"entitymodule\":\"U4 0 v 0;5 0 v 1;9 0 z 259;9 0.999999 x 968 y 499;9 1 z 3\"}\\n','KEY_FRAME 23\\n{\"entitymodule\":\"U4 0 v 1;5 0 v 0;56 0 z 256;56 0.999999 x 792 y 349;56 1 z 0\"}\\n',\"KEY_FRAME 24\\n{\\\"duration\\\":600,\\\"entitymodule\\\":\\\"U48 0 z 257;48 0.333332 x 1191 y 95;52 0.333333 z 258;48 0.333333 z 1;3 0.333333 T ' 41';52 0.666666 x 1191 y 95;45 0.666667 z 258;52 0.666667 z 2;3 0.666667 T ' 40';45 0.999999 x 1511 y 95;45 1 z 2;3 1 T ' 39'\\\"}\\n\",'KEY_FRAME 25\\n{\"duration\":1000,\"entitymodule\":\"U40 0 z 256;4 0;5 0;40 0.999999 x 569 y 95;40 1 z 0\"}\\n',\"KEY_FRAME 26\\n{\\\"duration\\\":800,\\\"entitymodule\\\":\\\"U32 0 z 258;32 0.249999 x 1031 y 95;44 0.25 z 259;32 0.25 z 2;3 0.25 T ' 38';44 0.499999 x 1031 y 95;44 0.5 z 3;25 0.5 z 259;3 0.5 T ' 37';25 0.749999 x 1191 y 95;25 0.75 z 3;24 0.75 z 260;3 0.75 T ' 36';24 0.999999 x 1031 y 95;24 1 z 4;3 1 T ' 35'\\\"}\\n\",'KEY_FRAME 27\\n{\"duration\":1000,\"entitymodule\":\"U4 0;5 0;27 0 z 256;27 0.999999 x 729 y 95;27 1 z 0\"}\\n',\"KEY_FRAME 28\\n{\\\"duration\\\":3000,\\\"entitymodule\\\":\\\"U19 0 z 259;19 0.066666 x 1511 y 95;19 0.066667 z 3;55 0.066667 z 260;3 0.066667 T ' 34';55 0.133332 x 1191 y 95;55 0.133333 z 4;49 0.133333 z 260;3 0.133333 T ' 33';49 0.199999 x 1511 y 95;49 0.2 z 4;3 0.2 T ' 32';37 0.2 z 261;37 0.266666 x 1031 y 95;54 0.266667 z 261;37 0.266667 z 5;3 0.266667 T ' 31';54 0.333332 x 1191;35 0.333333 z 261;54 0.333333 z 5;3 0.333333 T ' 30';35 0.399999 x 1351 y 95;35 0.4 z 5;51 0.4 z 261;3 0.4 T ' 29';51 0.466666 x 1511 y 95;42 0.466667 z 262;51 0.466667 z 5;3 0.466667 T ' 28';42 0.533332 x 1191 y 95;29 0.533333 z 262;42 0.533333 z 6;3 0.533333 T ' 27';29 0.599999 x 1351 y 95;21 0.6 z 262;29 0.6 z 6;3 0.6 T ' 26';21 0.666666 x 1031 y 95;21 0.666667 z 6;38 0.666667 z 262;3 0.666667 T ' 25';38 0.733332 x 1511 y 95;30 0.733333 z 263;38 0.733333 z 6;3 0.733333 T ' 24';30 0.799999 x 1031 y 95;30 0.8 z 7;9 0.8 z 263;3 0.8 T ' 23';9 0.866666 x 1351 y 95;12 0.866667 z 263;9 0.866667 z 7;3 0.866667 T ' 22';12 0.933332 x 1511 y 95;12 0.933333 z 7;3 0.933333 T ' 21';36 0.933333 z 264;36 0.999999 x 1351 y 95;36 1 z 8;3 1 T ' 20'\\\"}\\n\",'KEY_FRAME 29\\n{\"duration\":1000,\"entitymodule\":\"U26 0 z 256;4 0;5 0;26 0.999999 x 409 y 95;26 1 z 0\"}\\n',\"KEY_FRAME 30\\n{\\\"duration\\\":4000,\\\"entitymodule\\\":\\\"U18 0 z 263;18 0.049999 x 1191 y 95;31 0.05 z 264;18 0.05 z 7;3 0.05 T ' 19';31 0.099999 x 1031 y 95;31 0.1 z 8;50 0.1 z 264;3 0.1 T ' 18';50 0.149999 x 1191;26 0.15 z 264;50 0.15 z 8;3 0.15 T ' 17';26 0.199999 x 1511;26 0.2 z 8;3 0.2 T ' 16';28 0.2 z 265;28 0.249999 x 1031 y 95;11 0.25 z 265;3 0.25 T ' 15';28 0.25 z 9;11 0.299999 x 1191 y 95;11 0.3 z 9;22 0.3 z 265;3 0.3 T ' 14';22 0.349999 x 1351 y 95;22 0.35 z 9;14 0.35 z 265;3 0.35 T ' 13';14 0.399999 x 1511 y 95;14 0.4 z 9;23 0.4 z 266;3 0.4 T ' 12';23 0.449999 x 1031 y 95;23 0.45 z 10;47 0.45 z 266;3 0.45 T ' 11';47 0.499999 x 1351 y 95;16 0.5 z 266;47 0.5 z 10;3 0.5 T ' 10';16 0.549999 x 1511 y 95;8 0.55 z 266;16 0.55 z 10;3 0.55 T ' 9';8 0.599999 x 1191 y 95;8 0.6 z 10;27 0.6 z 267;3 0.6 T ' 8';27 0.649999 x 1031;10 0.65 z 267;27 0.65 z 11;3 0.65 T ' 7';10 0.699999 x 1191 y 95;10 0.7 z 11;56 0.7 z 267;3 0.7 T ' 6';56 0.749999 x 1351 y 95;6 0.75 z 267;56 0.75 z 11;3 0.75 T ' 5';6 0.799999 x 1511 y 95;40 0.8 z 268;6 0.8 z 11;3 0.8 T ' 4';40 0.849999 x 1031;13 0.85 z 268;40 0.85 z 12;3 0.85 T ' 3';13 0.899999 x 1191 y 95;13 0.9 z 12;15 0.9 z 268;3 0.9 T ' 2';15 0.949999 x 1511 y 95;7 0.95 z 268;15 0.95 z 12;3 0.95 T ' 1';7 0.999999 x 1351 y 95;7 1 z 12;3 1 T ' 0'\\\"}\\n\",'KEY_FRAME 31\\n{\"duration\":86400000,\"entitymodule\":\"CS\\\\nU58 0 x 249 i Victory.png y 334 v 1\"}\\n'],agents:[{index:0,name:\"Player 0\",avatar:\"https://static.codingame.com/servlet/fileservlet?id=16085734516701&format=viewer_avatar\",agentId:0}]};function fn(t){return(fn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function pn(t){var e=\"function\"==typeof Map?new Map:void 0;return(pn=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf(\"[native code]\")))return t;var n;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return yn(t,arguments,bn(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),dn(r,t)})(t)}function yn(t,e,n){return(yn=hn()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),r=new(Function.bind.apply(t,r)),n&&dn(r,n.prototype),r}).apply(null,arguments)}function hn(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function dn(t,e){return(dn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bn(t){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mn=function(){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dn(t,e)}(e,pn(Error));var t=function(t){var e=hn();return function(){var n,r=bn(t);return n=e?(n=bn(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this,!(n=n)||\"object\"!==fn(n)&&\"function\"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}(r):n}}(e);function e(n,r){return function(t){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this),(n=t.call(this,'<Error in module \"'+n+'\">')).cause=r,n.name=\"ModuleError\",n}return e}();function gn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function vn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gn(Object(n),!0).forEach((function(e){var r,o;r=t,e=n[o=e],o in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Sn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function On(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var wn=function(){function t(e){!function(e){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this),this.toDestroy=[],this.stepByStepAnimateSpeed=null;var n=e||ln;n?(e=n.views,n=n.agents,this.demo={playerCount:n.length,logo:\"logo.png\",overlayAlpha:.2,agents:n,frames:e},this.demo.agents.forEach((function(e){e.color=t.playerColors[e.index]}))):this.demo=void 0}var e,n,o;return e=t,o=[{key:\"requirements\",get:function(){return{PIXI:\"PIXI4\"}}},{key:\"VERSION\",get:function(){return 2}},{key:\"WIDTH\",get:function(){return 1920}},{key:\"HEIGHT\",get:function(){return 1080}},{key:\"getGameRatio\",value:function(){return t.WIDTH/t.HEIGHT}},{key:\"playerColors\",get:function(){return[\"#ff1d5c\",\"#22a1e4\",\"#ff8f16\",\"#6ac371\",\"#9975e2\",\"#3ac5ca\",\"#de6ddf\",\"#ff0000\"]}},{key:\"SDK_GAME\",get:function(){return!0}},{key:\"RenderTimeout\",get:function(){return\"localhost\"===window.location.hostname?1/0:2e4}}],(n=[{key:\"getDefaultOverSampling\",value:function(){return 2}},{key:\"handleModuleError\",value:function(t,e){l.push(new mn(t,e)),console.error(e),l.push({message:'<Module \"'.concat(t,'\" disabled>\\n')}),delete this.modules[t]}},{key:\"instantiateModules\",value:function(){this.modules={};var t,e=function(t,e){var n;if(\"undefined\"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if(\"string\"==typeof t)return Sn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sn(t,e):void 0}}(t))||e&&t&&\"number\"==typeof t.length){n&&(t=n);var r=0;return{s:e=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(sn);try{for(e.s();!(t=e.n()).done;){var n=t.value;try{this.modules[n.name]=new n(r)}catch(t){this.handleModuleError(n.name,t)}}}catch(t){e.e(t)}finally{e.f()}}},{key:\"destroy\",value:function(){this.alreadyLoaded&&(this.renderer.destroy(),this.endCallback=null),this.destroyed=!0}},{key:\"destroyScene\",value:function(t){!function(){for(var t=0,e=ce.length;t<e;++t)ce[t].destroy(!0);ce=[]}()}},{key:\"getGameName\",value:function(){}},{key:\"canSwapPlayers\",value:function(){return!1}},{key:\"addErrorListener\",value:function(t){l.listen(t)}},{key:\"getResources\",value:function(){return Object.assign({baseUrl:\"\",images:{},spines:{},sprites:[],fonts:[],others:[]},r)}},{key:\"getOptions\",value:function(){return[]}},{key:\"setDebug\",value:function(e){this.asyncRenderingTime=t.RenderTimeout}},{key:\"initPreload\",value:function(t,e,n,r,o){t.canvasWidth=r,t.canvasHeight=o,t.loaderProgress=new PIXI.Text(\"100\",{fontSize:.117*o||30,fontFamily:\"Lato\",fontWeight:\"900\",fill:\"white\",align:\"center\"}),t.loaderProgress.anchor.y=1,t.loaderProgress.anchor.x=1.3,t.progress=t.realProgress=n,t.loaderProgress.position.y=o,t.progressBar=new PIXI.Graphics,e.addChild(t.progressBar),e.addChild(t.loaderProgress)}},{key:\"preload\",value:function(t,e,n,r,o,i){t.progress=n}},{key:\"renderPreloadScene\",value:function(t,e){return e=Math.pow(.998,e),t.realProgress=e*t.realProgress+(1-e)*t.progress,t.loaderProgress.text=(100*t.realProgress).toFixed(0),t.loaderProgress.position.x=t.realProgress*t.canvasWidth,t.progressBar.clear(),t.progressBar.beginFill(0,1),t.progressBar.drawRect(0,0,t.canvasWidth*t.realProgress+1,t.canvasHeight),t.progressBar.endFill(),t.progressBar.beginFill(4146246,1),t.progressBar.drawRect(t.canvasWidth*t.realProgress,0,t.canvasWidth,t.canvasHeight),t.progressBar.endFill(),!0}},{key:\"initDefaultScene\",value:function(e,n,r,o){var i=new PIXI.Container;if(e.drawer=this,e.time=0,this.demo){if(this.demo.logo)try{var c=PIXI.Sprite.fromFrame(this.demo.logo);c.position.set(t.WIDTH/2,t.HEIGHT/2),c.anchor.set(.5),c.baseScale=a(c.texture.width,c.texture.height,2*t.WIDTH/3,t.HEIGHT/2,0),i.addChild(c),e.logo=c}catch(n){l.push({cause:n,message:'Missing \"logo.png\" to complete replay.'}),e.logo=new PIXI.Container,e.logo.baseScale=1,i.addChild(e.logo),e.missingLogo=!0}var u=new PIXI.Graphics;e.missingLogo||(u.beginFill(0,this.demo.overlayAlpha||0),u.drawRect(0,0,t.WIDTH+20,t.HEIGHT+20),u.endFill(),u.x-=10,u.y-=10);var s=new PIXI.Container;try{this.initDefaultFrames(this.demo.playerCount,this.demo.frames,this.demo.agents),this.preconstructScene(this.scope,n,this.initWidth,this.initHeight),this.initScene(this.scope,s,this.frames,!0),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)}catch(n){l.push({cause:n,message:\"Cannot load demo, you might want to reset the demo\"})}e.demo=s,e.demotime=0,this.currentFrame=-1,n.addChild(s),n.addChild(u),n.addChild(i)}e.updateTime=0,e.frameTime=0}},{key:\"initDefaultFrames\",value:function(e,n,r){var o=this;this.instantiateModules(),this.playerInfo=r.map((function(t,e){return{name:t.name||\"Anonymous\",color:t.color?o.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:t.avatarTexture}})),this.instantiateModules(),this._frames=n.map((function(t){var e,n=t.split(\"\\n\");t=n[0].split(\" \");try{e=JSON.parse(n.slice(1).join(\"\\n\"))}catch(t){e={}}return vn(vn({},e),{},{key:\"KEY_FRAME\"===t[0]})})).filter((function(t){return t.key})),this.parseGlobalData(this._frames[0].global),this.playerCount=e,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1,(e=this._frames[0].frame).key=this._frames[0].key,this.frames.push(this.parseFrame(e,this.frames));for(var i=1;i<this._frames.length;++i)this.frames.push(this.parseFrame(this._frames[i],this.frames));this.asyncRenderingTime=t.RenderTimeout}},{key:\"renderDefaultScene\",value:function(t,e){if(e=Math.min(80,e),void 0===this.demo)return!1;this.currentFrame=this.currentFrameTemp||0,t.frameTime+=e,t.updateTime+=e,t.demotime+=e/1e3;var n=Math.max(0,Math.min(1,(t.demotime-1)/.5));t.logo&&(t.logo.alpha=n,t.logo.scale.x=t.logo.scale.y=(3-2*n)*t.logo.baseScale),!t.missingLogo&&1.5<t.demotime&&t.demotime<=2.2?(r=15*Math.max(0,1-(t.demotime-1.5)/.7),t.demo.x=(2*Math.random()-1)*r,t.demo.y=(2*Math.random()-1)*r):t.demo.x=t.demo.y=0;var r=this.getFrameDuration(this.currentFrame);return 30<=t.updateTime&&(t.updateTime-=30,0===this.currentFrame?this.progress=1:this.progress=i(0,r,t.frameTime),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],!0)),t.frameTime>=r&&(t.frameTime-=r,this.currentFrame=(this.currentFrame+1)%this.frames.length),this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,1,this.reasons[this.currentFrame],e,!0),this.currentFrameTemp=this.currentFrame,this.currentFrame=-1,!0}},{key:\"endDefaultScene\",value:function(t,e){return!0}},{key:\"parseGlobalData\",value:function(t){for(var e in this.modules){var n=this.modules[e];\"function\"==typeof n.handleGlobalData&&n.handleGlobalData(this.playerInfo,t[e])}}},{key:\"parseFrame\",value:function(t,e){var n,r={data:{},frameInfo:{number:e.length}};if(r.previous=e[e.length-1]||r,r!==r.previous&&(r.previous.next=r),!t.key)return r.previous;for(n in t.duration&&(this.currentFrameDuration=t.duration),r.frameInfo.frameDuration=this.currentFrameDuration,r===r.previous?(r.frameInfo.date=0,r.frameInfo.frameDuration=0):r.frameInfo.date=r.previous.frameInfo.date+r.previous.frameInfo.frameDuration,this.modules){var o=this.modules[n];\"function\"==typeof o.handleFrameData&&(r.data[n]=o.handleFrameData(r.frameInfo,t[n]))}return r}},{key:\"preconstructScene\",value:function(e,n,r,o){e.canvasHeight=o,e.canvasWidth=r,e.time=0,e.endTime=0,e.playerInfo=this.playerInfo,n.scale.x=r/t.WIDTH,n.scale.y=o/t.HEIGHT}},{key:\"initScene\",value:function(t,e,n){for(var r in this.modules){var o=this.modules[r],i=new PIXI.Container;try{o.reinitScene(i,{width:t.canvasWidth,height:t.canvasHeight,oversampling:this.oversampling})}catch(t){this.handleModuleError(r,t)}e.addChild(i)}}},{key:\"updateScene\",value:function(t,e,n,r,o,i,a,c,u){var s,l=n[r];if(!u&&this.stepByStepAnimateSpeed){if(this.checkSteppedToNextFrame(t,l,o))return void this.startAsynchronousAnimation(t,l);if(this.checkSteppedToPreviousFrame(t,l,o))return void this.startAsynchronousAnimation(t,t.currentFrame,!0);t.targetProgress=null}for(s in t.currentFrame=l,t.currentProgress=o,t.reason=a,this.modules){var f=this.modules[s];if(l.data.hasOwnProperty(s))try{f.updateScene(l.previous.data[s],l.data[s],o,i)}catch(t){this.handleModuleError(s,t)}}}},{key:\"startAsynchronousAnimation\",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];t.targetProgress=n?0:1,n||1!==t.currentProgress||(t.currentProgress=0),t.currentFrame=e,t.reverseAsynchronousAnimation=n}},{key:\"checkStepped\",value:function(t,e,n){return t.currentFrame&&0===this.speed&&1===n}},{key:\"checkSteppedToNextFrame\",value:function(t,e,n){return this.checkStepped(t,e,n)&&(t.currentFrame===e.previous&&t.currentFrame!==e||t.currentFrame===e&&t.currentProgress!==n)}},{key:\"checkSteppedToPreviousFrame\",value:function(t,e,n){return this.checkStepped(t,e,n)&&t.currentFrame.previous===e&&t.currentFrame!==e}},{key:\"initEndScene\",value:function(t,e){t.endSceneViewed=!1}},{key:\"destroyEndScene\",value:function(t){}},{key:\"renderEndScene\",value:function(t,e,n){0===t.endTime&&this.initEndScene(t,n),t.endTime+=e,void 0<=t.endTime&&!t.endSceneViewed&&(this.endCallback&&this.endCallback(),t.endSceneViewed=!0)}},{key:\"renderScene\",value:function(t,e,n,r,o,i,a,c){var u,s;for(s in c=Math.min(80,c),this.debugMode||r!==n.length-1||1!==o?(0<t.endTime&&this.destroyEndScene(t),t.endTime=0):this.renderEndScene(t,c,\"Win\"!==a),this.stepByStepAnimateSpeed&&this.isAsynchronousAnimationOngoing(t)&&(o=this.currentFrame,t.reverseAsynchronousAnimation&&o++,a=c/200*this.getFrameSpeed(o)*this.stepByStepAnimateSpeed,t.reverseAsynchronousAnimation?(u=t.currentProgress-a)<=0&&(o=this.currentFrame,u=1,t.targetProgress=1):(u=t.currentProgress+a,u=Math.min(t.targetProgress,u)),this.updateScene(this.scope,this.question,this.frames,o,u,this.speed,this.reasons[o],!1,!0)),this.modules){var l=this.modules[s];if(\"function\"==typeof l.animateScene)try{l.animateScene(c)}catch(t){this.handleModuleError(s,t)}}return!0}},{key:\"isAsynchronousAnimationOngoing\",value:function(t){return null!=t.targetProgress&&t.currentProgress!==t.targetProgress}},{key:\"getFrameSpeed\",value:function(t){return 500/this.getFrameDuration(t)}},{key:\"getFrameDuration\",value:function(t){return this.frames&&this.frames[t]&&this.frames[t].frameInfo.frameDuration||1e3}},{key:\"enableAsyncRendering\",value:function(e){this.asyncRendering=e,this.asyncRenderingTime=t.RenderTimeout}},{key:\"purge\",value:function(){this.scope={},this.changed=!0,this.container.interactiveChildren=!1,this.container.destroy({texture:!1,children:!0}),delete this.container,this.container=new PIXI.Container}},{key:\"reinitScene\",value:function(){1<=this.loaded&&(this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.preconstructScene(this.scope,this.container,this.initWidth,this.initHeight),this.initScene(this.scope,this.container,this.frames),this.updateScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame]),this.changed=!0)}},{key:\"reinitDefaultScene\",value:function(){1<=this.loaded&&(this.intro=!0,this.destroyScene(this.scope),this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initDefaultScene(this.scope,this.container,this.initWidth,this.initHeight),this.changed=!0)}},{key:\"reinitLoadingScene\",value:function(){this.loaded<1&&(this.purge(),this.asyncRenderingTime=t.RenderTimeout,this.initPreload(this.scope,this.container,this.loaded,this.initWidth,this.initHeight))}},{key:\"reinit\",value:function(t){1<=this.loaded?0<=this.currentFrame&&!this.intro?this.reinitScene():this.intro&&!t||this.reinitDefaultScene():this.reinitLoadingScene()}},{key:\"animate\",value:function(t){var e;this.destroyed||(this.lastRenderTime||(this.lastRenderTime=t),e=t-this.lastRenderTime,this.asynchronousStep&&(e=this.asynchronousStep),this.onBeforeRender&&this.onBeforeRender(),this.loading||(this.loaded<1?this.changed|=this.renderPreloadScene(this.scope,e):(this.changed||this.asyncRendering&&0<this.asyncRenderingTime||this.isAsynchronousAnimationOngoing(this.scope))&&(this.currentFrame<0?this.changed|=this.renderDefaultScene(this.scope,e):this.intro?(this.changed=!0,this.endDefaultScene(this.scope,e)&&(this.intro=!1,this.reinit(!0))):this.changed|=this.renderScene(this.scope,this.question,this.frames,this.currentFrame,this.progress,this.speed,this.reasons[this.currentFrame],e)),this.changed&&(this.renderer.render(this.container),this.changed=!1)),this.onAfterRender&&this.onAfterRender(),this.lastRenderTime=t,this.destroyed||requestAnimationFrame(this.animate.bind(this)),this.asyncRenderingTime-=e)}},{key:\"_initFrames\",value:function(t,e){this.instantiateModules(),this._frames=e.map((function(t){var e,n=t[0].split(\" \");try{e=JSON.parse(t.slice(1).join(\"\\n\"))}catch(t){e={}}return vn(vn({},e),{},{key:\"KEY_FRAME\"===n[0]})})),this.parseGlobalData(this._frames[0].global),this.playerCount=t,this.reasons=[],this.frames=[],this.currentFrame=0,this.currentFrameDuration=1e3,this.progress=1,(t=this._frames[0].frame).key=this._frames[0].key,this.frames.push(this.parseFrame(t,this.frames));for(var n=1;n<this._frames.length;++n)this.frames.push(this.parseFrame(this._frames[n],this.frames))}},{key:\"isTurnBasedGame\",value:function(){return!1}},{key:\"initFrames\",value:function(t,e){this.playerInfo&&this.playerInfo.forEach((function(t){t.avatar&&t.avatar.destroy(!0)}));var n=this,r=new PIXI.loaders.Loader(window.location.origin);function o(){n._initFrames(e.length,t),n.loading=!1,n.reinit(!1),i=!0}this.playerInfo=e.map((function(t,e){var o={name:t.name||\"Anonymous\",color:t.color?n.parseColor(t.color):\"#ffffff\",number:e,index:t.index,type:t.type,isMe:\"CODINGAMER\"===t.type&&t.typeData.me,avatar:null};return null!=t.avatar&&r.add(\"avatar\"+e,t.avatar,{loadType:2,crossOrigin:!0},(function(t){o.avatar=t.texture,PIXI.Texture.addToCache(t.texture,\"$\"+o.index)})),o}));var i=!(this.loading=!0);r.on(\"complete\",o),r.on(\"error\",(function(t){console.warn(t),i||o()})),r.load()}},{key:\"update\",value:function(e,n,r){0<=this.currentFrame&&(this.asyncRenderingTime=t.RenderTimeout,this.changed=!0,this.speed=r,this.currentFrame=e,this.progress=n,1<=this.loaded&&!this.intro&&this.updateScene(this.scope,this.question,this.frames,e,n,this.speed,this.reasons[this.currentFrame]))}},{key:\"parseColor\",value:function(t){if(Array.isArray(t)){for(var e=[],n=0;n<t.length;++n)e.push(this.parseColor(t[n]));return e}return parseInt(t.substring(1),16)}},{key:\"init\",value:function(e,n,r,o,i,a,c){var u,s=this;window.PIXI=t.PIXI||window.PIXI,this.oversampling=i||1,i=function(){0<=s.currentFrame&&(s.changed=!0)},this.canvas=$(e),this.canvas.off(\"mousemove\"),this.canvas.off(\"wheel\"),this.canvas.bind(\"wheel\",i),this.canvas.mousemove(i),o&&(this.colors=this.parseColor(o)),\"ide\"===c&&(this.debugModeSetByUser||(this.debugMode=!0),l.listen((function(t){return console.error(t.cause||t)}))),this.asyncRendering=!0,this.asyncRenderingTime=0,this.destroyed=!1,this.asynchronousStep=null;var f=this;if(this.initWidth=0|n,this.initHeight=0|r,this.endCallback=a||this.endCallback,this.alreadyLoaded)this.changed=!0,this.renderer.resize(this.initWidth,this.initHeight),this.reinit(!0);else{this.alreadyLoaded=!0,this.question=null,this.scope=null,this.currentFrame=-1,this.loaded=0,this.container=new PIXI.Container;var p=this.getResources();this.renderer=this.createRenderer(this.initWidth,this.initHeight,e),a=this.renderer,ae=a;var y,h=new PIXI.loaders.Loader(p.baseUrl);for(u in p.images)h.add(u,p.images[u],{crossOrigin:!0});for(y=0;y<p.sprites.length;++y)h.add(p.sprites[y],{crossOrigin:!0});for(y=0;y<p.fonts.length;++y)h.add(p.fonts[y],{crossOrigin:!0});for(u in p.spines)h.add(u,p.spines[u],{crossOrigin:!0});for(y=0;y<p.others.length;++y)h.add(p.others[y],{crossOrigin:!0});this.demo&&this.demo.agents.forEach((function(t){h.add(\"avatar\"+t.index,t.avatar,{loadType:2,crossOrigin:!0},(function(e){t.avatarTexture=e.texture,PIXI.Texture.addToCache(e.texture,\"$\"+t.index)}))})),f.scope={},e=function(t,e){requestAnimationFrame(f.animate.bind(f)),f.initPreload(f.scope,f.container,f.loaded=0,f.initWidth,f.initHeight)},h.on(\"start\",e),h.on(\"progress\",(function(t,e){t.progress<100&&f.preload(f.scope,f.container,f.loaded=t.progress/100,f.initWidth,f.initHeight,e)})),a=function(){for(var t in p.images)p.images.hasOwnProperty(t)&&h.resources[t].texture&&PIXI.Texture.addToCache(h.resources[t].texture,t);for(t in p.spines)p.spines.hasOwnProperty(t)&&(PIXI.AnimCache[t]=PIXI.AnimCache[p.baseUrl+p.spines[t]]);f.loaded=1,f.reinit(!0),f.changed=!0},h.on(\"complete\",a),h.on(\"error\",(function(t){console.warn(t)})),Object.keys(h.resources).length?h.load():(e(),a())}}},{key:\"createRenderer\",value:function(t,e,n){return PIXI.autoDetectRenderer(t,e,{view:n,clearBeforeRender:!0,preserveDrawingBuffer:!1})}},{key:\"isReady\",value:function(){return 1<=this.loaded}}])&&On(e.prototype,n),o&&On(e,o),t}()}]).Drawer;",
      "levelParams": {
        "0": {
          "testCases": [
            {
              "title": {
                "1": "Example Game",
                "2": "Example Game"
              },
              "isTest": true,
              "testIn": "10913",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "Easy Game",
                "2": "Easy Game"
              },
              "isTest": true,
              "testIn": "11987",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "Intermediate Game",
                "2": "Intermediate Game"
              },
              "isTest": true,
              "testIn": "31416",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "Random (Validator) Game",
                "2": "Random (Validator) Game"
              },
              "isTest": true,
              "testIn": "random",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "Hard Game",
                "2": "Hard Game"
              },
              "isTest": true,
              "testIn": "1941",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "Impossible Game",
                "2": "Impossible Game"
              },
              "isTest": true,
              "testIn": "11982",
              "testOut": "",
              "difficulty": 1,
              "isValidator": false
            },
            {
              "title": {
                "1": "Random game A",
                "2": "Random game A"
              },
              "isTest": false,
              "testIn": "random",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Random game B",
                "2": "Random game B"
              },
              "isTest": false,
              "testIn": "random",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            },
            {
              "title": {
                "1": "Random game C",
                "2": "Random game C"
              },
              "isTest": false,
              "testIn": "random",
              "testOut": "",
              "difficulty": 1,
              "isValidator": true
            }
          ],
          "maxPlayers": 1,
          "minPlayers": 1,
          "statements": {
            "1": "<!--suppress SpellCheckingInspection -->\n<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n\n  <!-- STORY -->\n  <div class=\"statement-story-background\">\n    <div class=\"statement-story-cover\" style=\"background-size: cover; background-image: url(https://cdn-games.codingame.com/community/154906-1603583324682/04e99f9cb772142f3d4f18b561547da487143a16a5a5ad8808c297fd98663dcb.jpeg);\">\n      <div class=\"statement-story\" style=\"max-width: 36em; margin-left: auto; margin-right: auto\">\n        <h1>Royale-les-Eaux, 1953</h1>\n        <div class=\"story-text\" style=\"hyphens: auto\">\n          <p style=\"margin-bottom: 0.25ex\">‚ÄúSo you're back in one piece‚Äù, observed Le Chiffre patronisingly.  ‚ÄúYou are not equipped, my dear boy, to play baccarat with the grown-ups, and it is very foolish of‚Äî‚Äù</p>\n          <p style=\"text-indent: 2em; margin-bottom: 0.25ex\">‚ÄúI thought the game was Texas Hold'em‚Äù, interrupted 007.</p>\n          <p style=\"text-indent: 2em; margin-bottom: 0.25ex\">‚ÄúThe capitalist Multi-Player?  How delightfully naive‚Äù, goaded Le Chiffre.  ‚ÄúJust exactly where do you think you are, my dear boy?  No, tonight you play FreeCell, or the bitch dies.‚Äù</p>\n          <p style=\"text-indent: 2em; margin-bottom: 0.25ex\">‚ÄúFreeCell?  That doesn't make any sense!  The game doesn't even exist yet!‚Äù</p>\n          <p style=\"text-indent: 2em\">‚ÄúYou can expect nothing else from playing Solo games.  The contribution moderators wanted a story, so here's yours.  I only work here, ok?  Now play and win, or else‚Ä¶  –°–º–µ—Ä—Ç—å —à–ø–∏–æ–Ω—É!‚Äù</p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\" style=\"padding-top: 30px\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>FreeCell</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      The aim of this patience game is to move an entire 52-card standard deck from the cascades to the foundations.\n    </div>\n  </div>\n\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        The playing area is divided in three zones:\n        <ul>\n          <li>the cascades: 8 columns of zero or more cards\n          <li>the foundations: 4 stacks of zero or more cards, one stack per suit, ordered from aces upwards\n          <li>the cells: 4 slots of zero or one card\n        </ul>\n        <p> \n          Game actions consist exclusively of moving a card from a place to another.  Each zone has specific constraints as to what cards can move from and to it.\n        </p>\n        <p>\n          <strong>The cascades.</strong>  Only the bottommost card of a cascade is available for moving.  Moving it <em>away</em> is never restricted. To move a card <em>to</em> a cascade, either the cascade must be empty, or the added card must be ranked <em>one beneath</em> the cascade's bottommost card, and of <em>opposite color</em>.\n        </p>\n        <p>\n          <strong>The foundations.</strong>  Cards there are stacked, with only the topmost one being visible.  Moving a card <em>away</em> from a foundation is never possible.  To move a card <em>to</em> a foundation, it must be ranked one above the current topmost card, and of matching suit.  If a foundation is empty, an ace may be placed there.\n        </p>\n        <p>\n          <strong>The cells.</strong>  Only a single card may be in a cell at any given time.  There is no other restriction as to which card may move in and out of it.\n        </p>\n        <br>\n        <p>\n          The game features <strong>autoplay</strong>: available cards that are candidates for foundations will automatically be played there after every move.\n        </p>\n      </div>\n    </div>\n    <div class=\"statement-victory-conditions\">\n      <div class=\"icon victory\">&nbsp;</div>\n      <div class=\"blk\">\n        <div class=\"title\">Victory Condition</div>\n        <div class=\"text\">All cards are in the foundations.</div>\n      </div>\n    </div>\n    <div class=\"statement-lose-conditions\">\n      <div class=\"icon victory\">&nbsp;</div>\n      <div class=\"blk\">\n        <div class=\"title\">Defeat Condition</div>\n        <div class=\"text\">You have no possible move left.</div>\n      </div>\n    </div>\n  </div>\n\n  <!-- NOOB RULES -->\n  <div class=\"statement-section statement-hint\">\n    <h1>\n      <span class=\"icon icon-hint\">&nbsp;</span>\n      <span>Noob Rules</span>\n    </h1>\n    <div class=\"statement-hint-content\">\n      <p>\n        A <strong>card</strong> is a piece of two-sided <a href=\"https://en.wikipedia.org/wiki/ISO_216\">B8</a> laminated paper.  A group of cards is called a <strong>deck</strong>.  One side of the card is called the <strong>front</strong> and displays the card's attributes, that are pairwise distinct within a deck.  (The other side is called the <em>back</em> and shows a motif intended for decoration that is shared by all cards in the deck; but it is not involved in this game.)  A card has two <em>attributes</em>.  The first attribute is the card's <strong>suit</strong>: a symbol among ‚ô£&nbsp;‚Äúclubs‚Äù ‚ô¶&nbsp;‚Äúdiamonds‚Äù ‚ô•&nbsp;‚Äúhearts‚Äù and ‚ô†&nbsp;‚Äúspades‚Äù.  Spaces and clubs have the <strong style=\"color: black; background-color: white\"><!-- bg = light theme's -->color black ‚ô†‚ô£</strong>.  Hearts and diamonds have the <strong style=\"color: red; background-color: #252e38\"><!-- bg = dark theme's -->color red ‚ô•‚ô¶</strong>.  The second attribute is the card's <strong>rank</strong>: an integer between <const>1</const> and <const>13</const>.  Ranks 1 to 10 display their attributes as <strong>pips</strong>: their suit's symbol, one for each of their rank's index, laid out symetrically.  Ranks 11 to 13 display as a <strong>face</strong>, one for each rank√ósuit combination.  Rank 1 is abbreviated as an ‚ÄúA‚Äù for ‚Äúace‚Äù; ranks 11 to 13 as ‚ÄúJ‚Äù, ‚ÄúQ‚Äù, ‚ÄúK‚Äù for ‚Äújack‚Äù, ‚Äúqueen‚Äù, ‚Äúking‚Äù respectively.<!-- In case you're wondering or proposing a patch, the wall-of-text effect is on purpose.  Hah!  Like anyone would contribute something in this world‚Ä¶‚Ä¶ -->\n      </p>\n      <p>\n        The standard deck thus comprises 4&nbsp;suits&nbsp;√ó 13&nbsp;ranks =&nbsp;52&nbsp;cards.\n    </div>\n  </div>\n\n  <!-- EXPERT RULES -->\n  <div class=\"statement-section statement-expertrules\">\n    <h1>\n      <span class=\"icon icon-expertrules\">&nbsp;</span>\n      <span>Expert Rules</span>\n    </h1>\n    <div class=\"statement-expert-rules-content\">\n      <p>\n        A sequence of stacked, descending-rank, alternating-color cards is called a <em>tableau</em>.  Tableaux form organically at the bottom of cascades throughout normal game course.  If enough free cells and/or empty cascades are available, you may move a tableau as a unit, by making use of free space as temporary storage.  This is known as a <strong>supermove</strong>.  The game will automatically recognize them as moves and use them when appropriate.\n      </p>\n    </div>\n  </div>\n\n  <!-- EXAMPLES -->\n  <div class=\"statement-section statement-examples\">\n    <h1>\n      <span class=\"icon icon-example\">&nbsp;</span>\n      <span>Example</span>\n    </h1>\n\n    <div class=\"statement-examples-text\">\n      You may solve the first test case with the following move sequence: 26, 76, 72, 72, 5a, 27, 57, 67, 1b, 61,\n41, 4h, 4h, 41, 45, 34, 3c, 6d, 5b.\n    </div>\n  </div>\n\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Protocol</span>\n    </h1>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"text\">\n        This is a turn-based game.  At each turn you must read the provided input, and provide your move on the standard output.\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">Line 1:</span>\n        <var>foundationCountPlusOne</var>, the number of foundations with more than zero cards plus one\n        <br>\n        <span class=\"statement-lineno\">Line 2:</span>\n        8 space-separated integers <var>cascadeCountPlusOne<sub>i</sub></var>: the number of cards per cascade plus one\n        <br>\n        <span class=\"statement-lineno\">Line 3:</span>\n        <q><const>Foundations:</const></q>, then <var>foundationCountPlusOne</var>-<const>1</const> words representing the foundations' levels.\n        <br>\n        <span class=\"statement-lineno\">Line 4:</span>\n        the cells' contents, a sole dash <const>-</const> for empty cells\n        <br>\n        <span class=\"statement-lineno\">Lines 5 to 12:</span>\n        a colon <q><const>:</const></q>, then <var>cascadeCountPlusOne<sub>i</sub></var>-<const>1</const>space-separated integers representing the cascades' contents, one line per cascade; cards reported deepest to topmost (<i>i.e.</i>, downwards as displayed in the game viewer)\n        <br>\n        <span class=\"statement-lineno\">Line 13:</span>\n        <var>M</var>, the number of possible moves\n        <br>\n        <span class=\"statement-lineno\">Line 14:</span>\n        <var>M</var> space-separated words: the possible moves\n        <br>\n      </div>\n      <br>\n      <div class=\"text\">\n        Cards in cells or cascades are represented as a two-character word: one among <const>A23456789TJQK</const> for the card's rank, one among <const>CDHS</const> for the card's suit.<br>\n        The foundations' levels are represented as 3-character words: one character to represent the suit; one sole dash character <const>-</const>; one character to represent the rank of the highest card in that foundation.\n      </div>\n      <br>\n      <div class=\"text\">\n        If you're stuck, lines 3 to 12 are valid input to <a href=\"https://fc-solve.shlomifish.org/\"><tt>fc-solve</tt></a>.\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">A single line</span> containing one or more space-separated moves in <a href=\"https://freecellgamesolutions.com/notation.html\">standard notation</a>: each move is a two-character word, with:\n        <ul>\n          <li>digits <const>1</const> through <const>8</const> representing the cascades\n          <li>letters <const>a</const> through <const>d</const> representing the cells\n          <li>letter <const>h</const> (for home) representing the foundations\n        </ul>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\">\n        Try to win before reaching the turn or time limit.\n      </div>\n    </div>\n  </div>\n\n  <!-- LINKS -->\n  <div class=\"statement-section statement-download\" style=\"padding-top: 30px\">\n    <h1>\n      <span class=\"icon icon-download statement-icon_statement_download\">&nbsp;</span>\n      <span>Credits and meta</span>\n    </h1>\n\n    <div class=\"statement-download-text\">\n      <ul>\n        <li><a href=\"\">Making of the backend</a>\n        <li><a href=\"\">Making of the visuals</a>\n        <li>The playing cards are derived from <a href=\"https://commons.wikimedia.org/w/index.php?title=File:English_pattern_playing_cards_deck.svg&oldid=509578585\">the SVG set by Dmitry Fomin on WikiMedia Commons</a>, CC0 1.0.\n        <li>The cover story background is derived from <a href=\"https://flic.kr/p/dBYKxw\">Simon Tunbridge's photograph</a>, CC BY-NC-SA 2.0.\n      </ul>\n    </div>\n  </div>\n\n</div>\n",
            "2": "<!--suppress SpellCheckingInspection -->\n<div id=\"statement_back\" class=\"statement_back\" style=\"display:none\"></div>\n<div class=\"statement-body\">\n\n  <!-- STORY -->\n  <div class=\"statement-story-background\">\n    <div class=\"statement-story-cover\" style=\"background-size: cover; background-image: url(https://cdn-games.codingame.com/community/154906-1603583324682/04e99f9cb772142f3d4f18b561547da487143a16a5a5ad8808c297fd98663dcb.jpeg);\">\n      <div class=\"statement-story\" style=\"max-width: 36em; margin-left: auto; margin-right: auto\">\n        <h1>Royale-les-Eaux, 1953</h1>\n        <div class=\"story-text\" style=\"hyphens: auto\">\n          <p style=\"margin-bottom: 0.25ex\">‚ÄúSo you're back in one piece‚Äù, observed Le Chiffre patronisingly.  ‚ÄúYou are not equipped, my dear boy, to play baccarat with the grown-ups, and it is very foolish of‚Äî‚Äù</p>\n          <p style=\"text-indent: 2em; margin-bottom: 0.25ex\">‚ÄúI thought the game was Texas Hold'em‚Äù, interrupted 007.</p>\n          <p style=\"text-indent: 2em; margin-bottom: 0.25ex\">‚ÄúThe capitalist Multi-Player?  How delightfully naive‚Äù, goaded Le Chiffre.  ‚ÄúJust exactly where do you think you are, my dear boy?  No, tonight you play FreeCell, or the bitch dies.‚Äù</p>\n          <p style=\"text-indent: 2em; margin-bottom: 0.25ex\">‚ÄúFreeCell?  That doesn't make any sense!  The game doesn't even exist yet!‚Äù</p>\n          <p style=\"text-indent: 2em\">‚ÄúYou can expect nothing else from playing Solo games.  The contribution moderators wanted a story, so here's yours.  I only work here, ok?  Now play and win, or else‚Ä¶  –°–º–µ—Ä—Ç—å —à–ø–∏–æ–Ω—É!‚Äù</p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- GOAL -->\n  <div class=\"statement-section statement-goal\" style=\"padding-top: 30px\">\n    <h1>\n      <span class=\"icon icon-goal\">&nbsp;</span>\n      <span>FreeCell</span>\n    </h1>\n    <div class=\"statement-goal-content\">\n      The aim of this patience game is to move an entire 52-card standard deck from the cascades to the foundations.\n    </div>\n  </div>\n\n  <!-- RULES -->\n  <div class=\"statement-section statement-rules\">\n    <h1>\n      <span class=\"icon icon-rules\">&nbsp;</span>\n      <span>Rules</span>\n    </h1>\n    <div>\n      <div class=\"statement-rules-content\">\n        The playing area is divided in three zones:\n        <ul>\n          <li>the cascades: 8 columns of zero or more cards\n          <li>the foundations: 4 stacks of zero or more cards, one stack per suit, ordered from aces upwards\n          <li>the cells: 4 slots of zero or one card\n        </ul>\n        <p> \n          Game actions consist exclusively of moving a card from a place to another.  Each zone has specific constraints as to what cards can move from and to it.\n        </p>\n        <p>\n          <strong>The cascades.</strong>  Only the bottommost card of a cascade is available for moving.  Moving it <em>away</em> is never restricted. To move a card <em>to</em> a cascade, either the cascade must be empty, or the added card must be ranked <em>one beneath</em> the cascade's bottommost card, and of <em>opposite color</em>.\n        </p>\n        <p>\n          <strong>The foundations.</strong>  Cards there are stacked, with only the topmost one being visible.  Moving a card <em>away</em> from a foundation is never possible.  To move a card <em>to</em> a foundation, it must be ranked one above the current topmost card, and of matching suit.  If a foundation is empty, an ace may be placed there.\n        </p>\n        <p>\n          <strong>The cells.</strong>  Only a single card may be in a cell at any given time.  There is no other restriction as to which card may move in and out of it.\n        </p>\n        <br>\n        <p>\n          The game features <strong>autoplay</strong>: available cards that are candidates for foundations will automatically be played there after every move.\n        </p>\n      </div>\n    </div>\n    <div class=\"statement-victory-conditions\">\n      <div class=\"icon victory\">&nbsp;</div>\n      <div class=\"blk\">\n        <div class=\"title\">Victory Condition</div>\n        <div class=\"text\">All cards are in the foundations.</div>\n      </div>\n    </div>\n    <div class=\"statement-lose-conditions\">\n      <div class=\"icon victory\">&nbsp;</div>\n      <div class=\"blk\">\n        <div class=\"title\">Defeat Condition</div>\n        <div class=\"text\">You have no possible move left.</div>\n      </div>\n    </div>\n  </div>\n\n  <!-- NOOB RULES -->\n  <div class=\"statement-section statement-hint\">\n    <h1>\n      <span class=\"icon icon-hint\">&nbsp;</span>\n      <span>Noob Rules</span>\n    </h1>\n    <div class=\"statement-hint-content\">\n      <p>\n        A <strong>card</strong> is a piece of two-sided <a href=\"https://en.wikipedia.org/wiki/ISO_216\">B8</a> laminated paper.  A group of cards is called a <strong>deck</strong>.  One side of the card is called the <strong>front</strong> and displays the card's attributes, that are pairwise distinct within a deck.  (The other side is called the <em>back</em> and shows a motif intended for decoration that is shared by all cards in the deck; but it is not involved in this game.)  A card has two <em>attributes</em>.  The first attribute is the card's <strong>suit</strong>: a symbol among ‚ô£&nbsp;‚Äúclubs‚Äù ‚ô¶&nbsp;‚Äúdiamonds‚Äù ‚ô•&nbsp;‚Äúhearts‚Äù and ‚ô†&nbsp;‚Äúspades‚Äù.  Spaces and clubs have the <strong style=\"color: black; background-color: white\"><!-- bg = light theme's -->color black ‚ô†‚ô£</strong>.  Hearts and diamonds have the <strong style=\"color: red; background-color: #252e38\"><!-- bg = dark theme's -->color red ‚ô•‚ô¶</strong>.  The second attribute is the card's <strong>rank</strong>: an integer between <const>1</const> and <const>13</const>.  Ranks 1 to 10 display their attributes as <strong>pips</strong>: their suit's symbol, one for each of their rank's index, laid out symetrically.  Ranks 11 to 13 display as a <strong>face</strong>, one for each rank√ósuit combination.  Rank 1 is abbreviated as an ‚ÄúA‚Äù for ‚Äúace‚Äù; ranks 11 to 13 as ‚ÄúJ‚Äù, ‚ÄúQ‚Äù, ‚ÄúK‚Äù for ‚Äújack‚Äù, ‚Äúqueen‚Äù, ‚Äúking‚Äù respectively.<!-- In case you're wondering or proposing a patch, the wall-of-text effect is on purpose.  Hah!  Like anyone would contribute something in this world‚Ä¶‚Ä¶ -->\n      </p>\n      <p>\n        The standard deck thus comprises 4&nbsp;suits&nbsp;√ó 13&nbsp;ranks =&nbsp;52&nbsp;cards.\n    </div>\n  </div>\n\n  <!-- EXPERT RULES -->\n  <div class=\"statement-section statement-expertrules\">\n    <h1>\n      <span class=\"icon icon-expertrules\">&nbsp;</span>\n      <span>Expert Rules</span>\n    </h1>\n    <div class=\"statement-expert-rules-content\">\n      <p>\n        A sequence of stacked, descending-rank, alternating-color cards is called a <em>tableau</em>.  Tableaux form organically at the bottom of cascades throughout normal game course.  If enough free cells and/or empty cascades are available, you may move a tableau as a unit, by making use of free space as temporary storage.  This is known as a <strong>supermove</strong>.  The game will automatically recognize them as moves and use them when appropriate.\n      </p>\n    </div>\n  </div>\n\n  <!-- EXAMPLES -->\n  <div class=\"statement-section statement-examples\">\n    <h1>\n      <span class=\"icon icon-example\">&nbsp;</span>\n      <span>Example</span>\n    </h1>\n\n    <div class=\"statement-examples-text\">\n      You may solve the first test case with the following move sequence: 26, 76, 72, 72, 5a, 27, 57, 67, 1b, 61,\n41, 4h, 4h, 41, 45, 34, 3c, 6d, 5b.\n    </div>\n  </div>\n\n  <!-- PROTOCOL -->\n  <div class=\"statement-section statement-protocol\">\n    <h1>\n      <span class=\"icon icon-protocol\">&nbsp;</span>\n      <span>Game Protocol</span>\n    </h1>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"text\">\n        This is a turn-based game.  At each turn you must read the provided input, and provide your move on the standard output.\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">Line 1:</span>\n        <var>foundationCountPlusOne</var>, the number of foundations with more than zero cards plus one\n        <br>\n        <span class=\"statement-lineno\">Line 2:</span>\n        8 space-separated integers <var>cascadeCountPlusOne<sub>i</sub></var>: the number of cards per cascade plus one\n        <br>\n        <span class=\"statement-lineno\">Line 3:</span>\n        <q><const>Foundations:</const></q>, then <var>foundationCountPlusOne</var>-<const>1</const> words representing the foundations' levels.\n        <br>\n        <span class=\"statement-lineno\">Line 4:</span>\n        the cells' contents, a sole dash <const>-</const> for empty cells\n        <br>\n        <span class=\"statement-lineno\">Lines 5 to 12:</span>\n        a colon <q><const>:</const></q>, then <var>cascadeCountPlusOne<sub>i</sub></var>-<const>1</const>space-separated integers representing the cascades' contents, one line per cascade; cards reported deepest to topmost (<i>i.e.</i>, downwards as displayed in the game viewer)\n        <br>\n        <span class=\"statement-lineno\">Line 13:</span>\n        <var>M</var>, the number of possible moves\n        <br>\n        <span class=\"statement-lineno\">Line 14:</span>\n        <var>M</var> space-separated words: the possible moves\n        <br>\n      </div>\n      <br>\n      <div class=\"text\">\n        Cards in cells or cascades are represented as a two-character word: one among <const>A23456789TJQK</const> for the card's rank, one among <const>CDHS</const> for the card's suit.<br>\n        The foundations' levels are represented as 3-character words: one character to represent the suit; one sole dash character <const>-</const>; one character to represent the rank of the highest card in that foundation.\n      </div>\n      <br>\n      <div class=\"text\">\n        If you're stuck, lines 3 to 12 are valid input to <a href=\"https://fc-solve.shlomifish.org/\"><tt>fc-solve</tt></a>.\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"text\">\n        <span class=\"statement-lineno\">A single line</span> containing one or more space-separated moves in <a href=\"https://freecellgamesolutions.com/notation.html\">standard notation</a>: each move is a two-character word, with:\n        <ul>\n          <li>digits <const>1</const> through <const>8</const> representing the cascades\n          <li>letters <const>a</const> through <const>d</const> representing the cells\n          <li>letter <const>h</const> (for home) representing the foundations\n        </ul>\n      </div>\n    </div>\n\n    <!-- Protocol block -->\n    <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"text\">\n        Try to win before reaching the turn or time limit.\n      </div>\n    </div>\n  </div>\n\n  <!-- LINKS -->\n  <div class=\"statement-section statement-download\" style=\"padding-top: 30px\">\n    <h1>\n      <span class=\"icon icon-download statement-icon_statement_download\">&nbsp;</span>\n      <span>Credits and meta</span>\n    </h1>\n\n    <div class=\"statement-download-text\">\n      <ul>\n        <li><a href=\"\">Making of the backend</a>\n        <li><a href=\"\">Making of the visuals</a>\n        <li>The playing cards are derived from <a href=\"https://commons.wikimedia.org/w/index.php?title=File:English_pattern_playing_cards_deck.svg&oldid=509578585\">the SVG set by Dmitry Fomin on WikiMedia Commons</a>, CC0 1.0.\n        <li>The cover story background is derived from <a href=\"https://flic.kr/p/dBYKxw\">Simon Tunbridge's photograph</a>, CC BY-NC-SA 2.0.\n      </ul>\n    </div>\n  </div>\n\n</div>\n"
          },
          "questionType": "solo",
          "stubGenerator": "gameloop\nread foundationCountPlusOne:int\nread cascade1CountPlusOne:int cascade2CountPlusOne:int cascade3CountPlusOne:int cascade4CountPlusOne:int cascade5CountPlusOne:int cascade6CountPlusOne:int cascade7CountPlusOne:int cascade8CountPlusOne:int\nloopline foundationCountPlusOne f:word(12)\nread cHeader:word(10) ca:word(2) cb:word(2) cc:word(2) cd:word(2)\nloopline cascade1CountPlusOne cascade1:word(2)\nloopline cascade2CountPlusOne cascade2:word(2)\nloopline cascade3CountPlusOne cascade3:word(2)\nloopline cascade4CountPlusOne cascade4:word(2)\nloopline cascade5CountPlusOne cascade5:word(2)\nloopline cascade6CountPlusOne cascade6:word(2)\nloopline cascade7CountPlusOne cascade7:word(2)\nloopline cascade8CountPlusOne cascade8:word(2)\nread moveCount:int\nloopline moveCount moves:word(2)\nwrite 26 76 72 72 5a 27 57 67 1b 61 41 4h 4h 41 45 34 3c 6d 5b\n\nINPUT\nfc: number of foundations with cards\nc1: number of cards in cascade 1\nc2: number of cards in cascade 2\nc3: number of cards in cascade 3\nc4: number of cards in cascade 4\nc5: number of cards in cascade 5\nc6: number of cards in cascade 6\nc7: number of cards in cascade 7\nc8: number of cards in cascade 8\nf: suit, dash, rank of highest card in foundation; the first item is just the string \"Foundations:\"\ncHeader: the string \"Freecells:\"\nca: card in cell a\ncb: card in cell b\ncc: card in cell c\ncd: card in cell d\ncascade1: a card in cascade 1; the first item is just a colon \":\"\ncascade2: a card in cascade 2; the first item is just a colon \":\"\ncascade3: a card in cascade 3; the first item is just a colon \":\"\ncascade4: a card in cascade 4; the first item is just a colon \":\"\ncascade5: a card in cascade 5; the first item is just a colon \":\"\ncascade6: a card in cascade 6; the first item is just a colon \":\"\ncascade7: a card in cascade 7; the first item is just a colon \":\"\ncascade8: a card in cascade 8; the first item is just a colon \":\"\nmoveCount: number of possible moves\nmove: a possible move\n\nOUTPUT\nWrite one or more moves in standard notation, in a singe line.",
          "welcomePopups": {},
          "criteriaLanguageMap": {}
        }
      },
      "coverBinaryId": 52433309291168,
      "directoryPrefix": "community/154906-1603583324682",
      "allowSourceDownload": true,
      "originalArchiveBinaryId": 59043486638381
    },
    "draft": false,
    "readyForModeration": true
  },
  "validatedFor": 160782651095,
  "commentCount": 43,
  "upVotes": 47,
  "downVotes": 2,
  "validateAction": {
    "actionId": 522763,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "REFUSED",
      "date": 1607353537000,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1607359558812,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "ACCEPTED",
      "date": 1609948107875,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}