{
  "id": 23709,
  "activeVersion": 10,
  "score": 4,
  "votableId": 24432450,
  "codingamerId": 4709820,
  "views": 213,
  "commentableId": 24314893,
  "title": "Ulam Spiral",
  "status": "ACCEPTED",
  "type": "PUZZLE_INOUT",
  "nickname": "Globostofo",
  "publicHandle": "2370925f327dfea5dafc4db1b3021311530e4",
  "codingamerHandle": "bc2793560be8c98445b375339d60e1480289074",
  "lastVersion": {
    "version": 10,
    "autocloseTime": 1660420872252,
    "data": {
      "title": "Ulam Spiral",
      "topics": [
        {
          "id": 128,
          "handle": "ascii-art",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Ascii Art",
            "2": "Ascii Art"
          },
          "puzzleCount": 25,
          "parentTopicId": 93
        },
        {
          "id": 94,
          "handle": "mathematics",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Mathematics",
            "2": "Mathematics"
          },
          "puzzleCount": 41,
          "parentTopicId": 93
        },
        {
          "id": 143,
          "handle": "primes",
          "category": "INTERMEDIATE",
          "labelMap": {
            "1": "Primes",
            "2": "Primes"
          },
          "puzzleCount": 5,
          "parentTopicId": 93
        }
      ],
      "solution": "from math import sqrt\n\ndef sieve_of_eratosthenes(N):\n    ### Return the list of all prime numbers <= n\n    numbers = list(range(2, N+1))       # all numbers from 2 to n\n    \n    for i in range(int(sqrt(N-1))):     # for each number from 2 to sqrt(n)\n        if numbers[i] == 0: continue        # don't sieve its multiples if it's already sieved\n        \n        j = i + numbers[i]\n        while j < N-1:                      # sieve all its multiples\n            numbers[j] = 0\n            j += numbers[i]\n    \n    # remove all 0 from the list\n    return list(filter(lambda v: v!=0, numbers))\n\ndef grid_creation(N):\n    ### Return a 2D list containing N*N values from 1 to n arranged in a spiral (N must be odd)\n    grid = []\n    for i in range(N): grid.append([None]*N)    # Initialize grid with size N*N\n    row, col = N//2, N//2       # Starting position in the middle\n    count = 1                   # Starting value\n    lap_count = 1\n    \n    grid[row][col] = count\n    col += 1\n    count += 1\n    \n    while lap_count <= N//2:\n        # fill right side of the lap\n        for i in range(2*lap_count):\n            grid[row][col] = count\n            count += 1\n            row -= 1\n        # move to next side\n        row += 1\n        col -= 1\n        \n        # fill up side of the lap\n        for i in range(2*lap_count):\n            grid[row][col] = count\n            count += 1\n            col -= 1\n        # move to next side\n        row += 1\n        col += 1\n        \n        # fill left side of the lap\n        for i in range(2*lap_count):\n            grid[row][col] = count\n            count += 1\n            row += 1\n        # move to next side\n        row -= 1\n        col += 1\n        \n        # fill down side of the lap\n        for i in range(2*lap_count):\n            grid[row][col] = count\n            count += 1\n            col += 1\n        \n        lap_count += 1\n    \n    return grid\n\ndef ulam_spiral(N):\n    # Return the ulam spiral N*N with '#' for prime numbers (N must be odd)\n    grid = grid_creation(N)\n    primes = sieve_of_eratosthenes(N*N)\n    for row in range(N):\n        for col in range(N):\n            if grid[row][col] in primes:\n                grid[row][col] = '#'\n            else:\n                grid[row][col] = ' '\n    return grid\n\nfor row in ulam_spiral(int(input())):\n    print(*row)",
      "statement": "The <<Ulam spiral>> or prime spiral is a graphical depiction of the set of prime numbers. It is constructed by writing the positive integers in a <<square spiral>> and specially marking the <<prime numbers>>.\n\nYou have to draw an Ascii representation of a Ulam spiral of size [[N]]×[[N]].\nUse {{'#'}} for prime numbers.\nUse {{' '}} for others.\n\n<<Example with [[N]] = 3 :>>\nThere are positions for the 3×3 Ulam spiral\n`5 4 3\n6 1 2\n7 8 9`\nStart at the center and turn counterclockwise\n\nThen replace prime numbers with {{'#'}} and the others with {{' '}} :\n`#   #\n    #\n#    `",
      "testCases": [
        {
          "title": "N=3",
          "isTest": true,
          "testIn": "3",
          "testOut": "#   #\n    #\n#    ",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "N=5",
          "isTest": false,
          "testIn": "5",
          "testOut": "#       #\n  #   #  \n#     # #\n  #      \n    #    ",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "N=9",
          "isTest": true,
          "testIn": "9",
          "testOut": "        #   #    \n  #           #  \n#   #       #    \n      #   #   #  \n    #     # #   #\n  #   #          \n#       #        \n  #       #      \n#           #    ",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "N=11",
          "isTest": false,
          "testIn": "11",
          "testOut": "#       #            \n          #   #      \n#   #           #   #\n  #   #       #      \n        #   #   #    \n      #     # #   #  \n#   #   #            \n  #       #          \n#   #       #       #\n  #           #      \n    #                ",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "N=15",
          "isTest": true,
          "testIn": "15",
          "testOut": "#       #   #                \n              #   #          \n#   #       #               #\n              #   #       #  \n    #   #           #   #   #\n  #   #   #       #          \n            #   #   #        \n  #       #     # #   #   #  \n    #   #   #                \n      #       #              \n    #   #       #       #   #\n      #           #          \n        #                    \n  #           #       #      \n#                       #    ",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "N=17",
          "isTest": false,
          "testIn": "17",
          "testOut": "#           #                   #\n  #       #   #                  \n                #   #           #\n  #   #       #               #  \n                #   #       #    \n      #   #           #   #   #  \n#   #   #   #       #            \n              #   #   #          \n    #       #     # #   #   #   #\n      #   #   #                  \n        #       #                \n      #   #       #       #   #  \n#       #           #           #\n          #                      \n#   #           #       #       #\n  #                       #      \n        #       #   #            ",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "N=21",
          "isTest": true,
          "testIn": "21",
          "testOut": "#       #               #           #    \n                  #       #   #       #  \n    #           #                   #   #\n      #       #   #                      \n                    #   #           #    \n      #   #       #               #      \n                    #   #       #        \n  #       #   #           #   #   #      \n#   #   #   #   #       #               #\n                  #   #   #              \n        #       #     # #   #   #   #    \n          #   #   #                      \n            #       #                    \n  #       #   #       #       #   #      \n    #       #           #           #   #\n              #                       #  \n    #   #           #       #       #    \n      #                       #          \n#           #       #   #                \n          #   #       #           #      \n#                   #   #           #    ",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "N=19",
          "isTest": false,
          "testIn": "19",
          "testOut": "                #       #   #       #\n  #           #                   #  \n    #       #   #                    \n                  #   #           #  \n    #   #       #               #    \n                  #   #       #      \n#       #   #           #   #   #    \n  #   #   #   #       #              \n                #   #   #            \n      #       #     # #   #   #   #  \n        #   #   #                    \n          #       #                  \n#       #   #       #       #   #    \n  #       #           #           #  \n            #                       #\n  #   #           #       #       #  \n    #                       #        \n          #       #   #              \n        #   #       #           #    ",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "easy",
      "constraints": "[[N]] is odd\n1 ≤ [[N]] ≤ 21",
      "coverBinaryId": 86619229606085,
      "stubGenerator": "read N:int\nloop N write ROW",
      "inputDescription": "<<Line 1:>> An integer [[N]] for the size of the spiral",
      "solutionLanguage": "Python3",
      "outputDescription": "<<N lines:>> Space separated characters of a line from the Ascii representation of the spiral (don't delete trailing {{' '}})"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">The <strong>Ulam spiral</strong> or prime spiral is a graphical depiction of the set of prime numbers. It is constructed by writing the positive integers in a <strong>square spiral</strong> and specially marking the <strong>prime numbers</strong>.<br><br>You have to draw an Ascii representation of a Ulam spiral of size <var>N</var>&times;<var>N</var>.<br>Use <const>'#'</const> for prime numbers.<br>Use <const>' '</const> for others.<br><br><strong>Example with <var>N</var> = 3 :</strong><br>There are positions for the 3&times;3 Ulam spiral<br><pre style=\"font-family: monospace\">5 4 3<br>6 1 2<br>7 8 9</pre><br>Start at the center and turn counterclockwise<br><br>Then replace prime numbers with <const>'#'</const> and the others with <const>' '</const> :<br><pre style=\"font-family: monospace\">#   #<br>    #<br>#    </pre></span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>Line 1:</strong> An integer <var>N</var> for the size of the spiral</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>N lines:</strong> Space separated characters of a line from the Ascii representation of the spiral (don't delete trailing <const>' '</const>)</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\"><var>N</var> is odd<br>1 &le; <var>N</var> &le; 21</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">3</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">#   #\n    #\n#    </pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 110732125422,
  "avatar": 85817160600607,
  "commentCount": 11,
  "upVotes": 7,
  "downVotes": 3,
  "validateAction": {
    "actionId": 687961,
    "progress": 1,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1659997659126,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}