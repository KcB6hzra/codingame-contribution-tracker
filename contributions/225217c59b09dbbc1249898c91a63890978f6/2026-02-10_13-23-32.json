{
  "id": 22521,
  "activeVersion": 42,
  "score": 2,
  "votableId": 24276941,
  "codingamerId": 4493066,
  "views": 241,
  "commentableId": 24160011,
  "title": "Eliotrope portal route, simplified",
  "status": "ACCEPTED",
  "type": "CLASHOFCODE",
  "nickname": "Polynomu",
  "publicHandle": "225217c59b09dbbc1249898c91a63890978f6",
  "codingamerHandle": "4dda5faff594e24630209e9266b2b8d26603944",
  "lastVersion": {
    "version": 42,
    "autocloseTime": 1658942423806,
    "data": {
      "title": "Eliotrope portal route, simplified",
      "topics": [],
      "fastest": true,
      "reverse": false,
      "shortest": true,
      "solution": "n,p=input().split()\nA=[input()for i in\".\"*int(n)]\nC=set()\nfor i in range(b:=int(n)):\n for j in range(b):A[i][j]in\"1234\"and(C:=C|{(i,j,A[i][j])});A[i][j]==p and(r:=[(i,j,p)])\ndef f(R,c,o,h=lambda a,b,c,d:abs(a-b)+abs(c-d)):\n    if len(R)==len(c):return([e[-1]for e in R],o)\n    Y,X,_=R[-1]\n    l=[*(c-{*R})]\n    T=min(l,key=lambda e:h(X,e[1],Y,e[0]))\n    a,b,_=T;return(f(R+[T],c,o+h(b,X,a,Y)))\na,b=f(r,C,0)\nprint(*a)\nprint(\"%G\"%(1.25+b*0.02))\n\n",
      "statement": "In the game Dofus exists a character who can create portals.\n\n-----------------------------------------------------------------<<Context>>---------------------------------------------------------------------\n\nPortals are arranged in a map called the {{arena}}. When a spell is cast on a {{portal}}, it follows a specific route that starts from that {{portal}} and then goes through every {{portal}} in the {{Arena}} once (eventually, the spell comes out of the last portal in the route.).\n\nThe damage of the spell is multiplied by a {{damage multiplier}} depending upon the length of the followed route.\n\n-----------------------------------------------------------------<<Rules>>------------------------------------------------------------------------\n\n* The route starts from a given {{portal}}.\n* If the current {{portal}} is [[O]] and there are remaining portals in the arena, then the next {{portal}} will be the closest one to [[O]], according to <<Manhattan distance>>. There will never be two portals that are equally close.\n\n* The formula for the damage multiplier is: <<1.25+{{total distance of the route}}*0.02>>\n\n-----------------------------------------------------------------<<Task>>--------------------------------------------------------------------------\n\nGiven the number of the {{portal}} on which you cast a spell, you need to determine the resulting {{route}}, and to compute the resulting {{damage multiplier}} when casting a spell on that {{portal}}.\n\nThe distance used will always be <<manhattan distance>>.\nThe {{arena}} will be a <<square matrix>>, empty cells will be represented by a dot ( {{.}} ) , and {{portals}} will be represented by digits from {{1}} to {{4}} included.\nThe {{route}} will be a list of {{portal numbers}}.\nThe {{damage multiplier}} will be a number with two decimals.",
      "testCases": [
        {
          "title": "Test 1",
          "isTest": true,
          "testIn": "8 2\n...2....\n....3...\n........\n........\n........\n........\n...1....\n........",
          "testOut": "2 3 1\n1.41",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 1",
          "isTest": false,
          "testIn": "8 1\n..1.....\n....2...\n........\n........\n........\n........\n....3...\n........",
          "testOut": "1 2 3\n1.41",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 2",
          "isTest": true,
          "testIn": "5 2\n.....\n..2..\n.....\n.1...\n.....",
          "testOut": "2 1\n1.31",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 2",
          "isTest": false,
          "testIn": "5 1\n.....\n..1..\n.....\n.2...\n.....",
          "testOut": "1 2\n1.31",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 3",
          "isTest": true,
          "testIn": "8 1\n.1......\n....3...\n........\n.......4\n....2...\n........\n........\n........",
          "testOut": "1 3 2 4\n1.47",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 3",
          "isTest": false,
          "testIn": "8 2\n.2......\n....3...\n........\n.......1\n....4...\n........\n........\n........",
          "testOut": "2 3 4 1\n1.47",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Test 4",
          "isTest": true,
          "testIn": "5 2\n1...3\n.....\n.....\n....4\n2....",
          "testOut": "2 1 3 4\n1.47",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Validator 4",
          "isTest": false,
          "testIn": "6 3\n2....4\n......\n......\n.....1\n3.....\n......",
          "testOut": "3 2 4 1\n1.49",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "constraints": "1<=[[n]]<=10\n1<=[[p]]<=4",
      "stubGenerator": "read n:int p:int\nloop n read l:string(n)\nwrite answer",
      "inputDescription": "<<line 1:>> size of the square arena [[n]] and the number of the starting portal [[p]]  separated by a space\n<<next [[n]] lines:>> the rows of the arena",
      "solutionLanguage": "Python3",
      "outputDescription": "<<line 1:>> the numbers of the portals that the spell will travel through, in order, separated by spaces\n<<line 2:>> the resulting damage multiplier with two decimals"
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">In the game Dofus exists a character who can create portals.<br><br>-----------------------------------------------------------------<strong>Context</strong>---------------------------------------------------------------------<br><br>Portals are arranged in a map called the <const>arena</const>. When a spell is cast on a <const>portal</const>, it follows a specific route that starts from that <const>portal</const> and then goes through every <const>portal</const> in the <const>Arena</const> once (eventually, the spell comes out of the last portal in the route.).<br><br>The damage of the spell is multiplied by a <const>damage multiplier</const> depending upon the length of the followed route.<br><br>-----------------------------------------------------------------<strong>Rules</strong>------------------------------------------------------------------------<br><br>* The route starts from a given <const>portal</const>.<br>* If the current <const>portal</const> is <var>O</var> and there are remaining portals in the arena, then the next <const>portal</const> will be the closest one to <var>O</var>, according to <strong>Manhattan distance</strong>. There will never be two portals that are equally close.<br><br>* The formula for the damage multiplier is: <strong>1.25+<const>total distance of the route</const>*0.02</strong><br><br>-----------------------------------------------------------------<strong>Task</strong>--------------------------------------------------------------------------<br><br>Given the number of the <const>portal</const> on which you cast a spell, you need to determine the resulting <const>route</const>, and to compute the resulting <const>damage multiplier</const> when casting a spell on that <const>portal</const>.<br><br>The distance used will always be <strong>manhattan distance</strong>.<br>The <const>arena</const> will be a <strong>square matrix</strong>, empty cells will be represented by a dot ( <const>.</const> ) , and <const>portals</const> will be represented by digits from <const>1</const> to <const>4</const> included.<br>The <const>route</const> will be a list of <const>portal numbers</const>.<br>The <const>damage multiplier</const> will be a number with two decimals.</span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>line 1:</strong> size of the square arena <var>n</var> and the number of the starting portal <var>p</var>  separated by a space<br><strong>next <var>n</var> lines:</strong> the rows of the arena</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>line 1:</strong> the numbers of the portals that the spell will travel through, in order, separated by spaces<br><strong>line 2:</strong> the resulting damage multiplier with two decimals</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">1&lt;=<var>n</var>&lt;=10<br>1&lt;=<var>p</var>&lt;=4</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">8 2\n...2....\n....3...\n........\n........\n........\n........\n...1....\n........</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">2 3 1\n1.41</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "validatedFor": 112159245607,
  "avatar": 70180141804893,
  "commentCount": 21,
  "upVotes": 8,
  "downVotes": 6,
  "validateAction": {
    "actionId": 683567,
    "progress": 1,
    "alreadyDone": false
  },
  "denyAction": {
    "actionId": 683498,
    "progress": 0.3333333333333333,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "ACCEPTED",
      "date": 1658570565233,
      "data": {
        "author": "ACTION"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}