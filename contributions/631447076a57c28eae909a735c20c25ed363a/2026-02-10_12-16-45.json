{
  "id": 63144,
  "activeVersion": 19,
  "score": 10,
  "votableId": 30123973,
  "codingamerId": 3589590,
  "views": 210,
  "commentableId": 29988264,
  "title": "Laughter is contagious",
  "status": "PENDING",
  "type": "PUZZLE_INOUT",
  "nickname": "Edjy",
  "publicHandle": "631447076a57c28eae909a735c20c25ed363a",
  "codingamerHandle": "674fbda5df945919eb37269de9e598e10959853",
  "lastVersion": {
    "version": 19,
    "autocloseTime": 1771246329967,
    "data": {
      "title": "Laughter is contagious",
      "topics": [
        {
          "id": 46,
          "handle": "loops",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Boucles",
            "2": "Loops"
          },
          "pageTitle": "Loops: exercises and theory",
          "puzzleCount": 99,
          "parentTopicId": 39,
          "contentDetailsId": 71
        },
        {
          "id": 112,
          "handle": "string-manipulation",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "String manipulation",
            "2": "String manipulation"
          },
          "puzzleCount": 54,
          "parentTopicId": 93
        },
        {
          "id": 47,
          "handle": "arrays",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Tableaux",
            "2": "Arrays"
          },
          "pageTitle": "Arrays: exercises and theory",
          "puzzleCount": 37,
          "parentTopicId": 40,
          "contentDetailsId": 78
        },
        {
          "id": 45,
          "handle": "conditions",
          "category": "FUNDAMENTALS",
          "labelMap": {
            "1": "Conditions",
            "2": "Conditions"
          },
          "pageTitle": "Conditions: exercises and theory",
          "puzzleCount": 65,
          "parentTopicId": 39,
          "contentDetailsId": 68
        }
      ],
      "solution": "row_string = input()\nn = len(row_string)//2\nrow = [row_string[2*i:2*i+2]for i in range(n)]\n\n# STEP 1\nrow_step1 = []\nfor i in range(n):\n    p = row[i]\n    if p.upper() in row:\n        row_step1.append(p.upper())\n    else:\n        row_step1.append(p)\n\n# STEP 2\nrow_step2 = []\nfor i in range(n):\n    p = row_step1[i]\n\n    if p.isupper() or p.islower(): # already laughing or sullen\n        row_step2.append(p)\n\n    else:\n        between_sullen = 1<=i<=n-2 and row_step1[i-1].islower() and row_step1[i+1].islower()\n        laughing_within_3seats = [(abs(i-j), row_step1[j]) for j in range(max(0, i-3), min(n, i+4)) if row_step1[j].isupper()]\n        \n        if between_sullen or not laughing_within_3seats:\n            row_step2.append(p)\n            \n        else:\n            dist_closest = min(laughing_within_3seats)[0]\n            closest_laughing = [x[1] for x in laughing_within_3seats if x[0]==dist_closest]\n            if len(closest_laughing)==2:\n                row_step2.append(closest_laughing[0][1]+closest_laughing[1][0])\n            else:\n                row_step2.append(closest_laughing[0])\n\n\nprint(''.join(row_step2))",
      "statement": "In a theatre, some people are laughing. Because laughter is contagious, their neighbours might start laughing too. You are given a string representing the row, your goal is to output the row, after laughter spreading.\nEach pair of letters represents a person: if both letters are uppercase, the person is laughing out loud. If only the first one is uppercase, the person might start laughing, and if both are lowercase, the person is sullen and unlikely to laugh.\nA person laughing out loud will remain so.\n\nStep 1: For every person, <<if anyone laughing out loud in the row has the same laugh>> (i.e. same pair of letters, case insensitive), they'll start laughing out loud.\nStep 2: Then, simultaneously, everybody else (if they're not laughing or sullen) will start laughing as the <<closest laughing person>>, if there are any within 3 seats and their neighbours are not both sullen (if they have two).\n\nDetailed example:\n`HA no Ye Ss no HO Ma Yy Be Us no tl ol HA or Me no ha Hi`\n(spaces were added to help understanding)\n\nStep 1: ha will start laughing, because \"HA people\" are in the row, even if he is sullen.\n`HA no Ye Ss no HO Ma Yy Be Us no tl ol HA or Me no HA Hi`\n\nStep 2:\nYe will <<start laughing as HA>> (closest laughing person, distance 2 seats).\nSs will <<start laughing as HO>> (closest laughing person, distance 2 seats).\nMa, Yy and Be will <<start laughing as HO>> (closest laughing person, respectively distance 1, 2 and 3 seats).\nUs will <<not laugh>>, since nobody is laughing within 3 seats.\nMe will <<not laugh>>, because both of his neighbours are sullen.\nHi will <<start laughing as HA>> (closest laughing person, distance 1 seat).\nNobody else will start laughing, because they're sullen.\n\nThe output would be:\n`HA no HA HO no HO HO HO HO Us no tl ol HA or Me no HA HA`\n(spaces were added to help understanding).\n\n\nIf a person starts laughing and is exactly at the same distance from two people laughing out loud, like `Ef` in the following example, he will take one letter from each of them (\"closest letter\" from each of them).\n`AB Cd Ef gh IJ`\nwill become\n`AB AB BI gh IJ`",
      "testCases": [
        {
          "title": "Everybody laughing",
          "isTest": true,
          "testIn": "HOHOHiHaYoLaHE",
          "testOut": "HOHOHOHOHEHEHE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Everybody laughing",
          "isTest": false,
          "testIn": "HiHUPaPaHO",
          "testOut": "HUHUHUHOHO",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Too far",
          "isTest": true,
          "testIn": "MeHUnononoHaHaHanoHu",
          "testOut": "HUHUnononoHaHUHUnoHU",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Too far",
          "isTest": false,
          "testIn": "loREMipsumDoLoRsItRe",
          "testOut": "loREREpsumDoRERERERE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Example",
          "isTest": true,
          "testIn": "HAnoYeSsnoHOMaYyBeUsnotlolHAorMenohaHi",
          "testOut": "HAnoHAHOnoHOHOHOHOUsnotlolHAorMenoHAHA",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Close to example",
          "isTest": false,
          "testIn": "HihanoMeorHAnotlolMaYyBeUsHOnoYeSsnoHA",
          "testOut": "HAHAnoMeorHAnotlolMaHOHOHOHOnoHOHAnoHA",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Very funny",
          "isTest": true,
          "testIn": "HAHAHoHaRRMeOO",
          "testOut": "HAHAAHHARRROOO",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Very funny",
          "isTest": false,
          "testIn": "LOReMiPsUMDoLORsItAMEt",
          "testOut": "LOLOOUUMUMMLLOLOAMAMAM",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Not funny",
          "isTest": true,
          "testIn": "itsnotfunnyatall",
          "testOut": "itsnotfunnyatall",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Not funny",
          "isTest": false,
          "testIn": "thisisnotfunny",
          "testOut": "thisisnotfunny",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Lonely",
          "isTest": true,
          "testIn": "idonotthinkitsfunnydoyouYEslolYeno",
          "testOut": "idonotthinkitsfunnydoyouYEslolYEno",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Lonely",
          "isTest": false,
          "testIn": "wedontunderstandthejokesLOLFUNno",
          "testOut": "wedontUNderstandthejokesLOLFUNno",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Solidarity",
          "isTest": true,
          "testIn": "HAOOHaEEooEEoeOe",
          "testOut": "HAOOHAEEOOEEoeEE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Solidarity",
          "isTest": false,
          "testIn": "LOreMiPSumHAUMmiRe",
          "testOut": "LOrePSPSUMHAUMmiUM",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Big show",
          "isTest": true,
          "testIn": "DaCEAcAdEBCBAeEdEcDACDddCcBEAdBbDccaBCBC",
          "testOut": "DACECEEBEBCBCBBDDADACDddBEBEBEBEBCcaBCBC",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Big show",
          "isTest": false,
          "testIn": "CBECacDcBAbaECabAeBceadcecbbCDBCcbBDCECc",
          "testOut": "CBECacBABABAECabBCBCeadcECbbCDBCCBBDCECE",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Very big show",
          "isTest": true,
          "testIn": "aeIEUOauHoHeUaIoEEieueHhieOUiaOIHEEoEIIHihUHHUIoIIEoHuHuHeoiIEIEhaOeiaAHEIEHUhOouuEhAiAhohOiHhAHIeOh",
          "testOut": "aeIEUOauHEHEHEEEEEIEueIEIEOUiaOIHEEEEIIHIHUHHUUIIIIHHUHUHEOIIEIEhaOeiaAHEIEHUHUHuuEHHAAHohOIIAAHIEIE",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Very big show",
          "isTest": false,
          "testIn": "AuEHAUEoHoEohuueHeoiHOEOUHoiihIouhEAHHhhUHhuIeHAOOIEhiHHEhHoEHEOHaEhuoIHOHOhAieuiuAiIHOaIEhhEHiuiiiu",
          "testOut": "AUEHAUEOHOEOhuueHeoiHOEOUHoiIHHUUHEAHHHHUHhuIEHAOOIEhiHHEHHOEHEOHAEHuoIHOHOHOHeuiuIHIHHIIEHHEHiuiiiu",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "One Man Show",
          "isTest": true,
          "testIn": "Me",
          "testOut": "Me",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "One Man Show",
          "isTest": false,
          "testIn": "Je",
          "testOut": "Je",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Duo",
          "isTest": true,
          "testIn": "DuME",
          "testOut": "MEME",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Duo",
          "isTest": false,
          "testIn": "VIMi",
          "testOut": "VIVI",
          "isValidator": true,
          "needValidation": true
        },
        {
          "title": "Trio",
          "isTest": true,
          "testIn": "OnetWO",
          "testOut": "WOetWO",
          "isValidator": false,
          "needValidation": true
        },
        {
          "title": "Trio",
          "isTest": false,
          "testIn": "TWooNe",
          "testOut": "TWooTW",
          "isValidator": true,
          "needValidation": true
        }
      ],
      "difficulty": "easy",
      "constraints": "2 ≤ length of [[row]] ≤ 100\nlength of [[row]] is even.\nEach pair of letters follows one of the following case patterns: AB, Ab, ab.",
      "coverBinaryId": 107544828870969,
      "stubGenerator": "read row:string(100)\nwrite row",
      "inputDescription": "<<1 Line :>> a string [[row]] describing a row of seats (1 seat = 2 letters)",
      "solutionLanguage": "Python3",
      "outputDescription": "<<1 Line :>> a string describing the row after the laughter contagion."
    },
    "draft": false,
    "readyForModeration": true,
    "statementHTML": "<div class=\"statement-body\">\n<div class=\"statement-section statement-goal\">\n   <h2><span class=\"icon icon-goal\">&nbsp;</span><span>Goal </span></h2>\n   <span class=\"question-statement\">In a theatre, some people are laughing. Because laughter is contagious, their neighbours might start laughing too. You are given a string representing the row, your goal is to output the row, after laughter spreading.<br>Each pair of letters represents a person: if both letters are uppercase, the person is laughing out loud. If only the first one is uppercase, the person might start laughing, and if both are lowercase, the person is sullen and unlikely to laugh.<br>A person laughing out loud will remain so.<br><br>Step 1: For every person, <strong>if anyone laughing out loud in the row has the same laugh</strong> (i.e. same pair of letters, case insensitive), they'll start laughing out loud.<br>Step 2: Then, simultaneously, everybody else (if they're not laughing or sullen) will start laughing as the <strong>closest laughing person</strong>, if there are any within 3 seats and their neighbours are not both sullen (if they have two).<br><br>Detailed example:<br><pre style=\"font-family: monospace\">HA no Ye Ss no HO Ma Yy Be Us no tl ol HA or Me no ha Hi</pre><br>(spaces were added to help understanding)<br><br>Step 1: ha will start laughing, because &quot;HA people&quot; are in the row, even if he is sullen.<br><pre style=\"font-family: monospace\">HA no Ye Ss no HO Ma Yy Be Us no tl ol HA or Me no HA Hi</pre><br><br>Step 2:<br>Ye will <strong>start laughing as HA</strong> (closest laughing person, distance 2 seats).<br>Ss will <strong>start laughing as HO</strong> (closest laughing person, distance 2 seats).<br>Ma, Yy and Be will <strong>start laughing as HO</strong> (closest laughing person, respectively distance 1, 2 and 3 seats).<br>Us will <strong>not laugh</strong>, since nobody is laughing within 3 seats.<br>Me will <strong>not laugh</strong>, because both of his neighbours are sullen.<br>Hi will <strong>start laughing as HA</strong> (closest laughing person, distance 1 seat).<br>Nobody else will start laughing, because they're sullen.<br><br>The output would be:<br><pre style=\"font-family: monospace\">HA no HA HO no HO HO HO HO Us no tl ol HA or Me no HA HA</pre><br>(spaces were added to help understanding).<br><br><br>If a person starts laughing and is exactly at the same distance from two people laughing out loud, like <pre style=\"font-family: monospace\">Ef</pre> in the following example, he will take one letter from each of them (&quot;closest letter&quot; from each of them).<br><pre style=\"font-family: monospace\">AB Cd Ef gh IJ</pre><br>will become<br><pre style=\"font-family: monospace\">AB AB BI gh IJ</pre></span>\n</div>\n<div class=\"statement-section statement-protocol\">\n   <div class=\"blk\">\n      <div class=\"title\">Input</div>\n      <div class=\"question-statement-input\"><strong>1 Line :</strong> a string <var>row</var> describing a row of seats (1 seat = 2 letters)</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Output</div>\n      <div class=\"question-statement-output\"><strong>1 Line :</strong> a string describing the row after the laughter contagion.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Constraints</div>\n      <div class=\"question-statement-constraints\">2 &le; length of <var>row</var> &le; 100<br>length of <var>row</var> is even.<br>Each pair of letters follows one of the following case patterns: AB, Ab, ab.</div>\n   </div>\n   <div class=\"blk\">\n      <div class=\"title\">Example</div>\n      <div class=\"statement-inout\">\n         <div class=\"statement-inout-in\">\n            <div class=\"title\">Input</div>\n            <pre class=\"question-statement-example-in\">HOHOHiHaYoLaHE</pre>\n         </div>\n         <div class=\"statement-inout-out\">\n            <div class=\"title\">Output</div>\n            <pre class=\"question-statement-example-out\">HOHOHOHOHEHEHE</pre>\n         </div>\n      </div>\n   </div>\n</div>"
  },
  "avatar": 43965748895173,
  "commentCount": 12,
  "upVotes": 11,
  "downVotes": 1,
  "validateAction": {
    "actionId": 1357254,
    "progress": 0.3333333333333333,
    "alreadyDone": false
  },
  "statusHistory": [
    {
      "status": "REFUSED",
      "date": 1690819537000,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1744882663985,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    },
    {
      "status": "REFUSED",
      "date": 1747476337001,
      "data": {
        "author": "SYSTEM",
        "reason": "INACTIVITY"
      }
    },
    {
      "status": "PENDING",
      "date": 1768654329967,
      "data": {
        "author": "ACTION",
        "reason": "EDIT"
      }
    }
  ],
  "editable": true,
  "draft": false,
  "readyForModeration": true
}